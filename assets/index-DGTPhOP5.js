function VU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ls(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d1={exports:{}},ch={};var kC;function BU(){if(kC)return ch;kC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return ch.Fragment=e,ch.jsx=n,ch.jsxs=n,ch}var NC;function UU(){return NC||(NC=1,d1.exports=BU()),d1.exports}var g=UU(),f1={exports:{}},Je={};var CC;function FU(){if(CC)return Je;CC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function k(q,K,Q){this.props=q,this.context=K,this.refs=_,this.updater=Q||S}k.prototype.isReactComponent={},k.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=k.prototype;function I(q,K,Q){this.props=q,this.context=K,this.refs=_,this.updater=Q||S}var D=I.prototype=new P;D.constructor=I,E(D,k.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function U(){}var z={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(q,K,Q){var oe=Q.ref;return{$$typeof:t,type:q,key:K,ref:oe!==void 0?oe:null,props:Q}}function V(q,K){return R(q.type,K,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Q){return K[Q]})}var B=/\/+/g;function xe(q,K){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):K.toString(36)}function Ae(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,K,Q,oe,de){var ge=typeof q;(ge==="undefined"||ge==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case t:case e:we=!0;break;case p:return we=q._init,Y(we(q._payload),K,Q,oe,de)}}if(we)return de=de(q),we=oe===""?"."+xe(q,0):oe,O(de)?(Q="",we!=null&&(Q=we.replace(B,"$&/")+"/"),Y(de,K,Q,"",function(pe){return pe})):de!=null&&(L(de)&&(de=V(de,Q+(de.key==null||q&&q.key===de.key?"":(""+de.key).replace(B,"$&/")+"/")+we)),K.push(de)),1;we=0;var Ne=oe===""?".":oe+":";if(O(q))for(var H=0;H<q.length;H++)oe=q[H],ge=Ne+xe(oe,H),we+=Y(oe,K,Q,ge,de);else if(H=x(q),typeof H=="function")for(q=H.call(q),H=0;!(oe=q.next()).done;)oe=oe.value,ge=Ne+xe(oe,H++),we+=Y(oe,K,Q,ge,de);else if(ge==="object"){if(typeof q.then=="function")return Y(Ae(q),K,Q,oe,de);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(q,K,Q){if(q==null)return q;var oe=[],de=0;return Y(q,oe,"","",function(ge){return K.call(Q,ge,de++)}),oe}function ie(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(Q){(q._status===0||q._status===-1)&&(q._status=1,q._result=Q)},function(Q){(q._status===0||q._status===-1)&&(q._status=2,q._result=Q)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var ye=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ke={map:re,forEach:function(q,K,Q){re(q,function(){K.apply(this,arguments)},Q)},count:function(q){var K=0;return re(q,function(){K++}),K},toArray:function(q){return re(q,function(K){return K})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Je.Activity=m,Je.Children=ke,Je.Component=k,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=I,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Je.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},Je.cache=function(q){return function(){return q.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(q,K,Q){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var oe=E({},q.props),de=q.key;if(K!=null)for(ge in K.key!==void 0&&(de=""+K.key),K)!C.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(oe[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)oe.children=Q;else if(1<ge){for(var we=Array(ge),Ne=0;Ne<ge;Ne++)we[Ne]=arguments[Ne+2];oe.children=we}return R(q.type,de,oe)},Je.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Je.createElement=function(q,K,Q){var oe,de={},ge=null;if(K!=null)for(oe in K.key!==void 0&&(ge=""+K.key),K)C.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=K[oe]);var we=arguments.length-2;if(we===1)de.children=Q;else if(1<we){for(var Ne=Array(we),H=0;H<we;H++)Ne[H]=arguments[H+2];de.children=Ne}if(q&&q.defaultProps)for(oe in we=q.defaultProps,we)de[oe]===void 0&&(de[oe]=we[oe]);return R(q,ge,de)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(q){return{$$typeof:c,render:q}},Je.isValidElement=L,Je.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:ie}},Je.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},Je.startTransition=function(q){var K=z.T,Q={};z.T=Q;try{var oe=q(),de=z.S;de!==null&&de(Q,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(U,ye)}catch(ge){ye(ge)}finally{K!==null&&Q.types!==null&&(K.types=Q.types),z.T=K}},Je.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Je.use=function(q){return z.H.use(q)},Je.useActionState=function(q,K,Q){return z.H.useActionState(q,K,Q)},Je.useCallback=function(q,K){return z.H.useCallback(q,K)},Je.useContext=function(q){return z.H.useContext(q)},Je.useDebugValue=function(){},Je.useDeferredValue=function(q,K){return z.H.useDeferredValue(q,K)},Je.useEffect=function(q,K){return z.H.useEffect(q,K)},Je.useEffectEvent=function(q){return z.H.useEffectEvent(q)},Je.useId=function(){return z.H.useId()},Je.useImperativeHandle=function(q,K,Q){return z.H.useImperativeHandle(q,K,Q)},Je.useInsertionEffect=function(q,K){return z.H.useInsertionEffect(q,K)},Je.useLayoutEffect=function(q,K){return z.H.useLayoutEffect(q,K)},Je.useMemo=function(q,K){return z.H.useMemo(q,K)},Je.useOptimistic=function(q,K){return z.H.useOptimistic(q,K)},Je.useReducer=function(q,K,Q){return z.H.useReducer(q,K,Q)},Je.useRef=function(q){return z.H.useRef(q)},Je.useState=function(q){return z.H.useState(q)},Je.useSyncExternalStore=function(q,K,Q){return z.H.useSyncExternalStore(q,K,Q)},Je.useTransition=function(){return z.H.useTransition()},Je.version="19.2.3",Je}var IC;function Dd(){return IC||(IC=1,f1.exports=FU()),f1.exports}var T=Dd();const Te=ls(T),qU=VU({__proto__:null,default:Te},[T]);var h1={exports:{}},uh={},m1={exports:{}},p1={};var jC;function $U(){return jC||(jC=1,(function(t){function e(Y,re){var ie=Y.length;Y.push(re);e:for(;0<ie;){var ye=ie-1>>>1,ke=Y[ye];if(0<i(ke,re))Y[ye]=re,Y[ie]=ke,ie=ye;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],ie=Y.pop();if(ie!==re){Y[0]=ie;e:for(var ye=0,ke=Y.length,q=ke>>>1;ye<q;){var K=2*(ye+1)-1,Q=Y[K],oe=K+1,de=Y[oe];if(0>i(Q,ie))oe<ke&&0>i(de,Q)?(Y[ye]=de,Y[oe]=ie,ye=oe):(Y[ye]=Q,Y[K]=ie,ye=K);else if(oe<ke&&0>i(de,ie))Y[ye]=de,Y[oe]=ie,ye=oe;else break e}}return re}function i(Y,re){var ie=Y.sortIndex-re.sortIndex;return ie!==0?ie:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,b=3,x=!1,S=!1,E=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=Y)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function O(Y){if(E=!1,D(Y),!S)if(n(d)!==null)S=!0,U||(U=!0,$());else{var re=n(f);re!==null&&Ae(O,re.startTime-Y)}}var U=!1,z=-1,C=5,R=-1;function V(){return _?!0:!(t.unstable_now()-R<C)}function L(){if(_=!1,U){var Y=t.unstable_now();R=Y;var re=!0;try{e:{S=!1,E&&(E=!1,P(z),z=-1),x=!0;var ie=b;try{t:{for(D(Y),m=n(d);m!==null&&!(m.expirationTime>Y&&V());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,b=m.priorityLevel;var ke=ye(m.expirationTime<=Y);if(Y=t.unstable_now(),typeof ke=="function"){m.callback=ke,D(Y),re=!0;break t}m===n(d)&&r(d),D(Y)}else r(d);m=n(d)}if(m!==null)re=!0;else{var q=n(f);q!==null&&Ae(O,q.startTime-Y),re=!1}}break e}finally{m=null,b=ie,x=!1}re=void 0}}finally{re?$():U=!1}}}var $;if(typeof I=="function")$=function(){I(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,xe=B.port2;B.port1.onmessage=L,$=function(){xe.postMessage(null)}}else $=function(){k(L,0)};function Ae(Y,re){z=k(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ie=b;b=re;try{return Y()}finally{b=ie}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=b;b=Y;try{return re()}finally{b=ie}},t.unstable_scheduleCallback=function(Y,re,ie){var ye=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ie+ke,Y={id:p++,callback:re,priorityLevel:Y,startTime:ie,expirationTime:ke,sortIndex:-1},ie>ye?(Y.sortIndex=ie,e(f,Y),n(d)===null&&Y===n(f)&&(E?(P(z),z=-1):E=!0,Ae(O,ie-ye))):(Y.sortIndex=ke,e(d,Y),S||x||(S=!0,U||(U=!0,$()))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var re=b;return function(){var ie=b;b=re;try{return Y.apply(this,arguments)}finally{b=ie}}}})(p1)),p1}var OC;function HU(){return OC||(OC=1,m1.exports=$U()),m1.exports}var g1={exports:{}},yr={};var zC;function GU(){if(zC)return yr;zC=1;var t=Dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},yr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},yr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},yr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},yr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},yr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},yr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},yr.requestFormReset=function(d){r.d.r(d)},yr.unstable_batchedUpdates=function(d,f){return d(f)},yr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},yr.useFormStatus=function(){return l.H.useHostTransitionStatus()},yr.version="19.2.3",yr}var PC;function UM(){if(PC)return g1.exports;PC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g1.exports=GU(),g1.exports}var RC;function KU(){if(RC)return uh;RC=1;var t=HU(),e=Dd(),n=UM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return d(v),a;if(w===h)return d(v),o;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=w;else{for(var N=!1,M=v.child;M;){if(M===u){N=!0,u=v,h=w;break}if(M===h){N=!0,h=v,u=w;break}M=M.sibling}if(!N){for(M=w.child;M;){if(M===u){N=!0,u=w,h=v;break}if(M===h){N=!0,h=w,u=v;break}M=M.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function xe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case U:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case I:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return o=a.displayName||null,o!==null?o:xe(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return xe(a(o))}catch{}}return null}var Ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ye=[],ke=-1;function q(a){return{current:a}}function K(a){0>ke||(a.current=ye[ke],ye[ke]=null,ke--)}function Q(a,o){ke++,ye[ke]=a.current,a.current=o}var oe=q(null),de=q(null),ge=q(null),we=q(null);function Ne(a,o){switch(Q(ge,o),Q(de,a),Q(oe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?QN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=QN(o),a=XN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(oe),Q(oe,a)}function H(){K(oe),K(de),K(ge)}function pe(a){a.memoizedState!==null&&Q(we,a);var o=oe.current,u=XN(o,a.type);o!==u&&(Q(de,a),Q(oe,u))}function Ce(a){de.current===a&&(K(oe),K(de)),we.current===a&&(K(we),ah._currentValue=ie)}var X,Ve;function Oe(a){if(X===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);X=o&&o[1]||"",Ve=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+a+Ve}var We=!1;function Ze(a,o){if(!a||We)return"";We=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(le){var ae=le}Reflect.construct(a,[],he)}else{try{he.call()}catch(le){ae=le}a.call(he.prototype)}}else{try{throw Error()}catch(le){ae=le}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),N=w[0],M=w[1];if(N&&M){var G=N.split(`
`),ne=M.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===ne.length)for(h=G.length-1,v=ne.length-1;1<=h&&0<=v&&G[h]!==ne[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==ne[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==ne[v]){var ue=`
`+G[h].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=h&&0<=v);break}}}finally{We=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Oe(u):""}function it(a,o){switch(a.tag){case 26:case 27:case 5:return Oe(a.type);case 16:return Oe("Lazy");case 13:return a.child!==o&&o!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ze(a.type,!1);case 11:return Ze(a.type.render,!1);case 1:return Ze(a.type,!0);case 31:return Oe("Activity");default:return""}}function Et(a){try{var o="",u=null;do o+=it(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var lt=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,at=t.unstable_shouldYield,jn=t.unstable_requestPaint,on=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Pr=t.unstable_ImmediatePriority,Zi=t.unstable_UserBlockingPriority,Zr=t.unstable_NormalPriority,_e=t.unstable_LowPriority,_t=t.unstable_IdlePriority,Sr=t.log,Rr=t.unstable_setDisableYieldValue,Jn=null,nn=null;function Er(a){if(typeof Sr=="function"&&Rr(a),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Jn,a)}catch{}}var Wt=Math.clz32?Math.clz32:Jr,Kc=Math.log,Sa=Math.LN2;function Jr(a){return a>>>=0,a===0?32:31-(Kc(a)/Sa|0)|0}var Ti=256,cs=262144,rn=4194304;function ei(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ge(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,w=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~w,h!==0?v=ei(h):(N&=M,N!==0?v=ei(N):u||(u=M&~a,u!==0&&(v=ei(u))))):(M=h&~w,M!==0?v=ei(M):N!==0?v=ei(N):u||(u=h&~a,u!==0&&(v=ei(u)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:v}function St(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function bn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var a=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),a}function Tr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ht(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function gr(a,o,u,h,v,w){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,G=a.expirationTimes,ne=a.hiddenUpdates;for(u=N&~u;0<u;){var ue=31-Wt(u),he=1<<ue;M[ue]=0,G[ue]=-1;var ae=ne[ue];if(ae!==null)for(ne[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}u&=~he}h!==0&&Ai(a,h,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(N&~o))}function Ai(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Wt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function er(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Wt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function tr(a,o){var u=o&-o;return u=(u&42)!==0?1:Ea(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ea(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function nr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function df(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:xC(a.type))}function Ji(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var ea=Math.random().toString(36).slice(2),xn="__reactFiber$"+ea,Fn="__reactProps$"+ea,Ta="__reactContainer$"+ea,Yc="__reactEvents$"+ea,yb="__reactListeners$"+ea,up="__reactHandles$"+ea,dp="__reactResources$"+ea,Aa="__reactMarker$"+ea;function Wc(a){delete a[xn],delete a[Fn],delete a[Yc],delete a[yb],delete a[up]}function ka(a){var o=a[xn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Ta]||u[xn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=iC(a);a!==null;){if(u=a[xn])return u;a=iC(a)}return o}a=u,u=a.parentNode}return null}function ki(a){if(a=a[xn]||a[Ta]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ti(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Na(a){var o=a[dp];return o||(o=a[dp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wn(a){a[Aa]=!0}var ff=new Set,hf={};function Ca(a,o){Ia(a,o),Ia(a+"Capture",o)}function Ia(a,o){for(hf[a]=o,a=0;a<o.length;a++)ff.add(o[a])}var mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pf={},gf={};function fp(a){return lt.call(gf,a)?!0:lt.call(pf,a)?!1:mf.test(a)?gf[a]=!0:(pf[a]=!0,!1)}function Qc(a,o,u){if(fp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ni(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function _n(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function co(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,w.call(this,N)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Tt(a){if(!a._valueTracker){var o=co(a)?"checked":"value";a._valueTracker=yf(a,o,""+a[o])}}function Tl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=co(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function ja(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Al=/[\n"\\]/g;function Mr(a){return a.replace(Al,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xc(a,o,u,h,v,w,N,M){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+qn(o)):a.value!==""+qn(o)&&(a.value=""+qn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?vf(a,N,qn(o)):u!=null?vf(a,N,qn(u)):h!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+qn(M):a.removeAttribute("name")}function hp(a,o,u,h,v,w,N,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Tt(a);return}u=u!=null?""+qn(u):"",o=o!=null?""+qn(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Tt(a)}function vf(a,o,u){o==="number"&&ja(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function uo(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+qn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function mp(a,o,u){if(o!=null&&(o=""+qn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+qn(u):""}function fo(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ae(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=qn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),Tt(a)}function Dr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var pp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||pp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function xf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&bf(a,v,h)}else for(var w in o)o.hasOwnProperty(w)&&bf(a,w,o[w])}function Zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(a){return ho.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ta(){}var wf=null;function Ni(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mo=null,Oa=null;function kl(a){var o=ki(a);if(o&&(a=o.stateNode)){var u=a[Fn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Xc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Fn]||null;if(!v)throw Error(r(90));Xc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Tl(h)}break e;case"textarea":mp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&uo(a,!!u.multiple,o,!1)}}}var eu=!1;function po(a,o,u){if(eu)return a(o,u);eu=!0;try{var h=a(o);return h}finally{if(eu=!1,(mo!==null||Oa!==null)&&(cg(),mo&&(o=mo,a=Oa,Oa=mo=null,kl(o),a)))for(o=0;o<a.length;o++)kl(a[o])}}function na(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Fn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Ci)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Nl=!1}var za=null,_f=null,Cl=null;function Sf(){if(Cl)return Cl;var a,o=_f,u=o.length,h,v="value"in za?za.value:za.textContent,w=v.length;for(a=0;a<u&&o[a]===v[a];a++);var N=u-a;for(h=1;h<=N&&o[u-h]===v[w-h];h++);return Cl=v.slice(a,1<h?1-h:void 0)}function Il(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function us(){return!0}function ra(){return!1}function rr(a){function o(u,h,v,w,N){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?us:ra,this.isPropagationStopped=ra,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),o}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=rr(ds),go=m({},ds,{view:0,detail:0}),Ef=rr(go),yo,tu,Ra,nu=m({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ra&&(Ra&&a.type==="mousemove"?(yo=a.screenX-Ra.screenX,tu=a.screenY-Ra.screenY):tu=yo=0,Ra=a),yo)},movementY:function(a){return"movementY"in a?a.movementY:tu}}),Tf=rr(nu),jl=m({},nu,{dataTransfer:0}),yp=rr(jl),vp=m({},go,{relatedTarget:0}),Ol=rr(vp),Af=m({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=rr(Af),ru=m({},ds,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xp=rr(ru),wp=m({},ds,{data:0}),Ma=rr(wp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Ep[a])?!!o[a]:!1}function vo(){return Tp}var Ar=m({},go,{key:function(a){if(a.key){var o=_p[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Il(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Sp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(a){return a.type==="keypress"?Il(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Il(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ap=rr(Ar),kp=m({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=rr(kp),y=m({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),A=rr(y),j=m({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=rr(j),ee=m({},nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),se=rr(ee),Ee=m({},ds,{newState:0,oldState:0}),et=rr(Ee),fn=[9,13,27,32],xt=Ci&&"CompositionEvent"in window,Qt=null;Ci&&"documentMode"in document&&(Qt=document.documentMode);var Ii=Ci&&"TextEvent"in window&&!Qt,Da=Ci&&(!xt||Qt&&8<Qt&&11>=Qt),ia=" ",aa=!1;function zl(a,o){switch(a){case"keyup":return fn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var au=!1;function cB(a,o){switch(a){case"compositionend":return iu(o);case"keypress":return o.which!==32?null:(aa=!0,ia);case"textInput":return a=o.data,a===ia&&aa?null:a;default:return null}}function uB(a,o){if(au)return a==="compositionend"||!xt&&zl(a,o)?(a=Sf(),Cl=_f=za=null,au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Da&&o.locale!=="ko"?null:o.data;default:return null}}var dB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!dB[a.type]:o==="textarea"}function lA(a,o,u,h){mo?Oa?Oa.push(h):Oa=[h]:mo=h,o=gg(o,"onChange"),0<o.length&&(u=new Pa("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var kf=null,Nf=null;function fB(a){$N(a,0)}function Np(a){var o=ti(a);if(Tl(o))return a}function cA(a,o){if(a==="change")return o}var uA=!1;if(Ci){var vb;if(Ci){var bb="oninput"in document;if(!bb){var dA=document.createElement("div");dA.setAttribute("oninput","return;"),bb=typeof dA.oninput=="function"}vb=bb}else vb=!1;uA=vb&&(!document.documentMode||9<document.documentMode)}function fA(){kf&&(kf.detachEvent("onpropertychange",hA),Nf=kf=null)}function hA(a){if(a.propertyName==="value"&&Np(Nf)){var o=[];lA(o,Nf,a,Ni(a)),po(fB,o)}}function hB(a,o,u){a==="focusin"?(fA(),kf=o,Nf=u,kf.attachEvent("onpropertychange",hA)):a==="focusout"&&fA()}function mB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Np(Nf)}function pB(a,o){if(a==="click")return Np(o)}function gB(a,o){if(a==="input"||a==="change")return Np(o)}function yB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ri=typeof Object.is=="function"?Object.is:yB;function Cf(a,o){if(ri(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!lt.call(o,v)||!ri(a[v],o[v]))return!1}return!0}function mA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function pA(a,o){var u=mA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=mA(u)}}function gA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?gA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function yA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ja(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ja(a.document)}return o}function xb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var vB=Ci&&"documentMode"in document&&11>=document.documentMode,su=null,wb=null,If=null,_b=!1;function vA(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_b||su==null||su!==ja(h)||(h=su,"selectionStart"in h&&xb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),If&&Cf(If,h)||(If=h,h=gg(wb,"onSelect"),0<h.length&&(o=new Pa("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=su)))}function Pl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ou={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},Sb={},bA={};Ci&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function Rl(a){if(Sb[a])return Sb[a];if(!ou[a])return a;var o=ou[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in bA)return Sb[a]=o[u];return a}var xA=Rl("animationend"),wA=Rl("animationiteration"),_A=Rl("animationstart"),bB=Rl("transitionrun"),xB=Rl("transitionstart"),wB=Rl("transitioncancel"),SA=Rl("transitionend"),EA=new Map,Eb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eb.push("scrollEnd");function sa(a,o){EA.set(a,o),Ca(o,[a])}var Cp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ji=[],lu=0,Tb=0;function Ip(){for(var a=lu,o=Tb=lu=0;o<a;){var u=ji[o];ji[o++]=null;var h=ji[o];ji[o++]=null;var v=ji[o];ji[o++]=null;var w=ji[o];if(ji[o++]=null,h!==null&&v!==null){var N=h.pending;N===null?v.next=v:(v.next=N.next,N.next=v),h.pending=v}w!==0&&TA(u,v,w)}}function jp(a,o,u,h){ji[lu++]=a,ji[lu++]=o,ji[lu++]=u,ji[lu++]=h,Tb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ab(a,o,u,h){return jp(a,o,u,h),Op(a)}function Ml(a,o){return jp(a,null,null,o),Op(a)}function TA(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,w=a.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-Wt(u),a=w.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),w):null}function Op(a){if(50<Zf)throw Zf=0,Rx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var cu={};function _B(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(a,o,u,h){return new _B(a,o,u,h)}function kb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hs(a,o){var u=a.alternate;return u===null?(u=ii(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function AA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function zp(a,o,u,h,v,w){var N=0;if(h=a,typeof a=="function")kb(a)&&(N=1);else if(typeof a=="string")N=kU(a,u,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ii(31,u,o,v),a.elementType=R,a.lanes=w,a;case E:return Dl(u.children,v,w,o);case _:N=8,v|=24;break;case k:return a=ii(12,u,o,v|2),a.elementType=k,a.lanes=w,a;case O:return a=ii(13,u,o,v),a.elementType=O,a.lanes=w,a;case U:return a=ii(19,u,o,v),a.elementType=U,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:N=10;break e;case P:N=9;break e;case D:N=11;break e;case z:N=14;break e;case C:N=16,h=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ii(N,u,o,v),o.elementType=a,o.type=h,o.lanes=w,o}function Dl(a,o,u,h){return a=ii(7,a,h,o),a.lanes=u,a}function Nb(a,o,u){return a=ii(6,a,null,o),a.lanes=u,a}function kA(a){var o=ii(18,null,null,0);return o.stateNode=a,o}function Cb(a,o,u){return o=ii(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var NA=new WeakMap;function Oi(a,o){if(typeof a=="object"&&a!==null){var u=NA.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Et(o)},NA.set(a,o),o)}return{value:a,source:o,stack:Et(o)}}var uu=[],du=0,Pp=null,jf=0,zi=[],Pi=0,bo=null,La=1,Va="";function ms(a,o){uu[du++]=jf,uu[du++]=Pp,Pp=a,jf=o}function CA(a,o,u){zi[Pi++]=La,zi[Pi++]=Va,zi[Pi++]=bo,bo=a;var h=La;a=Va;var v=32-Wt(h)-1;h&=~(1<<v),u+=1;var w=32-Wt(o)+v;if(30<w){var N=v-v%5;w=(h&(1<<N)-1).toString(32),h>>=N,v-=N,La=1<<32-Wt(o)+v|u<<v|h,Va=w+a}else La=1<<w|u<<v|h,Va=a}function Ib(a){a.return!==null&&(ms(a,1),CA(a,1,0))}function jb(a){for(;a===Pp;)Pp=uu[--du],uu[du]=null,jf=uu[--du],uu[du]=null;for(;a===bo;)bo=zi[--Pi],zi[Pi]=null,Va=zi[--Pi],zi[Pi]=null,La=zi[--Pi],zi[Pi]=null}function IA(a,o){zi[Pi++]=La,zi[Pi++]=Va,zi[Pi++]=bo,La=o.id,Va=o.overflow,bo=a}var ir=null,Gt=null,mt=!1,xo=null,Ri=!1,Ob=Error(r(519));function wo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Of(Oi(o,a)),Ob}function jA(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[xn]=a,o[Fn]=h,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<eh.length;u++)ut(eh[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),hp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),fo(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||YN(o.textContent,u)?(h.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),h.onScroll!=null&&ut("scroll",o),h.onScrollEnd!=null&&ut("scrollend",o),h.onClick!=null&&(o.onclick=ta),o=!0):o=!1,o||wo(a,!0)}function OA(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:ir=ir.return}}function fu(a){if(a!==ir)return!1;if(!mt)return OA(a),mt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Qx(a.type,a.memoizedProps)),u=!u),u&&Gt&&wo(a),OA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=rC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=rC(a)}else o===27?(o=Gt,Ro(a.type)?(a=t1,t1=null,Gt=a):Gt=o):Gt=ir?Di(a.stateNode.nextSibling):null;return!0}function Ll(){Gt=ir=null,mt=!1}function zb(){var a=xo;return a!==null&&(Ur===null?Ur=a:Ur.push.apply(Ur,a),xo=null),a}function Of(a){xo===null?xo=[a]:xo.push(a)}var Pb=q(null),Vl=null,ps=null;function _o(a,o,u){Q(Pb,o._currentValue),o._currentValue=u}function gs(a){a._currentValue=Pb.current,K(Pb)}function Rb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Mb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var N=v.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=v;for(var G=0;G<o.length;G++)if(M.context===o[G]){w.lanes|=u,M=w.alternate,M!==null&&(M.lanes|=u),Rb(w.return,u,a),h||(N=null);break e}w=M.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=u,w=N.alternate,w!==null&&(w.lanes|=u),Rb(N,u,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function hu(a,o,u,h){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var M=v.type;ri(v.pendingProps.value,N.value)||(a!==null?a.push(M):a=[M])}}else if(v===we.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ah):a=[ah])}v=v.return}a!==null&&Mb(o,a,u,h),o.flags|=262144}function Rp(a){for(a=a.firstContext;a!==null;){if(!ri(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Bl(a){Vl=a,ps=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return zA(Vl,a)}function Mp(a,o){return Vl===null&&Bl(a),zA(a,o)}function zA(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ps===null){if(a===null)throw Error(r(308));ps=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ps=ps.next=o;return u}var SB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},EB=t.unstable_scheduleCallback,TB=t.unstable_NormalPriority,Sn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Db(){return{controller:new SB,data:new Map,refCount:0}}function zf(a){a.refCount--,a.refCount===0&&EB(TB,function(){a.controller.abort()})}var Pf=null,Lb=0,mu=0,pu=null;function AB(a,o){if(Pf===null){var u=Pf=[];Lb=0,mu=Ux(),pu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Lb++,o.then(PA,PA),o}function PA(){if(--Lb===0&&Pf!==null){pu!==null&&(pu.status="fulfilled");var a=Pf;Pf=null,mu=0,pu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function kB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var RA=Y.S;Y.S=function(a,o){vN=on(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&AB(a,o),RA!==null&&RA(a,o)};var Ul=q(null);function Vb(){var a=Ul.current;return a!==null?a:Bt.pooledCache}function Dp(a,o){o===null?Q(Ul,Ul.current):Q(Ul,o.pool)}function MA(){var a=Vb();return a===null?null:{parent:Sn._currentValue,pool:a}}var gu=Error(r(460)),Bb=Error(r(474)),Lp=Error(r(542)),Vp={then:function(){}};function DA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function LA(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ta,ta),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,BA(a),a;default:if(typeof o.status=="string")o.then(ta,ta);else{if(a=Bt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,BA(a),a}throw ql=o,gu}}function Fl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ql=u,gu):u}}var ql=null;function VA(){if(ql===null)throw Error(r(459));var a=ql;return ql=null,a}function BA(a){if(a===gu||a===Lp)throw Error(r(483))}var yu=null,Rf=0;function Bp(a){var o=Rf;return Rf+=1,yu===null&&(yu=[]),LA(yu,a,o)}function Mf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Up(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function UA(a){function o(Z,W){if(a){var te=Z.deletions;te===null?(Z.deletions=[W],Z.flags|=16):te.push(W)}}function u(Z,W){if(!a)return null;for(;W!==null;)o(Z,W),W=W.sibling;return null}function h(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function v(Z,W){return Z=hs(Z,W),Z.index=0,Z.sibling=null,Z}function w(Z,W,te){return Z.index=te,a?(te=Z.alternate,te!==null?(te=te.index,te<W?(Z.flags|=67108866,W):te):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function N(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function M(Z,W,te,fe){return W===null||W.tag!==6?(W=Nb(te,Z.mode,fe),W.return=Z,W):(W=v(W,te),W.return=Z,W)}function G(Z,W,te,fe){var Fe=te.type;return Fe===E?ue(Z,W,te.props.children,fe,te.key):W!==null&&(W.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Fl(Fe)===W.type)?(W=v(W,te.props),Mf(W,te),W.return=Z,W):(W=zp(te.type,te.key,te.props,null,Z.mode,fe),Mf(W,te),W.return=Z,W)}function ne(Z,W,te,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=Cb(te,Z.mode,fe),W.return=Z,W):(W=v(W,te.children||[]),W.return=Z,W)}function ue(Z,W,te,fe,Fe){return W===null||W.tag!==7?(W=Dl(te,Z.mode,fe,Fe),W.return=Z,W):(W=v(W,te),W.return=Z,W)}function he(Z,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Nb(""+W,Z.mode,te),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return te=zp(W.type,W.key,W.props,null,Z.mode,te),Mf(te,W),te.return=Z,te;case S:return W=Cb(W,Z.mode,te),W.return=Z,W;case C:return W=Fl(W),he(Z,W,te)}if(Ae(W)||$(W))return W=Dl(W,Z.mode,te,null),W.return=Z,W;if(typeof W.then=="function")return he(Z,Bp(W),te);if(W.$$typeof===I)return he(Z,Mp(Z,W),te);Up(Z,W)}return null}function ae(Z,W,te,fe){var Fe=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Fe!==null?null:M(Z,W,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return te.key===Fe?G(Z,W,te,fe):null;case S:return te.key===Fe?ne(Z,W,te,fe):null;case C:return te=Fl(te),ae(Z,W,te,fe)}if(Ae(te)||$(te))return Fe!==null?null:ue(Z,W,te,fe,null);if(typeof te.then=="function")return ae(Z,W,Bp(te),fe);if(te.$$typeof===I)return ae(Z,W,Mp(Z,te),fe);Up(Z,te)}return null}function le(Z,W,te,fe,Fe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(te)||null,M(W,Z,""+fe,Fe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return Z=Z.get(fe.key===null?te:fe.key)||null,G(W,Z,fe,Fe);case S:return Z=Z.get(fe.key===null?te:fe.key)||null,ne(W,Z,fe,Fe);case C:return fe=Fl(fe),le(Z,W,te,fe,Fe)}if(Ae(fe)||$(fe))return Z=Z.get(te)||null,ue(W,Z,fe,Fe,null);if(typeof fe.then=="function")return le(Z,W,te,Bp(fe),Fe);if(fe.$$typeof===I)return le(Z,W,te,Mp(W,fe),Fe);Up(W,fe)}return null}function Re(Z,W,te,fe){for(var Fe=null,yt=null,Be=W,rt=W=0,ft=null;Be!==null&&rt<te.length;rt++){Be.index>rt?(ft=Be,Be=null):ft=Be.sibling;var vt=ae(Z,Be,te[rt],fe);if(vt===null){Be===null&&(Be=ft);break}a&&Be&&vt.alternate===null&&o(Z,Be),W=w(vt,W,rt),yt===null?Fe=vt:yt.sibling=vt,yt=vt,Be=ft}if(rt===te.length)return u(Z,Be),mt&&ms(Z,rt),Fe;if(Be===null){for(;rt<te.length;rt++)Be=he(Z,te[rt],fe),Be!==null&&(W=w(Be,W,rt),yt===null?Fe=Be:yt.sibling=Be,yt=Be);return mt&&ms(Z,rt),Fe}for(Be=h(Be);rt<te.length;rt++)ft=le(Be,Z,rt,te[rt],fe),ft!==null&&(a&&ft.alternate!==null&&Be.delete(ft.key===null?rt:ft.key),W=w(ft,W,rt),yt===null?Fe=ft:yt.sibling=ft,yt=ft);return a&&Be.forEach(function(Bo){return o(Z,Bo)}),mt&&ms(Z,rt),Fe}function Ke(Z,W,te,fe){if(te==null)throw Error(r(151));for(var Fe=null,yt=null,Be=W,rt=W=0,ft=null,vt=te.next();Be!==null&&!vt.done;rt++,vt=te.next()){Be.index>rt?(ft=Be,Be=null):ft=Be.sibling;var Bo=ae(Z,Be,vt.value,fe);if(Bo===null){Be===null&&(Be=ft);break}a&&Be&&Bo.alternate===null&&o(Z,Be),W=w(Bo,W,rt),yt===null?Fe=Bo:yt.sibling=Bo,yt=Bo,Be=ft}if(vt.done)return u(Z,Be),mt&&ms(Z,rt),Fe;if(Be===null){for(;!vt.done;rt++,vt=te.next())vt=he(Z,vt.value,fe),vt!==null&&(W=w(vt,W,rt),yt===null?Fe=vt:yt.sibling=vt,yt=vt);return mt&&ms(Z,rt),Fe}for(Be=h(Be);!vt.done;rt++,vt=te.next())vt=le(Be,Z,rt,vt.value,fe),vt!==null&&(a&&vt.alternate!==null&&Be.delete(vt.key===null?rt:vt.key),W=w(vt,W,rt),yt===null?Fe=vt:yt.sibling=vt,yt=vt);return a&&Be.forEach(function(LU){return o(Z,LU)}),mt&&ms(Z,rt),Fe}function Mt(Z,W,te,fe){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case x:e:{for(var Fe=te.key;W!==null;){if(W.key===Fe){if(Fe=te.type,Fe===E){if(W.tag===7){u(Z,W.sibling),fe=v(W,te.props.children),fe.return=Z,Z=fe;break e}}else if(W.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Fl(Fe)===W.type){u(Z,W.sibling),fe=v(W,te.props),Mf(fe,te),fe.return=Z,Z=fe;break e}u(Z,W);break}else o(Z,W);W=W.sibling}te.type===E?(fe=Dl(te.props.children,Z.mode,fe,te.key),fe.return=Z,Z=fe):(fe=zp(te.type,te.key,te.props,null,Z.mode,fe),Mf(fe,te),fe.return=Z,Z=fe)}return N(Z);case S:e:{for(Fe=te.key;W!==null;){if(W.key===Fe)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){u(Z,W.sibling),fe=v(W,te.children||[]),fe.return=Z,Z=fe;break e}else{u(Z,W);break}else o(Z,W);W=W.sibling}fe=Cb(te,Z.mode,fe),fe.return=Z,Z=fe}return N(Z);case C:return te=Fl(te),Mt(Z,W,te,fe)}if(Ae(te))return Re(Z,W,te,fe);if($(te)){if(Fe=$(te),typeof Fe!="function")throw Error(r(150));return te=Fe.call(te),Ke(Z,W,te,fe)}if(typeof te.then=="function")return Mt(Z,W,Bp(te),fe);if(te.$$typeof===I)return Mt(Z,W,Mp(Z,te),fe);Up(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(u(Z,W.sibling),fe=v(W,te),fe.return=Z,Z=fe):(u(Z,W),fe=Nb(te,Z.mode,fe),fe.return=Z,Z=fe),N(Z)):u(Z,W)}return function(Z,W,te,fe){try{Rf=0;var Fe=Mt(Z,W,te,fe);return yu=null,Fe}catch(Be){if(Be===gu||Be===Lp)throw Be;var yt=ii(29,Be,null,Z.mode);return yt.lanes=fe,yt.return=Z,yt}}}var $l=UA(!0),FA=UA(!1),So=!1;function Ub(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Eo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function To(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Op(a),TA(a,null,u),o}return jp(a,h,o,u),Op(a)}function Df(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,er(a,u)}}function qb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=N:w=w.next=N,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var $b=!1;function Lf(){if($b){var a=pu;if(a!==null)throw a}}function Vf(a,o,u,h){$b=!1;var v=a.updateQueue;So=!1;var w=v.firstBaseUpdate,N=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var G=M,ne=G.next;G.next=null,N===null?w=ne:N.next=ne,N=G;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==N&&(M===null?ue.firstBaseUpdate=ne:M.next=ne,ue.lastBaseUpdate=G))}if(w!==null){var he=v.baseState;N=0,ue=ne=G=null,M=w;do{var ae=M.lane&-536870913,le=ae!==M.lane;if(le?(dt&ae)===ae:(h&ae)===ae){ae!==0&&ae===mu&&($b=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Re=a,Ke=M;ae=o;var Mt=u;switch(Ke.tag){case 1:if(Re=Ke.payload,typeof Re=="function"){he=Re.call(Mt,he,ae);break e}he=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ke.payload,ae=typeof Re=="function"?Re.call(Mt,he,ae):Re,ae==null)break e;he=m({},he,ae);break e;case 2:So=!0}}ae=M.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=v.callbacks,le===null?v.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(ne=ue=le,G=he):ue=ue.next=le,N|=ae;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;le=M,M=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);ue===null&&(G=he),v.baseState=G,v.firstBaseUpdate=ne,v.lastBaseUpdate=ue,w===null&&(v.shared.lanes=0),Io|=N,a.lanes=N,a.memoizedState=he}}function qA(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function $A(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)qA(u[a],o)}var vu=q(null),Fp=q(0);function HA(a,o){a=Ts,Q(Fp,a),Q(vu,o),Ts=a|o.baseLanes}function Hb(){Q(Fp,Ts),Q(vu,vu.current)}function Gb(){Ts=Fp.current,K(vu),K(Fp)}var ai=q(null),Mi=null;function Ao(a){var o=a.alternate;Q(hn,hn.current&1),Q(ai,a),Mi===null&&(o===null||vu.current!==null||o.memoizedState!==null)&&(Mi=a)}function Kb(a){Q(hn,hn.current),Q(ai,a),Mi===null&&(Mi=a)}function GA(a){a.tag===22?(Q(hn,hn.current),Q(ai,a),Mi===null&&(Mi=a)):ko()}function ko(){Q(hn,hn.current),Q(ai,ai.current)}function si(a){K(ai),Mi===a&&(Mi=null),K(hn)}var hn=q(0);function qp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Jx(u)||e1(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ys=0,tt=null,Pt=null,En=null,$p=!1,bu=!1,Hl=!1,Hp=0,Bf=0,xu=null,NB=0;function ln(){throw Error(r(321))}function Yb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ri(a[u],o[u]))return!1;return!0}function Wb(a,o,u,h,v,w){return ys=w,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?Ck:ux,Hl=!1,w=u(h,v),Hl=!1,bu&&(w=YA(o,u,h,v)),KA(a),w}function KA(a){Y.H=qf;var o=Pt!==null&&Pt.next!==null;if(ys=0,En=Pt=tt=null,$p=!1,Bf=0,xu=null,o)throw Error(r(300));a===null||Tn||(a=a.dependencies,a!==null&&Rp(a)&&(Tn=!0))}function YA(a,o,u,h){tt=a;var v=0;do{if(bu&&(xu=null),Bf=0,bu=!1,25<=v)throw Error(r(301));if(v+=1,En=Pt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Y.H=Ik,w=o(u,h)}while(bu);return w}function CB(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?Uf(o):o,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(tt.flags|=1024),o}function Qb(){var a=Hp!==0;return Hp=0,a}function Xb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Zb(a){if($p){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}$p=!1}ys=0,En=Pt=tt=null,bu=!1,Bf=Hp=0,xu=null}function kr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?tt.memoizedState=En=a:En=En.next=a,En}function mn(){if(Pt===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=En===null?tt.memoizedState:En.next;if(o!==null)En=o,Pt=a;else{if(a===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},En===null?tt.memoizedState=En=a:En=En.next=a}return En}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uf(a){var o=Bf;return Bf+=1,xu===null&&(xu=[]),a=LA(xu,a,o),o=tt,(En===null?o.memoizedState:En.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?Ck:ux),a}function Kp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Uf(a);if(a.$$typeof===I)return ar(a)}throw Error(r(438,String(a)))}function Jb(a){var o=null,u=tt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gp(),tt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=V;return o.index++,u}function vs(a,o){return typeof o=="function"?o(a):o}function Yp(a){var o=mn();return ex(o,Pt,a)}function ex(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,w=h.pending;if(w!==null){if(v!==null){var N=v.next;v.next=w.next,w.next=N}o.baseQueue=v=w,h.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var M=N=null,G=null,ne=o,ue=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(dt&he)===he:(ys&he)===he){var ae=ne.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===mu&&(ue=!0);else if((ys&ae)===ae){ne=ne.next,ae===mu&&(ue=!0);continue}else he={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=he,N=w):G=G.next=he,tt.lanes|=ae,Io|=ae;he=ne.action,Hl&&u(w,he),w=ne.hasEagerState?ne.eagerState:u(w,he)}else ae={lane:he,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=ae,N=w):G=G.next=ae,tt.lanes|=he,Io|=he;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?N=w:G.next=M,!ri(w,a.memoizedState)&&(Tn=!0,ue&&(u=pu,u!==null)))throw u;a.memoizedState=w,a.baseState=N,a.baseQueue=G,h.lastRenderedState=w}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function tx(a){var o=mn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do w=a(w,N.action),N=N.next;while(N!==v);ri(w,o.memoizedState)||(Tn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function WA(a,o,u){var h=tt,v=mn(),w=mt;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!ri((Pt||v).memoizedState,u);if(N&&(v.memoizedState=u,Tn=!0),v=v.queue,ix(ZA.bind(null,h,v,a),[a]),v.getSnapshot!==o||N||En!==null&&En.memoizedState.tag&1){if(h.flags|=2048,wu(9,{destroy:void 0},XA.bind(null,h,v,u,o),null),Bt===null)throw Error(r(349));w||(ys&127)!==0||QA(h,o,u)}return u}function QA(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=tt.updateQueue,o===null?(o=Gp(),tt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function XA(a,o,u,h){o.value=u,o.getSnapshot=h,JA(o)&&ek(a)}function ZA(a,o,u){return u(function(){JA(o)&&ek(a)})}function JA(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ri(a,u)}catch{return!0}}function ek(a){var o=Ml(a,2);o!==null&&Fr(o,a,2)}function nx(a){var o=kr();if(typeof a=="function"){var u=a;if(a=u(),Hl){Er(!0);try{u()}finally{Er(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:a},o}function tk(a,o,u,h){return a.baseState=u,ex(a,Pt,typeof h=="function"?h:vs)}function IB(a,o,u,h,v){if(Xp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};Y.T!==null?u(!0):w.isTransition=!1,h(w),u=o.pending,u===null?(w.next=o.pending=w,nk(o,w)):(w.next=u.next,o.pending=u.next=w)}}function nk(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var w=Y.T,N={};Y.T=N;try{var M=u(v,h),G=Y.S;G!==null&&G(N,M),rk(a,o,M)}catch(ne){rx(a,o,ne)}finally{w!==null&&N.types!==null&&(w.types=N.types),Y.T=w}}else try{w=u(v,h),rk(a,o,w)}catch(ne){rx(a,o,ne)}}function rk(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){ik(a,o,h)},function(h){return rx(a,o,h)}):ik(a,o,u)}function ik(a,o,u){o.status="fulfilled",o.value=u,ak(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,nk(a,u)))}function rx(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,ak(o),o=o.next;while(o!==h)}a.action=null}function ak(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function sk(a,o){return o}function ok(a,o){if(mt){var u=Bt.formState;if(u!==null){e:{var h=tt;if(mt){if(Gt){t:{for(var v=Gt,w=Ri;v.nodeType!==8;){if(!w){v=null;break t}if(v=Di(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Gt=Di(v.nextSibling),h=v.data==="F!";break e}}wo(h)}h=!1}h&&(o=u[0])}}return u=kr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sk,lastRenderedState:o},u.queue=h,u=Ak.bind(null,tt,h),h.dispatch=u,h=nx(!1),w=cx.bind(null,tt,!1,h.queue),h=kr(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=IB.bind(null,tt,v,w,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function lk(a){var o=mn();return ck(o,Pt,a)}function ck(a,o,u){if(o=ex(a,o,sk)[0],a=Yp(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Uf(o)}catch(N){throw N===gu?Lp:N}else h=o;o=mn();var v=o.queue,w=v.dispatch;return u!==o.memoizedState&&(tt.flags|=2048,wu(9,{destroy:void 0},jB.bind(null,v,u),null)),[h,w,a]}function jB(a,o){a.action=o}function uk(a){var o=mn(),u=Pt;if(u!==null)return ck(o,u,a);mn(),o=o.memoizedState,u=mn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function wu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=tt.updateQueue,o===null&&(o=Gp(),tt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function dk(){return mn().memoizedState}function Wp(a,o,u,h){var v=kr();tt.flags|=a,v.memoizedState=wu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Qp(a,o,u,h){var v=mn();h=h===void 0?null:h;var w=v.memoizedState.inst;Pt!==null&&h!==null&&Yb(h,Pt.memoizedState.deps)?v.memoizedState=wu(o,w,u,h):(tt.flags|=a,v.memoizedState=wu(1|o,w,u,h))}function fk(a,o){Wp(8390656,8,a,o)}function ix(a,o){Qp(2048,8,a,o)}function OB(a){tt.flags|=4;var o=tt.updateQueue;if(o===null)o=Gp(),tt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function hk(a){var o=mn().memoizedState;return OB({ref:o,nextImpl:a}),function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function mk(a,o){return Qp(4,2,a,o)}function pk(a,o){return Qp(4,4,a,o)}function gk(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function yk(a,o,u){u=u!=null?u.concat([a]):null,Qp(4,4,gk.bind(null,o,a),u)}function ax(){}function vk(a,o){var u=mn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Yb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function bk(a,o){var u=mn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Yb(o,h[1]))return h[0];if(h=a(),Hl){Er(!0);try{a()}finally{Er(!1)}}return u.memoizedState=[h,o],h}function sx(a,o,u){return u===void 0||(ys&1073741824)!==0&&(dt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=xN(),tt.lanes|=a,Io|=a,u)}function xk(a,o,u,h){return ri(u,o)?u:vu.current!==null?(a=sx(a,u,h),ri(a,o)||(Tn=!0),a):(ys&42)===0||(ys&1073741824)!==0&&(dt&261930)===0?(Tn=!0,a.memoizedState=u):(a=xN(),tt.lanes|=a,Io|=a,o)}function wk(a,o,u,h,v){var w=re.p;re.p=w!==0&&8>w?w:8;var N=Y.T,M={};Y.T=M,cx(a,!1,o,u);try{var G=v(),ne=Y.S;if(ne!==null&&ne(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=kB(G,h);Ff(a,o,ue,ci(a))}else Ff(a,o,h,ci(a))}catch(he){Ff(a,o,{then:function(){},status:"rejected",reason:he},ci())}finally{re.p=w,N!==null&&M.types!==null&&(N.types=M.types),Y.T=N}}function zB(){}function ox(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=_k(a).queue;wk(a,v,o,ie,u===null?zB:function(){return Sk(a),u(h)})}function _k(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ie},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Sk(a){var o=_k(a);o.next===null&&(o=a.alternate.memoizedState),Ff(a,o.next.queue,{},ci())}function lx(){return ar(ah)}function Ek(){return mn().memoizedState}function Tk(){return mn().memoizedState}function PB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ci();a=Eo(u);var h=To(o,a,u);h!==null&&(Fr(h,o,u),Df(h,o,u)),o={cache:Db()},a.payload=o;return}o=o.return}}function RB(a,o,u){var h=ci();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xp(a)?kk(o,u):(u=Ab(a,o,u,h),u!==null&&(Fr(u,a,h),Nk(u,o,h)))}function Ak(a,o,u){var h=ci();Ff(a,o,u,h)}function Ff(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xp(a))kk(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var N=o.lastRenderedState,M=w(N,u);if(v.hasEagerState=!0,v.eagerState=M,ri(M,N))return jp(a,o,v,0),Bt===null&&Ip(),!1}catch{}if(u=Ab(a,o,v,h),u!==null)return Fr(u,a,h),Nk(u,o,h),!0}return!1}function cx(a,o,u,h){if(h={lane:2,revertLane:Ux(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xp(a)){if(o)throw Error(r(479))}else o=Ab(a,u,h,2),o!==null&&Fr(o,a,2)}function Xp(a){var o=a.alternate;return a===tt||o!==null&&o===tt}function kk(a,o){bu=$p=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Nk(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,er(a,u)}}var qf={readContext:ar,use:Kp,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};qf.useEffectEvent=ln;var Ck={readContext:ar,use:Kp,useCallback:function(a,o){return kr().memoizedState=[a,o===void 0?null:o],a},useContext:ar,useEffect:fk,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Wp(4194308,4,gk.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Wp(4194308,4,a,o)},useInsertionEffect:function(a,o){Wp(4,2,a,o)},useMemo:function(a,o){var u=kr();o=o===void 0?null:o;var h=a();if(Hl){Er(!0);try{a()}finally{Er(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=kr();if(u!==void 0){var v=u(o);if(Hl){Er(!0);try{u(o)}finally{Er(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=RB.bind(null,tt,a),[h.memoizedState,a]},useRef:function(a){var o=kr();return a={current:a},o.memoizedState=a},useState:function(a){a=nx(a);var o=a.queue,u=Ak.bind(null,tt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:ax,useDeferredValue:function(a,o){var u=kr();return sx(u,a,o)},useTransition:function(){var a=nx(!1);return a=wk.bind(null,tt,a.queue,!0,!1),kr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=tt,v=kr();if(mt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Bt===null)throw Error(r(349));(dt&127)!==0||QA(h,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,fk(ZA.bind(null,h,w,a),[a]),h.flags|=2048,wu(9,{destroy:void 0},XA.bind(null,h,w,u,o),null),u},useId:function(){var a=kr(),o=Bt.identifierPrefix;if(mt){var u=Va,h=La;u=(h&~(1<<32-Wt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Hp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=NB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:lx,useFormState:ok,useActionState:ok,useOptimistic:function(a){var o=kr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=cx.bind(null,tt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Jb,useCacheRefresh:function(){return kr().memoizedState=PB.bind(null,tt)},useEffectEvent:function(a){var o=kr(),u={impl:a};return o.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ux={readContext:ar,use:Kp,useCallback:vk,useContext:ar,useEffect:ix,useImperativeHandle:yk,useInsertionEffect:mk,useLayoutEffect:pk,useMemo:bk,useReducer:Yp,useRef:dk,useState:function(){return Yp(vs)},useDebugValue:ax,useDeferredValue:function(a,o){var u=mn();return xk(u,Pt.memoizedState,a,o)},useTransition:function(){var a=Yp(vs)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Uf(a),o]},useSyncExternalStore:WA,useId:Ek,useHostTransitionStatus:lx,useFormState:lk,useActionState:lk,useOptimistic:function(a,o){var u=mn();return tk(u,Pt,a,o)},useMemoCache:Jb,useCacheRefresh:Tk};ux.useEffectEvent=hk;var Ik={readContext:ar,use:Kp,useCallback:vk,useContext:ar,useEffect:ix,useImperativeHandle:yk,useInsertionEffect:mk,useLayoutEffect:pk,useMemo:bk,useReducer:tx,useRef:dk,useState:function(){return tx(vs)},useDebugValue:ax,useDeferredValue:function(a,o){var u=mn();return Pt===null?sx(u,a,o):xk(u,Pt.memoizedState,a,o)},useTransition:function(){var a=tx(vs)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Uf(a),o]},useSyncExternalStore:WA,useId:Ek,useHostTransitionStatus:lx,useFormState:uk,useActionState:uk,useOptimistic:function(a,o){var u=mn();return Pt!==null?tk(u,Pt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Jb,useCacheRefresh:Tk};Ik.useEffectEvent=hk;function dx(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var fx={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ci(),v=Eo(h);v.payload=o,u!=null&&(v.callback=u),o=To(a,v,h),o!==null&&(Fr(o,a,h),Df(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ci(),v=Eo(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=To(a,v,h),o!==null&&(Fr(o,a,h),Df(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ci(),h=Eo(u);h.tag=2,o!=null&&(h.callback=o),o=To(a,h,u),o!==null&&(Fr(o,a,u),Df(o,a,u))}};function jk(a,o,u,h,v,w,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,N):o.prototype&&o.prototype.isPureReactComponent?!Cf(u,h)||!Cf(v,w):!0}function Ok(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&fx.enqueueReplaceState(o,o.state,null)}function Gl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function zk(a){Cp(a)}function Pk(a){console.error(a)}function Rk(a){Cp(a)}function Zp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Mk(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function hx(a,o,u){return u=Eo(u),u.tag=3,u.payload={element:null},u.callback=function(){Zp(a,o)},u}function Dk(a){return a=Eo(a),a.tag=3,a}function Lk(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;a.payload=function(){return v(w)},a.callback=function(){Mk(o,u,h)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Mk(o,u,h),typeof v!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function MB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&hu(o,u,v,!0),u=ai.current,u!==null){switch(u.tag){case 31:case 13:return Mi===null?ug():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Vp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Lx(a,h,v)),!1;case 22:return u.flags|=65536,h===Vp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Lx(a,h,v)),!1}throw Error(r(435,u.tag))}return Lx(a,h,v),ug(),!1}if(mt)return o=ai.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Ob&&(a=Error(r(422),{cause:h}),Of(Oi(a,u)))):(h!==Ob&&(o=Error(r(423),{cause:h}),Of(Oi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Oi(h,u),v=hx(a.stateNode,h,v),qb(a,v),cn!==4&&(cn=2)),!1;var w=Error(r(520),{cause:h});if(w=Oi(w,u),Xf===null?Xf=[w]:Xf.push(w),cn!==4&&(cn=2),o===null)return!0;h=Oi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=hx(u.stateNode,h,a),qb(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(jo===null||!jo.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Dk(v),Lk(v,a,u,h),qb(u,v),!1}u=u.return}while(u!==null);return!1}var mx=Error(r(461)),Tn=!1;function sr(a,o,u,h){o.child=a===null?FA(o,null,u,h):$l(o,a.child,u,h)}function Vk(a,o,u,h,v){u=u.render;var w=o.ref;if("ref"in h){var N={};for(var M in h)M!=="ref"&&(N[M]=h[M])}else N=h;return Bl(o),h=Wb(a,o,u,N,w,v),M=Qb(),a!==null&&!Tn?(Xb(a,o,v),bs(a,o,v)):(mt&&M&&Ib(o),o.flags|=1,sr(a,o,h,v),o.child)}function Bk(a,o,u,h,v){if(a===null){var w=u.type;return typeof w=="function"&&!kb(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,Uk(a,o,w,h,v)):(a=zp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!_x(a,v)){var N=w.memoizedProps;if(u=u.compare,u=u!==null?u:Cf,u(N,h)&&a.ref===o.ref)return bs(a,o,v)}return o.flags|=1,a=hs(w,h),a.ref=o.ref,a.return=o,o.child=a}function Uk(a,o,u,h,v){if(a!==null){var w=a.memoizedProps;if(Cf(w,h)&&a.ref===o.ref)if(Tn=!1,o.pendingProps=h=w,_x(a,v))(a.flags&131072)!==0&&(Tn=!0);else return o.lanes=a.lanes,bs(a,o,v)}return px(a,o,u,h,v)}function Fk(a,o,u,h){var v=h.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,o.child=null;return qk(a,o,w,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Dp(o,w!==null?w.cachePool:null),w!==null?HA(o,w):Hb(),GA(o);else return h=o.lanes=536870912,qk(a,o,w!==null?w.baseLanes|u:u,u,h)}else w!==null?(Dp(o,w.cachePool),HA(o,w),ko(),o.memoizedState=null):(a!==null&&Dp(o,null),Hb(),ko());return sr(a,o,v,u),o.child}function $f(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function qk(a,o,u,h,v){var w=Vb();return w=w===null?null:{parent:Sn._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},a!==null&&Dp(o,null),Hb(),GA(o),a!==null&&hu(a,o,h,!0),o.childLanes=v,null}function Jp(a,o){return o=tg({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function $k(a,o,u){return $l(o,a.child,null,u),a=Jp(o,o.pendingProps),a.flags|=2,si(o),o.memoizedState=null,a}function DB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(mt){if(h.mode==="hidden")return a=Jp(o,h),o.lanes=536870912,$f(null,a);if(Kb(o),(a=Gt)?(a=nC(a,Ri),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:La,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},u=kA(a),u.return=o,o.child=u,ir=o,Gt=null)):a=null,a===null)throw wo(o);return o.lanes=536870912,null}return Jp(o,h)}var w=a.memoizedState;if(w!==null){var N=w.dehydrated;if(Kb(o),v)if(o.flags&256)o.flags&=-257,o=$k(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Tn||hu(a,o,u,!1),v=(u&a.childLanes)!==0,Tn||v){if(h=Bt,h!==null&&(N=tr(h,u),N!==0&&N!==w.retryLane))throw w.retryLane=N,Ml(a,N),Fr(h,a,N),mx;ug(),o=$k(a,o,u)}else a=w.treeContext,Gt=Di(N.nextSibling),ir=o,mt=!0,xo=null,Ri=!1,a!==null&&IA(o,a),o=Jp(o,h),o.flags|=4096;return o}return a=hs(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function eg(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function px(a,o,u,h,v){return Bl(o),u=Wb(a,o,u,h,void 0,v),h=Qb(),a!==null&&!Tn?(Xb(a,o,v),bs(a,o,v)):(mt&&h&&Ib(o),o.flags|=1,sr(a,o,u,v),o.child)}function Hk(a,o,u,h,v,w){return Bl(o),o.updateQueue=null,u=YA(o,h,u,v),KA(a),h=Qb(),a!==null&&!Tn?(Xb(a,o,w),bs(a,o,w)):(mt&&h&&Ib(o),o.flags|=1,sr(a,o,u,w),o.child)}function Gk(a,o,u,h,v){if(Bl(o),o.stateNode===null){var w=cu,N=u.contextType;typeof N=="object"&&N!==null&&(w=ar(N)),w=new u(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=fx,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Ub(o),N=u.contextType,w.context=typeof N=="object"&&N!==null?ar(N):cu,w.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(dx(o,u,N,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&fx.enqueueReplaceState(w,w.state,null),Vf(o,h,w,v),Lf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){w=o.stateNode;var M=o.memoizedProps,G=Gl(u,M);w.props=G;var ne=w.context,ue=u.contextType;N=cu,typeof ue=="object"&&ue!==null&&(N=ar(ue));var he=u.getDerivedStateFromProps;ue=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||ne!==N)&&Ok(o,w,h,N),So=!1;var ae=o.memoizedState;w.state=ae,Vf(o,h,w,v),Lf(),ne=o.memoizedState,M||ae!==ne||So?(typeof he=="function"&&(dx(o,u,he,h),ne=o.memoizedState),(G=So||jk(o,u,G,h,ae,ne,N))?(ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ne),w.props=h,w.state=ne,w.context=N,h=G):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,Fb(a,o),N=o.memoizedProps,ue=Gl(u,N),w.props=ue,he=o.pendingProps,ae=w.context,ne=u.contextType,G=cu,typeof ne=="object"&&ne!==null&&(G=ar(ne)),M=u.getDerivedStateFromProps,(ne=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==he||ae!==G)&&Ok(o,w,h,G),So=!1,ae=o.memoizedState,w.state=ae,Vf(o,h,w,v),Lf();var le=o.memoizedState;N!==he||ae!==le||So||a!==null&&a.dependencies!==null&&Rp(a.dependencies)?(typeof M=="function"&&(dx(o,u,M,h),le=o.memoizedState),(ue=So||jk(o,u,ue,h,ae,le,G)||a!==null&&a.dependencies!==null&&Rp(a.dependencies))?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,le,G),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,le,G)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=le),w.props=h,w.state=le,w.context=G,h=ue):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),h=!1)}return w=h,eg(a,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&h?(o.child=$l(o,a.child,null,v),o.child=$l(o,null,u,v)):sr(a,o,u,v),o.memoizedState=w.state,a=o.child):a=bs(a,o,v),a}function Kk(a,o,u,h){return Ll(),o.flags|=256,sr(a,o,u,h),o.child}var gx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yx(a){return{baseLanes:a,cachePool:MA()}}function vx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=li),a}function Yk(a,o,u){var h=o.pendingProps,v=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(mt){if(v?Ao(o):ko(),(a=Gt)?(a=nC(a,Ri),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:La,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},u=kA(a),u.return=o,o.child=u,ir=o,Gt=null)):a=null,a===null)throw wo(o);return e1(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(ko(),v=o.mode,M=tg({mode:"hidden",children:M},v),h=Dl(h,v,u,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=yx(u),h.childLanes=vx(a,N,u),o.memoizedState=gx,$f(null,h)):(Ao(o),bx(o,M))}var G=a.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(w)o.flags&256?(Ao(o),o.flags&=-257,o=xx(a,o,u)):o.memoizedState!==null?(ko(),o.child=a.child,o.flags|=128,o=null):(ko(),M=h.fallback,v=o.mode,h=tg({mode:"visible",children:h.children},v),M=Dl(M,v,u,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,$l(o,a.child,null,u),h=o.child,h.memoizedState=yx(u),h.childLanes=vx(a,N,u),o.memoizedState=gx,o=$f(null,h));else if(Ao(o),e1(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var ne=N.dgst;N=ne,h=Error(r(419)),h.stack="",h.digest=N,Of({value:h,source:null,stack:null}),o=xx(a,o,u)}else if(Tn||hu(a,o,u,!1),N=(u&a.childLanes)!==0,Tn||N){if(N=Bt,N!==null&&(h=tr(N,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,Ml(a,h),Fr(N,a,h),mx;Jx(M)||ug(),o=xx(a,o,u)}else Jx(M)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Gt=Di(M.nextSibling),ir=o,mt=!0,xo=null,Ri=!1,a!==null&&IA(o,a),o=bx(o,h.children),o.flags|=4096);return o}return v?(ko(),M=h.fallback,v=o.mode,G=a.child,ne=G.sibling,h=hs(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ne!==null?M=hs(ne,M):(M=Dl(M,v,u,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,$f(null,h),h=o.child,M=a.child.memoizedState,M===null?M=yx(u):(v=M.cachePool,v!==null?(G=Sn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=MA(),M={baseLanes:M.baseLanes|u,cachePool:v}),h.memoizedState=M,h.childLanes=vx(a,N,u),o.memoizedState=gx,$f(a.child,h)):(Ao(o),u=a.child,a=u.sibling,u=hs(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function bx(a,o){return o=tg({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function tg(a,o){return a=ii(22,a,null,o),a.lanes=0,a}function xx(a,o,u){return $l(o,a.child,null,u),a=bx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Wk(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Rb(a.return,o,u)}function wx(a,o,u,h,v,w){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:w}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=u,N.tailMode=v,N.treeForkCount=w)}function Qk(a,o,u){var h=o.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var N=hn.current,M=(N&2)!==0;if(M?(N=N&1|2,o.flags|=128):N&=1,Q(hn,N),sr(a,o,h,u),h=mt?jf:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Wk(a,u,o);else if(a.tag===19)Wk(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&qp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),wx(o,!1,v,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&qp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}wx(o,!0,u,null,w,h);break;case"together":wx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function bs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Io|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(hu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=hs(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=hs(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function _x(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rp(a)))}function LB(a,o,u){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),_o(o,Sn,a.memoizedState.cache),Ll();break;case 27:case 5:pe(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:_o(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Kb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ao(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Yk(a,o,u):(Ao(o),a=bs(a,o,u),a!==null?a.sibling:null);Ao(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(hu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return Qk(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Q(hn,hn.current),h)break;return null;case 22:return o.lanes=0,Fk(a,o,u,o.pendingProps);case 24:_o(o,Sn,a.memoizedState.cache)}return bs(a,o,u)}function Xk(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Tn=!0;else{if(!_x(a,u)&&(o.flags&128)===0)return Tn=!1,LB(a,o,u);Tn=(a.flags&131072)!==0}else Tn=!1,mt&&(o.flags&1048576)!==0&&CA(o,jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Fl(o.elementType),o.type=a,typeof a=="function")kb(a)?(h=Gl(a,h),o.tag=1,o=Gk(null,o,a,h,u)):(o.tag=0,o=px(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===D){o.tag=11,o=Vk(null,o,a,h,u);break e}else if(v===z){o.tag=14,o=Bk(null,o,a,h,u);break e}}throw o=xe(a)||a,Error(r(306,o,""))}}return o;case 0:return px(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Gl(h,o.pendingProps),Gk(a,o,h,v,u);case 3:e:{if(Ne(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var w=o.memoizedState;v=w.element,Fb(a,o),Vf(o,h,null,u);var N=o.memoizedState;if(h=N.cache,_o(o,Sn,h),h!==w.cache&&Mb(o,[Sn],u,!0),Lf(),h=N.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Kk(a,o,h,u);break e}else if(h!==v){v=Oi(Error(r(424)),o),Of(v),o=Kk(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Gt=Di(a.firstChild),ir=o,mt=!0,xo=null,Ri=!0,u=FA(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ll(),h===v){o=bs(a,o,u);break e}sr(a,o,h,u)}o=o.child}return o;case 26:return eg(a,o),a===null?(u=lC(o.type,null,o.pendingProps,null))?o.memoizedState=u:mt||(u=o.type,a=o.pendingProps,h=yg(ge.current).createElement(u),h[xn]=o,h[Fn]=a,or(h,u,a),wn(h),o.stateNode=h):o.memoizedState=lC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return pe(o),a===null&&mt&&(h=o.stateNode=aC(o.type,o.pendingProps,ge.current),ir=o,Ri=!0,v=Gt,Ro(o.type)?(t1=v,Gt=Di(h.firstChild)):Gt=v),sr(a,o,o.pendingProps.children,u),eg(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&mt&&((v=h=Gt)&&(h=mU(h,o.type,o.pendingProps,Ri),h!==null?(o.stateNode=h,ir=o,Gt=Di(h.firstChild),Ri=!1,v=!0):v=!1),v||wo(o)),pe(o),v=o.type,w=o.pendingProps,N=a!==null?a.memoizedProps:null,h=w.children,Qx(v,w)?h=null:N!==null&&Qx(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=Wb(a,o,CB,null,null,u),ah._currentValue=v),eg(a,o),sr(a,o,h,u),o.child;case 6:return a===null&&mt&&((a=u=Gt)&&(u=pU(u,o.pendingProps,Ri),u!==null?(o.stateNode=u,ir=o,Gt=null,a=!0):a=!1),a||wo(o)),null;case 13:return Yk(a,o,u);case 4:return Ne(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=$l(o,null,h,u):sr(a,o,h,u),o.child;case 11:return Vk(a,o,o.type,o.pendingProps,u);case 7:return sr(a,o,o.pendingProps,u),o.child;case 8:return sr(a,o,o.pendingProps.children,u),o.child;case 12:return sr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,_o(o,o.type,h.value),sr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Bl(o),v=ar(v),h=h(v),o.flags|=1,sr(a,o,h,u),o.child;case 14:return Bk(a,o,o.type,o.pendingProps,u);case 15:return Uk(a,o,o.type,o.pendingProps,u);case 19:return Qk(a,o,u);case 31:return DB(a,o,u);case 22:return Fk(a,o,u,o.pendingProps);case 24:return Bl(o),h=ar(Sn),a===null?(v=Vb(),v===null&&(v=Bt,w=Db(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),o.memoizedState={parent:h,cache:v},Ub(o),_o(o,Sn,v)):((a.lanes&u)!==0&&(Fb(a,o),Vf(o,null,null,u),Lf()),v=a.memoizedState,w=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),_o(o,Sn,h)):(h=w.cache,_o(o,Sn,h),h!==v.cache&&Mb(o,[Sn],u,!0))),sr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function xs(a){a.flags|=4}function Sx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(EN())a.flags|=8192;else throw ql=Vp,Bb}else a.flags&=-16777217}function Zk(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!hC(o))if(EN())a.flags|=8192;else throw ql=Vp,Bb}function ng(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Un():536870912,a.lanes|=o,Tu|=o)}function Hf(a,o){if(!mt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function VB(a,o,u){var h=o.pendingProps;switch(jb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),gs(Sn),H(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(fu(o)?xs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zb())),Kt(o),null;case 26:var v=o.type,w=o.memoizedState;return a===null?(xs(o),w!==null?(Kt(o),Zk(o,w)):(Kt(o),Sx(o,v,null,h,u))):w?w!==a.memoizedState?(xs(o),Kt(o),Zk(o,w)):(Kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&xs(o),Kt(o),Sx(o,v,a,h,u)),null;case 27:if(Ce(o),u=ge.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&xs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}a=oe.current,fu(o)?jA(o):(a=aC(v,h,u),o.stateNode=a,xs(o))}return Kt(o),null;case 5:if(Ce(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&xs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(w=oe.current,fu(o))jA(o);else{var N=yg(ge.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?N.createElement(v,{is:h.is}):N.createElement(v)}}w[xn]=o,w[Fn]=h;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=w;e:switch(or(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&xs(o)}}return Kt(o),Sx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&xs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ge.current,fu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=ir,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[xn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||YN(a.nodeValue,u)),a||wo(o,!0)}else a=yg(a).createTextNode(h),a[xn]=o,o.stateNode=a}return Kt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=fu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[xn]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),a=!1}else u=zb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(si(o),o):(si(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=fu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[xn]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else v=zb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(si(o),o):(si(o),null)}return si(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),ng(o,o.updateQueue),Kt(o),null);case 4:return H(),a===null&&Hx(o.stateNode.containerInfo),Kt(o),null;case 10:return gs(o.type),Kt(o),null;case 19:if(K(hn),h=o.memoizedState,h===null)return Kt(o),null;if(v=(o.flags&128)!==0,w=h.rendering,w===null)if(v)Hf(h,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=qp(a),w!==null){for(o.flags|=128,Hf(h,!1),a=w.updateQueue,o.updateQueue=a,ng(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)AA(u,a),u=u.sibling;return Q(hn,hn.current&1|2),mt&&ms(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&on()>og&&(o.flags|=128,v=!0,Hf(h,!1),o.lanes=4194304)}else{if(!v)if(a=qp(w),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,ng(o,a),Hf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!mt)return Kt(o),null}else 2*on()-h.renderingStartTime>og&&u!==536870912&&(o.flags|=128,v=!0,Hf(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(a=h.last,a!==null?a.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=on(),a.sibling=null,u=hn.current,Q(hn,v?u&1|2:u&1),mt&&ms(o,h.treeForkCount),a):(Kt(o),null);case 22:case 23:return si(o),Gb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),u=o.updateQueue,u!==null&&ng(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&K(Ul),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),gs(Sn),Kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function BB(a,o){switch(jb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return gs(Sn),H(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(si(o),o.alternate===null)throw Error(r(340));Ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(si(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(hn),null;case 4:return H(),null;case 10:return gs(o.type),null;case 22:case 23:return si(o),Gb(),a!==null&&K(Ul),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return gs(Sn),null;case 25:return null;default:return null}}function Jk(a,o){switch(jb(o),o.tag){case 3:gs(Sn),H();break;case 26:case 27:case 5:Ce(o);break;case 4:H();break;case 31:o.memoizedState!==null&&si(o);break;case 13:si(o);break;case 19:K(hn);break;case 10:gs(o.type);break;case 22:case 23:si(o),Gb(),a!==null&&K(Ul);break;case 24:gs(Sn)}}function Gf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var w=u.create,N=u.inst;h=w(),N.destroy=h}u=u.next}while(u!==v)}}catch(M){kt(o,o.return,M)}}function No(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&a)===a){var N=h.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,v=o;var G=u,ne=M;try{ne()}catch(ue){kt(v,G,ue)}}}h=h.next}while(h!==w)}}catch(ue){kt(o,o.return,ue)}}function eN(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{$A(o,u)}catch(h){kt(a,a.return,h)}}}function tN(a,o,u){u.props=Gl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){kt(a,o,h)}}function Kf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){kt(a,o,v)}}function Ba(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){kt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){kt(a,o,v)}else u.current=null}function nN(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){kt(a,a.return,v)}}function Ex(a,o,u){try{var h=a.stateNode;lU(h,a.type,u,o),h[Fn]=o}catch(v){kt(a,a.return,v)}}function rN(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function Tx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||rN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ax(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ta));else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Ax(a,o,u),a=a.sibling;a!==null;)Ax(a,o,u),a=a.sibling}function rg(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(rg(a,o,u),a=a.sibling;a!==null;)rg(a,o,u),a=a.sibling}function iN(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);or(o,h,u),o[xn]=a,o[Fn]=u}catch(w){kt(a,a.return,w)}}var ws=!1,An=!1,kx=!1,aN=typeof WeakSet=="function"?WeakSet:Set,$n=null;function UB(a,o){if(a=a.containerInfo,Yx=Eg,a=yA(a),xb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var N=0,M=-1,G=-1,ne=0,ue=0,he=a,ae=null;t:for(;;){for(var le;he!==u||v!==0&&he.nodeType!==3||(M=N+v),he!==w||h!==0&&he.nodeType!==3||(G=N+h),he.nodeType===3&&(N+=he.nodeValue.length),(le=he.firstChild)!==null;)ae=he,he=le;for(;;){if(he===a)break t;if(ae===u&&++ne===v&&(M=N),ae===w&&++ue===h&&(G=N),(le=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=le}u=M===-1||G===-1?null:{start:M,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wx={focusedElem:a,selectionRange:u},Eg=!1,$n=o;$n!==null;)if(o=$n,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,$n=a;else for(;$n!==null;){switch(o=$n,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,v=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var Re=Gl(u.type,v);a=h.getSnapshotBeforeUpdate(Re,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){kt(u,u.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Zx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,$n=a;break}$n=o.return}}function sN(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ss(a,u),h&4&&Gf(5,u);break;case 1:if(Ss(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var v=Gl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}h&64&&eN(u),h&512&&Kf(u,u.return);break;case 3:if(Ss(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{$A(a,o)}catch(N){kt(u,u.return,N)}}break;case 27:o===null&&h&4&&iN(u);case 26:case 5:Ss(a,u),o===null&&h&4&&nN(u),h&512&&Kf(u,u.return);break;case 12:Ss(a,u);break;case 31:Ss(a,u),h&4&&cN(a,u);break;case 13:Ss(a,u),h&4&&uN(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=QB.bind(null,u),gU(a,u))));break;case 22:if(h=u.memoizedState!==null||ws,!h){o=o!==null&&o.memoizedState!==null||An,v=ws;var w=An;ws=h,(An=o)&&!w?Es(a,u,(u.subtreeFlags&8772)!==0):Ss(a,u),ws=v,An=w}break;case 30:break;default:Ss(a,u)}}function oN(a){var o=a.alternate;o!==null&&(a.alternate=null,oN(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Wc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Lr=!1;function _s(a,o,u){for(u=u.child;u!==null;)lN(a,o,u),u=u.sibling}function lN(a,o,u){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Jn,u)}catch{}switch(u.tag){case 26:An||Ba(u,o),_s(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:An||Ba(u,o);var h=Xt,v=Lr;Ro(u.type)&&(Xt=u.stateNode,Lr=!1),_s(a,o,u),nh(u.stateNode),Xt=h,Lr=v;break;case 5:An||Ba(u,o);case 6:if(h=Xt,v=Lr,Xt=null,_s(a,o,u),Xt=h,Lr=v,Xt!==null)if(Lr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(u.stateNode)}catch(w){kt(u,o,w)}else try{Xt.removeChild(u.stateNode)}catch(w){kt(u,o,w)}break;case 18:Xt!==null&&(Lr?(a=Xt,eC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),zu(a)):eC(Xt,u.stateNode));break;case 4:h=Xt,v=Lr,Xt=u.stateNode.containerInfo,Lr=!0,_s(a,o,u),Xt=h,Lr=v;break;case 0:case 11:case 14:case 15:No(2,u,o),An||No(4,u,o),_s(a,o,u);break;case 1:An||(Ba(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&tN(u,o,h)),_s(a,o,u);break;case 21:_s(a,o,u);break;case 22:An=(h=An)||u.memoizedState!==null,_s(a,o,u),An=h;break;default:_s(a,o,u)}}function cN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{zu(a)}catch(u){kt(o,o.return,u)}}}function uN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{zu(a)}catch(u){kt(o,o.return,u)}}function FB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new aN),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new aN),o;default:throw Error(r(435,a.tag))}}function ig(a,o){var u=FB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=XB.bind(null,a,h);h.then(v,v)}})}function Vr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],w=a,N=o,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Ro(M.type)){Xt=M.stateNode,Lr=!1;break e}break;case 5:Xt=M.stateNode,Lr=!1;break e;case 3:case 4:Xt=M.stateNode.containerInfo,Lr=!0;break e}M=M.return}if(Xt===null)throw Error(r(160));lN(w,N,v),Xt=null,Lr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)dN(o,a),o=o.sibling}var oa=null;function dN(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(o,a),Br(a),h&4&&(No(3,a,a.return),Gf(3,a),No(5,a,a.return));break;case 1:Vr(o,a),Br(a),h&512&&(An||u===null||Ba(u,u.return)),h&64&&ws&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=oa;if(Vr(o,a),Br(a),h&512&&(An||u===null||Ba(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Aa]||w[xn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),or(w,h,u),w[xn]=a,wn(w),h=w;break e;case"link":var N=dC("link","href",v).get(h+(u.href||""));if(N){for(var M=0;M<N.length;M++)if(w=N[M],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(M,1);break t}}w=v.createElement(h),or(w,h,u),v.head.appendChild(w);break;case"meta":if(N=dC("meta","content",v).get(h+(u.content||""))){for(M=0;M<N.length;M++)if(w=N[M],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(M,1);break t}}w=v.createElement(h),or(w,h,u),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[xn]=a,wn(w),h=w}a.stateNode=h}else fC(v,a.type,a.stateNode);else a.stateNode=uC(v,h,a.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?fC(v,a.type,a.stateNode):uC(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Ex(a,a.memoizedProps,u.memoizedProps)}break;case 27:Vr(o,a),Br(a),h&512&&(An||u===null||Ba(u,u.return)),u!==null&&h&4&&Ex(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Vr(o,a),Br(a),h&512&&(An||u===null||Ba(u,u.return)),a.flags&32){v=a.stateNode;try{Dr(v,"")}catch(Re){kt(a,a.return,Re)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Ex(a,v,u!==null?u.memoizedProps:v)),h&1024&&(kx=!0);break;case 6:if(Vr(o,a),Br(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Re){kt(a,a.return,Re)}}break;case 3:if(xg=null,v=oa,oa=vg(o.containerInfo),Vr(o,a),oa=v,Br(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{zu(o.containerInfo)}catch(Re){kt(a,a.return,Re)}kx&&(kx=!1,fN(a));break;case 4:h=oa,oa=vg(a.stateNode.containerInfo),Vr(o,a),Br(a),oa=h;break;case 12:Vr(o,a),Br(a);break;case 31:Vr(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 13:Vr(o,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sg=on()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ne=ws,ue=An;if(ws=ne||v,An=ue||G,Vr(o,a),An=ue,ws=ne,Br(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||ws||An||Kl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(w=G.stateNode,v)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=G.stateNode;var he=G.memoizedProps.style,ae=he!=null&&he.hasOwnProperty("display")?he.display:null;M.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){kt(G,G.return,Re)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Re){kt(G,G.return,Re)}}}else if(o.tag===18){if(u===null){G=o;try{var le=G.stateNode;v?tC(le,!0):tC(G.stateNode,!1)}catch(Re){kt(G,G.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ig(a,u))));break;case 19:Vr(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 30:break;case 21:break;default:Vr(o,a),Br(a)}}function Br(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(rN(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=Tx(a);rg(a,w,v);break;case 5:var N=u.stateNode;u.flags&32&&(Dr(N,""),u.flags&=-33);var M=Tx(a);rg(a,M,N);break;case 3:case 4:var G=u.stateNode.containerInfo,ne=Tx(a);Ax(a,ne,G);break;default:throw Error(r(161))}}catch(ue){kt(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function fN(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;fN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ss(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)sN(a,o.alternate,o),o=o.sibling}function Kl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:No(4,o,o.return),Kl(o);break;case 1:Ba(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&tN(o,o.return,u),Kl(o);break;case 27:nh(o.stateNode);case 26:case 5:Ba(o,o.return),Kl(o);break;case 22:o.memoizedState===null&&Kl(o);break;case 30:Kl(o);break;default:Kl(o)}a=a.sibling}}function Es(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,w=o,N=w.flags;switch(w.tag){case 0:case 11:case 15:Es(v,w,u),Gf(4,w);break;case 1:if(Es(v,w,u),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ne){kt(h,h.return,ne)}if(h=w,v=h.updateQueue,v!==null){var M=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)qA(G[v],M)}catch(ne){kt(h,h.return,ne)}}u&&N&64&&eN(w),Kf(w,w.return);break;case 27:iN(w);case 26:case 5:Es(v,w,u),u&&h===null&&N&4&&nN(w),Kf(w,w.return);break;case 12:Es(v,w,u);break;case 31:Es(v,w,u),u&&N&4&&cN(v,w);break;case 13:Es(v,w,u),u&&N&4&&uN(v,w);break;case 22:w.memoizedState===null&&Es(v,w,u),Kf(w,w.return);break;case 30:break;default:Es(v,w,u)}o=o.sibling}}function Nx(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&zf(u))}function Cx(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&zf(a))}function la(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hN(a,o,u,h),o=o.sibling}function hN(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:la(a,o,u,h),v&2048&&Gf(9,o);break;case 1:la(a,o,u,h);break;case 3:la(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&zf(a)));break;case 12:if(v&2048){la(a,o,u,h),a=o.stateNode;try{var w=o.memoizedProps,N=w.id,M=w.onPostCommit;typeof M=="function"&&M(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){kt(o,o.return,G)}}else la(a,o,u,h);break;case 31:la(a,o,u,h);break;case 13:la(a,o,u,h);break;case 23:break;case 22:w=o.stateNode,N=o.alternate,o.memoizedState!==null?w._visibility&2?la(a,o,u,h):Yf(a,o):w._visibility&2?la(a,o,u,h):(w._visibility|=2,_u(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Nx(N,o);break;case 24:la(a,o,u,h),v&2048&&Cx(o.alternate,o);break;default:la(a,o,u,h)}}function _u(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,N=o,M=u,G=h,ne=N.flags;switch(N.tag){case 0:case 11:case 15:_u(w,N,M,G,v),Gf(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?_u(w,N,M,G,v):Yf(w,N):(ue._visibility|=2,_u(w,N,M,G,v)),v&&ne&2048&&Nx(N.alternate,N);break;case 24:_u(w,N,M,G,v),v&&ne&2048&&Cx(N.alternate,N);break;default:_u(w,N,M,G,v)}o=o.sibling}}function Yf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Yf(u,h),v&2048&&Nx(h.alternate,h);break;case 24:Yf(u,h),v&2048&&Cx(h.alternate,h);break;default:Yf(u,h)}o=o.sibling}}var Wf=8192;function Su(a,o,u){if(a.subtreeFlags&Wf)for(a=a.child;a!==null;)mN(a,o,u),a=a.sibling}function mN(a,o,u){switch(a.tag){case 26:Su(a,o,u),a.flags&Wf&&a.memoizedState!==null&&NU(u,oa,a.memoizedState,a.memoizedProps);break;case 5:Su(a,o,u);break;case 3:case 4:var h=oa;oa=vg(a.stateNode.containerInfo),Su(a,o,u),oa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Wf,Wf=16777216,Su(a,o,u),Wf=h):Su(a,o,u));break;default:Su(a,o,u)}}function pN(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Qf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,yN(h,a)}pN(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gN(a),a=a.sibling}function gN(a){switch(a.tag){case 0:case 11:case 15:Qf(a),a.flags&2048&&No(9,a,a.return);break;case 3:Qf(a);break;case 12:Qf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ag(a)):Qf(a);break;default:Qf(a)}}function ag(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,yN(h,a)}pN(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:No(8,o,o.return),ag(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ag(o));break;default:ag(o)}a=a.sibling}}function yN(a,o){for(;$n!==null;){var u=$n;switch(u.tag){case 0:case 11:case 15:No(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:zf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,$n=h;else e:for(u=a;$n!==null;){h=$n;var v=h.sibling,w=h.return;if(oN(h),h===u){$n=null;break e}if(v!==null){v.return=w,$n=v;break e}$n=w}}}var qB={getCacheForType:function(a){var o=ar(Sn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return ar(Sn).controller.signal}},$B=typeof WeakMap=="function"?WeakMap:Map,wt=0,Bt=null,ct=null,dt=0,At=0,oi=null,Co=!1,Eu=!1,Ix=!1,Ts=0,cn=0,Io=0,Yl=0,jx=0,li=0,Tu=0,Xf=null,Ur=null,Ox=!1,sg=0,vN=0,og=1/0,lg=null,jo=null,On=0,Oo=null,Au=null,As=0,zx=0,Px=null,bN=null,Zf=0,Rx=null;function ci(){return(wt&2)!==0&&dt!==0?dt&-dt:Y.T!==null?Ux():df()}function xN(){if(li===0)if((dt&536870912)===0||mt){var a=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),li=a}else li=536870912;return a=ai.current,a!==null&&(a.flags|=32),li}function Fr(a,o,u){(a===Bt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(ku(a,0),zo(a,dt,li,!1)),Ht(a,u),((wt&2)===0||a!==Bt)&&(a===Bt&&((wt&2)===0&&(Yl|=u),cn===4&&zo(a,dt,li,!1)),Ua(a))}function wN(a,o,u){if((wt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||St(a,o),v=h?KB(a,o):Dx(a,o,!0),w=h;do{if(v===0){Eu&&!h&&zo(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!HB(u)){v=Dx(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var M=a;v=Xf;var G=M.current.memoizedState.isDehydrated;if(G&&(ku(M,N).flags|=256),N=Dx(M,N,!1),N!==2){if(Ix&&!G){M.errorRecoveryDisabledLanes|=w,Yl|=w,v=4;break e}w=Ur,Ur=v,w!==null&&(Ur===null?Ur=w:Ur.push.apply(Ur,w))}v=N}if(w=!1,v!==2)continue}}if(v===1){ku(a,0),zo(a,o,0,!0);break}e:{switch(h=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:zo(h,o,li,!Co);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=sg+300-on(),10<v)){if(zo(h,o,li,!Co),Ge(h,0,!0)!==0)break e;As=o,h.timeoutHandle=ZN(_N.bind(null,h,u,Ur,lg,Ox,o,li,Yl,Tu,Co,w,"Throttled",-0,0),v);break e}_N(h,u,Ur,lg,Ox,o,li,Yl,Tu,Co,w,null,-0,0)}}break}while(!0);Ua(a)}function _N(a,o,u,h,v,w,N,M,G,ne,ue,he,ae,le){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},mN(o,w,he);var Re=(w&62914560)===w?sg-on():(w&4194048)===w?vN-on():0;if(Re=CU(he,Re),Re!==null){As=w,a.cancelPendingCommit=Re(IN.bind(null,a,o,w,u,h,v,N,M,G,ue,he,null,ae,le)),zo(a,w,N,!ne);return}}IN(a,o,w,u,h,v,N,M,G)}function HB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!ri(w(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zo(a,o,u,h){o&=~jx,o&=~Yl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var w=31-Wt(v),N=1<<w;h[w]=-1,v&=~N}u!==0&&Ai(a,u,o)}function cg(){return(wt&6)===0?(Jf(0),!1):!0}function Mx(){if(ct!==null){if(At===0)var a=ct.return;else a=ct,ps=Vl=null,Zb(a),yu=null,Rf=0,a=ct;for(;a!==null;)Jk(a.alternate,a),a=a.return;ct=null}}function ku(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,dU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),As=0,Mx(),Bt=a,ct=u=hs(a.current,null),dt=o,At=0,oi=null,Co=!1,Eu=St(a,o),Ix=!1,Tu=li=jx=Yl=Io=cn=0,Ur=Xf=null,Ox=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Wt(h),w=1<<v;o|=a[v],h&=~w}return Ts=o,Ip(),u}function SN(a,o){tt=null,Y.H=qf,o===gu||o===Lp?(o=VA(),At=3):o===Bb?(o=VA(),At=4):At=o===mx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,oi=o,ct===null&&(cn=1,Zp(a,Oi(o,a.current)))}function EN(){var a=ai.current;return a===null?!0:(dt&4194048)===dt?Mi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===Mi:!1}function TN(){var a=Y.H;return Y.H=qf,a===null?qf:a}function AN(){var a=Y.A;return Y.A=qB,a}function ug(){cn=4,Co||(dt&4194048)!==dt&&ai.current!==null||(Eu=!0),(Io&134217727)===0&&(Yl&134217727)===0||Bt===null||zo(Bt,dt,li,!1)}function Dx(a,o,u){var h=wt;wt|=2;var v=TN(),w=AN();(Bt!==a||dt!==o)&&(lg=null,ku(a,o)),o=!1;var N=cn;e:do try{if(At!==0&&ct!==null){var M=ct,G=oi;switch(At){case 8:Mx(),N=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(o=!0);var ne=At;if(At=0,oi=null,Nu(a,M,G,ne),u&&Eu){N=0;break e}break;default:ne=At,At=0,oi=null,Nu(a,M,G,ne)}}GB(),N=cn;break}catch(ue){SN(a,ue)}while(!0);return o&&a.shellSuspendCounter++,ps=Vl=null,wt=h,Y.H=v,Y.A=w,ct===null&&(Bt=null,dt=0,Ip()),N}function GB(){for(;ct!==null;)kN(ct)}function KB(a,o){var u=wt;wt|=2;var h=TN(),v=AN();Bt!==a||dt!==o?(lg=null,og=on()+500,ku(a,o)):Eu=St(a,o);e:do try{if(At!==0&&ct!==null){o=ct;var w=oi;t:switch(At){case 1:At=0,oi=null,Nu(a,o,w,1);break;case 2:case 9:if(DA(w)){At=0,oi=null,NN(o);break}o=function(){At!==2&&At!==9||Bt!==a||(At=7),Ua(a)},w.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:DA(w)?(At=0,oi=null,NN(o)):(At=0,oi=null,Nu(a,o,w,7));break;case 5:var N=null;switch(ct.tag){case 26:N=ct.memoizedState;case 5:case 27:var M=ct;if(N?hC(N):M.stateNode.complete){At=0,oi=null;var G=M.sibling;if(G!==null)ct=G;else{var ne=M.return;ne!==null?(ct=ne,dg(ne)):ct=null}break t}}At=0,oi=null,Nu(a,o,w,5);break;case 6:At=0,oi=null,Nu(a,o,w,6);break;case 8:Mx(),cn=6;break e;default:throw Error(r(462))}}YB();break}catch(ue){SN(a,ue)}while(!0);return ps=Vl=null,Y.H=h,Y.A=v,wt=u,ct!==null?0:(Bt=null,dt=0,Ip(),cn)}function YB(){for(;ct!==null&&!at();)kN(ct)}function kN(a){var o=Xk(a.alternate,a,Ts);a.memoizedProps=a.pendingProps,o===null?dg(a):ct=o}function NN(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Hk(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=Hk(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Zb(o);default:Jk(u,o),o=ct=AA(o,Ts),o=Xk(u,o,Ts)}a.memoizedProps=a.pendingProps,o===null?dg(a):ct=o}function Nu(a,o,u,h){ps=Vl=null,Zb(o),yu=null,Rf=0;var v=o.return;try{if(MB(a,v,o,u,dt)){cn=1,Zp(a,Oi(u,a.current)),ct=null;return}}catch(w){if(v!==null)throw ct=v,w;cn=1,Zp(a,Oi(u,a.current)),ct=null;return}o.flags&32768?(mt||h===1?a=!0:Eu||(dt&536870912)!==0?a=!1:(Co=a=!0,(h===2||h===9||h===3||h===6)&&(h=ai.current,h!==null&&h.tag===13&&(h.flags|=16384))),CN(o,a)):dg(o)}function dg(a){var o=a;do{if((o.flags&32768)!==0){CN(o,Co);return}a=o.return;var u=VB(o.alternate,o,Ts);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=a}while(o!==null);cn===0&&(cn=5)}function CN(a,o){do{var u=BB(a.alternate,a);if(u!==null){u.flags&=32767,ct=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ct=a;return}ct=a=u}while(a!==null);cn=6,ct=null}function IN(a,o,u,h,v,w,N,M,G){a.cancelPendingCommit=null;do fg();while(On!==0);if((wt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Tb,gr(a,u,w,N,M,G),a===Bt&&(ct=Bt=null,dt=0),Au=o,Oo=a,As=u,zx=w,Px=v,bN=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ZB(Zr,function(){return RN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=re.p,re.p=2,N=wt,wt|=4;try{UB(a,o,u)}finally{wt=N,re.p=v,Y.T=h}}On=1,jN(),ON(),zN()}}function jN(){if(On===1){On=0;var a=Oo,o=Au,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=wt;wt|=4;try{dN(o,a);var w=Wx,N=yA(a.containerInfo),M=w.focusedElem,G=w.selectionRange;if(N!==M&&M&&M.ownerDocument&&gA(M.ownerDocument.documentElement,M)){if(G!==null&&xb(M)){var ne=G.start,ue=G.end;if(ue===void 0&&(ue=ne),"selectionStart"in M)M.selectionStart=ne,M.selectionEnd=Math.min(ue,M.value.length);else{var he=M.ownerDocument||document,ae=he&&he.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=M.textContent.length,Ke=Math.min(G.start,Re),Mt=G.end===void 0?Ke:Math.min(G.end,Re);!le.extend&&Ke>Mt&&(N=Mt,Mt=Ke,Ke=N);var Z=pA(M,Ke),W=pA(M,Mt);if(Z&&W&&(le.rangeCount!==1||le.anchorNode!==Z.node||le.anchorOffset!==Z.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var te=he.createRange();te.setStart(Z.node,Z.offset),le.removeAllRanges(),Ke>Mt?(le.addRange(te),le.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),le.addRange(te))}}}}for(he=[],le=M;le=le.parentNode;)le.nodeType===1&&he.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<he.length;M++){var fe=he[M];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Eg=!!Yx,Wx=Yx=null}finally{wt=v,re.p=h,Y.T=u}}a.current=o,On=2}}function ON(){if(On===2){On=0;var a=Oo,o=Au,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=wt;wt|=4;try{sN(a,o.alternate,o)}finally{wt=v,re.p=h,Y.T=u}}On=3}}function zN(){if(On===4||On===3){On=0,jn();var a=Oo,o=Au,u=As,h=bN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?On=5:(On=0,Au=Oo=null,PN(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(jo=null),nr(u),o=o.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,v=re.p,re.p=2,Y.T=null;try{for(var w=a.onRecoverableError,N=0;N<h.length;N++){var M=h[N];w(M.value,{componentStack:M.stack})}}finally{Y.T=o,re.p=v}}(As&3)!==0&&fg(),Ua(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Rx?Zf++:(Zf=0,Rx=a):Zf=0,Jf(0)}}function PN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,zf(o)))}function fg(){return jN(),ON(),zN(),RN()}function RN(){if(On!==5)return!1;var a=Oo,o=zx;zx=0;var u=nr(As),h=Y.T,v=re.p;try{re.p=32>u?32:u,Y.T=null,u=Px,Px=null;var w=Oo,N=As;if(On=0,Au=Oo=null,As=0,(wt&6)!==0)throw Error(r(331));var M=wt;if(wt|=4,gN(w.current),hN(w,w.current,N,u),wt=M,Jf(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Jn,w)}catch{}return!0}finally{re.p=v,Y.T=h,PN(a,o)}}function MN(a,o,u){o=Oi(u,o),o=hx(a.stateNode,o,2),a=To(a,o,2),a!==null&&(Ht(a,2),Ua(a))}function kt(a,o,u){if(a.tag===3)MN(a,a,u);else for(;o!==null;){if(o.tag===3){MN(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(jo===null||!jo.has(h))){a=Oi(u,a),u=Dk(2),h=To(o,u,2),h!==null&&(Lk(u,h,o,a),Ht(h,2),Ua(h));break}}o=o.return}}function Lx(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new $B;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Ix=!0,v.add(u),a=WB.bind(null,a,o,u),o.then(a,a))}function WB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Bt===a&&(dt&u)===u&&(cn===4||cn===3&&(dt&62914560)===dt&&300>on()-sg?(wt&2)===0&&ku(a,0):jx|=u,Tu===dt&&(Tu=0)),Ua(a)}function DN(a,o){o===0&&(o=Un()),a=Ml(a,o),a!==null&&(Ht(a,o),Ua(a))}function QB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),DN(a,u)}function XB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),DN(a,u)}function ZB(a,o){return $t(a,o)}var hg=null,Cu=null,Vx=!1,mg=!1,Bx=!1,Po=0;function Ua(a){a!==Cu&&a.next===null&&(Cu===null?hg=Cu=a:Cu=Cu.next=a),mg=!0,Vx||(Vx=!0,eU())}function Jf(a,o){if(!Bx&&mg){Bx=!0;do for(var u=!1,h=hg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var N=h.suspendedLanes,M=h.pingedLanes;w=(1<<31-Wt(42|a)+1)-1,w&=v&~(N&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,UN(h,w))}else w=dt,w=Ge(h,h===Bt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||St(h,w)||(u=!0,UN(h,w));h=h.next}while(u);Bx=!1}}function JB(){LN()}function LN(){mg=Vx=!1;var a=0;Po!==0&&uU()&&(a=Po);for(var o=on(),u=null,h=hg;h!==null;){var v=h.next,w=VN(h,o);w===0?(h.next=null,u===null?hg=v:u.next=v,v===null&&(Cu=u)):(u=h,(a!==0||(w&3)!==0)&&(mg=!0)),h=v}On!==0&&On!==5||Jf(a),Po!==0&&(Po=0)}function VN(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var N=31-Wt(w),M=1<<N,G=v[N];G===-1?((M&u)===0||(M&h)!==0)&&(v[N]=bn(M,o)):G<=o&&(a.expiredLanes|=M),w&=~M}if(o=Bt,u=dt,u=Ge(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&He(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||St(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&He(h),nr(u)){case 2:case 8:u=Zi;break;case 32:u=Zr;break;case 268435456:u=_t;break;default:u=Zr}return h=BN.bind(null,a),u=$t(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&He(h),a.callbackPriority=2,a.callbackNode=null,2}function BN(a,o){if(On!==0&&On!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(fg()&&a.callbackNode!==u)return null;var h=dt;return h=Ge(a,a===Bt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(wN(a,h,o),VN(a,on()),a.callbackNode!=null&&a.callbackNode===u?BN.bind(null,a):null)}function UN(a,o){if(fg())return null;wN(a,o,!0)}function eU(){fU(function(){(wt&6)!==0?$t(Pr,JB):LN()})}function Ux(){if(Po===0){var a=mu;a===0&&(a=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Po=a}return Po}function FN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Jc(""+a)}function qN(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function tU(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var w=FN((v[Fn]||null).action),N=h.submitter;N&&(o=(o=N[Fn]||null)?FN(o.formAction):N.getAttribute("formAction"),o!==null&&(w=o,N=null));var M=new Pa("action","action",null,h,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Po!==0){var G=N?qN(v,N):new FormData(v);ox(u,{pending:!0,data:G,method:v.method,action:w},null,G)}}else typeof w=="function"&&(M.preventDefault(),G=N?qN(v,N):new FormData(v),ox(u,{pending:!0,data:G,method:v.method,action:w},w,G))},currentTarget:v}]})}}for(var Fx=0;Fx<Eb.length;Fx++){var qx=Eb[Fx],nU=qx.toLowerCase(),rU=qx[0].toUpperCase()+qx.slice(1);sa(nU,"on"+rU)}sa(xA,"onAnimationEnd"),sa(wA,"onAnimationIteration"),sa(_A,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(bB,"onTransitionRun"),sa(xB,"onTransitionStart"),sa(wB,"onTransitionCancel"),sa(SA,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function $N(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var N=h.length-1;0<=N;N--){var M=h[N],G=M.instance,ne=M.currentTarget;if(M=M.listener,G!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=ne;try{w(v)}catch(ue){Cp(ue)}v.currentTarget=null,w=G}else for(N=0;N<h.length;N++){if(M=h[N],G=M.instance,ne=M.currentTarget,M=M.listener,G!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=ne;try{w(v)}catch(ue){Cp(ue)}v.currentTarget=null,w=G}}}}function ut(a,o){var u=o[Yc];u===void 0&&(u=o[Yc]=new Set);var h=a+"__bubble";u.has(h)||(HN(o,a,2,!1),u.add(h))}function $x(a,o,u){var h=0;o&&(h|=4),HN(u,a,h,o)}var pg="_reactListening"+Math.random().toString(36).slice(2);function Hx(a){if(!a[pg]){a[pg]=!0,ff.forEach(function(u){u!=="selectionchange"&&(iU.has(u)||$x(u,!1,a),$x(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[pg]||(o[pg]=!0,$x("selectionchange",!1,o))}}function HN(a,o,u,h){switch(xC(o)){case 2:var v=OU;break;case 8:v=zU;break;default:v=s1}u=v.bind(null,o,u,a),v=void 0,!Nl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Gx(a,o,u,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var M=h.stateNode.containerInfo;if(M===v)break;if(N===4)for(N=h.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;M!==null;){if(N=ka(M),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){h=w=N;continue e}M=M.parentNode}}h=h.return}po(function(){var ne=w,ue=Ni(u),he=[];e:{var ae=EA.get(a);if(ae!==void 0){var le=Pa,Re=a;switch(a){case"keypress":if(Il(u)===0)break e;case"keydown":case"keyup":le=Ap;break;case"focusin":Re="focus",le=Ol;break;case"focusout":Re="blur",le=Ol;break;case"beforeblur":case"afterblur":le=Ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=A;break;case xA:case wA:case _A:le=bp;break;case SA:le=F;break;case"scroll":case"scrollend":le=Ef;break;case"wheel":le=se;break;case"copy":case"cut":case"paste":le=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=fs;break;case"toggle":case"beforetoggle":le=et}var Ke=(o&4)!==0,Mt=!Ke&&(a==="scroll"||a==="scrollend"),Z=Ke?ae!==null?ae+"Capture":null:ae;Ke=[];for(var W=ne,te;W!==null;){var fe=W;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||Z===null||(fe=na(W,Z),fe!=null&&Ke.push(th(W,fe,te))),Mt)break;W=W.return}0<Ke.length&&(ae=new le(ae,Re,null,u,ue),he.push({event:ae,listeners:Ke}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&u!==wf&&(Re=u.relatedTarget||u.fromElement)&&(ka(Re)||Re[Ta]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=u.relatedTarget||u.toElement,le=ne,Re=Re?ka(Re):null,Re!==null&&(Mt=s(Re),Ke=Re.tag,Re!==Mt||Ke!==5&&Ke!==27&&Ke!==6)&&(Re=null)):(le=null,Re=ne),le!==Re)){if(Ke=Tf,fe="onMouseLeave",Z="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=fs,fe="onPointerLeave",Z="onPointerEnter",W="pointer"),Mt=le==null?ae:ti(le),te=Re==null?ae:ti(Re),ae=new Ke(fe,W+"leave",le,u,ue),ae.target=Mt,ae.relatedTarget=te,fe=null,ka(ue)===ne&&(Ke=new Ke(Z,W+"enter",Re,u,ue),Ke.target=te,Ke.relatedTarget=Mt,fe=Ke),Mt=fe,le&&Re)t:{for(Ke=aU,Z=le,W=Re,te=0,fe=Z;fe;fe=Ke(fe))te++;fe=0;for(var Fe=W;Fe;Fe=Ke(Fe))fe++;for(;0<te-fe;)Z=Ke(Z),te--;for(;0<fe-te;)W=Ke(W),fe--;for(;te--;){if(Z===W||W!==null&&Z===W.alternate){Ke=Z;break t}Z=Ke(Z),W=Ke(W)}Ke=null}else Ke=null;le!==null&&GN(he,ae,le,Ke,!1),Re!==null&&Mt!==null&&GN(he,Mt,Re,Ke,!0)}}e:{if(ae=ne?ti(ne):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var yt=cA;else if(oA(ae))if(uA)yt=gB;else{yt=mB;var Be=hB}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Zc(ne.elementType)&&(yt=cA):yt=pB;if(yt&&(yt=yt(a,ne))){lA(he,yt,u,ue);break e}Be&&Be(a,ae,ne),a==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&vf(ae,"number",ae.value)}switch(Be=ne?ti(ne):window,a){case"focusin":(oA(Be)||Be.contentEditable==="true")&&(su=Be,wb=ne,If=null);break;case"focusout":If=wb=su=null;break;case"mousedown":_b=!0;break;case"contextmenu":case"mouseup":case"dragend":_b=!1,vA(he,u,ue);break;case"selectionchange":if(vB)break;case"keydown":case"keyup":vA(he,u,ue)}var rt;if(xt)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else au?zl(a,u)&&(ft="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(Da&&u.locale!=="ko"&&(au||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&au&&(rt=Sf()):(za=ue,_f="value"in za?za.value:za.textContent,au=!0)),Be=gg(ne,ft),0<Be.length&&(ft=new Ma(ft,a,null,u,ue),he.push({event:ft,listeners:Be}),rt?ft.data=rt:(rt=iu(u),rt!==null&&(ft.data=rt)))),(rt=Ii?cB(a,u):uB(a,u))&&(ft=gg(ne,"onBeforeInput"),0<ft.length&&(Be=new Ma("onBeforeInput","beforeinput",null,u,ue),he.push({event:Be,listeners:ft}),Be.data=rt)),tU(he,a,ne,u,ue)}$N(he,o)})}function th(a,o,u){return{instance:a,listener:o,currentTarget:u}}function gg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=na(a,u),v!=null&&h.unshift(th(a,v,w)),v=na(a,o),v!=null&&h.push(th(a,v,w))),a.tag===3)return h;a=a.return}return[]}function aU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function GN(a,o,u,h,v){for(var w=o._reactName,N=[];u!==null&&u!==h;){var M=u,G=M.alternate,ne=M.stateNode;if(M=M.tag,G!==null&&G===h)break;M!==5&&M!==26&&M!==27||ne===null||(G=ne,v?(ne=na(u,w),ne!=null&&N.unshift(th(u,ne,G))):v||(ne=na(u,w),ne!=null&&N.push(th(u,ne,G)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var sU=/\r\n?/g,oU=/\u0000|\uFFFD/g;function KN(a){return(typeof a=="string"?a:""+a).replace(sU,`
`).replace(oU,"")}function YN(a,o){return o=KN(o),KN(a)===o}function Rt(a,o,u,h,v,w){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Dr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Dr(a,""+h);break;case"className":ni(a,"class",h);break;case"tabIndex":ni(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(a,u,h);break;case"style":xf(a,h,w);break;case"data":if(o!=="object"){ni(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&Rt(a,o,"name",v.name,v,null),Rt(a,o,"formEncType",v.formEncType,v,null),Rt(a,o,"formMethod",v.formMethod,v,null),Rt(a,o,"formTarget",v.formTarget,v,null)):(Rt(a,o,"encType",v.encType,v,null),Rt(a,o,"method",v.method,v,null),Rt(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=ta);break;case"onScroll":h!=null&&ut("scroll",a);break;case"onScrollEnd":h!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Jc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":ut("beforetoggle",a),ut("toggle",a),Qc(a,"popover",h);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gp.get(u)||u,Qc(a,u,h))}}function Kx(a,o,u,h,v,w){switch(u){case"style":xf(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Dr(a,h):(typeof h=="number"||typeof h=="bigint")&&Dr(a,""+h);break;case"onScroll":h!=null&&ut("scroll",a);break;case"onScrollEnd":h!=null&&ut("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),w=a[Fn]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Qc(a,u,h)}}}function or(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var h=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var N=u[w];if(N!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,w,N,u,null)}}v&&Rt(a,o,"srcSet",u.srcSet,u,null),h&&Rt(a,o,"src",u.src,u,null);return;case"input":ut("invalid",a);var M=w=N=v=null,G=null,ne=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":v=ue;break;case"type":N=ue;break;case"checked":G=ue;break;case"defaultChecked":ne=ue;break;case"value":w=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Rt(a,o,h,ue,u,null)}}hp(a,w,M,G,ne,N,v,!1);return;case"select":ut("invalid",a),h=N=w=null;for(v in u)if(u.hasOwnProperty(v)&&(M=u[v],M!=null))switch(v){case"value":w=M;break;case"defaultValue":N=M;break;case"multiple":h=M;default:Rt(a,o,v,M,u,null)}o=w,u=N,a.multiple=!!h,o!=null?uo(a,!!h,o,!1):u!=null&&uo(a,!!h,u,!0);return;case"textarea":ut("invalid",a),w=v=h=null;for(N in u)if(u.hasOwnProperty(N)&&(M=u[N],M!=null))switch(N){case"value":h=M;break;case"defaultValue":v=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Rt(a,o,N,M,u,null)}fo(a,h,v,w);return;case"option":for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Rt(a,o,G,h,u,null));return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(h=0;h<eh.length;h++)ut(eh[h],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in u)if(u.hasOwnProperty(ne)&&(h=u[ne],h!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,ne,h,u,null)}return;default:if(Zc(o)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&Kx(a,o,ue,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&Rt(a,o,M,h,u,null))}function lU(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,N=null,M=null,G=null,ne=null,ue=null;for(le in u){var he=u[le];if(u.hasOwnProperty(le)&&he!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=he;default:h.hasOwnProperty(le)||Rt(a,o,le,null,h,he)}}for(var ae in h){var le=h[ae];if(he=u[ae],h.hasOwnProperty(ae)&&(le!=null||he!=null))switch(ae){case"type":w=le;break;case"name":v=le;break;case"checked":ne=le;break;case"defaultChecked":ue=le;break;case"value":N=le;break;case"defaultValue":M=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==he&&Rt(a,o,ae,le,h,he)}}Xc(a,N,M,G,ne,ue,w,v);return;case"select":le=N=M=ae=null;for(w in u)if(G=u[w],u.hasOwnProperty(w)&&G!=null)switch(w){case"value":break;case"multiple":le=G;default:h.hasOwnProperty(w)||Rt(a,o,w,null,h,G)}for(v in h)if(w=h[v],G=u[v],h.hasOwnProperty(v)&&(w!=null||G!=null))switch(v){case"value":ae=w;break;case"defaultValue":M=w;break;case"multiple":N=w;default:w!==G&&Rt(a,o,v,w,h,G)}o=M,u=N,h=le,ae!=null?uo(a,!!u,ae,!1):!!h!=!!u&&(o!=null?uo(a,!!u,o,!0):uo(a,!!u,u?[]:"",!1));return;case"textarea":le=ae=null;for(M in u)if(v=u[M],u.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Rt(a,o,M,null,h,v)}for(N in h)if(v=h[N],w=u[N],h.hasOwnProperty(N)&&(v!=null||w!=null))switch(N){case"value":ae=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Rt(a,o,N,v,h,w)}mp(a,ae,le);return;case"option":for(var Re in u)ae=u[Re],u.hasOwnProperty(Re)&&ae!=null&&!h.hasOwnProperty(Re)&&(Re==="selected"?a.selected=!1:Rt(a,o,Re,null,h,ae));for(G in h)ae=h[G],le=u[G],h.hasOwnProperty(G)&&ae!==le&&(ae!=null||le!=null)&&(G==="selected"?a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Rt(a,o,G,ae,h,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ae=u[Ke],u.hasOwnProperty(Ke)&&ae!=null&&!h.hasOwnProperty(Ke)&&Rt(a,o,Ke,null,h,ae);for(ne in h)if(ae=h[ne],le=u[ne],h.hasOwnProperty(ne)&&ae!==le&&(ae!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Rt(a,o,ne,ae,h,le)}return;default:if(Zc(o)){for(var Mt in u)ae=u[Mt],u.hasOwnProperty(Mt)&&ae!==void 0&&!h.hasOwnProperty(Mt)&&Kx(a,o,Mt,void 0,h,ae);for(ue in h)ae=h[ue],le=u[ue],!h.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||Kx(a,o,ue,ae,h,le);return}}for(var Z in u)ae=u[Z],u.hasOwnProperty(Z)&&ae!=null&&!h.hasOwnProperty(Z)&&Rt(a,o,Z,null,h,ae);for(he in h)ae=h[he],le=u[he],!h.hasOwnProperty(he)||ae===le||ae==null&&le==null||Rt(a,o,he,ae,h,le)}function WN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],w=v.transferSize,N=v.initiatorType,M=v.duration;if(w&&M&&WN(N)){for(N=0,M=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],ne=G.startTime;if(ne>M)break;var ue=G.transferSize,he=G.initiatorType;ue&&WN(he)&&(G=G.responseEnd,N+=ue*(G<M?1:(M-ne)/(G-ne)))}if(--h,o+=8*(w+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Yx=null,Wx=null;function yg(a){return a.nodeType===9?a:a.ownerDocument}function QN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Qx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xx=null;function uU(){var a=window.event;return a&&a.type==="popstate"?a===Xx?!1:(Xx=a,!0):(Xx=null,!1)}var ZN=typeof setTimeout=="function"?setTimeout:void 0,dU=typeof clearTimeout=="function"?clearTimeout:void 0,JN=typeof Promise=="function"?Promise:void 0,fU=typeof queueMicrotask=="function"?queueMicrotask:typeof JN<"u"?function(a){return JN.resolve(null).then(a).catch(hU)}:ZN;function hU(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function eC(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),zu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")nh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,nh(u);for(var w=u.firstChild;w;){var N=w.nextSibling,M=w.nodeName;w[Aa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=N}}else u==="body"&&nh(a.ownerDocument.body);u=v}while(u);zu(o)}function tC(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Zx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Zx(u),Wc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function mU(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Aa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function pU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Di(a.nextSibling),a===null))return null;return a}function nC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Di(a.nextSibling),a===null))return null;return a}function Jx(a){return a.data==="$?"||a.data==="$~"}function e1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function gU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Di(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var t1=null;function rC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Di(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function iC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function aC(a,o,u){switch(o=yg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function nh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Wc(a)}var Li=new Map,sC=new Set;function vg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ks=re.d;re.d={f:yU,r:vU,D:bU,C:xU,L:wU,m:_U,X:EU,S:SU,M:TU};function yU(){var a=ks.f(),o=cg();return a||o}function vU(a){var o=ki(a);o!==null&&o.tag===5&&o.type==="form"?Sk(o):ks.r(a)}var Iu=typeof document>"u"?null:document;function oC(a,o,u){var h=Iu;if(h&&typeof o=="string"&&o){var v=Mr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),sC.has(v)||(sC.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),or(o,"link",a),wn(o),h.head.appendChild(o)))}}function bU(a){ks.D(a),oC("dns-prefetch",a,null)}function xU(a,o){ks.C(a,o),oC("preconnect",a,o)}function wU(a,o,u){ks.L(a,o,u);var h=Iu;if(h&&a&&o){var v='link[rel="preload"][as="'+Mr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Mr(u.imageSizes)+'"]')):v+='[href="'+Mr(a)+'"]';var w=v;switch(o){case"style":w=ju(a);break;case"script":w=Ou(a)}Li.has(w)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Li.set(w,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(rh(w))||o==="script"&&h.querySelector(ih(w))||(o=h.createElement("link"),or(o,"link",a),wn(o),h.head.appendChild(o)))}}function _U(a,o){ks.m(a,o);var u=Iu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Mr(h)+'"][href="'+Mr(a)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ou(a)}if(!Li.has(w)&&(a=m({rel:"modulepreload",href:a},o),Li.set(w,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ih(w)))return}h=u.createElement("link"),or(h,"link",a),wn(h),u.head.appendChild(h)}}}function SU(a,o,u){ks.S(a,o,u);var h=Iu;if(h&&a){var v=Na(h).hoistableStyles,w=ju(a);o=o||"default";var N=v.get(w);if(!N){var M={loading:0,preload:null};if(N=h.querySelector(rh(w)))M.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Li.get(w))&&n1(a,u);var G=N=h.createElement("link");wn(G),or(G,"link",a),G._p=new Promise(function(ne,ue){G.onload=ne,G.onerror=ue}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,bg(N,o,h)}N={type:"stylesheet",instance:N,count:1,state:M},v.set(w,N)}}}function EU(a,o){ks.X(a,o);var u=Iu;if(u&&a){var h=Na(u).hoistableScripts,v=Ou(a),w=h.get(v);w||(w=u.querySelector(ih(v)),w||(a=m({src:a,async:!0},o),(o=Li.get(v))&&r1(a,o),w=u.createElement("script"),wn(w),or(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function TU(a,o){ks.M(a,o);var u=Iu;if(u&&a){var h=Na(u).hoistableScripts,v=Ou(a),w=h.get(v);w||(w=u.querySelector(ih(v)),w||(a=m({src:a,async:!0,type:"module"},o),(o=Li.get(v))&&r1(a,o),w=u.createElement("script"),wn(w),or(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function lC(a,o,u,h){var v=(v=ge.current)?vg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ju(u.href),u=Na(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ju(u.href);var w=Na(v).hoistableStyles,N=w.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,N),(w=v.querySelector(rh(a)))&&!w._p&&(N.instance=w,N.state.loading=5),Li.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(a,u),w||AU(v,a,u,N.state))),o&&h===null)throw Error(r(528,""));return N}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ou(u),u=Na(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ju(a){return'href="'+Mr(a)+'"'}function rh(a){return'link[rel="stylesheet"]['+a+"]"}function cC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function AU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),or(o,"link",u),wn(o),a.head.appendChild(o))}function Ou(a){return'[src="'+Mr(a)+'"]'}function ih(a){return"script[async]"+a}function uC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(h)return o.instance=h,wn(h),h;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),wn(h),or(h,"style",v),bg(h,u.precedence,a),o.instance=h;case"stylesheet":v=ju(u.href);var w=a.querySelector(rh(v));if(w)return o.state.loading|=4,o.instance=w,wn(w),w;h=cC(u),(v=Li.get(v))&&n1(h,v),w=(a.ownerDocument||a).createElement("link"),wn(w);var N=w;return N._p=new Promise(function(M,G){N.onload=M,N.onerror=G}),or(w,"link",h),o.state.loading|=4,bg(w,u.precedence,a),o.instance=w;case"script":return w=Ou(u.src),(v=a.querySelector(ih(w)))?(o.instance=v,wn(v),v):(h=u,(v=Li.get(w))&&(h=m({},u),r1(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),wn(v),or(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,bg(h,u.precedence,a));return o.instance}function bg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,N=0;N<h.length;N++){var M=h[N];if(M.dataset.precedence===o)w=M;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function n1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function r1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xg=null;function dC(a,o,u){if(xg===null){var h=new Map,v=xg=new Map;v.set(u,h)}else v=xg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var w=u[v];if(!(w[Aa]||w[xn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(o)||"";N=a+N;var M=h.get(N);M?M.push(w):h.set(N,[w])}}return h}function fC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function kU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function NU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=ju(h.href),w=o.querySelector(rh(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=wg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=w,wn(w);return}w=o.ownerDocument||o,h=cC(h),(v=Li.get(v))&&n1(h,v),w=w.createElement("link"),wn(w);var N=w;N._p=new Promise(function(M,G){N.onload=M,N.onerror=G}),or(w,"link",h),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=wg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var i1=0;function CU(a,o){return a.stylesheets&&a.count===0&&Sg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Sg(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&i1===0&&(i1=62500*cU());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Sg(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>i1?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function wg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var _g=null;function Sg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,_g=new Map,o.forEach(IU,a),_g=null,wg.call(a))}function IU(a,o){if(!(o.state.loading&4)){var u=_g.get(a);if(u)var h=u.get(null);else{u=new Map,_g.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var N=v[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),h=N)}h&&u.set(null,h)}v=o.instance,N=v.getAttribute("data-precedence"),w=u.get(N)||h,w===h&&u.set(null,v),u.set(N,v),this.count++,h=wg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ah={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function jU(a,o,u,h,v,w,N,M,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function mC(a,o,u,h,v,w,N,M,G,ne,ue,he){return a=new jU(a,o,u,N,G,ne,ue,he,M),o=1,w===!0&&(o|=24),w=ii(3,null,null,o),a.current=w,w.stateNode=a,o=Db(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:o},Ub(w),a}function pC(a){return a?(a=cu,a):cu}function gC(a,o,u,h,v,w){v=pC(v),h.context===null?h.context=v:h.pendingContext=v,h=Eo(o),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=To(a,h,o),u!==null&&(Fr(u,a,o),Df(u,a,o))}function yC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function a1(a,o){yC(a,o),(a=a.alternate)&&yC(a,o)}function vC(a){if(a.tag===13||a.tag===31){var o=Ml(a,67108864);o!==null&&Fr(o,a,67108864),a1(a,67108864)}}function bC(a){if(a.tag===13||a.tag===31){var o=ci();o=Ea(o);var u=Ml(a,o);u!==null&&Fr(u,a,o),a1(a,o)}}var Eg=!0;function OU(a,o,u,h){var v=Y.T;Y.T=null;var w=re.p;try{re.p=2,s1(a,o,u,h)}finally{re.p=w,Y.T=v}}function zU(a,o,u,h){var v=Y.T;Y.T=null;var w=re.p;try{re.p=8,s1(a,o,u,h)}finally{re.p=w,Y.T=v}}function s1(a,o,u,h){if(Eg){var v=o1(h);if(v===null)Gx(a,o,h,Tg,u),wC(a,h);else if(RU(v,a,o,u,h))h.stopPropagation();else if(wC(a,h),o&4&&-1<PU.indexOf(a)){for(;v!==null;){var w=ki(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=ei(w.pendingLanes);if(N!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var G=1<<31-Wt(N);M.entanglements[1]|=G,N&=~G}Ua(w),(wt&6)===0&&(og=on()+500,Jf(0))}}break;case 31:case 13:M=Ml(w,2),M!==null&&Fr(M,w,2),cg(),a1(w,2)}if(w=o1(h),w===null&&Gx(a,o,h,Tg,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else Gx(a,o,h,null,u)}}function o1(a){return a=Ni(a),l1(a)}var Tg=null;function l1(a){if(Tg=null,a=ka(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Tg=a,null}function xC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Pr:return 2;case Zi:return 8;case Zr:case _e:return 32;case _t:return 268435456;default:return 32}default:return 32}}var c1=!1,Mo=null,Do=null,Lo=null,sh=new Map,oh=new Map,Vo=[],PU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wC(a,o){switch(a){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":sh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(o.pointerId)}}function lh(a,o,u,h,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=ki(o),o!==null&&vC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function RU(a,o,u,h,v){switch(o){case"focusin":return Mo=lh(Mo,a,o,u,h,v),!0;case"dragenter":return Do=lh(Do,a,o,u,h,v),!0;case"mouseover":return Lo=lh(Lo,a,o,u,h,v),!0;case"pointerover":var w=v.pointerId;return sh.set(w,lh(sh.get(w)||null,a,o,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,oh.set(w,lh(oh.get(w)||null,a,o,u,h,v)),!0}return!1}function _C(a){var o=ka(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Ji(a.priority,function(){bC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Ji(a.priority,function(){bC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ag(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=o1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);wf=h,u.target.dispatchEvent(h),wf=null}else return o=ki(u),o!==null&&vC(o),a.blockedOn=u,!1;o.shift()}return!0}function SC(a,o,u){Ag(a)&&u.delete(o)}function MU(){c1=!1,Mo!==null&&Ag(Mo)&&(Mo=null),Do!==null&&Ag(Do)&&(Do=null),Lo!==null&&Ag(Lo)&&(Lo=null),sh.forEach(SC),oh.forEach(SC)}function kg(a,o){a.blockedOn===o&&(a.blockedOn=null,c1||(c1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MU)))}var Ng=null;function EC(a){Ng!==a&&(Ng=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ng===a&&(Ng=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(l1(h||u)===null)continue;break}var w=ki(u);w!==null&&(a.splice(o,3),o-=3,ox(w,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function zu(a){function o(G){return kg(G,a)}Mo!==null&&kg(Mo,a),Do!==null&&kg(Do,a),Lo!==null&&kg(Lo,a),sh.forEach(o),oh.forEach(o);for(var u=0;u<Vo.length;u++){var h=Vo[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Vo.length&&(u=Vo[0],u.blockedOn===null);)_C(u),u.blockedOn===null&&Vo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],w=u[h+1],N=v[Fn]||null;if(typeof w=="function")N||EC(u);else if(N){var M=null;if(w&&w.hasAttribute("formAction")){if(v=w,N=w[Fn]||null)M=N.formAction;else if(l1(v)!==null)continue}else M=N.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),EC(u)}}}function TC(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function u1(a){this._internalRoot=a}Cg.prototype.render=u1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ci();gC(u,h,a,o,null,null)},Cg.prototype.unmount=u1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;gC(a.current,2,null,a,null,null),cg(),o[Ta]=null}};function Cg(a){this._internalRoot=a}Cg.prototype.unstable_scheduleHydration=function(a){if(a){var o=df();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Vo.length&&o!==0&&o<Vo[u].priority;u++);Vo.splice(u,0,a),u===0&&_C(a)}};var AC=e.version;if(AC!=="19.2.3")throw Error(r(527,AC,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var DU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{Jn=Ig.inject(DU),nn=Ig}catch{}}return uh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=zk,w=Pk,N=Rk;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=mC(a,1,!1,null,null,u,h,null,v,w,N,TC),a[Ta]=o.current,Hx(a),new u1(o)},uh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",w=zk,N=Pk,M=Rk,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=mC(a,1,!0,o,u??null,h,v,G,w,N,M,TC),o.context=pC(null),u=o.current,h=ci(),h=Ea(h),v=Eo(h),v.callback=null,To(u,v,h),u=h,o.current.lanes=u,Ht(o,u),Ua(o),a[Ta]=o.current,Hx(a),new Cg(o)},uh.version="19.2.3",uh}var MC;function YU(){if(MC)return h1.exports;MC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h1.exports=KU(),h1.exports}var WU=YU();const FM=T.createContext(void 0),qM=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return g.jsx(FM.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},Ld=()=>{const t=T.useContext(FM);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var DC="popstate";function QU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Vc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),__("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Gh(s))}function r(i,s){bi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return ZU(e,n,r,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XU(){return Math.random().toString(36).substring(2,10)}function LC(t,e){return{usr:t.state,key:t.key,idx:e}}function __(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:n,key:e&&e.key||r||XU()}}function Gh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let _=p(),k=_==null?null:_-f;f=_,d&&d({action:c,location:E.location,delta:k})}function b(_,k){c="PUSH";let P=__(E.location,_,k);n&&n(P,_),f=p()+1;let I=LC(P,f),D=E.createHref(P);try{l.pushState(I,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}s&&d&&d({action:c,location:E.location,delta:1})}function x(_,k){c="REPLACE";let P=__(E.location,_,k);n&&n(P,_),f=p();let I=LC(P,f),D=E.createHref(P);l.replaceState(I,"",D),s&&d&&d({action:c,location:E.location,delta:0})}function S(_){return JU(_)}let E={get action(){return c},get location(){return t(i,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(DC,m),d=_,()=>{i.removeEventListener(DC,m),d=null}},createHref(_){return e(i,_)},createURL:S,encodeLocation(_){let k=S(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(_){return l.go(_)}};return E}function JU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $M(t,e,n="/"){return e7(t,e,n,!1)}function e7(t,e,n,r){let i=typeof e=="string"?Vc(e):e,s=Bs(i.pathname||"/",n);if(s==null)return null;let l=HM(t);t7(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=f7(s);c=u7(l[d],f,r)}return c}function HM(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;tn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Ls([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(tn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HM(l.children,e,b,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:l7(m,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of GM(l.path))s(l,c,!0,d)}),e}function GM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=GM(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function t7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var n7=/^:[\w-]+$/,r7=3,i7=2,a7=1,s7=10,o7=-2,VC=t=>t==="*";function l7(t,e){let n=t.split("/"),r=n.length;return n.some(VC)&&(r+=o7),e&&(r+=i7),n.filter(i=>!VC(i)).reduce((i,s)=>i+(n7.test(s)?r7:s===""?a7:s7),r)}function c7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u7(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=I0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=I0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ls([s,m.pathname]),pathnameBase:g7(Ls([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=Ls([s,m.pathnameBase]))}return l}function I0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let S=c[b]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=c[b];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function d7(t,e=!1,n=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var KM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h7=t=>KM.test(t);function m7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vc(t):t,s;if(n)if(h7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=BC(n.substring(1),"/"):s=BC(n,e)}else s=e;return{pathname:s,search:y7(r),hash:v7(i)}}function BC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function y1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dE(t){let e=p7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fE(t,e,n,r=!1){let i;typeof t=="string"?i=Vc(t):(i={...t},tn(!i.pathname||!i.pathname.includes("?"),y1("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),y1("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),y1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}c=m>=0?e[m]:"/"}let d=m7(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ls=t=>t.join("/").replace(/\/\/+/g,"/"),g7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,b7=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function x7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function w7(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WM(t,e){let n=t;if(typeof n!="string"||!KM.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(YM)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Bs(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QM=["POST","PUT","PATCH","DELETE"];new Set(QM);var _7=["GET",...QM];new Set(_7);var Vd=T.createContext(null);Vd.displayName="DataRouter";var Jy=T.createContext(null);Jy.displayName="DataRouterState";var S7=T.createContext(!1),XM=T.createContext({isTransitioning:!1});XM.displayName="ViewTransition";var E7=T.createContext(new Map);E7.displayName="Fetchers";var T7=T.createContext(null);T7.displayName="Await";var Si=T.createContext(null);Si.displayName="Navigation";var km=T.createContext(null);km.displayName="Location";var xa=T.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var hE=T.createContext(null);hE.displayName="RouteError";var ZM="REACT_ROUTER_ERROR",A7="REDIRECT",k7="ROUTE_ERROR_RESPONSE";function N7(t){if(t.startsWith(`${ZM}:${A7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function C7(t){if(t.startsWith(`${ZM}:${k7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new b7(e.status,e.statusText,e.data)}catch{}}function I7(t,{relative:e}={}){tn(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Si),{hash:i,pathname:s,search:l}=Nm(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Ls([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Bd(){return T.useContext(km)!=null}function Js(){return tn(Bd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(km).location}var JM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eD(t){T.useContext(Si).static||T.useLayoutEffect(t)}function mE(){let{isDataRoute:t}=T.useContext(xa);return t?H7():j7()}function j7(){tn(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Vd),{basename:e,navigator:n}=T.useContext(Si),{matches:r}=T.useContext(xa),{pathname:i}=Js(),s=JSON.stringify(dE(r)),l=T.useRef(!1);return eD(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(bi(l.current,JM),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=fE(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ls([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var O7=T.createContext(null);function z7(t){let e=T.useContext(xa).outlet;return T.useMemo(()=>e&&T.createElement(O7.Provider,{value:t},e),[e,t])}function Nm(t,{relative:e}={}){let{matches:n}=T.useContext(xa),{pathname:r}=Js(),i=JSON.stringify(dE(n));return T.useMemo(()=>fE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function P7(t,e){return tD(t,e)}function tD(t,e,n,r,i){tn(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Si),{matches:l}=T.useContext(xa),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let P=m&&m.path||"";rD(f,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=Js(),x;if(e){let P=typeof e=="string"?Vc(e):e;tn(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=b;let S=x.pathname||"/",E=S;if(p!=="/"){let P=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=$M(t,{pathname:E});bi(m||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),bi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=V7(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Ls([p,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Ls([p,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),l,n,r,i);return e&&k?T.createElement(km.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function R7(){let t=$7(),e=x7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var M7=T.createElement(R7,null),nD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=C7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(xa.Provider,{value:this.props.routeContext},T.createElement(hE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(D7,{error:t},e):e}};nD.contextType=S7;var v1=new WeakMap;function D7({children:t,error:e}){let{basename:n}=T.useContext(Si);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=N7(e.digest);if(r){let i=v1.get(e);if(i)throw i;let s=WM(r.location,n);if(YM&&!v1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw v1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function L7({routeContext:t,match:e,children:n}){let r=T.useContext(Vd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(xa.Provider,{value:t},n)}function V7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);tn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:b,errors:x}=n,S=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:w7(n.matches),errorInfo:m})}:void 0;return s.reduceRight((p,m,b)=>{let x,S=!1,E=null,_=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||M7,c&&(d<0&&b===0?(rD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):d===b&&(S=!0,_=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),P=()=>{let I;return x?I=E:S?I=_:m.route.Component?I=T.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,T.createElement(L7,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?T.createElement(nD,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):P()},null)}function pE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B7(t){let e=T.useContext(Vd);return tn(e,pE(t)),e}function U7(t){let e=T.useContext(Jy);return tn(e,pE(t)),e}function F7(t){let e=T.useContext(xa);return tn(e,pE(t)),e}function gE(t){let e=F7(t),n=e.matches[e.matches.length-1];return tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q7(){return gE("useRouteId")}function $7(){let t=T.useContext(hE),e=U7("useRouteError"),n=gE("useRouteError");return t!==void 0?t:e.errors?.[n]}function H7(){let{router:t}=B7("useNavigate"),e=gE("useNavigate"),n=T.useRef(!1);return eD(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{bi(n.current,JM),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var UC={};function rD(t,e,n){!e&&!UC[t]&&(UC[t]=!0,bi(!1,n))}T.memo(G7);function G7({routes:t,future:e,state:n,onError:r}){return tD(t,void 0,n,r,e)}function iD({to:t,replace:e,state:n,relative:r}){tn(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Si);bi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(xa),{pathname:l}=Js(),c=mE(),d=fE(t,dE(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function aD(t){return z7(t.context)}function qr(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){tn(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Vc(n));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:x="default"}=n,S=T.useMemo(()=>{let E=Bs(f,c);return E==null?null:{location:{pathname:E,search:p,hash:m,state:b,key:x},navigationType:r}},[c,f,p,m,b,x,r]);return bi(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:T.createElement(Si.Provider,{value:d},T.createElement(km.Provider,{children:e,value:S}))}function Y7({children:t,location:e}){return P7(S_(t),e)}function S_(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,S_(r.props.children,s));return}tn(r.type===qr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=S_(r.props.children,s)),n.push(l)}),n}var o0="get",l0="application/x-www-form-urlencoded";function ev(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function W7(t){return ev(t)&&t.tagName.toLowerCase()==="button"}function Q7(t){return ev(t)&&t.tagName.toLowerCase()==="form"}function X7(t){return ev(t)&&t.tagName.toLowerCase()==="input"}function Z7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J7(t,e){return t.button===0&&(!e||e==="_self")&&!Z7(t)}var jg=null;function eF(){if(jg===null)try{new FormData(document.createElement("form"),0),jg=!1}catch{jg=!0}return jg}var tF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b1(t){return t!=null&&!tF.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l0}"`),null):t}function nF(t,e){let n,r,i,s,l;if(Q7(t)){let c=t.getAttribute("action");r=c?Bs(c,e):null,n=t.getAttribute("method")||o0,i=b1(t.getAttribute("enctype"))||l0,s=new FormData(t)}else if(W7(t)||X7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Bs(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||o0,i=b1(t.getAttribute("formenctype"))||b1(c.getAttribute("enctype"))||l0,s=new FormData(c,t),!eF()){let{name:f,type:p,value:m}=t;if(p==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,m)}}else{if(ev(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=o0,r=null,i=l0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function iF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sF(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await iF(s,n);return l.links?l.links():[]}return[]}));return uF(r.flat(1).filter(aF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function FC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function oF(t,e,{includeHydrateFallback:n}={}){return lF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function lF(t){return[...new Set(t)]}function cF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(cF(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function sD(){let t=T.useContext(Vd);return yE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dF(){let t=T.useContext(Jy);return yE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vE=T.createContext(void 0);vE.displayName="FrameworkContext";function oD(){let t=T.useContext(vE);return yE(t,"You must render this element inside a <HydratedRouter> element"),t}function fF(t,e){let n=T.useContext(vE),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(P=>{l(P.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:dh(c,x),onBlur:dh(d,S),onMouseEnter:dh(f,x),onMouseLeave:dh(p,S),onTouchStart:dh(m,x)}]:[!1,b,{}]}function dh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hF({page:t,...e}){let{router:n}=sD(),r=T.useMemo(()=>$M(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(pF,{page:t,matches:r,...e}):null}function mF(t){let{manifest:e,routeModules:n}=oD(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return sF(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function pF({page:t,matches:e,...n}){let r=Js(),{manifest:i,routeModules:s}=oD(),{basename:l}=sD(),{loaderData:c,matches:d}=dF(),f=T.useMemo(()=>FC(t,e,d,i,r,"data"),[t,e,d,i,r]),p=T.useMemo(()=>FC(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(k=>{let P=i.routes[k.route.id];!P||!P.hasLoader||(!f.some(I=>I.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||P.hasClientLoader?E=!0:S.add(k.route.id))}),S.size===0)return[];let _=rF(t,l,"data");return E&&S.size>0&&_.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>oF(p,i),[p,i]),x=mF(p);return T.createElement(T.Fragment,null,m.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:E})=>T.createElement("link",{key:S,nonce:n.nonce,...E})))}function gF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yF&&(window.__reactRouterVersion="7.11.0")}catch{}function vF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=QU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(K7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var lD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...x},S){let{basename:E,unstable_useTransitions:_}=T.useContext(Si),k=typeof f=="string"&&lD.test(f),P=WM(f,E);f=P.to;let I=I7(f,{relative:i}),[D,O,U]=fF(r,x),z=wF(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:_});function C(V){e&&e(V),V.defaultPrevented||z(V)}let R=T.createElement("a",{...x,...U,href:P.absoluteURL||I,onClick:P.isExternal||s?e:C,ref:gF(S,O),target:d,"data-discover":!k&&n==="render"?"true":void 0});return D&&!k?T.createElement(T.Fragment,null,R,T.createElement(hF,{page:I})):R});cD.displayName="Link";var uD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},p){let m=Nm(l,{relative:f.relative}),b=Js(),x=T.useContext(Jy),{navigator:S,basename:E}=T.useContext(Si),_=x!=null&&AF(m)&&c===!0,k=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,P=b.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&E&&(I=Bs(I,E)||I);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=P===k||!i&&P.startsWith(k)&&P.charAt(D)==="/",U=I!=null&&(I===k||!i&&I.startsWith(k)&&I.charAt(k.length)==="/"),z={isActive:O,isPending:U,isTransitioning:_},C=O?e:void 0,R;typeof r=="function"?R=r(z):R=[r,O?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(z):s;return T.createElement(cD,{...f,"aria-current":C,className:R,ref:p,style:V,to:l,viewTransition:c},typeof d=="function"?d(z):d)});uD.displayName="NavLink";var bF=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=o0,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...x},S)=>{let{unstable_useTransitions:E}=T.useContext(Si),_=EF(),k=TF(c,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&lD.test(c),D=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,z=U?.getAttribute("formmethod")||l,C=()=>_(U||O.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b});E&&n!==!1?T.startTransition(()=>C()):C()};return T.createElement("form",{ref:S,method:P,action:k,onSubmit:r?d:D,...x,"data-discover":!I&&t==="render"?"true":void 0})});bF.displayName="Form";function xF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dD(t){let e=T.useContext(Vd);return tn(e,xF(t)),e}function wF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=mE(),p=Js(),m=Nm(t,{relative:s});return T.useCallback(b=>{if(J7(b,e)){b.preventDefault();let x=n!==void 0?n:Gh(p)===Gh(m),S=()=>f(t,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>S()):S()}},[p,f,m,n,r,e,t,i,s,l,c,d])}var _F=0,SF=()=>`__${String(++_F)}__`;function EF(){let{router:t}=dD("useSubmit"),{basename:e}=T.useContext(Si),n=q7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:p,body:m}=nF(s,e);if(l.navigate===!1){let b=l.fetcherKey||SF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function TF(t,{relative:e}={}){let{basename:n}=T.useContext(Si),r=T.useContext(xa);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Nm(t||".",{relative:e})},l=Js();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ls([n,s.pathname])),Gh(s)}function AF(t,{relative:e}={}){let n=T.useContext(XM);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dD("useViewTransitionState"),i=Nm(t,{relative:e});if(!n.isTransitioning)return!1;let s=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return I0(i.pathname,l)!=null||I0(i.pathname,s)!=null}var bE=UM();const kF=ls(bE),fD=T.createContext(void 0),NF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"light"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return g.jsx(fD.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},hD=()=>{const t=T.useContext(fD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},CF=()=>{};var qC={};const mD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},pD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(b=64)),r.push(n[p],n[m],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new jF;const b=s<<2|c>>4;if(r.push(b),f!==64){const x=c<<4&240|f>>2;if(r.push(x),m!==64){const S=f<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OF=function(t){const e=mD(t);return pD.encodeByteArray(e,!0)},gD=function(t){return OF(t).replace(/\./g,"")},yD=function(t){try{return pD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zF=()=>vD().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof qC>"u")return;const t=qC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yD(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return CF()||zF()||PF()||RF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MF=t=>tv()?.emulatorHosts?.[t],bD=()=>tv()?.config,xD=t=>tv()?.[`_${t}`];class DF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ud(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wD(t){return(await fetch(t,{credentials:"include"})).ok}const zh={};function LF(){const t={prod:[],emulator:[]};for(const e of Object.keys(zh))zh[e]?t.emulator.push(e):t.prod.push(e);return t}function VF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $C=!1;function BF(t,e){if(typeof window>"u"||typeof document>"u"||!Ud(window.location.host)||zh[t]===e||zh[t]||$C)return;zh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=LF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{$C=!0,l()},b}function p(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function m(){const b=VF(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),_=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),P=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;c(I),p(_,E);const D=f();d(P,k),I.append(P,S,_,D),document.body.appendChild(I)}s?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function _D(){const t=tv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $F(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HF(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SD(){return!_D()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ED(){return!_D()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function TD(){try{return typeof indexedDB=="object"}catch{return!1}}function GF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const KF="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KF,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cm.prototype.create)}}class Cm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?YF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new eo(i,c,r)}}function YF(t,e){return t.replace(WF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WF=/\{\$([^}]+)}/g;function QF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(HC(s)&&HC(l)){if(!_c(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HC(t){return t!==null&&typeof t=="object"}function Im(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XF(t,e){const n=new ZF(t,e);return n.subscribe.bind(n)}class ZF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x1),i.error===void 0&&(i.error=x1),i.complete===void 0&&(i.complete=x1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x1(){}function Wr(t){return t&&t._delegate?t._delegate:t}class Sc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xl="[DEFAULT]";let eq=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nq(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tq(t){return t===Xl?void 0:t}function nq(t){return t.instantiationMode==="EAGER"}class rq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const iq={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},aq=ht.INFO,sq={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},oq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xE{constructor(e){this.name=e,this._logLevel=aq,this._logHandler=oq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const lq=(t,e)=>e.some(n=>t instanceof n);let GC,KC;function cq(){return GC||(GC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uq(){return KC||(KC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AD=new WeakMap,E_=new WeakMap,kD=new WeakMap,w1=new WeakMap,wE=new WeakMap;function dq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(rl(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&AD.set(n,t)}).catch(()=>{}),wE.set(e,t),e}function fq(t){if(E_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});E_.set(t,e)}let T_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hq(t){T_=t(T_)}function mq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_1(this),e,...n);return kD.set(r,e.sort?e.sort():[e]),rl(r)}:uq().includes(t)?function(...e){return t.apply(_1(this),e),rl(AD.get(this))}:function(...e){return rl(t.apply(_1(this),e))}}function pq(t){return typeof t=="function"?mq(t):(t instanceof IDBTransaction&&fq(t),lq(t,cq())?new Proxy(t,T_):t)}function rl(t){if(t instanceof IDBRequest)return dq(t);if(w1.has(t))return w1.get(t);const e=pq(t);return e!==t&&(w1.set(t,e),wE.set(e,t)),e}const _1=t=>wE.get(t);function gq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=rl(l);return r&&l.addEventListener("upgradeneeded",d=>{r(rl(l.result),d.oldVersion,d.newVersion,rl(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const yq=["get","getKey","getAll","getAllKeys","count"],vq=["put","add","delete","clear"],S1=new Map;function YC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S1.get(e))return S1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yq.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return S1.set(e,s),s}hq(t=>({...t,get:(e,n,r)=>YC(e,n)||t.get(e,n,r),has:(e,n)=>!!YC(e,n)||t.has(e,n)}));class bq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xq(t){return t.getComponent()?.type==="VERSION"}const A_="@firebase/app",WC="0.14.6";const Us=new xE("@firebase/app"),wq="@firebase/app-compat",_q="@firebase/analytics-compat",Sq="@firebase/analytics",Eq="@firebase/app-check-compat",Tq="@firebase/app-check",Aq="@firebase/auth",kq="@firebase/auth-compat",Nq="@firebase/database",Cq="@firebase/data-connect",Iq="@firebase/database-compat",jq="@firebase/functions",Oq="@firebase/functions-compat",zq="@firebase/installations",Pq="@firebase/installations-compat",Rq="@firebase/messaging",Mq="@firebase/messaging-compat",Dq="@firebase/performance",Lq="@firebase/performance-compat",Vq="@firebase/remote-config",Bq="@firebase/remote-config-compat",Uq="@firebase/storage",Fq="@firebase/storage-compat",qq="@firebase/firestore",$q="@firebase/ai",Hq="@firebase/firestore-compat",Gq="firebase",Kq="12.6.0";const k_="[DEFAULT]",Yq={[A_]:"fire-core",[wq]:"fire-core-compat",[Sq]:"fire-analytics",[_q]:"fire-analytics-compat",[Tq]:"fire-app-check",[Eq]:"fire-app-check-compat",[Aq]:"fire-auth",[kq]:"fire-auth-compat",[Nq]:"fire-rtdb",[Cq]:"fire-data-connect",[Iq]:"fire-rtdb-compat",[jq]:"fire-fn",[Oq]:"fire-fn-compat",[zq]:"fire-iid",[Pq]:"fire-iid-compat",[Rq]:"fire-fcm",[Mq]:"fire-fcm-compat",[Dq]:"fire-perf",[Lq]:"fire-perf-compat",[Vq]:"fire-rc",[Bq]:"fire-rc-compat",[Uq]:"fire-gcs",[Fq]:"fire-gcs-compat",[qq]:"fire-fst",[Hq]:"fire-fst-compat",[$q]:"fire-vertex","fire-js":"fire-js",[Gq]:"fire-js-all"};const j0=new Map,Wq=new Map,N_=new Map;function QC(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function od(t){const e=t.name;if(N_.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of j0.values())QC(n,t);for(const n of Wq.values())QC(n,t);return!0}function _E(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ua(t){return t==null?!1:t.settings!==void 0}const Qq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},il=new Cm("app","Firebase",Qq);class Xq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}}const Fd=Kq;function ND(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:k_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw il.create("bad-app-name",{appName:String(i)});if(n||(n=bD()),!n)throw il.create("no-options");const s=j0.get(i);if(s){if(_c(n,s.options)&&_c(r,s.config))return s;throw il.create("duplicate-app",{appName:i})}const l=new rq(i);for(const d of N_.values())l.addComponent(d);const c=new Xq(n,r,l);return j0.set(i,c),c}function Zq(t=k_){const e=j0.get(t);if(!e&&t===k_&&bD())return ND();if(!e)throw il.create("no-app",{appName:t});return e}function al(t,e,n){let r=Yq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}od(new Sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Jq="firebase-heartbeat-database",e$=1,Kh="firebase-heartbeat-store";let E1=null;function CD(){return E1||(E1=gq(Jq,e$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw il.create("idb-open",{originalErrorMessage:t.message})})),E1}async function t$(t){try{const n=(await CD()).transaction(Kh),r=await n.objectStore(Kh).get(ID(t));return await n.done,r}catch(e){if(e instanceof eo)Us.warn(e.message);else{const n=il.create("idb-get",{originalErrorMessage:e?.message});Us.warn(n.message)}}}async function XC(t,e){try{const r=(await CD()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,ID(t)),await r.done}catch(n){if(n instanceof eo)Us.warn(n.message);else{const r=il.create("idb-set",{originalErrorMessage:n?.message});Us.warn(r.message)}}}function ID(t){return`${t.name}!${t.options.appId}`}const n$=1024,r$=30;class i${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>r$){const i=o$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZC(),{heartbeatsToSend:n,unsentEntries:r}=a$(this._heartbeatsCache.heartbeats),i=gD(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Us.warn(e),""}}}function ZC(){return new Date().toISOString().substring(0,10)}function a$(t,e=n$){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),JC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TD()?GF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JC(t){return gD(JSON.stringify({version:2,heartbeats:t})).length}function o$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function l$(t){od(new Sc("platform-logger",e=>new bq(e),"PRIVATE")),od(new Sc("heartbeat",e=>new i$(e),"PRIVATE")),al(A_,WC,t),al(A_,WC,"esm2020"),al("fire-js","")}l$("");function jD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c$=jD,OD=new Cm("auth","Firebase",jD());const O0=new xE("@firebase/auth");function u$(t,...e){O0.logLevel<=ht.WARN&&O0.warn(`Auth (${Fd}): ${t}`,...e)}function c0(t,...e){O0.logLevel<=ht.ERROR&&O0.error(`Auth (${Fd}): ${t}`,...e)}function rs(t,...e){throw EE(t,...e)}function pa(t,...e){return EE(t,...e)}function SE(t,e,n){const r={...c$(),[e]:n};return new Cm("auth","Firebase",r).create(e,{appName:t.name})}function hc(t){return SE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rs(t,"argument-error"),SE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function EE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OD.create(t,...e)}function Qe(t,e,...n){if(!t)throw EE(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw c0(e),new Error(e)}function Fs(t,e){t||zs(e)}function C_(){return typeof self<"u"&&self.location?.href||""}function f$(){return eI()==="http:"||eI()==="https:"}function eI(){return typeof self<"u"&&self.location?.protocol||null}function h$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f$()||qF()||"connection"in navigator)?navigator.onLine:!0}function m$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class jm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=UF()||$F()}get(){return h$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function TE(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const g$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y$=new jm(3e4,6e4);function AE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qd(t,e,n,r,i={}){return PD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Im({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return FF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(f.credentials="include"),zD.fetch()(await RD(t,t.config.apiHost,n,c),f)})}async function PD(t,e,n){t._canInitEmulator=!1;const r={...p$,...e};try{const i=new b$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Og(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Og(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Og(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Og(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw SE(t,p,f);rs(t,p)}}catch(i){if(i instanceof eo)throw i;rs(t,"network-request-failed",{message:String(i)})}}async function v$(t,e,n,r,i={}){const s=await qd(t,e,n,r,i);return"mfaPendingCredential"in s&&rs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function RD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?TE(t.config,i):`${t.config.apiScheme}://${i}`;return g$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class b${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pa(this.auth,"network-request-failed")),y$.get())})}}function Og(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pa(t,e,r);return i.customData._tokenResponse=n,i}async function x$(t,e){return qd(t,"POST","/v1/accounts:delete",e)}async function z0(t,e){return qd(t,"POST","/v1/accounts:lookup",e)}function Ph(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w$(t,e=!1){const n=Wr(t),r=await n.getIdToken(e),i=kE(r);Qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Ph(T1(i.auth_time)),issuedAtTime:Ph(T1(i.iat)),expirationTime:Ph(T1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function T1(t){return Number(t)*1e3}function kE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return c0("JWT malformed, contained fewer than 3 sections"),null;try{const i=yD(n);return i?JSON.parse(i):(c0("Failed to decode base64 JWT payload"),null)}catch(i){return c0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tI(t){const e=kE(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&_$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class S${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class I_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function P0(t){const e=t.auth,n=await t.getIdToken(),r=await Yh(t,z0(e,{idToken:n}));Qe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?MD(i.providerUserInfo):[],l=T$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new I_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function E$(t){const e=Wr(t);await P0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function A$(t,e){const n=await PD(t,{},async()=>{const r=Im({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await RD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(d.credentials="include"),zD.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k$(t,e){return qd(t,"POST","/v2/accounts:revokeToken",AE(t,e))}class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=tI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Ju;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return zs("not implemented")}}function Uo(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ma{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new S$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new I_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yh(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w$(this,e)}reload(){return E$(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await P0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ua(this.auth.app))return Promise.reject(hc(this.auth));const e=await this.getIdToken();return await Yh(this,x$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:b,isAnonymous:x,providerData:S,stsTokenManager:E}=n;Qe(m&&E,e,"internal-error");const _=Ju.fromJSON(this.name,E);Qe(typeof m=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),Qe(typeof b=="boolean",e,"internal-error"),Qe(typeof x=="boolean",e,"internal-error"),Uo(s,e.name),Uo(l,e.name),Uo(c,e.name),Uo(d,e.name),Uo(f,e.name),Uo(p,e.name);const k=new ma({uid:m,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:_,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(k.providerData=S.map(P=>({...P}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const s=new ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await P0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Ju;c.updateFromIdToken(r);const d=new ma({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new I_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const nI=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=nI.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nI.set(t,e),e)}class DD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DD.type="NONE";const rI=DD;function u0(t,e,n){return`firebase:${t}:${e}:${n}`}class ed{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=u0(this.userKey,i.apiKey,s),this.fullPersistenceKey=u0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await z0(this.auth,{idToken:e}).catch(()=>{});return n?ma._fromGetAccountInfoResponse(this.auth,n,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ed(Ps(rI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ps(rI);const l=u0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const b=await z0(e,{idToken:p}).catch(()=>{});if(!b)break;m=await ma._fromGetAccountInfoResponse(e,b,p)}else m=ma._fromJSON(e,p);f!==s&&(c=m),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new ed(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new ed(s,e,r))}}function iI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qD(e))return"Blackberry";if($D(e))return"Webos";if(VD(e))return"Safari";if((e.includes("chrome/")||BD(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function LD(t=Rn()){return/firefox\//i.test(t)}function VD(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BD(t=Rn()){return/crios\//i.test(t)}function UD(t=Rn()){return/iemobile/i.test(t)}function FD(t=Rn()){return/android/i.test(t)}function qD(t=Rn()){return/blackberry/i.test(t)}function $D(t=Rn()){return/webos/i.test(t)}function NE(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N$(t=Rn()){return NE(t)&&!!window.navigator?.standalone}function C$(){return HF()&&document.documentMode===10}function HD(t=Rn()){return NE(t)||FD(t)||$D(t)||qD(t)||/windows phone/i.test(t)||UD(t)}function GD(t,e=[]){let n;switch(t){case"Browser":n=iI(Rn());break;case"Worker":n=`${iI(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fd}/${r}`}class I${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function j$(t,e={}){return qd(t,"GET","/v2/passwordPolicy",AE(t,e))}const O$=6;class z${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??O$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class P${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aI(this),this.idTokenSubscription=new aI(this),this.beforeStateQueue=new I$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ed.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await z0(this,{idToken:e}),r=await ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ua(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await P0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ua(this.app))return Promise.reject(hc(this));const n=e?Wr(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ua(this.app)?Promise.reject(hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ua(this.app)?Promise.reject(hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j$(this),n=new z$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await ed.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ua(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&u$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nv(t){return Wr(t)}class aI{constructor(e){this.auth=e,this.observer=null,this.addObserver=XF(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let CE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R$(t){CE=t}function M$(t){return CE.loadJS(t)}function D$(){return CE.gapiScript}function L$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function V$(t,e){const n=_E(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_c(s,e??{}))return i;rs(i,"already-initialized")}return n.initialize({options:e})}function B$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function U$(t,e,n){const r=nv(t);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KD(e),{host:l,port:c}=F$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(_c(f,r.config.emulator)&&_c(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ud(l)?(wD(`${s}//${l}${d}`),BF("Auth",!0)):q$()}function KD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F$(t){const e=KD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:sI(l)}}}function sI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class YD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function td(t,e){return v$(t,"POST","/v1/accounts:signInWithIdp",AE(t,e))}const $$="http://localhost";class Ec extends YD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Ec(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,td(e,n)}buildRequest(){const e={requestUri:$$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Im(n)}return e}}class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Om extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qo extends Om{constructor(){super("facebook.com")}static credential(e){return Ec._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qo.PROVIDER_ID="facebook.com";class Is extends Om{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ec._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";class Xo extends Om{constructor(){super("github.com")}static credential(e){return Ec._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.GITHUB_SIGN_IN_METHOD="github.com";Xo.PROVIDER_ID="github.com";class Zo extends Om{constructor(){super("twitter.com")}static credential(e,n){return Ec._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.TWITTER_SIGN_IN_METHOD="twitter.com";Zo.PROVIDER_ID="twitter.com";class ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ma._fromIdTokenResponse(e,r,i),l=oI(r);return new ld({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oI(r);return new ld({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class R0 extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,R0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new R0(e,n,r,i)}}function WD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?R0._fromErrorAndOperation(t,s,e,r):s})}async function H$(t,e,n=!1){const r=await Yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ld._forOperation(t,"link",r)}async function G$(t,e,n=!1){const{auth:r}=t;if(ua(r.app))return Promise.reject(hc(r));const i="reauthenticate";try{const s=await Yh(t,WD(r,i,e,t),n);Qe(s.idToken,r,"internal-error");const l=kE(s.idToken);Qe(l,r,"internal-error");const{sub:c}=l;return Qe(t.uid===c,r,"user-mismatch"),ld._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rs(r,"user-mismatch"),s}}async function K$(t,e,n=!1){if(ua(t.app))return Promise.reject(hc(t));const r="signIn",i=await WD(t,r,e),s=await ld._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function Y$(t,e){return Wr(t).setPersistence(e)}function W$(t,e,n,r){return Wr(t).onIdTokenChanged(e,n,r)}function Q$(t,e,n){return Wr(t).beforeAuthStateChanged(e,n)}function X$(t,e,n,r){return Wr(t).onAuthStateChanged(e,n,r)}function Z$(t){return Wr(t).signOut()}const M0="__sak";class QD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(M0,"1"),this.storage.removeItem(M0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const J$=1e3,eH=10;class XD extends QD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);C$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XD.type="LOCAL";const ZD=XD;class JD extends QD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JD.type="SESSION";const e5=JD;function tH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await tH(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rv.receivers=[];function jE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class nH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=jE("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Za(){return window}function rH(t){Za().location.href=t}function t5(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function iH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aH(){return navigator?.serviceWorker?.controller||null}function sH(){return t5()?self:null}const n5="firebaseLocalStorageDb",oH=1,D0="firebaseLocalStorage",r5="fbase_key";class zm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iv(t,e){return t.transaction([D0],e?"readwrite":"readonly").objectStore(D0)}function lH(){const t=indexedDB.deleteDatabase(n5);return new zm(t).toPromise()}function j_(){const t=indexedDB.open(n5,oH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(D0,{keyPath:r5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(D0)?e(r):(r.close(),await lH(),e(await j_()))})})}async function lI(t,e,n){const r=iv(t,!0).put({[r5]:e,value:n});return new zm(r).toPromise()}async function cH(t,e){const n=iv(t,!1).get(e),r=await new zm(n).toPromise();return r===void 0?null:r.value}function cI(t,e){const n=iv(t,!0).delete(e);return new zm(n).toPromise()}const uH=800,dH=3;class i5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rv._getInstance(sH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iH(),!this.activeServiceWorker)return;this.sender=new nH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await j_();return await lI(e,M0,"1"),await cI(e,M0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iv(i,!1).getAll();return new zm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i5.type="LOCAL";const fH=i5;new jm(3e4,6e4);function a5(t,e){return e?Ps(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class OE extends YD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return td(e,this._buildIdpRequest())}_linkToIdToken(e,n){return td(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return td(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hH(t){return K$(t.auth,new OE(t),t.bypassAuthState)}function mH(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),G$(n,new OE(t),t.bypassAuthState)}async function pH(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),H$(n,new OE(t),t.bypassAuthState)}class s5{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hH;case"linkViaPopup":case"linkViaRedirect":return pH;case"reauthViaPopup":case"reauthViaRedirect":return mH;default:rs(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gH=new jm(2e3,1e4);async function yH(t,e,n){if(ua(t.app))return Promise.reject(pa(t,"operation-not-supported-in-this-environment"));const r=nv(t);d$(t,e,IE);const i=a5(r,n);return new lc(r,"signInViaPopup",e,i).executeNotNull()}class lc extends s5{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,lc.currentPopupAction&&lc.currentPopupAction.cancel(),lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=jE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gH.get())};e()}}lc.currentPopupAction=null;const vH="pendingRedirect",d0=new Map;class bH extends s5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=d0.get(this.auth._key());if(!e){try{const r=await xH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}d0.set(this.auth._key(),e)}return this.bypassAuthState||d0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xH(t,e){const n=SH(e),r=_H(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wH(t,e){d0.set(t._key(),e)}function _H(t){return Ps(t._redirectPersistence)}function SH(t){return u0(vH,t.config.apiKey,t.name)}async function EH(t,e,n=!1){if(ua(t.app))return Promise.reject(hc(t));const r=nv(t),i=a5(r,e),l=await new bH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const TH=600*1e3;class AH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!o5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TH&&this.cachedEventUids.clear(),this.cachedEventUids.has(uI(e))}saveEventToCache(e){this.cachedEventUids.add(uI(e)),this.lastProcessedEventTime=Date.now()}}function uI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o5(t);default:return!1}}async function NH(t,e={}){return qd(t,"GET","/v1/projects",e)}const CH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IH=/^https?/;async function jH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NH(t);for(const n of e)try{if(OH(n))return}catch{}rs(t,"unauthorized-domain")}function OH(t){const e=C_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!IH.test(n))return!1;if(CH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zH=new jm(3e4,6e4);function dI(){const t=Za().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PH(t){return new Promise((e,n)=>{function r(){dI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dI(),n(pa(t,"network-request-failed"))},timeout:zH.get()})}if(Za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Za().gapi?.load)r();else{const i=L$("iframefcb");return Za()[i]=()=>{gapi.load?r():n(pa(t,"network-request-failed"))},M$(`${D$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw f0=null,e})}let f0=null;function RH(t){return f0=f0||PH(t),f0}const MH=new jm(5e3,15e3),DH="__/auth/iframe",LH="emulator/auth/iframe",VH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UH(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TE(e,LH):`https://${t.config.authDomain}/${DH}`,r={apiKey:e.apiKey,appName:t.name,v:Fd},i=BH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Im(r).slice(1)}`}async function FH(t){const e=await RH(t),n=Za().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:UH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=pa(t,"network-request-failed"),c=Za().setTimeout(()=>{s(l)},MH.get());function d(){Za().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const qH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$H=500,HH=600,GH="_blank",KH="http://localhost";class fI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YH(t,e,n,r=$H,i=HH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...qH,width:r.toString(),height:i.toString(),top:s,left:l},f=Rn().toLowerCase();n&&(c=BD(f)?GH:n),LD(f)&&(e=e||KH,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[x,S])=>`${b}${x}=${S},`,"");if(N$(f)&&c!=="_self")return WH(e||"",c),new fI(null);const m=window.open(e||"",c,p);Qe(m,t,"popup-blocked");try{m.focus()}catch{}return new fI(m)}function WH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const QH="__/auth/handler",XH="emulator/auth/handler",ZH=encodeURIComponent("fac");async function hI(t,e,n,r,i,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fd,eventId:i};if(e instanceof IE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Om){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${ZH}=${encodeURIComponent(d)}`:"";return`${JH(t)}?${Im(c).slice(1)}${f}`}function JH({config:t}){return t.emulator?TE(t,XH):`https://${t.authDomain}/${QH}`}const A1="webStorageSupport";class eG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e5,this._completeRedirectFn=EH,this._overrideRedirectResult=wH}async _openPopup(e,n,r,i){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await hI(e,n,r,C_(),i);return YH(e,s,jE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hI(e,n,r,C_(),i);return rH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FH(e),r=new AH(e);return n.register("authEvent",i=>(Qe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A1,{type:A1},i=>{const s=i?.[0]?.[A1];s!==void 0&&n(!!s),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HD()||VD()||NE()}}const tG=eG;var mI="@firebase/auth",pI="1.12.0";class nG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iG(t){od(new Sc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GD(t)},f=new P$(r,i,s,d);return B$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),od(new Sc("auth-internal",e=>{const n=nv(e.getProvider("auth").getImmediate());return(r=>new nG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),al(mI,pI,rG(t)),al(mI,pI,"esm2020")}const aG=300,sG=xD("authIdTokenMaxAge")||aG;let gI=null;const oG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sG)return;const i=n?.token;gI!==i&&(gI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lG(t=Zq()){const e=_E(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V$(t,{popupRedirectResolver:tG,persistence:[fH,ZD,e5]}),r=xD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=oG(s.toString());Q$(n,l,()=>l(n.currentUser)),W$(n,c=>l(c))}}const i=MF("auth");return i&&U$(n,`http://${i}`),n}function cG(){return document.getElementsByTagName("head")?.[0]??document}R$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iG("Browser");var uG="firebase",dG="12.7.0";al(uG,dG,"app");var yI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sl,l5;(function(){var t;function e(z,C){function R(){}R.prototype=C.prototype,z.F=C.prototype,z.prototype=new R,z.prototype.constructor=z,z.D=function(V,L,$){for(var B=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)B[xe-2]=arguments[xe];return C.prototype[L].apply(V,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,C,R){R||(R=0);const V=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)V[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;L<16;++L)V[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=z.g[0],R=z.g[1],L=z.g[2];let $=z.g[3],B;B=C+($^R&(L^$))+V[0]+3614090360&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[1]+3905402710&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[2]+606105819&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[3]+3250441966&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[4]+4118548399&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[5]+1200080426&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[6]+2821735955&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[7]+4249261313&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[8]+1770035416&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[9]+2336552879&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[10]+4294925233&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[11]+2304563134&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[12]+1804603682&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[13]+4254626195&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[14]+2792965006&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[15]+1236535329&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(L^$&(R^L))+V[1]+4129170786&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[6]+3225465664&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[11]+643717713&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[0]+3921069994&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[5]+3593408605&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[10]+38016083&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[15]+3634488961&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[4]+3889429448&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[9]+568446438&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[14]+3275163606&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[3]+4107603335&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[8]+1163531501&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[13]+2850285829&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[2]+4243563512&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[7]+1735328473&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[12]+2368359562&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(R^L^$)+V[5]+4294588738&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[8]+2272392833&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[11]+1839030562&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[14]+4259657740&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[1]+2763975236&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[4]+1272893353&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[7]+4139469664&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[10]+3200236656&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[13]+681279174&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[0]+3936430074&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[3]+3572445317&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[6]+76029189&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[9]+3654602809&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[12]+3873151461&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[15]+530742520&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[2]+3299628645&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(L^(R|~$))+V[0]+4096336452&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[7]+1126891415&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[14]+2878612391&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[5]+4237533241&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[12]+1700485571&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[3]+2399980690&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[10]+4293915773&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[1]+2240044497&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[8]+1873313359&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[15]+4264355552&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[6]+2734768916&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[13]+1309151649&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[4]+4149444226&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[11]+3174756917&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[2]+718787259&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+C&4294967295,z.g[1]=z.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+$&4294967295}r.prototype.v=function(z,C){C===void 0&&(C=z.length);const R=C-this.blockSize,V=this.C;let L=this.h,$=0;for(;$<C;){if(L==0)for(;$<=R;)i(this,z,$),$+=this.blockSize;if(typeof z=="string"){for(;$<C;)if(V[L++]=z.charCodeAt($++),L==this.blockSize){i(this,V),L=0;break}}else for(;$<C;)if(V[L++]=z[$++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var C=1;C<z.length-8;++C)z[C]=0;C=this.o*8;for(var R=z.length-8;R<z.length;++R)z[R]=C&255,C/=256;for(this.v(z),z=Array(16),C=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)z[C++]=this.g[R]>>>V&255;return z};function s(z,C){var R=c;return Object.prototype.hasOwnProperty.call(R,z)?R[z]:R[z]=C(z)}function l(z,C){this.h=C;const R=[];let V=!0;for(let L=z.length-1;L>=0;L--){const $=z[L]|0;V&&$==C||(R[L]=$,V=!1)}this.g=R}var c={};function d(z){return-128<=z&&z<128?s(z,function(C){return new l([C|0],C<0?-1:0)}):new l([z|0],z<0?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return m;if(z<0)return _(f(-z));const C=[];let R=1;for(let V=0;z>=R;V++)C[V]=z/R|0,R*=4294967296;return new l(C,0)}function p(z,C){if(z.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(z.charAt(0)=="-")return _(p(z.substring(1),C));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(C,8));let V=m;for(let $=0;$<z.length;$+=8){var L=Math.min(8,z.length-$);const B=parseInt(z.substring($,$+L),C);L<8?(L=f(Math.pow(C,L)),V=V.j(L).add(f(B))):(V=V.j(R),V=V.add(f(B)))}return V}var m=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-_(this).m();let z=0,C=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);z+=(V>=0?V:4294967296+V)*C,C*=4294967296}return z},t.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(S(this))return"0";if(E(this))return"-"+_(this).toString(z);const C=f(Math.pow(z,6));var R=this;let V="";for(;;){const L=D(R,C).g;R=k(R,L.j(C));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(z);if(R=L,S(R))return $+V;for(;$.length<6;)$="0"+$;V=$+V}},t.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function S(z){if(z.h!=0)return!1;for(let C=0;C<z.g.length;C++)if(z.g[C]!=0)return!1;return!0}function E(z){return z.h==-1}t.l=function(z){return z=k(this,z),E(z)?-1:S(z)?0:1};function _(z){const C=z.g.length,R=[];for(let V=0;V<C;V++)R[V]=~z.g[V];return new l(R,~z.h).add(b)}t.abs=function(){return E(this)?_(this):this},t.add=function(z){const C=Math.max(this.g.length,z.g.length),R=[];let V=0;for(let L=0;L<=C;L++){let $=V+(this.i(L)&65535)+(z.i(L)&65535),B=($>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);V=B>>>16,$&=65535,B&=65535,R[L]=B<<16|$}return new l(R,R[R.length-1]&-2147483648?-1:0)};function k(z,C){return z.add(_(C))}t.j=function(z){if(S(this)||S(z))return m;if(E(this))return E(z)?_(this).j(_(z)):_(_(this).j(z));if(E(z))return _(this.j(_(z)));if(this.l(x)<0&&z.l(x)<0)return f(this.m()*z.m());const C=this.g.length+z.g.length,R=[];for(var V=0;V<2*C;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<z.g.length;L++){const $=this.i(V)>>>16,B=this.i(V)&65535,xe=z.i(L)>>>16,Ae=z.i(L)&65535;R[2*V+2*L]+=B*Ae,P(R,2*V+2*L),R[2*V+2*L+1]+=$*Ae,P(R,2*V+2*L+1),R[2*V+2*L+1]+=B*xe,P(R,2*V+2*L+1),R[2*V+2*L+2]+=$*xe,P(R,2*V+2*L+2)}for(z=0;z<C;z++)R[z]=R[2*z+1]<<16|R[2*z];for(z=C;z<2*C;z++)R[z]=0;return new l(R,0)};function P(z,C){for(;(z[C]&65535)!=z[C];)z[C+1]+=z[C]>>>16,z[C]&=65535,C++}function I(z,C){this.g=z,this.h=C}function D(z,C){if(S(C))throw Error("division by zero");if(S(z))return new I(m,m);if(E(z))return C=D(_(z),C),new I(_(C.g),_(C.h));if(E(C))return C=D(z,_(C)),new I(_(C.g),C.h);if(z.g.length>30){if(E(z)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=C;V.l(z)<=0;)R=O(R),V=O(V);var L=U(R,1),$=U(V,1);for(V=U(V,2),R=U(R,2);!S(V);){var B=$.add(V);B.l(z)<=0&&(L=L.add(R),$=B),V=U(V,1),R=U(R,1)}return C=k(z,L.j(C)),new I(L,C)}for(L=m;z.l(C)>=0;){for(R=Math.max(1,Math.floor(z.m()/C.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),$=f(R),B=$.j(C);E(B)||B.l(z)>0;)R-=V,$=f(R),B=$.j(C);S($)&&($=b),L=L.add($),z=k(z,B)}return new I(L,z)}t.B=function(z){return D(this,z).h},t.and=function(z){const C=Math.max(this.g.length,z.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)&z.i(V);return new l(R,this.h&z.h)},t.or=function(z){const C=Math.max(this.g.length,z.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)|z.i(V);return new l(R,this.h|z.h)},t.xor=function(z){const C=Math.max(this.g.length,z.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)^z.i(V);return new l(R,this.h^z.h)};function O(z){const C=z.g.length+1,R=[];for(let V=0;V<C;V++)R[V]=z.i(V)<<1|z.i(V-1)>>>31;return new l(R,z.h)}function U(z,C){const R=C>>5;C%=32;const V=z.g.length-R,L=[];for(let $=0;$<V;$++)L[$]=C>0?z.i($+R)>>>C|z.i($+R+1)<<32-C:z.i($+R);return new l(L,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l5=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,sl=l}).apply(typeof yI<"u"?yI:typeof self<"u"?self:typeof window<"u"?window:{});var zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c5,Ah,u5,h0,O_,d5,f5,h5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof zg=="object"&&zg];for(var A=0;A<y.length;++A){var j=y[A];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var j=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var ee=y[F];if(!(ee in j))break e;j=j[ee]}y=y[y.length-1],F=j[y],A=A(F),A!=F&&A!=null&&e(j,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var j=[],F;for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&j.push([F,A[F]]);return j}});var s=s||{},l=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,j){return y.call.apply(y.bind,arguments)}function f(y,A,j){return f=d,f.apply(null,arguments)}function p(y,A){var j=Array.prototype.slice.call(arguments,1);return function(){var F=j.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function m(y,A){function j(){}j.prototype=A.prototype,y.Z=A.prototype,y.prototype=new j,y.prototype.constructor=y,y.Ob=function(F,ee,se){for(var Ee=Array(arguments.length-2),et=2;et<arguments.length;et++)Ee[et-2]=arguments[et];return A.prototype[ee].apply(F,Ee)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const A=y.length;if(A>0){const j=Array(A);for(let F=0;F<A;F++)j[F]=y[F];return j}return[]}function S(y,A){for(let F=1;F<arguments.length;F++){const ee=arguments[F];var j=typeof ee;if(j=j!="object"?j:ee?Array.isArray(ee)?"array":j:"null",j=="array"||j=="object"&&typeof ee.length=="number"){j=y.length||0;const se=ee.length||0;y.length=j+se;for(let Ee=0;Ee<se;Ee++)y[j+Ee]=ee[Ee]}else y.push(ee)}}class E{constructor(A,j){this.i=A,this.j=j,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(y){l.setTimeout(()=>{throw y},0)}function k(){var y=z;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class P{constructor(){this.h=this.g=null}add(A,j){const F=I.get();F.set(A,j),this.h?this.h.next=F:this.g=F,this.h=F}}var I=new E(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(A,j){this.h=A,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let O,U=!1,z=new P,C=()=>{const y=Promise.resolve(void 0);O=()=>{y.then(R)}};function R(){for(var y;y=k();){try{y.h.call(y.g)}catch(j){_(j)}var A=I;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}U=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const j=()=>{};l.addEventListener("test",j,A),l.removeEventListener("test",j,A)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function xe(y,A){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}m(xe,L),xe.prototype.init=function(y,A){const j=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(j=="mouseover"?A=y.fromElement:j=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(y,A,j,F,ee){this.listener=y,this.proxy=null,this.src=A,this.type=j,this.capture=!!F,this.ha=ee,this.key=++Y,this.da=this.fa=!1}function ie(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,A,j){for(const F in y)A.call(j,y[F],F,y)}function ke(y,A){for(const j in y)A.call(void 0,y[j],j,y)}function q(y){const A={};for(const j in y)A[j]=y[j];return A}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,A){let j,F;for(let ee=1;ee<arguments.length;ee++){F=arguments[ee];for(j in F)y[j]=F[j];for(let se=0;se<K.length;se++)j=K[se],Object.prototype.hasOwnProperty.call(F,j)&&(y[j]=F[j])}}function oe(y){this.src=y,this.g={},this.h=0}oe.prototype.add=function(y,A,j,F,ee){const se=y.toString();y=this.g[se],y||(y=this.g[se]=[],this.h++);const Ee=ge(y,A,F,ee);return Ee>-1?(A=y[Ee],j||(A.fa=!1)):(A=new re(A,this.src,se,!!F,ee),A.fa=j,y.push(A)),A};function de(y,A){const j=A.type;if(j in y.g){var F=y.g[j],ee=Array.prototype.indexOf.call(F,A,void 0),se;(se=ee>=0)&&Array.prototype.splice.call(F,ee,1),se&&(ie(A),y.g[j].length==0&&(delete y.g[j],y.h--))}}function ge(y,A,j,F){for(let ee=0;ee<y.length;++ee){const se=y[ee];if(!se.da&&se.listener==A&&se.capture==!!j&&se.ha==F)return ee}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Ne={};function H(y,A,j,F,ee){if(Array.isArray(A)){for(let se=0;se<A.length;se++)H(y,A[se],j,F,ee);return null}return j=Et(j),y&&y[Ae]?y.J(A,j,c(F)?!!F.capture:!1,ee):pe(y,A,j,!1,F,ee)}function pe(y,A,j,F,ee,se){if(!A)throw Error("Invalid event type");const Ee=c(ee)?!!ee.capture:!!ee;let et=Ze(y);if(et||(y[we]=et=new oe(y)),j=et.add(A,j,F,Ee,se),j.proxy)return j;if(F=Ce(),j.proxy=F,F.src=y,F.listener=j,y.addEventListener)$||(ee=Ee),ee===void 0&&(ee=!1),y.addEventListener(A.toString(),F,ee);else if(y.attachEvent)y.attachEvent(Oe(A.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ce(){function y(j){return A.call(y.src,y.listener,j)}const A=We;return y}function X(y,A,j,F,ee){if(Array.isArray(A))for(var se=0;se<A.length;se++)X(y,A[se],j,F,ee);else F=c(F)?!!F.capture:!!F,j=Et(j),y&&y[Ae]?(y=y.i,se=String(A).toString(),se in y.g&&(A=y.g[se],j=ge(A,j,F,ee),j>-1&&(ie(A[j]),Array.prototype.splice.call(A,j,1),A.length==0&&(delete y.g[se],y.h--)))):y&&(y=Ze(y))&&(A=y.g[A.toString()],y=-1,A&&(y=ge(A,j,F,ee)),(j=y>-1?A[y]:null)&&Ve(j))}function Ve(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Ae])de(A.i,y);else{var j=y.type,F=y.proxy;A.removeEventListener?A.removeEventListener(j,F,y.capture):A.detachEvent?A.detachEvent(Oe(j),F):A.addListener&&A.removeListener&&A.removeListener(F),(j=Ze(A))?(de(j,y),j.h==0&&(j.src=null,A[we]=null)):ie(y)}}}function Oe(y){return y in Ne?Ne[y]:Ne[y]="on"+y}function We(y,A){if(y.da)y=!0;else{A=new xe(A,this);const j=y.listener,F=y.ha||y.src;y.fa&&Ve(y),y=j.call(F,A)}return y}function Ze(y){return y=y[we],y instanceof oe?y:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function Et(y){return typeof y=="function"?y:(y[it]||(y[it]=function(A){return y.handleEvent(A)}),y[it])}function lt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}m(lt,V),lt.prototype[Ae]=!0,lt.prototype.removeEventListener=function(y,A,j,F){X(this,y,A,j,F)};function $t(y,A){var j,F=y.G;if(F)for(j=[];F;F=F.G)j.push(F);if(y=y.M,F=A.type||A,typeof A=="string")A=new L(A,y);else if(A instanceof L)A.target=A.target||y;else{var ee=A;A=new L(F,y),Q(A,ee)}ee=!0;let se,Ee;if(j)for(Ee=j.length-1;Ee>=0;Ee--)se=A.g=j[Ee],ee=He(se,F,!0,A)&&ee;if(se=A.g=y,ee=He(se,F,!0,A)&&ee,ee=He(se,F,!1,A)&&ee,j)for(Ee=0;Ee<j.length;Ee++)se=A.g=j[Ee],ee=He(se,F,!1,A)&&ee}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const j=y.g[A];for(let F=0;F<j.length;F++)ie(j[F]);delete y.g[A],y.h--}}this.G=null},lt.prototype.J=function(y,A,j,F){return this.i.add(String(y),A,!1,j,F)},lt.prototype.K=function(y,A,j,F){return this.i.add(String(y),A,!0,j,F)};function He(y,A,j,F){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let ee=!0;for(let se=0;se<A.length;++se){const Ee=A[se];if(Ee&&!Ee.da&&Ee.capture==j){const et=Ee.listener,fn=Ee.ha||Ee.src;Ee.fa&&de(y.i,Ee),ee=et.call(fn,F)!==!1&&ee}}return ee&&!F.defaultPrevented}function at(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(y,A||0)}function jn(y){y.g=at(()=>{y.g=null,y.i&&(y.i=!1,jn(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class on extends V{constructor(A,j){super(),this.m=A,this.l=j,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(y){V.call(this),this.h=y,this.g={}}m(Xr,V);var Pr=[];function Zi(y){ye(y.g,function(A,j){this.g.hasOwnProperty(j)&&Ve(A)},y),y.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Zi(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=l.JSON.stringify,_e=l.JSON.parse,_t=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Sr(){}function Rr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){L.call(this,"d")}m(nn,L);function Er(){L.call(this,"c")}m(Er,L);var Wt={},Kc=null;function Sa(){return Kc=Kc||new lt}Wt.Ia="serverreachability";function Jr(y){L.call(this,Wt.Ia,y)}m(Jr,L);function Ti(y){const A=Sa();$t(A,new Jr(A))}Wt.STAT_EVENT="statevent";function cs(y,A){L.call(this,Wt.STAT_EVENT,y),this.stat=A}m(cs,L);function rn(y){const A=Sa();$t(A,new cs(A,y))}Wt.Ja="timingevent";function ei(y,A){L.call(this,Wt.Ja,y),this.size=A}m(ei,L);function Ge(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},A)}function St(){this.g=!0}St.prototype.ua=function(){this.g=!1};function bn(y,A,j,F,ee,se){y.info(function(){if(y.g)if(se){var Ee="",et=se.split("&");for(let xt=0;xt<et.length;xt++){var fn=et[xt].split("=");if(fn.length>1){const Qt=fn[0];fn=fn[1];const Ii=Qt.split("_");Ee=Ii.length>=2&&Ii[1]=="type"?Ee+(Qt+"="+fn+"&"):Ee+(Qt+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+F+") [attempt "+ee+"]: "+A+`
`+j+`
`+Ee})}function Un(y,A,j,F,ee,se,Ee){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ee+"]: "+A+`
`+j+`
`+se+" "+Ee})}function Tr(y,A,j,F){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+gr(y,j)+(F?" "+F:"")})}function Ht(y,A){y.info(function(){return"TIMEOUT: "+A})}St.prototype.info=function(){};function gr(y,A){if(!y.g)return A;if(!A)return null;try{const se=JSON.parse(A);if(se){for(y=0;y<se.length;y++)if(Array.isArray(se[y])){var j=se[y];if(!(j.length<2)){var F=j[1];if(Array.isArray(F)&&!(F.length<1)){var ee=F[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ee=1;Ee<F.length;Ee++)F[Ee]=""}}}}return Zr(se)}catch{return A}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tr;function Ea(){}m(Ea,Sr),Ea.prototype.g=function(){return new XMLHttpRequest},tr=new Ea;function nr(y){return encodeURIComponent(String(y))}function df(y){var A=1;y=y.split(":");const j=[];for(;A>0&&y.length;)j.push(y.shift()),A--;return y.length&&j.push(y.join(":")),j}function Ji(y,A,j,F){this.j=y,this.i=A,this.l=j,this.S=F||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}var xn={},Fn={};function Ta(y,A,j){y.M=1,y.A=Tl(_n(A)),y.u=j,y.R=!0,Yc(y,null)}function Yc(y,A){y.F=Date.now(),Aa(y),y.B=_n(y.A);var j=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Zc(j.i,"t",F),y.C=0,j=y.j.L,y.h=new ea,y.g=Ep(y.j,j?A:null,!y.u),y.P>0&&(y.O=new on(f(y.Y,y,y.g),y.P)),A=y.V,j=y.g,F=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Pr[0]=ee.toString()),ee=Pr);for(let se=0;se<ee.length;se++){const Ee=H(j,ee[se],F||A.handleEvent,!1,A.h||A);if(!Ee)break;A.g[Ee.key]=Ee}A=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Ti(),bn(y.i,y.v,y.B,y.l,y.S,y.u)}Ji.prototype.ba=function(y){y=y.target;const A=this.O;A&&ra(y)==3?A.j():this.Y(y)},Ji.prototype.Y=function(y){try{if(y==this.g)e:{const et=ra(this.g),fn=this.g.ya(),xt=this.g.ca();if(!(et<3)&&(et!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||et!=4||fn==7||(fn==8||xt<=0?Ti(3):Ti(2)),ka(this);var A=this.g.ca();this.X=A;var j=yb(this);if(this.o=A==200,Un(this.i,this.v,this.B,this.l,this.S,et,A),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ee=this.g;if((F=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(F)){var se=F;break t}}se=null}if(y=se)Tr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Na(this,y);else{this.o=!1,this.m=3,rn(12),ti(this),ki(this);break e}}if(this.R){y=!0;let Qt;for(;!this.K&&this.C<j.length;)if(Qt=dp(this,j),Qt==Fn){et==4&&(this.m=4,rn(14),y=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==xn){this.m=4,rn(15),Tr(this.i,this.l,j,"[Invalid Chunk]"),y=!1;break}else Tr(this.i,this.l,Qt,null),Na(this,Qt);if(up(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||j.length!=0||this.h.h||(this.m=1,rn(16),y=!1),this.o=this.o&&y,!y)Tr(this.i,this.l,j,"[Invalid Chunked Response]"),ti(this),ki(this);else if(j.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Af(Ee),Ee.P=!0,rn(11))}}else Tr(this.i,this.l,j,null),Na(this,j);et==4&&ti(this),this.o&&!this.K&&(et==4?xp(this.j,this):(this.o=!1,Aa(this)))}else ds(this.g),A==400&&j.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),ti(this),ki(this)}}}catch{}};function yb(y){if(!up(y))return y.g.la();const A=rr(y.g);if(A==="")return"";let j="";const F=A.length,ee=ra(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ti(y),ki(y),"";y.h.i=new l.TextDecoder}for(let se=0;se<F;se++)y.h.h=!0,j+=y.h.i.decode(A[se],{stream:!(ee&&se==F-1)});return A.length=0,y.h.g+=j,y.C=0,y.h.g}function up(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function dp(y,A){var j=y.C,F=A.indexOf(`
`,j);return F==-1?Fn:(j=Number(A.substring(j,F)),isNaN(j)?xn:(F+=1,F+j>A.length?Fn:(A=A.slice(F,F+j),y.C=F+j,A)))}Ji.prototype.cancel=function(){this.K=!0,ti(this)};function Aa(y){y.T=Date.now()+y.H,Wc(y,y.H)}function Wc(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Ge(f(y.aa,y),A)}function ka(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Ji.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ht(this.i,this.B),this.M!=2&&(Ti(),rn(17)),ti(this),this.m=2,ki(this)):Wc(this,this.T-y)};function ki(y){y.j.I==0||y.K||xp(y.j,y)}function ti(y){ka(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,Zi(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function Na(y,A){try{var j=y.j;if(j.I!=0&&(j.g==y||Ia(j.h,y))){if(!y.L&&Ia(j.h,y)&&j.I==3){try{var F=j.Ba.g.parse(A)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ee=F;if(ee[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<y.F)ru(j),yo(j);else break e;Ol(j),rn(18)}}else j.xa=ee[1],0<j.xa-j.K&&ee[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Ge(f(j.Va,j),6e3));Ca(j.h)<=1&&j.ta&&(j.ta=void 0)}else Ma(j,11)}else if((y.L||j.g==y)&&ru(j),!B(A))for(ee=j.Ba.g.parse(A),A=0;A<ee.length;A++){let xt=ee[A];const Qt=xt[0];if(!(Qt<=j.K))if(j.K=Qt,xt=xt[1],j.I==2)if(xt[0]=="c"){j.M=xt[1],j.ba=xt[2];const Ii=xt[3];Ii!=null&&(j.ka=Ii,j.j.info("VER="+j.ka));const Da=xt[4];Da!=null&&(j.za=Da,j.j.info("SVER="+j.za));const ia=xt[5];ia!=null&&typeof ia=="number"&&ia>0&&(F=1.5*ia,j.O=F,j.j.info("backChannelRequestTimeoutMs_="+F)),F=j;const aa=y.g;if(aa){const zl=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var se=F.h;se.g||zl.indexOf("spdy")==-1&&zl.indexOf("quic")==-1&&zl.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(mf(se,se.h),se.h=null))}if(F.G){const iu=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(F.wa=iu,Tt(F.J,F.G,iu))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-y.F,j.j.info("Handshake RTT: "+j.T+"ms")),F=j;var Ee=y;if(F.na=Sp(F,F.L?F.ba:null,F.W),Ee.L){pf(F.h,Ee);var et=Ee,fn=F.O;fn&&(et.H=fn),et.D&&(ka(et),Aa(et)),F.g=Ee}else vp(F);j.i.length>0&&Ra(j)}else xt[0]!="stop"&&xt[0]!="close"||Ma(j,7);else j.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ma(j,7):Ef(j):xt[0]!="noop"&&j.l&&j.l.qa(xt),j.A=0)}}Ti(4)}catch{}}var wn=class{constructor(y,A){this.g=y,this.map=A}};function ff(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ca(y){return y.h?1:y.g?y.g.size:0}function Ia(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function mf(y,A){y.g?y.g.add(A):y.h=A}function pf(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}ff.prototype.cancel=function(){if(this.i=gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function gf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const j of y.g.values())A=A.concat(j.G);return A}return x(y.i)}var fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(y,A){if(y){y=y.split("&");for(let j=0;j<y.length;j++){const F=y[j].indexOf("=");let ee,se=null;F>=0?(ee=y[j].substring(0,F),se=y[j].substring(F+1)):ee=y[j],A(ee,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ni(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof ni?(this.l=y.l,qn(this,y.j),this.o=y.o,this.g=y.g,co(this,y.u),this.h=y.h,yf(this,gp(y.i)),this.m=y.m):y&&(A=String(y).match(fp))?(this.l=!1,qn(this,A[1]||"",!0),this.o=ja(A[2]||""),this.g=ja(A[3]||"",!0),co(this,A[4]),this.h=ja(A[5]||"",!0),yf(this,A[6]||"",!0),this.m=ja(A[7]||"")):(this.l=!1,this.i=new fo(null,this.l))}ni.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(Al(A,Xc,!0),":");var j=this.g;return(j||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Al(A,Xc,!0),"@"),y.push(nr(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&y.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&y.push("/"),y.push(Al(j,j.charAt(0)=="/"?vf:hp,!0))),(j=this.i.toString())&&y.push("?",j),(j=this.m)&&y.push("#",Al(j,mp)),y.join("")},ni.prototype.resolve=function(y){const A=_n(this);let j=!!y.j;j?qn(A,y.j):j=!!y.o,j?A.o=y.o:j=!!y.g,j?A.g=y.g:j=y.u!=null;var F=y.h;if(j)co(A,y.u);else if(j=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ee=A.h.lastIndexOf("/");ee!=-1&&(F=A.h.slice(0,ee+1)+F)}if(ee=F,ee==".."||ee==".")F="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){F=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const se=[];for(let Ee=0;Ee<ee.length;){const et=ee[Ee++];et=="."?F&&Ee==ee.length&&se.push(""):et==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),F&&Ee==ee.length&&se.push("")):(se.push(et),F=!0)}F=se.join("/")}else F=ee}return j?A.h=F:j=y.i.toString()!=="",j?yf(A,gp(y.i)):j=!!y.m,j&&(A.m=y.m),A};function _n(y){return new ni(y)}function qn(y,A,j){y.j=j?ja(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function co(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function yf(y,A,j){A instanceof fo?(y.i=A,Jc(y.i,y.l)):(j||(A=Al(A,uo)),y.i=new fo(A,y.l))}function Tt(y,A,j){y.i.set(A,j)}function Tl(y){return Tt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function ja(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Al(y,A,j){return typeof y=="string"?(y=encodeURI(y).replace(A,Mr),j&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Xc=/[#\/\?@]/g,hp=/[#\?:]/g,vf=/[#\?]/g,uo=/[#\?@]/g,mp=/#/g;function fo(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Dr(y){y.g||(y.g=new Map,y.h=0,y.i&&Qc(y.i,function(A,j){y.add(decodeURIComponent(A.replace(/\+/g," ")),j)}))}t=fo.prototype,t.add=function(y,A){Dr(this),this.i=null,y=ho(this,y);let j=this.g.get(y);return j||this.g.set(y,j=[]),j.push(A),this.h+=1,this};function pp(y,A){Dr(y),A=ho(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function bf(y,A){return Dr(y),A=ho(y,A),y.g.has(A)}t.forEach=function(y,A){Dr(this),this.g.forEach(function(j,F){j.forEach(function(ee){y.call(A,ee,F,this)},this)},this)};function xf(y,A){Dr(y);let j=[];if(typeof A=="string")bf(y,A)&&(j=j.concat(y.g.get(ho(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)j=j.concat(y[A]);return j}t.set=function(y,A){return Dr(this),this.i=null,y=ho(this,y),bf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=xf(this,y),y.length>0?String(y[0]):A):A};function Zc(y,A,j){pp(y,A),j.length>0&&(y.i=null,y.g.set(ho(y,A),x(j)),y.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let F=0;F<A.length;F++){var j=A[F];const ee=nr(j);j=xf(this,j);for(let se=0;se<j.length;se++){let Ee=ee;j[se]!==""&&(Ee+="="+nr(j[se])),y.push(Ee)}}return this.i=y.join("&")};function gp(y){const A=new fo;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function ho(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Jc(y,A){A&&!y.j&&(Dr(y),y.i=null,y.g.forEach(function(j,F){const ee=F.toLowerCase();F!=ee&&(pp(this,F),Zc(this,ee,j))},y)),y.j=A}function ta(y,A){const j=new St;if(l.Image){const F=new Image;F.onload=p(Ni,j,"TestLoadImage: loaded",!0,A,F),F.onerror=p(Ni,j,"TestLoadImage: error",!1,A,F),F.onabort=p(Ni,j,"TestLoadImage: abort",!1,A,F),F.ontimeout=p(Ni,j,"TestLoadImage: timeout",!1,A,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else A(!1)}function wf(y,A){const j=new St,F=new AbortController,ee=setTimeout(()=>{F.abort(),Ni(j,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:F.signal}).then(se=>{clearTimeout(ee),se.ok?Ni(j,"TestPingServer: ok",!0,A):Ni(j,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ee),Ni(j,"TestPingServer: error",!1,A)})}function Ni(y,A,j,F,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),F(j)}catch{}}function mo(){this.g=new _t}function Oa(y){this.i=y.Sb||null,this.h=y.ab||!1}m(Oa,Sr),Oa.prototype.g=function(){return new kl(this.i,this.h)};function kl(y,A){lt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(kl,lt),t=kl.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,na(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?po(this):na(this),this.readyState==3&&eu(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,po(this))},t.Na=function(y){this.g&&(this.response=y,po(this))},t.ga=function(){this.g&&po(this)};function po(y){y.readyState=4,y.l=null,y.j=null,y.B=null,na(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var j=A.next();!j.done;)j=j.value,y.push(j[0]+": "+j[1]),j=A.next();return y.join(`\r
`)};function na(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ci(y){let A="";return ye(y,function(j,F){A+=F,A+=":",A+=j,A+=`\r
`}),A}function Nl(y,A,j){e:{for(F in j){var F=!1;break e}F=!0}F||(j=Ci(j),typeof y=="string"?j!=null&&nr(j):Tt(y,A,j))}function zt(y){lt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(zt,lt);var za=/^https?$/i,_f=["POST","PUT"];t=zt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,j,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tr.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(se){Cl(this,se);return}if(y=j||"",j=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ee in F)j.set(ee,F[ee]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const se of F.keys())j.set(se,F.get(se));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(j.keys()).find(se=>se.toLowerCase()=="content-type"),ee=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(_f,A,void 0)>=0)||F||ee||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of j)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(se){Cl(this,se)}};function Cl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,Sf(y),us(y)}function Sf(y){y.A||(y.A=!0,$t(y,"complete"),$t(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,$t(this,"complete"),$t(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(y){if(y.h&&typeof s<"u"){if(y.v&&ra(y)==4)setTimeout(y.Ca.bind(y),0);else if($t(y,"readystatechange"),ra(y)==4){y.h=!1;try{const se=y.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var j;if(!(j=A)){var F;if(F=se===0){let Ee=String(y.D).match(fp)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),F=!za.test(Ee?Ee.toLowerCase():"")}j=F}if(j)$t(y,"complete"),$t(y,"success");else{y.o=6;try{var ee=ra(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",Sf(y)}}finally{us(y)}}}}function us(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const j=y.g;y.g=null,A||$t(y,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),_e(A)}};function rr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(y){const A={};y=(y.g&&ra(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(B(y[F]))continue;var j=df(y[F]);const ee=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const se=A[ee]||[];A[ee]=se,se.push(j)}ke(A,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(y,A,j){return j&&j.internalChannelParams&&j.internalChannelParams[y]||A}function go(y){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pa("baseRetryDelayMs",5e3,y),this.Za=Pa("retryDelaySeedMs",1e4,y),this.Ta=Pa("forwardChannelMaxRetries",2,y),this.va=Pa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new ff(y&&y.concurrentRequestLimit),this.Ba=new mo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=go.prototype,t.ka=8,t.I=1,t.connect=function(y,A,j,F){rn(0),this.W=y,this.H=A||{},j&&F!==void 0&&(this.H.OSID=j,this.H.OAID=F),this.F=this.X,this.J=Sp(this,null,this.W),Ra(this)};function Ef(y){if(tu(y),y.I==3){var A=y.V++,j=_n(y.J);if(Tt(j,"SID",y.M),Tt(j,"RID",A),Tt(j,"TYPE","terminate"),jl(y,j),A=new Ji(y,y.j,A),A.M=2,A.A=Tl(_n(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=A.A,j=!0),j||(A.g=Ep(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Aa(A)}_p(y)}function yo(y){y.g&&(Af(y),y.g.cancel(),y.g=null)}function tu(y){yo(y),y.v&&(l.clearTimeout(y.v),y.v=null),ru(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Ra(y){if(!hf(y.h)&&!y.m){y.m=!0;var A=y.Ea;O||C(),U||(O(),U=!0),z.add(A,y),y.D=0}}function nu(y,A){return Ca(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Ge(f(y.Ea,y,A),wp(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new Ji(this,this.j,y);let se=this.o;if(this.U&&(se?(se=q(se),Q(se,this.U)):se=this.U),this.u!==null||this.R||(ee.J=se,se=null),this.S)e:{for(var A=0,j=0;j<this.i.length;j++){t:{var F=this.i[j];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(A+=F,A>4096){A=j;break e}if(A===4096||j===this.i.length-1){A=j+1;break e}}A=1e3}else A=1e3;A=yp(this,ee,A),j=_n(this.J),Tt(j,"RID",y),Tt(j,"CVER",22),this.G&&Tt(j,"X-HTTP-Session-Id",this.G),jl(this,j),se&&(this.R?A="headers="+nr(Ci(se))+"&"+A:this.u&&Nl(j,this.u,se)),mf(this.h,ee),this.Ra&&Tt(j,"TYPE","init"),this.S?(Tt(j,"$req",A),Tt(j,"SID","null"),ee.U=!0,Ta(ee,j,null)):Ta(ee,j,A),this.I=2}}else this.I==3&&(y?Tf(this,y):this.i.length==0||hf(this.h)||Tf(this))};function Tf(y,A){var j;A?j=A.l:j=y.V++;const F=_n(y.J);Tt(F,"SID",y.M),Tt(F,"RID",j),Tt(F,"AID",y.K),jl(y,F),y.u&&y.o&&Nl(F,y.u,y.o),j=new Ji(y,y.j,j,y.D+1),y.u===null&&(j.J=y.o),A&&(y.i=A.G.concat(y.i)),A=yp(y,j,1e3),j.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),mf(y.h,j),Ta(j,F,A)}function jl(y,A){y.H&&ye(y.H,function(j,F){Tt(A,F,j)}),y.l&&ye({},function(j,F){Tt(A,F,j)})}function yp(y,A,j){j=Math.min(y.i.length,j);const F=y.l?f(y.l.Ka,y.l,y):null;e:{var ee=y.i;let et=-1;for(;;){const fn=["count="+j];et==-1?j>0?(et=ee[0].g,fn.push("ofs="+et)):et=0:fn.push("ofs="+et);let xt=!0;for(let Qt=0;Qt<j;Qt++){var se=ee[Qt].g;const Ii=ee[Qt].map;if(se-=et,se<0)et=Math.max(0,ee[Qt].g-100),xt=!1;else try{se="req"+se+"_"||"";try{var Ee=Ii instanceof Map?Ii:Object.entries(Ii);for(const[Da,ia]of Ee){let aa=ia;c(ia)&&(aa=Zr(ia)),fn.push(se+Da+"="+encodeURIComponent(aa))}}catch(Da){throw fn.push(se+"type="+encodeURIComponent("_badmap")),Da}}catch{F&&F(Ii)}}if(xt){Ee=fn.join("&");break e}}Ee=void 0}return y=y.i.splice(0,j),A.G=y,Ee}function vp(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;O||C(),U||(O(),U=!0),z.add(A,y),y.A=0}}function Ol(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Ge(f(y.Da,y),wp(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,bp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Ge(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),yo(this),bp(this))};function Af(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function bp(y){y.g=new Ji(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=_n(y.na);Tt(A,"RID","rpc"),Tt(A,"SID",y.M),Tt(A,"AID",y.K),Tt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&Tt(A,"TO",y.ia),Tt(A,"TYPE","xmlhttp"),jl(y,A),y.u&&y.o&&Nl(A,y.u,y.o),y.O&&(y.g.H=y.O);var j=y.g;y=y.ba,j.M=1,j.A=Tl(_n(A)),j.u=null,j.R=!0,Yc(j,y)}t.Va=function(){this.C!=null&&(this.C=null,yo(this),Ol(this),rn(19))};function ru(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function xp(y,A){var j=null;if(y.g==A){ru(y),Af(y),y.g=null;var F=2}else if(Ia(y.h,A))j=A.G,pf(y.h,A),F=1;else return;if(y.I!=0){if(A.o)if(F==1){j=A.u?A.u.length:0,A=Date.now()-A.F;var ee=y.D;F=Sa(),$t(F,new ei(F,j)),Ra(y)}else vp(y);else if(ee=A.m,ee==3||ee==0&&A.X>0||!(F==1&&nu(y,A)||F==2&&Ol(y)))switch(j&&j.length>0&&(A=y.h,A.i=A.i.concat(j)),ee){case 1:Ma(y,5);break;case 4:Ma(y,10);break;case 3:Ma(y,6);break;default:Ma(y,2)}}}function wp(y,A){let j=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(j*=2),j*A}function Ma(y,A){if(y.j.info("Error code "+A),A==2){var j=f(y.bb,y),F=y.Ua;const ee=!F;F=new ni(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qn(F,"https"),Tl(F),ee?ta(F.toString(),j):wf(F.toString(),j)}else rn(2);y.I=0,y.l&&y.l.pa(A),_p(y),tu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function _p(y){if(y.I=0,y.ja=[],y.l){const A=gf(y.h);(A.length!=0||y.i.length!=0)&&(S(y.ja,A),S(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function Sp(y,A,j){var F=j instanceof ni?_n(j):new ni(j);if(F.g!="")A&&(F.g=A+"."+F.g),co(F,F.u);else{var ee=l.location;F=ee.protocol,A=A?A+"."+ee.hostname:ee.hostname,ee=+ee.port;const se=new ni(null);F&&qn(se,F),A&&(se.g=A),ee&&co(se,ee),j&&(se.h=j),F=se}return j=y.G,A=y.wa,j&&A&&Tt(F,j,A),Tt(F,"VER",y.ka),jl(y,F),F}function Ep(y,A,j){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new zt(new Oa({ab:j})):new zt(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}t=Tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vo(){}vo.prototype.g=function(y,A){return new Ar(y,A)};function Ar(y,A){lt.call(this),this.g=new go(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!B(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!B(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new fs(this)}m(Ar,lt),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Ef(this.g)},Ar.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var j={};j.__data__=y,y=j}else this.v&&(j={},j.__data__=Zr(y),y=j);A.i.push(new wn(A.Ya++,y)),A.I==3&&Ra(A)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Ef(this.g),delete this.g,Ar.Z.N.call(this)};function Ap(y){nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const j in A){y=j;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}m(Ap,nn);function kp(){Er.call(this),this.status=1}m(kp,Er);function fs(y){this.g=y}m(fs,Tp),fs.prototype.ra=function(){$t(this.g,"a")},fs.prototype.qa=function(y){$t(this.g,new Ap(y))},fs.prototype.pa=function(y){$t(this.g,new kp)},fs.prototype.oa=function(){$t(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,h5=function(){return new vo},f5=function(){return Sa()},d5=Wt,O_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,h0=Ai,er.COMPLETE="complete",u5=er,Rr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Ah=Rr,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,c5=zt}).apply(typeof zg<"u"?zg:typeof self<"u"?self:typeof window<"u"?window:{});const vI="@firebase/firestore",bI="4.9.3";let xr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let $d="12.7.0";const Tc=new xE("@firebase/firestore");function Hu(){return Tc.logLevel}function ve(t,...e){if(Tc.logLevel<=ht.DEBUG){const n=e.map(zE);Tc.debug(`Firestore (${$d}): ${t}`,...n)}}function gn(t,...e){if(Tc.logLevel<=ht.ERROR){const n=e.map(zE);Tc.error(`Firestore (${$d}): ${t}`,...n)}}function Wh(t,...e){if(Tc.logLevel<=ht.WARN){const n=e.map(zE);Tc.warn(`Firestore (${$d}): ${t}`,...n)}}function zE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m5(t,r,n)}function m5(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gn(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m5(e,i,r)}function Le(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ol{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class fG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xr.UNAUTHENTICATED)))}shutdown(){}}class mG{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ol,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ol)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new fG(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class pG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ua(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class PE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=vG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function z_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return k1(i)===k1(s)?Xe(i,s):k1(i)?1:-1}return Xe(t.length,e.length)}const bG=55296,xG=57343;function k1(t){const e=t.charCodeAt(0);return e>=bG&&e<=xG}function cd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function p5(t){return t+"\0"}const wI="__name__";class Ha{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ha.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ha?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ha.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Ha.isNumericId(e),i=Ha.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ha.extractNumericId(e).compare(Ha.extractNumericId(n)):z_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sl.fromString(e.substring(4,e.length-2))}}class Lt extends Ha{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const wG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ha{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return wG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wI}static keyField(){return new an([wI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new je(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new je(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new je(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Lt.fromString(e))}static fromName(e){return new Ie(Lt.fromString(e).popFirst(5))}static empty(){return new Ie(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Lt(e.slice()))}}function _G(t,e,n){if(!n)throw new je(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SG(t,e,n,r){if(e===!0&&r===!0)throw new je(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _I(t){if(!Ie.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function RE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function Rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RE(t);throw new je(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pm(t,e){if(!g5(t))throw new je(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new je(me.INVALID_ARGUMENT,n);return!0}const SI=-62135596800,EI=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EI);return new It(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SI)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EI}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pm(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Cn("string",It._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new It(0,0))}static max(){return new qe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ud=-1;class L0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function P_(t){return t.fields.find((e=>e.kind===2))}function Zl(t){return t.fields.filter((e=>e.kind!==2))}L0.UNKNOWN_ID=-1;class m0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qh(0,xi.min())}}function y5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new xi(i,Ie.empty(),e)}function v5(t){return new xi(t.readTime,t.key,ud)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(qe.min(),Ie.empty(),ud)}static max(){return new xi(qe.max(),Ie.empty(),ud)}}function ME(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}const b5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==b5)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((i=>i?J.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new J(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ui="SimpleDb";class av{static open(e,n,r,i){try{return new av(n,e.transaction(i,r))}catch(s){throw new Mh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ol,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Mh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=DE(r.target.error);this.S.reject(new Mh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ve(ui,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TG(n)}}class ll{static delete(e){return ve(ui,"Removing database:",e),ic(vD().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!TD())return!1;if(ll.F())return!0;const e=Rn(),n=ll.M(e),r=0<n&&n<10,i=w5(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ll.M(Rn())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ve(ui,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new je(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new je(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Mh(e,l))},i.onupgradeneeded=s=>{ve(ui,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{ve(ui,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=av.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),J.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ve(ui,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function w5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class EG{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ic(this.U.delete())}}class Mh extends je{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bl(t){return t.name==="IndexedDbTransactionError"}class TG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ve(ui,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ve(ui,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ic(r)}add(e){return ve(ui,"ADD",this.store.name,e,e),ic(this.store.add(e))}get(e){return ic(this.store.get(e)).next((n=>(n===void 0&&(n=null),ve(ui,"GET",this.store.name,e,n),n)))}delete(e){return ve(ui,"DELETE",this.store.name,e),ic(this.store.delete(e))}count(){return ve(ui,"COUNT",this.store.name),ic(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new J(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new J(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){ve(ui,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new J(((r,i)=>{n.onerror=s=>{const l=DE(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new J(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new EG(c),f=n(c.primaryKey,c.value,d);if(f instanceof J){const p=f.catch((m=>(d.done(),J.reject(m))));r.push(p)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>J.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ic(t){return new J(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=DE(r.target.error);n(i)}}))}let TI=!1;function DE(t){const e=ll.M(Rn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TI||(TI=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Dh="IndexBackfiller";class AG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ve(Dh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ve(Dh,`Documents written: ${n}`)}catch(n){bl(n)?ve(Dh,"Ignoring IndexedDB error during index backfill: ",n):await vl(n)}await this.re(6e4)}))}}class kG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return J.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ve(Dh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(ve(Dh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=v5(s);ME(l,r)>0&&(r=l)})),new xi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gr.ce=-1;const mc=-1;function sv(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function _5(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const V0="";function _r(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AI(e)),e=NG(t.get(n),e);return AI(e)}function NG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case V0:n+="";break;default:n+=s}}return n}function AI(t){return t+V0+""}function Wa(t){const e=t.length;if(Ue(e>=2,64408,{path:t}),e===2)return Ue(t.charAt(0)===V0&&t.charAt(1)==="",56145,{path:t}),Lt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(V0,s);switch((l<0||l>n)&&ze(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:ze(61167,{path:t})}s=l+2}return new Lt(r)}const Jl="remoteDocuments",Rm="owner",Pu="owner",Zh="mutationQueues",CG="userId",ca="mutations",kI="batchId",cc="userMutationsIndex",NI=["userId","batchId"];function p0(t,e){return[t,_r(e)]}function S5(t,e,n){return[t,_r(e),n]}const IG={},dd="documentMutations",B0="remoteDocumentsV14",jG=["prefixPath","collectionGroup","readTime","documentId"],g0="documentKeyIndex",OG=["prefixPath","collectionGroup","documentId"],E5="collectionGroupIndex",zG=["collectionGroup","readTime","prefixPath","documentId"],Jh="remoteDocumentGlobal",R_="remoteDocumentGlobalKey",fd="targets",T5="queryTargetsIndex",PG=["canonicalId","targetId"],hd="targetDocuments",RG=["targetId","path"],LE="documentTargetsIndex",MG=["path","targetId"],U0="targetGlobalKey",pc="targetGlobal",em="collectionParents",DG=["collectionId","parent"],md="clientMetadata",LG="clientId",ov="bundles",VG="bundleId",lv="namedQueries",BG="name",VE="indexConfiguration",UG="indexId",M_="collectionGroupIndex",FG="collectionGroup",Lh="indexState",qG=["indexId","uid"],A5="sequenceNumberIndex",$G=["uid","sequenceNumber"],Vh="indexEntries",HG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],k5="documentKeyIndex",GG=["indexId","uid","orderedDocumentKey"],cv="documentOverlays",KG=["userId","collectionPath","documentId"],D_="collectionPathOverlayIndex",YG=["userId","collectionPath","largestBatchId"],N5="collectionGroupOverlayIndex",WG=["userId","collectionGroup","largestBatchId"],BE="globals",QG="name",C5=[Zh,ca,dd,Jl,fd,Rm,pc,hd,md,Jh,em,ov,lv],XG=[...C5,cv],I5=[Zh,ca,dd,B0,fd,Rm,pc,hd,md,Jh,em,ov,lv,cv],j5=I5,UE=[...j5,VE,Lh,Vh],ZG=UE,O5=[...UE,BE],JG=O5;class L_ extends x5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Mn(t,e){const n=Le(t);return ll.O(n.le,e)}function CI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qt{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??dr.EMPTY,this.right=s??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ru(t){return t.hasNext()?t.getNext():void 0}class qi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new qi([])}unionWith(e){let n=new jt(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class P5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new P5("Invalid base64 string: "+s):s}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const eK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=eK.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}const R5="server_timestamp",M5="__type__",D5="__previous_value__",L5="__local_write_time__";function FE(t){return(t?.mapValue?.fields||{})[M5]?.stringValue===R5}function uv(t){const e=t.mapValue.fields[D5];return FE(e)?uv(e):e}function tm(t){const e=qs(t.mapValue.fields[L5].timestampValue);return new It(e.seconds,e.nanos)}class tK{constructor(e,n,r,i,s,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const F0="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||F0}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===F0}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const qE="__type__",V5="__max__",tl={mapValue:{fields:{__type__:{stringValue:V5}}}},$E="__vector__",pd="value",y0={nullValue:"NULL_VALUE"};function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FE(t)?4:B5(t)?9007199254740991:dv(t)?10:11:ze(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tm(t).isEqual(tm(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=qs(i.timestampValue),c=qs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return $s(i.bytesValue).isEqual($s(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Jt(i.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Jt(i.integerValue)===Jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Jt(i.doubleValue),c=Jt(s.doubleValue);return l===c?Xh(l)===Xh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return cd(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(CI(l)!==CI(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!is(l[d],c[d])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function nm(t,e){return(t.values||[]).find((n=>is(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Jt(s.integerValue||s.doubleValue),d=Jt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return jI(t.timestampValue,e.timestampValue);case 4:return jI(tm(t),tm(e));case 5:return z_(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=$s(s),d=$s(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=Xe(c[f],d[f]);if(p!==0)return p}return Xe(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Xe(Jt(s.latitude),Jt(l.latitude));return c!==0?c:Xe(Jt(s.longitude),Jt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return OI(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[pd]?.arrayValue,p=d[pd]?.arrayValue,m=Xe(f?.values?.length||0,p?.values?.length||0);return m!==0?m:OI(f,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===tl.mapValue&&l===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(l===tl.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const b=z_(d[m],p[m]);if(b!==0)return b;const x=dl(c[d[m]],f[p[m]]);if(x!==0)return x}return Xe(d.length,p.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function jI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=qs(t),r=qs(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function OI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=dl(n[i],r[i]);if(s)return s}return Xe(n.length,r.length)}function gd(t){return V_(t)}function V_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $s(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=V_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${V_(n.fields[l])}`;return i+"}"})(t.mapValue):ze(61005,{value:t})}function v0(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uv(t);return e?16+v0(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+v0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bc(r.fields,((s,l)=>{i+=s.length+v0(l)})),i})(t.mapValue);default:throw ze(13486,{value:t})}}function HE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B_(t){return!!t&&"integerValue"in t}function rm(t){return!!t&&"arrayValue"in t}function zI(t){return!!t&&"nullValue"in t}function PI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b0(t){return!!t&&"mapValue"in t}function dv(t){return(t?.mapValue?.fields||{})[qE]?.stringValue===$E}function Bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return{...t}}function B5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V5}const U5={mapValue:{fields:{[qE]:{stringValue:$E},[pd]:{arrayValue:{}}}}};function nK(t){return"nullValue"in t?y0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?HE(Ac.empty(),Ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?dv(t)?U5:{mapValue:{}}:ze(35942,{value:t})}function rK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?HE(Ac.empty(),Ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?U5:"mapValue"in t?dv(t)?{mapValue:{}}:tl:ze(61959,{value:t})}function RI(t,e){const n=dl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MI(t,e){const n=dl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!b0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Bh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());b0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];b0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Hr(Bh(this.value))}}function F5(t){const e=[];return Bc(t.fields,((n,r)=>{const i=new an([n]);if(b0(r)){const s=F5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new qi(e)}class dn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new dn(e,0,qe.min(),qe.min(),qe.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,qe.min(),qe.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,qe.min(),qe.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yd{constructor(e,n){this.position=e,this.inclusive=n}}function DI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}class q0{constructor(e,n="asc"){this.field=e,this.dir=n}}function iK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class q5{}class pt extends q5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aK(e,n,r):n==="array-contains"?new lK(e,r):n==="in"?new W5(e,r):n==="not-in"?new cK(e,r):n==="array-contains-any"?new uK(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sK(e,r):new oK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends q5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vt(e,n)}matches(e){return vd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vd(t){return t.op==="and"}function U_(t){return t.op==="or"}function GE(t){return $5(t)&&vd(t)}function $5(t){for(const e of t.filters)if(e instanceof Vt)return!1;return!0}function F_(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(GE(t))return t.filters.map((e=>F_(e))).join(",");{const e=t.filters.map((n=>F_(n))).join(",");return`${t.op}(${e})`}}function H5(t,e){return t instanceof pt?(function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)})(t,e):t instanceof Vt?(function(r,i){return i instanceof Vt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&H5(l,i.filters[c])),!0):!1})(t,e):void ze(19439)}function G5(t,e){const n=t.filters.concat(e);return Vt.create(n,t.op)}function K5(t){return t instanceof pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${gd(n.value)}`})(t):t instanceof Vt?(function(n){return n.op.toString()+" {"+n.getFilters().map(K5).join(" ,")+"}"})(t):"Filter"}class aK extends pt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class sK extends pt{constructor(e,n){super(e,"in",n),this.keys=Y5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oK extends pt{constructor(e,n){super(e,"not-in",n),this.keys=Y5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Y5(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class lK extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rm(n)&&nm(n.arrayValue,this.value)}}class W5 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nm(this.value.arrayValue,n)}}class cK extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nm(this.value.arrayValue,n)}}class uK extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nm(this.value.arrayValue,r)))}}class dK{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function q_(t,e=null,n=[],r=[],i=null,s=null,l=null){return new dK(t,e,n,r,i,s,l)}function kc(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>F_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gd(r))).join(",")),e.Te=n}return e.Te}function Mm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LI(t.startAt,e.startAt)&&LI(t.endAt,e.endAt)}function $0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function H0(t,e){return t.filters.filter((n=>n instanceof pt&&n.field.isEqual(e)))}function VI(t,e,n){let r=y0,i=!0;for(const s of H0(t,e)){let l=y0,c=!0;switch(s.op){case"<":case"<=":l=nK(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=y0}RI({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];RI({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function BI(t,e,n){let r=tl,i=!0;for(const s of H0(t,e)){let l=tl,c=!0;switch(s.op){case">=":case">":l=rK(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=tl}MI({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];MI({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class fv{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q5(t,e,n,r,i,s,l,c){return new fv(t,e,n,r,i,s,l,c)}function hv(t){return new fv(t)}function UI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fK(t){return t.collectionGroup!==null}function Uh(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new jt(an.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new q0(s,r))})),n.has(an.keyField().canonicalString())||e.Ie.push(new q0(an.keyField(),r))}return e.Ie}function yi(t){const e=Le(t);return e.Ee||(e.Ee=hK(e,Uh(t))),e.Ee}function hK(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new q0(i.field,s)}));const n=t.endAt?new yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yd(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $_(t,e,n){return new fv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mv(t,e){return Mm(yi(t),yi(e))&&t.limitType===e.limitType}function X5(t){return`${kc(yi(t))}|lt:${t.limitType}`}function Gu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>K5(i))).join(", ")}]`),sv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gd(i))).join(",")),`Target(${r})`})(yi(t))}; limitType=${t.limitType})`}function Dm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=DI(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Uh(r),i)||r.endAt&&!(function(l,c,d){const f=DI(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Uh(r),i))})(t,e)}function Z5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J5(t){return(e,n)=>{let r=!1;for(const i of Uh(t)){const s=mK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mK(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?dl(d,f):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return z5(this.inner)}size(){return this.innerSize}}const pK=new qt(Ie.comparator);function hi(){return pK}const e4=new qt(Ie.comparator);function kh(...t){let e=e4;for(const n of t)e=e.insert(n.key,n);return e}function t4(t){let e=e4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qa(){return Fh()}function n4(){return Fh()}function Fh(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gK=new qt(Ie.comparator),yK=new jt(Ie.comparator);function ot(...t){let e=yK;for(const n of t)e=e.add(n);return e}const vK=new jt(Xe);function KE(){return vK}function YE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function r4(t){return{integerValue:""+t}}function bK(t,e){return _5(e)?r4(e):YE(t,e)}class pv{constructor(){this._=void 0}}function xK(t,e,n){return t instanceof im?(function(i,s){const l={fields:{[M5]:{stringValue:R5},[L5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&FE(s)&&(s=uv(s)),s&&(l.fields[D5]=s),{mapValue:l}})(n,e):t instanceof bd?a4(t,e):t instanceof xd?s4(t,e):(function(i,s){const l=i4(i,s),c=FI(l)+FI(i.Ae);return B_(l)&&B_(i.Ae)?r4(c):YE(i.serializer,c)})(t,e)}function wK(t,e,n){return t instanceof bd?a4(t,e):t instanceof xd?s4(t,e):n}function i4(t,e){return t instanceof am?(function(r){return B_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class im extends pv{}class bd extends pv{constructor(e){super(),this.elements=e}}function a4(t,e){const n=o4(e);for(const r of t.elements)n.some((i=>is(i,r)))||n.push(r);return{arrayValue:{values:n}}}class xd extends pv{constructor(e){super(),this.elements=e}}function s4(t,e){let n=o4(e);for(const r of t.elements)n=n.filter((i=>!is(i,r)));return{arrayValue:{values:n}}}class am extends pv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FI(t){return Jt(t.integerValue||t.doubleValue)}function o4(t){return rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _K{constructor(e,n){this.field=e,this.transform=n}}function SK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bd&&i instanceof bd||r instanceof xd&&i instanceof xd?cd(r.elements,i.elements,is):r instanceof am&&i instanceof am?is(r.Ae,i.Ae):r instanceof im&&i instanceof im})(t.transform,e.transform)}class EK{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gv{}function l4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WE(t.key,mi.none()):new Hd(t.key,t.data,mi.none());{const n=t.data,r=Hr.empty();let i=new jt(an.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new xl(t.key,r,new qi(i.toArray()),mi.none())}}function TK(t,e,n){t instanceof Hd?(function(i,s,l){const c=i.value.clone(),d=$I(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof xl?(function(i,s,l){if(!x0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=$I(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(c4(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function qh(t,e,n,r){return t instanceof Hd?(function(s,l,c,d){if(!x0(s.precondition,l))return c;const f=s.value.clone(),p=HI(s.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xl?(function(s,l,c,d){if(!x0(s.precondition,l))return c;const f=HI(s.fieldTransforms,d,l),p=l.data;return p.setAll(c4(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return x0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function AK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=i4(r.transform,i||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function qI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cd(r,i,((s,l)=>SK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends gv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xl extends gv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $I(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,wK(l,c,n[i]))}return r}function HI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,xK(s,l,e))}return r}class WE extends gv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u4 extends gv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=l4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,((n,r)=>qI(n,r)))&&cd(this.baseMutations,e.baseMutations,((n,r)=>qI(n,r)))}}class XE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return gK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new XE(e,n,r,i)}}class ZE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kK{constructor(e,n){this.count=e,this.unchangedNames=n}}var kn,gt;function NK(t){switch(t){case me.OK:return ze(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function d4(t){if(t===void 0)return gn("GRPC error has no .code"),me.UNKNOWN;switch(t){case kn.OK:return me.OK;case kn.CANCELLED:return me.CANCELLED;case kn.UNKNOWN:return me.UNKNOWN;case kn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case kn.INTERNAL:return me.INTERNAL;case kn.UNAVAILABLE:return me.UNAVAILABLE;case kn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case kn.NOT_FOUND:return me.NOT_FOUND;case kn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case kn.ABORTED:return me.ABORTED;case kn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case kn.DATA_LOSS:return me.DATA_LOSS;default:return ze(39323,{code:t})}}(gt=kn||(kn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";function CK(){return new TextEncoder}const IK=new sl([4294967295,4294967295],0);function GI(t){const e=CK().encode(t),n=new l5;return n.update(e),new Uint8Array(n.digest())}function KI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sl([n,r],0),new sl([i,s],0)]}class JE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nh(`Invalid padding: ${n}`);if(r<0)throw new Nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sl.fromNumber(r)));return i.compare(IK)===1&&(i=new sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GI(e),[r,i]=KI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new JE(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=GI(e),[r,i]=KI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(qe.min(),i,new qt(Xe),hi(),ot())}}class Vm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vm(r,n,ot(),ot(),ot())}}class w0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class f4{constructor(e,n){this.targetId=e,this.Ce=n}}class h4{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YI{constructor(){this.ve=0,this.Fe=WI(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:s})}})),new Vm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jK{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=Rg(),this.He=Rg(),this.Ye=new qt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if($0(s))if(r===0){const l=new Ie(s.path);this.et(n,l,dn.newNoDocument(l,qe.min()))}else Ue(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=$s(r).toUint8Array()}catch(d){if(d instanceof P5)return Wh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new JE(l,i,s)}catch(d){return Wh(d instanceof Nh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&$0(c.target)){const d=new Ie(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,dn.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ot();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Lm(e,n,this.Ye,this.je,r);return this.je=hi(),this.Je=Rg(),this.He=Rg(),this.Ye=new qt(Xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rg(){return new qt(Ie.comparator)}function WI(){return new qt(Ie.comparator)}const OK={asc:"ASCENDING",desc:"DESCENDING"},zK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PK={and:"AND",or:"OR"};class RK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H_(t,e){return t.useProto3Json||sv(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MK(t,e){return wd(t,e.toTimestamp())}function Ir(t){return Ue(!!t,49232),qe.fromTimestamp((function(n){const r=qs(n);return new It(r.seconds,r.nanos)})(t))}function eT(t,e){return G_(t,e).canonicalString()}function G_(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function p4(t){const e=Lt.fromString(t);return Ue(E4(e),10190,{key:e.toString()}),e}function G0(t,e){return eT(t.databaseId,e.path)}function gc(t,e){const n=p4(e);if(n.get(1)!==t.databaseId.projectId)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(v4(n))}function g4(t,e){return eT(t.databaseId,e)}function y4(t){const e=p4(t);return e.length===4?Lt.emptyPath():v4(e)}function K_(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v4(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QI(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function DK(t,e,n){const r=gc(t,e.name),i=Ir(e.updateTime),s=e.createTime?Ir(e.createTime):qe.min(),l=new Hr({mapValue:{fields:e.fields}}),c=dn.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function LK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,p){return f.useProto3Json?(Ue(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(Ue(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?me.UNKNOWN:d4(f.code);return new je(p,f.message||"")})(l);n=new h4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gc(t,r.document.name),s=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):qe.min(),c=new Hr({mapValue:{fields:r.document.fields}}),d=dn.newFoundDocument(i,s,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new w0(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gc(t,r.document),s=r.readTime?Ir(r.readTime):qe.min(),l=dn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new w0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gc(t,r.document),s=r.removedTargetIds||[];n=new w0([],s,i,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new kK(i,s),c=r.targetId;n=new f4(c,l)}}return n}function K0(t,e){let n;if(e instanceof Hd)n={update:QI(t,e.key,e.value)};else if(e instanceof WE)n={delete:G0(t,e.key)};else if(e instanceof xl)n={update:QI(t,e.key,e.data),updateMask:$K(e.fieldMask)};else{if(!(e instanceof u4))return ze(16599,{Vt:e.type});n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof im)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof am)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw ze(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:MK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ze(27497)})(t,e.precondition)),n}function Y_(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?mi.updateTime(Ir(s.updateTime)):s.exists!==void 0?mi.exists(s.exists):mi.none()})(e.currentDocument):mi.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Ue(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new im;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];d=new bd(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];d=new xd(p)}else"increment"in c?d=new am(l,c.increment):ze(16584,{proto:c});const f=an.fromServerFormat(c.fieldPath);return new _K(f,d)})(t,i))):[];if(e.update){e.update.name;const i=gc(t,e.update.name),s=new Hr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new qi(f.map((p=>an.fromServerFormat(p))))})(e.updateMask);return new xl(i,s,l,n,r)}return new Hd(i,s,n,r)}if(e.delete){const i=gc(t,e.delete);return new WE(i,n)}if(e.verify){const i=gc(t,e.verify);return new u4(i,n)}return ze(1463,{proto:e})}function VK(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ir(i.updateTime):Ir(s);return l.isEqual(qe.min())&&(l=Ir(s)),new EK(l,i.transformResults||[])})(n,e)))):[]}function b4(t,e){return{documents:[g4(t,e.path)]}}function x4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g4(t,i);const s=(function(f){if(f.length!==0)return S4(Vt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Ku(b.field),direction:UK(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=H_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function w4(t){let e=y4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const b=_4(m);return b instanceof Vt&&GE(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((b=>(function(S){return new q0(Yu(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let b;return b=typeof m=="object"?m.value:m,sv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(m){const b=!!m.before,x=m.values||[];return new yd(x,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const b=!m.before,x=m.values||[];return new yd(x,b)})(n.endAt)),Q5(e,i,l,s,c,"F",d,f)}function BK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yu(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yu(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yu(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yu(n.unaryFilter.field);return pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return pt.create(Yu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vt.create(n.compositeFilter.filters.map((r=>_4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function UK(t){return OK[t]}function FK(t){return zK[t]}function qK(t){return PK[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Yu(t){return an.fromServerFormat(t.fieldPath)}function S4(t){return t instanceof pt?(function(n){if(n.op==="=="){if(PI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NAN"}};if(zI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NAN"}};if(zI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(n.field),op:FK(n.op),value:n.value}}})(t):t instanceof Vt?(function(n){const r=n.getFilters().map((i=>S4(i)));return r.length===1?r[0]:{compositeFilter:{op:qK(n.op),filters:r}}})(t):ze(54877,{filter:t})}function $K(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function E4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Rs{constructor(e,n,r,i,s=qe.min(),l=qe.min(),c=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T4{constructor(e){this.yt=e}}function HK(t,e){let n;if(e.document)n=DK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ie.fromSegments(e.noDocument.path),i=Cc(e.noDocument.readTime);n=dn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ze(56709);{const r=Ie.fromSegments(e.unknownDocument.path),i=Cc(e.unknownDocument.version);n=dn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new It(i[0],i[1]);return qe.fromTimestamp(s)})(e.readTime)),n}function XI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Y0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:G0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:wd(s,l.version.toTimestamp()),createTime:wd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nc(e.version)};else{if(!e.isUnknownDocument())return ze(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Nc(e.version)}}return r}function Y0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cc(t){const e=new It(t.seconds,t.nanoseconds);return qe.fromTimestamp(e)}function ac(t,e){const n=(e.baseMutations||[]).map((s=>Y_(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Y_(t.yt,s))),i=It.fromMillis(e.localWriteTimeMs);return new QE(e.batchId,i,n,r)}function Ch(t){const e=Cc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Cc(t.lastLimboFreeSnapshotVersion):qe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Ue(l===1,1966,{count:l}),yi(hv(y4(s.documents[0])))})(t.query):(function(s){return yi(w4(s))})(t.query),new Rs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yn.fromBase64String(t.resumeToken))}function A4(t,e){const n=Nc(e.snapshotVersion),r=Nc(e.lastLimboFreeSnapshotVersion);let i;i=$0(e.target)?b4(t.yt,e.target):x4(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function k4(t){const e=w4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$_(e,e.limit,"L"):e}function N1(t,e){return new ZE(e.largestBatchId,Y_(t.yt,e.overlayMutation))}function ZI(t,e){const n=e.path.lastSegment();return[t,_r(e.path.popLast()),n]}function JI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nc(r.readTime),documentKey:_r(r.documentKey.path),largestBatchId:r.largestBatchId}}class GK{getBundleMetadata(e,n){return ej(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Cc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return ej(e).put((function(i){return{bundleId:i.id,createTime:Nc(Ir(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return tj(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:k4(s.bundledQuery),readTime:Cc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return tj(e).put((function(i){return{name:i.name,readTime:Nc(Ir(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function ej(t){return Mn(t,ov)}function tj(t){return Mn(t,lv)}class yv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new yv(e,r)}getOverlay(e,n){return fh(e).get(ZI(this.userId,n)).next((r=>r?N1(this.serializer,r):null))}getOverlays(e,n){const r=Qa();return J.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new ZE(n,l);i.push(this.St(e,c))})),J.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(_r(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(fh(e).Z(D_,c))})),J.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Qa(),s=_r(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return fh(e).J(D_,l).next((c=>{for(const d of c){const f=N1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Qa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return fh(e).ee({index:N5,range:c},((d,f,p)=>{const m=N1(this.serializer,f);s.size()<i||m.largestBatchId===l?(s.set(m.getKey(),m),l=m.largestBatchId):p.done()})).next((()=>s))}St(e,n){return fh(e).put((function(i,s,l){const[c,d,f]=ZI(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:K0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function fh(t){return Mn(t,cv)}class KK{bt(e){return Mn(e,BE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?yn.fromUint8Array(r):yn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class sc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Jt(e.integerValue));else if("doubleValue"in e){const r=Jt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Xh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=qs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt($s(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?B5(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):dv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ze(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=pd,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Jt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ie.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}sc.Kt=new sc;const Mu=255;function YK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function nj(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=YK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class WK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=nj(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=nj(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Mu?(this.sn(Mu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class QK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class XK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class hh{constructor(){this.cn=new WK,this.ln=new QK(this.cn),this.hn=new XK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class oc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new oc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:_0(this.En),directionalValue:_0(this.dn),orderedDocumentKey:_0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Fo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=rj(t.En,e.En),n!==0?n:(n=rj(t.dn,e.dn),n!==0?n:Ie.comparator(t.In,e.In)))}function rj(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function _0(t){return ED()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function ij(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class aj{constructor(e){this.mn=new jt(((n,r)=>an.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ue(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=P_(e);if(n!==void 0&&!this.wn(n))return!1;const r=Zl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new jt(an.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new m0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new m0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new m0(r.field,r.dir==="asc"?0:1)));return new L0(L0.UNKNOWN_ID,this.collectionId,n,Qh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function N4(t){if(Ue(t instanceof pt||t instanceof Vt,20012),t instanceof pt){if(t instanceof W5){const n=t.value.arrayValue?.values?.map((r=>pt.create(t.field,"==",r)))||[];return Vt.create(n,"or")}return t}const e=t.filters.map((n=>N4(n)));return Vt.create(e,t.op)}function ZK(t){if(t.getFilters().length===0)return[];const e=X_(N4(t));return Ue(C4(e),7391),W_(e)||Q_(e)?[e]:e.getFilters()}function W_(t){return t instanceof pt}function Q_(t){return t instanceof Vt&&GE(t)}function C4(t){return W_(t)||Q_(t)||(function(n){if(n instanceof Vt&&U_(n)){for(const r of n.getFilters())if(!W_(r)&&!Q_(r))return!1;return!0}return!1})(t)}function X_(t){if(Ue(t instanceof pt||t instanceof Vt,34018),t instanceof pt)return t;if(t.filters.length===1)return X_(t.filters[0]);const e=t.filters.map((r=>X_(r)));let n=Vt.create(e,t.op);return n=W0(n),C4(n)?n:(Ue(n instanceof Vt,64498),Ue(vd(n),40251),Ue(n.filters.length>1,57927),n.filters.reduce(((r,i)=>tT(r,i))))}function tT(t,e){let n;return Ue(t instanceof pt||t instanceof Vt,38388),Ue(e instanceof pt||e instanceof Vt,25473),n=t instanceof pt?e instanceof pt?(function(i,s){return Vt.create([i,s],"and")})(t,e):sj(t,e):e instanceof pt?sj(e,t):(function(i,s){if(Ue(i.filters.length>0&&s.filters.length>0,48005),vd(i)&&vd(s))return G5(i,s.getFilters());const l=U_(i)?i:s,c=U_(i)?s:i,d=l.filters.map((f=>tT(f,c)));return Vt.create(d,"or")})(t,e),W0(n)}function sj(t,e){if(vd(e))return G5(e,t.getFilters());{const n=e.filters.map((r=>tT(t,r)));return Vt.create(n,"or")}}function W0(t){if(Ue(t instanceof pt||t instanceof Vt,11850),t instanceof pt)return t;const e=t.getFilters();if(e.length===1)return W0(e[0]);if($5(t))return t;const n=e.map((i=>W0(i))),r=[];return n.forEach((i=>{i instanceof pt?r.push(i):i instanceof Vt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Vt.create(r,t.op)}class JK{constructor(){this.Cn=new nT}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(xi.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class nT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(Lt.comparator)).toArray()}}const oj="IndexedDbIndexManager",Mg=new Uint8Array(0);class eY{constructor(e,n){this.databaseId=n,this.vn=new nT,this.Fn=new to((r=>kc(r)),((r,i)=>Mm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:_r(i)};return lj(e).put(s)}return J.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[p5(n),""],!1,!0);return lj(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Wa(l.parent))}return r}))}addFieldIndex(e,n){const r=mh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Lu(e);return s.next((c=>{l.put(JI(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=mh(e),i=Lu(e),s=Du(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=mh(e),r=Du(e),i=Lu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return J.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new aj(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const s=new Map;return J.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=ot();const c=[];return J.forEach(s,((d,f)=>{ve(oj,`Using index ${(function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(d)} to execute ${kc(n)}`);const p=(function(I,D){const O=P_(D);if(O===void 0)return null;for(const U of H0(I,O.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(f,d),m=(function(I,D){const O=new Map;for(const U of Zl(D))for(const z of H0(I,U.fieldPath))switch(z.op){case"==":case"in":O.set(U.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return O.set(U.fieldPath.canonicalString(),z.value),Array.from(O.values())}return null})(f,d),b=(function(I,D){const O=[];let U=!0;for(const z of Zl(D)){const C=z.kind===0?VI(I,z.fieldPath,I.startAt):BI(I,z.fieldPath,I.startAt);O.push(C.value),U&&(U=C.inclusive)}return new yd(O,U)})(f,d),x=(function(I,D){const O=[];let U=!0;for(const z of Zl(D)){const C=z.kind===0?BI(I,z.fieldPath,I.endAt):VI(I,z.fieldPath,I.endAt);O.push(C.value),U&&(U=C.inclusive)}return new yd(O,U)})(f,d),S=this.On(d,f,b),E=this.On(d,f,x),_=this.Nn(d,f,m),k=this.Bn(d.indexId,p,S,b.inclusive,E,x.inclusive,_);return J.forEach(k,(P=>r.Y(P,n.limit).next((I=>{I.forEach((D=>{const O=Ie.fromSegments(D.documentKey);l.has(O)||(l=l.add(O),c.push(O))}))}))))})).next((()=>c))}return J.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=ZK(Vt.create(e.filters,"and")).map((r=>q_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),p=[];for(let m=0;m<d;++m){const b=n?this.Ln(n[m/f]):Mg,x=this.kn(e,b,r[m%f],i),S=this.qn(e,b,s[m%f],l),E=c.map((_=>this.kn(e,b,_,!0)));p.push(...this.createRange(x,S,E))}return p}kn(e,n,r,i){const s=new oc(e,Ie.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new oc(e,Ie.empty(),n,r);return i?s.An():s}xn(e,n){const r=new aj(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return J.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new jt(an.comparator),p=!1;for(const m of d.filters)for(const b of m.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?p=!0:f=f.add(b.field));for(const m of d.orderBy)m.field.isKeyField()||(f=f.add(m.field));return f.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new hh;for(const i of Zl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);sc.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new hh;return sc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new hh;return sc.Kt.Dt(HE(this.databaseId,n),r.Pn((function(s){const l=Zl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new hh);let s=0;for(const l of Zl(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&rm(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);sc.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new hh;d.seed(c.un()),sc.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=mh(e),i=Lu(e);return(n?r.J(M_,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return J.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(p,m){const b=m?new Qh(m.sequenceNumber,new xi(Cc(m.readTime),new Ie(Wa(m.documentKey)),m.largestBatchId)):Qh.empty(),x=p.fields.map((([S,E])=>new m0(an.fromServerFormat(S),E)));return new L0(p.indexId,p.collectionGroup,x,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Xe(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=mh(e),s=Lu(e);return this.Gn(e).next((l=>i.J(M_,IDBKeyRange.bound(n,n)).next((c=>J.forEach(c,(d=>s.put(JI(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return J.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?J.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),J.forEach(c,(d=>this.zn(e,i,d).next((f=>{const p=this.jn(s,d);return f.isEqual(p)?J.resolve():this.Jn(e,s,d,f,p)})))))))}))}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let s=new jt(Fo);return i.ee({index:k5,range:IDBKeyRange.only([r.indexId,this.uid,_0(this.$n(r,n))])},((l,c)=>{s=s.add(new oc(r.indexId,n,ij(c.arrayValue),ij(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new jt(Fo);const i=this.Qn(n,e);if(i==null)return r;const s=P_(n);if(s!=null){const l=e.data.field(s.fieldPath);if(rm(l))for(const c of l.arrayValue.values||[])r=r.add(new oc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new oc(n.indexId,e.key,Mg,i));return r}Jn(e,n,r,i,s){ve(oj,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,p,m,b){const x=d.getIterator(),S=f.getIterator();let E=Ru(x),_=Ru(S);for(;E||_;){let k=!1,P=!1;if(E&&_){const I=p(E,_);I<0?P=!0:I>0&&(k=!0)}else E!=null?P=!0:k=!0;k?(m(_),_=Ru(S)):P?(b(E),E=Ru(x)):(E=Ru(x),_=Ru(S))}})(i,s,Fo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),J.waitFor(l)}Gn(e){let n=1;return Lu(e).ee({index:A5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Fo(l,c))).filter(((l,c,d)=>!c||Fo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Fo(l,e),d=Fo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Mg,Ie.empty()),d=i[l+1].Vn(this.uid,Mg,Ie.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return Fo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cj)}getMinOffset(e,n){return J.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||ze(44426))))).next(cj)}}function lj(t){return Mn(t,em)}function Du(t){return Mn(t,Vh)}function mh(t){return Mn(t,VE)}function Lu(t){return Mn(t,Lh)}function cj(t){Ue(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ME(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xi(e.readTime,e.documentKey,n)}const uj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I4=41943040;class wr{static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function j4(t,e,n){const r=t.store(ca),i=t.store(dd),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((p,m,b)=>(c++,b.delete())));s.push(d.next((()=>{Ue(c===1,47070,{batchId:n.batchId})})));const f=[];for(const p of n.mutations){const m=S5(e,p.key.path,n.batchId);s.push(i.delete(m)),f.push(p.key)}return J.waitFor(s).next((()=>f))}function Q0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ze(14731);e=t.noDocument}return JSON.stringify(e).length}wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(I4,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);class vv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ue(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new vv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qo(e).ee({index:cc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Wu(e),l=qo(e);return l.add({}).next((c=>{Ue(typeof c=="number",49019);const d=new QE(c,n,r,i),f=(function(x,S,E){const _=E.baseMutations.map((P=>K0(x.yt,P))),k=E.mutations.map((P=>K0(x.yt,P)));return{userId:S,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:_,mutations:k}})(this.serializer,this.userId,d),p=[];let m=new jt(((b,x)=>Xe(b.canonicalString(),x.canonicalString())));for(const b of i){const x=S5(this.userId,b.key.path,c);m=m.add(b.key.path.popLast()),p.push(l.put(f)),p.push(s.put(x,IG))}return m.forEach((b=>{p.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),J.waitFor(p).next((()=>d))}))}lookupMutationBatch(e,n){return qo(e).get(n).next((r=>r?(Ue(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ac(this.serializer,r)):null))}er(e,n){return this.Xn[n]?J.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return qo(e).ee({index:cc,range:i},((l,c,d)=>{c.userId===this.userId&&(Ue(c.batchId>=r,47524,{tr:r}),s=ac(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=mc;return qo(e).ee({index:cc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,mc],[this.userId,Number.POSITIVE_INFINITY]);return qo(e).J(cc,n).next((r=>r.map((i=>ac(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=p0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Wu(e).ee({range:i},((l,c,d)=>{const[f,p,m]=l,b=Wa(p);if(f===this.userId&&n.path.isEqual(b))return qo(e).get(m).next((x=>{if(!x)throw ze(61480,{nr:l,batchId:m});Ue(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:m}),s.push(ac(this.serializer,x))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Xe);const i=[];return n.forEach((s=>{const l=p0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Wu(e).ee({range:c},((f,p,m)=>{const[b,x,S]=f,E=Wa(x);b===this.userId&&s.path.isEqual(E)?r=r.add(S):m.done()}));i.push(d)})),J.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=p0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new jt(Xe);return Wu(e).ee({range:l},((d,f,p)=>{const[m,b,x]=d,S=Wa(b);m===this.userId&&r.isPrefixOf(S)?S.length===i&&(c=c.add(x)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(qo(e).get(s).next((l=>{if(l===null)throw ze(35274,{batchId:s});Ue(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(ac(this.serializer,l))})))})),J.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return j4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),J.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return J.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Wu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Wa(s[1]);i.push(d)}else c.done()})).next((()=>{Ue(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return O4(e,this.userId,n)}_r(e){return z4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:mc,lastStreamToken:""}))}}function O4(t,e,n){const r=p0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Wu(t).ee({range:s,X:!0},((c,d,f)=>{const[p,m,b]=c;p===e&&m===i&&(l=!0),f.done()})).next((()=>l))}function qo(t){return Mn(t,ca)}function Wu(t){return Mn(t,dd)}function z4(t){return Mn(t,Zh)}class Ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ic(0)}static cr(){return new Ic(-1)}}class tY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Ic(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>qe.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Vu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ue(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Vu(e).ee(((l,c)=>{const d=Ch(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>J.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Vu(e).ee(((r,i)=>{const s=Ch(i);n(s)}))}lr(e){return dj(e).get(U0).next((n=>(Ue(n!==null,2888),n)))}hr(e,n){return dj(e).put(U0,n)}Pr(e,n){return Vu(e).put(A4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vu(e).ee({range:i,index:T5},((l,c,d)=>{const f=Ch(c);Mm(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Jo(e);return n.forEach((l=>{const c=_r(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),J.waitFor(i)}removeMatchingKeys(e,n,r){const i=Jo(e);return J.forEach(n,(s=>{const l=_r(s.path);return J.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Jo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Jo(e);let s=ot();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Wa(l[1]),p=new Ie(f);s=s.add(p)})).next((()=>s))}containsKey(e,n){const r=_r(n.path),i=IDBKeyRange.bound([r],[p5(r)],!1,!0);let s=0;return Jo(e).ee({index:LE,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Vu(e).get(n).next((r=>r?Ch(r):null))}}function Vu(t){return Mn(t,fd)}function dj(t){return Mn(t,pc)}function Jo(t){return Mn(t,hd)}const fj="LruGarbageCollector",P4=1048576;function hj([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class nY{constructor(e){this.Ir=e,this.buffer=new jt(hj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(fj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?ve(fj,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class rY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Gr.ce);const r=new nY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(uj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),Hu()<=ht.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${m} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function M4(t,e){return new rY(t,e)}class iY{constructor(e,n){this.db=e,this.garbageCollector=M4(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Dg(e,r)}removeReference(e,n,r){return Dg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Dg(e,n)}br(e,n){return(function(i,s){let l=!1;return z4(i).te((c=>O4(i,c,s).next((d=>(d&&(l=!0),J.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,qe.min()),Jo(e).delete((function(m){return[0,_r(m.path)]})(l)))))}));i.push(d)}})).next((()=>J.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Dg(e,n)}Sr(e,n){const r=Jo(e);let i,s=Gr.ce;return r.ee({index:LE},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Gr.ce&&n(new Ie(Wa(i)),s),s=f,i=d):s=Gr.ce})).next((()=>{s!==Gr.ce&&n(new Ie(Wa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dg(t,e){return Jo(t).put((function(r,i){return{targetId:0,path:_r(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class D4{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wl(e).put(r)}removeEntry(e,n,r){return Wl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Y0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=dn.newInvalidDocument(n);return Wl(e).ee({index:g0,range:IDBKeyRange.only(ph(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return Wl(e).ee({index:g0,range:IDBKeyRange.only(ph(n))},((i,s)=>{r={document:this.Cr(n,s),size:Q0(s)}})).next((()=>r))}getEntries(e,n){let r=hi();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=hi(),i=new qt(Ie.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,Q0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return J.resolve();let i=new jt(gj);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(ph(i.first()),ph(i.last())),l=i.getIterator();let c=l.getNext();return Wl(e).ee({index:g0,range:s},((d,f,p)=>{const m=Ie.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&gj(c,m)<0;)r(c,null),c=l.getNext();c&&c.isEqual(m)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?p.j(ph(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),Y0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let p=hi();for(const m of f){const b=this.Cr(Ie.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);b.isFoundDocument()&&(Dm(n,b)||i.has(b.key))&&(p=p.insert(b.key,b))}return p}))}getAllFromCollectionGroup(e,n,r,i){let s=hi();const l=pj(n,r),c=pj(n,xi.max());return Wl(e).ee({index:E5,range:IDBKeyRange.bound(l,c,!0)},((d,f,p)=>{const m=this.Cr(Ie.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(m.key,m),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new sY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return mj(e).get(R_).next((n=>(Ue(!!n,20021),n)))}Dr(e,n){return mj(e).put(R_,n)}Cr(e,n){if(n){const r=HK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(qe.min())))return r}return dn.newInvalidDocument(e)}}function L4(t){return new aY(t)}class sY extends D4{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new to((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new jt(((s,l)=>Xe(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=XI(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=Q0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=XI(this.Nr.serializer,l.convertToNoDocument(qe.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),J.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function mj(t){return Mn(t,Jh)}function Wl(t){return Mn(t,B0)}function ph(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pj(t,e){const n=e.documentKey.path.toArray();return[t,Y0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gj(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Xe(n[s],r[s]),i)return i;return i=Xe(n.length,r.length),i||(i=Xe(n[n.length-2],r[r.length-2]),i||Xe(n[n.length-1],r[r.length-1]))}class oY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class V4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&qh(r.mutation,i,qi.empty(),It.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=Qa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=kh();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Qa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=hi();const l=Fh(),c=(function(){return Fh()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof xl)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),qh(p.mutation,f,p.mutation.getFieldMask(),It.now())):l.set(f.key,qi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new oY(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new qt(((l,c)=>l-c)),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||qi.empty();p=c.applyToLocalView(f,p),r.set(d,p);const m=(i.get(c.batchId)||ot()).add(d);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,m=n4();p.forEach((b=>{if(!s.has(b)){const x=l4(n.get(b),r.get(b));x!==null&&m.set(b,x),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,m))}return J.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fK(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):J.resolve(Qa());let c=ud,d=s;return l.next((f=>J.forEach(f,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?J.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,ot()))).next((p=>({batchId:c,changes:t4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let i=kh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=kh();return this.indexManager.getCollectionParents(e,s).next((c=>J.forEach(c,(d=>{const f=(function(m,b){return new fv(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((m,b)=>{l=l.insert(m,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,dn.newInvalidDocument(p)))}));let c=kh();return l.forEach(((d,f)=>{const p=s.get(d);p!==void 0&&qh(p.mutation,f,qi.empty(),It.now()),Dm(n,f)&&(c=c.insert(d,f))})),c}))}}class lY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:k4(i.bundledQuery),readTime:Ir(i.readTime)}})(n)),J.resolve()}}class cY{constructor(){this.overlays=new qt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qa();return J.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=Qa(),s=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Qa(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Qa(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return J.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZE(n,r));let s=this.qr.get(n);s===void 0&&(s=ot(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class uY{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class rT{constructor(){this.Qr=new jt(Kn.$r),this.Ur=new jt(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new Lt([])),r=new Kn(n,e),i=new Kn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Lt([])),r=new Kn(n,e),i=new Kn(n,e+1);let s=ot();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}class dY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Kn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new QE(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Kn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mc:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Xe);return n.forEach((i=>{const s=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const l=new Kn(new Ie(s),0);let c=new jt(Xe);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),J.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(i=>{const s=new Kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fY{constructor(e){this.ri=e,this.docs=(function(){return new qt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hi();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||ME(v5(p),r)<=0||(i.has(p.key)||Dm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ze(9500)}ii(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hY(this)}getSize(e){return J.resolve(this.size)}}class hY extends D4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class mY{constructor(e){this.persistence=e,this.si=new to((n=>kc(n)),Mm),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new rT,this.targetCount=0,this.ai=Ic.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),J.waitFor(s).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),J.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}class iT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gr(0),this.li=!1,this.li=!0,this.hi=new uY,this.referenceDelegate=e(this),this.Pi=new mY(this),this.indexManager=new JK,this.remoteDocumentCache=(function(i){return new fY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T4(n),this.Ii=new lY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new pY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class pY extends x5{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Ri=new rT,this.Vi=null}static mi(e){return new bv(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const i=Ie.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class X0{constructor(e,n){this.persistence=e,this.pi=new to((r=>_r(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=M4(this,n)}static mi(e,n){return new X0(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?J.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=v0(e.data.value)),n}br(e,n,r){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gY{constructor(e){this.serializer=e}k(e,n,r,i){const s=new av("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Rm)})(e),(function(d){d.createObjectStore(Zh,{keyPath:CG}),d.createObjectStore(ca,{keyPath:kI,autoIncrement:!0}).createIndex(cc,NI,{unique:!0}),d.createObjectStore(dd)})(e),yj(e),(function(d){d.createObjectStore(Jl)})(e));let l=J.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(hd),d.deleteObjectStore(fd),d.deleteObjectStore(pc)})(e),yj(e)),l=l.next((()=>(function(d){const f=d.store(pc),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qe.min().toTimestamp(),targetCount:0};return f.put(U0,p)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(ca).J().next((m=>{d.deleteObjectStore(ca),d.createObjectStore(ca,{keyPath:kI,autoIncrement:!0}).createIndex(cc,NI,{unique:!0});const b=f.store(ca),x=m.map((S=>b.put(S)));return J.waitFor(x)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(md,{keyPath:LG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Jh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(ov,{keyPath:VG})})(e),(function(d){d.createObjectStore(lv,{keyPath:BG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(cv,{keyPath:KG});f.createIndex(D_,YG,{unique:!1}),f.createIndex(N5,WG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(B0,{keyPath:jG});f.createIndex(g0,OG),f.createIndex(E5,zG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Jl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(VE,{keyPath:UG,autoIncrement:!0}).createIndex(M_,FG,{unique:!1}),d.createObjectStore(Lh,{keyPath:qG}).createIndex(A5,$G,{unique:!1}),d.createObjectStore(Vh,{keyPath:HG}).createIndex(k5,GG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Lh).clear()})).next((()=>{n.objectStore(Vh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(BE,{keyPath:QG})})(e)}))),r<18&&i>=18&&ED()&&(l=l.next((()=>{n.objectStore(Lh).clear()})).next((()=>{n.objectStore(Vh).clear()}))),l}wi(e){let n=0;return e.store(Jl).ee(((r,i)=>{n+=Q0(i)})).next((()=>{const r={byteSize:n};return e.store(Jh).put(R_,r)}))}yi(e){const n=e.store(Zh),r=e.store(ca);return n.J().next((i=>J.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,mc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(cc,l).next((c=>J.forEach(c,(d=>{Ue(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=ac(this.serializer,d);return j4(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(hd),r=e.store(Jl);return e.store(pc).get(U0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new Lt(l),f=(function(m){return[0,_r(m)]})(d);s.push(n.get(f).next((p=>p?J.resolve():(m=>n.put({targetId:0,path:_r(m),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>J.waitFor(s)))}))}bi(e,n){e.createObjectStore(em,{keyPath:DG});const r=n.store(em),i=new nT,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:_r(d)})}};return n.store(Jl).ee({X:!0},((l,c)=>{const d=new Lt(l);return s(d.popLast())})).next((()=>n.store(dd).ee({X:!0},(([l,c,d],f)=>{const p=Wa(c);return s(p.popLast())}))))}Di(e){const n=e.store(fd);return n.ee(((r,i)=>{const s=Ch(i),l=A4(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Jl),i=[];return r.ee(((s,l)=>{const c=n.store(B0),d=(function(m){return m.document?new Ie(Lt.fromString(m.document.name).popFirst(5)):m.noDocument?Ie.fromSegments(m.noDocument.path):m.unknownDocument?Ie.fromSegments(m.unknownDocument.path):ze(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>J.waitFor(i)))}Fi(e,n){const r=n.store(ca),i=L4(this.serializer),s=new iT(bv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??ot();ac(this.serializer,d).keys().forEach((p=>f=f.add(p))),c.set(d.userId,f)})),J.forEach(c,((d,f)=>{const p=new xr(f),m=yv.wt(this.serializer,p),b=s.getIndexManager(p),x=vv.wt(p,this.serializer,b,s.referenceDelegate);return new V4(i,x,m,b).recalculateAndSaveOverlaysForDocumentKeys(new L_(n,Gr.ce),d).next()}))}))}}function yj(t){t.createObjectStore(hd,{keyPath:RG}).createIndex(LE,MG,{unique:!0}),t.createObjectStore(fd,{keyPath:"targetId"}).createIndex(T5,PG,{unique:!0}),t.createObjectStore(pc)}const $o="IndexedDbPersistence",C1=18e5,I1=5e3,j1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yY="main";class aT{constructor(e,n,r,i,s,l,c,d,f,p,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=p,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!aT.v())throw new je(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iY(this,i),this.$i=n+yY,this.serializer=new T4(d),this.Ui=new ll(this.$i,this.Ni,new gY(this.serializer)),this.hi=new KK,this.Pi=new tY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=L4(this.serializer),this.Ii=new GK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&gn($o,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(me.FAILED_PRECONDITION,j1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(bl(e))return ve($o,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve($o,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return gh(e).get(Pu).next((n=>J.resolve(this.es(n))))}ts(e){return Lg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,C1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Mn(n,md);return r.J().next((i=>{const s=this.ss(i,C1),l=i.filter((c=>s.indexOf(c)===-1));return J.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?J.resolve(!0):gh(e).get(Pu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new je(me.FAILED_PRECONDITION,j1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lg(e).J().next((r=>this.ss(r,I1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ve($o,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Rm,md],(e=>{const n=new L_(e,Gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Lg(e).J().next((n=>this.ss(n,C1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return vv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eY(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return yv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve($o,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?JG:d===17?O5:d===16?ZG:d===15?UE:d===14?j5:d===13?I5:d===12?XG:d===11?C5:void ze(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new L_(c,this.ci?this.ci.next():Gr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new je(me.FAILED_PRECONDITION,b5);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return gh(e).get(Pu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new je(me.FAILED_PRECONDITION,j1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put(Pu,n)}static v(){return ll.v()}Zi(e){const n=gh(e);return n.get(Pu).next((r=>this.es(r)?(ve($o,"Releasing primary lease."),n.delete(Pu)):J.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;SD()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ve($o,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return gn($o,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(t){return Mn(t,Rm)}function Lg(t){return Mn(t,md)}function B4(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class sT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sT(e,n.fromCache,r,i)}}class vY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class U4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SD()?8:w5(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new vY;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hu()<=ht.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Hu()<=ht.DEBUG&&ve("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hu()<=ht.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):J.resolve())}ys(e,n){if(UI(n))return J.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=$_(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ot(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,$_(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return UI(n)||i.isEqual(qe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?J.resolve(null):(Hu()<=ht.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gu(n)),this.vs(e,l,n,y5(i,ud)).next((c=>c)))}))}Ds(e,n){let r=new jt(J5(e));return n.forEach(((i,s)=>{Dm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Hu()<=ht.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.ps.getDocumentsMatchingQuery(e,n,xi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const oT="LocalStore",bY=3e8;class xY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new qt(Xe),this.xs=new to((s=>kc(s)),Mm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function F4(t,e,n,r){return new xY(t,e,n,r)}async function q4(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=ot();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function wY(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const m=f.batch,b=m.keys();let x=J.resolve();return b.forEach((S=>{x=x.next((()=>p.getEntry(d,S))).next((E=>{const _=f.docVersions.get(S);Ue(_!==null,48541),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=ot();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function $4(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _Y(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const b=i.get(m);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let x=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(m,x),(function(E,_,k){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=bY?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,x,p)&&c.push(n.Pi.updateTargetData(s,x))}));let d=hi(),f=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(SY(s,l,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(qe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return J.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function SY(t,e,n){let r=ot(),i=ot();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=hi();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ve(oT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function EY(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=mc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Z0(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,J.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Rs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _d(t,e,n){const r=Le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bl(l))throw l;ve(oT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Z_(t,e,n){const r=Le(t);let i=qe.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const m=Le(d),b=m.xs.get(p);return b!==void 0?J.resolve(m.Ms.get(b)):m.Pi.getTargetData(f,p)})(r,l,yi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:qe.min(),n?s:ot()))).next((c=>(K4(r,Z5(e),c),{documents:c,Qs:s})))))}function H4(t,e){const n=Le(t),r=Le(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function G4(t,e){const n=Le(t),r=n.Os.get(e)||qe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,y5(r,ud),Number.MAX_SAFE_INTEGER))).then((i=>(K4(n,e,i),i)))}function K4(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const Y4="firestore_clients";function vj(t,e){return`${Y4}_${t}_${e}`}const W4="firestore_mutations";function bj(t,e,n){let r=`${W4}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Q4="firestore_targets";function O1(t,e){return`${Q4}_${t}_${e}`}const Ga="SharedClientState";class J0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new je(i.error.code,i.error.message))),l?new J0(e,n,i.state,s):(gn(Ga,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $h{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new je(r.error.code,r.error.message))),s?new $h(e,r.state,i):(gn(Ga,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=KE();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=_5(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new ey(e,s):(gn(Ga,`Failed to parse client data for instance '${e}': ${n}`),null)}}class lT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new lT(n.clientId,n.onlineState):(gn(Ga,`Failed to parse online state: ${e}`),null)}}class J_{constructor(){this.activeTargetIds=KE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new qt(Xe),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=vj(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new J_),this.ro=new RegExp(`^${Y4}_${l}_([^_]*)$`),this.io=new RegExp(`^${W4}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Q4}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(vj(this.persistenceKey,r));if(i){const s=ey.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(O1(this.persistenceKey,e));if(i){const s=$h.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ve(Ga,"READ",e,n),n}setItem(e,n){ve(Ga,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ve(Ga,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ve(Ga,"EVENT",n.key,n.newValue),n.key===this.eo)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Gr.ce;if(s!=null)try{const c=JSON.parse(s);Ue(typeof c=="number",30636,{So:s}),l=c}catch(c){gn(Ga,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Gr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new J0(this.currentUser,e,n,r),s=bj(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=bj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=O1(this.persistenceKey,e),s=new $h(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return ey.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return J0.Ws(new xr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return $h.Ws(i,n)}uo(e){return lT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ve(Ga,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=KE();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class X4{constructor(){this.Mo=new J_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TY{Oo(e){}shutdown(){}}const xj="ConnectivityMonitor";class wj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(xj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(xj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vg=null;function eS(){return Vg===null?Vg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vg++,"0x"+Vg.toString(16)}const P1="RestConnection",AY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===F0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=eS(),c=this.zo(e,n.toUriEncodedString());ve(P1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),p=Ud(f);return this.Jo(e,c,d,r,p).then((m=>(ve(P1,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Wh(P1,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$d})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=AY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class NY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vr="WebChannelConnection";class CY extends kY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=eS();return new Promise(((c,d)=>{const f=new c5;f.setWithCredentials(!0),f.listenOnce(u5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case h0.NO_ERROR:const m=f.getResponseJson();ve(vr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case h0.TIMEOUT:ve(vr,`RPC '${e}' ${l} timed out`),d(new je(me.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const b=f.getStatus();if(ve(vr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x?.error;if(S&&S.status&&S.message){const E=(function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(P)>=0?P:me.UNKNOWN})(S.status);d(new je(E,S.message))}else d(new je(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new je(me.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(vr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ve(vr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=eS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=h5(),c=f5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ve(vr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);this.I_(m);let b=!1,x=!1;const S=new NY({Yo:_=>{x?ve(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(b||(ve(vr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),b=!0),ve(vr,`RPC '${e}' stream ${i} sending:`,_),m.send(_))},Zo:()=>m.close()}),E=(_,k,P)=>{_.listen(k,(I=>{try{P(I)}catch(D){setTimeout((()=>{throw D}),0)}}))};return E(m,Ah.EventType.OPEN,(()=>{x||(ve(vr,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(m,Ah.EventType.CLOSE,(()=>{x||(x=!0,ve(vr,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(m))})),E(m,Ah.EventType.ERROR,(_=>{x||(x=!0,Wh(vr,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),S.a_(new je(me.UNAVAILABLE,"The operation could not be completed")))})),E(m,Ah.EventType.MESSAGE,(_=>{if(!x){const k=_.data[0];Ue(!!k,16349);const P=k,I=P?.error||P[0]?.error;if(I){ve(vr,`RPC '${e}' stream ${i} received error:`,I);const D=I.status;let O=(function(C){const R=kn[C];if(R!==void 0)return d4(R)})(D),U=I.message;O===void 0&&(O=me.INTERNAL,U="Unknown error status: "+D+" with message "+I.message),x=!0,S.a_(new je(O,U)),m.close()}else ve(vr,`RPC '${e}' stream ${i} received:`,k),S.u_(k)}})),E(c,d5.STAT_EVENT,(_=>{_.stat===O_.PROXY?ve(vr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===O_.NOPROXY&&ve(vr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Z4(){return typeof window<"u"?window:null}function S0(){return typeof document<"u"?document:null}function xv(t){return new RK(t,!0)}class J4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _j="PersistentStream";class e3{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new je(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(_j,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(_j,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IY extends e3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return qe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?Ir(l.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=K_(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=$0(d)?{documents:b4(s,d)}:{query:x4(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=m4(s,l.resumeToken);const f=H_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=wd(s,l.snapshotVersion.toTimestamp());const f=H_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=BK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=K_(this.serializer),n.removeTarget=e,this.q_(n)}}class jY extends e3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VK(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=K_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>K0(this.serializer,r)))};this.q_(n)}}class OY{}class zY extends OY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,G_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(me.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,G_(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gn(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jc="RemoteStore";class RY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Uc(this)&&(ve(jc,"Restarting streams for network reachability change."),await(async function(d){const f=Le(d);f.Ea.add(4),await Bm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await wv(f)})(this))}))})),this.Ra=new PY(r,i)}}async function wv(t){if(Uc(t))for(const e of t.da)await e(!0)}async function Bm(t){for(const e of t.da)await e(!1)}function _v(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dT(n)?uT(n):Kd(n).O_()&&cT(n,e))}function Sd(t,e){const n=Le(t),r=Kd(n);n.Ia.delete(e),r.O_()&&t3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uc(n)&&n.Ra.set("Unknown"))}function cT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kd(t).Y_(e)}function t3(t,e){t.Va.Ue(e),Kd(t).Z_(e)}function uT(t){t.Va=new jK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kd(t).start(),t.Ra.ua()}function dT(t){return Uc(t)&&!Kd(t).x_()&&t.Ia.size>0}function Uc(t){return Le(t).Ea.size===0}function n3(t){t.Va=void 0}async function MY(t){t.Ra.set("Online")}async function DY(t){t.Ia.forEach(((e,n)=>{cT(t,e)}))}async function LY(t,e){n3(t),dT(t)?(t.Ra.ha(e),uT(t)):t.Ra.set("Unknown")}async function VY(t,e,n){if(t.Ra.set("Online"),e instanceof h4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ve(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ty(t,r)}else if(e instanceof w0?t.Va.Ze(e):e instanceof f4?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await $4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(f);p&&s.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),t3(s,d);const m=new Rs(p.target,d,f,p.sequenceNumber);cT(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(jc,"Failed to raise snapshot:",r),await ty(t,r)}}async function ty(t,e,n){if(!bl(e))throw e;t.Ea.add(1),await Bm(t),t.Ra.set("Offline"),n||(n=()=>$4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(jc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wv(t)}))}function r3(t,e){return e().catch((n=>ty(t,n,e)))}async function Gd(t){const e=Le(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mc;for(;BY(e);)try{const i=await EY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UY(e,i)}catch(i){await ty(e,i)}i3(e)&&a3(e)}function BY(t){return Uc(t)&&t.Ta.length<10}function UY(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function i3(t){return Uc(t)&&!fl(t).x_()&&t.Ta.length>0}function a3(t){fl(t).start()}async function FY(t){fl(t).ra()}async function qY(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function $Y(t,e,n){const r=t.Ta.shift(),i=XE.from(r,e,n);await r3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Gd(t)}async function HY(t,e){e&&fl(t).X_&&await(async function(r,i){if((function(l){return NK(l)&&l!==me.ABORTED})(i.code)){const s=r.Ta.shift();fl(r).B_(),await r3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Gd(r)}})(t,e),i3(t)&&a3(t)}async function Sj(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ve(jc,"RemoteStore received new credentials");const r=Uc(n);n.Ea.add(3),await Bm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wv(n)}async function tS(t,e){const n=Le(t);e?(n.Ea.delete(2),await wv(n)):e||(n.Ea.add(2),await Bm(n),n.Ra.set("Unknown"))}function Kd(t){return t.ma||(t.ma=(function(n,r,i){const s=Le(n);return s.sa(),new IY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:MY.bind(null,t),t_:DY.bind(null,t),r_:LY.bind(null,t),H_:VY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),dT(t)?uT(t):t.Ra.set("Unknown")):(await t.ma.stop(),n3(t))}))),t.ma}function fl(t){return t.fa||(t.fa=(function(n,r,i){const s=Le(n);return s.sa(),new jY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FY.bind(null,t),r_:HY.bind(null,t),ta:qY.bind(null,t),na:$Y.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(jc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class fT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new fT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hT(t,e){if(gn("AsyncQueue",`${e}: ${t}`),bl(t))return new je(me.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{static emptySet(e){return new nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=kh(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ej{constructor(){this.ga=new qt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ed{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ed(e,n,nd.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class GY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KY{constructor(){this.queries=Tj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Le(n),s=i.queries;i.queries=Tj(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new je(me.ABORTED,"Firestore shutting down"))}}function Tj(){return new to((t=>X5(t)),mv)}async function YY(t,e){const n=Le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new GY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=hT(l,`Initialization of query '${Gu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&mT(n)}async function WY(t,e){const n=Le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QY(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&mT(n)}function XY(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function mT(t){t.Ca.forEach((e=>{e.next()}))}var nS,Aj;(Aj=nS||(nS={})).Ma="default",Aj.Cache="cache";class ZY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nS.Cache}}class s3{constructor(e){this.key=e}}class o3{constructor(e){this.key=e}}class JY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=J5(e),this.tu=new nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ej,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const b=i.get(p),x=Dm(this.query,m)?m:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;b&&x?b.data.isEqual(x.data)?S!==E&&(r.track({type:3,doc:x}),_=!0):this.su(b,x)||(r.track({type:2,doc:x}),_=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!b&&x?(r.track({type:0,doc:x}),_=!0):b&&!x&&(r.track({type:1,doc:b}),_=!0,(d||f)&&(c=!0)),_&&(x?(l=l.add(x),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(x,S){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:_})}};return E(x)-E(S)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Ed(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ej,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new o3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new s3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ed.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yd="SyncEngine";class eW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tW{constructor(e){this.key=e,this.hu=!1}}class nW{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new to((c=>X5(c)),mv),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Ie.comparator),this.Au=new Map,this.Ru=new rT,this.Vu={},this.mu=new Map,this.fu=Ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rW(t,e,n=!0){const r=Sv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await l3(r,e,n,!0),i}async function iW(t,e){const n=Sv(t);await l3(n,e,!0,!1)}async function l3(t,e,n,r){const i=await Z0(t.localStore,yi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await pT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&_v(t.remoteStore,i),c}async function pT(t,e,n,r,i){t.pu=(m,b,x)=>(async function(E,_,k,P){let I=_.view.ru(k);I.Cs&&(I=await Z_(E.localStore,_.query,!1).then((({documents:z})=>_.view.ru(z,I))));const D=P&&P.targetChanges.get(_.targetId),O=P&&P.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(I,E.isPrimaryClient,D,O);return rS(E,_.targetId,U.au),U.snapshot})(t,m,b,x);const s=await Z_(t.localStore,e,!0),l=new JY(e,s.Qs),c=l.ru(s.documents),d=Vm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);rS(t,n,f.au);const p=new eW(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function aW(t,e,n){const r=Le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!mv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _d(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sd(r.remoteStore,i.targetId),Td(r,i.targetId)})).catch(vl)):(Td(r,i.targetId),await _d(r.localStore,i.targetId,!0))}async function sW(t,e){const n=Le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sd(n.remoteStore,r.targetId))}async function oW(t,e,n){const r=bT(t);try{const i=await(function(l,c){const d=Le(l),f=It.now(),p=c.reduce(((x,S)=>x.add(S.key)),ot());let m,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=hi(),E=ot();return d.Ns.getEntries(x,p).next((_=>{S=_,S.forEach(((k,P)=>{P.isValidDocument()||(E=E.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,S))).next((_=>{m=_;const k=[];for(const P of c){const I=AK(P,m.get(P.key).overlayedDocument);I!=null&&k.push(new xl(P.key,I,F5(I.value.mapValue),mi.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,k,c)})).next((_=>{b=_;const k=_.applyToLocalDocumentSet(m,E);return d.documentOverlayCache.saveOverlays(x,_.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:t4(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new qt(Xe)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await wl(r,i.changes),await Gd(r.remoteStore)}catch(i){const s=hT(i,"Failed to persist write");n.reject(s)}}async function c3(t,e){const n=Le(t);try{const r=await _Y(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ue(l.hu,14607):i.removedDocuments.size>0&&(Ue(l.hu,42227),l.hu=!1))})),await wl(n,r,e)}catch(r){await vl(r)}}function kj(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Le(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,m)=>{for(const b of m.Sa)b.va(c)&&(f=!0)})),f&&mT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lW(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new qt(Ie.comparator);l=l.insert(s,dn.newNoDocument(s,qe.min()));const c=ot().add(s),d=new Lm(qe.min(),new Map,new qt(Xe),l,c);await c3(r,d),r.du=r.du.remove(s),r.Au.delete(e),vT(r)}else await _d(r.localStore,e,!1).then((()=>Td(r,e,n))).catch(vl)}async function cW(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await wY(n.localStore,e);yT(n,r,null),gT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,i)}catch(i){await vl(i)}}async function uW(t,e,n){const r=Le(t);try{const i=await(function(l,c){const d=Le(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((m=>(Ue(m!==null,37113),p=m.keys(),d.mutationQueue.removeMutationBatch(f,m)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);yT(r,e,n),gT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,i)}catch(i){await vl(i)}}function gT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yT(t,e,n){const r=Le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Td(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||u3(t,r)}))}function u3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),vT(t))}function rS(t,e,n){for(const r of n)r instanceof s3?(t.Ru.addReference(r.key,e),dW(t,r)):r instanceof o3?(ve(Yd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||u3(t,r.key)):ze(19791,{wu:r})}function dW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(Yd,"New document in limbo: "+n),t.Eu.add(r),vT(t))}function vT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new tW(n)),t.du=t.du.insert(n,r),_v(t.remoteStore,new Rs(yi(hv(n.path)),r,"TargetPurposeLimboResolution",Gr.ce))}}async function wl(t,e,n){const r=Le(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=sT.As(d.targetId,f);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const p=Le(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>J.forEach(f,(b=>J.forEach(b.Es,(x=>p.persistence.referenceDelegate.addReference(m,b.targetId,x))).next((()=>J.forEach(b.ds,(x=>p.persistence.referenceDelegate.removeReference(m,b.targetId,x)))))))))}catch(m){if(!bl(m))throw m;ve(oT,"Failed to update sequence numbers: "+m)}for(const m of f){const b=m.targetId;if(!m.fromCache){const x=p.Ms.get(b),S=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function fW(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ve(Yd,"User change. New user:",e.toKey());const r=await q4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new je(me.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.Ls)}}function hW(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function mW(t,e){const n=Le(t),r=await Z_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&rS(n,e.targetId,i.au),i}async function pW(t,e){const n=Le(t);return G4(n.localStore,e).then((r=>wl(n,r)))}async function gW(t,e,n,r){const i=Le(t),s=await(function(c,d){const f=Le(c),p=Le(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(m=>p.er(m,d).next((b=>b?f.localDocuments.getDocuments(m,b):J.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Gd(i.remoteStore):n==="acknowledged"||n==="rejected"?(yT(i,e,r||null),gT(i,e),(function(c,d){Le(Le(c).mutationQueue).ir(d)})(i.localStore,e)):ze(6720,"Unknown batchState",{Su:n}),await wl(i,s)):ve(Yd,"Cannot apply mutation batch with id: "+e)}async function yW(t,e){const n=Le(t);if(Sv(n),bT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Nj(n,r.toArray());n.gu=!0,await tS(n.remoteStore,!0);for(const s of i)_v(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Td(n,l),_d(n.localStore,l,!0)))),Sd(n.remoteStore,l)})),await i,await Nj(n,r),(function(l){const c=Le(l);c.Au.forEach(((d,f)=>{Sd(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new qt(Ie.comparator)})(n),n.gu=!1,await tS(n.remoteStore,!1)}}async function Nj(t,e,n){const r=Le(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await Z0(r.localStore,yi(d[0]));for(const f of d){const p=r.Tu.get(f),m=await mW(r,p);m.snapshot&&s.push(m.snapshot)}}else{const f=await H4(r.localStore,l);c=await Z0(r.localStore,f),await pT(r,d3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function d3(t){return Q5(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function vW(t){return(function(n){return Le(Le(n).persistence).Ts()})(Le(t).localStore)}async function bW(t,e,n,r){const i=Le(t);if(i.gu)return void ve(Yd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await G4(i.localStore,Z5(s[0])),c=Lm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yn.EMPTY_BYTE_STRING);await wl(i,l,c);break}case"rejected":await _d(i.localStore,e,!0),Td(i,e,r);break;default:ze(64155,n)}}async function xW(t,e,n){const r=Sv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ve(Yd,"Adding an already active target "+i);continue}const s=await H4(r.localStore,i),l=await Z0(r.localStore,s);await pT(r,d3(s),l.targetId,!1,l.resumeToken),_v(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await _d(r.localStore,i,!1).then((()=>{Sd(r.remoteStore,i),Td(r,i)})).catch(vl)}}function Sv(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lW.bind(null,e),e.Pu.H_=QY.bind(null,e.eventManager),e.Pu.yu=XY.bind(null,e.eventManager),e}function bT(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uW.bind(null,e),e}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return F4(this.persistence,new U4,e.initialUser,this.serializer)}Cu(e){return new iT(bv.mi,this.serializer)}Du(e){return new X4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class wW extends sm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof X0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new iT((r=>X0.mi(r,n)),this.serializer)}}class f3 extends sm{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await bT(this.xu.syncEngine),await Gd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return F4(this.persistence,new U4,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new R4(r,e.asyncQueue,n)}Mu(e,n){const r=new kG(n,this.persistence);return new AG(e.asyncQueue,r)}Cu(e){const n=B4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new aT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Z4(),S0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new X4}}class _W extends f3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof z1&&(this.sharedClientState.syncEngine={Co:gW.bind(null,n),vo:bW.bind(null,n),Fo:xW.bind(null,n),Ts:vW.bind(null,n),Do:pW.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await yW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=Z4();if(!z1.v(n))throw new je(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=B4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new z1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fW.bind(null,this.syncEngine),await tS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KY})()}createDatastore(e){const n=xv(e.databaseInfo.databaseId),r=(function(s){return new CY(s)})(e.databaseInfo);return(function(s,l,c,d){return new zY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new RY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>kj(this.syncEngine,n,0)),(function(){return wj.v()?new wj:new TY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,p){const m=new nW(i,s,l,c,d,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Le(n);ve(jc,"RemoteStore shutting down."),r.Ea.add(5),await Bm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};class SW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hl="FirestoreClient";class EW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=PE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ve(hl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(hl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function R1(t,e){t.asyncQueue.verifyOperationInProgress(),ve(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await q4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Cj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TW(t);ve(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Sj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Sj(e.remoteStore,i))),t._onlineComponents=e}async function TW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(hl,"Using user provided OfflineComponentProvider");try{await R1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Wh("Error using user provided cache. Falling back to memory cache: "+n),await R1(t,new sm)}}else ve(hl,"Using default OfflineComponentProvider"),await R1(t,new wW(void 0));return t._offlineComponents}async function h3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(hl,"Using user provided OnlineComponentProvider"),await Cj(t,t._uninitializedComponentsProvider._online)):(ve(hl,"Using default OnlineComponentProvider"),await Cj(t,new om))),t._onlineComponents}function AW(t){return h3(t).then((e=>e.syncEngine))}async function Ij(t){const e=await h3(t),n=e.eventManager;return n.onListen=rW.bind(null,e.syncEngine),n.onUnlisten=aW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sW.bind(null,e.syncEngine),n}function m3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jj=new Map;const kW="firestore.googleapis.com",Oj=!0;class zj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kW,this.ssl=Oj}else this.host=e.host,this.ssl=e.ssl??Oj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P4)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p3{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hG;switch(r.type){case"firstParty":return new gG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jj.get(n);r&&(ve("ComponentProvider","Removing Datastore"),jj.delete(n),r.terminate())})(this),Promise.resolve()}}class Ev{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ev(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pm(n,Wn._jsonSchema))return new Wn(e,r||null,new Ie(Lt.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:Cn("string",Wn._jsonSchemaVersion),referencePath:Cn("string")};class lm extends Ev{constructor(e,n,r){super(e,n,hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ie(e))}withConverter(e){return new lm(this.firestore,e,this._path)}}function M1(t,e,...n){if(t=Wr(t),arguments.length===1&&(e=PE.newId()),_G("doc","path",e),t instanceof p3){const r=Lt.fromString(e,...n);return _I(r),new Wn(t,null,new Ie(r))}{if(!(t instanceof Wn||t instanceof lm))throw new je(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return _I(r),new Wn(t.firestore,t instanceof lm?t.converter:null,new Ie(r))}}const Pj="AsyncQueue";class Rj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J4(this,"async_queue_retry"),this._c=()=>{const r=S0();r&&ve(Pj,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=S0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=S0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ol;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;ve(Pj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gn("INTERNAL UNHANDLED ERROR: ",Mj(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=fT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ze(47125,{Pc:Mj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Mj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Dj(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ny extends p3{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rj,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rj(e),this._firestoreClient=void 0,await e}}}function NW(t,e,n){n||(n=F0);const r=_E(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(_c(s,e))return i;throw new je(me.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new je(me.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P4)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ud(e.host)&&wD(e.host),r.initialize({options:e,instanceIdentifier:n})}function g3(t){if(t._terminated)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CW(t),t._firestoreClient}function CW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new tK(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,m3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new EW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(yn.fromBase64String(e))}catch(n){throw new je(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pm(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:Cn("string",Fi._jsonSchemaVersion),bytes:Cn("string")};class xT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class y3{constructor(e){this._methodName=e}}class Ja{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ja._jsonSchemaVersion}}static fromJSON(e){if(Pm(e,Ja._jsonSchema))return new Ja(e.latitude,e.longitude)}}Ja._jsonSchemaVersion="firestore/geoPoint/1.0",Ja._jsonSchema={type:Cn("string",Ja._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class es{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pm(e,es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new es(e.vectorValues);throw new je(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:Cn("string",es._jsonSchemaVersion),vectorValues:Cn("object")};const IW=/^__.*__$/;class jW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}function v3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:t})}}class wT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ry(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v3(this.Ac)&&IW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xv(e)}Cc(e,n,r,i=!1){return new wT({Ac:e,methodName:n,Dc:r,path:an.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zW(t){const e=t._freezeSettings(),n=xv(t._databaseId);return new OW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PW(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);_3("Data must be an object, but it was:",l,r);const c=x3(r,l);let d,f;if(s.merge)d=new qi(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const b=RW(e,m,n);if(!l.contains(b))throw new je(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DW(p,b)||p.push(b)}d=new qi(p),f=l.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,f=l.fieldTransforms;return new jW(new Hr(c),d,f)}function b3(t,e){if(w3(t=Wr(t)))return _3("Unsupported field value:",e,t),x3(t,e);if(t instanceof y3)return(function(r,i){if(!v3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=b3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Wr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=It.fromDate(r);return{timestampValue:wd(i.serializer,s)}}if(r instanceof It){const s=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,s)}}if(r instanceof Ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:m4(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof es)return(function(l,c){return{mapValue:{fields:{[qE]:{stringValue:$E},[pd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return YE(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${RE(r)}`)})(t,e)}function x3(t,e){const n={};return z5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,((r,i)=>{const s=b3(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function w3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Ja||t instanceof Fi||t instanceof Wn||t instanceof y3||t instanceof es)}function _3(t,e,n){if(!w3(n)||!g5(n)){const r=RE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function RW(t,e,n){if((e=Wr(e))instanceof xT)return e._internalPath;if(typeof e=="string")return S3(t,e);throw ry("Field path arguments must be of type string or ",t,!1,void 0,n)}const MW=new RegExp("[~\\*/\\[\\]]");function S3(t,e,n){if(e.search(MW)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xT(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ry(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new je(me.INVALID_ARGUMENT,c+t+d)}function DW(t,e){return t.some((n=>n.isEqual(e)))}class E3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LW extends E3{data(){return super.data()}}function T3(t,e){return typeof e=="string"?S3(t,e):e instanceof xT?e._internalPath:e._delegate._internalPath}function VW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BW{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((r=>Jt(r.doubleValue)));return new es(n)}convertGeoPoint(e){return new Ja(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){const n=qs(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Ue(E4(r),9688,{name:e});const i=new Ac(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function UW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends E3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new E0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yc._jsonSchemaVersion="firestore/documentSnapshot/1.0",yc._jsonSchema={type:Cn("string",yc._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class E0 extends yc{data(e={}){return super.data(e)}}class rd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new E0(this._firestore,this._userDataWriter,r.key,r,new Ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:FW(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}rd._jsonSchemaVersion="firestore/querySnapshot/1.0",rd._jsonSchema={type:Cn("string",rd._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class A3 extends BW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function qW(t,e,n){t=Rh(t,Wn);const r=Rh(t.firestore,ny),i=UW(t.converter,e);return $W(r,[PW(zW(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function Lj(t,...e){t=Wr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Dj(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Dj(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof Wn)l=Rh(t.firestore,ny),c=hv(t._key.path),s={next:d=>{e[r]&&e[r](HW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Rh(t,Ev);l=Rh(d.firestore,ny),c=d._query;const f=new A3(l);s={next:p=>{e[r]&&e[r](new rd(l,f,d,p))},error:e[r+1],complete:e[r+2]},VW(t._query)}return(function(f,p,m,b){const x=new SW(b),S=new ZY(p,x,m);return f.asyncQueue.enqueueAndForget((async()=>YY(await Ij(f),S))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>WY(await Ij(f),S)))}})(g3(l),c,i,s)}function $W(t,e){return(function(r,i){const s=new ol;return r.asyncQueue.enqueueAndForget((async()=>oW(await AW(r),i,s))),s.promise})(g3(t),e)}function HW(t,e,n){const r=n.docs.get(e._key),i=new A3(t);return new yc(t,i,e._key,r,new Ih(n.hasPendingWrites,n.fromCache),e.converter)}class GW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=QW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function KW(t){return new GW(t)}class YW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=om.provider,this._offlineComponentProvider={build:n=>new f3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class WW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=om.provider,this._offlineComponentProvider={build:n=>new _W(n,e?.cacheSizeBytes)}}}function QW(t){return new YW(t?.forceOwnership)}function XW(){return new WW}(function(e,n=!0){(function(i){$d=i})(Fd),od(new Sc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ny(new mG(r.getProvider("auth-internal")),new yG(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new je(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(f.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),al(vI,bI,e),al(vI,bI,"esm2020")})();const ZW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"vaultly-ce7e1",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},k3=ND(ZW),Bg=lG(k3),JW=new Is,D1=NW(k3,{localCache:KW({tabManager:XW()})}),N3=T.createContext(void 0),eQ=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=X$(Bg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await Y$(Bg,ZD),await yH(Bg,JW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await Z$(Bg)}catch(c){console.error("Error signing out",c)}};return g.jsx(N3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},Um=()=>{const t=T.useContext(N3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Fa={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},projects:[],scheduledTransactions:[],presets:[],settings:{currency:"$",theme:"classic",hasSeenOnboarding:!1},goals:[],funds:[],credits:[],projections:{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},version:3,lastUpdated:Date.now()},Ho={subscribeToMasterDoc(t,e,n){const r=M1(D1,"users",t,"data","master");return console.log(`[CloudStorage] Subscribing to ${r.path}`),Lj(r,i=>{const s=i.metadata.fromCache?"local cache":"server";console.log(`[CloudStorage] Data received from ${s}`),i.exists()?e(i.data()):(console.log("[CloudStorage] Document does not exist"),e(null))},i=>{console.error("[CloudStorage] Snapshot Error:",i),i.code==="permission-denied"&&console.error("CRITICAL: Permission Denied. Check Firestore Rules/Auth."),n(i)})},async fetchMasterDoc(t){return new Promise((e,n)=>{const r=M1(D1,"users",t,"data","master"),i=Lj(r,s=>{i(),s.exists()?e(s.data()):e(null)},s=>{i(),n(s)})})},async saveMasterDoc(t,e){try{const n=M1(D1,"users",t,"data","master");await qW(n,{...e,lastUpdated:Date.now()}),console.log("[CloudStorage] Master Doc Saved Successfully")}catch(n){throw console.error("Error saving master doc:",n),n.code==="permission-denied"?new Error("Permiso denegado al guardar. Ests logueado?"):n}},saveLocalBackup(t,e){try{localStorage.setItem(`vaultly_data_${t}`,JSON.stringify(e)),console.log("[CloudStorage] Local Backup Saved")}catch(n){console.error("Local Backup Failed (Quota?)",n)}},loadLocalBackup(t){try{const e=localStorage.getItem(`vaultly_data_${t}`);return e?JSON.parse(e):null}catch(e){return console.error("Local Backup Corrupted",e),null}}};function tQ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const nQ=t=>{switch(t){case"success":return aQ;case"info":return oQ;case"warning":return sQ;case"error":return lQ;default:return null}},rQ=Array(12).fill(0),iQ=({visible:t,className:e})=>Te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},rQ.map((n,r)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),aQ=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sQ=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oQ=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lQ=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cQ=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uQ=()=>{const[t,e]=Te.useState(document.hidden);return Te.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let iS=1;class dQ{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:iS++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],Te.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(hQ(f)&&!f.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,S=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,...S})}else if(f instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,S=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,...S})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,S=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:b,...S})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,x=typeof p=="object"&&!Te.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...x})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||iS++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $r=new dQ,fQ=(t,e)=>{const n=e?.id||iS++;return $r.addToast({title:t,...e,id:n}),n},hQ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mQ=fQ,pQ=()=>$r.toasts,gQ=()=>$r.getActiveToasts(),nt=Object.assign(mQ,{success:$r.success,info:$r.info,warning:$r.warning,error:$r.error,custom:$r.custom,message:$r.message,promise:$r.promise,dismiss:$r.dismiss,loading:$r.loading},{getHistory:pQ,getToasts:gQ});tQ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ug(t){return t.label!==void 0}const yQ=3,vQ="24px",bQ="16px",Vj=4e3,xQ=356,wQ=14,_Q=45,SQ=200;function qa(...t){return t.filter(Boolean).join(" ")}function EQ(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const TQ=t=>{var e,n,r,i,s,l,c,d,f;const{invert:p,toast:m,unstyled:b,interacting:x,setHeights:S,visibleToasts:E,heights:_,index:k,toasts:P,expanded:I,removeToast:D,defaultRichColors:O,closeButton:U,style:z,cancelButtonStyle:C,actionButtonStyle:R,className:V="",descriptionClassName:L="",duration:$,position:B,gap:xe,expandByDefault:Ae,classNames:Y,icons:re,closeButtonAriaLabel:ie="Close toast"}=t,[ye,ke]=Te.useState(null),[q,K]=Te.useState(null),[Q,oe]=Te.useState(!1),[de,ge]=Te.useState(!1),[we,Ne]=Te.useState(!1),[H,pe]=Te.useState(!1),[Ce,X]=Te.useState(!1),[Ve,Oe]=Te.useState(0),[We,Ze]=Te.useState(0),it=Te.useRef(m.duration||$||Vj),Et=Te.useRef(null),lt=Te.useRef(null),$t=k===0,He=k+1<=E,at=m.type,jn=m.dismissible!==!1,on=m.className||"",Xr=m.descriptionClassName||"",Pr=Te.useMemo(()=>_.findIndex(Ge=>Ge.toastId===m.id)||0,[_,m.id]),Zi=Te.useMemo(()=>{var Ge;return(Ge=m.closeButton)!=null?Ge:U},[m.closeButton,U]),Zr=Te.useMemo(()=>m.duration||$||Vj,[m.duration,$]),_e=Te.useRef(0),_t=Te.useRef(0),Sr=Te.useRef(0),Rr=Te.useRef(null),[Jn,nn]=B.split("-"),Er=Te.useMemo(()=>_.reduce((Ge,St,bn)=>bn>=Pr?Ge:Ge+St.height,0),[_,Pr]),Wt=uQ(),Kc=m.invert||p,Sa=at==="loading";_t.current=Te.useMemo(()=>Pr*xe+Er,[Pr,Er]),Te.useEffect(()=>{it.current=Zr},[Zr]),Te.useEffect(()=>{oe(!0)},[]),Te.useEffect(()=>{const Ge=lt.current;if(Ge){const St=Ge.getBoundingClientRect().height;return Ze(St),S(bn=>[{toastId:m.id,height:St,position:m.position},...bn]),()=>S(bn=>bn.filter(Un=>Un.toastId!==m.id))}},[S,m.id]),Te.useLayoutEffect(()=>{if(!Q)return;const Ge=lt.current,St=Ge.style.height;Ge.style.height="auto";const bn=Ge.getBoundingClientRect().height;Ge.style.height=St,Ze(bn),S(Un=>Un.find(Ht=>Ht.toastId===m.id)?Un.map(Ht=>Ht.toastId===m.id?{...Ht,height:bn}:Ht):[{toastId:m.id,height:bn,position:m.position},...Un])},[Q,m.title,m.description,S,m.id,m.jsx,m.action,m.cancel]);const Jr=Te.useCallback(()=>{ge(!0),Oe(_t.current),S(Ge=>Ge.filter(St=>St.toastId!==m.id)),setTimeout(()=>{D(m)},SQ)},[m,D,S,_t]);Te.useEffect(()=>{if(m.promise&&at==="loading"||m.duration===1/0||m.type==="loading")return;let Ge;return I||x||Wt?(()=>{if(Sr.current<_e.current){const Un=new Date().getTime()-_e.current;it.current=it.current-Un}Sr.current=new Date().getTime()})():it.current!==1/0&&(_e.current=new Date().getTime(),Ge=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Jr()},it.current)),()=>clearTimeout(Ge)},[I,x,m,at,Wt,Jr]),Te.useEffect(()=>{m.delete&&(Jr(),m.onDismiss==null||m.onDismiss.call(m,m))},[Jr,m.delete]);function Ti(){var Ge;if(re?.loading){var St;return Te.createElement("div",{className:qa(Y?.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":at==="loading"},re.loading)}return Te.createElement(iQ,{className:qa(Y?.loader,m==null||(Ge=m.classNames)==null?void 0:Ge.loader),visible:at==="loading"})}const cs=m.icon||re?.[at]||nQ(at);var rn,ei;return Te.createElement("li",{tabIndex:0,ref:lt,className:qa(V,on,Y?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,Y?.default,Y?.[at],m==null||(n=m.classNames)==null?void 0:n[at]),"data-sonner-toast":"","data-rich-colors":(rn=m.richColors)!=null?rn:O,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Ce,"data-removed":de,"data-visible":He,"data-y-position":Jn,"data-x-position":nn,"data-index":k,"data-front":$t,"data-swiping":we,"data-dismissible":jn,"data-type":at,"data-invert":Kc,"data-swipe-out":H,"data-swipe-direction":q,"data-expanded":!!(I||Ae&&Q),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":P.length-k,"--offset":`${de?Ve:_t.current}px`,"--initial-height":Ae?"auto":`${We}px`,...z,...m.style},onDragEnd:()=>{Ne(!1),ke(null),Rr.current=null},onPointerDown:Ge=>{Ge.button!==2&&(Sa||!jn||(Et.current=new Date,Oe(_t.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(Ne(!0),Rr.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,St,bn;if(H||!jn)return;Rr.current=null;const Un=Number(((Ge=lt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((St=lt.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((bn=Et.current)==null?void 0:bn.getTime()),gr=ye==="x"?Un:Tr,Ai=Math.abs(gr)/Ht;if(Math.abs(gr)>=_Q||Ai>.11){Oe(_t.current),m.onDismiss==null||m.onDismiss.call(m,m),K(ye==="x"?Un>0?"right":"left":Tr>0?"down":"up"),Jr(),pe(!0);return}else{var er,tr;(er=lt.current)==null||er.style.setProperty("--swipe-amount-x","0px"),(tr=lt.current)==null||tr.style.setProperty("--swipe-amount-y","0px")}X(!1),Ne(!1),ke(null)},onPointerMove:Ge=>{var St,bn,Un;if(!Rr.current||!jn||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Ht=Ge.clientY-Rr.current.y,gr=Ge.clientX-Rr.current.x;var Ai;const er=(Ai=t.swipeDirections)!=null?Ai:EQ(B);!ye&&(Math.abs(gr)>1||Math.abs(Ht)>1)&&ke(Math.abs(gr)>Math.abs(Ht)?"x":"y");let tr={x:0,y:0};const Ea=nr=>1/(1.5+Math.abs(nr)/20);if(ye==="y"){if(er.includes("top")||er.includes("bottom"))if(er.includes("top")&&Ht<0||er.includes("bottom")&&Ht>0)tr.y=Ht;else{const nr=Ht*Ea(Ht);tr.y=Math.abs(nr)<Math.abs(Ht)?nr:Ht}}else if(ye==="x"&&(er.includes("left")||er.includes("right")))if(er.includes("left")&&gr<0||er.includes("right")&&gr>0)tr.x=gr;else{const nr=gr*Ea(gr);tr.x=Math.abs(nr)<Math.abs(gr)?nr:gr}(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&X(!0),(bn=lt.current)==null||bn.style.setProperty("--swipe-amount-x",`${tr.x}px`),(Un=lt.current)==null||Un.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},Zi&&!m.jsx&&at!=="loading"?Te.createElement("button",{"aria-label":ie,"data-disabled":Sa,"data-close-button":!0,onClick:Sa||!jn?()=>{}:()=>{Jr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:qa(Y?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(ei=re?.close)!=null?ei:cQ):null,(at||m.icon||m.promise)&&m.icon!==null&&(re?.[at]!==null||m.icon)?Te.createElement("div",{"data-icon":"",className:qa(Y?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ti():null,m.type!=="loading"?cs:null):null,Te.createElement("div",{"data-content":"",className:qa(Y?.content,m==null||(s=m.classNames)==null?void 0:s.content)},Te.createElement("div",{"data-title":"",className:qa(Y?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Te.createElement("div",{"data-description":"",className:qa(L,Xr,Y?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),Te.isValidElement(m.cancel)?m.cancel:m.cancel&&Ug(m.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:Ge=>{Ug(m.cancel)&&jn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ge),Jr())},className:qa(Y?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Te.isValidElement(m.action)?m.action:m.action&&Ug(m.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Ge=>{Ug(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ge),!Ge.defaultPrevented&&Jr())},className:qa(Y?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function Bj(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function AQ(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?bQ:vQ;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const C3=Te.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:m,theme:b="light",richColors:x,duration:S,style:E,visibleToasts:_=yQ,toastOptions:k,dir:P=Bj(),gap:I=wQ,icons:D,containerAriaLabel:O="Notifications"}=e,[U,z]=Te.useState([]),C=Te.useMemo(()=>r?U.filter(Q=>Q.toasterId===r):U.filter(Q=>!Q.toasterId),[U,r]),R=Te.useMemo(()=>Array.from(new Set([s].concat(C.filter(Q=>Q.position).map(Q=>Q.position)))),[C,s]),[V,L]=Te.useState([]),[$,B]=Te.useState(!1),[xe,Ae]=Te.useState(!1),[Y,re]=Te.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Te.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ke=Te.useRef(null),q=Te.useRef(!1),K=Te.useCallback(Q=>{z(oe=>{var de;return(de=oe.find(ge=>ge.id===Q.id))!=null&&de.delete||$r.dismiss(Q.id),oe.filter(({id:ge})=>ge!==Q.id)})},[]);return Te.useEffect(()=>$r.subscribe(Q=>{if(Q.dismiss){requestAnimationFrame(()=>{z(oe=>oe.map(de=>de.id===Q.id?{...de,delete:!0}:de))});return}setTimeout(()=>{kF.flushSync(()=>{z(oe=>{const de=oe.findIndex(ge=>ge.id===Q.id);return de!==-1?[...oe.slice(0,de),{...oe[de],...Q},...oe.slice(de+1)]:[Q,...oe]})})})}),[U]),Te.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:oe})=>{re(oe?"dark":"light")})}catch{Q.addListener(({matches:de})=>{try{re(de?"dark":"light")}catch(ge){console.error(ge)}})}},[b]),Te.useEffect(()=>{U.length<=1&&B(!1)},[U]),Te.useEffect(()=>{const Q=oe=>{var de;if(l.every(Ne=>oe[Ne]||oe.code===Ne)){var we;B(!0),(we=ie.current)==null||we.focus()}oe.code==="Escape"&&(document.activeElement===ie.current||(de=ie.current)!=null&&de.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[l]),Te.useEffect(()=>{if(ie.current)return()=>{ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null,q.current=!1)}},[ie.current]),Te.createElement("section",{ref:n,"aria-label":`${O} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Q,oe)=>{var de;const[ge,we]=Q.split("-");return C.length?Te.createElement("ol",{key:Q,dir:P==="auto"?Bj():P,tabIndex:-1,ref:ie,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":ge,"data-x-position":we,style:{"--front-toast-height":`${((de=V[0])==null?void 0:de.height)||0}px`,"--width":`${xQ}px`,"--gap":`${I}px`,...E,...AQ(p,m)},onBlur:Ne=>{q.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(q.current=!1,ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||q.current||(q.current=!0,ke.current=Ne.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{xe||B(!1)},onDragEnd:()=>B(!1),onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},C.filter(Ne=>!Ne.position&&oe===0||Ne.position===Q).map((Ne,H)=>{var pe,Ce;return Te.createElement(TQ,{key:Ne.id,icons:D,index:H,toast:Ne,defaultRichColors:x,duration:(pe=k?.duration)!=null?pe:S,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:_,closeButton:(Ce=k?.closeButton)!=null?Ce:d,interacting:xe,position:Q,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:K,toasts:C.filter(X=>X.position==Ne.position),heights:V.filter(X=>X.position==Ne.position),setHeights:L,expandByDefault:c,gap:I,expanded:$,swipeDirections:e.swipeDirections})})):null}))}),kQ=()=>{const[t,e]=T.useState(navigator.onLine);return T.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t},I3=T.createContext(void 0),NQ=({children:t})=>{const{user:e}=Um(),n=kQ(),[r,i]=T.useState(Fa),[s,l]=T.useState(!0),[c,d]=T.useState(!1),[f,p]=T.useState(!1),m=T.useRef(null);T.useEffect(()=>{if(!e){i(Fa),l(!1);return}l(!0);const E=Ho.loadLocalBackup(e.uid);E&&(console.log("[DataContext] Loaded local backup (Optimistic)"),i(E));const _=Ho.subscribeToMasterDoc(e.uid,k=>{if(k){const P={...Fa,...k,settings:{...Fa.settings,...k.settings||{}},categories:{...Fa.categories,...k.categories||{}}};i(P),Ho.saveLocalBackup(e.uid,P)}else E||(console.log("[DataContext] New user setup"),i(Fa),Ho.saveMasterDoc(e.uid,Fa).catch(console.error));l(!1),p(!1)},k=>{console.error("[DataContext] Sync/Connection Error:",k),E?nt("Modo Offline: Usando datos locales"):nt.error("Error de conexin y sin datos locales."),l(!1)});return()=>_()},[e]);const b=E=>{e&&(Ho.saveLocalBackup(e.uid,E),d(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{if(!navigator.onLine){console.log("[DataContext] Offline. Marked for sync."),p(!0),d(!1);return}try{await Ho.saveMasterDoc(e.uid,E),d(!1),p(!1),console.log("Auto-saved to cloud")}catch(_){console.error("Auto-save failed (Network?)",_),p(!0),d(!1)}},2e3))};T.useEffect(()=>{n&&f&&e&&(console.log("[DataContext] Back Online! Syncing pending changes..."),nt.info("Conexin restaurada. Sincronizando..."),b(r))},[n,f,e,r]);const x=E=>{i(_=>{const k={..._,...E};return b(k),k})},S=async()=>{if(e)try{d(!0),await Ho.saveMasterDoc(e.uid,Fa),Ho.saveLocalBackup(e.uid,Fa),i(Fa),nt.success("Mundo reinstalado desde cero.")}catch(E){console.error("Failed to nuke data:",E),nt.error("Fallo en la detonacin.")}finally{d(!1)}};return g.jsx(I3.Provider,{value:{data:r,updateData:x,isLoading:s,isSaving:c,isOfflineMode:f||!n,resetData:S},children:t})},wi=()=>{const t=T.useContext(I3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const CQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Uj=t=>{const e=IQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},j3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jQ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zQ=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...OQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:j3("lucide",i),...!s&&!jQ(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>T.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Se=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(zQ,{ref:s,iconNode:e,className:j3(`lucide-${CQ(Uj(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Uj(t),n};const PQ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],iy=Se("arrow-down-left",PQ);const RQ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],aS=Se("arrow-down-right",RQ);const MQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],DQ=Se("arrow-left",MQ);const LQ=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],VQ=Se("arrow-up-left",LQ);const BQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ad=Se("arrow-up-right",BQ);const UQ=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Fj=Se("bomb",UQ);const FQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qQ=Se("book-open",FQ);const $Q=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_T=Se("briefcase",$Q);const HQ=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ST=Se("calculator",HQ);const GQ=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],sS=Se("calendar-clock",GQ);const KQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cm=Se("calendar",KQ);const YQ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],O3=Se("car",YQ);const WQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],QQ=Se("chart-pie",WQ);const XQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z3=Se("check",XQ);const ZQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P3=Se("chevron-down",ZQ);const JQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],R3=Se("chevron-left",JQ);const eX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tv=Se("chevron-right",eX);const tX=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],nX=Se("chevrons-right",tX);const rX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],qj=Se("circle-arrow-down",rX);const iX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],$j=Se("circle-arrow-up",iX);const aX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sX=Se("circle-check-big",aX);const oX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],lX=Se("circle-minus",oX);const cX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],uX=Se("circle-pause",cX);const dX=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fX=Se("circle-play",dX);const hX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mX=Se("circle-plus",hX);const pX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gX=Se("clock",pX);const yX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],vX=Se("cloud-off",yX);const bX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xX=Se("cloud",bX);const wX=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],M3=Se("coffee",wX);const _X=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],D3=Se("credit-card",_X);const SX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hj=Se("database",SX);const EX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ET=Se("dollar-sign",EX);const TX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AX=Se("download",TX);const kX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],L3=Se("ellipsis",kX);const NX=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],V3=Se("flame",NX);const CX=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],oS=Se("folder-kanban",CX);const IX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jX=Se("funnel",IX);const OX=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],B3=Se("gamepad-2",OX);const zX=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],U3=Se("gift",zX);const PX=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],F3=Se("heart",PX);const RX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],MX=Se("history",RX);const DX=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],LX=Se("hourglass",DX);const VX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],q3=Se("house",VX);const BX=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],um=Se("landmark",BX);const UX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FX=Se("layers",UX);const qX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$X=Se("layout-dashboard",qX);const HX=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],GX=Se("layout-grid",HX);const KX=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],lS=Se("list",KX);const YX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WX=Se("lock",YX);const QX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XX=Se("log-out",QX);const ZX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JX=Se("menu",ZX);const eZ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tZ=Se("moon",eZ);const nZ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rZ=Se("palette",nZ);const iZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aZ=Se("pen",iZ);const sZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Fm=Se("pencil",sZ);const oZ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],lZ=Se("percent",oZ);const cZ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Wd=Se("piggy-bank",cZ);const uZ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],$3=Se("plane",uZ);const dZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hi=Se("plus",dZ);const fZ=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 15.4641a4 4 0 0 1-4 0L7.52786 19.74597 A 1 1 0 0 0 7.99303 21.16211 10 10 0 0 0 16.00697 21.16211 1 1 0 0 0 16.47214 19.74597z",key:"1y4lzb"}],["path",{d:"M16 12a4 4 0 0 0-2-3.464l2.472-4.282a1 1 0 0 1 1.46-.305 10 10 0 0 1 4.006 6.94A1 1 0 0 1 21 12z",key:"163ggk"}],["path",{d:"M8 12a4 4 0 0 1 2-3.464L7.528 4.254a1 1 0 0 0-1.46-.305 10 10 0 0 0-4.006 6.94A1 1 0 0 0 3 12z",key:"1l9i0b"}]],hZ=Se("radiation",fZ);const mZ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],pZ=Se("receipt",mZ);const gZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Av=Se("refresh-cw",gZ);const yZ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],vZ=Se("rocket",yZ);const bZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xZ=Se("rotate-ccw",bZ);const wZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_Z=Se("save",wZ);const SZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EZ=Se("search",SZ);const TZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H3=Se("settings",TZ);const AZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kZ=Se("shield",AZ);const NZ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],CZ=Se("shopping-bag",NZ);const IZ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],jZ=Se("siren",IZ);const OZ=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],zZ=Se("sliders-horizontal",OZ);const PZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],G3=Se("smartphone",PZ);const RZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],K3=Se("smile",RZ);const MZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gj=Se("sparkles",MZ);const DZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Y3=Se("star",DZ);const LZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],VZ=Se("sun",LZ);const BZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ts=Se("target",BZ);const UZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],FZ=Se("text-align-start",UZ);const qZ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],L1=Se("toggle-left",qZ);const $Z=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],V1=Se("toggle-right",$Z);const HZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gi=Se("trash-2",HZ);const GZ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cS=Se("trending-down",GZ);const KZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TT=Se("trending-up",KZ);const YZ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kj=Se("triangle-alert",YZ);const WZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QZ=Se("upload",WZ);const XZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZZ=Se("user",XZ);const JZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Qd=Se("wallet",JZ);const eJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ay=Se("x",eJ);const tJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sy=Se("zap",tJ);function W3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=W3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function be(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=W3(t))&&(r&&(r+=" "),r+=e);return r}const nJ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},rJ=(t,e)=>({classGroupId:t,validator:e}),Q3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),oy="-",Yj=[],iJ="arbitrary..",aJ=t=>{const e=oJ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return sJ(l);const c=l.split(oy),d=c[0]===""&&c.length>1?1:0;return X3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?nJ(f,d):d:f||Yj}return n[l]||Yj}}},X3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=X3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(oy):t.slice(e).join(oy),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},sJ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?iJ+r:void 0})(),oJ=t=>{const{theme:e,classGroups:n}=t;return lJ(n,e)},lJ=(t,e)=>{const n=Q3();for(const r in t){const i=t[r];AT(i,n,r,e)}return n},AT=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];cJ(l,e,n,r)}},cJ=(t,e,n,r)=>{if(typeof t=="string"){uJ(t,e,n);return}if(typeof t=="function"){dJ(t,e,n,r);return}fJ(t,e,n,r)},uJ=(t,e,n)=>{const r=t===""?e:Z3(e,t);r.classGroupId=n},dJ=(t,e,n,r)=>{if(hJ(t)){AT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(rJ(n,t))},fJ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];AT(d,Z3(e,c),n,r)}},Z3=(t,e)=>{let n=t;const r=e.split(oy),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=Q3(),n.nextPart.set(l,c)),n=c}return n},hJ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,mJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},uS="!",Wj=":",pJ=[],Qj=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),gJ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const p=i.length;for(let E=0;E<p;E++){const _=i[E];if(l===0&&c===0){if(_===Wj){s.push(i.slice(d,E)),d=E+1;continue}if(_==="/"){f=E;continue}}_==="["?l++:_==="]"?l--:_==="("?c++:_===")"&&c--}const m=s.length===0?i:i.slice(d);let b=m,x=!1;m.endsWith(uS)?(b=m.slice(0,-1),x=!0):m.startsWith(uS)&&(b=m.slice(1),x=!0);const S=f&&f>d?f-d:void 0;return Qj(s,x,b,S)};if(e){const i=e+Wj,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):Qj(pJ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},yJ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},vJ=t=>({cache:mJ(t.cacheSize),parseClassName:gJ(t),sortModifiers:yJ(t),...aJ(t)}),bJ=/\s+/,xJ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(bJ);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:b,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:E}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let _=!!E,k=r(_?S.substring(0,E):S);if(!k){if(!_){d=p+(d.length>0?" "+d:d);continue}if(k=r(S),!k){d=p+(d.length>0?" "+d:d);continue}_=!1}const P=b.length===0?"":b.length===1?b[0]:s(b).join(":"),I=x?P+uS:P,D=I+k;if(l.indexOf(D)>-1)continue;l.push(D);const O=i(k,_);for(let U=0;U<O.length;++U){const z=O[U];l.push(I+z)}d=p+(d.length>0?" "+d:d)}return d},wJ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=J3(n))&&(i&&(i+=" "),i+=r);return i},J3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=J3(t[r]))&&(n&&(n+=" "),n+=e);return n},_J=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((p,m)=>m(p),t());return n=vJ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=xJ(d,n);return i(d,p),p};return s=l,(...d)=>s(wJ(...d))},SJ=[],zn=t=>{const e=n=>n[t]||SJ;return e.isThemeGetter=!0,e},e6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,EJ=/^\d+\/\d+$/,TJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,NJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bu=t=>EJ.test(t),st=t=>!!t&&!Number.isNaN(Number(t)),Go=t=>!!t&&Number.isInteger(Number(t)),B1=t=>t.endsWith("%")&&st(t.slice(0,-1)),Ns=t=>TJ.test(t),IJ=()=>!0,jJ=t=>AJ.test(t)&&!kJ.test(t),n6=()=>!1,OJ=t=>NJ.test(t),zJ=t=>CJ.test(t),PJ=t=>!Me(t)&&!De(t),RJ=t=>Xd(t,a6,n6),Me=t=>e6.test(t),Ql=t=>Xd(t,s6,jJ),U1=t=>Xd(t,BJ,st),Xj=t=>Xd(t,r6,n6),MJ=t=>Xd(t,i6,zJ),Fg=t=>Xd(t,o6,OJ),De=t=>t6.test(t),yh=t=>Zd(t,s6),DJ=t=>Zd(t,UJ),Zj=t=>Zd(t,r6),LJ=t=>Zd(t,a6),VJ=t=>Zd(t,i6),qg=t=>Zd(t,o6,!0),Xd=(t,e,n)=>{const r=e6.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Zd=(t,e,n=!1)=>{const r=t6.exec(t);return r?r[1]?e(r[1]):n:!1},r6=t=>t==="position"||t==="percentage",i6=t=>t==="image"||t==="url",a6=t=>t==="length"||t==="size"||t==="bg-size",s6=t=>t==="length",BJ=t=>t==="number",UJ=t=>t==="family-name",o6=t=>t==="shadow",FJ=()=>{const t=zn("color"),e=zn("font"),n=zn("text"),r=zn("font-weight"),i=zn("tracking"),s=zn("leading"),l=zn("breakpoint"),c=zn("container"),d=zn("spacing"),f=zn("radius"),p=zn("shadow"),m=zn("inset-shadow"),b=zn("text-shadow"),x=zn("drop-shadow"),S=zn("blur"),E=zn("perspective"),_=zn("aspect"),k=zn("ease"),P=zn("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...D(),De,Me],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],C=()=>[De,Me,d],R=()=>[Bu,"full","auto",...C()],V=()=>[Go,"none","subgrid",De,Me],L=()=>["auto",{span:["full",Go,De,Me]},Go,De,Me],$=()=>[Go,"auto",De,Me],B=()=>["auto","min","max","fr",De,Me],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...C()],re=()=>[Bu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],ie=()=>[t,De,Me],ye=()=>[...D(),Zj,Xj,{position:[De,Me]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",LJ,RJ,{size:[De,Me]}],K=()=>[B1,yh,Ql],Q=()=>["","none","full",f,De,Me],oe=()=>["",st,yh,Ql],de=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[st,B1,Zj,Xj],Ne=()=>["","none",S,De,Me],H=()=>["none",st,De,Me],pe=()=>["none",st,De,Me],Ce=()=>[st,De,Me],X=()=>[Bu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ns],breakpoint:[Ns],color:[IJ],container:[Ns],"drop-shadow":[Ns],ease:["in","out","in-out"],font:[PJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ns],shadow:[Ns],spacing:["px",st],text:[Ns],"text-shadow":[Ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bu,Me,De,_]}],container:["container"],columns:[{columns:[st,Me,De,c]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Go,"auto",De,Me]}],basis:[{basis:[Bu,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[st,Bu,"auto","initial","none",Me]}],grow:[{grow:["",st,De,Me]}],shrink:[{shrink:["",st,De,Me]}],order:[{order:[Go,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,yh,Ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,U1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B1,Me]}],"font-family":[{font:[DJ,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,De,Me]}],"line-clamp":[{"line-clamp":[st,"none",De,U1]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[st,"from-font","auto",De,Ql]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[st,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Go,De,Me],radial:["",De,Me],conic:[Go,De,Me]},VJ,MJ]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[st,De,Me]}],"outline-w":[{outline:["",st,yh,Ql]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",p,qg,Fg]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",m,qg,Fg]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[st,Ql]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",b,qg,Fg]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[st,De,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[st]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[st]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:Ne()}],brightness:[{brightness:[st,De,Me]}],contrast:[{contrast:[st,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",x,qg,Fg]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",st,De,Me]}],"hue-rotate":[{"hue-rotate":[st,De,Me]}],invert:[{invert:["",st,De,Me]}],saturate:[{saturate:[st,De,Me]}],sepia:[{sepia:["",st,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[st,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[st,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",st,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[st,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",st,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[st,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[st,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",st,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[st,"initial",De,Me]}],ease:[{ease:["linear","initial",k,De,Me]}],delay:[{delay:[st,De,Me]}],animate:[{animate:["none",P,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,De,Me]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[st,yh,Ql,U1]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},qJ=_J(FJ),$J=()=>{const{user:t}=Um(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?g.jsxs("button",{disabled:!0,className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20 cursor-wait",children:[g.jsx(Av,{size:14,className:"animate-spin"}),g.jsx("span",{children:"Sincronizando..."})]}):g.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20 hover:bg-emerald-500/20 transition-all",title:"Nube Activa. Click para recargar.",children:[g.jsx(xX,{size:14}),g.jsx("span",{children:"Nube Activa"})]}):g.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20 hover:bg-yellow-500/20 transition-all",title:"Sin conexin. Click para recargar.",children:[g.jsx(vX,{size:14}),g.jsx("span",{children:"Modo Local"})]}):null},kT=({className:t="",size:e=32,color:n})=>g.jsxs("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[g.jsx("path",{d:"M16 2L4 8L16 28L28 8L16 2Z",className:"fill-current opacity-20"}),g.jsx("path",{d:"M16 8L8 12L16 24L24 12L16 8Z",fill:n||"currentColor",className:n?"":"text-primary"}),g.jsx("circle",{cx:"16",cy:"16",r:"2",className:"fill-white"})]}),NT=({className:t=""})=>g.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[g.jsx(kT,{size:28}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-mono font-bold text-lg tracking-wider leading-none text-zinc-900 dark:text-zinc-100",children:"VAULTLY"}),g.jsx("span",{className:"text-[9px] font-medium tracking-widest text-zinc-400 uppercase",children:"Finance"})]})]}),HJ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=hD(),s=[{to:"/",icon:$X,label:"Dashboard"},{to:"/calendar",icon:cm,label:"Calendario"},{to:"/expenses",icon:Qd,label:"Gastos"},{to:"/income",icon:pZ,label:"Ingresos"},{to:"/goals",icon:ts,label:"Metas"},{to:"/funds",icon:Wd,label:"Fondos"},{to:"/credits",icon:um,label:"Crditos"},{to:"/projects",icon:oS,label:"Proyectos"},{to:"/projections",icon:ST,label:"Proyecciones"}];return g.jsx(g.Fragment,{children:g.jsxs("aside",{className:be("fixed md:static inset-y-0 left-0 z-[60] w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[g.jsxs("div",{className:"p-5 flex-shrink-0 flex items-center justify-between",children:[g.jsx(NT,{}),g.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:g.jsx(ay,{size:20})})]}),g.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2 overflow-y-auto no-scrollbar",children:s.map(l=>g.jsxs(uD,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>qJ(be("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[g.jsx(l.icon,{size:22,className:be("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-primary":"group-hover:text-primary")}),g.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),g.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>{n(),e()},className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-primary transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[g.jsx(H3,{size:22,className:"md:w-[18px] md:h-[18px]"}),g.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-primary transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[g.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?g.jsx(tZ,{size:18}):g.jsx(VZ,{size:18})]}),g.jsx("div",{className:"flex justify-center pt-1",children:g.jsx($J,{})})]})]})})},l6=T.createContext(void 0),GJ=({children:t})=>{const{data:e,updateData:n,isLoading:r}=wi(),i=e.settings||{currency:"$",hasSeenOnboarding:!1,theme:"classic"},s=i.currency||"$",l=i.hasSeenOnboarding||!1,c={defaultCalculationMethod:i.goalPreferences?.defaultCalculationMethod||"dynamic",defaultRecoveryStrategy:i.goalPreferences?.defaultRecoveryStrategy||"spread"},d=m=>{n({settings:{...i,currency:m}})},f=m=>{n({settings:{...i,hasSeenOnboarding:m}}),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(m))},p=m=>{n({settings:{...i,goalPreferences:{...c,...m}}})};return g.jsx(l6.Provider,{value:{currency:s,setCurrency:d,hasSeenOnboarding:l,setHasSeenOnboarding:f,loading:r,goalPreferences:c,setGoalPreferences:p},children:t})},pr=()=>{const t=T.useContext(l6);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},kd=t=>{const{data:e,updateData:n}=wi(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},lr=[];for(let t=0;t<256;++t)lr.push((t+256).toString(16).slice(1));function KJ(t,e=0){return(lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]).toLowerCase()}let F1;const YJ=new Uint8Array(16);function WJ(){if(!F1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");F1=crypto.getRandomValues.bind(crypto)}return F1(YJ)}const QJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jj={randomUUID:QJ};function XJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??WJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KJ(r)}function ZJ(t,e,n){return Jj.randomUUID&&!t?Jj.randomUUID():XJ(t)}const jr=t=>{const{data:e,updateData:n}=wi(),r=e.transactions||[],i=m=>{const b={id:ZJ(),...m};n({transactions:[...r,b]})},s=m=>{const b=r.filter(x=>x.id!==m);n({transactions:b})},l=(m,b)=>{const x=r.map(S=>S.id===m?{...S,...b}:S);n({transactions:x})},c=(m,b)=>{const x=r.map(S=>S.category===m?{...S,category:b}:S);n({transactions:x})},d=t?r.filter(m=>m.type===t):r,f=d.reduce((m,b)=>m+b.amount,0);return{transactions:d,addTransaction:i,updateTransaction:l,deleteTransaction:s,total:f,getByCategory:()=>{const m=d.reduce((b,x)=>{const S=x.category||"Sin Categora";return b[S]=(b[S]||0)+x.amount,b},{});return Object.entries(m).map(([b,x])=>({name:b,value:x}))},allTransactions:r,updateCategory:c}},Jd=()=>{const{data:t,updateData:e}=wi(),n=t.scheduledTransactions||[],{addTransaction:r}=jr();return{scheduled:n,addScheduled:d=>{const f={id:crypto.randomUUID(),...d,active:!0,createdAt:new Date().toISOString()};e({scheduledTransactions:[...n,f]}),nt.success("Transaccin programada creada")},deleteScheduled:d=>{const f=n.filter(p=>p.id!==d);e({scheduledTransactions:f})},toggleActive:(d,f)=>{const p=n.map(m=>m.id===d?{...m,active:!f}:m);e({scheduledTransactions:p}),nt.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();let p=0;const m=n.map(b=>{if(!b.active)return b;const x=b.lastProcessedDate?new Date(b.lastProcessedDate):null,S=x&&x.getMonth()===d.getMonth()&&x.getFullYear()===d.getFullYear();return f>=b.dayOfMonth&&!S?(r({type:b.type,amount:b.amount,category:b.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${b.description}`}),p++,{...b,lastProcessedDate:d.toISOString().split("T")[0]}):b});p>0&&(e({scheduledTransactions:m}),nt.info(`${p} transacciones recurrentes procesadas`))}}},c6=()=>{const{data:t,updateData:e}=wi(),n=t.presets||[];return{presets:n,addPreset:s=>{if(n.length>=10){nt.error("Lmite de 10 atajos alcanzado");return}const l={id:crypto.randomUUID(),...s};e({presets:[...n,l]}),nt.success("Atajo creado")},deletePreset:s=>{const l=n.filter(c=>c.id!==s);e({presets:l})}}},ga=({isOpen:t,onClose:e,title:n,children:r,maxWidth:i="max-w-md",noPadding:s=!1,className:l=""})=>(T.useEffect(()=>{const c=d=>{d.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?g.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),g.jsxs("div",{className:`relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full ${i} ${l} border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col overflow-hidden`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),g.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:g.jsx(ay,{size:20})})]}),g.jsx("div",{className:s?"flex-1 min-h-0 flex flex-col overflow-hidden":"p-6 overflow-y-auto no-scrollbar",children:r})]})]}):null),JJ="modulepreload",eee=function(t){return"/Vaultly/"+t},eO={},tee=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(p=>{if(p=eee(p),p in eO)return;eO[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":JJ,m||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),m)return new Promise((S,E)=>{x.addEventListener("load",S),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function nee(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t;let c,d;const f=async(m=!0)=>{await d};async function p(){if("serviceWorker"in navigator){if(c=await tee(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/Vaultly/sw.js",{scope:"/Vaultly/",type:"classic"})).catch(m=>{l?.(m)}),!c)return;c.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),c.addEventListener("installed",m=>{m.isUpdate||r?.()}),c.register({immediate:e}).then(m=>{s?s("/Vaultly/sw.js",m):i?.(m)}).catch(m=>{l?.(m)})}}return d=p(),f}function ree(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t,[c,d]=T.useState(!1),[f,p]=T.useState(!1),[m]=T.useState(()=>nee({immediate:e,onOfflineReady(){p(!0),r?.()},onNeedRefresh(){d(!0),n?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:l}));return{needRefresh:[c,d],offlineReady:[f,p],updateServiceWorker:m}}const iee=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r,goalPreferences:i,setGoalPreferences:s}=pr(),{themeStyle:l,setThemeStyle:c}=hD(),{logout:d,user:f}=Um(),{data:p}=wi(),{categories:m,addCategory:b,removeCategory:x}=kd("income"),{categories:S,addCategory:E,removeCategory:_}=kd("expense"),{updateCategory:k}=jr(),{scheduled:P,toggleActive:I,deleteScheduled:D}=Jd(),{presets:O,addPreset:U,deletePreset:z}=c6(),[C,R]=T.useState("general"),[V,L]=T.useState("expense"),[$,B]=T.useState(""),[xe,Ae]=T.useState(""),[Y,re]=T.useState(""),[ie,ye]=T.useState(""),[ke,q]=T.useState("expense"),K=[{id:"classic",name:"Soft Stone",color:"bg-[#a8a29e]"},{id:"clay",name:"Soft Clay",color:"bg-[#fb923c]"},{id:"sand",name:"Soft Sand",color:"bg-[#d6b885]"},{id:"coffee",name:"Soft Coffee",color:"bg-[#b97f6a]"},{id:"sage",name:"Soft Sage",color:"bg-[#64ad84]"},{id:"nordic",name:"Soft Nordic",color:"bg-[#0ea5e9]"},{id:"mist",name:"Soft Mist",color:"bg-[#94a3b8]"},{id:"royal",name:"Soft Royal",color:"bg-[#a78bfa]"},{id:"bloom",name:"Soft Bloom",color:"bg-[#fb7185]"}],Q=["$","","","","COP","MXN","ARS","S/"],[oe,de]=T.useState(!1),[ge,we]=T.useState(["","","",""]),[Ne,H]=T.useState(!1),[pe,Ce]=T.useState(!1),[X,Ve]=T.useState(""),{resetData:Oe,updateData:We}=wi(),Ze=T.useRef(null),it=(_e,_t)=>{if(_t.length>1&&(_t=_t[_t.length-1]),!/^\d*$/.test(_t))return;const Sr=[...ge];Sr[_e]=_t,we(Sr),_t&&_e<3&&document.getElementById(`nuclear-digit-${_e+1}`)?.focus()},Et=async()=>{if(ge.join("").length!==4){nt.error("CDIGO DE LANZAMIENTO INCOMPLETO");return}H(!0),await new Promise(_e=>setTimeout(_e,2e3)),await Oe(),H(!1),de(!1),we(["","","",""]),e()};ree({onRegistered(_e){console.log("SW Registered: "+_e)},onRegisterError(_e){console.log("SW registration error",_e)}});const lt=()=>{Ce(!0),Ve("RECARGANDO..."),window.location.reload()},$t=()=>{const _e=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(p))}`,_t=document.createElement("a");_t.href=_e,_t.download=`vault_backup_${new Date().toISOString().split("T")[0]}.json`,_t.click(),nt.success("Copia de seguridad descargada")},He=()=>{Ze.current?.click()},at=_e=>{const _t=_e.target.files?.[0];if(!_t)return;const Sr=new FileReader;Sr.onload=Rr=>{try{const Jn=Rr.target?.result,nn=JSON.parse(Jn);if(!nn||typeof nn!="object")throw new Error("Formato invlido");We(nn),nt.success("Datos restaurados correctamente"),e()}catch(Jn){console.error("Import error:",Jn),nt.error("Error al importar el archivo. Formato invlido.")}},Sr.readAsText(_t),_e.target.value=""},jn=()=>{$.trim()&&(V==="income"?b($):E($),B(""))},on=_e=>{confirm(`Eliminar categora "${_e}"? Las transacciones pasarn a "Desconocido".`)&&(V==="income"?x(_e):_(_e),k(_e,"Desconocido"))},[Xr,Pr]=T.useState(!1),Zi=[{id:"general",label:"General",icon:GX,desc:"Moneda, cuenta y sesin"},{id:"preferences",label:"Preferencias",icon:zZ,desc:"Comportamiento de Metas"},{id:"appearance",label:"Apariencia",icon:rZ,desc:"Temas, colores y modo oscuro"},{id:"categories",label:"Categoras",icon:lS,desc:"Gestionar tipos de ingresos y gastos"},{id:"scheduled",label:"Programados",icon:sS,desc:"Pagos y cobros recurrentes"},{id:"presets",label:"Atajos",icon:sy,desc:"Configurar botones de accin rpida"},{id:"data",label:"Datos",icon:Hj,desc:"Importar, exportar y backups"},{id:"changelog",label:"Novedades",icon:Gj,desc:"Historial de versiones"}],Zr=()=>{Pr(!1),e()};return g.jsx(ga,{isOpen:t,onClose:Zr,title:Xr&&Zi.find(_e=>_e.id===C)?.label||"Configuracin",maxWidth:"max-w-5xl",className:"h-[100dvh] md:h-[650px] w-full",noPadding:!0,children:g.jsxs("div",{className:"flex h-full w-full overflow-hidden relative",children:[g.jsxs("div",{className:`
                    bg-zinc-50 dark:bg-zinc-900/50 border-r border-zinc-200 dark:border-zinc-800 flex flex-col p-2 md:p-3 space-y-1 overflow-y-auto no-scrollbar
                    ${Xr?"hidden md:flex md:w-64 flex-shrink-0":"w-full md:w-64 flex-shrink-0"}
                `,children:[g.jsx("div",{className:"md:hidden pb-4 pt-2 px-2",children:g.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Selecciona una opcin para configurar:"})}),Zi.map(_e=>g.jsxs("button",{onClick:()=>{R(_e.id),Pr(!0)},className:`flex items-center gap-4 px-4 py-4 md:py-2.5 rounded-xl text-left transition-all group border md:border-transparent
                                ${C===_e.id?"md:bg-primary/10 md:text-primary font-bold md:shadow-sm bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-sm":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 border-transparent hover:border-zinc-200 dark:hover:border-zinc-700 bg-white/50 dark:bg-zinc-900/50"}`,children:[g.jsx("div",{className:`p-2 rounded-lg ${C===_e.id?"bg-primary/10 text-primary":"bg-zinc-100 dark:bg-zinc-800 text-zinc-500"}`,children:g.jsx(_e.icon,{size:20})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"block text-base md:text-sm font-medium text-zinc-900 dark:text-zinc-100",children:_e.label}),g.jsx("span",{className:"block md:hidden text-xs text-zinc-500 dark:text-zinc-500 mt-0.5 font-normal",children:_e.desc})]}),g.jsx("div",{className:"md:hidden text-zinc-300 dark:text-zinc-600",children:g.jsx(Tv,{size:20})})]},_e.id)),g.jsx("div",{className:"flex-1"}),g.jsx("div",{className:"hidden md:block px-4 py-2 text-xs text-zinc-400 font-mono text-center",children:"v1.5 - Offline Unleashed"})]}),g.jsxs("div",{className:`
                    flex-1 overflow-y-auto bg-white dark:bg-zinc-950
                    ${Xr?"block w-full":"hidden md:block"}
                `,children:[g.jsxs("div",{className:"md:hidden sticky top-0 z-20 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md border-b border-zinc-100 dark:border-zinc-800 px-4 py-3 flex items-center gap-3",children:[g.jsx("button",{onClick:()=>Pr(!1),className:"p-2 -ml-2 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400",children:g.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"m15 18-6-6 6-6"})})}),g.jsx("h2",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:Zi.find(_e=>_e.id===C)?.label})]}),g.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[C==="preferences"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Clculo de Cuota Mensual"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultCalculationMethod==="dynamic"?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-200 dark:border-indigo-800 ring-1 ring-indigo-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"calculationMethod",checked:i.defaultCalculationMethod==="dynamic",onChange:()=>s({...i,defaultCalculationMethod:"dynamic"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Dinmico (Recomendado)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"La cuota se ajusta automticamente cada mes. Si ahorras de ms, la cuota baja. Si te atrasas, sube. Ideal para mantener el objetivo final fijo."})]})]}),g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultCalculationMethod==="static"?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-200 dark:border-indigo-800 ring-1 ring-indigo-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"calculationMethod",checked:i.defaultCalculationMethod==="static",onChange:()=>s({...i,defaultCalculationMethod:"static"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Esttico"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"La cuota es fija (Monto / Total Meses). No cambia aunque adelantes pagos. Ideal si prefieres previsibilidad total y terminar antes si pagas extra."})]})]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Estrategia de Recuperacin (Default)"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultRecoveryStrategy==="spread"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800 ring-1 ring-emerald-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"recoveryStrategy",checked:i.defaultRecoveryStrategy==="spread",onChange:()=>s({...i,defaultRecoveryStrategy:"spread"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Redistribuir (Spread)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Si retiras dinero, el faltante se divide entre todos los meses restantes."})]})]}),g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultRecoveryStrategy==="catch_up"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800 ring-1 ring-emerald-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"recoveryStrategy",checked:i.defaultRecoveryStrategy==="catch_up",onChange:()=>s({...i,defaultRecoveryStrategy:"catch_up"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Pagar Prximo Mes (Catch Up)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Si retiras dinero, se suma todo a la cuota del mes siguiente para recuperar el ritmo inmediatamente."})]})]})]})]})]}),C==="general"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[g.jsx(ZZ,{size:14})," Cuenta y Sesin"]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800",children:[f&&g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("img",{src:f.photoURL||`https://ui-avatars.com/api/?name=${f.displayName}`,alt:"User",className:"w-14 h-14 rounded-full bg-zinc-200 dark:bg-zinc-800 object-cover ring-4 ring-white dark:ring-zinc-950"}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("p",{className:"text-lg font-bold text-zinc-900 dark:text-white truncate",children:f.displayName}),g.jsx("p",{className:"text-sm text-zinc-500 truncate",children:f.email})]})]}),g.jsxs("button",{onClick:()=>{d(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:border-rose-200 transition-all font-bold text-sm shadow-sm",children:[g.jsx(XX,{size:16}),"Cerrar Sesin Actual"]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4",children:"Configuracin Regional"}),g.jsxs("div",{className:"p-5 bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Moneda Principal"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:Q.map(_e=>g.jsx("button",{onClick:()=>r(_e),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===_e?"bg-primary text-primary-foreground shadow-lg shadow-primary/20 scale-110":"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:_e},_e))})]})]})]}),C==="appearance"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-xl border border-indigo-500/20 mb-6",children:g.jsxs("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 flex gap-2",children:[g.jsx(Gj,{size:18,className:"shrink-0"}),g.jsxs("span",{children:["La interfaz ",g.jsx("strong",{children:"Colortly"})," adapta todos los acentos visuales al tema seleccionado."]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Selecciona tu Tema"}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:K.map(_e=>g.jsxs("button",{onClick:()=>c(_e.id),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-3 transition-all relative overflow-hidden group ${l===_e.id?"border-primary bg-primary/5 shadow-md":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[g.jsx("div",{className:`w-12 h-12 rounded-full ${_e.color} shadow-sm group-hover:scale-110 transition-transform duration-300`}),g.jsx("span",{className:`text-sm font-bold ${l===_e.id?"text-primary":"text-zinc-600 dark:text-zinc-400"}`,children:_e.name}),l===_e.id&&g.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-primary animate-pulse"})]},_e.id))})]})]}),C==="categories"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-xl mb-4",children:[g.jsx("button",{onClick:()=>L("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${V==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),g.jsx("button",{onClick:()=>L("income"),className:`flex-1 py-1.5 text-sm font-bold rounded-lg transition-all ${V==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:`Nueva categora de ${V==="income"?"ingreso":"gasto"}...`,value:$,onChange:_e=>B(_e.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",onKeyDown:_e=>_e.key==="Enter"&&jn()}),g.jsx("button",{onClick:jn,className:"p-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl transition-colors shadow-lg shadow-primary/20",children:g.jsx(Hi,{size:20})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(V==="income"?m:S).map(_e=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700 group transition-all",children:[g.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:_e}),g.jsx("button",{onClick:()=>on(_e),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",title:"Eliminar",children:g.jsx(Gi,{size:16})})]},_e))})]}),C==="scheduled"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-xl border border-zinc-100 dark:border-zinc-800 mb-6",children:g.jsx("p",{className:"text-sm text-zinc-500",children:"Las transacciones programadas se generan automticamente el da seleccionado de cada mes."})}),P.length===0?g.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-full mb-3",children:g.jsx(sS,{className:"text-zinc-300 dark:text-zinc-600",size:32})}),g.jsx("p",{className:"text-zinc-500 font-medium",children:"No hay reglas programadas"}),g.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Crea una al aadir una nueva transaccin."})]}):g.jsx("div",{className:"space-y-3",children:P.map(_e=>g.jsxs("div",{className:`p-4 rounded-xl border transition-all hover:shadow-md ${_e.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-50 dark:bg-zinc-900/20 border-zinc-100 dark:border-zinc-800 opacity-60 grayscale"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${_e.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:_e.type==="income"?"Ingreso":"Gasto"}),g.jsxs("span",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md flex items-center gap-1",children:[g.jsx(MX,{size:10})," Da ",_e.dayOfMonth]})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:_e.description||"Sin descripcin"}),g.jsxs("p",{className:"text-sm text-zinc-500",children:[_e.category,"  ",n,_e.amount.toFixed(2)]})]}),g.jsx("button",{onClick:()=>D(_e.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:g.jsx(Gi,{size:18})})]}),g.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("span",{className:"text-xs text-zinc-400",children:["ltima: ",_e.lastProcessedDate||"Nunca"]}),g.jsx("button",{onClick:()=>I(_e.id,_e.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${_e.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:_e.active?g.jsxs(g.Fragment,{children:[" ",g.jsx(uX,{size:14})," Pausar "]}):g.jsxs(g.Fragment,{children:[" ",g.jsx(fX,{size:14})," Activar "]})})]})]},_e.id))})]}),C==="presets"&&g.jsxs("div",{className:"space-y-6 pb-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-primary/5 p-5 rounded-2xl border border-primary/10",children:[g.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2 text-primary uppercase tracking-wider",children:[g.jsx(Hi,{size:16})," Crear Atajo Rpido"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf Diario)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:xe,onChange:_e=>Ae(_e.target.value)}),g.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:Y,onChange:_e=>re(_e.target.value)})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:ke,onChange:_e=>{q(_e.target.value),ye("")},children:[g.jsx("option",{value:"expense",children:"Gasto"}),g.jsx("option",{value:"income",children:"Ingreso"})]}),g.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:ie,onChange:_e=>ye(_e.target.value),children:[g.jsx("option",{value:"",children:"Categora..."}),(ke==="expense"?S:m).map(_e=>g.jsx("option",{value:_e,children:_e},_e))]})]}),g.jsx("button",{disabled:!xe||!ie,onClick:()=>{U({label:xe,amount:Y?Number(Y):void 0,category:ie,type:ke}),Ae(""),re("")},className:"w-full bg-primary text-primary-foreground py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-2 shadow-sm",children:"Guardar Botn"})]})]}),g.jsx("h4",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-6 mb-2",children:"Mis Atajos"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[O.map(_e=>g.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden transition-all hover:border-zinc-300 dark:hover:border-zinc-700",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm truncate",children:_e.label}),g.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[_e.amount?`${n}${_e.amount}`:"Var","  ",g.jsx("span",{className:"text-zinc-400",children:_e.category})]})]}),g.jsx("button",{className:"p-2 text-zinc-300 hover:text-rose-500 transition-colors",onClick:()=>z(_e.id),children:g.jsx(Gi,{size:16})})]},_e.id)),O.length===0&&g.jsxs("div",{className:"col-span-full text-center py-6 text-zinc-400 text-sm border-2 border-dashed border-zinc-100 dark:border-zinc-800 rounded-xl",children:[g.jsx(sy,{className:"mx-auto mb-2 opacity-50"}),"No hay atajos configurados an."]})]})]}),C==="data"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-xl border border-amber-200 dark:border-amber-900/30",children:[g.jsxs("h4",{className:"text-amber-800 dark:text-amber-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx(Hj,{size:18})," Zona de Peligro Nuclear"]}),g.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500/80 mb-4 leading-relaxed",children:"Aqu puedes gestionar tus datos brutos. Descarga una copia de seguridad peridicamente para evitar prdidas de informacin."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:$t,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:g.jsx(AX,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Exportar Copia de Seguridad"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Descargar archivo .json"})]})]})}),g.jsx("input",{type:"file",ref:Ze,onChange:at,accept:".json",className:"hidden"}),g.jsx("button",{onClick:He,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:g.jsx(QZ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Restaurar Copia"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Sobrescribir datos actuales"})]})]})}),g.jsx("div",{className:"h-4"}),g.jsx("button",{onClick:lt,disabled:pe,className:"w-full flex items-center justify-between p-4 bg-zinc-100 dark:bg-zinc-800 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`${pe?"animate-spin":""}`,children:g.jsx(Av,{size:18})}),g.jsx("span",{className:"font-bold text-sm",children:pe?X:"Buscar Actualizaciones"})]})}),g.jsxs("button",{onClick:()=>de(!0),className:"w-full flex items-center justify-center gap-2 p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl hover:bg-rose-100 dark:hover:bg-rose-900/30 transition-all font-bold text-sm tracking-wide border border-rose-200 dark:border-rose-900/50",children:[g.jsx(Fj,{size:18}),"ELIMINAR TODOS LOS DATOS"]})]})]}),C==="changelog"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"text-center pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx("div",{className:"p-4 rounded-3xl bg-primary/5 border border-primary/10 shadow-[0_0_30px_-10px] shadow-primary/20 rotate-3 transition-transform hover:rotate-6",children:g.jsx(kT,{size:56})})}),g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white mb-2",children:"Novedades de Vaultly"}),g.jsx("p",{className:"text-zinc-500 text-sm",children:"Historial de actualizaciones y mejoras."})]}),g.jsxs("div",{className:"relative pl-8 border-l-2 border-zinc-100 dark:border-zinc-800 space-y-10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-indigo-500 border-4 border-white dark:border-zinc-950 shadow-sm"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-indigo-500 uppercase tracking-widest",children:"Versin Actual"}),g.jsx("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.8 - Dates & Forecasts"})]}),g.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full font-bold",children:"Major"})]}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Calendario Inmersivo:"})," Nueva vista de detalle a pantalla completa en mviles con navegacin fluida."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Quick Add System:"}),' Botn "+" inteligente y men contextual (click derecho) en escritorio.']}),g.jsxs("li",{children:[g.jsx("strong",{children:"Control Total:"})," Nuevos botones de recarga rpida (F5) en estado de sincronizacin y configuracin."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Visualizacin Pro:"}),' Barras de eventos de ancho completo y layout optimizado "Zero-Scroll" en escritorio.']})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.7 - Dynamic Goals Rework"}),g.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-full font-bold",children:"Rework"})]}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Cuotas Dinmicas Reales:"})," Curva de pagos variable y ajuste proporcional por adelantos."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Botn Adelantar:"})," Inyecta capital extra directamente para reducir cuotas futuras."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Ahorro Dinmico Individual:"})," Switch () por meta para activar/desactivar la variabilidad."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Crditos y Deudas:"})," Modo Simple vs Avanzado (Amortizacin Francesa) y bsqueda inversa de tasas."]})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.6 - Smart Goals"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Metas Inteligentes:"})," Estrategias de recuperacin (Spread vs Catch-up)."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Indicadores de Salud:"})," Visualiza si vas adelantado o atrasado en tus ahorros."]}),g.jsx("li",{children:"Nueva interfaz de tarjetas premium."})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-primary border-4 border-white dark:border-zinc-950 shadow-sm"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.5.1 - Mobile Polish"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Navegacin Stack en Mvil:"})," Nueva experiencia nativa fluida."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Estilo de Pantalla Completa:"})," Mens ms amplios y legibles."]}),g.jsx("li",{children:"Correcciones de interfaz y estabilidad."})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.5 - Offline Unleashed"}),g.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full font-bold",children:"Major"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Modo Offline Real:"})," Usa la app sin internet."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Carga Instantnea:"})," Optimizada con carga local prioritaria."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Nuevo Icono PWA:"})," Identidad visual unificada."]})]}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.2 - Experience Update"}),g.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full font-bold",children:"Minor"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsx("li",{children:"Mejoras de rendimiento y estabilidad."}),g.jsx("li",{children:"Optimizacin de la interfaz de usuario en dispositivos mviles."}),g.jsx("li",{children:"Correccin de errores menores."})]}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.0 - Rebirth"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Diciembre 2025"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsx("li",{children:"Lanzamiento de mdulos: Metas, Fondos, Crditos."}),g.jsx("li",{children:"Simulador de Proyecciones financieras."}),g.jsx("li",{children:"Persistencia de datos en la nube (Firestore)."}),g.jsx("li",{children:"Autenticacin con Google."})]})]})]})]})]})]}),oe&&g.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-6 animate-in fade-in duration-200 backdrop-blur-sm rounded-3xl",children:g.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[g.jsx("div",{className:"animate-[bounce_1s_infinite]",children:g.jsx(jZ,{size:64,className:"text-rose-500 mx-auto"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-black text-rose-500 font-mono tracking-widest mb-2",children:"PELIGRO!"}),g.jsxs("p",{className:"text-zinc-400 text-sm font-mono leading-relaxed",children:["ESTA ACCIN ES IRREVERSIBLE.",g.jsx("br",{}),"SE ELIMINARN TODAS LAS TRANSACCIONES Y CONFIGURACIONES.",g.jsx("br",{}),"INTRODUZCA CDIGO DE LANZAMIENTO PARA CONFIRMAR."]})]}),g.jsx("div",{className:"flex justify-center gap-3 my-6",children:ge.map((_e,_t)=>g.jsx("input",{id:`nuclear-digit-${_t}`,type:"text",maxLength:1,value:_e,onChange:Sr=>it(_t,Sr.target.value),className:"w-12 h-16 bg-zinc-900 border-2 border-rose-500/50 focus:border-rose-500 text-rose-500 text-3xl font-mono text-center rounded-lg shadow-[0_0_15px_rgba(244,63,94,0.3)] focus:shadow-[0_0_25px_rgba(244,63,94,0.6)] outline-none transition-all"},_t))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{onClick:()=>{de(!1),we(["","","",""])},className:"py-3 px-4 bg-zinc-800 text-zinc-300 font-mono font-bold rounded-lg hover:bg-zinc-700 transition-colors",children:"ABORTAR"}),g.jsx("button",{onClick:Et,disabled:Ne,className:"py-3 px-4 bg-rose-600 text-white font-mono font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-rose-600/50",children:Ne?g.jsxs(g.Fragment,{children:[g.jsx(hZ,{className:"animate-spin",size:18})," DETONANDO"]}):g.jsxs(g.Fragment,{children:[g.jsx(Fj,{size:18})," DETONAR"]})})]})]})})]})})},aee=()=>{const t=Js(),[e,n]=T.useState(!1),[r,i]=T.useState(!1),[s,l]=T.useState("expense"),[c,d]=T.useState(""),[f,p]=T.useState(""),[m,b]=T.useState(""),{addTransaction:x}=jr(),{categories:S}=kd("expense"),{categories:E}=kd("income"),{currency:_}=pr(),{presets:k}=c6();if(T.useEffect(()=>{e&&(p(""),d(""),b(""),l("expense"))},[e]),t.pathname!=="/")return null;const P=()=>{i(!0),setTimeout(()=>{n(!1),i(!1)},300)},I=()=>{const O=Number(c);!O||O<=0||(x({amount:O,type:s,category:f||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(s==="expense"?"Gasto Rpido":"Ingreso Rpido")}),P())};if(!e&&!r)return g.jsx("button",{onClick:()=>n(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:g.jsx(Hi,{size:32,strokeWidth:2.5})});const D=s==="expense"?S:E;return g.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[g.jsx("div",{className:be("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",r?"opacity-0":"opacity-100"),onClick:P}),g.jsxs("div",{className:be("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",r?"translate-y-full":"translate-y-0"),children:[g.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:P,children:g.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),g.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[g.jsx("button",{onClick:P,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:g.jsx(P3,{size:28})}),g.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[k.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:k.map(O=>g.jsxs("button",{onClick:()=>{O.amount&&(x({amount:O.amount,type:O.type,category:O.category,date:new Date().toLocaleDateString("en-CA"),description:O.label}),P())},className:be("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95 active:bg-emerald-50 dark:active:bg-emerald-900/20 active:border-emerald-500",f===O.category&&s===O.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[g.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${O.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:O.type==="expense"?g.jsx(iy,{size:16}):g.jsx(Ad,{size:16})}),g.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:O.label}),O.amount&&g.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[_,O.amount]})]},O.id))})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[g.jsxs("button",{onClick:()=>l("expense"),className:be("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[g.jsx(iy,{size:20,strokeWidth:2.5})," Gasto"]}),g.jsxs("button",{onClick:()=>l("income"),className:be("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",g.jsx(Ad,{size:20,strokeWidth:2.5})]})]}),g.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[g.jsx("span",{className:be("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",c?"opacity-100":"opacity-30"),children:_}),g.jsx("input",{type:"number",inputMode:"decimal",value:c,onChange:O=>d(O.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),g.jsxs("div",{className:"mb-6 space-y-3",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),g.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[D.map(O=>g.jsx("button",{onClick:()=>p(O),className:be("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",f===O?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:O},O)),g.jsx("button",{onClick:()=>p("Otros"),className:be("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",f==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),g.jsx("div",{className:"mb-8",children:g.jsx("input",{type:"text",value:m,onChange:O=>b(O.target.value),placeholder:s==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),g.jsxs("button",{onClick:I,disabled:!c,className:be("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",c?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[g.jsx(z3,{size:28,strokeWidth:3}),c?"Confirmar":"Ingresa un monto"]})]})]})]})},u6=T.createContext(void 0),see=({children:t})=>{const{data:e,updateData:n}=wi(),r=e.projects||[],i=m=>{const b={id:crypto.randomUUID(),...m,status:"planning",startDate:(()=>{const x=new Date;return`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`})(),transactions:[],targetBudget:m.targetBudget||0};n({projects:[b,...r]})},s=(m,b)=>{const x=r.map(S=>S.id===m?{...S,...b}:S);n({projects:x})},l=m=>{const b=r.filter(x=>x.id!==m);n({projects:b})},c=(m,b)=>{const x=r.find(_=>_.id===m);if(!x)return;const S={id:crypto.randomUUID(),projectId:m,...b},E={...x,transactions:[S,...x.transactions||[]]};s(m,E)},d=(m,b,x)=>{const S=r.find(_=>_.id===m);if(!S)return;const E={...S,transactions:(S.transactions||[]).map(_=>_.id===b?{..._,...x}:_)};s(m,E)},f=(m,b)=>{const x=r.find(E=>E.id===m);if(!x)return;const S={...x,transactions:(x.transactions||[]).filter(E=>E.id!==b)};s(m,S)},p=m=>{const b=m.transactions||[],x=b.filter(I=>I.type==="income").reduce((I,D)=>I+D.amount,0),S=b.filter(I=>I.type==="expense").reduce((I,D)=>I+D.amount,0),E=x-S,_=m.targetBudget||m.budget||0,k=_>0?S/_*100:0,P=_>0?E/_*100:0;return{totalIncome:x,totalExpenses:S,currentBalance:E,percentConsumed:k,percentFunded:P}};return g.jsx(u6.Provider,{value:{projects:r,addProject:i,updateProject:s,deleteProject:l,addProjectTransaction:c,updateProjectTransaction:d,deleteProjectTransaction:f,getProjectStats:p},children:t})},CT=()=>{const t=T.useContext(u6);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},oee=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=pr(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:g.jsx(kZ,{size:48,className:"text-zinc-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),g.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[g.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:g.jsx(Qd,{size:48,className:"text-emerald-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),g.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[g.jsxs("li",{children:["Usa el botn ",g.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),g.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),g.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:g.jsx(sy,{size:48,className:"text-yellow-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),g.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[g.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),g.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:g.jsx(FX,{size:48,className:"text-blue-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:g.jsx(LX,{size:48,className:"text-cyan-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",g.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),g.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),g.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),g.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:g.jsx(vZ,{size:48,className:"text-rose-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[g.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",g.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",g.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",g.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[g.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),g.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),g.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),g.jsx("div",{className:"min-h-[160px]",children:l[n].content}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),g.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&g.jsx(Tv,{size:16})]})]})]})]})})},lee=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=Jd();return T.useEffect(()=>{i()},[i]),g.jsx(qM,{children:g.jsx(GJ,{children:g.jsx(see,{children:g.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300 animate-enter-app",children:[g.jsxs("header",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[g.jsx(NT,{}),g.jsx("button",{className:"p-2 -mr-2 text-zinc-600 dark:text-zinc-400 active:bg-zinc-100 dark:active:bg-zinc-900 rounded-lg",onClick:()=>e(!0),children:g.jsx(JX,{size:24})})]}),t&&g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm lg:hidden animate-in fade-in duration-200",onClick:()=>e(!1)}),g.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-[60] transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:g.jsx(HJ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),g.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[g.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v1.6 - Smart Goals"}),g.jsx(aD,{})]}),g.jsx(aee,{}),g.jsx(iee,{isOpen:n,onClose:()=>r(!1)}),g.jsx(oee,{}),g.jsx(C3,{position:"top-center"})]})})})})},ef=()=>{const{data:t,updateData:e}=wi(),n=t.goals||[],r=(_,k)=>{if(!_.history)return 0;const P=k.getMonth(),I=k.getFullYear();return _.history.reduce((D,O)=>{const[U,z]=O.date.split("-").map(Number);return U===I&&z-1===P?O.type==="deposit"?D+O.amount:D-O.amount:D},0)},i=_=>{const k={id:crypto.randomUUID(),..._,currentAmount:0,recoveryStrategy:"spread",history:[]};e({goals:[...n,k]})},s=(_,k)=>{const P=n.map(I=>I.id===_?{...I,...k}:I);e({goals:P})},l=_=>{const k=n.filter(P=>P.id!==_);e({goals:k})},c=(_,k,P)=>{const I=n.find(C=>C.id===_);if(!I)return;const D=new Date().toISOString().split("T")[0],O={id:crypto.randomUUID(),date:D,amount:k,type:"deposit",note:P||"Contribucin manual"},U=I.history?[...I.history,O]:[O],z={...I,currentAmount:(I.currentAmount||0)+k,lastContributionDate:D,history:U};s(_,z)},d=(_,k,P,I)=>{const D=n.find(R=>R.id===_);if(!D)return;const O=new Date().toISOString().split("T")[0],U={id:crypto.randomUUID(),date:O,amount:k,type:"withdrawal",note:P||"Retiro de fondos"},z=D.history?[...D.history,U]:[U],C={...D,currentAmount:Math.max(0,(D.currentAmount||0)-k),recoveryStrategy:I||D.recoveryStrategy,history:z};s(_,C)},f=(_,k)=>{c(_,k,"Cuota Mensual")},p=_=>{const k=Math.sin(_)*1e4;return k-Math.floor(k)},m=_=>{const k=new Date(_.startDate),P=new Date(_.deadline),I=Math.max(1,(P.getFullYear()-k.getFullYear())*12+(P.getMonth()-k.getMonth())+1),D=_.id.split("").reduce((U,z)=>U+z.charCodeAt(0),0),O=[];for(let U=0;U<I;U++){const C=.8+p(D+U)*.6;O.push(C)}return O},b=(_,k=new Date,P=0)=>{if(!_.deadline)return 0;const I=new Date(k),D=new Date(_.deadline),O=new Date(_.startDate),U=(_.currentAmount||0)+P,z=Math.max(0,_.targetAmount-U);if(z<=0)return 0;if(_.calculationMethod==="dynamic"){const ke=m(_),q=(I.getFullYear()-O.getFullYear())*12+(I.getMonth()-O.getMonth());if(q>=ke.length)return z;const K=Math.max(0,q);let Q=0;for(let pe=K;pe<ke.length;pe++)Q+=ke[pe];if(Q===0)return z;const oe=ke[K],ge=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,we=z+ge,Ne=oe/Q,H=we*Ne;return Math.ceil(H*100)/100}const C=D.getFullYear()-I.getFullYear(),R=D.getMonth()-I.getMonth();let V=Math.max(1,C*12+R);if(_.recoveryStrategy==="spread"||!_.recoveryStrategy){const q=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,Q=(z+q)/V;return Math.ceil(Q*100)/100}const L=Math.max(1,(D.getFullYear()-O.getFullYear())*12+(D.getMonth()-O.getMonth())+1),$=Math.max(0,(I.getFullYear()-O.getFullYear())*12+(I.getMonth()-O.getMonth())),B=_.targetAmount/L,xe=B*$,Y=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,re=U-Y,ie=Math.max(0,xe-re),ye=B+ie;return Math.ceil(ye*100)/100};return{goals:n,addGoal:i,updateGoal:s,deleteGoal:l,contributeToGoal:f,addContribution:c,withdraw:d,getMonthlyQuota:b,isGoalPaidThisMonth:_=>{const P=r(_,new Date),I=b(_);return P>=I*.95},getTotalSavingsAtDate:_=>n.reduce((k,P)=>{if(!P.history||P.history.length===0)return k;const I=new Date(_.getFullYear(),_.getMonth()+1,0),D=P.history.reduce((O,U)=>new Date(U.date)<=I?U.type==="deposit"?O+U.amount:O-U.amount:O,0);return k+Math.max(0,D)},0),getMonthsRemaining:_=>{if(!_.deadline)return 0;const k=new Date,P=new Date(_.deadline),I=P.getFullYear()-k.getFullYear(),D=P.getMonth()-k.getMonth();return Math.max(0,I*12+D)}}},tf=()=>{const{data:t,updateData:e}=wi(),n=t.funds||[];return{funds:n,addFund:c=>{const d={id:crypto.randomUUID(),currentAmount:0,history:[],...c};e({funds:[...n,d]})},updateFund:(c,d)=>{const f=n.map(p=>p.id===c?{...p,...d}:p);e({funds:f})},deleteFund:c=>{const d=n.filter(f=>f.id!==c);e({funds:d})},addTransaction:(c,d,f,p)=>{const m=n.find(k=>k.id===c);if(!m)return;const b={id:crypto.randomUUID(),fundId:c,date:new Date().toISOString().split("T")[0],amount:d,type:f,note:p},x=f==="deposit"?(m.currentAmount||0)+d:(m.currentAmount||0)-d,S=m.history?[b,...m.history]:[b],E={...m,currentAmount:Math.max(0,x),history:S},_=n.map(k=>k.id===c?E:k);e({funds:_})}}},qm=()=>{const{allTransactions:t}=jr(),{goals:e}=ef(),{funds:n}=tf(),{selectedDate:r}=Ld(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),p=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),m=p.filter(k=>k.type==="income").reduce((k,P)=>k+P.amount,0),b=p.filter(k=>k.type==="expense").reduce((k,P)=>k+P.amount,0),S=(e||[]).reduce((k,P)=>{if(!P.history)return k;const I=P.history.reduce((D,O)=>new Date(O.date+"T12:00:00")<=d?O.type==="deposit"?D+O.amount:D-O.amount:D,0);return k+Math.max(0,I)},0),_=(n||[]).reduce((k,P)=>{if(!P.history)return k;const I=P.history.reduce((D,O)=>new Date(O.date+"T12:00:00")<=d?O.type==="deposit"?D+O.amount:D-O.amount:D,0);return k+Math.max(0,I)},0);return m-b-(S+_)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},kv=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=Ld(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return g.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:g.jsx(R3,{size:16})}),g.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[g.jsx(cm,{size:16,className:"text-zinc-400"}),g.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),g.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:g.jsx(Tv,{size:16})}),!l&&g.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},cee=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=ef(),{funds:s,addTransaction:l}=tf(),{total:c}=jr("income"),{total:d}=jr("expense"),{currency:f}=pr(),p=n.reduce((I,D)=>I+(D.currentAmount||0),0),m=s.reduce((I,D)=>I+D.currentAmount,0),b=c-d-(p+m),[x,S]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[E,_]=T.useState(""),k=(I,D,O,U)=>{S({active:!0,type:I,targetId:D,targetName:O,targetType:U}),_("")},P=()=>{const I=Number(E);if(!(!I||I<=0)){if(x.type==="withdraw")if(x.targetType==="goal"){const D=n.find(O=>O.id===x.targetId);if(!D||D.currentAmount<I)return nt.error("Fondos insuficientes en la meta.");i(x.targetId,I)}else{const D=s.find(O=>O.id===x.targetId);if(!D||D.currentAmount<I)return nt.error("Fondos insuficientes en el fondo.");l(x.targetId,I,"withdraw","Retiro desde Gestin")}else{if(b<I)return nt.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);x.targetType==="goal"?r(x.targetId,I,"Ingreso desde Gestin"):l(x.targetId,I,"deposit","Ingreso desde Gestin")}S({...x,active:!1})}};return g.jsx(ga,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:x.active?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[g.jsx("button",{onClick:()=>S({...x,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),g.jsxs("div",{children:[g.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[x.type==="deposit"?"Ingresar en":"Retirar de"," ",x.targetName]}),g.jsx("p",{className:"text-sm text-zinc-500",children:x.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${x.targetType==="goal"?"meta":"fondo"}: ${f}${x.targetType==="goal"?n.find(I=>I.id===x.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(I=>I.id===x.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:E,onChange:I=>_(I.target.value),onKeyDown:I=>I.key==="Enter"&&P()})]}),g.jsx("button",{onClick:P,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${x.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):g.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(ts,{size:14})," Metas de Ahorro"]}),n.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(I=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:I.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,I.currentAmount.toFixed(2)," ",g.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,I.targetAmount.toLocaleString()]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",I.id,I.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(qj,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",I.id,I.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx($j,{size:18})})]})]},I.id))]}),g.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(Wd,{size:14})," Fondos Independientes"]}),s.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(I=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:I.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,I.currentAmount.toFixed(2)]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",I.id,I.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(qj,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",I.id,I.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx($j,{size:18})})]})]},I.id))]})]})})},Nv=()=>{const{data:t,updateData:e}=wi(),n=t.credits||[];return{credits:n,addCredit:d=>{const f={id:crypto.randomUUID(),...d,payments:[]};e({credits:[...n,f]})},updateCredit:(d,f)=>{const p=n.map(m=>m.id===d?{...m,...f}:m);e({credits:p})},deleteCredit:d=>{const f=n.filter(p=>p.id!==d);e({credits:f})},addPayment:(d,f,p)=>{const m=n.find(O=>O.id===d);if(!m){nt.error("Error: Crdito no encontrado");return}const b={id:crypto.randomUUID(),creditId:d,date:new Date().toISOString().split("T")[0],amount:Number(f),note:p||""},x=m.payments?[b,...m.payments]:[b],S=x.reduce((O,U)=>O+U.amount,0),E=m.interestRate/100/12;let _=0,k=0;if(m.interestRate===0)_=m.principal/m.term,k=m.principal;else{const O=Number(m.principal),U=Number(m.term),z=Math.pow(1+E,U)-1;z===0?_=O/U:_=O*E*Math.pow(1+E,U)/z,k=_*U}const P=S>=k-1?"paid":"active",I={...m,payments:x,status:P},D=n.map(O=>O.id===d?I:O);try{e({credits:D})}catch(O){console.error("Failed to update credit payment",O),nt.error("Error al guardar el historial del pago")}},getCreditStatus:d=>{const p=(d.payments||[]).reduce((E,_)=>E+_.amount,0),m=d.interestRate/100/12;let b=0,x=0;d.interestRate===0?(b=d.principal/d.term,x=d.principal):(b=d.principal*m*Math.pow(1+m,d.term)/(Math.pow(1+m,d.term)-1),x=b*d.term);const S=Math.max(0,x-p);return{totalPaid:p,totalToPay:x,remainingBalance:S,quota:b,progress:p/x*100}}}},uee=()=>{const{allTransactions:t}=jr(),{funds:e}=tf(),{credits:n}=Nv(),{projects:r}=CT();return{ledgerEntries:T.useMemo(()=>{let s=[];const l=t.map(c=>({id:`tx-${c.id}`,originalId:c.id,date:c.date,description:c.description,amount:c.amount,type:c.type,source:"transaction",category:c.category,icon:c.category==="Food"?"utensils":"dollar"}));return s=[...s,...l],e.forEach(c=>{if(c.history){const d=c.history.map(f=>({id:`fund-${f.id}`,originalId:f.id,date:f.date,description:f.type==="deposit"?`Ingreso a Fondo: ${c.name}`:`Retiro de Fondo: ${c.name}`,amount:f.amount,type:f.type==="deposit"?"expense":"income",source:"fund",category:"Ahorro / Fondos",fundName:c.name,icon:c.icon}));s=[...s,...d]}}),n.forEach(c=>{if(c.payments){const d=c.payments.map(f=>({id:`credit-${f.id}`,originalId:f.id,date:f.date,description:`Pago Crdito: ${c.name}`,amount:f.amount,type:"expense",source:"credit",category:"Deudas / Crditos",creditName:c.name}));s=[...s,...d]}}),r.forEach(c=>{if(c.transactions){const d=c.transactions.map(f=>({id:`proj-${f.id}`,originalId:f.id,date:f.date,description:`Proyecto [${c.name}]: ${f.description}`,amount:f.amount,type:f.type,source:"project",category:f.category||"Proyecto",projectName:c.name}));s=[...s,...d]}}),s.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime())},[t,e,n,r])}},dee=({isOpen:t,onClose:e})=>{const{ledgerEntries:n}=uee(),{selectedDate:r}=Ld(),{currency:i}=pr(),[s,l]=T.useState(""),[c,d]=T.useState("all"),p=n.filter(_=>{if(c!=="all"&&_.source!==c)return!1;const k=s.toLowerCase();return _.description.toLowerCase().includes(k)||_.category.toLowerCase().includes(k)||_.fundName&&_.fundName.toLowerCase().includes(k)||_.creditName&&_.creditName.toLowerCase().includes(k)||_.projectName&&_.projectName.toLowerCase().includes(k)}).filter(_=>{const[k,P]=_.date.split("-").map(Number);return P===r.getMonth()+1&&k===r.getFullYear()}),m=p.filter(_=>_.type==="income").reduce((_,k)=>_+k.amount,0),b=p.filter(_=>_.type==="expense").reduce((_,k)=>_+k.amount,0),x=m-b,S=_=>{switch(_){case"fund":return g.jsx(um,{size:14,className:"text-amber-500"});case"credit":return g.jsx(D3,{size:14,className:"text-purple-500"});case"project":return g.jsx(_T,{size:14,className:"text-blue-500"});default:return g.jsx(Qd,{size:14,className:"text-zinc-500"})}},E=_=>{switch(_){case"fund":return"Fondo";case"credit":return"Crdito";case"project":return"Proyecto";default:return"Billetera"}};return g.jsx(ga,{isOpen:t,onClose:e,title:"Libro Contable Unificado",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(kv,{})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["all","transaction","fund","credit","project"].map(_=>g.jsx("button",{onClick:()=>d(_),className:be("px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border",c===_?"bg-zinc-900 border-zinc-900 text-white dark:bg-white dark:border-white dark:text-zinc-900":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-400"),children:_==="all"?"Todos":_==="transaction"?"Transacciones":_==="fund"?"Fondos":_==="credit"?"Crditos":"Proyectos"},_))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-4 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Entradas"}),g.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold text-lg",children:["+",i,m.toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Flujo Neto"}),g.jsxs("p",{className:be("font-mono font-bold text-lg",x>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"),children:[x>=0?"+":"",i,Math.abs(x).toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Salidas"}),g.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold text-lg",children:["-",i,b.toFixed(2)]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(EZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, categora, fondo...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20",value:s,onChange:_=>l(_.target.value)})]}),g.jsx("div",{className:"space-y-2 min-h-[300px] max-h-[50vh] overflow-y-auto pr-1",children:p.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-400 opacity-60",children:[g.jsx(jX,{size:48,className:"mb-4"}),g.jsx("p",{className:"italic text-sm",children:"No se encontraron movimientos."})]}):p.map(_=>g.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 rounded-2xl transition-all shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:be("w-10 h-10 rounded-full flex items-center justify-center shrink-0",_.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:_.type==="income"?g.jsx(aS,{size:18}):g.jsx(VQ,{size:18})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-zinc-100 dark:bg-zinc-800 text-[10px] font-bold text-zinc-500 uppercase tracking-wide",children:[S(_.source),E(_.source)]}),g.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:new Date(_.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm truncate pr-2",children:_.description}),g.jsx("p",{className:"text-xs text-zinc-500 truncate",children:_.category})]})]}),g.jsxs("span",{className:be("font-mono font-bold text-sm whitespace-nowrap",_.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[_.type==="income"?"+":"-",i,_.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},_.id))})]})})},fee=()=>{const{selectedDate:t}=Ld(),{transactions:e}=jr(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=ef(),{funds:c}=tf(),{scheduled:d}=Jd(),{currency:f}=pr(),[p,m]=T.useState(!1),[b,x]=T.useState(!1),S=e.filter(C=>{const[R,V]=C.date.split("-").map(Number);return V===t.getMonth()+1&&R===t.getFullYear()}),E=S.filter(C=>C.type==="income").reduce((C,R)=>C+R.amount,0),_=S.filter(C=>C.type==="expense").reduce((C,R)=>C+R.amount,0),k=r(t),P=c.reduce((C,R)=>C+R.currentAmount,0),I=k+P,D=C=>{const R=i(C),V=s(C);return R?g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),g.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",V.toFixed(2)]}),g.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:O}=qm(),U=[{label:"Saldo Disponible",amount:O,icon:Qd,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:I,icon:ts,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:E,icon:TT,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:_,icon:cS,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}],z=d.filter(C=>C.active).map(C=>{const R=new Date,V=R.getDate(),L=C.lastProcessedDate?new Date(C.lastProcessedDate+"T12:00:00"):null;if(L&&L.getMonth()===R.getMonth()&&L.getFullYear()===R.getFullYear())return null;const B=C.dayOfMonth-V;let xe="normal";return B<0?xe="overdue":B<=3&&(xe="urgent"),{...C,diff:B,status:xe}}).filter(C=>C!==null).sort((C,R)=>C.dayOfMonth-R.dayOfMonth);return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>x(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:g.jsx(qQ,{size:20})}),g.jsx(kv,{})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:U.map(C=>g.jsxs("div",{onClick:()=>{C.label==="Ahorro Total"&&m(!0)},className:`${C.bg} border ${C.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${C.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[C.label,C.label==="Ahorro Total"&&g.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),g.jsx(C.icon,{size:20,className:C.color})]}),g.jsxs("p",{className:`text-3xl font-mono font-bold ${C.color}`,children:[f,C.amount.toFixed(2)]})]},C.label))}),z.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 flex items-center gap-2",children:[g.jsx(gX,{size:20,className:"text-zinc-400"}),"Ingresos y Gastos Programados"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(C=>g.jsxs("div",{className:be("p-4 rounded-2xl border flex items-center justify-between shadow-sm",C.status==="overdue"?"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/30":C.status==="urgent"?"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-900/30":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:be("w-10 h-10 rounded-full flex items-center justify-center font-bold text-xs",C.status==="overdue"?"bg-rose-100 text-rose-600 dark:bg-rose-900/20":C.status==="urgent"?"bg-amber-100 text-amber-600 dark:bg-amber-900/20":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"),children:C.dayOfMonth}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.description}),g.jsx("p",{className:"text-xs text-zinc-500 capitalize",children:C.category})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:be("font-mono font-bold text-sm",C.type==="income"?"text-emerald-500":"text-rose-500"),children:[C.type==="income"?"+":"-",f,C.amount]}),g.jsx("p",{className:be("text-[10px] font-bold uppercase tracking-wider",C.status==="overdue"?"text-rose-500":C.status==="urgent"?"text-amber-500":"text-zinc-400"),children:C.status==="overdue"?"Vencido":C.status==="urgent"?"Pronto":"Pendiente"})]})]},C.id))})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[g.jsx(ts,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?g.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):g.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(C=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:g.jsx(ts,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:C.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:[l(C)," meses restantes"]})]})]}),D(C)]},C.id)),n.length>3&&g.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",g.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",g.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),g.jsx(cee,{isOpen:p,onClose:()=>m(!1)}),g.jsx(dee,{isOpen:b,onClose:()=>x(!1)})]})},d6=({type:t,onSubmit:e,categories:n,onAddCategory:r,initialData:i})=>{const{currency:s}=pr(),{addScheduled:l}=Jd(),[c,d]=T.useState(i?.amount?.toString()||""),[f,p]=T.useState(i?.category||n[0]||""),[m,b]=T.useState(i?.description||""),[x,S]=T.useState(i?.date||new Date().toISOString().split("T")[0]);T.useEffect(()=>{i&&(d(i.amount.toString()),p(i.category),b(i.description),S(i.date))},[i]);const[E,_]=T.useState(!1),[k,P]=T.useState(new Date().getDate()),[I,D]=T.useState(!1),[O,U]=T.useState(""),z=R=>{R.preventDefault(),!(!c||!f)&&(E?l({type:t,amount:Number(c),category:f,description:m,dayOfMonth:Number(k)}):e({amount:Number(c),type:t,category:f,description:m,date:x}),d(""),b(""),_(!1))},C=()=>{O.trim()&&(r(O.trim()),p(O.trim()),U(""),D(!1))};return g.jsxs("form",{onSubmit:z,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[g.jsxs("h3",{className:be("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[g.jsx(Hi,{size:20}),i?"Editar":E?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:s}),g.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:c,onChange:R=>d(R.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),g.jsxs("div",{className:be("p-4 rounded-xl border transition-all duration-300",E?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>_(!E),children:[g.jsx("div",{className:be("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",E?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:g.jsx("div",{className:be("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",E?"translate-x-5":"translate-x-0")})}),g.jsx("div",{className:"flex flex-col",children:g.jsx("span",{className:be("text-sm font-bold transition-colors",E?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:E?"Transaccin Recurrente":"Pago nico"})})]}),E&&g.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[g.jsx("div",{className:"text-right mr-2",children:g.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),g.jsxs("div",{className:"relative",children:[g.jsx(sS,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),g.jsx("input",{type:"number",min:"1",max:"31",value:k,onChange:R=>P(Number(R.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),E&&g.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[g.jsx(xZ,{size:14,className:"mt-0.5"}),g.jsxs("p",{children:["Se agregar automticamente cada da ",g.jsx("strong",{children:k})," del mes. Te avisaremos 2 das antes."]})]})]}),!E&&g.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[g.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),g.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:x,onChange:R=>S(R.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:I?g.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[g.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:O,onChange:R=>U(R.target.value),onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),C())}),g.jsx("button",{type:"button",onClick:C,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:g.jsx(Hi,{size:20})}),g.jsx("button",{type:"button",onClick:()=>D(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):g.jsxs(g.Fragment,{children:[n.map(R=>g.jsx("button",{type:"button",onClick:()=>p(R),className:be("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",f===R?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:R},R)),g.jsxs("button",{type:"button",onClick:()=>D(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[g.jsx(Hi,{size:12})," Nueva"]})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsx(FZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),g.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:R=>b(R.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),g.jsxs("button",{type:"submit",className:be("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[g.jsx(_Z,{size:20}),i?"Guardar Cambios":E?"Programar Recurrencia":"Guardar Transaccin"]})]})},f6=({transactions:t,onDelete:e,onEdit:n})=>t.length===0?g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(r=>g.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:r.date}),g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="income"?g.jsx(Ad,{size:16,className:"text-emerald-600"}):g.jsx(iy,{size:16,className:"text-rose-600"}),g.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[r.description,r.isRecurring&&g.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:r.category||"General"})}),g.jsxs("td",{className:be("px-6 py-4 text-right font-mono font-bold text-base",r.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[r.type==="expense"?"-":"+","$",r.amount.toFixed(2)]}),g.jsxs("td",{className:"px-6 py-4 text-center",children:[n&&g.jsx("button",{onClick:()=>n(r),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100 mr-2",title:"Editar",children:g.jsx(Fm,{size:18})}),g.jsx("button",{onClick:()=>e(r.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:g.jsx(Gi,{size:18})})]})]},r.id))})]})})});var hee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function IT(t){if(typeof t!="string")return!1;var e=hee;return e.includes(t)}var mee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pee=new Set(mee);function h6(t){return typeof t!="string"?!1:pee.has(t)}function m6(t){return typeof t=="string"&&t.startsWith("data-")}function ml(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(h6(n)||m6(n))&&(e[n]=t[n]);return e}function jT(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ml(e)}return typeof t=="object"&&!Array.isArray(t)?ml(t):null}function Ki(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(h6(n)||m6(n)||IT(n))&&(e[n]=t[n]);return e}var gee=["children","width","height","viewBox","className","style","title","desc"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function yee(t,e){if(t==null)return{};var n,r,i=vee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p6=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,p=yee(t,gee),m=s||{width:r,height:i,x:0,y:0},b=be("recharts-surface",l);return T.createElement("svg",dS({},Ki(p),{className:b,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),bee=["children","className"];function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function xee(t,e){if(t==null)return{};var n,r,i=wee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hs=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=xee(t,bee),s=be("recharts-layer",r);return T.createElement("g",fS({className:s},Ki(i),{ref:e}),n)}),_ee=T.createContext(null);function Ft(t){return function(){return t}}const g6=Math.cos,ly=Math.sin,wa=Math.sqrt,cy=Math.PI,Cv=2*cy,hS=Math.PI,mS=2*hS,ec=1e-6,See=mS-ec;function y6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Eee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return y6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Tee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?y6:Eee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,p=l-e,m=c-n,b=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>ec)if(!(Math.abs(m*d-f*p)>ec)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,S=i-c,E=d*d+f*f,_=x*x+S*S,k=Math.sqrt(E),P=Math.sqrt(b),I=s*Math.tan((hS-Math.acos((E+b-_)/(2*k*P)))/2),D=I/P,O=I/k;Math.abs(D-1)>ec&&this._append`L${e+D*p},${n+D*m}`,this._append`A${s},${s},0,0,${+(m*x>p*S)},${this._x1=e+O*d},${this._y1=n+O*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,p=n+d,m=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ec||Math.abs(this._y1-p)>ec)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%mS+mS),b>See?this._append`A${r},${r},0,1,${m},${e-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:b>ec&&this._append`A${r},${r},0,${+(b>=hS)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Tee(e)}function zT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v6(t){this._context=t}v6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Iv(t){return new v6(t)}function b6(t){return t[0]}function x6(t){return t[1]}function w6(t,e){var n=Ft(!0),r=null,i=Iv,s=null,l=OT(c);t=typeof t=="function"?t:t===void 0?b6:Ft(t),e=typeof e=="function"?e:e===void 0?x6:Ft(e);function c(d){var f,p=(d=zT(d)).length,m,b=!1,x;for(r==null&&(s=i(x=l())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(m,f,d),+e(m,f,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ft(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function $g(t,e,n){var r=null,i=Ft(!0),s=null,l=Iv,c=null,d=OT(f);t=typeof t=="function"?t:t===void 0?b6:Ft(+t),e=typeof e=="function"?e:Ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?x6:Ft(+n);function f(m){var b,x,S,E=(m=zT(m)).length,_,k=!1,P,I=new Array(E),D=new Array(E);for(s==null&&(c=l(P=d())),b=0;b<=E;++b){if(!(b<E&&i(_=m[b],b,m))===k)if(k=!k)x=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=b-1;S>=x;--S)c.point(I[S],D[S]);c.lineEnd(),c.areaEnd()}k&&(I[b]=+t(_,b,m),D[b]=+e(_,b,m),c.point(r?+r(_,b,m):I[b],n?+n(_,b,m):D[b]))}if(P)return c=null,P+""||null}function p(){return w6().defined(i).curve(l).context(s)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ft(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ft(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ft(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),f):l},f.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),f):s},f}class _6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Aee(t){return new _6(t,!0)}function kee(t){return new _6(t,!1)}const PT={draw(t,e){const n=wa(e/cy);t.moveTo(n,0),t.arc(0,0,n,0,Cv)}},Nee={draw(t,e){const n=wa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S6=wa(1/3),Cee=S6*2,Iee={draw(t,e){const n=wa(e/Cee),r=n*S6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},jee={draw(t,e){const n=wa(e),r=-n/2;t.rect(r,r,n,n)}},Oee=.8908130915292852,E6=ly(cy/10)/ly(7*cy/10),zee=ly(Cv/10)*E6,Pee=-g6(Cv/10)*E6,Ree={draw(t,e){const n=wa(e*Oee),r=zee*n,i=Pee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Cv*s/5,c=g6(l),d=ly(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},q1=wa(3),Mee={draw(t,e){const n=-wa(e/(q1*3));t.moveTo(0,n*2),t.lineTo(-q1*n,-n),t.lineTo(q1*n,-n),t.closePath()}},Vi=-.5,Bi=wa(3)/2,pS=1/wa(12),Dee=(pS/2+1)*3,Lee={draw(t,e){const n=wa(e/Dee),r=n/2,i=n*pS,s=r,l=n*pS+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Vi*r-Bi*i,Bi*r+Vi*i),t.lineTo(Vi*s-Bi*l,Bi*s+Vi*l),t.lineTo(Vi*c-Bi*d,Bi*c+Vi*d),t.lineTo(Vi*r+Bi*i,Vi*i-Bi*r),t.lineTo(Vi*s+Bi*l,Vi*l-Bi*s),t.lineTo(Vi*c+Bi*d,Vi*d-Bi*c),t.closePath()}};function Vee(t,e){let n=null,r=OT(i);t=typeof t=="function"?t:Ft(t||PT),e=typeof e=="function"?e:Ft(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ft(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ft(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uy(){}function dy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T6(t){this._context=t}T6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bee(t){return new T6(t)}function A6(t){this._context=t}A6.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uee(t){return new A6(t)}function k6(t){this._context=t}k6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fee(t){return new k6(t)}function N6(t){this._context=t}N6.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qee(t){return new N6(t)}function tO(t){return t<0?-1:1}function nO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(tO(s)+tO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function rO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function fy(t){this._context=t}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$1(this,this._t0,rO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$1(this,rO(this,n=nO(this,t,e)),n);break;default:$1(this,this._t0,n=nO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function C6(t){this._context=new I6(t)}(C6.prototype=Object.create(fy.prototype)).point=function(t,e){fy.prototype.point.call(this,e,t)};function I6(t){this._context=t}I6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function $ee(t){return new fy(t)}function Hee(t){return new C6(t)}function j6(t){this._context=t}j6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iO(t),i=iO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Gee(t){return new j6(t)}function jv(t,e){this._context=t,this._t=e}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Kee(t){return new jv(t,.5)}function Yee(t){return new jv(t,0)}function Wee(t){return new jv(t,1)}function Oc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Qee(t,e){return t[e]}function Xee(t){const e=[];return e.key=t,e}function Zee(){var t=Ft([]),e=gS,n=Oc,r=Qee;function i(s){var l=Array.from(t.apply(this,arguments),Xee),c,d=l.length,f=-1,p;for(const m of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(m,l[c].key,f,s)]).data=m;for(c=0,p=zT(e(l));c<d;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ft(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ft(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?gS:typeof s=="function"?s:Ft(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Oc,i):n},i}function Jee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Oc(t,e)}}function ete(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Oc(t,e)}}function tte(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,b=p[r-1][1]||0,x=(m-b)/2,S=0;S<c;++S){var E=t[e[S]],_=E[r][1]||0,k=E[r-1][1]||0;x+=_-k}d+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Oc(t,e)}}var H1={},G1={},aO;function nte(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(G1)),G1}var K1={},sO;function O6(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(K1)),K1}var Y1={},oO;function RT(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Y1)),Y1}var W1={},Q1={},lO;function rte(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Q1)),Q1}var cO;function MT(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rte(),n=RT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const m=i[c];f?m==="\\"&&c+1<l?(c++,d+=i[c]):m===f?f="":d+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,s.push(d),d=""):d+=m:m==="["?(p=!0,d&&(s.push(d),d="")):m==="."?d&&(s.push(d),d=""):d+=m,c++}return d&&s.push(d),s}t.toPath=r})(W1)),W1}var uO;function DT(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nte(),n=O6(),r=RT(),i=MT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function l(c,d,f){if(d.length===0)return f;let p=c;for(let m=0;m<d.length;m++){if(p==null||e.isUnsafeProperty(d[m]))return f;p=p[d[m]]}return p===void 0?f:p}t.get=s})(H1)),H1}var X1,dO;function ite(){return dO||(dO=1,X1=DT().get),X1}var ate=ite();const Nd=ls(ate);var ste=4;function nl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ste,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+nl(c)+s:i+s},"")}var pi=t=>t===0?0:t>0?1:-1,as=t=>typeof t=="number"&&t!=+t,Gs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!as(t),ss=t=>$e(t)||typeof t=="string",ote=0,dm=t=>{var e=++ote;return"".concat(t||"").concat(e)},va=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var s;if(Gs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return as(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},z6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function fr(t,e,n){return $e(t)&&$e(e)?nl(t+n*(e-t)):e}function lte(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Nd(r,e))===n)}var Qn=t=>t===null||typeof t>"u",$m=t=>Qn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function cte(t){return t!=null}function Hm(){}var ute=["type","size","sizeType"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(null,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mte(t,e){if(t==null)return{};var n,r,i=pte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P6={symbolCircle:PT,symbolCross:Nee,symbolDiamond:Iee,symbolSquare:jee,symbolStar:Ree,symbolTriangle:Mee,symbolWye:Lee},gte=Math.PI/180,yte=t=>{var e="symbol".concat($m(t));return P6[e]||PT},vte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*gte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bte=(t,e)=>{P6["symbol".concat($m(t))]=e},R6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=mte(t,ute),s=hO(hO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=yte(l),x=Vee().type(b).size(vte(n,r,l)),S=x();if(S!==null)return S},{className:d,cx:f,cy:p}=s,m=Ki(s);return $e(f)&&$e(p)&&$e(n)?T.createElement("path",yS({},m,{className:be("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};R6.registerSymbol=bte;var M6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,xte=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{IT(i)&&(r[i]=(s=>n[i](n,s)))}),r},wte=(t,e,n)=>r=>(t(e,n,r),null),LT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];IT(i)&&typeof s=="function"&&(r||(r={}),r[i]=wte(s,e,n))}),r};function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qi(t,e){var n=_te({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var Z1={},J1={},pO;function Ate(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(J1)),J1}var ew={},gO;function D6(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ew)),ew}var tw={},nw={},rw={},yO;function kte(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(rw)),rw}var vO;function VT(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(nw)),nw}var iw={},bO;function Nte(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(iw)),iw}var xO;function Cte(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VT(),n=Nte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(tw)),tw}var aw={},sw={},wO;function Ite(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(sw)),sw}var ow={},lw={},cw={},uw={},_O;function L6(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(uw)),uw}var dw={},SO;function V6(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(dw)),dw}var fw={},EO;function B6(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(fw)),fw}var TO;function jte(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6(),n=V6(),r=B6();function i(p,m,b){return typeof b!="function"?i(p,m,()=>{}):s(p,m,function x(S,E,_,k,P,I){const D=b(S,E,_,k,P,I);return D!==void 0?!!D:s(S,E,x,I)},new Map)}function s(p,m,b,x){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,b,x);case"function":return Object.keys(m).length>0?s(p,{...m},b,x):r.eq(p,m);default:return e.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,b,x){if(m==null)return!0;if(Array.isArray(m))return d(p,m,b,x);if(m instanceof Map)return c(p,m,b,x);if(m instanceof Set)return f(p,m,b,x);const S=Object.keys(m);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(x?.has(m))return x.get(m)===p;x?.set(m,p);try{for(let E=0;E<S.length;E++){const _=S[E];if(!n.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!b(p[_],m[_],_,p,m,x))return!1}return!0}finally{x?.delete(m)}}function c(p,m,b,x){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of m.entries()){const _=p.get(S);if(b(_,E,S,p,m,x)===!1)return!1}return!0}function d(p,m,b,x){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<m.length;E++){const _=m[E];let k=!1;for(let P=0;P<p.length;P++){if(S.has(P))continue;const I=p[P];let D=!1;if(b(I,_,E,p,m,x)&&(D=!0),D){S.add(P),k=!0;break}}if(!k)return!1}return!0}function f(p,m,b,x){return m.size===0?!0:p instanceof Set?d([...p],[...m],b,x):!1}t.isMatchWith=i,t.isSetMatch=f})(cw)),cw}var AO;function U6(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(lw)),lw}var hw={},mw={},pw={},kO;function Ote(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(pw)),pw}var gw={},NO;function F6(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(gw)),gw}var yw={},CO;function q6(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",b="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",D="[object BigUint64Array]",O="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",C="[object BigInt64Array]",R="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=S,t.float32ArrayTag=R,t.float64ArrayTag=V,t.functionTag=m,t.int16ArrayTag=U,t.int32ArrayTag=z,t.int8ArrayTag=O,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=P,t.uint32ArrayTag=I,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=k})(yw)),yw}var vw={},IO;function zte(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(vw)),vw}var jO;function $6(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ote(),n=F6(),r=q6(),i=V6(),s=zte();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,b,x=new Map,S=void 0){const E=S?.(p,m,b,x);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const _=new Array(p.length);x.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,b,x,S);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;x.set(p,_);for(const[k,P]of p)_.set(k,c(P,k,b,x,S));return _}if(p instanceof Set){const _=new Set;x.set(p,_);for(const k of p)_.add(c(k,void 0,b,x,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,b,x,S);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,_),d(_,p,b,x,S),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return x.set(p,_),d(_,p,b,x,S),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return x.set(p,_),d(_,p,b,x,S),_}if(p instanceof Error){const _=new p.constructor;return x.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,d(_,p,b,x,S),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return x.set(p,_),d(_,p,b,x,S),_}if(p instanceof Number){const _=new Number(p.valueOf());return x.set(p,_),d(_,p,b,x,S),_}if(p instanceof String){const _=new String(p.valueOf());return x.set(p,_),d(_,p,b,x,S),_}if(typeof p=="object"&&f(p)){const _=Object.create(Object.getPrototypeOf(p));return x.set(p,_),d(_,p,b,x,S),_}return p}function d(p,m,b=p,x,S){const E=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<E.length;_++){const k=E[_],P=Object.getOwnPropertyDescriptor(p,k);(P==null||P.writable)&&(p[k]=c(m[k],k,b,x,S))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(mw)),mw}var OO;function Pte(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(hw)),hw}var zO;function Rte(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6(),n=Pte();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(ow)),ow}var bw={},xw={},ww={},PO;function Mte(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6(),n=q6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const p=s?.(l,c,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(ww)),ww}var RO;function Dte(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(xw)),xw}var _w={},Sw={},MO;function H6(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Sw)),Sw}var Ew={},DO;function Lte(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Ew)),Ew}var LO;function Vte(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=H6(),r=Lte(),i=MT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const m=d[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=s})(_w)),_w}var VO;function Bte(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6(),n=RT(),r=Dte(),i=DT(),s=Vte();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,c);return p===void 0?s.has(f,c):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(bw)),bw}var BO;function Ute(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D6(),n=Ite(),r=Rte(),i=Bte();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(aw)),aw}var UO;function Fte(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ate(),n=D6(),r=Cte(),i=Ute();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(Z1)),Z1}var Tw,FO;function qte(){return FO||(FO=1,Tw=Fte().uniqBy),Tw}var $te=qte();const qO=ls($te);function Hte(t,e,n){return e===!0?qO(t,n):typeof e=="function"?qO(t,e):t}var Aw={exports:{}},kw={},Nw={exports:{}},Cw={};var $O;function Gte(){if($O)return Cw;$O=1;var t=Dd();function e(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,b){var x=b(),S=r({inst:{value:x,getSnapshot:b}}),E=S[0].inst,_=S[1];return s(function(){E.value=x,E.getSnapshot=b,d(E)&&_({inst:E})},[m,x,b]),i(function(){return d(E)&&_({inst:E}),m(function(){d(E)&&_({inst:E})})},[m]),l(x),x}function d(m){var b=m.getSnapshot;m=m.value;try{var x=b();return!n(m,x)}catch{return!0}}function f(m,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Cw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Cw}var HO;function Kte(){return HO||(HO=1,Nw.exports=Gte()),Nw.exports}var GO;function Yte(){if(GO)return kw;GO=1;var t=Dd(),e=Kte();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return kw.useSyncExternalStoreWithSelector=function(f,p,m,b,x){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function k(U){if(!P){if(P=!0,I=U,U=b(U),x!==void 0&&E.hasValue){var z=E.value;if(x(z,U))return D=z}return D=U}if(z=D,r(I,U))return z;var C=b(U);return x!==void 0&&x(z,C)?(I=U,z):(I=U,D=C)}var P=!1,I,D,O=m===void 0?null:m;return[function(){return k(p())},O===null?void 0:function(){return k(O())}]},[p,m,b,x]);var _=i(f,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},kw}var KO;function Wte(){return KO||(KO=1,Aw.exports=Yte()),Aw.exports}var Qte=Wte(),BT=T.createContext(null),Xte=t=>t,vn=()=>{var t=T.useContext(BT);return t?t.store.dispatch:Xte},T0=()=>{},Zte=()=>T0,Jte=(t,e)=>t===e;function Ye(t){var e=T.useContext(BT);return Qte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Zte,e?e.store.getState:T0,e?e.store.getState:T0,e?t:T0,Jte)}function ene(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var YO=t=>Array.isArray(t)?t:[t];function rne(t){const e=Array.isArray(t[0])?t[0]:t;return nne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ine(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ane=class{constructor(t){this.value=t}deref(){return this.value}},sne=typeof WeakRef<"u"?WeakRef:ane,one=0,WO=1;function Hg(){return{s:one,v:void 0,o:null,p:null}}function G6(t,e={}){let n=Hg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let m=0,b=d;m<b;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const E=S.get(x);E===void 0?(c=Hg(),S.set(x,c)):c=E}else{let S=c.p;S===null&&(c.p=S=new Map);const E=S.get(x);E===void 0?(c=Hg(),S.set(x,c)):c=E}}const f=c;let p;if(c.s===WO)p=c.v;else if(p=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new sne(p):p}return f.s=WO,f.v=p,p}return l.clearCache=()=>{n=Hg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function lne(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),ene(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:m,memoizeOptions:b=[],argsMemoize:x=G6,argsMemoizeOptions:S=[]}=p,E=YO(b),_=YO(S),k=rne(i),P=m(function(){return s++,f.apply(null,arguments)},...E),I=x(function(){l++;const O=ine(k,arguments);return c=P.apply(null,O),c},..._);return Object.assign(I,{resultFunc:f,memoizedResultFunc:P,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ce=lne(G6),cne=Object.assign((t,e=ce)=>{tne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>cne}),Iw={},jw={},Ow={},QO;function une(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(Ow)),Ow}var zw={},Pw={},XO;function K6(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Pw)),Pw}var ZO;function dne(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(zw)),zw}var JO;function fne(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=une(),n=dne(),r=MT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,S)=>{let E=x;for(let _=0;_<S.length&&E!=null;++_)E=E[S[_]];return E},p=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:f(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?f(S,x):typeof S=="object"?S[x]:S,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:m.map(S=>p(S,x))})).slice().sort((x,S)=>{for(let E=0;E<m.length;E++){const _=e.compareValues(x.criteria[E],S.criteria[E],c[E]);if(_!==0)return _}return 0}).map(x=>x.original)}t.orderBy=i})(jw)),jw}var Rw={},ez;function hne(){return ez||(ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Rw)),Rw}var Mw={},tz;function Y6(){return tz||(tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6(),n=VT(),r=L6(),i=B6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(Mw)),Mw}var nz;function mne(){return nz||(nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fne(),n=hne(),r=Y6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Iw)),Iw}var Dw,rz;function pne(){return rz||(rz=1,Dw=mne().sortBy),Dw}var gne=pne();const Ov=ls(gne);var W6=t=>t.legend.settings,yne=t=>t.legend.size,vne=t=>t.legend.payload;ce([vne,W6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ov(r,n):r});var Gg=1;function bne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Gg||Math.abs(l.left-e.left)>Gg||Math.abs(l.top-e.top)>Gg||Math.abs(l.width-e.width)>Gg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xne=typeof Symbol=="function"&&Symbol.observable||"@@observable",iz=xne,Lw=()=>Math.random().toString(36).substring(7).split("").join("."),wne={INIT:`@@redux/INIT${Lw()}`,REPLACE:`@@redux/REPLACE${Lw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lw()}`},hy=wne;function UT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Q6(t,e,n){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cr(1));return n(Q6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((_,k)=>{l.set(k,_)}))}function p(){if(d)throw new Error(cr(3));return i}function m(_){if(typeof _!="function")throw new Error(cr(4));if(d)throw new Error(cr(5));let k=!0;f();const P=c++;return l.set(P,_),function(){if(k){if(d)throw new Error(cr(6));k=!1,f(),l.delete(P),s=null}}}function b(_){if(!UT(_))throw new Error(cr(7));if(typeof _.type>"u")throw new Error(cr(8));if(typeof _.type!="string")throw new Error(cr(17));if(d)throw new Error(cr(9));try{d=!0,i=r(i,_)}finally{d=!1}return(s=l).forEach(P=>{P()}),_}function x(_){if(typeof _!="function")throw new Error(cr(10));r=_,b({type:hy.REPLACE})}function S(){const _=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(cr(11));function P(){const D=k;D.next&&D.next(p())}return P(),{unsubscribe:_(P)}},[iz](){return this}}}return b({type:hy.INIT}),{dispatch:b,subscribe:m,getState:p,replaceReducer:x,[iz]:S}}function _ne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hy.INIT})>"u")throw new Error(cr(12));if(typeof n(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function X6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{_ne(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],b=n[m],x=l[m],S=b(x,c);if(typeof S>"u")throw c&&c.type,new Error(cr(14));f[m]=S,d=d||S!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function my(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Sne(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(cr(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=my(...c)(i.dispatch),{...i,dispatch:s}}}function Z6(t){return UT(t)&&"type"in t&&typeof t.type=="string"}var J6=Symbol.for("immer-nothing"),az=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function da(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gi=Object,Cd=gi.getPrototypeOf,py="constructor",zv="prototype",vS="configurable",gy="enumerable",A0="writable",fm="value",Ks=t=>!!t&&!!t[Or];function ba(t){return t?e9(t)||Rv(t)||!!t[az]||!!t[py]?.[az]||Mv(t)||Dv(t):!1}var Ene=gi[zv][py].toString(),sz=new WeakMap;function e9(t){if(!t||!FT(t))return!1;const e=Cd(t);if(e===null||e===gi[zv])return!0;const n=gi.hasOwnProperty.call(e,py)&&e[py];if(n===Object)return!0;if(!Qu(n))return!1;let r=sz.get(n);return r===void 0&&(r=Function.toString.call(n),sz.set(n,r)),r===Ene}function Pv(t,e,n=!0){Gm(t)===0?(n?Reflect.ownKeys(t):gi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gm(t){const e=t[Or];return e?e.type_:Rv(t)?1:Mv(t)?2:Dv(t)?3:0}var oz=(t,e,n=Gm(t))=>n===2?t.has(e):gi[zv].hasOwnProperty.call(t,e),bS=(t,e,n=Gm(t))=>n===2?t.get(e):t[e],yy=(t,e,n,r=Gm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Tne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Rv=Array.isArray,Mv=t=>t instanceof Map,Dv=t=>t instanceof Set,FT=t=>typeof t=="object",Qu=t=>typeof t=="function",Vw=t=>typeof t=="boolean";function Ane(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Cs=t=>t.copy_||t.base_,qT=t=>t.modified_?t.copy_:t.base_;function xS(t,e){if(Mv(t))return new Map(t);if(Dv(t))return new Set(t);if(Rv(t))return Array[zv].slice.call(t);const n=e9(t);if(e===!0||e==="class_only"&&!n){const r=gi.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[A0]===!1&&(c[A0]=!0,c[vS]=!0),(c.get||c.set)&&(r[l]={[vS]:!0,[A0]:!0,[gy]:c[gy],[fm]:t[l]})}return gi.create(Cd(t),r)}else{const r=Cd(t);if(r!==null&&n)return{...t};const i=gi.create(r);return gi.assign(i,t)}}function $T(t,e=!1){return Lv(t)||Ks(t)||!ba(t)||(Gm(t)>1&&gi.defineProperties(t,{set:Kg,add:Kg,clear:Kg,delete:Kg}),gi.freeze(t),e&&Pv(t,(n,r)=>{$T(r,!0)},!1)),t}function kne(){da(2)}var Kg={[fm]:kne};function Lv(t){return t===null||!FT(t)?!0:gi.isFrozen(t)}var vy="MapSet",wS="Patches",lz="ArrayMethods",t9={};function zc(t){const e=t9[t];return e||da(0,t),e}var cz=t=>!!t9[t],hm,n9=()=>hm,Nne=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cz(vy)?zc(vy):void 0,arrayMethodsPlugin_:cz(lz)?zc(lz):void 0});function uz(t,e){e&&(t.patchPlugin_=zc(wS),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _S(t){SS(t),t.drafts_.forEach(Cne),t.drafts_=null}function SS(t){t===hm&&(hm=t.parent_)}var dz=t=>hm=Nne(hm,t);function Cne(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fz(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Or].modified_&&(_S(e),da(4)),ba(t)&&(t=hz(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Or].base_,t,e)}else t=hz(e,n);return Ine(e,t,!0),_S(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==J6?t:void 0}function hz(t,e){if(Lv(e))return e;const n=e[Or];if(!n)return by(e,t.handledSet_,t);if(!Vv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);a9(n,t)}return n.copy_}function Ine(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$T(e,n)}function r9(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Vv=(t,e)=>t.scope_===e,jne=[];function i9(t,e,n,r){const i=Cs(t),s=t.type_;if(r!==void 0&&bS(i,r,s)===e){yy(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Pv(i,(d,f)=>{if(Ks(f)){const p=c.get(f)||[];p.push(d),c.set(f,p)}})}const l=t.draftLocations_.get(e)??jne;for(const c of l)yy(i,c,n,s)}function One(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Vv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=qT(s);i9(t,s.draft_??s,l,n),a9(s,i)})}function a9(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}r9(t)}}function zne(t,e,n){const{scope_:r}=t;if(Ks(n)){const i=n[Or];Vv(i,r)&&i.callbacks_.push(function(){k0(t);const l=qT(i);i9(t,n,l,e)})}else ba(n)&&t.callbacks_.push(function(){const s=Cs(t);t.type_===3?s.has(n)&&by(n,r.handledSet_,r):bS(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&by(bS(t.copy_,e,t.type_),r.handledSet_,r)})}function by(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(t)||e.has(t)||!ba(t)||Lv(t)||(e.add(t),Pv(t,(r,i)=>{if(Ks(i)){const s=i[Or];if(Vv(s,n)){const l=qT(s);yy(t,r,l,t.type_),r9(s)}}else ba(i)&&by(i,e,n)})),t}function Pne(t,e){const n=Rv(t),r={type_:n?1:0,scope_:e?e.scope_:n9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=xy;n&&(i=[r],s=mm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var xy={get(t,e){if(e===Or)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Cs(t);if(!oz(i,e,t.type_))return Rne(t,i,e);const s=i[e];if(t.finalized_||!ba(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Ane(e))return s;if(s===Bw(t.base_,e)){k0(t);const l=t.type_===1?+e:e,c=TS(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Cs(t)},ownKeys(t){return Reflect.ownKeys(Cs(t))},set(t,e,n){const r=s9(Cs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Bw(Cs(t),e),s=i?.[Or];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Tne(n,i)&&(n!==void 0||oz(t.base_,e,t.type_)))return!0;k0(t),ES(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),zne(t,e,n)),!0},deleteProperty(t,e){return k0(t),Bw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),ES(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[A0]:!0,[vS]:t.type_!==1||e!=="length",[gy]:r[gy],[fm]:n[e]}},defineProperty(){da(11)},getPrototypeOf(t){return Cd(t.base_)},setPrototypeOf(){da(12)}},mm={};for(let t in xy){let e=xy[t];mm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}mm.deleteProperty=function(t,e){return mm.set.call(this,t,e,void 0)};mm.set=function(t,e,n){return xy.set.call(this,t[0],e,n,t[0])};function Bw(t,e){const n=t[Or];return(n?Cs(n):t)[e]}function Rne(t,e,n){const r=s9(e,n);return r?fm in r?r[fm]:r.get?.call(t.draft_):void 0}function s9(t,e){if(!(e in t))return;let n=Cd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cd(n)}}function ES(t){t.modified_||(t.modified_=!0,t.parent_&&ES(t.parent_))}function k0(t){t.copy_||(t.assigned_=new Map,t.copy_=xS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Mne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Qu(n)&&!Qu(r)){const l=r;r=n;const c=this;return function(f=l,...p){return c.produce(f,m=>r.call(this,m,...p))}}Qu(r)||da(6),i!==void 0&&!Qu(i)&&da(7);let s;if(ba(n)){const l=dz(this),c=TS(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?_S(l):SS(l)}return uz(l,i),fz(s,l)}else if(!n||!FT(n)){if(s=r(n),s===void 0&&(s=n),s===J6&&(s=void 0),this.autoFreeze_&&$T(s,!0),i){const l=[],c=[];zc(wS).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else da(1,n)},this.produceWithPatches=(n,r)=>{if(Qu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},Vw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Vw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Vw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ba(e)||da(8),Ks(e)&&(e=ya(e));const n=dz(this),r=TS(n,e,void 0);return r[Or].isManual_=!0,SS(n),r}finishDraft(e,n){const r=e&&e[Or];(!r||!r.isManual_)&&da(9);const{scope_:i}=r;return uz(i,n),fz(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=zc(wS).applyPatches_;return Ks(e)?i(e,n):this.produce(e,s=>i(s,n))}};function TS(t,e,n,r){const[i,s]=Mv(e)?zc(vy).proxyMap_(e,n):Dv(e)?zc(vy).proxySet_(e,n):Pne(e,n);return(n?.scope_??n9()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?One(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function ya(t){return Ks(t)||da(10,t),o9(t)}function o9(t){if(!ba(t)||Lv(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=xS(t,!0);return Pv(n,(i,s)=>{yy(n,i,o9(s))},r),e&&(e.finalized_=!1),n}var Dne=new Mne,l9=Dne.produce;function c9(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Lne=c9(),Vne=c9,Bne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function Yi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Z6(r)&&r.type===t,n}var u9=class jh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jh.prototype)}static get[Symbol.species](){return jh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jh(...e[0].concat(this)):new jh(...e.concat(this))}};function mz(t){return ba(t)?l9(t,()=>{}):t}function Yg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Une(t){return typeof t=="boolean"}var Fne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new u9;return n&&(Une(n)?l.push(Lne):l.push(Vne(n.extraArgument))),l},d9="RTK_autoBatch",Zt=()=>t=>({payload:t,meta:{[d9]:!0}}),pz=t=>e=>{setTimeout(e,t)},f9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pz(10):t.type==="callback"?t.queueNotification:pz(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),b=r.subscribe(m);return c.add(p),()=>{b(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[d9],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},qne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new u9(t);return r&&i.push(f9(typeof r=="object"?r:void 0)),i};function $ne(t){const e=Fne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(UT(n))c=X6(n);else throw new Error(vi(1));let d;typeof r=="function"?d=r(e):d=e();let f=my;i&&(f=Bne({trace:!1,...typeof i=="object"&&i}));const p=Sne(...d),m=qne(p);let b=typeof l=="function"?l(m):m();const x=f(...b);return Q6(c,s,x)}function h9(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(vi(28));if(c in e)throw new Error(vi(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Hne(t){return typeof t=="function"}function Gne(t,e){let[n,r,i]=h9(e),s;if(Hne(t))s=()=>mz(t());else{const c=mz(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Ks(p)){const x=m(p,d);return x===void 0?p:x}else{if(ba(p))return l9(p,b=>m(b,d));{const b=m(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},c)}return l.getInitialState=s,l}var Kne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Yne=(t=21)=>{let e="",n=t;for(;n--;)e+=Kne[Math.random()*64|0];return e},Wne=Symbol.for("rtk-slice-createasyncthunk");function Qne(t,e){return`${t}/${e}`}function Xne({creators:t}={}){const e=t?.asyncThunk?.[Wne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(vi(11));const l=(typeof r.reducers=="function"?r.reducers(Jne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,D){const O=typeof I=="string"?I:I.type;if(!O)throw new Error(vi(12));if(O in d.sliceCaseReducersByType)throw new Error(vi(13));return d.sliceCaseReducersByType[O]=D,f},addMatcher(I,D){return d.sliceMatchers.push({matcher:I,reducer:D}),f},exposeAction(I,D){return d.actionCreators[I]=D,f},exposeCaseReducer(I,D){return d.sliceCaseReducersByName[I]=D,f}};c.forEach(I=>{const D=l[I],O={reducerName:I,type:Qne(i,I),createNotation:typeof r.reducers=="function"};tre(D)?rre(O,D,f,e):ere(O,D,f)});function p(){const[I={},D=[],O=void 0]=typeof r.extraReducers=="function"?h9(r.extraReducers):[r.extraReducers],U={...I,...d.sliceCaseReducersByType};return Gne(r.initialState,z=>{for(let C in U)z.addCase(C,U[C]);for(let C of d.sliceMatchers)z.addMatcher(C.matcher,C.reducer);for(let C of D)z.addMatcher(C.matcher,C.reducer);O&&z.addDefaultCase(O)})}const m=I=>I,b=new Map,x=new WeakMap;let S;function E(I,D){return S||(S=p()),S(I,D)}function _(){return S||(S=p()),S.getInitialState()}function k(I,D=!1){function O(z){let C=z[I];return typeof C>"u"&&D&&(C=Yg(x,O,_)),C}function U(z=m){const C=Yg(b,D,()=>new WeakMap);return Yg(C,z,()=>{const R={};for(const[V,L]of Object.entries(r.selectors??{}))R[V]=Zne(L,z,()=>Yg(x,z,_),D);return R})}return{reducerPath:I,getSelectors:U,get selectors(){return U(O)},selectSlice:O}}const P={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...k(s),injectInto(I,{reducerPath:D,...O}={}){const U=D??s;return I.inject({reducerPath:U,reducer:E},O),{...P,...k(U,!0)}}};return P}}function Zne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Qr=Xne();function Jne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ere({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!nre(r))throw new Error(vi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Yi(t,l):Yi(t))}function tre(t){return t._reducerDefinitionType==="asyncThunk"}function nre(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rre({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Wg,pending:c||Wg,rejected:d||Wg,settled:f||Wg})}function Wg(){}var ire="task",m9="listener",p9="completed",HT="cancelled",are=`task-${HT}`,sre=`task-${p9}`,AS=`${m9}-${HT}`,ore=`${m9}-${p9}`,Bv=class{constructor(t){this.code=t,this.message=`${ire} ${HT} (reason: ${t})`}name="TaskAbortError";message},GT=(t,e)=>{if(typeof t!="function")throw new TypeError(vi(32))},wy=()=>{},g9=(t,e=wy)=>(t.catch(e),t),y9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vc=t=>{if(t.aborted)throw new Bv(t.reason)};function v9(t,e){let n=wy;return new Promise((r,i)=>{const s=()=>i(new Bv(t.reason));if(t.aborted){s();return}n=y9(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=wy})}var lre=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Bv?"cancelled":"rejected",error:n}}finally{e?.()}},_y=t=>e=>g9(v9(t,e).then(n=>(vc(t),n))),b9=t=>{const e=_y(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:id}=Object,gz={},Uv="listenerMiddleware",cre=(t,e)=>{const n=r=>y9(t,()=>r.abort(t.reason));return(r,i)=>{GT(r);const s=new AbortController;n(s);const l=lre(async()=>{vc(t),vc(s.signal);const c=await r({pause:_y(s.signal),delay:b9(s.signal),signal:s.signal});return vc(s.signal),c},()=>s.abort(sre));return i?.autoJoin&&e.push(l.catch(wy)),{result:_y(t)(l),cancel(){s.abort(are)}}}},ure=(t,e)=>{const n=async(r,i)=>{vc(e);let s=()=>{};const c=[new Promise((d,f)=>{let p=t({predicate:r,effect:(m,b)=>{b.unsubscribe(),d([m,b.getState(),b.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await v9(e,Promise.race(c));return vc(e),d}finally{s()}};return(r,i)=>g9(n(r,i))},x9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Yi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vi(21));return GT(s),{predicate:i,type:e,effect:s}},w9=id(t=>{const{type:e,predicate:n,effect:r}=x9(t);return{id:Yne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>w9}),yz=(t,e)=>{const{type:n,effect:r,predicate:i}=x9(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},kS=t=>{t.pending.forEach(e=>{e.abort(AS)})},dre=(t,e)=>()=>{for(const n of e.keys())kS(n);t.clear()},vz=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_9=id(Yi(`${Uv}/add`),{withTypes:()=>_9}),fre=Yi(`${Uv}/removeAll`),S9=id(Yi(`${Uv}/remove`),{withTypes:()=>S9}),hre=(...t)=>{console.error(`${Uv}/error`,...t)},Km=(t={})=>{const e=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:s,onError:l=hre}=t;GT(l);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&kS(x)}),d=x=>{const S=yz(e,x)??w9(x);return c(S)};id(d,{withTypes:()=>d});const f=x=>{const S=yz(e,x);return S&&(S.unsubscribe(),x.cancelActive&&kS(S)),!!S};id(f,{withTypes:()=>f});const p=async(x,S,E,_)=>{const k=new AbortController,P=ure(d,k.signal),I=[];try{x.pending.add(k),r(x),await Promise.resolve(x.effect(S,id({},E,{getOriginalState:_,condition:(D,O)=>P(D,O).then(Boolean),take:P,delay:b9(k.signal),pause:_y(k.signal),extra:s,signal:k.signal,fork:cre(k.signal,I),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,O,U)=>{D!==k&&(D.abort(AS),U.delete(D))})},cancel:()=>{k.abort(AS),x.pending.delete(k)},throwIfCancelled:()=>{vc(k.signal)}})))}catch(D){D instanceof Bv||vz(l,D,{raisedBy:"effect"})}finally{await Promise.all(I),k.abort(ore),i(x),x.pending.delete(k)}},m=dre(e,n);return{middleware:x=>S=>E=>{if(!Z6(E))return S(E);if(_9.match(E))return d(E.payload);if(fre.match(E)){m();return}if(S9.match(E))return f(E.payload);let _=x.getState();const k=()=>{if(_===gz)throw new Error(vi(23));return _};let P;try{if(P=S(E),e.size>0){const I=x.getState(),D=Array.from(e.values());for(const O of D){let U=!1;try{U=O.predicate(E,I,_)}catch(z){U=!1,vz(l,z,{raisedBy:"predicate"})}U&&p(O,E,x,k)}}}finally{_=gz}return P},startListening:d,stopListening:f,clearListeners:m}};function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E9=Qr({name:"chartLayout",initialState:mre,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:pre,setLayout:gre,setChartSize:yre,setScale:vre}=E9.actions,bre=E9.reducer;function T9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function sn(t){return Number.isFinite(t)}function pl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e,n){return Qn(t)||Qn(e)?n:ss(e)?Nd(t,e,n):typeof e=="function"?e(t):n}var Sre=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&$e(t[s]))return Xu(Xu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&$e(t[l]))return Xu(Xu({},t),{},{[l]:t[l]+(i||0)})}return t},Fc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",xz=1e-4,Ere=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-xz,s=Math.max(r[0],r[1])+xz,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Tre=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(i[0]=n),(!$e(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Are=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var p=f[1],m=f[0],b=as(p)?m:p;b>=0?(f[0]=s,f[1]=s+b,s=p):(f[0]=l,f[1]=l+b,l=p)}}}},kre=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=as(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},Nre={sign:Are,expand:Jee,none:Oc,silhouette:ete,wiggle:tte,positive:kre},Cre=(t,e,n)=>{var r,i=(r=Nre[n])!==null&&r!==void 0?r:Oc,s=Zee().keys(e).value((c,d)=>Number(mr(c,d,0))).order(gS).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,p)=>{var m=mr(t[p],e[d],0);Array.isArray(m)&&m.length===2&&$e(m[0])&&$e(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function Ire(t){return t==null?void 0:String(t)}var wz=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=mr(s,e.dataKey,e.scale.domain()[l]);return Qn(c)?null:e.scale(c)-i/2+r},jre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Ore=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},zre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Pre=(t,e,n)=>{if(t!=null)return zre(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var p=T9(f,e,n),m=Ore(p);return!sn(m[0])||!sn(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},_z=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ov(e,p=>p.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Ez(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Xu(Xu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function A9(t,e){if(t)return String(t);if(typeof e=="string")return e}var Rre=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Mre=(t,e)=>e==="centric"?t.angle:t.radius,no=t=>t.layout.width,ro=t=>t.layout.height,Dre=t=>t.layout.scale,k9=t=>t.layout.margin,Fv=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qv=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Lre="data-recharts-item-index",Vre="data-recharts-item-id",Ym=60;function Tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qre=t=>t.brush.height;function $re(t){var e=qv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function Hre(t){var e=qv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function Gre(t){var e=Fv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Kre(t){var e=Fv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Xn=ce([no,ro,k9,qre,$re,Hre,Gre,Kre,W6,yne],(t,e,n,r,i,s,l,c,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Qg(Qg({},m),p),x=b.bottom;b.bottom+=r,b=Sre(b,d,f);var S=t-b.left-b.right,E=e-b.top-b.bottom;return Qg(Qg({brushBottom:x},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),Yre=ce(Xn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),KT=ce(no,ro,(t,e)=>({x:0,y:0,width:t,height:e})),Wre=T.createContext(null),Ei=()=>T.useContext(Wre)!=null,$v=t=>t.brush,Hv=ce([$v,Xn,k9],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:$e(t.width)?t.width:e.width})),Uw={},Fw={},qw={},Az;function Qre(){return Az||(Az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{f&&p(),E()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,c=null},_=()=>{p()},k=function(...P){if(i?.aborted)return;l=this,c=P;const I=b==null;x(),d&&I&&p()};return k.schedule=x,k.cancel=E,k.flush=_,i?.addEventListener("abort",E,{once:!0}),k}t.debounce=e})(qw)),qw}var kz;function Xre(){return kz||(kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const b=e.debounce(function(...E){p=r.apply(this,E),m=null},i,{edges:f}),x=function(...E){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=r.apply(this,E),m=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return x.cancel=b.cancel,x.flush=S,x}t.debounce=n})(Fw)),Fw}var Nz;function Zre(){return Nz||(Nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(Uw)),Uw}var $w,Cz;function Jre(){return Cz||(Cz=1,$w=Zre().throttle),$w}var eie=Jre();const tie=ls(eie);var Iz=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},N9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Gs(r)?t:Number(r),d=Gs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},nie={width:0,height:0,overflow:"visible"},rie={width:0,overflowX:"visible"},iie={height:0,overflowY:"visible"},aie={},sie=t=>{var{width:e,height:n}=t,r=Gs(e),i=Gs(n);return r&&i?nie:r?rie:i?iie:aie};function oie(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(null,arguments)}function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return(e=cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C9=T.createContext({width:-1,height:-1});function die(t){return pl(t.width)&&pl(t.height)}function I9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return die(i)?T.createElement(C9.Provider,{value:i},e):null}var YT=()=>T.useContext(C9),fie=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:p=0,id:m,className:b,onResize:x,style:S={}}=t,E=T.useRef(null),_=T.useRef();_.current=x,T.useImperativeHandle(e,()=>E.current);var[k,P]=T.useState({containerWidth:r.width,containerHeight:r.height}),I=T.useCallback((C,R)=>{P(V=>{var L=Math.round(C),$=Math.round(R);return V.containerWidth===L&&V.containerHeight===$?V:{containerWidth:L,containerHeight:$}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Hm;var C=$=>{var B,{width:xe,height:Ae}=$[0].contentRect;I(xe,Ae),(B=_.current)===null||B===void 0||B.call(_,xe,Ae)};p>0&&(C=tie(C,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),{width:V,height:L}=E.current.getBoundingClientRect();return I(V,L),R.observe(E.current),()=>{R.disconnect()}},[I,p]);var{containerWidth:D,containerHeight:O}=k;Iz(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:z}=N9(D,O,{width:i,height:s,aspect:n,maxHeight:d});return Iz(U!=null&&U>0||z!=null&&z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,z,i,s,l,c,n),T.createElement("div",{id:m?"".concat(m):void 0,className:be("recharts-responsive-container",b),style:Oz(Oz({},S),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},T.createElement("div",{style:sie({width:i,height:s})},T.createElement(I9,{width:U,height:z},f)))}),j9=T.forwardRef((t,e)=>{var n=YT();if(pl(n.width)&&pl(n.height))return t.children;var{width:r,height:i}=oie({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=N9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return $e(s)&&$e(l)?T.createElement(I9,{width:s,height:l},t.children):T.createElement(fie,NS({},t,{width:r,height:i,ref:e}))});function O9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Gv=()=>{var t,e=Ei(),n=Ye(Yre),r=Ye(Hv),i=(t=Ye($v))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mie=()=>{var t;return(t=Ye(Xn))!==null&&t!==void 0?t:hie},pie=()=>Ye(no),gie=()=>Ye(ro),Ot=t=>t.layout.layoutType,Wm=()=>Ye(Ot),yie=()=>{var t=Wm();return t!==void 0},Kv=t=>{var e=vn(),n=Ei(),{width:r,height:i}=t,s=YT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&pl(l)&&pl(c)&&e(yre({width:l,height:c}))},[e,n,l,c]),null},z9=Symbol.for("immer-nothing"),zz=Symbol.for("immer-draftable"),_i=Symbol.for("immer-state");function fa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pm=Object.getPrototypeOf;function Id(t){return!!t&&!!t[_i]}function Pc(t){return t?P9(t)||Array.isArray(t)||!!t[zz]||!!t.constructor?.[zz]||Qm(t)||Wv(t):!1}var vie=Object.prototype.constructor.toString(),Pz=new WeakMap;function P9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Pz.get(n);return r===void 0&&(r=Function.toString.call(n),Pz.set(n,r)),r===vie}function Ey(t,e,n=!0){Yv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Yv(t){const e=t[_i];return e?e.type_:Array.isArray(t)?1:Qm(t)?2:Wv(t)?3:0}function CS(t,e){return Yv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R9(t,e,n){const r=Yv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qm(t){return t instanceof Map}function Wv(t){return t instanceof Set}function tc(t){return t.copy_||t.base_}function IS(t,e){if(Qm(t))return new Map(t);if(Wv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=P9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_i];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(pm(t),r)}else{const r=pm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function WT(t,e=!1){return Qv(t)||Id(t)||!Pc(t)||(Yv(t)>1&&Object.defineProperties(t,{set:Xg,add:Xg,clear:Xg,delete:Xg}),Object.freeze(t),e&&Object.values(t).forEach(n=>WT(n,!0))),t}function xie(){fa(2)}var Xg={value:xie};function Qv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wie={};function Rc(t){const e=wie[t];return e||fa(0,t),e}var gm;function M9(){return gm}function _ie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rz(t,e){e&&(Rc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jS(t){OS(t),t.drafts_.forEach(Sie),t.drafts_=null}function OS(t){t===gm&&(gm=t.parent_)}function Mz(t){return gm=_ie(gm,t)}function Sie(t){const e=t[_i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Dz(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_i].modified_&&(jS(e),fa(4)),Pc(t)&&(t=Ty(e,t),e.parent_||Ay(e,t)),e.patches_&&Rc("Patches").generateReplacementPatches_(n[_i].base_,t,e.patches_,e.inversePatches_)):t=Ty(e,n,[]),jS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==z9?t:void 0}function Ty(t,e,n){if(Qv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_i];if(!i)return Ey(e,(s,l)=>Lz(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ay(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),Ey(l,(d,f)=>Lz(t,i,s,d,f,n,c),r),Ay(t,s,!1),n&&t.patches_&&Rc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Lz(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Qv(i);if(!(c&&!l)){if(Id(i)){const d=s&&e&&e.type_!==3&&!CS(e.assigned_,r)?s.concat(r):void 0,f=Ty(t,i,d);if(R9(n,r,f),Id(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Pc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Ty(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Qm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ay(t,i)}}}function Ay(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&WT(e,n)}function Eie(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:M9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=QT;n&&(i=[r],s=ym);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var QT={get(t,e){if(e===_i)return t;const n=tc(t);if(!CS(n,e))return Tie(t,n,e);const r=n[e];return t.finalized_||!Pc(r)?r:r===Hw(t.base_,e)?(Gw(t),t.copy_[e]=PS(r,t)):r},has(t,e){return e in tc(t)},ownKeys(t){return Reflect.ownKeys(tc(t))},set(t,e,n){const r=D9(tc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hw(tc(t),e),s=i?.[_i];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bie(n,i)&&(n!==void 0||CS(t.base_,e)))return!0;Gw(t),zS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Gw(t),zS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=tc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fa(11)},getPrototypeOf(t){return pm(t.base_)},setPrototypeOf(){fa(12)}},ym={};Ey(QT,(t,e)=>{ym[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ym.deleteProperty=function(t,e){return ym.set.call(this,t,e,void 0)};ym.set=function(t,e,n){return QT.set.call(this,t[0],e,n,t[0])};function Hw(t,e){const n=t[_i];return(n?tc(n):t)[e]}function Tie(t,e,n){const r=D9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function D9(t,e){if(!(e in t))return;let n=pm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=pm(n)}}function zS(t){t.modified_||(t.modified_=!0,t.parent_&&zS(t.parent_))}function Gw(t){t.copy_||(t.copy_=IS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Aie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&fa(6),r!==void 0&&typeof r!="function"&&fa(7);let i;if(Pc(e)){const s=Mz(this),l=PS(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?jS(s):OS(s)}return Rz(s,r),Dz(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===z9&&(i=void 0),this.autoFreeze_&&WT(i,!0),r){const s=[],l=[];Rc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else fa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pc(t)||fa(8),Id(t)&&(t=kie(t));const e=Mz(this),n=PS(t,void 0);return n[_i].isManual_=!0,OS(e),n}finishDraft(t,e){const n=t&&t[_i];(!n||!n.isManual_)&&fa(9);const{scope_:r}=n;return Rz(r,e),Dz(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rc("Patches").applyPatches_;return Id(t)?r(t,e):this.produce(t,i=>r(i,e))}};function PS(t,e){const n=Qm(t)?Rc("MapSet").proxyMap_(t,e):Wv(t)?Rc("MapSet").proxySet_(t,e):Eie(t,e);return(e?e.scope_:M9()).drafts_.push(n),n}function kie(t){return Id(t)||fa(10,t),L9(t)}function L9(t){if(!Pc(t)||Qv(t))return t;const e=t[_i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=IS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=IS(t,!0);return Ey(n,(i,s)=>{R9(n,i,L9(s))},r),e&&(e.finalized_=!1),n}var Nie=new Aie;Nie.produce;var Cie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},V9=Qr({name:"legend",initialState:Cie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ya(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Zt()},removeLegendPayload:{reducer(t,e){var n=ya(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Zt()}}}),{setLegendSize:Cve,setLegendSettings:Ive,addLegendPayload:Iie,replaceLegendPayload:jie,removeLegendPayload:Oie}=V9.actions,zie=V9.reducer;function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(null,arguments)}function Vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return(e=Rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Die(t){return Array.isArray(t)&&ss(t[0])&&ss(t[1])?t.join(" ~ "):t}var Lie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:b=!1}=t,x=()=>{if(s&&s.length){var O={padding:0,margin:0},U=(c?Ov(s,c):s).map((z,C)=>{if(z.type==="none")return null;var R=z.formatter||l||Die,{value:V,name:L}=z,$=V,B=L;if(R){var xe=R(V,L,z,C,s);if(Array.isArray(xe))[$,B]=xe;else if(xe!=null)$=xe;else return null}var Ae=Kw({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Ae},ss(B)?T.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ss(B)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},$),T.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:O},U)}return null},S=Kw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Kw({margin:0},i),_=!Qn(p),k=_?p:"",P=be("recharts-default-tooltip",d),I=be("recharts-tooltip-label",f);_&&m&&s!==void 0&&s!==null&&(k=m(p,s));var D=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",RS({className:P,style:S},D),T.createElement("p",{className:I,style:E},T.isValidElement(k)?k:"".concat(k)),x())},vh="recharts-tooltip-wrapper",Vie={visibility:"hidden"};function Bie(t){var{coordinate:e,translateX:n,translateY:r}=t;return be(vh,{["".concat(vh,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(vh,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(vh,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(vh,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function Bz(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&$e(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?p:m;var b=d[r];if(b==null)return 0;if(l[r]){var x=p,S=b;return x<S?Math.max(m,b):Math.max(p,b)}if(f==null)return 0;var E=m+c,_=b+f;return E>_?Math.max(p,b):Math.max(m,b)}function Uie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Fie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,p,m;return l.height>0&&l.width>0&&n?(p=Bz({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=Bz({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Uie({translateX:p,translateY:m,useTranslate3d:c})):f=Vie,{cssProperties:f,cssClasses:Bie({translateX:p,translateY:m,coordinate:n})}}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(r){MS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MS(t,e,n){return(e=qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hie extends T.PureComponent{constructor(){super(...arguments),MS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),MS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:m,useTranslate3d:b,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:_,hasPortalFromProps:k}=this.props,{cssClasses:P,cssProperties:I}=Fie({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:x}),D=k?{}:Zg(Zg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),O=Zg(Zg({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:O,ref:_},s)}}var B9=()=>{var t;return(t=Ye(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(null,arguments)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z={curveBasisClosed:Uee,curveBasisOpen:Fee,curveBasis:Bee,curveBumpX:Aee,curveBumpY:kee,curveLinearClosed:qee,curveLinear:Iv,curveMonotoneX:$ee,curveMonotoneY:Hee,curveNatural:Gee,curveStep:Kee,curveStepAfter:Wee,curveStepBefore:Yee},ky=t=>sn(t.x)&&sn(t.y),Hz=t=>t.base!=null&&ky(t.base)&&ky(t),bh=t=>t.x,xh=t=>t.y,Wie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($m(t));return(n==="curveMonotone"||n==="curveBump")&&e?$z["".concat(n).concat(e==="vertical"?"Y":"X")]:$z[n]||Iv},Qie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=Wie(e,i),c=s?n.filter(ky):n,d;if(Array.isArray(r)){var f=n.map((x,S)=>qz(qz({},x),{},{base:r[S]}));i==="vertical"?d=$g().y(xh).x1(bh).x0(x=>x.base.x):d=$g().x(bh).y1(xh).y0(x=>x.base.y);var p=d.defined(Hz).curve(l),m=s?f.filter(Hz):f;return p(m)}i==="vertical"&&$e(r)?d=$g().y(xh).x1(bh).x0(r):$e(r)?d=$g().x(bh).y1(xh).y0(r):d=w6().x(bh).y(xh);var b=d.defined(ky).curve(l);return b(c)},U9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Wm();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?Qie(l):r;return T.createElement("path",DS({},ml(t),xte(t),{className:be("recharts-curve",e),d:c===null?void 0:c,ref:i}))},Xie=["x","y","top","left","width","height","className"];function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(null,arguments)}function Gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t,e){if(t==null)return{};var n,r,i=rae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iae=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),aae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=nae(t,Xie),f=Zie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!$e(e)||!$e(n)||!$e(s)||!$e(l)||!$e(r)||!$e(i)?null:T.createElement("path",LS({},Ki(f),{className:be("recharts-cross",c),d:iae(e,n,s,l,r,i)}))};function sae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),F9=(t,e,n)=>t.map(r=>"".concat(uae(r)," ").concat(e,"ms ").concat(n)).join(","),dae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),vm=(t,e)=>Object.keys(e).reduce((n,r)=>Yz(Yz({},n),{},{[r]:t(r,e[r])}),{});function Wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=mae(t,"string");return typeof e=="symbol"?e:e+""}function mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ny=(t,e,n)=>t+(e-t)*n,VS=t=>{var{from:e,to:n}=t;return e!==n},q9=(t,e,n)=>{var r=vm((i,s)=>{if(VS(s)){var[l,c]=t(s.from,s.to,s.velocity);return Pn(Pn({},s),{},{from:l,velocity:c})}return s},e);return n<1?vm((i,s)=>VS(s)&&r[i]!=null?Pn(Pn({},s),{},{velocity:Ny(s.velocity,r[i].velocity,n),from:Ny(s.from,r[i].from,n)}):s,e):q9(t,r,n-1)};function pae(t,e,n,r,i,s){var l,c=r.reduce((b,x)=>Pn(Pn({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>vm((b,x)=>x.from,c),f=()=>!Object.values(c).filter(VS).length,p=null,m=b=>{l||(l=b);var x=b-l,S=x/n.dt;c=q9(n,c,S),i(Pn(Pn(Pn({},t),e),d())),l=b,f()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var b;(b=p)===null||b===void 0||b()})}function gae(t,e,n,r,i,s,l){var c=null,d=i.reduce((m,b)=>{var x=t[b],S=e[b];return x==null||S==null?m:Pn(Pn({},m),{},{[b]:[x,S]})},{}),f,p=m=>{f||(f=m);var b=(m-f)/r,x=vm((E,_)=>Ny(..._,n(b)),d);if(s(Pn(Pn(Pn({},t),e),x)),b<1)c=l.setTimeout(p);else{var S=vm((E,_)=>Ny(..._,n(1)),d);s(Pn(Pn(Pn({},t),e),S))}};return()=>(c=l.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const yae=(t,e,n,r,i,s)=>{var l=dae(t,e);return n==null?()=>(i(Pn(Pn({},t),e)),()=>{}):n.isStepper===!0?pae(t,e,n,l,i,s):gae(t,e,n,r,l,i,s)};var Cy=1e-4,$9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],H9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Qz=(t,e)=>n=>{var r=$9(t,e);return H9(r,n)},vae=(t,e)=>n=>{var r=$9(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return H9(i,n)},bae=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},xae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=bae(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},wae=(t,e,n,r)=>{var i=Qz(t,n),s=Qz(e,r),l=vae(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,m=p,b=0;b<8;++b){var x=i(m)-p,S=l(m);if(Math.abs(x-p)<Cy||S<Cy)return s(m);m=c(m-x/S)}return s(m)};return d.isStepper=!1,d},Xz=function(){return wae(...xae(...arguments))},_ae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,p=d*r,m=d+(f-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Cy&&Math.abs(m)<Cy?[c,0]:[b,m]};return s.isStepper=!0,s.dt=i,s},Sae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xz(t);case"spring":return _ae();default:if(t.split("(")[0]==="cubic-bezier")return Xz(t)}return typeof t=="function"?t:null};function Eae(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Tae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Aae(){return Eae(new Tae)}var kae=T.createContext(Aae);function Nae(t,e){var n=T.useContext(kae);return T.useMemo(()=>e??n(t),[t,e,n])}var Cae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xv={isSsr:Cae()},Iae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Zz={t:0},Yw={t:1};function XT(t){var e=Qi(t,Iae),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,p=n==="auto"?!Xv.isSsr:n,m=Nae(e.animationId,e.animationManager),[b,x]=T.useState(p?Zz:Yw),S=T.useRef(null);return T.useEffect(()=>{p||x(Yw)},[p]),T.useEffect(()=>{if(!p||!r)return Hm;var E=yae(Zz,Yw,Sae(s),i,x,m.getTimeoutController()),_=()=>{S.current=E()};return m.start([d,l,_,i,c]),()=>{m.stop(),S.current&&S.current(),c()}},[p,r,i,s,l,d,c,m]),f(b.t)}function ZT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(dm(e)),r=T.useRef(t);return r.current!==t&&(n.current=dm(e),r.current=t),n.current}var jae=["radius"],Oae=["radius"],Jz,eP,tP,nP,rP,iP,aP,sP,oP,lP;function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(null,arguments)}function dP(t,e){if(t==null)return{};var n,r,i=Mae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fP=(t,e,n,r,i)=>{var s=nl(n),l=nl(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,m;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],x=0,S=4;x<S;x++)b[x]=i[x]>c?c:i[x];m=un(Jz||(Jz=$a(["M",",",""])),t,e+d*b[0]),b[0]>0&&(m+=un(eP||(eP=$a(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+f*b[0],e)),m+=un(tP||(tP=$a(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(m+=un(nP||(nP=$a(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),m+=un(rP||(rP=$a(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(m+=un(iP||(iP=$a(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-f*b[2],e+r)),m+=un(aP||(aP=$a(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(m+=un(sP||(sP=$a(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),m+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);m=un(oP||(oP=$a(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,p,t+f*E,e,t+n-f*E,e,E,E,p,t+n,e+d*E,t+n,e+r-d*E,E,E,p,t+n-f*E,e+r,t+f*E,e+r,E,E,p,t,e+r-d*E)}else m=un(lP||(lP=$a(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},hP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G9=t=>{var e=Qi(t,hP),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:p}=e,{animationEasing:m,animationDuration:b,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=e,_=T.useRef(c),k=T.useRef(d),P=T.useRef(s),I=T.useRef(l),D=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),O=ZT(D,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var U=be("recharts-rectangle",p);if(!E){var z=Ki(e),{radius:C}=z,R=dP(z,jae);return T.createElement("path",Iy({},R,{x:nl(s),y:nl(l),width:nl(c),height:nl(d),radius:typeof f=="number"?f:void 0,className:U,d:fP(s,l,c,d,f)}))}var V=_.current,L=k.current,$=P.current,B=I.current,xe="0px ".concat(r===-1?1:r,"px"),Ae="".concat(r,"px 0px"),Y=F9(["strokeDasharray"],b,typeof m=="string"?m:hP.animationEasing);return T.createElement(XT,{animationId:O,key:O,canBegin:r>0,duration:b,easing:m,isActive:E,begin:x},re=>{var ie=fr(V,c,re),ye=fr(L,d,re),ke=fr($,s,re),q=fr(B,l,re);n.current&&(_.current=ie,k.current=ye,P.current=ke,I.current=q);var K;S?re>0?K={transition:Y,strokeDasharray:Ae}:K={strokeDasharray:xe}:K={strokeDasharray:Ae};var Q=Ki(e),{radius:oe}=Q,de=dP(Q,Oae);return T.createElement("path",Iy({},de,{radius:typeof f=="number"?f:void 0,className:U,d:fP(ke,q,ie,ye,f),ref:n,style:uP(uP({},K),e.style)}))})};function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jy=Math.PI/180,Bae=t=>t*180/Math.PI,hr=(t,e,n,r)=>({x:t+Math.cos(-jy*r)*n,y:e+Math.sin(-jy*r)*n}),Uae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Fae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},qae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=Fae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:Bae(d),angleInRadian:d}},$ae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Hae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},Gae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=qae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=$ae(e),p=s,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?pP(pP({},e),{},{radius:i,angle:Hae(p,e)}):null};function K9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=hr(e,n,r,i),c=hr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var gP,yP,vP,bP,xP,wP,_P;function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(null,arguments)}function uc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Kae=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,p=Math.asin(c/f)/jy,m=d?i:i+s*p,b=hr(e,n,f,m),x=hr(e,n,r,m),S=d?i-s*p:i,E=hr(e,n,f*Math.cos(p*jy),S);return{center:b,circleTangency:x,lineTangency:E,theta:p}},Y9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=Kae(s,l),d=s+c,f=hr(e,n,i,s),p=hr(e,n,i,d),m=un(gP||(gP=uc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),p.x,p.y);if(r>0){var b=hr(e,n,r,s),x=hr(e,n,r,d);m+=un(yP||(yP=uc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else m+=un(vP||(vP=uc(["L ",","," Z"])),e,n);return m},Yae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,p=pi(f-d),{circleTangency:m,lineTangency:b,theta:x}=Jg({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:S,lineTangency:E,theta:_}=Jg({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-x-_;if(k<0)return l?un(bP||(bP=uc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):Y9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P=un(xP||(xP=uc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),m.x,m.y,i,i,+(k>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:I,lineTangency:D,theta:O}=Jg({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:U,lineTangency:z,theta:C}=Jg({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=c?Math.abs(d-f):Math.abs(d-f)-O-C;if(R<0&&s===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+=un(wP||(wP=uc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),z.x,z.y,s,s,+(p<0),U.x,U.y,r,r,+(R>180),+(p>0),I.x,I.y,s,s,+(p<0),D.x,D.y)}else P+=un(_P||(_P=uc(["L",",","Z"])),e,n);return P},Wae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W9=t=>{var e=Qi(t,Wae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:m}=e;if(s<i||f===p)return null;var b=be("recharts-sector",m),x=s-i,S=va(l,x,0,!0),E;return S>0&&Math.abs(f-p)<360?E=Yae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):E=Y9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),T.createElement("path",BS({},Ki(e),{className:b,d:E}))};function Qae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(M6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=hr(r,i,s,c),f=hr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return K9(e)}}var Ww={},Qw={},Xw={},SP;function Xae(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Xw)),Xw}var EP;function Zae(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Qw)),Qw}var TP;function Jae(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y6(),n=Zae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(Ww)),Ww}var Zw,AP;function ese(){return AP||(AP=1,Zw=Jae().range),Zw}var tse=ese();const Q9=ls(tse);function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JT(t){let e,n,r;t.length!==2?(e=cl,n=(c,d)=>cl(t(c),d),r=(c,d)=>t(c)-d):(e=t===cl||t===nse?t:rse,n=t,r=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function s(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(c,d,f=0,p=c.length){const m=i(c,d,f,p-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:l,right:s}}function rse(){return 0}function X9(t){return t===null?NaN:+t}function*ise(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ase=JT(cl),Xm=ase.right;JT(X9).center;class kP extends Map{constructor(e,n=lse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NP(this,e))}has(e){return super.has(NP(this,e))}set(e,n){return super.set(sse(this,e),n)}delete(e){return super.delete(ose(this,e))}}function NP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sse({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ose({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cse(t=cl){if(t===cl)return Z9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Z9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const use=Math.sqrt(50),dse=Math.sqrt(10),fse=Math.sqrt(2);function Oy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=use?10:s>=dse?5:s>=fse?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Oy(t,e,n*2):[c,d,f]}function US(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Oy(e,t,n):Oy(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function FS(t,e,n){return e=+e,t=+t,n=+n,Oy(t,e,n)[2]}function qS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?FS(e,t,n):FS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function J9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Z9:cse(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*m/d+b)),S=Math.min(r,Math.floor(e+(d-f)*m/d+b));J9(t,e,x,S,i)}const s=t[e];let l=n,c=r;for(wh(t,n,e),i(t[r],s)>0&&wh(t,n,r);l<c;){for(wh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?wh(t,n,c):(++c,wh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function wh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hse(t,e,n){if(t=Float64Array.from(ise(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return IP(t);if(e>=1)return CP(t);var r,i=(r-1)*e,s=Math.floor(i),l=CP(J9(t,s).subarray(0,s+1)),c=IP(t.subarray(s+1));return l+(c-l)*(i-s)}}function mse(t,e,n=X9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function pse(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $S=Symbol("implicit");function e2(){var t=new kP,e=[],n=[],r=$S;function i(s){let l=t.get(s);if(l===void 0){if(r!==$S)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new kP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return e2(e,n).unknown(r)},Xi.apply(i,arguments),i}function t2(){var t=e2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var b=e().length,x=i<r,S=x?i:r,E=x?r:i;s=(E-S)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),S+=(E-S-s*(b-d))*p,l=s*(1-d),c&&(S=Math.round(S),l=Math.round(l));var _=pse(b).map(function(k){return S+s*k});return n(x?_.reverse():_)}return t.domain=function(b){return arguments.length?(e(b),m()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,m()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),m()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),m()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,m()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),m()):p},t.copy=function(){return t2(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Xi.apply(m(),arguments)}function eL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return eL(e())},t}function gse(){return eL(t2.apply(null,arguments).paddingInner(1))}function n2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zm(){}var bm=.7,zy=1/bm,ad="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yse=/^#([0-9a-f]{3,8})$/,vse=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),bse=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),xse=new RegExp(`^rgba\\(${ad},${ad},${ad},${xm}\\)$`),wse=new RegExp(`^rgba\\(${ns},${ns},${ns},${xm}\\)$`),_se=new RegExp(`^hsl\\(${xm},${ns},${ns}\\)$`),Sse=new RegExp(`^hsla\\(${xm},${ns},${ns},${xm}\\)$`),jP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n2(Zm,wm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OP,formatHex:OP,formatHex8:Ese,formatHsl:Tse,formatRgb:zP,toString:zP});function OP(){return this.rgb().formatHex()}function Ese(){return this.rgb().formatHex8()}function Tse(){return nL(this).formatHsl()}function zP(){return this.rgb().formatRgb()}function wm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PP(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?e0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?e0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vse.exec(t))?new Kr(e[1],e[2],e[3],1):(e=bse.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xse.exec(t))?e0(e[1],e[2],e[3],e[4]):(e=wse.exec(t))?e0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_se.exec(t))?DP(e[1],e[2]/100,e[3]/100,1):(e=Sse.exec(t))?DP(e[1],e[2]/100,e[3]/100,e[4]):jP.hasOwnProperty(t)?PP(jP[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function PP(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function e0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function Ase(t){return t instanceof Zm||(t=wm(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function HS(t,e,n,r){return arguments.length===1?Ase(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}n2(Kr,HS,tL(Zm,{brighter(t){return t=t==null?zy:Math.pow(zy,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(bc(this.r),bc(this.g),bc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RP,formatHex:RP,formatHex8:kse,formatRgb:MP,toString:MP}));function RP(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function kse(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function MP(){const t=Py(this.opacity);return`${t===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${t===1?")":`, ${t})`}`}function Py(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dc(t){return t=bc(t),(t<16?"0":"")+t.toString(16)}function DP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ha(t,e,n,r)}function nL(t){if(t instanceof ha)return new ha(t.h,t.s,t.l,t.opacity);if(t instanceof Zm||(t=wm(t)),!t)return new ha;if(t instanceof ha)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new ha(l,c,d,t.opacity)}function Nse(t,e,n,r){return arguments.length===1?nL(t):new ha(t,e,n,r??1)}function ha(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}n2(ha,Nse,tL(Zm,{brighter(t){return t=t==null?zy:Math.pow(zy,t),new ha(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new ha(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kr(Jw(t>=240?t-240:t+120,i,r),Jw(t,i,r),Jw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ha(LP(this.h),t0(this.s),t0(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Py(this.opacity);return`${t===1?"hsl(":"hsla("}${LP(this.h)}, ${t0(this.s)*100}%, ${t0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LP(t){return t=(t||0)%360,t<0?t+360:t}function t0(t){return Math.max(0,Math.min(1,t||0))}function Jw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const r2=t=>()=>t;function Cse(t,e){return function(n){return t+n*e}}function Ise(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jse(t){return(t=+t)==1?rL:function(e,n){return n-e?Ise(e,n,t):r2(isNaN(e)?n:e)}}function rL(t,e){var n=e-t;return n?Cse(t,n):r2(isNaN(t)?e:t)}const VP=(function t(e){var n=jse(e);function r(i,s){var l=n((i=HS(i)).r,(s=HS(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=rL(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function Ose(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function zse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=nf(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function Rse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ry(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var GS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e_=new RegExp(GS.source,"g");function Dse(t){return function(){return t}}function Lse(t){return function(e){return t(e)+""}}function Vse(t,e){var n=GS.lastIndex=e_.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=GS.exec(t))&&(i=e_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Ry(r,i)})),n=e_.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?Lse(d[0].x):Dse(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function nf(t,e){var n=typeof e,r;return e==null||n==="boolean"?r2(e):(n==="number"?Ry:n==="string"?(r=wm(e))?(e=r,VP):Vse:e instanceof wm?VP:e instanceof Date?Rse:zse(e)?Ose:Array.isArray(e)?Pse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mse:Ry)(t,e)}function i2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bse(t,e){e===void 0&&(e=t,t=nf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function Use(t){return function(){return t}}function My(t){return+t}var BP=[0,1];function Cr(t){return t}function KS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Use(isNaN(e)?NaN:.5)}function Fse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qse(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=KS(i,r),s=n(l,s)):(r=KS(r,i),s=n(s,l)),function(c){return s(r(c))}}function $se(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=KS(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Xm(t,c,1,r)-1;return s[d](i[d](c))}}function Jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zv(){var t=BP,e=BP,n=nf,r,i,s,l=Cr,c,d,f;function p(){var b=Math.min(t.length,e.length);return l!==Cr&&(l=Fse(t[0],t[b-1])),c=b>2?$se:qse,d=f=null,m}function m(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return m.invert=function(b){return l(i((f||(f=c(e,t.map(r),Ry)))(b)))},m.domain=function(b){return arguments.length?(t=Array.from(b,My),p()):t.slice()},m.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},m.rangeRound=function(b){return e=Array.from(b),n=i2,p()},m.clamp=function(b){return arguments.length?(l=b?!0:Cr,p()):l!==Cr},m.interpolate=function(b){return arguments.length?(n=b,p()):n},m.unknown=function(b){return arguments.length?(s=b,m):s},function(b,x){return r=b,i=x,p()}}function a2(){return Zv()(Cr,Cr)}function Hse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jd(t){return t=Dy(Math.abs(t)),t?t[1]:NaN}function Gse(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Kse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Yse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(t){if(!(e=Yse.exec(t)))throw new Error("invalid format: "+t);var e;return new s2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_m.prototype=s2.prototype;function s2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iL;function Qse(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(iL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Dy(t,Math.max(0,e+s-1))[0]}function UP(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const FP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UP(t*100,e),r:UP,s:Qse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qP(t){return t}var $P=Array.prototype.map,HP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xse(t){var e=t.grouping===void 0||t.thousands===void 0?qP:Gse($P.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?qP:Kse($P.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=_m(m);var b=m.fill,x=m.align,S=m.sign,E=m.symbol,_=m.zero,k=m.width,P=m.comma,I=m.precision,D=m.trim,O=m.type;O==="n"?(P=!0,O="g"):FP[O]||(I===void 0&&(I=12),D=!0,O="g"),(_||b==="0"&&x==="=")&&(_=!0,b="0",x="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",z=E==="$"?r:/[%p]/.test(O)?l:"",C=FP[O],R=/[defgprs%]/.test(O);I=I===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function V(L){var $=U,B=z,xe,Ae,Y;if(O==="c")B=C(L)+B,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?d:C(Math.abs(L),I),D&&(L=Wse(L)),re&&+L==0&&S!=="+"&&(re=!1),$=(re?S==="("?S:c:S==="-"||S==="("?"":S)+$,B=(O==="s"?HP[8+iL/3]:"")+B+(re&&S==="("?")":""),R){for(xe=-1,Ae=L.length;++xe<Ae;)if(Y=L.charCodeAt(xe),48>Y||Y>57){B=(Y===46?i+L.slice(xe+1):L.slice(xe))+B,L=L.slice(0,xe);break}}}P&&!_&&(L=e(L,1/0));var ie=$.length+L.length+B.length,ye=ie<k?new Array(k-ie+1).join(b):"";switch(P&&_&&(L=e(ye+L,ye.length?k-B.length:1/0),ye=""),x){case"<":L=$+L+B+ye;break;case"=":L=$+ye+L+B;break;case"^":L=ye.slice(0,ie=ye.length>>1)+$+L+B+ye.slice(ie);break;default:L=ye+$+L+B;break}return s(L)}return V.toString=function(){return m+""},V}function p(m,b){var x=f((m=_m(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(jd(b)/3)))*3,E=Math.pow(10,-S),_=HP[8+S/3];return function(k){return x(E*k)+_}}return{format:f,formatPrefix:p}}var n0,o2,aL;Zse({thousands:",",grouping:[3],currency:["$",""]});function Zse(t){return n0=Xse(t),o2=n0.format,aL=n0.formatPrefix,n0}function Jse(t){return Math.max(0,-jd(Math.abs(t)))}function eoe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jd(e)/3)))*3-jd(Math.abs(t)))}function toe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jd(e)-jd(t))+1}function sL(t,e,n,r){var i=qS(t,e,n),s;switch(r=_m(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=eoe(i,l))&&(r.precision=s),aL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=toe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Jse(i))&&(r.precision=s-(r.type==="%")*2);break}}return o2(r)}function _l(t){var e=t.domain;return t.ticks=function(n){var r=e();return US(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,p=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=FS(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function oL(){var t=a2();return t.copy=function(){return Jm(t,oL())},Xi.apply(t,arguments),_l(t)}function lL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,My),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lL(t).unknown(e)},t=arguments.length?Array.from(t,My):[0,1],_l(n)}function cL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function GP(t){return Math.log(t)}function KP(t){return Math.exp(t)}function noe(t){return-Math.log(-t)}function roe(t){return-Math.exp(-t)}function ioe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aoe(t){return t===10?ioe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function soe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YP(t){return(e,n)=>-t(-e,n)}function l2(t){const e=t(GP,KP),n=e.domain;let r=10,i,s;function l(){return i=soe(r),s=aoe(r),n()[0]<0?(i=YP(i),s=YP(s),t(noe,roe)):t(GP,KP),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let b=i(f),x=i(p),S,E;const _=c==null?10:+c;let k=[];if(!(r%1)&&x-b<_){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<f)){if(E>p)break;k.push(E)}}else for(;b<=x;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<f)){if(E>p)break;k.push(E)}k.length*2<_&&(k=US(f,p,_))}else k=US(b,x,Math.min(x-b,_)).map(s);return m?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=_m(d)).precision==null&&(d.trim=!0),d=o2(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},e.nice=()=>n(cL(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function uL(){const t=l2(Zv()).domain([1,10]);return t.copy=()=>Jm(t,uL()).base(t.base()),Xi.apply(t,arguments),t}function WP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c2(t){var e=1,n=t(WP(e),QP(e));return n.constant=function(r){return arguments.length?t(WP(e=+r),QP(e)):e},_l(n)}function dL(){var t=c2(Zv());return t.copy=function(){return Jm(t,dL()).constant(t.constant())},Xi.apply(t,arguments)}function XP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ooe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function loe(t){return t<0?-t*t:t*t}function u2(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(ooe,loe):t(XP(n),XP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_l(e)}function d2(){var t=u2(Zv());return t.copy=function(){return Jm(t,d2()).exponent(t.exponent())},Xi.apply(t,arguments),t}function coe(){return d2.apply(null,arguments).exponent(.5)}function ZP(t){return Math.sign(t)*t*t}function uoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fL(){var t=a2(),e=[0,1],n=!1,r;function i(s){var l=uoe(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(ZP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,My)).map(ZP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return fL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Xi.apply(i,arguments),_l(i)}function hL(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=mse(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Xm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(cl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return hL().domain(t).range(e).unknown(r)},Xi.apply(s,arguments)}function mL(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Xm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return mL().domain([t,e]).range(i).unknown(s)},Xi.apply(_l(l),arguments)}function pL(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Xm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return pL().domain(t).range(e).unknown(n)},Xi.apply(i,arguments)}const t_=new Date,n_=new Date;function Dn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Dn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(t_.setTime(+s),n_.setTime(+l),t(t_),t(n_),Math.floor(n(t_,n_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ly=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ly.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ly);Ly.range;const Ms=1e3,$i=Ms*60,Ds=$i*60,Ys=Ds*24,f2=Ys*7,JP=Ys*30,r_=Ys*365,fc=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCSeconds());fc.range;const h2=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());h2.range;const m2=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());m2.range;const p2=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getHours());p2.range;const g2=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCHours());g2.range;const ep=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/Ys,t=>t.getDate()-1);ep.range;const Jv=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);Jv.range;const gL=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));gL.range;function qc(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/f2)}const eb=qc(0),Vy=qc(1),doe=qc(2),foe=qc(3),Od=qc(4),hoe=qc(5),moe=qc(6);eb.range;Vy.range;doe.range;foe.range;Od.range;hoe.range;moe.range;function $c(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/f2)}const tb=$c(0),By=$c(1),poe=$c(2),goe=$c(3),zd=$c(4),yoe=$c(5),voe=$c(6);tb.range;By.range;poe.range;goe.range;zd.range;yoe.range;voe.range;const y2=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());y2.range;const v2=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());v2.range;const Ws=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ws.range;const Qs=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qs.range;function yL(t,e,n,r,i,s){const l=[[fc,1,Ms],[fc,5,5*Ms],[fc,15,15*Ms],[fc,30,30*Ms],[s,1,$i],[s,5,5*$i],[s,15,15*$i],[s,30,30*$i],[i,1,Ds],[i,3,3*Ds],[i,6,6*Ds],[i,12,12*Ds],[r,1,Ys],[r,2,2*Ys],[n,1,f2],[e,1,JP],[e,3,3*JP],[t,1,r_]];function c(f,p,m){const b=p<f;b&&([f,p]=[p,f]);const x=m&&typeof m.range=="function"?m:d(f,p,m),S=x?x.range(f,+p+1):[];return b?S.reverse():S}function d(f,p,m){const b=Math.abs(p-f)/m,x=JT(([,,_])=>_).right(l,b);if(x===l.length)return t.every(qS(f/r_,p/r_,m));if(x===0)return Ly.every(Math.max(qS(f,p,m),1));const[S,E]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return S.every(E)}return[c,d]}const[boe,xoe]=yL(Qs,v2,tb,gL,g2,m2),[woe,_oe]=yL(Ws,y2,eb,ep,p2,h2);function i_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function a_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _h(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Soe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=Sh(i),p=Eh(i),m=Sh(s),b=Eh(s),x=Sh(l),S=Eh(l),E=Sh(c),_=Eh(c),k=Sh(d),P=Eh(d),I={a:re,A:ie,b:ye,B:ke,c:null,d:aR,e:aR,f:Goe,g:nle,G:ile,H:qoe,I:$oe,j:Hoe,L:vL,m:Koe,M:Yoe,p:q,q:K,Q:lR,s:cR,S:Woe,u:Qoe,U:Xoe,V:Zoe,w:Joe,W:ele,x:null,X:null,y:tle,Y:rle,Z:ale,"%":oR},D={a:Q,A:oe,b:de,B:ge,c:null,d:sR,e:sR,f:cle,g:ble,G:wle,H:sle,I:ole,j:lle,L:xL,m:ule,M:dle,p:we,q:Ne,Q:lR,s:cR,S:fle,u:hle,U:mle,V:ple,w:gle,W:yle,x:null,X:null,y:vle,Y:xle,Z:_le,"%":oR},O={a:V,A:L,b:$,B,c:xe,d:rR,e:rR,f:Voe,g:nR,G:tR,H:iR,I:iR,j:Roe,L:Loe,m:Poe,M:Moe,p:R,q:zoe,Q:Uoe,s:Foe,S:Doe,u:Noe,U:Coe,V:Ioe,w:koe,W:joe,x:Ae,X:Y,y:nR,Y:tR,Z:Ooe,"%":Boe};I.x=U(n,I),I.X=U(r,I),I.c=U(e,I),D.x=U(n,D),D.X=U(r,D),D.c=U(e,D);function U(H,pe){return function(Ce){var X=[],Ve=-1,Oe=0,We=H.length,Ze,it,Et;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ve<We;)H.charCodeAt(Ve)===37&&(X.push(H.slice(Oe,Ve)),(it=eR[Ze=H.charAt(++Ve)])!=null?Ze=H.charAt(++Ve):it=Ze==="e"?" ":"0",(Et=pe[Ze])&&(Ze=Et(Ce,it)),X.push(Ze),Oe=Ve+1);return X.push(H.slice(Oe,Ve)),X.join("")}}function z(H,pe){return function(Ce){var X=_h(1900,void 0,1),Ve=C(X,H,Ce+="",0),Oe,We;if(Ve!=Ce.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(pe&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Oe=a_(_h(X.y,0,1)),We=Oe.getUTCDay(),Oe=We>4||We===0?By.ceil(Oe):By(Oe),Oe=Jv.offset(Oe,(X.V-1)*7),X.y=Oe.getUTCFullYear(),X.m=Oe.getUTCMonth(),X.d=Oe.getUTCDate()+(X.w+6)%7):(Oe=i_(_h(X.y,0,1)),We=Oe.getDay(),Oe=We>4||We===0?Vy.ceil(Oe):Vy(Oe),Oe=ep.offset(Oe,(X.V-1)*7),X.y=Oe.getFullYear(),X.m=Oe.getMonth(),X.d=Oe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),We="Z"in X?a_(_h(X.y,0,1)).getUTCDay():i_(_h(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(We+5)%7:X.w+X.U*7-(We+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,a_(X)):i_(X)}}function C(H,pe,Ce,X){for(var Ve=0,Oe=pe.length,We=Ce.length,Ze,it;Ve<Oe;){if(X>=We)return-1;if(Ze=pe.charCodeAt(Ve++),Ze===37){if(Ze=pe.charAt(Ve++),it=O[Ze in eR?pe.charAt(Ve++):Ze],!it||(X=it(H,Ce,X))<0)return-1}else if(Ze!=Ce.charCodeAt(X++))return-1}return X}function R(H,pe,Ce){var X=f.exec(pe.slice(Ce));return X?(H.p=p.get(X[0].toLowerCase()),Ce+X[0].length):-1}function V(H,pe,Ce){var X=x.exec(pe.slice(Ce));return X?(H.w=S.get(X[0].toLowerCase()),Ce+X[0].length):-1}function L(H,pe,Ce){var X=m.exec(pe.slice(Ce));return X?(H.w=b.get(X[0].toLowerCase()),Ce+X[0].length):-1}function $(H,pe,Ce){var X=k.exec(pe.slice(Ce));return X?(H.m=P.get(X[0].toLowerCase()),Ce+X[0].length):-1}function B(H,pe,Ce){var X=E.exec(pe.slice(Ce));return X?(H.m=_.get(X[0].toLowerCase()),Ce+X[0].length):-1}function xe(H,pe,Ce){return C(H,e,pe,Ce)}function Ae(H,pe,Ce){return C(H,n,pe,Ce)}function Y(H,pe,Ce){return C(H,r,pe,Ce)}function re(H){return l[H.getDay()]}function ie(H){return s[H.getDay()]}function ye(H){return d[H.getMonth()]}function ke(H){return c[H.getMonth()]}function q(H){return i[+(H.getHours()>=12)]}function K(H){return 1+~~(H.getMonth()/3)}function Q(H){return l[H.getUTCDay()]}function oe(H){return s[H.getUTCDay()]}function de(H){return d[H.getUTCMonth()]}function ge(H){return c[H.getUTCMonth()]}function we(H){return i[+(H.getUTCHours()>=12)]}function Ne(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var pe=U(H+="",I);return pe.toString=function(){return H},pe},parse:function(H){var pe=z(H+="",!1);return pe.toString=function(){return H},pe},utcFormat:function(H){var pe=U(H+="",D);return pe.toString=function(){return H},pe},utcParse:function(H){var pe=z(H+="",!0);return pe.toString=function(){return H},pe}}}var eR={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,Eoe=/^%/,Toe=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Aoe(t){return t.replace(Toe,"\\$&")}function Sh(t){return new RegExp("^(?:"+t.map(Aoe).join("|")+")","i")}function Eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function koe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function joe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tR(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ooe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zoe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Poe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Doe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Boe(t,e,n){var r=Eoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Uoe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Foe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aR(t,e){return bt(t.getDate(),e,2)}function qoe(t,e){return bt(t.getHours(),e,2)}function $oe(t,e){return bt(t.getHours()%12||12,e,2)}function Hoe(t,e){return bt(1+ep.count(Ws(t),t),e,3)}function vL(t,e){return bt(t.getMilliseconds(),e,3)}function Goe(t,e){return vL(t,e)+"000"}function Koe(t,e){return bt(t.getMonth()+1,e,2)}function Yoe(t,e){return bt(t.getMinutes(),e,2)}function Woe(t,e){return bt(t.getSeconds(),e,2)}function Qoe(t){var e=t.getDay();return e===0?7:e}function Xoe(t,e){return bt(eb.count(Ws(t)-1,t),e,2)}function bL(t){var e=t.getDay();return e>=4||e===0?Od(t):Od.ceil(t)}function Zoe(t,e){return t=bL(t),bt(Od.count(Ws(t),t)+(Ws(t).getDay()===4),e,2)}function Joe(t){return t.getDay()}function ele(t,e){return bt(Vy.count(Ws(t)-1,t),e,2)}function tle(t,e){return bt(t.getFullYear()%100,e,2)}function nle(t,e){return t=bL(t),bt(t.getFullYear()%100,e,2)}function rle(t,e){return bt(t.getFullYear()%1e4,e,4)}function ile(t,e){var n=t.getDay();return t=n>=4||n===0?Od(t):Od.ceil(t),bt(t.getFullYear()%1e4,e,4)}function ale(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function sR(t,e){return bt(t.getUTCDate(),e,2)}function sle(t,e){return bt(t.getUTCHours(),e,2)}function ole(t,e){return bt(t.getUTCHours()%12||12,e,2)}function lle(t,e){return bt(1+Jv.count(Qs(t),t),e,3)}function xL(t,e){return bt(t.getUTCMilliseconds(),e,3)}function cle(t,e){return xL(t,e)+"000"}function ule(t,e){return bt(t.getUTCMonth()+1,e,2)}function dle(t,e){return bt(t.getUTCMinutes(),e,2)}function fle(t,e){return bt(t.getUTCSeconds(),e,2)}function hle(t){var e=t.getUTCDay();return e===0?7:e}function mle(t,e){return bt(tb.count(Qs(t)-1,t),e,2)}function wL(t){var e=t.getUTCDay();return e>=4||e===0?zd(t):zd.ceil(t)}function ple(t,e){return t=wL(t),bt(zd.count(Qs(t),t)+(Qs(t).getUTCDay()===4),e,2)}function gle(t){return t.getUTCDay()}function yle(t,e){return bt(By.count(Qs(t)-1,t),e,2)}function vle(t,e){return bt(t.getUTCFullYear()%100,e,2)}function ble(t,e){return t=wL(t),bt(t.getUTCFullYear()%100,e,2)}function xle(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function wle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zd(t):zd.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function _le(){return"+0000"}function oR(){return"%"}function lR(t){return+t}function cR(t){return Math.floor(+t/1e3)}var Uu,_L,SL;Sle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sle(t){return Uu=Soe(t),_L=Uu.format,Uu.parse,SL=Uu.utcFormat,Uu.utcParse,Uu}function Ele(t){return new Date(t)}function Tle(t){return t instanceof Date?+t:+new Date(+t)}function b2(t,e,n,r,i,s,l,c,d,f){var p=a2(),m=p.invert,b=p.domain,x=f(".%L"),S=f(":%S"),E=f("%I:%M"),_=f("%I %p"),k=f("%a %d"),P=f("%b %d"),I=f("%B"),D=f("%Y");function O(U){return(d(U)<U?x:c(U)<U?S:l(U)<U?E:s(U)<U?_:r(U)<U?i(U)<U?k:P:n(U)<U?I:D)(U)}return p.invert=function(U){return new Date(m(U))},p.domain=function(U){return arguments.length?b(Array.from(U,Tle)):b().map(Ele)},p.ticks=function(U){var z=b();return t(z[0],z[z.length-1],U??10)},p.tickFormat=function(U,z){return z==null?O:f(z)},p.nice=function(U){var z=b();return(!U||typeof U.range!="function")&&(U=e(z[0],z[z.length-1],U??10)),U?b(cL(z,U)):p},p.copy=function(){return Jm(p,b2(t,e,n,r,i,s,l,c,d,f))},p}function Ale(){return Xi.apply(b2(woe,_oe,Ws,y2,eb,ep,p2,h2,fc,_L).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kle(){return Xi.apply(b2(boe,xoe,Qs,v2,tb,Jv,g2,m2,fc,SL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nb(){var t=0,e=1,n,r,i,s,l=Cr,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(b){var x,S;return arguments.length?([x,S]=b,l=m(x,S),f):[l(0),l(1)]}}return f.range=p(nf),f.rangeRound=p(i2),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EL(){var t=_l(nb()(Cr));return t.copy=function(){return Sl(t,EL())},io.apply(t,arguments)}function TL(){var t=l2(nb()).domain([1,10]);return t.copy=function(){return Sl(t,TL()).base(t.base())},io.apply(t,arguments)}function AL(){var t=c2(nb());return t.copy=function(){return Sl(t,AL()).constant(t.constant())},io.apply(t,arguments)}function x2(){var t=u2(nb());return t.copy=function(){return Sl(t,x2()).exponent(t.exponent())},io.apply(t,arguments)}function Nle(){return x2.apply(null,arguments).exponent(.5)}function kL(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>hse(t,s/r))},n.copy=function(){return kL(e).domain(t)},io.apply(n,arguments)}function rb(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Cr,p,m=!1,b;function x(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?c:d),f(m?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(m=!!E,x):m},x.interpolator=function(E){return arguments.length?(f=E,x):f};function S(E){return function(_){var k,P,I;return arguments.length?([k,P,I]=_,f=Bse(E,[k,P,I]),x):[f(0),f(.5),f(1)]}}return x.range=S(nf),x.rangeRound=S(i2),x.unknown=function(E){return arguments.length?(b=E,x):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function NL(){var t=_l(rb()(Cr));return t.copy=function(){return Sl(t,NL())},io.apply(t,arguments)}function CL(){var t=l2(rb()).domain([.1,1,10]);return t.copy=function(){return Sl(t,CL()).base(t.base())},io.apply(t,arguments)}function IL(){var t=c2(rb());return t.copy=function(){return Sl(t,IL()).constant(t.constant())},io.apply(t,arguments)}function w2(){var t=u2(rb());return t.copy=function(){return Sl(t,w2()).exponent(t.exponent())},io.apply(t,arguments)}function Cle(){return w2.apply(null,arguments).exponent(.5)}const Oh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t2,scaleDiverging:NL,scaleDivergingLog:CL,scaleDivergingPow:w2,scaleDivergingSqrt:Cle,scaleDivergingSymlog:IL,scaleIdentity:lL,scaleImplicit:$S,scaleLinear:oL,scaleLog:uL,scaleOrdinal:e2,scalePoint:gse,scalePow:d2,scaleQuantile:hL,scaleQuantize:mL,scaleRadial:fL,scaleSequential:EL,scaleSequentialLog:TL,scaleSequentialPow:x2,scaleSequentialQuantile:kL,scaleSequentialSqrt:Nle,scaleSequentialSymlog:AL,scaleSqrt:coe,scaleSymlog:dL,scaleThreshold:pL,scaleTime:Ale,scaleUtc:kle,tickFormat:sL},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,jL=ce([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),OL=(t,e,n,r)=>r?jL(t):ao(t),Ile=(t,e,n)=>n?jL(t):ao(t);function gl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(sn(e)&&sn(n))return!0}return!1}function uR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function zL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(sn(n))i=n;else if(typeof n=="function")return;if(sn(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(gl(l))return l}}function jle(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gl(r))return uR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if($e(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&_z.test(i)){var d=_z.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if($e(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&Sz.test(s)){var p=Sz.exec(s);if(p==null||p[1]==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e?.[1];var b=[l,c];if(gl(b))return e==null?b:uR(b,e,n)}}}var rf=1e9,Ole={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S2,en=!0,Wi="[DecimalError] ",xc=Wi+"Invalid argument: ",_2=Wi+"Exponent out of range: ",af=Math.floor,nc=Math.pow,zle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,Yn=1e7,Yt=7,PL=9007199254740991,Uy=af(PL/Yt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Vs(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ut(Vs(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return In(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(en=!1,e=Vs(Sm(n,s),Sm(t,s),s),en=!0,Ut(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DL(e,t):RL(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wi+"NaN");return n.s?(en=!1,e=Vs(n,t,0,1).times(t),en=!0,n.minus(e)):Ut(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return ML(this)};Pe.naturalLogarithm=Pe.ln=function(){return Sm(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RL(e,t):DL(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xc+t);if(e=In(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Wi+"NaN")}for(t=In(c),en=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Xa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=af((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Vs(c,s,l+2)).times(.5),Xa(s.d).slice(0,l)===(e=Xa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ut(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return en=!0,Ut(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,s,l,c,d,f,p=this,m=p.constructor,b=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,f=x.length,d<f&&(s=b,b=x,x=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+x[r]*b[i-r-1]+e,s[i--]=c%Yn|0,e=c/Yn|0;s[i]=(s[i]+e)%Yn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,en?Ut(t,m.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(os(t,0,rf),e===void 0?e=r.rounding:os(e,0,8),Ut(n,t+In(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mc(r,!0):(os(t,0,rf),e===void 0?e=i.rounding:os(e,0,8),r=Ut(new i(r),t+1,e),n=Mc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Mc(i):(os(t,0,rf),e===void 0?e=s.rounding:os(e,0,8),r=Ut(new s(i),t+In(i)+1,e),n=Mc(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),In(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(fi);if(c=new d(c),!c.s){if(t.s<1)throw Error(Wi+"Infinity");return c}if(c.eq(fi))return c;if(r=d.precision,t.eq(fi))return Ut(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=PL){for(i=new d(fi),e=Math.ceil(r/Yt+4),en=!1;n%2&&(i=i.times(c),fR(i.d,e)),n=af(n/2),n!==0;)c=c.times(c),fR(c.d,e);return en=!0,t.s<0?new d(fi).div(i):Ut(i,r)}}else if(s<0)throw Error(Wi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,en=!1,i=t.times(Sm(c,r+f)),en=!0,i=ML(i),i.s=s,i};Pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=In(i),r=Mc(i,n<=s.toExpNeg||n>=s.toExpPos)):(os(t,1,rf),e===void 0?e=s.rounding:os(e,0,8),i=Ut(new s(i),t,e),n=In(i),r=Mc(i,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(os(t,1,rf),e===void 0?e=r.rounding:os(e,0,8)),Ut(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return Mc(t,e<=n.toExpNeg||e>=n.toExpPos)};function RL(t,e){var n,r,i,s,l,c,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),en?Ut(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(m/Yt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Yn|0,d[s]%=Yn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,en?Ut(e,m):e}function os(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xc+t)}function Xa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(s+=Yo(n)),s+=r;l=t[e],r=l+"",n=Yt-r.length,n&&(s+=Yo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Vs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Yn|0,l=s/Yn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,p,m,b,x,S,E,_,k,P,I,D,O,U,z,C,R=r.constructor,V=r.s==i.s?1:-1,L=r.d,$=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Wi+"Division by zero");for(d=r.e-i.e,z=$.length,O=L.length,x=new R(V),S=x.d=[],f=0;$[f]==(L[f]||0);)++f;if($[f]>(L[f]||0)&&--d,s==null?P=s=R.precision:l?P=s+(In(r)-In(i))+1:P=s,P<0)return new R(0);if(P=P/Yt+2|0,f=0,z==1)for(p=0,$=$[0],P++;(f<O||p)&&P--;f++)I=p*Yn+(L[f]||0),S[f]=I/$|0,p=I%$|0;else{for(p=Yn/($[0]+1)|0,p>1&&($=t($,p),L=t(L,p),z=$.length,O=L.length),D=z,E=L.slice(0,z),_=E.length;_<z;)E[_++]=0;C=$.slice(),C.unshift(0),U=$[0],$[1]>=Yn/2&&++U;do p=0,c=e($,E,z,_),c<0?(k=E[0],z!=_&&(k=k*Yn+(E[1]||0)),p=k/U|0,p>1?(p>=Yn&&(p=Yn-1),m=t($,p),b=m.length,_=E.length,c=e(m,E,b,_),c==1&&(p--,n(m,z<b?C:$,b))):(p==0&&(c=p=1),m=$.slice()),b=m.length,b<_&&m.unshift(0),n(E,m,_),c==-1&&(_=E.length,c=e($,E,z,_),c<1&&(p++,n(E,z<_?C:$,_))),_=E.length):c===0&&(p++,E=[0]),S[f++]=p,c&&E[0]?E[_++]=L[D]||0:(E=[L[D]],_=1);while((D++<O||E[0]!==void 0)&&P--)}return S[0]||S.shift(),x.e=d,Ut(x,l?s+In(x)+1:s)}})();function ML(t,e){var n,r,i,s,l,c,d=0,f=0,p=t.constructor,m=p.precision;if(In(t)>16)throw Error(_2+In(t));if(!t.s)return new p(fi);for(en=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(nc(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new p(fi),p.precision=c;;){if(i=Ut(i.times(t),c),n=n.times(++d),l=s.plus(Vs(i,n,c)),Xa(l.d).slice(0,c)===Xa(s.d).slice(0,c)){for(;f--;)s=Ut(s.times(s),c);return p.precision=m,e==null?(en=!0,Ut(s,m)):s}s=l}}function In(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function s_(t,e,n){if(e>t.LN10.sd())throw en=!0,n&&(t.precision=n),Error(Wi+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Yo(t){for(var e="";t--;)e+="0";return e}function Sm(t,e){var n,r,i,s,l,c,d,f,p,m=1,b=10,x=t,S=x.d,E=x.constructor,_=E.precision;if(x.s<1)throw Error(Wi+(x.s?"NaN":"-Infinity"));if(x.eq(fi))return new E(0);if(e==null?(en=!1,f=_):f=e,x.eq(10))return e==null&&(en=!0),s_(E,f);if(f+=b,E.precision=f,n=Xa(S),r=n.charAt(0),s=In(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Xa(x.d),r=n.charAt(0),m++;s=In(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return d=s_(E,f+2,_).times(s+""),x=Sm(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=_,e==null?(en=!0,Ut(x,_)):x;for(c=l=x=Vs(x.minus(fi),x.plus(fi),f),p=Ut(x.times(x),f),i=3;;){if(l=Ut(l.times(p),f),d=c.plus(Vs(l,new E(i),f)),Xa(d.d).slice(0,f)===Xa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(s_(E,f+2,_).times(s+""))),c=Vs(c,new E(m),f),E.precision=_,e==null?(en=!0,Ut(c,_)):c;c=d,i+=2}}function dR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=af(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),en&&(t.e>Uy||t.e<-Uy))throw Error(_2+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,i,s,l,c,d,f,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Yt,i=e,f=m[p=0];else{if(p=Math.ceil((r+1)/Yt),s=m.length,p>=s)return t;for(f=s=m[p],l=1;s>=10;s/=10)l++;r%=Yt,i=r-Yt+l}if(n!==void 0&&(s=nc(10,l-i-1),c=f/s%10|0,d=e<0||m[p+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/nc(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(s=In(t),m.length=1,e=e-s-1,m[0]=nc(10,(Yt-e%Yt)%Yt),t.e=af(-e/Yt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=nc(10,Yt-r),m[p]=i>0?(f/nc(10,l-i)%nc(10,i)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Yn&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Yn)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(en&&(t.e>Uy||t.e<-Uy))throw Error(_2+In(t));return t}function DL(t,e){var n,r,i,s,l,c,d,f,p,m,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),en?Ut(e,x):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(x/Yt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(s=i;s&&d[--s]===0;)d[s]=Yn-1;--d[s],d[i]+=Yn}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,en?Ut(e,x):e):new b(0)}function Mc(t,e,n){var r,i=In(t),s=Xa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Yo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yo(-i-1)+s,n&&(r=n-l)>0&&(s+=Yo(r))):i>=l?(s+=Yo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Yo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Yo(r))),t.s<0?"-"+s:s}function fR(t,e){if(t.length>e)return t.length=e,!0}function LL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return dR(l,s.toString())}else if(typeof s!="string")throw Error(xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,zle.test(s))dR(l,s);else throw Error(xc+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=LL,i.config=i.set=Ple,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ple(t){if(!t||typeof t!="object")throw Error(Wi+"Object expected");var e,n,r,i=["precision",1,rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(af(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xc+n+": "+r);return this}var S2=LL(Ole);fi=new S2(1);const Ct=S2;var Rle=t=>t,VL={},BL=t=>t===VL,hR=t=>function e(){return arguments.length===0||arguments.length===1&&BL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},UL=(t,e)=>t===1?e:hR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==VL).length;return s>=t?e(...r):UL(t-s,hR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(p=>BL(p)?c.shift():p);return e(...f,...c)}))}),Mle=t=>UL(t.length,t),YS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Dle=Mle((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Lle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Rle;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function FL(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function qL(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var $L=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},HL=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=FL(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new Ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Ct(d.toNumber()):new Ct(Math.ceil(d.toNumber()))},Vle=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(FL(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var l=Math.floor((e-1)/2),c=Lle(Dle(d=>i.add(new Ct(d-l).mul(r)).toNumber()),YS);return c(0,e)},GL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=HL(new Ct(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new Ct(0):(c=new Ct(e).add(n).div(2),c=c.sub(new Ct(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Ct(n).sub(c).div(l).toNumber()),p=d+f+1;return p>r?GL(e,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:c.sub(new Ct(d).mul(l)),tickMax:c.add(new Ct(f).mul(l))})},Ble=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=$L([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...YS(0,i-1).map(()=>1/0)]:[...YS(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return Vle(c,i,s);var{step:p,tickMin:m,tickMax:b}=GL(c,d,l,s,0),x=qL(m,b.add(new Ct(.1).mul(p)),p);return n>r?x.reverse():x},Ule=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=$L([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=HL(new Ct(c).sub(l).div(d-1),s,0),p=[...qL(new Ct(l),new Ct(c),f),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},KL=t=>t.rootProps.maxBarSize,Fle=t=>t.rootProps.barGap,YL=t=>t.rootProps.barCategoryGap,qle=t=>t.rootProps.barSize,ib=t=>t.rootProps.stackOffset,WL=t=>t.rootProps.reverseStackOrder,E2=t=>t.options.chartName,T2=t=>t.rootProps.syncId,QL=t=>t.rootProps.syncMethod,A2=t=>t.options.eventEmitter,Yr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},di={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ab=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},$le={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},Hle={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:di.type,unit:void 0},Gle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kle={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:"category",unit:void 0},k2=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Gle:$le,N2=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Kle:Hle,sb=t=>t.polarOptions,C2=ce([no,ro,Xn],Uae),XL=ce([sb,C2],(t,e)=>{if(t!=null)return va(t.innerRadius,e,0)}),ZL=ce([sb,C2],(t,e)=>{if(t!=null)return va(t.outerRadius,e,e*.8)}),Yle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},JL=ce([sb],Yle);ce([k2,JL],ab);var eV=ce([C2,XL,ZL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([N2,eV],ab);var tV=ce([Ot,sb,XL,ZL,no,ro],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:va(l,i,i/2),cy:va(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Ln=(t,e)=>e,ob=(t,e,n)=>n;function I2(t){return t?.id}function nV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=I2(c);f.forEach((m,b)=>{var x=s==null||i?b:String(mr(m,s,null)),S=mr(m,c.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[p]:S}),l.set(x,E)})}}),Array.from(l.values())}function lb(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var cb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ub(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Wle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Vn=t=>{var e=Ot(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},sf=t=>t.tooltip.settings.axisId;function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WS=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rV=(t,e)=>t.cartesianAxis.xAxis[e],so=(t,e)=>{var n=rV(t,e);return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:WS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ym},iV=(t,e)=>t.cartesianAxis.yAxis[e],oo=(t,e)=>{var n=iV(t,e);return n??Gn},Jle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},j2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Jle},zr=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"zAxis":return j2(t,n);case"angleAxis":return k2(t,n);case"radiusAxis":return N2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ece=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tp=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"angleAxis":return k2(t,n);case"radiusAxis":return N2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},aV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var O2=t=>t.graphicalItems.cartesianItems,tce=ce([Ln,ob],sV),oV=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),np=ce([O2,zr,tce],oV,{memoizeOptions:{resultEqualityCheck:ub}}),lV=ce([np],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lb)),cV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),nce=ce([np],cV),uV=t=>t.map(e=>e.data).filter(Boolean).flat(1),rce=ce([np],uV,{memoizeOptions:{resultEqualityCheck:ub}}),dV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},z2=ce([rce,OL],dV),fV=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:mr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:mr(i,r)}))):t.map(r=>({value:r})),db=ce([z2,zr,np],fV);function hV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function N0(t){if(ss(t)||t instanceof Date){var e=Number(t);if(sn(e))return e}}function pR(t){if(Array.isArray(t)){var e=[N0(t[0]),N0(t[1])];return gl(e)?e:void 0}var n=N0(t);if(n!=null)return[n,n]}function Xs(t){return t.map(N0).filter(cte)}function ice(t,e,n){return!n||typeof e!="number"||as(e)?[]:n.length?Xs(n.flatMap(r=>{var i=mr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!sn(s)||!sn(l)))return[e-s,e+l]})):[]}var Bn=t=>{var e=Vn(t),n=sf(t);return tp(t,e,n)},rp=ce([Bn],t=>t?.dataKey),ace=ce([lV,OL,Bn],nV),mV=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,p=f.map(I2);return[c,{stackedData:Cre(t,p,n),graphicalItems:f}]}))},QS=ce([ace,lV,ib,WL],mV),pV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=Pre(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},sce=ce([zr],t=>t.allowDataOverflow),P2=t=>{var e;if(t==null||!("domain"in t))return WS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Xs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:WS},gV=ce([zr],P2),yV=ce([gV,sce],zL),oce=ce([QS,ao,Ln,yV],pV,{memoizeOptions:{resultEqualityCheck:cb}}),R2=t=>t.errorBars,lce=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>hV(n,r)),qy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},vV=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,p,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>hV(i,k)),b=mr(c,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),x=ice(c,b,m);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var _=pR(b);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=pR(mr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),sn(s)&&sn(l))return[s,l]},cce=ce([z2,zr,nce,R2,Ln],vV,{memoizeOptions:{resultEqualityCheck:cb}});function uce(t){var{value:e}=t;if(ss(e)||e instanceof Date)return e}var dce=(t,e,n)=>{var r=t.map(uce).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&z6(r))?Q9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},bV=t=>t.referenceElements.dots,of=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),fce=ce([bV,Ln,ob],of),xV=t=>t.referenceElements.areas,hce=ce([xV,Ln,ob],of),wV=t=>t.referenceElements.lines,mce=ce([wV,Ln,ob],of),_V=(t,e)=>{if(t!=null){var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},pce=ce(fce,Ln,_V),SV=(t,e)=>{if(t!=null){var n=Xs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},gce=ce([hce,Ln],SV);function yce(t){var e;if(t.x!=null)return Xs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xs(n)}function vce(t){var e;if(t.y!=null)return Xs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xs(n)}var EV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?yce(r):vce(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},bce=ce([mce,Ln],EV),xce=ce(pce,bce,gce,(t,e,n)=>qy(t,n,e)),TV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?qy(r,s,i):qy(s,i);return jle(e,f,t.allowDataOverflow)},wce=ce([zr,gV,yV,oce,cce,xce,Ot,Ln],TV,{memoizeOptions:{resultEqualityCheck:cb}}),_ce=[0,1],AV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Fc(e,s);if(f&&c==null){var p;return Q9(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?dce(r,t,f):i==="expand"?_ce:l}},M2=ce([zr,Ot,z2,db,ib,Ln,wce],AV),kV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat($m(s));return c in Oh?c:"point"}}},ip=ce([zr,Ot,aV,E2,Ln],kV);function Sce(t){if(t!=null){if(t in Oh)return Oh[t]();var e="scale".concat($m(t));if(e in Oh)return Oh[e]()}}function D2(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Sce(e);if(i!=null){var s=i.domain(n).range(r);return Ere(s),s}}}var NV=(t,e,n)=>{var r=P2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gl(t))return Ble(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gl(t))return Ule(t,e.tickCount,e.allowDecimals)}},L2=ce([M2,tp,ip],NV),CV=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&gl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Ece=ce([zr,M2,L2,Ln],CV),Tce=ce(db,zr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xs(t.map(m=>m.value))).sort((m,b)=>m-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var p=f-d;n=Math.min(n,p)}}return n/l}}),IV=ce(Tce,Ot,YL,Xn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!sn(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=va(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Ace=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:IV(t,"xAxis",e,n,r.padding)},kce=(t,e,n)=>{var r=oo(t,e);return r==null||typeof r.padding!="string"?0:IV(t,"yAxis",e,n,r.padding)},Nce=ce(so,Ace,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Cce=ce(oo,kce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Ice=ce([Xn,Nce,Hv,$v,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),jce=ce([Xn,Ot,Cce,Hv,$v,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ap=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Ice(t,n,r);case"yAxis":return jce(t,n,r);case"zAxis":return(i=j2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return JL(t);case"radiusAxis":return eV(t,n);default:return}},jV=ce([zr,ap],ab),fb=ce([zr,ip,Ece,jV],D2);ce([np,R2,Ln],lce);function OV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hb=(t,e)=>e,mb=(t,e,n)=>n,Oce=ce(Fv,hb,mb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OV)),zce=ce(qv,hb,mb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OV)),zV=(t,e)=>({width:t.width,height:e.height}),Pce=(t,e)=>{var n=typeof e.width=="number"?e.width:Ym;return{width:n,height:t.height}},PV=ce(Xn,so,zV),Rce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Mce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Dce=ce(ro,Xn,Oce,hb,mb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=zV(e,c);l==null&&(l=Rce(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),Lce=ce(no,Xn,zce,hb,mb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=Pce(e,c);l==null&&(l=Mce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),Vce=(t,e)=>{var n=so(t,e);if(n!=null)return Dce(t,n.orientation,n.mirror)},Bce=ce([Xn,so,Vce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Uce=(t,e)=>{var n=oo(t,e);if(n!=null)return Lce(t,n.orientation,n.mirror)},Fce=ce([Xn,oo,Uce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),RV=ce(Xn,oo,(t,e)=>{var n=typeof e.width=="number"?e.width:Ym;return{width:n,height:t.height}}),gR=(t,e,n)=>{switch(e){case"xAxis":return PV(t,n).width;case"yAxis":return RV(t,n).height;default:return}},MV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Fc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&z6(d))return d}},V2=ce([Ot,db,zr,Ln],MV),DV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Fc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},B2=ce([Ot,db,tp,Ln],DV);ce([Ot,ece,ip,fb,V2,B2,ap,L2,Ln],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Fc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var qce=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Fc(t,d),{type:p,ticks:m,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&s!=null&&s.length>=2?pi(s[0]-s[1])*2*S:S;var E=m||i;if(E){var _=E.map((k,P)=>{var I=l?l.indexOf(k):k;return{index:P,coordinate:r(I)+S,value:k,offset:S}});return _.filter(k=>sn(k.coordinate))}return f&&c?c.map((k,P)=>({coordinate:r(k)+S,value:k,index:P,offset:S})).filter(k=>sn(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+S,value:k,offset:S})):r.domain().map((k,P)=>({coordinate:r(k)+S,value:l?l[k]:k,index:P,offset:S}))}},LV=ce([Ot,tp,ip,fb,L2,ap,V2,B2,Ln],qce),$ce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Fc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?pi(r[0]-r[1])*2*f:f,c&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},Pd=ce([Ot,tp,fb,ap,V2,B2,Ln],$ce),Rd=ce(zr,fb,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})}),Hce=ce([zr,ip,M2,jV],D2);ce((t,e,n)=>j2(t,n),Hce,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})});var Gce=ce([Ot,Fv,qv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),VV=t=>t.options.defaultTooltipEventType,BV=t=>t.options.validateTooltipEventTypes;function UV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function U2(t,e){var n=VV(t),r=BV(t);return UV(e,n,r)}function Kce(t){return Ye(e=>U2(e,t))}var FV=(t,e)=>{var n,r=Number(e);if(!(as(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Yce=t=>t.tooltip.settings,el={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Wce={itemInteraction:{click:el,hover:el},axisInteraction:{click:el,hover:el},keyboardInteraction:el,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qV=Qr({name:"tooltip",initialState:Wce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ya(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Zt()},removeTooltipEntrySettings:{reducer(t,e){var n=ya(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Qce,replaceTooltipEntrySettings:Xce,removeTooltipEntrySettings:Zce,setTooltipSettingsState:Jce,setActiveMouseOverItemIndex:$V,mouseLeaveItem:eue,mouseLeaveChart:HV,setActiveClickItemIndex:tue,setMouseOverAxisIndex:GV,setMouseClickAxisIndex:nue,setSyncInteraction:XS,setKeyboardInteraction:ZS}=qV.actions,rue=qV.reducer;function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lue(t){return t.index!=null}var KV=(t,e,n,r)=>{if(e==null)return el;var i=oue(t,e,n);if(i==null)return el;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(lue(i)){if(s)return r0(r0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return r0(r0({},el),{},{coordinate:i.coordinate})};function cue(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function uue(t,e){var n=cue(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function due(t,e,n){if(n==null||e==null)return!0;var r=mr(t,e);return r==null||!gl(n)?!0:uue(r,n)}var F2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!sn(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||due(f,n,r)?String(d):null},YV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},WV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},sp=t=>t.options.tooltipPayloadSearcher,lf=t=>t.tooltip;function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){return t??e}var QV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,m=[];return t.reduce((b,x)=>{var S,{dataDefinedOnItem:E,settings:_}=x,k=pue(E,c),P=Array.isArray(k)?T9(k,f,p):k,I=(S=_?.dataKey)!==null&&S!==void 0?S:r,D=_?.nameKey,O;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?O=lte(P,r,i):O=s(P,e,d,D),Array.isArray(O))O.forEach(z=>{var C=bR(bR({},_),{},{name:z.name,unit:z.unit,color:void 0,fill:void 0});b.push(Ez({tooltipEntrySettings:C,dataKey:z.dataKey,payload:z.payload,value:mr(z.payload,z.dataKey),name:z.name}))});else{var U;b.push(Ez({tooltipEntrySettings:_,dataKey:I,payload:O,value:mr(O,I),name:(U=mr(O,D))!==null&&U!==void 0?U:_?.name}))}return b},m)}},q2=ce([Bn,Ot,aV,E2,Vn],kV),gue=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),yue=ce([Vn,sf],sV),cf=ce([gue,Bn,yue],oV,{memoizeOptions:{resultEqualityCheck:ub}}),vue=ce([cf],t=>t.filter(lb)),bue=ce([cf],uV,{memoizeOptions:{resultEqualityCheck:ub}}),uf=ce([bue,ao],dV),xue=ce([vue,ao,Bn],nV),$2=ce([uf,Bn,cf],fV),XV=ce([Bn],P2),wue=ce([Bn],t=>t.allowDataOverflow),ZV=ce([XV,wue],zL),_ue=ce([cf],t=>t.filter(lb)),Sue=ce([xue,_ue,ib,WL],mV),Eue=ce([Sue,ao,Vn,ZV],pV),Tue=ce([cf],cV),Aue=ce([uf,Bn,Tue,R2,Vn],vV,{memoizeOptions:{resultEqualityCheck:cb}}),kue=ce([bV,Vn,sf],of),Nue=ce([kue,Vn],_V),Cue=ce([xV,Vn,sf],of),Iue=ce([Cue,Vn],SV),jue=ce([wV,Vn,sf],of),Oue=ce([jue,Vn],EV),zue=ce([Nue,Oue,Iue],qy),Pue=ce([Bn,XV,ZV,Eue,Aue,zue,Ot,Vn],TV),op=ce([Bn,Ot,uf,$2,ib,Vn,Pue],AV),Rue=ce([op,Bn,q2],NV),Mue=ce([Bn,op,Rue,Vn],CV),JV=t=>{var e=Vn(t),n=sf(t),r=!1;return ap(t,e,n,r)},e8=ce([Bn,JV],ab),t8=ce([Bn,q2,Mue,e8],D2),Due=ce([Ot,$2,Bn,Vn],MV),Lue=ce([Ot,$2,Bn,Vn],DV),Vue=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Fc(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?pi(i[0]-i[1])*2*m:m,f&&l?l.map((b,x)=>({coordinate:r(b)+m,value:b,index:x,offset:m})):r.domain().map((b,x)=>({coordinate:r(b)+m,value:s?s[b]:b,index:x,offset:m}))}}},lo=ce([Ot,Bn,q2,t8,JV,Due,Lue,Vn],Vue),H2=ce([VV,BV,Yce],(t,e,n)=>UV(n.shared,t,e)),n8=t=>t.tooltip.settings.trigger,G2=t=>t.tooltip.settings.defaultIndex,lp=ce([lf,H2,n8,G2],KV),Md=ce([lp,uf,rp,op],F2),r8=ce([lo,Md],FV),i8=ce([lp],t=>{if(t)return t.dataKey});ce([lp],t=>{if(t)return t.graphicalItemId});var a8=ce([lf,H2,n8,G2],WV),Bue=ce([no,ro,Ot,Xn,lo,G2,a8,sp],YV),Uue=ce([lp,Bue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Fue=ce([lp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),que=ce([a8,Md,ao,rp,r8,sp,H2],QV);ce([que],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){$ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e,n){return(e=Hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue=()=>Ye(Bn),Yue=()=>{var t=Kue(),e=Ye(lo),n=Ye(t8);return Sy(!t||!n?void 0:wR(wR({},t),{},{scale:n}),e)};function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Xue(t,"string");return typeof e=="symbol"?e:e+""}function Xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Jue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Fu(Fu(Fu({},r),hr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Fu(Fu(Fu({},r),hr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ede(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var s8=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,p,m,b,x=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,S=(p=n[c])===null||p===void 0?void 0:p.coordinate,E=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,_=void 0;if(!(x==null||S==null||E==null))if(pi(S-x)!==pi(E-S)){var k=[];if(pi(E-S)===pi(i[1]-i[0])){_=E;var P=S+i[1]-i[0];k[0]=Math.min(P,(P+x)/2),k[1]=Math.max(P,(P+x)/2)}else{_=x;var I=E+i[1]-i[0];k[0]=Math.min(S,(I+S)/2),k[1]=Math.max(S,(I+S)/2)}var D=[Math.min(S,(_+S)/2),Math.max(S,(_+S)/2)];if(t>D[0]&&t<=D[1]||t>=k[0]&&t<=k[1]){var O;return(O=n[c])===null||O===void 0?void 0:O.index}}else{var U=Math.min(x,E),z=Math.max(x,E);if(t>(U+S)/2&&t<=(z+S)/2){var C;return(C=n[c])===null||C===void 0?void 0:C.index}}}else if(e)for(var R=0;R<l;R++){var V=e[R];if(V!=null){var L=e[R+1],$=e[R-1];if(R===0&&L!=null&&t<=(V.coordinate+L.coordinate)/2||R===l-1&&$!=null&&t>(V.coordinate+$.coordinate)/2||R>0&&R<l-1&&$!=null&&L!=null&&t>(V.coordinate+$.coordinate)/2&&t<=(V.coordinate+L.coordinate)/2)return V.index}}return-1},tde=()=>Ye(E2),K2=(t,e)=>e,o8=(t,e,n)=>n,Y2=(t,e,n,r)=>r,nde=ce(lo,t=>Ov(t,e=>e.coordinate)),W2=ce([lf,K2,o8,Y2],KV),Q2=ce([W2,uf,rp,op],F2),rde=(t,e,n)=>{if(e!=null){var r=lf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},l8=ce([lf,K2,o8,Y2],WV),$y=ce([no,ro,Ot,Xn,lo,Y2,l8,sp],YV),ide=ce([W2,$y],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),c8=ce([lo,Q2],FV),ade=ce([l8,Q2,ao,rp,c8,sp,K2],QV),sde=ce([W2,Q2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ode=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&ede(t,l)){var c=Rre(t,e),d=s8(c,s,i,n,r),f=Zue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},lde=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=Gae(t,n);if(c){var d=Mre(c,e),f=s8(d,l,s,r,i),p=Jue(e,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},cde=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?ode(t,e,r,i,s,l,c):lde(t,e,n,r,i,s,l)},ude=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),dde=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Yr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Wle}});function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde={},gde={zIndexMap:Object.values(Yr).reduce((t,e)=>ER(ER({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),pde)},yde=new Set(Object.values(Yr));function vde(t){return yde.has(t)}var u8=Qr({name:"zIndex",initialState:gde,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!vde(n)&&delete t.zIndexMap[n])},prepare:Zt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Zt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Zt()}}}),{registerZIndexPortal:bde,unregisterZIndexPortal:xde,registerZIndexPortalElement:wde,unregisterZIndexPortalElement:_de}=u8.actions,Sde=u8.reducer;function El(t){var{zIndex:e,children:n}=t,r=yie(),i=r&&e!==void 0&&e!==0,s=Ei(),l=vn();T.useLayoutEffect(()=>i?(l(bde({zIndex:e})),()=>{l(xde({zIndex:e}))}):Hm,[l,e,i]);var c=Ye(d=>ude(d,e,s));return i?c?bE.createPortal(n,c):null:n}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(null,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ede(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=Ade(t,"string");return typeof e=="symbol"?e:e+""}function Ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kde(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Nde(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:p}=t,m=n,b=r,x=i;if(!d||!m||p!=="ScatterChart"&&f!=="axis")return null;var S,E,_;if(p==="ScatterChart")S=m,E=aae,_=Yr.cursorLine;else if(p==="BarChart")S=sae(c,m,s,l),E=G9,_=Yr.cursorRectangle;else if(c==="radial"&&M6(m)){var{cx:k,cy:P,radius:I,startAngle:D,endAngle:O}=K9(m);S={cx:k,cy:P,startAngle:D,endAngle:O,innerRadius:I,outerRadius:I},E=W9,_=Yr.cursorLine}else S={points:Qae(c,m,s)},E=U9,_=Yr.cursorLine;var U=typeof d=="object"&&"className"in d?d.className:void 0,z=i0(i0(i0(i0({stroke:"#ccc",pointerEvents:"none"},s),S),jT(d)),{},{payload:b,payloadIndex:x,className:be("recharts-tooltip-cursor",U)});return T.createElement(El,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},T.createElement(kde,{cursor:d,cursorComp:E,cursorProps:z}))}function Cde(t){var e=Yue(),n=mie(),r=Wm(),i=tde();return e==null||n==null||r==null||i==null?null:T.createElement(Nde,JS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var d8=T.createContext(null),Ide=()=>T.useContext(d8),o_={exports:{}},AR;function jde(){return AR||(AR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,m,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,b),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,x=m.length,S=new Array(x);b<x;b++)S[b]=m[b].fn;return S},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,b,x,S){var E=n?n+f:f;if(!this._events[E])return!1;var _=this._events[E],k=arguments.length,P,I;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,b),!0;case 5:return _.fn.call(_.context,p,m,b,x),!0;case 6:return _.fn.call(_.context,p,m,b,x,S),!0}for(I=1,P=new Array(k-1);I<k;I++)P[I-1]=arguments[I];_.fn.apply(_.context,P)}else{var D=_.length,O;for(I=0;I<D;I++)switch(_[I].once&&this.removeListener(f,_[I].fn,void 0,!0),k){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,m);break;case 4:_[I].fn.call(_[I].context,p,m,b);break;default:if(!P)for(O=1,P=new Array(k-1);O<k;O++)P[O-1]=arguments[O];_[I].fn.apply(_[I].context,P)}}return!0},c.prototype.on=function(f,p,m){return s(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return s(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,b){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!b||S.once)&&(!m||S.context===m)&&l(this,x);else{for(var E=0,_=[],k=S.length;E<k;E++)(S[E].fn!==p||b&&!S[E].once||m&&S[E].context!==m)&&_.push(S[E]);_.length?this._events[x]=_.length===1?_[0]:_:l(this,x)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(o_)),o_.exports}var Ode=jde();const zde=ls(Ode);var Em=new zde,eE="recharts.syncEvent.tooltip",kR="recharts.syncEvent.brush";function Pde(t,e){if(e){var n=Number.parseInt(e,10);if(!as(n))return t?.[n]}}var Rde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f8=Qr({name:"options",initialState:Rde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Mde=f8.reducer,{createEventEmitter:Dde}=f8.actions;function Lde(t){return t.tooltip.syncInteraction}var Vde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h8=Qr({name:"chartData",initialState:Vde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:NR,setDataStartEndIndexes:Bde,setComputedData:jve}=h8.actions,Ude=h8.reducer,Fde=["x","y"];function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return(e=$de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gde(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yde(){var t=Ye(T2),e=Ye(A2),n=vn(),r=Ye(QL),i=Ye(lo),s=Wm(),l=Gv(),c=Ye(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return Hm;var d=(f,p,m)=>{if(e!==m&&t===f){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:S,y:E}=x,_=Gde(x,Fde),{x:k,y:P,width:I,height:D}=p.payload.sourceViewBox,O=qu(qu({},_),{},{x:l.x+(I?(S-k)/I:0)*l.width,y:l.y+(D?(E-P)/D:0)*l.height});n(qu(qu({},p),{},{payload:qu(qu({},p.payload),{},{coordinate:O})}))}else n(p);return}if(i!=null){var U;if(typeof r=="function"){var z={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=r(i,z);U=i[C]}else r==="value"&&(U=i.find(Y=>String(Y.value)===p.payload.label));var{coordinate:R}=p.payload;if(U==null||p.payload.active===!1||R==null||l==null){n(XS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:L}=R,$=Math.min(V,l.x+l.width),B=Math.min(L,l.y+l.height),xe={x:s==="horizontal"?U.coordinate:$,y:s==="horizontal"?B:U.coordinate},Ae=XS({active:p.payload.active,coordinate:xe,dataKey:p.payload.dataKey,index:String(U.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ae)}}};return Em.on(eE,d),()=>{Em.off(eE,d)}},[c,n,e,t,r,i,s,l])}function Wde(){var t=Ye(T2),e=Ye(A2),n=vn();T.useEffect(()=>{if(t==null)return Hm;var r=(i,s,l)=>{e!==l&&t===i&&n(Bde(s))};return Em.on(kR,r),()=>{Em.off(kR,r)}},[n,e,t])}function Qde(){var t=vn();T.useEffect(()=>{t(Dde())},[t]),Yde(),Wde()}function Xde(t,e,n,r,i,s){var l=Ye(x=>rde(x,t,e)),c=Ye(A2),d=Ye(T2),f=Ye(QL),p=Ye(Lde),m=p?.active,b=Gv();T.useEffect(()=>{if(!m&&d!=null&&c!=null){var x=XS({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Em.emit(eE,d,x,c)}},[m,n,l,i,r,c,d,f,s,b])}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e,n){return(e=Jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tfe(t){return t.dataKey}function nfe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Lie,e)}var OR=[],rfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function m8(t){var e,n,r=Qi(t,rfe),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:b,position:x,reverseDirection:S,useTranslate3d:E,wrapperStyle:_,cursor:k,shared:P,trigger:I,defaultIndex:D,portal:O,axisId:U}=r,z=vn(),C=typeof D=="number"?String(D):D;T.useEffect(()=>{z(Jce({shared:P,trigger:I,axisId:U,active:i,defaultIndex:C}))},[z,P,I,U,i,C]);var R=Gv(),V=B9(),L=Kce(P),{activeIndex:$,isActive:B}=(e=Ye(we=>sde(we,L,I,C)))!==null&&e!==void 0?e:{},xe=Ye(we=>ade(we,L,I,C)),Ae=Ye(we=>c8(we,L,I,C)),Y=Ye(we=>ide(we,L,I,C)),re=xe,ie=Ide(),ye=(n=i??B)!==null&&n!==void 0?n:!1,[ke,q]=bne([re,ye]),K=L==="axis"?Ae:void 0;Xde(L,I,Y,K,$,ye);var Q=O??ie;if(Q==null||R==null||L==null)return null;var oe=re??OR;ye||(oe=OR),f&&oe.length&&(oe=Hte(oe.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,tfe));var de=oe.length>0,ge=T.createElement(Hie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:ye,coordinate:Y,hasPayload:de,offset:m,position:x,reverseDirection:S,useTranslate3d:E,viewBox:R,wrapperStyle:_,lastBoundingBox:ke,innerRef:q,hasPortalFromProps:!!O},nfe(d,jR(jR({},r),{},{payload:oe,label:K,active:ye,activeIndex:$,coordinate:Y,accessibilityLayer:V})));return T.createElement(T.Fragment,null,bE.createPortal(ge,Q),ye&&T.createElement(Cde,{cursor:k,tooltipEventType:L,coordinate:Y,payload:oe,index:$}))}var pb=t=>null;pb.displayName="Cell";function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ofe{constructor(e){ife(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cfe(t,e,n){return(e=ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=dfe(t,"string");return typeof e=="symbol"?e:e+""}function dfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ffe={cacheSize:2e3,enableCache:!0},p8=lfe({},ffe),PR=new ofe(p8.cacheSize),hfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RR="recharts_measurement_span";function mfe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var MR=(t,e)=>{try{var n=document.getElementById(RR);n||(n=document.createElement("span"),n.setAttribute("id",RR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xv.isSsr)return{width:0,height:0};if(!p8.enableCache)return MR(e,n);var r=mfe(e,n),i=PR.get(r);if(i)return i;var s=MR(e,n);return PR.set(r,s),s},g8;function pfe(t,e,n){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=yfe(t,"string");return typeof e=="symbol"?e:e+""}function yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wfe=["cm","mm","pt","pc","in","Q","px"];function _fe(t){return wfe.includes(t)}var Zu="NaN";function Sfe(t,e){return t*xfe[e]}class ur{static parse(e){var n,[,r,i]=(n=bfe.exec(e))!==null&&n!==void 0?n:[];return r==null?ur.NaN:new ur(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,as(e)&&(this.unit=""),n!==""&&!vfe.test(n)&&(this.num=NaN,this.unit=""),_fe(n)&&(this.num=Sfe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ur(NaN,""):new ur(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ur(NaN,""):new ur(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ur(NaN,""):new ur(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ur(NaN,""):new ur(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return as(this.num)}}g8=ur;pfe(ur,"NaN",new g8(NaN,""));function y8(t){if(t==null||t.includes(Zu))return Zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=DR.exec(e))!==null&&n!==void 0?n:[],l=ur.parse(r??""),c=ur.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Zu;e=e.replace(DR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,m,b]=(f=LR.exec(e))!==null&&f!==void 0?f:[],x=ur.parse(p??""),S=ur.parse(b??""),E=m==="+"?x.add(S):x.subtract(S);if(E.isNaN())return Zu;e=e.replace(LR,E.toString())}return e}var VR=/\(([^()]*)\)/;function Efe(t){for(var e=t,n;(n=VR.exec(e))!=null;){var[,r]=n;e=e.replace(VR,y8(r))}return e}function Tfe(t){var e=t.replace(/\s+/g,"");return e=Efe(e),e=y8(e),e}function Afe(t){try{return Tfe(t)}catch{return Zu}}function l_(t){var e=Afe(t.slice(5,-1));return e===Zu?"":e}var kfe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nfe=["dx","dy","angle","className","breakAll"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}function BR(t,e){if(t==null)return{};var n,r,i=Cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v8=/[ \f\n\r\t\v\u2028\u2029]+/,b8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Qn(e)||(n?i=e.toString().split(""):i=e.toString().split(v8));var s=i.map(c=>({word:c,width:Hh(c,r).width})),l=n?0:Hh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Ife(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var x8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),w8=t=>t.reduce((e,n)=>e.width>n.width?e:n),jfe="",UR=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=b8({breakAll:n,style:r,children:d+jfe});if(!f)return[!1,[]];var p=x8(f.wordsWithComputedWidth,s,l,c),m=p.length>i||w8(p).width>Number(s);return[m,p]},Ofe=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=$e(s),p=String(l),m=x8(e,r,n,i);if(!f||i)return m;var b=m.length>s||w8(m).width>Number(r);if(!b)return m;for(var x=0,S=p.length-1,E=0,_;x<=S&&E<=p.length-1;){var k=Math.floor((x+S)/2),P=k-1,[I,D]=UR(p,P,d,c,s,r,n,i),[O]=UR(p,k,d,c,s,r,n,i);if(!I&&!O&&(x=k+1),I&&O&&(S=k-1),!I&&O){_=D;break}E++}return _||m},FR=t=>{var e=Qn(t)?[]:t.toString().split(v8);return[{words:e,width:void 0}]},zfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Xv.isSsr){var c,d,f=b8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,d=m}else return FR(r);return Ofe({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return FR(r)},_8="#808080",Pfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:_8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},X2=T.forwardRef((t,e)=>{var n=Qi(t,Pfe),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:p}=n,m=BR(n,kfe),b=T.useMemo(()=>zfe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:S,angle:E,className:_,breakAll:k}=m,P=BR(m,Nfe);if(!ss(r)||!ss(i)||b.length===0)return null;var I=Number(r)+($e(x)?x:0),D=Number(i)+($e(S)?S:0);if(!sn(I)||!sn(D))return null;var O;switch(p){case"start":O=l_("calc(".concat(l,")"));break;case"middle":O=l_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=l_("calc(".concat(b.length-1," * -").concat(s,")"));break}var U=[];if(d){var z=b[0].width,{width:C}=m;U.push("scale(".concat($e(C)&&$e(z)?C/z:1,")"))}return E&&U.push("rotate(".concat(E,", ").concat(I,", ").concat(D,")")),U.length&&(P.transform=U.join(" ")),T.createElement("text",tE({},Ki(P),{ref:e,x:I,y:D,className:be("recharts-text",_),textAnchor:f,fill:c.includes("url")?_8:c}),b.map((R,V)=>{var L=R.words.join(k?"":" ");return T.createElement("tspan",{x:I,dy:V===0?O:s,key:"".concat(L,"-").concat(V)},L)}))});X2.displayName="Text";var Rfe=["labelRef"],Mfe=["content"];function qR(t,e){if(t==null)return{};var n,r,i=Dfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lfe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(null,arguments)}var S8=T.createContext(null),Ufe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(S8.Provider,{value:d},c)},E8=()=>{var t=T.useContext(S8),e=Gv();return t||O9(e)},Ffe=T.createContext(null),qfe=()=>{var t=T.useContext(Ffe),e=Ye(tV);return t||e},$fe=t=>{var{value:e,formatter:n}=t,r=Qn(t.children)?e:t.children;return typeof n=="function"?n(r):r},Z2=t=>t!=null&&typeof t=="function",Hfe=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Gfe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:b,clockWise:x}=i,S=(f+p)/2,E=Hfe(m,b),_=E>=0?1:-1,k,P;switch(e){case"insideStart":k=m+_*s,P=x;break;case"insideEnd":k=b-_*s,P=!x;break;case"end":k=b+_*s,P=x;break;default:throw new Error("Unsupported position ".concat(e))}P=E<=0?P:!P;var I=hr(c,d,S,k),D=hr(c,d,S,k+(P?1:-1)*359),O="M".concat(I.x,",").concat(I.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(D.x,",").concat(D.y),U=Qn(t.id)?dm("recharts-radial-line-"):t.id;return T.createElement("text",Os({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:U,d:O})),T.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Kfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:p,y:m}=hr(r,i,l+e,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x,y:S}=hr(r,i,b,f);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},nE=t=>"cx"in t&&$e(t.cx),Yfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!nE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:p}=e,m=l,b=l+(d-f)/2,x=(m+b)/2,S=(d+f)/2,E=m+d/2,_=p>=0?1:-1,k=_*r,P=_>0?"end":"start",I=_>0?"start":"end",D=d>=0?1:-1,O=D*r,U=D>0?"end":"start",z=D>0?"start":"end";if(i==="top"){var C={x:m+d/2,y:c-k,textAnchor:"middle",verticalAnchor:P};return pn(pn({},C),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var R={x:b+f/2,y:c+p+k,textAnchor:"middle",verticalAnchor:I};return pn(pn({},R),s?{height:Math.max(s.y+s.height-(c+p),0),width:f}:{})}if(i==="left"){var V={x:x-O,y:c+p/2,textAnchor:U,verticalAnchor:"middle"};return pn(pn({},V),s?{width:Math.max(V.x-s.x,0),height:p}:{})}if(i==="right"){var L={x:x+S+O,y:c+p/2,textAnchor:z,verticalAnchor:"middle"};return pn(pn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:p}:{})}var $=s?{width:S,height:p}:{};return i==="insideLeft"?pn({x:x+O,y:c+p/2,textAnchor:z,verticalAnchor:"middle"},$):i==="insideRight"?pn({x:x+S-O,y:c+p/2,textAnchor:U,verticalAnchor:"middle"},$):i==="insideTop"?pn({x:m+d/2,y:c+k,textAnchor:"middle",verticalAnchor:I},$):i==="insideBottom"?pn({x:b+f/2,y:c+p-k,textAnchor:"middle",verticalAnchor:P},$):i==="insideTopLeft"?pn({x:m+O,y:c+k,textAnchor:z,verticalAnchor:I},$):i==="insideTopRight"?pn({x:m+d-O,y:c+k,textAnchor:U,verticalAnchor:I},$):i==="insideBottomLeft"?pn({x:b+O,y:c+p-k,textAnchor:z,verticalAnchor:P},$):i==="insideBottomRight"?pn({x:b+f-O,y:c+p-k,textAnchor:U,verticalAnchor:P},$):i&&typeof i=="object"&&($e(i.x)||Gs(i.x))&&($e(i.y)||Gs(i.y))?pn({x:l+va(i.x,S),y:c+va(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):pn({x:E,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},Wfe={angle:0,offset:5,zIndex:Yr.label,position:"middle",textBreakAll:!1};function Wo(t){var e=Qi(t,Wfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,p=qfe(),m=E8(),b=r==="center"?m:p??m,x,S,E;if(n==null?x=b:nE(n)?x=n:x=O9(n),!x||Qn(i)&&Qn(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var _=pn(pn({},e),{},{viewBox:x});if(T.isValidElement(l)){var{labelRef:k}=_,P=qR(_,Rfe);return T.cloneElement(l,P)}if(typeof l=="function"){var{content:I}=_,D=qR(_,Mfe);if(S=T.createElement(l,D),T.isValidElement(S))return S}else S=$fe(e);var O=Ki(e);if(nE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Gfe(e,r,S,O,x);E=Kfe(x,e.offset,e.position)}else E=Yfe(e,x);return T.createElement(El,{zIndex:e.zIndex},T.createElement(X2,Os({ref:f,className:be("recharts-label",c)},O,E,{textAnchor:Ife(O.textAnchor)?O.textAnchor:E.textAnchor,breakAll:d}),S))}Wo.displayName="Label";var Qfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Wo,Os({key:"label-implicit"},r)):ss(t)?T.createElement(Wo,Os({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Wo?T.cloneElement(t,pn({key:"label-implicit"},r)):T.createElement(Wo,Os({key:"label-implicit",content:t},r)):Z2(t)?T.createElement(Wo,Os({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Wo,Os({},t,{key:"label-implicit"},r)):null};function Xfe(t){var{label:e,labelRef:n}=t,r=E8();return Qfe(e,r,n)||null}var c_={},u_={},HR;function Zfe(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(u_)),u_}var d_={},GR;function Jfe(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(d_)),d_}var KR;function ehe(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zfe(),n=Jfe(),r=VT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(c_)),c_}var f_,YR;function the(){return YR||(YR=1,f_=ehe().last),f_}var nhe=the();const rhe=ls(nhe);var ihe=["valueAccessor"],ahe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function WR(t,e){if(t==null)return{};var n,r,i=she(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function she(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ohe=t=>Array.isArray(t.value)?rhe(t.value):t.value,T8=T.createContext(void 0),lhe=T8.Provider,A8=T.createContext(void 0);A8.Provider;function che(){return T.useContext(T8)}function uhe(){return T.useContext(A8)}function C0(t){var{valueAccessor:e=ohe}=t,n=WR(t,ihe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=WR(n,ahe),f=che(),p=uhe(),m=f||p;return!m||!m.length?null:T.createElement(El,{zIndex:c??Yr.label},T.createElement(Hs,{className:"recharts-label-list"},m.map((b,x)=>{var S,E=Qn(r)?e(b,x):mr(b&&b.payload,r),_=Qn(s)?{}:{id:"".concat(s,"-").concat(x)};return T.createElement(Wo,Hy({key:"label-".concat(x)},Ki(b),d,_,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}C0.displayName="LabelList";function dhe(t){var{label:e}=t;return e?e===!0?T.createElement(C0,{key:"labelList-implicit"}):T.isValidElement(e)||Z2(e)?T.createElement(C0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(C0,Hy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var fhe={radiusAxis:{},angleAxis:{}},k8=Qr({name:"polarAxis",initialState:fhe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ove,removeRadiusAxis:zve,addAngleAxis:Pve,removeAngleAxis:Rve}=k8.actions,hhe=k8.reducer,h_={exports:{}},Dt={};var QR;function mhe(){if(QR)return Dt;QR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var _=E.$$typeof;switch(_){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case m:case p:return E;case s:return E;default:return _}}case e:return _}}}return Dt.ContextConsumer=s,Dt.ContextProvider=l,Dt.Element=t,Dt.ForwardRef=c,Dt.Fragment=n,Dt.Lazy=m,Dt.Memo=p,Dt.Portal=e,Dt.Profiler=i,Dt.StrictMode=r,Dt.Suspense=d,Dt.SuspenseList=f,Dt.isContextConsumer=function(E){return S(E)===s},Dt.isContextProvider=function(E){return S(E)===l},Dt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Dt.isForwardRef=function(E){return S(E)===c},Dt.isFragment=function(E){return S(E)===n},Dt.isLazy=function(E){return S(E)===m},Dt.isMemo=function(E){return S(E)===p},Dt.isPortal=function(E){return S(E)===e},Dt.isProfiler=function(E){return S(E)===i},Dt.isStrictMode=function(E){return S(E)===r},Dt.isSuspense=function(E){return S(E)===d},Dt.isSuspenseList=function(E){return S(E)===f},Dt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},Dt.typeOf=S,Dt}var XR;function phe(){return XR||(XR=1,h_.exports=mhe()),h_.exports}var ghe=phe(),ZR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",JR=null,m_=null,N8=t=>{if(t===JR&&Array.isArray(m_))return m_;var e=[];return T.Children.forEach(t,n=>{Qn(n)||(ghe.isFragment(n)?e=e.concat(N8(n.props.children)):e.push(n))}),m_=e,JR=t,e};function yhe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>ZR(i)):r=[ZR(e)],N8(t).forEach(i=>{var s=Nd(i,"type.displayName")||Nd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var p_={},eM;function vhe(){return eM||(eM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(p_)),p_}var g_,tM;function bhe(){return tM||(tM=1,g_=vhe().isPlainObject),g_}var xhe=bhe();const whe=ls(xhe);var nM,rM,iM,aM,sM;function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function Th(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cM=(t,e,n,r,i)=>{var s=n-r,l;return l=un(nM||(nM=Th(["M ",",",""])),t,e),l+=un(rM||(rM=Th(["L ",",",""])),t+n,e),l+=un(iM||(iM=Th(["L ",",",""])),t+n-s/2,e+i),l+=un(aM||(aM=Th(["L ",",",""])),t+n-s/2-r,e+i),l+=un(sM||(sM=Th(["L ",","," Z"])),t,e),l},The={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ahe=t=>{var e=Qi(t,The),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=e,b=T.useRef(null),[x,S]=T.useState(-1),E=T.useRef(i),_=T.useRef(s),k=T.useRef(l),P=T.useRef(n),I=T.useRef(r),D=ZT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var xe=b.current.getTotalLength();xe&&S(xe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var O=be("recharts-trapezoid",c);if(!m)return T.createElement("g",null,T.createElement("path",Gy({},Ki(e),{className:O,d:cM(n,r,i,s,l)})));var U=E.current,z=_.current,C=k.current,R=P.current,V=I.current,L="0px ".concat(x===-1?1:x,"px"),$="".concat(x,"px 0px"),B=F9(["strokeDasharray"],f,d);return T.createElement(XT,{animationId:D,key:D,canBegin:x>0,duration:f,easing:d,isActive:m,begin:p},xe=>{var Ae=fr(U,i,xe),Y=fr(z,s,xe),re=fr(C,l,xe),ie=fr(R,n,xe),ye=fr(V,r,xe);b.current&&(E.current=Ae,_.current=Y,k.current=re,P.current=ie,I.current=ye);var ke=xe>0?{transition:B,strokeDasharray:$}:{strokeDasharray:L};return T.createElement("path",Gy({},Ki(e),{className:O,d:cM(ie,ye,Ae,Y,re),ref:b,style:lM(lM({},ke),e.style)}))})},khe=["option","shapeType","activeClassName"];function Nhe(t,e){if(t==null)return{};var n,r,i=Che(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jhe(t){var e=Ohe(t,"string");return typeof e=="symbol"?e:e+""}function Ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zhe(t,e){return Ky(Ky({},e),t)}function Phe(t,e){return t==="symbols"}function dM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(G9,n);case"trapezoid":return T.createElement(Ahe,n);case"sector":return T.createElement(W9,n);case"symbols":if(Phe(e))return T.createElement(R6,n);break;case"curve":return T.createElement(U9,n);default:return null}}function Rhe(t){return T.isValidElement(t)?t.props:t}function Mhe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Nhe(t,khe),s;if(T.isValidElement(e))s=T.cloneElement(e,Ky(Ky({},i),Rhe(e)));else if(typeof e=="function")s=e(i,i.index);else if(whe(e)&&typeof e!="boolean"){var l=zhe(e,i);s=T.createElement(dM,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(dM,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(Hs,{className:r},s):s}var C8=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t?.(i,s,l),r($V({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},I8=t=>{var e=vn();return(n,r)=>i=>{t?.(n,r,i),e(eue())}},j8=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t?.(i,s,l),r(tue({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Dhe(t){var{tooltipEntrySettings:e}=t,n=vn(),r=Ei(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Qce(e)):i.current!==e&&n(Xce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(Zce(i.current)),i.current=null)},[n]),null}function Lhe(t){var{legendPayload:e}=t,n=vn(),r=Ei(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Iie(e)):i.current!==e&&n(jie({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Oie(i.current)),i.current=null)},[n]),null}var y_,Vhe=()=>{var[t]=T.useState(()=>dm("uid-"));return t},Bhe=(y_=qU.useId)!==null&&y_!==void 0?y_:Vhe;function Uhe(t,e){var n=Bhe();return e||(t?"".concat(t,"-").concat(n):n)}var Fhe=T.createContext(void 0),qhe=t=>{var{id:e,type:n,children:r}=t,i=Uhe("recharts-".concat(n),e);return T.createElement(Fhe.Provider,{value:i},r(i))},$he={cartesianItems:[],polarItems:[]},O8=Qr({name:"graphicalItems",initialState:$he,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ya(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ya(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(t,e){var n=ya(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:Hhe,replaceCartesianGraphicalItem:Ghe,removeCartesianGraphicalItem:Khe,addPolarGraphicalItem:Mve,removePolarGraphicalItem:Dve}=O8.actions,Yhe=O8.reducer,Whe=t=>{var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Hhe(t)):n.current!==t&&e(Ghe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Khe(n.current)),n.current=null)},[e]),null},Qhe=T.memo(Whe);function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e,n){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z8=0,eme={xAxis:{},yAxis:{},zAxis:{}},P8=Qr({name:"cartesianAxis",initialState:eme,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=hM(hM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:tme,replaceXAxis:nme,removeXAxis:rme,addYAxis:ime,replaceYAxis:ame,removeYAxis:sme,addZAxis:Lve,replaceZAxis:Vve,removeZAxis:Bve,updateYAxisWidth:ome}=P8.actions,lme=P8.reducer,cme=ce([Xn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ume=ce([cme,no,ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),R8=()=>Ye(ume),mM=(t,e,n)=>{var r=n??t;if(!Qn(r))return va(r,e,0)},dme=(t,e,n)=>{var r={},i=t.filter(lb),s=t.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(l).map(f=>{var[p,m]=f,b=m.map(S=>S.dataKey),x=mM(e,n,m[0].barSize);return{stackId:p,dataKeys:b,barSize:x}}),d=s.map(f=>{var p=[f.dataKey].filter(b=>b!=null),m=mM(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]};function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fme(t,e,n){return(e=hme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hme(t){var e=mme(t,"string");return typeof e=="symbol"?e:e+""}function mme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pme(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=va(t,n,0,!0),c,d=[];if(sn(r[0].barSize)){var f=!1,p=n/s,m=r.reduce((k,P)=>k+(P.barSize||0),0);m+=(s-1)*l,m>=n&&(m-=(s-1)*l,l=0),m>=n&&p>0&&(f=!0,p*=.9,m=s*p);var b=(n-m)/2>>0,x={offset:b-l,size:0};c=r.reduce((k,P)=>{var I,D={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:x.offset+x.size+l,size:f?p:(I=P.barSize)!==null&&I!==void 0?I:0}},O=[...k,D];return x=O[O.length-1].position,O},d)}else{var S=va(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var _=sn(i)?Math.min(E,i):E;c=r.reduce((k,P,I)=>[...k,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:S+(E+l)*I+(E-_)/2,size:_}}],d)}return c}}var gme=(t,e,n,r,i,s,l)=>{var c=Qn(l)?e:l,d=pme(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>a0(a0({},f),{},{position:a0(a0({},f.position),{},{offset:f.position.offset-i/2})}))),d},yme=(t,e)=>{var n=I2(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function vme(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&sn(t.zIndex)?t.zIndex:e}var bme=t=>{var{chartData:e}=t,n=vn(),r=Ei();return T.useEffect(()=>r?()=>{}:(n(NR(e)),()=>{n(NR(void 0))}),[e,n,r]),null},gM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},M8=Qr({name:"brush",initialState:gM,reducers:{setBrushSettings(t,e){return e.payload==null?gM:e.payload}}}),{setBrushSettings:Uve}=M8.actions,xme=M8.reducer;function wme(t,e,n){return(e=_me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=Sme(t,"string");return typeof e=="symbol"?e:e+""}function Sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J2{static create(e){return new J2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}wme(J2,"EPS",1e-4);function Eme(t){return(t%180+180)%180}var Tme=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Eme(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Ame={dots:[],areas:[],lines:[]},D8=Qr({name:"referenceElements",initialState:Ame,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ya(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ya(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ya(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Fve,removeDot:qve,addArea:$ve,removeArea:Hve,addLine:Gve,removeLine:Kve}=D8.actions,kme=D8.reducer,Nme=T.createContext(void 0),Cme=t=>{var{children:e}=t,[n]=T.useState("".concat(dm("recharts"),"-clip")),r=R8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(Nme.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function L8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Ime(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tme(r,n)}function jme(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Tm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ome(t,e){return L8(t,e+1)}function zme(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,p=l,m=function(){var S=r?.[d];if(S===void 0)return{v:L8(r,f)};var E=d,_,k=()=>(_===void 0&&(_=n(S,E)),_),P=S.coordinate,I=d===0||Tm(t,P,k,p,c);I||(d=0,p=l,f+=1),I&&(p=P+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=m(),b)return b.v;return[]}function Pme(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var p=(l-1)%f,m=c,b=!0,x=function(){var P=r[S],I=S,D,O=()=>(D===void 0&&(D=n(P,I)),D),U=P.coordinate,z=S===p||Tm(t,U,O,m,d);if(!z)return b=!1,1;z&&(m=U+t*(O()/2+i))},S=p;S<l&&!x();S+=f);if(b){for(var E=[],_=p;_<l;_+=f)E.push(r[_]);return E}}return[]}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return(e=Mme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mme(t){var e=Dme(t,"string");return typeof e=="symbol"?e:e+""}function Dme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lme(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var x=s[b],S,E=()=>(S===void 0&&(S=n(x,b)),S);if(b===l-1){var _=t*(x.coordinate+t*E()/2-d);s[b]=x=br(br({},x),{},{tickCoord:_>0?x.coordinate-_*t:x.coordinate})}else s[b]=x=br(br({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Tm(t,x.tickCoord,E,c,d);k&&(d=x.tickCoord-t*(E()/2+i),s[b]=br(br({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function Vme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var p=r[c-1],m=n(p,c-1),b=t*(p.coordinate+t*m/2-f);if(l[c-1]=p=br(br({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var x=Tm(t,p.tickCoord,()=>m,d,f);x&&(f=p.tickCoord-t*(m/2+i),l[c-1]=br(br({},p),{},{isShow:!0}))}}for(var S=s?c-1:c,E=function(P){var I=l[P],D,O=()=>(D===void 0&&(D=n(I,P)),D);if(P===0){var U=t*(I.coordinate-t*O()/2-d);l[P]=I=br(br({},I),{},{tickCoord:U<0?I.coordinate-U*t:I.coordinate})}else l[P]=I=br(br({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var z=Tm(t,I.tickCoord,O,d,f);z&&(d=I.tickCoord+t*(O()/2+i),l[P]=br(br({},I),{},{isShow:!0}))}},_=0;_<S;_++)E(_);return l}function Bme(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:p,angle:m}=t;if(!i||!i.length||!r)return[];if($e(d)||Xv.isSsr){var b;return(b=Ome(i,$e(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],S=c==="top"||c==="bottom"?"width":"height",E=p&&S==="width"?Hh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,D)=>{var O=typeof f=="function"?f(I.value,D):I.value;return S==="width"?Ime(Hh(O,{fontSize:e,letterSpacing:n}),E,m):Hh(O,{fontSize:e,letterSpacing:n})[S]},k=i.length>=2?pi(i[1].coordinate-i[0].coordinate):1,P=jme(s,k,S);return d==="equidistantPreserveStart"?zme(k,P,_,i,l):d==="equidistantPreserveEnd"?Pme(k,P,_,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=Vme(k,P,_,i,l,d==="preserveStartEnd"):x=Lme(k,P,_,i,l),x.filter(I=>I.isShow))}var Ume=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},Fme=["axisLine","width","height","className","hide","ticks","axisType"];function qme(t,e){if(t==null)return{};var n,r,i=$me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e,n){return(e=Gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gme(t){var e=Kme(t,"string");return typeof e=="symbol"?e:e+""}function Kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yr.axis};function Yme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Nn(Nn(Nn({},d),ml(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=Nn(Nn({},f),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var m=+(s==="left"&&!l||s==="right"&&l);f=Nn(Nn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",Dc({},f,{className:be("recharts-cartesian-axis-line",Nd(c,"className"))}))}function Wme(t,e,n,r,i,s,l,c,d){var f,p,m,b,x,S,E=c?-1:1,_=t.tickSize||l,k=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=p=t.coordinate,b=n+ +!c*i,m=b-E*_,S=m-E*d,x=k;break;case"left":m=b=t.coordinate,p=e+ +!c*r,f=p-E*_,x=f-E*d,S=k;break;case"right":m=b=t.coordinate,p=e+ +c*r,f=p+E*_,x=f+E*d,S=k;break;default:f=p=t.coordinate,b=n+ +c*i,m=b+E*_,S=m+E*d,x=k;break}return{line:{x1:f,y1:m,x2:p,y2:b},tick:{x,y:S}}}function Qme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Xme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Zme(t){var{option:e,tickProps:n,value:r}=t,i,s=be(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Nn(Nn({},n),{},{className:s}));else if(typeof e=="function")i=e(Nn(Nn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=be(l,e?.className)),i=T.createElement(X2,Dc({},n,{className:l}),r)}return i}var Jme=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:p,mirror:m,x:b,y:x,width:S,height:E,tickSize:_,tickMargin:k,fontSize:P,letterSpacing:I,getTicksConfig:D,events:O,axisType:U}=t,z=Bme(Nn(Nn({},D),{},{ticks:n}),P,I),C=Qme(p,m),R=Xme(p,m),V=ml(D),L=jT(r),$={};typeof i=="object"&&($=i);var B=Nn(Nn({},V),{},{fill:"none"},$),xe=z.map(re=>Nn({entry:re},Wme(re,b,x,S,E,p,_,m,k))),Ae=xe.map(re=>{var{entry:ie,line:ye}=re;return T.createElement(Hs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&T.createElement("line",Dc({},B,ye,{className:be("recharts-cartesian-axis-tick-line",Nd(i,"className"))})))}),Y=xe.map((re,ie)=>{var{entry:ye,tick:ke}=re,q=Nn(Nn(Nn(Nn({textAnchor:C,verticalAnchor:R},V),{},{stroke:"none",fill:s},L),ke),{},{index:ie,payload:ye,visibleTicksCount:z.length,tickFormatter:l,padding:d},f);return T.createElement(Hs,Dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},LT(O,ye,ie)),r&&T.createElement(Zme,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(ye.value,ie):ye.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},Y.length>0&&T.createElement(El,{zIndex:Yr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},Y)),Ae.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},Ae))}),epe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=qme(t,Fme),[p,m]=T.useState(""),[b,x]=T.useState(""),S=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Ume({ticks:S.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(_=>{if(_){var k=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=k;var P=k[0];if(P){var I=window.getComputedStyle(P),D=I.fontSize,O=I.letterSpacing;(D!==p||O!==b)&&(m(D),x(O))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(El,{zIndex:t.zIndex},T.createElement(Hs,{className:be("recharts-cartesian-axis",s)},T.createElement(Yme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ml(t)}),T.createElement(Jme,{ref:E,axisType:d,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Ufe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Xfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),eA=T.forwardRef((t,e)=>{var n=Qi(t,wc);return T.createElement(epe,Dc({},n,{ref:e}))});eA.displayName="CartesianAxis";var tpe={},V8=Qr({name:"errorBars",initialState:tpe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Yve,replaceErrorBar:Wve,removeErrorBar:Qve}=V8.actions,npe=V8.reducer,rpe=["children"];function ipe(t,e){if(t==null)return{};var n,r,i=ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var spe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ope=T.createContext(spe);function lpe(t){var{children:e}=t,n=ipe(t,rpe);return T.createElement(ope.Provider,{value:n},e)}function B8(t,e){var n,r,i=Ye(f=>so(f,t)),s=Ye(f=>oo(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function cpe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=R8(),{needClipX:s,needClipY:l,needClip:c}=B8(e,n);if(!c||!i)return null;var{x:d,y:f,width:p,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-p/2,y:l?f:f-m/2,width:s?p:p*2,height:l?m:m*2}))}var v_={exports:{}},b_={};var bM;function upe(){if(bM)return b_;bM=1;var t=Dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return b_.useSyncExternalStoreWithSelector=function(d,f,p,m,b){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function _(O){if(!k){if(k=!0,P=O,O=m(O),b!==void 0&&S.hasValue){var U=S.value;if(b(U,O))return I=U}return I=O}if(U=I,n(P,O))return U;var z=m(O);return b!==void 0&&b(U,z)?(P=O,U):(P=O,I=z)}var k=!1,P,I,D=p===void 0?null:p;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,p,m,b]);var E=r(d,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},b_}var xM;function dpe(){return xM||(xM=1,v_.exports=upe()),v_.exports}dpe();function fpe(t){t()}function hpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fpe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var wM={notify(){},get:()=>[]};function mpe(t,e){let n,r=wM,i=0,s=!1;function l(E){p();const _=r.subscribe(E);let k=!1;return()=>{k||(k=!0,_(),m())}}function c(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function p(){i++,n||(n=t.subscribe(d),r=hpe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=wM)}function b(){s||(s=!0,p())}function x(){s&&(s=!1,m())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return S}var ppe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gpe=ppe(),ype=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vpe=ype(),bpe=()=>gpe||vpe?T.useLayoutEffect:T.useEffect,xpe=bpe();function _M(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wpe(t,e){if(_M(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!_M(t[n[i]],e[n[i]]))return!1;return!0}var _pe=Symbol.for("react-redux-context"),Spe=typeof globalThis<"u"?globalThis:{};function Epe(){if(!T.createContext)return{};const t=Spe[_pe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Tpe=Epe();function Ape(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=mpe(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);xpe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Tpe;return T.createElement(c.Provider,{value:s},e)}var kpe=Ape,Npe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cpe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function tA(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Npe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!wpe(t[r],e[r]))return!1}else if(!Cpe(t[r],e[r]))return!1;return!0}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:z8}function Gc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:z8}var Ipe="Invariant failed";function jpe(t,e){throw new Error(Ipe)}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function Yy(t){return T.createElement(Mhe,rE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Ope=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if($e(e))return e;var s=$e(r)||Qn(r);return s?e(r,i):(s||jpe(),n)}},zpe=(t,e,n)=>n,Ppe=(t,e)=>e,cp=ce([O2,Ppe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Rpe=ce([cp],t=>t?.maxBarSize),Mpe=(t,e,n,r)=>r,Dpe=ce([Ot,O2,Hc,Gc,zpe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Lpe=(t,e,n)=>{var r=Ot(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null))return r==="horizontal"?QS(t,"yAxis",s,n):QS(t,"xAxis",i,n)},Vpe=(t,e)=>{var n=Ot(t),r=Hc(t,e),i=Gc(t,e);if(!(r==null||i==null))return n==="horizontal"?gR(t,"xAxis",r):gR(t,"yAxis",i)},Bpe=ce([Dpe,qle,Vpe],dme),Upe=(t,e,n)=>{var r,i,s=cp(t,e);if(s!=null){var l=Hc(t,e),c=Gc(t,e);if(!(l==null||c==null)){var d=Ot(t),f=KL(t),{maxBarSize:p}=s,m=Qn(p)?f:p,b,x;return d==="horizontal"?(b=Rd(t,"xAxis",l,n),x=Pd(t,"xAxis",l,n)):(b=Rd(t,"yAxis",c,n),x=Pd(t,"yAxis",c,n)),(r=(i=Sy(b,x,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},U8=(t,e,n)=>{var r=Ot(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=Rd(t,"xAxis",i,n),c=Pd(t,"xAxis",i,n)):(l=Rd(t,"yAxis",s,n),c=Pd(t,"yAxis",s,n)),Sy(l,c)}},Fpe=ce([Bpe,KL,Fle,YL,Upe,U8,Rpe],gme),qpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Rd(t,"xAxis",r,n)},$pe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return Rd(t,"yAxis",r,n)},Hpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Pd(t,"xAxis",r,n)},Gpe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return Pd(t,"yAxis",r,n)},Kpe=ce([Fpe,cp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ype=ce([Lpe,cp],yme),Wpe=ce([Xn,KT,qpe,$pe,Hpe,Gpe,Kpe,Ot,Ile,U8,Ype,cp,Mpe],(t,e,n,r,i,s,l,c,d,f,p,m,b)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=d;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:_}=m,k;if(_!=null&&_.length>0?k=_:k=x?.slice(S,E+1),k!=null)return Ege({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:k,offset:t,cells:b,dataStartIndex:S})}}),Qpe=["index"];function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}function Xpe(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F8=T.createContext(void 0),Jpe=t=>{var e=T.useContext(F8);if(e!=null)return e.stackId;if(t!=null)return Ire(t)},ege=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),tge=t=>{var e=T.useContext(F8);if(e!=null){var{stackId:n}=e;return"url(#".concat(ege(n,t),")")}},nge=t=>{var{index:e}=t,n=Xpe(t,Qpe),r=tge(e);return T.createElement(Hs,iE({className:"recharts-bar-stack-layer",clipPath:r},n))},rge=["onMouseEnter","onMouseLeave","onClick"],ige=["value","background","tooltipPosition"],age=["id"],sge=["onMouseEnter","onClick","onMouseLeave"];function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return(e=lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=cge(t,"string");return typeof e=="symbol"?e:e+""}function cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wy(t,e){if(t==null)return{};var n,r,i=uge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:A9(n,e),payload:t}]},fge=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:A9(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(Dhe,{tooltipEntrySettings:p})});function hge(t){var e=Ye(Md),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Wy(s,rge),p=C8(l,r,s.id),m=I8(c),b=j8(d,r,s.id);if(!i||n==null)return null;var x=jT(i);return T.createElement(El,{zIndex:vme(i,Yr.barBackground)},n.map((S,E)=>{var{value:_,background:k,tooltipPosition:P}=S,I=Wy(S,ige);if(!k)return null;var D=p(S,E),O=m(S,E),U=b(S,E),z=Nr(Nr(Nr(Nr(Nr({option:i,isActive:String(E)===e},I),{},{fill:"#eee"},k),x),LT(f,S,E)),{},{onMouseEnter:D,onMouseLeave:O,onClick:U,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(Yy,Zs({key:"background-bar-".concat(E)},z))}))}function mge(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Nr(Nr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(lhe,{value:e?i:void 0},n)}function pge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Ye(Md),d=Ye(i8),f=n&&String(s)===c&&(d==null||l===d),p=f?n:e;return f?T.createElement(El,{zIndex:Yr.activeBar},T.createElement(Yy,Zs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))):T.createElement(Yy,Zs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))}function gge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(Yy,Zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function yge(t){var e,{data:n,props:r}=t,i=(e=ml(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Wy(i,age),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:p,onClick:m,onMouseLeave:b}=r,x=Wy(r,sge),S=C8(p,d,s),E=I8(b),_=j8(m,d,s);return n?T.createElement(T.Fragment,null,n.map((k,P)=>T.createElement(nge,Zs({index:P,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(P),className:"recharts-bar-rectangle"},LT(x,k,P),{onMouseEnter:S(k,P),onMouseLeave:E(k,P),onClick:_(k,P)}),f?T.createElement(pge,{shape:c,activeBar:f,baseProps:l,entry:k,index:P,dataKey:d}):T.createElement(gge,{shape:c,baseProps:l,entry:k,index:P,dataKey:d})))):null}function vge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=e,m=n.current,b=ZT(e,"recharts-bar-"),[x,S]=T.useState(!1),E=!x,_=T.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),k=T.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return T.createElement(mge,{showLabels:E,rects:r},T.createElement(XT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:_,onAnimationStart:k,key:b},P=>{var I=P===1?r:r?.map((D,O)=>{var U=m&&m[O];if(U)return Nr(Nr({},D),{},{x:fr(U.x,D.x,P),y:fr(U.y,D.y,P),width:fr(U.width,D.width,P),height:fr(U.height,D.height,P)});if(i==="horizontal"){var z=fr(0,D.height,P),C=fr(D.stackedBarStart,D.y,P);return Nr(Nr({},D),{},{y:C,height:z})}var R=fr(0,D.width,P),V=fr(D.stackedBarStart,D.x,P);return Nr(Nr({},D),{},{width:R,x:V})});return P>0&&(n.current=I??null),I==null?null:T.createElement(Hs,null,T.createElement(yge,{props:e,data:I}))}),T.createElement(dhe,{label:e.label}),e.children)}function bge(t){var e=T.useRef(null);return T.createElement(vge,{previousRectanglesRef:e,props:t})}var q8=0,xge=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:mr(t,e)}};class wge extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var p=be("recharts-bar",i),m=f;return T.createElement(Hs,{className:p,id:f},c&&T.createElement("defs",null,T.createElement(cpe,{clipPathId:m,xAxisId:s,yAxisId:l})),T.createElement(Hs,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},T.createElement(hge,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(bge,this.props)))}}var _ge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:q8,xAxisId:0,yAxisId:0,zIndex:Yr.bar};function Sge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=t,{needClip:m}=B8(e,n),b=Wm(),x=Ei(),S=yhe(t.children,pb),E=Ye(P=>Wpe(P,t.id,x,S));if(b!=="vertical"&&b!=="horizontal")return null;var _,k=E?.[0];return k==null||k.height==null||k.width==null?_=0:_=b==="vertical"?k.height/2:k.width/2,T.createElement(lpe,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:xge,errorBarOffset:_},T.createElement(wge,Zs({},t,{layout:b,needClip:m,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function Ege(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:m,offset:b,cells:x,parentViewBox:S,dataStartIndex:E}=t,_=e==="horizontal"?c:l,k=p?_.scale.domain():null,P=jre({numericAxis:_}),I=_.scale(P);return m.map((D,O)=>{var U,z,C,R,V,L;if(p){var $=p[O+E];if($==null)return null;U=Tre($,k)}else U=mr(D,n),Array.isArray(U)||(U=[P,U]);var B=Ope(r,q8)(U[1],O);if(e==="horizontal"){var xe,[Ae,Y]=[c.scale(U[0]),c.scale(U[1])];z=wz({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:D,index:O}),C=(xe=Y??Ae)!==null&&xe!==void 0?xe:void 0,R=i.size;var re=Ae-Y;if(V=as(re)?0:re,L={x:z,y:b.top,width:R,height:b.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var ie=pi(V||B)*(Math.abs(B)-Math.abs(V));C-=ie,V+=ie}}else{var[ye,ke]=[l.scale(U[0]),l.scale(U[1])];if(z=ye,C=wz({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:D,index:O}),R=ke-ye,V=i.size,L={x:b.left,y:C,width:b.width,height:V},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var q=pi(R||B)*(Math.abs(B)-Math.abs(R));R+=q}}if(z==null||C==null||R==null||V==null)return null;var K=Nr(Nr({},D),{},{stackedBarStart:I,x:z,y:C,width:R,height:V,value:p?U:U[1],payload:D,background:L,tooltipPosition:{x:z+R/2,y:C+V/2},parentViewBox:S},x&&x[O]&&x[O].props);return K}).filter(Boolean)}function Tge(t){var e=Qi(t,_ge),n=Jpe(e.stackId),r=Ei();return T.createElement(qhe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(Lhe,{legendPayload:dge(e)}),T.createElement(fge,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(Qhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(El,{zIndex:e.zIndex},T.createElement(Sge,Zs({},e,{id:i})))))}var nA=T.memo(Tge,tA);nA.displayName="Bar";var Age=["domain","range"],kge=["domain","range"];function EM(t,e){if(t==null)return{};var n,r,i=Nge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function $8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=EM(t,Age),{domain:s,range:l}=e,c=EM(e,kge);return!TM(n,s)||!TM(r,l)?!1:tA(i,c)}var Cge=["dangerouslySetInnerHTML","ticks","scale"],Ige=["id","scale"];function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,i=jge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oge(t){var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(tme(t)):n.current!==t&&e(nme({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(rme(n.current)),n.current=null)},[e]),null}var zge=t=>{var{xAxisId:e,className:n}=t,r=Ye(KT),i=Ei(),s="xAxis",l=Ye(k=>LV(k,s,e,i)),c=Ye(k=>PV(k,e)),d=Ye(k=>Bce(k,e)),f=Ye(k=>rV(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:b}=t,x=AM(t,Cge),{id:S,scale:E}=f,_=AM(f,Ige);return T.createElement(eA,aE({},x,_,{x:d.x,y:d.y,width:c.width,height:c.height,className:be("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Pge={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:wc.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Hn.type,xAxisId:0},Rge=t=>{var e=Qi(t,Pge);return T.createElement(T.Fragment,null,T.createElement(Oge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(zge,e))},rA=T.memo(Rge,$8);rA.displayName="XAxis";var Mge=["dangerouslySetInnerHTML","ticks","scale"],Dge=["id","scale"];function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function kM(t,e){if(t==null)return{};var n,r,i=Lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vge(t){var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(ime(t)):n.current!==t&&e(ame({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(sme(n.current)),n.current=null)},[e]),null}var Bge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=Ye(KT),d=Ei(),f=vn(),p="yAxis",m=Ye(U=>RV(U,e)),b=Ye(U=>Fce(U,e)),x=Ye(U=>LV(U,p,e,d)),S=Ye(U=>iV(U,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!m||Z2(i)||T.isValidElement(i)||S==null)){var U=s.current;if(U){var z=U.getCalculatedWidth();Math.round(m.width)!==Math.round(z)&&f(ome({id:e,width:z}))}}},[x,m,f,i,e,r,S]),m==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:_,scale:k}=t,P=kM(t,Mge),{id:I,scale:D}=S,O=kM(S,Dge);return T.createElement(eA,sE({},P,O,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:be("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:x,axisType:p}))},Uge={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:wc.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},Fge=t=>{var e=Qi(t,Uge);return T.createElement(T.Fragment,null,T.createElement(Vge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(Bge,e))},H8=T.memo(Fge,$8);H8.displayName="YAxis";var qge=(t,e)=>e,iA=ce([qge,Ot,tV,Vn,e8,lo,nde,Xn],cde),aA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},G8=Yi("mouseClick"),K8=Km();K8.startListening({actionCreator:G8,effect:(t,e)=>{var n=t.payload,r=iA(e.getState(),aA(n));r?.activeIndex!=null&&e.dispatch(nue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var oE=Yi("mouseMove"),Y8=Km(),s0=null;Y8.startListening({actionCreator:oE,effect:(t,e)=>{var n=t.payload;s0!==null&&cancelAnimationFrame(s0);var r=aA(n);s0=requestAnimationFrame(()=>{var i=e.getState(),s=U2(i,i.tooltip.settings.shared);if(s==="axis"){var l=iA(i,r);l?.activeIndex!=null?e.dispatch(GV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(HV())}s0=null})}});function $ge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var NM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W8=Qr({name:"rootProps",initialState:NM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:NM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Hge=W8.reducer,{updateOptions:Gge}=W8.actions,Q8=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Xve}=Q8.actions,Kge=Q8.reducer,X8=Yi("keyDown"),Z8=Yi("focus"),sA=Km();sA.startListening({actionCreator:X8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=F2(i,uf(n),rp(n),op(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=lo(n);if(s==="Enter"){var f=$y(n,"axis","hover",String(i.index));e.dispatch(ZS({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var p=Gce(n),m=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,x=c+b*m;if(!(d==null||x>=d.length||x<0)){var S=$y(n,"axis","hover",String(x));e.dispatch(ZS({active:!0,activeIndex:x.toString(),activeCoordinate:S}))}}}}}});sA.startListening({actionCreator:Z8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=$y(n,"axis","hover",String(s));e.dispatch(ZS({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ui=Yi("externalEvent"),J8=Km(),x_=new Map;J8.startListening({actionCreator:Ui,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=x_.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:Uue(c),activeDataKey:i8(c),activeIndex:Md(c),activeLabel:r8(c),activeTooltipIndex:Md(c),isTooltipActive:Fue(c)};n(d,r)}finally{x_.delete(i)}});x_.set(i,l)}}});var Yge=ce([lf],t=>t.tooltipItemPayloads),Wge=ce([Yge,sp,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),eB=Yi("touchMove"),tB=Km();tB.startListening({actionCreator:eB,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=U2(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=iA(r,aA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(GV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(Lre),m=(c=f.getAttribute(Vre))!==null&&c!==void 0?c:void 0,b=cf(r).find(E=>E.id===m);if(p==null||b==null||m==null)return;var{dataKey:x}=b,S=Wge(r,p,m);e.dispatch($V({activeDataKey:x,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var Qge=X6({brush:xme,cartesianAxis:lme,chartData:Ude,errorBars:npe,graphicalItems:Yhe,layout:bre,legend:zie,options:Mde,polarAxis:hhe,polarOptions:Kge,referenceElements:kme,rootProps:Hge,tooltip:rue,zIndex:Sde}),Xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $ne({reducer:Qge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([K8.middleware,Y8.middleware,sA.middleware,J8.middleware,tB.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(f9({type:"raf"}))},devTools:{serialize:{replacer:$ge},name:"recharts-".concat(n)}})};function Zge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ei(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=Xge(e,r));var l=BT;return T.createElement(kpe,{context:l,store:s.current},n)}function Jge(t){var{layout:e,margin:n}=t,r=vn(),i=Ei();return T.useEffect(()=>{i||(r(gre(e)),r(pre(n)))},[r,i,e,n]),null}var e0e=T.memo(Jge,tA);function t0e(t){var e=vn();return T.useEffect(()=>{e(Gge(t))},[e,t]),null}function CM(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=vn();return T.useLayoutEffect(()=>(r.current&&i(wde({zIndex:e,element:r.current,isPanorama:n})),()=>{i(_de({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function IM(t){var{children:e,isPanorama:n}=t,r=Ye(dde);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(CM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(CM,{key:l,zIndex:l,isPanorama:n})))}var n0e=["children"];function r0e(t,e){if(t==null)return{};var n,r,i=i0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(null,arguments)}var a0e={width:"100%",height:"100%",display:"block"},s0e=T.forwardRef((t,e)=>{var n=pie(),r=gie(),i=B9();if(!pl(n)||!pl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),T.createElement(p6,Qy({},l,{title:c,desc:d,role:p,tabIndex:f,width:n,height:r,style:a0e,ref:e}),s)}),o0e=t=>{var{children:e}=t,n=Ye(Hv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(p6,{width:r,height:i,x:l,y:s},e)},jM=T.forwardRef((t,e)=>{var{children:n}=t,r=r0e(t,n0e),i=Ei();return i?T.createElement(o0e,null,T.createElement(IM,{isPanorama:!0},n)):T.createElement(s0e,Qy({ref:e},r),T.createElement(IM,{isPanorama:!1},n))});function l0e(){var t=vn(),[e,n]=T.useState(null),r=Ye(Dre);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;sn(s)&&s!==r&&t(vre(s))}},[e,t,r]),n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){u0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u0e(t,e,n){return(e=d0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0e(t){var e=f0e(t,"string");return typeof e=="symbol"?e:e+""}function f0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}var h0e=()=>(Qde(),null);function Xy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var m0e=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Xy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Xy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,p)=>{l(m=>{var b=Math.round(f),x=Math.round(p);return m.containerWidth===b&&m.containerHeight===x?m:{containerWidth:b,containerHeight:x}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();c(p,m);var b=S=>{var{width:E,height:_}=S[0].contentRect;c(E,_)},x=new ResizeObserver(b);x.observe(f),i.current=x}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Kv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Lc({ref:d},t)))}),p0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Xy(n),containerHeight:Xy(r)}),l=T.useCallback((d,f)=>{s(p=>{var m=Math.round(d),b=Math.round(f);return p.containerWidth===m&&p.containerHeight===b?p:{containerWidth:m,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(Kv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Lc({ref:c},t)))}),g0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Kv,{width:n,height:r}),T.createElement("div",Lc({ref:e},t)))}),y0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Gs(n)||Gs(r)?T.createElement(p0e,Lc({},t,{ref:e})):T.createElement(g0e,Lc({},t,{ref:e}))});function v0e(t){return t===!0?m0e:y0e}var b0e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:b,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:_,width:k,responsive:P,dispatchTouchEvents:I=!0}=t,D=T.useRef(null),O=vn(),[U,z]=T.useState(null),[C,R]=T.useState(null),V=l0e(),L=YT(),$=L?.width>0?L.width:k,B=L?.height>0?L.height:i,xe=T.useCallback(H=>{V(H),typeof e=="function"&&e(H),z(H),R(H),H!=null&&(D.current=H)},[V,e,z,R]),Ae=T.useCallback(H=>{O(G8(H)),O(Ui({handler:s,reactEvent:H}))},[O,s]),Y=T.useCallback(H=>{O(oE(H)),O(Ui({handler:f,reactEvent:H}))},[O,f]),re=T.useCallback(H=>{O(HV()),O(Ui({handler:p,reactEvent:H}))},[O,p]),ie=T.useCallback(H=>{O(oE(H)),O(Ui({handler:m,reactEvent:H}))},[O,m]),ye=T.useCallback(()=>{O(Z8())},[O]),ke=T.useCallback(H=>{O(X8(H.key))},[O]),q=T.useCallback(H=>{O(Ui({handler:l,reactEvent:H}))},[O,l]),K=T.useCallback(H=>{O(Ui({handler:c,reactEvent:H}))},[O,c]),Q=T.useCallback(H=>{O(Ui({handler:d,reactEvent:H}))},[O,d]),oe=T.useCallback(H=>{O(Ui({handler:b,reactEvent:H}))},[O,b]),de=T.useCallback(H=>{O(Ui({handler:E,reactEvent:H}))},[O,E]),ge=T.useCallback(H=>{I&&O(eB(H)),O(Ui({handler:S,reactEvent:H}))},[O,I,S]),we=T.useCallback(H=>{O(Ui({handler:x,reactEvent:H}))},[O,x]),Ne=v0e(P);return T.createElement(d8.Provider,{value:U},T.createElement(_ee.Provider,{value:C},T.createElement(Ne,{width:$??_?.width,height:B??_?.height,className:be("recharts-wrapper",r),style:c0e({position:"relative",cursor:"default",width:$,height:B},_),onClick:Ae,onContextMenu:q,onDoubleClick:K,onFocus:ye,onKeyDown:ke,onMouseDown:Q,onMouseEnter:Y,onMouseLeave:re,onMouseMove:ie,onMouseUp:oe,onTouchEnd:we,onTouchMove:ge,onTouchStart:de,ref:xe},T.createElement(h0e,null),n)))}),x0e=["width","height","responsive","children","className","style","compact","title","desc"];function w0e(t,e){if(t==null)return{};var n,r,i=_0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S0e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:p}=t,m=w0e(t,x0e),b=ml(m);return d?T.createElement(T.Fragment,null,T.createElement(Kv,{width:n,height:r}),T.createElement(jM,{otherAttributes:b,title:f,desc:p},s)):T.createElement(b0e,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(jM,{otherAttributes:b,title:f,desc:p,ref:e},T.createElement(Cme,null,s)))});function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}var E0e={top:5,right:5,bottom:5,left:5},T0e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:E0e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},A0e=T.forwardRef(function(e,n){var r,i=Qi(e.categoricalChartProps,T0e),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(Zge,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(bme,{chartData:f.data}),T.createElement(e0e,{layout:i.layout,margin:i.margin}),T.createElement(t0e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(S0e,lE({},i,{ref:n})))}),k0e=["axis","item"],nB=T.forwardRef((t,e)=>T.createElement(A0e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:k0e,tooltipPayloadSearcher:Pde,categoricalChartProps:t,ref:e}));const rB=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=pr(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?g.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:g.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[g.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),g.jsx("div",{className:"h-48 w-full mb-6",children:g.jsx(j9,{width:"100%",height:"100%",children:g.jsxs(nB,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[g.jsx(rA,{type:"number",hide:!0}),g.jsx(H8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),g.jsx(m8,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),g.jsx(nA,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>g.jsx(pb,{fill:i[l%i.length]},`cell-${l}`))})]})})}),g.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return g.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),g.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),g.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},N0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=jr("expense"),{categories:i,addCategory:s}=kd("expense"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=pr(),p=t.filter(E=>{const[_,k]=E.date.split("-").map(Number);return k===d.getMonth()+1&&_===d.getFullYear()}),m=p.reduce((E,_)=>E+_.amount,0),b=()=>{const E=p.reduce((_,k)=>{const P=k.category||"Sin Categora";return _[P]=(_[P]||0)+k.amount,_},{});return Object.entries(E).map(([_,k])=>({name:_,value:k}))},x=E=>{l?(r(l.id,E),c(null)):e(E)},S=E=>{c(E),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(kv,{}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(d6,{type:"expense",onSubmit:x,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(f6,{transactions:p,onDelete:n,onEdit:S})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(rB,{data:b(),total:m})})})]})]})},C0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=jr("income"),{categories:i,addCategory:s}=kd("income"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=pr(),p=t.filter(E=>{const[_,k]=E.date.split("-").map(Number);return k===d.getMonth()+1&&_===d.getFullYear()}),m=p.reduce((E,_)=>E+_.amount,0),b=()=>{const E=p.reduce((_,k)=>{const P=k.category||"Sin Categora";return _[P]=(_[P]||0)+k.amount,_},{});return Object.entries(E).map(([_,k])=>({name:_,value:k}))},x=E=>{l?(r(l.id,E),c(null)):e(E)},S=E=>{c(E),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(kv,{}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(d6,{type:"income",onSubmit:x,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(f6,{transactions:p,onDelete:n,onEdit:S})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(rB,{data:b(),total:m})})})]})]})},cE={gift:U3,money:ET,heart:F3,phoenix:V3,piggy:Wd,wallet:Qd,star:Y3,smile:K3,briefcase:_T,car:O3,plane:$3,home:q3,coffee:M3,game:B3,phone:G3,target:ts},uE=({formData:t,setFormData:e,onSubmit:n,editingId:r,onCancel:i,currency:s})=>g.jsxs("form",{onSubmit:n,className:"space-y-5",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg",children:r?g.jsx(aZ,{size:20,className:"text-blue-500"}):g.jsx(ST,{size:20,className:"text-zinc-600 dark:text-zinc-300"})}),g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:r?"Editar Meta":"Nueva Meta"})]}),r&&g.jsx("button",{type:"button",onClick:i,className:"text-xs text-zinc-400 hover:text-zinc-600 underline",children:"Cancelar"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Nombre"}),g.jsx("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"Ej. Viaje Japn",value:t.name,onChange:l=>e({...t,name:l.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-xl border border-zinc-200 dark:border-zinc-800 max-h-32 overflow-y-auto custom-scrollbar",children:Object.keys(cE).map(l=>{const c=cE[l];return g.jsx("button",{type:"button",onClick:()=>e({...t,icon:l}),className:be("p-2 rounded-lg flex items-center justify-center transition-all aspect-square",t.icon===l?"bg-emerald-500 text-white shadow-sm ring-2 ring-emerald-200 dark:ring-emerald-900":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(c,{size:18})},l)})})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:["Monto Objetivo (",s,")"]}),g.jsx("input",{type:"number",required:!0,className:"w-full text-lg font-bold bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"5000",value:t.targetAmount,onChange:l=>e({...t,targetAmount:l.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Fecha Lmite"}),g.jsx("input",{type:"date",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",value:t.deadline,onChange:l=>e({...t,deadline:l.target.value})})]})]}),g.jsx("button",{type:"submit",className:be("w-full py-3 rounded-xl font-bold transition-all shadow-lg active:scale-[0.98]",r?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-500/20":"bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 hover:scale-[1.02] shadow-zinc-900/10 dark:shadow-none"),children:r?"Guardar Cambios":"Crear Meta"})]}),I0e=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,addContribution:i,withdraw:s,getMonthlyQuota:l,updateGoal:c,isGoalPaidThisMonth:d}=ef(),{total:f}=jr("income"),{total:p}=jr("expense"),{currency:m,goalPreferences:b}=pr(),x=t.reduce((q,K)=>q+(K.currentAmount||0),0),S=f-p-x,[E,_]=T.useState(null),[k,P]=T.useState({name:"",targetAmount:"",deadline:"",icon:"target",calculationMethod:b.defaultCalculationMethod}),[I,D]=T.useState(!1),[O,U]=T.useState({open:!1,type:"deposit",goalId:""}),[z,C]=T.useState(""),[R,V]=T.useState("spread"),L=q=>{const K=l(q),Q=q.targetAmount/Math.max(1,(new Date(q.deadline).getFullYear()-new Date(q.startDate).getFullYear())*12+(new Date(q.deadline).getMonth()-new Date(q.startDate).getMonth()));return K>Q*1.1?"behind":K<Q*.9?"ahead":"on_track"},$=q=>{const K=cE[q]||ts;return g.jsx(K,{size:24})},B=()=>{_(null),P({name:"",targetAmount:"",deadline:"",icon:"target",calculationMethod:b.defaultCalculationMethod}),D(!1)},xe=q=>{_(q.id),P({name:q.name,targetAmount:q.targetAmount.toString(),deadline:q.deadline,icon:q.icon||"target",calculationMethod:q.calculationMethod||"dynamic"}),window.innerWidth<1024?D(!0):(window.scrollTo({top:0,behavior:"smooth"}),nt.info(`Editando: ${q.name}`))},[Ae,Y]=T.useState({isOpen:!1,goalId:null}),re=q=>{Y({isOpen:!0,goalId:q})},ie=()=>{Ae.goalId&&(n(Ae.goalId),nt.success("Meta eliminada"),Y({isOpen:!1,goalId:null}))},ye=q=>{q.preventDefault(),!(!k.name||!k.targetAmount||!k.deadline)&&(E?(c(E,{name:k.name,targetAmount:Number(k.targetAmount),deadline:k.deadline,icon:k.icon,calculationMethod:k.calculationMethod}),nt.success("Meta actualizada")):(e({name:k.name,targetAmount:Number(k.targetAmount),deadline:k.deadline,startDate:new Date().toISOString().split("T")[0],icon:k.icon,calculationMethod:k.calculationMethod,recoveryStrategy:b.defaultRecoveryStrategy}),nt.success("Meta creada con xito")),B())},ke=()=>{const q=Number(z);if(!(!q||q<=0)){if(O.type==="withdraw")s(O.goalId,q,void 0,R),nt.success(`Retirado ${m}${q}`);else{if(S<q){nt.error(`Saldo insuficiente (Disponible: ${m}${S})`);return}i(O.goalId,q,"Ingreso Extra"),nt.success(`Ingresado ${m}${q}`)}U({...O,open:!1}),C("")}};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Metas de Ahorro"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Visualiza tus objetivos y ajusta tu ritmo de ahorro."})]}),g.jsxs("button",{onClick:()=>{B(),D(!0)},className:"lg:hidden w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-3 rounded-xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-2",children:[g.jsx(Hi,{size:20})," Nueva Meta"]}),g.jsxs("div",{className:"hidden lg:block bg-emerald-50 dark:bg-emerald-900/10 px-4 py-2 rounded-xl border border-emerald-100 dark:border-emerald-900/30",children:[g.jsx("p",{className:"text-xs uppercase text-emerald-600 dark:text-emerald-400 font-bold",children:"Total Ahorrado"}),g.jsxs("p",{className:"text-xl font-bold text-emerald-700 dark:text-emerald-300",children:[m,x.toLocaleString()]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"hidden lg:block lg:col-span-1",children:g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-2xl shadow-sm dark:shadow-none sticky top-4",children:g.jsx(uE,{formData:k,setFormData:P,onSubmit:ye,editingId:E,onCancel:B,currency:m})})}),g.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 gap-4 align-top content-start",children:t.length===0?g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-dashed border-zinc-300 dark:border-zinc-700 rounded-3xl p-12 text-center",children:[g.jsx("div",{className:"inline-flex p-4 bg-zinc-100 dark:bg-zinc-800 rounded-full mb-4",children:g.jsx(ts,{size:32,className:"text-zinc-400"})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin metas activas"}),g.jsx("p",{className:"text-zinc-500 max-w-sm mx-auto mt-2",children:"Crea tu primera meta de ahorro para empezar a planificar tu futuro financiero."})]}):t.map(q=>{const K=q.currentAmount/q.targetAmount*100,Q=l(q),oe=L(q),de=S>=Q,ge=d(q),we=new Date().toLocaleString("es-ES",{month:"long"}),Ne=we.charAt(0).toUpperCase()+we.slice(1);let H=null,pe=!1;if(q.calculationMethod==="dynamic"){const Ze=new Date;Ze.setMonth(Ze.getMonth()+1);const Et=l(q,Ze,ge?0:Q);Et>Q+5?H="up":Et<Q-5?H="down":H="stable",Et>Q*1.2&&(pe=!0)}const Ce=new Date(q.startDate),X=new Date(q.deadline),Ve=new Date,Oe=Math.max(1,(X.getFullYear()-Ce.getFullYear())*12+(X.getMonth()-Ce.getMonth())),We=Math.min(Oe,Math.max(1,(Ve.getFullYear()-Ce.getFullYear())*12+(Ve.getMonth()-Ce.getMonth())+1));return g.jsxs("div",{className:be("bg-white dark:bg-zinc-900 border rounded-3xl p-5 sm:p-6 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",E===q.id?"border-blue-500 ring-2 ring-blue-500/20":"border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3 mb-6",children:[g.jsxs("div",{className:"flex gap-3 sm:gap-4 flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 bg-zinc-50 dark:bg-zinc-800 rounded-2xl text-zinc-600 dark:text-zinc-300 shrink-0",children:$(q.icon||"target")}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-lg sm:text-xl font-bold text-zinc-900 dark:text-zinc-100 truncate pr-2",children:q.name}),g.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[oe==="on_track"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-emerald-100 text-emerald-700 px-2 py-1 rounded-md",children:"En Camino"}),oe==="behind"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-amber-100 text-amber-700 px-2 py-1 rounded-md",children:"Atrasado"}),oe==="ahead"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-blue-100 text-blue-700 px-2 py-1 rounded-md",children:"Adelantado"}),g.jsxs("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-medium bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 px-2 py-1 rounded-md border border-zinc-200 dark:border-zinc-700",children:["#",We,"/",Oe]}),g.jsxs("span",{className:"inline-flex items-center text-[10px] sm:text-xs text-zinc-500 px-1",children:["Vence: ",new Date(q.deadline).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"})]})]})]})]}),g.jsxs("div",{className:"flex gap-1 shrink-0",children:[g.jsx("button",{onClick:()=>{const Ze=q.calculationMethod==="dynamic"?"static":"dynamic";c(q.id,{calculationMethod:Ze}),nt.info(`Ahorro Dinmico: ${Ze==="dynamic"?"Activado":"Desactivado"}`)},className:be("w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-xl transition-colors",q.calculationMethod==="dynamic"?"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 hover:bg-amber-200":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-zinc-600 hover:bg-zinc-200"),title:"Alternar Modo Dinmico",children:g.jsx(sy,{size:16,className:q.calculationMethod==="dynamic"?"fill-current":""})}),g.jsx("button",{onClick:()=>xe(q),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-500 hover:text-blue-500 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(Fm,{size:16})}),g.jsx("button",{onClick:()=>re(q.id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-500 hover:text-rose-500 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(Gi,{size:16})})]})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium",children:[g.jsx("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Progreso Global"}),g.jsxs("span",{className:"text-zinc-900 dark:text-zinc-100 font-bold",children:[K.toFixed(1),"%"]})]}),g.jsx("div",{className:"h-3 sm:h-4 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${K>=100?"bg-emerald-500":"bg-gradient-to-r from-emerald-500 to-teal-400"}`,style:{width:`${Math.min(K,100)}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs mt-1.5 font-mono text-zinc-400",children:[g.jsxs("span",{children:[m,q.currentAmount.toLocaleString()]}),g.jsxs("span",{children:[m,q.targetAmount.toLocaleString()]})]}),q.recoveryStrategy==="catch_up"&&g.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 rounded bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 text-[10px] font-bold border border-rose-100 dark:border-rose-900/30",children:[g.jsx(Kj,{size:10})," RECUPERACIN AGRESIVA"]})]}),g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800/50",children:g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-5 sm:gap-4",children:[g.jsxs("div",{className:"text-center sm:text-left w-full sm:w-auto",children:[g.jsxs("p",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest mb-1.5",children:["Cuota de ",Ne]}),g.jsxs("div",{className:"flex flex-col items-center sm:items-start gap-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-3xl sm:text-2xl font-black text-zinc-900 dark:text-zinc-100 tracking-tight",children:[m,Q.toLocaleString(void 0,{maximumFractionDigits:0})]}),(H==="up"||H==="down")&&g.jsxs("div",{className:be("flex items-center px-2 py-1 rounded-lg text-xs font-bold animate-in fade-in zoom-in",H==="up"?pe?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:[H==="up"?g.jsx(TT,{size:14}):g.jsx(P3,{size:14}),g.jsx("span",{className:"ml-1 hidden sm:inline",children:H==="up"?"Sube":"Baja"})]})]}),pe&&g.jsx("span",{className:"text-[10px] text-rose-500 font-medium bg-rose-50 dark:bg-rose-900/10 px-2 py-0.5 rounded-full border border-rose-100 dark:border-rose-900/20",children:"+20% prox. mes"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx("button",{onClick:()=>{U({open:!0,type:"withdraw",goalId:q.id}),V(q.recoveryStrategy||"spread")},className:"h-12 w-12 sm:h-11 sm:w-11 flex items-center justify-center bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl text-zinc-400 hover:text-rose-500 hover:border-rose-200 transition-all shadow-sm active:scale-95",title:"Retirar Fondos",children:g.jsx(lX,{size:22})}),ge?g.jsxs("button",{onClick:()=>U({open:!0,type:"deposit",goalId:q.id}),disabled:S<=0,className:"flex-1 sm:flex-none h-12 sm:h-11 px-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[g.jsx(nX,{size:18}),g.jsx("span",{children:"Adelantar"})]}):g.jsxs("button",{onClick:()=>{r(q.id,Q),nt.success(`Cuota pagada: ${m}${Q}`)},disabled:!de,className:be("flex-1 sm:flex-none h-12 sm:h-11 px-5 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95",de?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-500/20":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 cursor-not-allowed shadow-none"),children:[de?g.jsx(mX,{size:18}):g.jsx(WX,{size:18}),g.jsx("span",{children:de?"Pagar":"Sin Saldo"})]})]})]})})]})]},q.id)})})]}),g.jsx(ga,{isOpen:I,onClose:()=>B(),title:E?"Editar Meta":"Nueva Meta",children:g.jsx(uE,{formData:k,setFormData:P,onSubmit:q=>{ye(q)},editingId:E,onCancel:B,currency:m})}),g.jsx(ga,{isOpen:O.open,onClose:()=>U({...O,open:!1}),title:O.type==="deposit"?"Ingreso Extra":"Retirar Fondos",maxWidth:"max-w-md",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:O.type==="deposit"?"Aade fondos adicionales desde tu saldo disponible.":"Retira dinero de esta meta. Podrs elegir cmo recuperar el faltante."}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Monto"}),g.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-4 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"0.00",value:z,onChange:q=>C(q.target.value)})]}),O.type==="withdraw"&&g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 rounded-xl p-4",children:[g.jsxs("h4",{className:"font-bold text-amber-800 dark:text-amber-200 mb-3 text-sm flex items-center gap-2",children:[g.jsx(Kj,{size:16})," Estrategia de Recuperacin"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-2 hover:bg-white/50 dark:hover:bg-black/20 rounded-lg transition-colors",children:[g.jsx("input",{type:"radio",name:"strategy",checked:R==="spread",onChange:()=>V("spread"),className:"mt-1 text-emerald-600 focus:ring-emerald-500"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-sm text-zinc-800 dark:text-zinc-200",children:"Redistribuir (Spread)"}),g.jsx("span",{className:"block text-xs text-zinc-500",children:"Divide el faltante entre todos los meses restantes. Tu cuota subir ligeramente."})]})]}),g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-2 hover:bg-white/50 dark:hover:bg-black/20 rounded-lg transition-colors",children:[g.jsx("input",{type:"radio",name:"strategy",checked:R==="catch_up",onChange:()=>V("catch_up"),className:"mt-1 text-emerald-600 focus:ring-emerald-500"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-sm text-zinc-800 dark:text-zinc-200",children:"Pagar el Prximo Mes (Catch Up)"}),g.jsx("span",{className:"block text-xs text-zinc-500",children:"Se sumar todo lo retirado a tu prxima cuota para volver al plan original de inmediato."})]})]})]})]}),g.jsx("button",{onClick:ke,className:`w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg ${O.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-700 shadow-rose-500/20"}`,children:O.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})]})}),g.jsx(ga,{isOpen:Ae.isOpen,onClose:()=>Y({isOpen:!1,goalId:null}),title:"Eliminar Meta",maxWidth:"max-w-sm",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center text-center p-2",children:[g.jsx("div",{className:"w-12 h-12 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mb-4 text-rose-600 dark:text-rose-500",children:g.jsx(Gi,{size:24})}),g.jsx("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Ests seguro?"}),g.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Esta accin eliminar la meta y todo su historial de progresos permanentemente. No se puede deshacer."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>Y({isOpen:!1,goalId:null}),className:"flex-1 py-2.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 rounded-xl font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:ie,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-500/20 transition-all",children:"Eliminar"})]})]})})]})},j0e=({project:t,onClose:e})=>{const{currency:n}=pr(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=CT(),{currentBalance:d}=qm(),{addTransaction:f}=jr(),[p,m]=T.useState("overview"),b=c(t),[x,S]=T.useState({amount:"",description:"",type:"expense"}),[E,_]=T.useState(!1),k=O=>{O.preventDefault();const U=Number(x.amount);if(!(U<=0)){if(x.type==="income"){if(U>d){nt.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:U,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:U,description:x.description,type:x.type,date:(()=>{const z=new Date;return`${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`})()}),S({amount:"",description:"",type:"expense"}),_(!1)}},P=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},I=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(O=>({name:new Date(O.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:O.type==="income"?O.amount:-O.amount})),[t.transactions]),D=()=>{const O={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:O[t.status]})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),g.jsx("span",{onClick:D,className:be("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),g.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),g.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(ay,{size:24})})]}),g.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[g.jsxs("button",{onClick:()=>m("overview"),className:be("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(QQ,{size:16})," Resumen"]}),g.jsxs("button",{onClick:()=>m("ledger"),className:be("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(lS,{size:16})," Movimientos"]}),g.jsxs("button",{onClick:()=>m("settings"),className:be("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(H3,{size:16})," Configuracin"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[p==="overview"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),g.jsxs("p",{className:be("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),I.length>0?g.jsx(j9,{width:"100%",height:"100%",children:g.jsxs(nB,{data:I,children:[g.jsx(rA,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(m8,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),g.jsx(nA,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:I.map((O,U)=>g.jsx(pb,{fill:O.amount>=0?"#10b981":"#f43f5e"},`cell-${U}`))})]})}):g.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),p==="ledger"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>{S(O=>({...O,type:"income"})),_(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(aS,{size:18})," Inyectar Fondos"]}),g.jsxs("button",{onClick:()=>{S(O=>({...O,type:"expense"})),_(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(Ad,{size:18})," Registrar Gasto"]})]}),E&&g.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:x.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),g.jsx("button",{type:"button",onClick:()=>_(!1),className:"text-zinc-400 hover:text-zinc-600",children:g.jsx(ay,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.description,onChange:O=>S({...x,description:O.target.value})}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),g.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.amount,onChange:O=>S({...x,amount:O.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),g.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?g.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[g.jsx(lS,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(O=>g.jsxs("div",{className:be("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:be("w-10 h-10 rounded-full flex items-center justify-center",O.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:O.type==="income"?g.jsx(aS,{size:18}):g.jsx(Ad,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:O.description}),g.jsx("p",{className:"text-xs text-zinc-500",children:new Date(O.date).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:be("font-mono font-bold",O.type==="income"?"text-emerald-600":"text-rose-600"),children:[O.type==="income"?"+":"-",n,O.amount.toFixed(2)]}),g.jsx("button",{onClick:()=>l(t.id,O.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:g.jsx(Gi,{size:16})})]})]},O.id))})]}),p==="settings"&&g.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(O=>g.jsx("button",{onClick:()=>r(t.id,{status:O}),className:be("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===O?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:O.charAt(0).toUpperCase()+O.slice(1)},O))})]}),g.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[g.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),g.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),g.jsxs("button",{onClick:P,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[g.jsx(Gi,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},O0e=()=>{const{projects:t,addProject:e,updateProject:n,deleteProject:r,getProjectStats:i}=CT(),{currency:s}=pr(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState(null),[b,x]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),S=I=>{I.preventDefault();const D={name:b.name,targetBudget:Number(b.targetBudget),deadline:b.deadline,description:b.description};p?n(p,D):e(D),x({name:"",targetBudget:"",deadline:"",description:""}),c(!1),m(null)},E=(I,D)=>{I.stopPropagation(),x({name:D.name,targetBudget:D.targetBudget.toString(),deadline:D.deadline||"",description:D.description||""}),m(D.id),c(!0),window.scrollTo({top:0,behavior:"smooth"})},_=(I,D)=>{I.stopPropagation(),confirm("Ests seguro de eliminar este proyecto? Se eliminarn tambin sus transacciones.")&&r(D)},k=I=>{switch(I){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},P=(I,D)=>{I.stopPropagation();const O={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(D.id,{status:O[D.status]})};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),g.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(Hi,{size:18}),g.jsx("span",{children:"Nuevo Proyecto"})]})]}),l&&g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:p?"Editar Proyecto":"Iniciar Nuevo Proyecto"}),g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),g.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.name,onChange:I=>x({...b,name:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),g.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.targetBudget,onChange:I=>x({...b,targetBudget:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.deadline,onChange:I=>x({...b,deadline:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),g.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.description,onChange:I=>x({...b,description:I.target.value})})]})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:p?"Guardar Cambios":"Crear Proyecto"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(I=>{const D=i(I);return g.jsxs("div",{onClick:()=>f(I),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:[g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:g.jsx(oS,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:I.name}),g.jsx("span",{onClick:O=>P(O,I),className:be("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",k(I.status)),title:"Clic para cambiar estado",children:I.status==="planning"?"Planificacin":I.status==="active"?"En Curso":I.status==="completed"?"Completado":I.status==="paused"?"Pausado":"Cancelado"})]})]}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:O=>E(O,I),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar",children:g.jsx(Fm,{size:18})}),g.jsx("button",{onClick:O=>_(O,I.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar",children:g.jsx(Gi,{size:18})})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),g.jsxs("p",{className:be("font-mono font-bold text-lg",D.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[s,D.currentBalance.toLocaleString()]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[s,D.totalExpenses.toLocaleString()]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[g.jsx("span",{className:"text-zinc-500",children:D.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),g.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[D.totalExpenses>0?D.percentConsumed.toFixed(0):D.percentFunded.toFixed(0),"%"]})]}),g.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:be("h-full transition-all duration-500",(D.totalExpenses>0?D.percentConsumed:D.percentFunded)>100?"bg-rose-500":((D.totalExpenses>0?D.percentConsumed:D.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(D.totalExpenses>0?D.percentConsumed:D.percentFunded,100)}%`}})})]})]})]},I.id)}),t.length===0&&!l&&g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(oS,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),d&&g.jsx(j0e,{project:t.find(I=>I.id===d.id)||d,onClose:()=>f(null)})]})},w_={gift:U3,money:ET,heart:F3,phoenix:V3,piggy:Wd,wallet:Qd,star:Y3,smile:K3,briefcase:_T,car:O3,plane:$3,home:q3,coffee:M3,game:B3,phone:G3,other:L3},z0e=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r,updateFund:i}=tf(),{currency:s}=pr(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[b,x]=T.useState({open:!1,type:"deposit",fundId:""}),[S,E]=T.useState(""),[_,k]=T.useState(""),P=V=>{V.preventDefault(),p.name&&(d?(i(d,p),nt.success("Fondo actualizado")):(e(p),nt.success("Fondo creado")),m({name:"",icon:"piggy",description:"",color:"emerald"}),f(null),c(!1))},I=()=>{f(null),m({name:"",icon:"piggy",description:"",color:"emerald"}),c(!0)},D=V=>{f(V.id),m({name:V.name,icon:V.icon,description:V.description||"",color:V.color||"emerald"}),c(!0)},{currentBalance:O}=qm(),U=V=>{V.preventDefault();const L=Number(S);if(!(!L||L<=0)){if(b.type==="deposit"&&L>O){nt.error(`Fondos insuficientes. Solo tienes ${s}${O.toLocaleString()} disponibles.`);return}r(b.fundId,L,b.type,_),x({...b,open:!1}),E(""),k("")}},z=(V,L)=>{x({open:!0,type:V,fundId:L})},C=V=>{const L=w_[V]||L3;return g.jsx(L,{size:24})},R=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),g.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),g.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[g.jsx(Hi,{size:20})," Nuevo Fondo"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(Wd,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(V=>{const L=R.find($=>$.id===V.color)?.class||R[0].class;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:be("p-3 rounded-xl transition-colors",L),children:C(V.icon)}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>D(V),className:"text-zinc-300 hover:text-blue-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Editar",children:g.jsx(Fm,{size:18})}),g.jsx("button",{onClick:()=>n(V.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Eliminar",children:g.jsx(Gi,{size:18})})]})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:V.name}),V.description&&g.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:V.description}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[s,V.currentAmount.toLocaleString()]})]}),g.jsxs("div",{className:"flex gap-2 mt-6",children:[g.jsxs("button",{onClick:()=>z("deposit",V.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[g.jsx(iy,{size:16})," Ingresar"]}),g.jsxs("button",{onClick:()=>z("withdraw",V.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[g.jsx(Ad,{size:16})," Retirar"]})]})]},V.id)})}),g.jsx(ga,{isOpen:l,onClose:()=>c(!1),title:d?"Editar Fondo":"Crear Nuevo Fondo",children:g.jsxs("form",{onSubmit:P,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:p.name,onChange:V=>m({...p,name:V.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(w_).map(V=>{const L=w_[V];return g.jsx("button",{type:"button",onClick:()=>m({...p,icon:V}),className:be("p-2 rounded-md flex items-center justify-center transition-all",p.icon===V?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(L,{size:20})},V)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),g.jsx("div",{className:"flex gap-2",children:R.map(V=>g.jsx("button",{type:"button",onClick:()=>m({...p,color:V.id}),className:be("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",V.class.split(" ")[1],p.color===V.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:p.color===V.id&&g.jsx(z3,{size:14,className:"text-current"})},V.id))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:p.description,onChange:V=>m({...p,description:V.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:d?"Guardar Cambios":"Crear Fondo"})]})}),g.jsx(ga,{isOpen:b.open,onClose:()=>x({...b,open:!1}),title:b.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:g.jsxs("form",{onSubmit:U,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:s}),g.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:S,onChange:V=>E(V.target.value)})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:b.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:_,onChange:V=>k(V.target.value)})]}),g.jsxs("button",{type:"submit",className:be("w-full py-2 rounded-lg font-medium text-white transition-colors",b.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",b.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},iB=6048e5,P0e=864e5,zM=Symbol.for("constructDateFrom");function yl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zM in t?t[zM](e):t instanceof Date?new t.constructor(e):new Date(e)}function _a(t,e){return yl(e||t,t)}let R0e={};function gb(){return R0e}function Am(t,e){const n=gb(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_a(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Zy(t,e){return Am(t,{...e,weekStartsOn:1})}function aB(t,e){const n=_a(t,e?.in),r=n.getFullYear(),i=yl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Zy(i),l=yl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Zy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function PM(t){const e=_a(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function M0e(t,...e){const n=yl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function RM(t,e){const n=_a(t,e?.in);return n.setHours(0,0,0,0),n}function D0e(t,e,n){const[r,i]=M0e(n?.in,t,e),s=RM(r),l=RM(i),c=+s-PM(s),d=+l-PM(l);return Math.round((c-d)/P0e)}function L0e(t,e){const n=aB(t,e),r=yl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Zy(r)}function V0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function B0e(t){return!(!V0e(t)&&typeof t!="number"||isNaN(+_a(t)))}function U0e(t,e){const n=_a(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const F0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},q0e=(t,e,n)=>{let r;const i=F0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const $0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K0e={date:sd({formats:$0e,defaultWidth:"full"}),time:sd({formats:H0e,defaultWidth:"full"}),dateTime:sd({formats:G0e,defaultWidth:"full"})},Y0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W0e=(t,e,n,r)=>Y0e[t];function Ka(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Q0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rye={ordinalNumber:nye,era:Ka({values:Q0e,defaultWidth:"wide"}),quarter:Ka({values:X0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ka({values:Z0e,defaultWidth:"wide"}),day:Ka({values:J0e,defaultWidth:"wide"}),dayPeriod:Ka({values:eye,defaultWidth:"wide",formattingValues:tye,defaultFormattingWidth:"wide"})};function Ya(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?aye(c,m=>m.test(l)):iye(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function iye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function aye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function sB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const sye=/^(\d+)(th|st|nd|rd)?/i,oye=/\d+/i,lye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cye={any:[/^b/i,/^(a|c)/i]},uye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dye={any:[/1/i,/2/i,/3/i,/4/i]},fye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vye={ordinalNumber:sB({matchPattern:sye,parsePattern:oye,valueCallback:t=>parseInt(t,10)}),era:Ya({matchPatterns:lye,defaultMatchWidth:"wide",parsePatterns:cye,defaultParseWidth:"any"}),quarter:Ya({matchPatterns:uye,defaultMatchWidth:"wide",parsePatterns:dye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ya({matchPatterns:fye,defaultMatchWidth:"wide",parsePatterns:hye,defaultParseWidth:"any"}),day:Ya({matchPatterns:mye,defaultMatchWidth:"wide",parsePatterns:pye,defaultParseWidth:"any"}),dayPeriod:Ya({matchPatterns:gye,defaultMatchWidth:"any",parsePatterns:yye,defaultParseWidth:"any"})},bye={code:"en-US",formatDistance:q0e,formatLong:K0e,formatRelative:W0e,localize:rye,match:vye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xye(t,e){const n=_a(t,e?.in);return D0e(n,U0e(n))+1}function wye(t,e){const n=_a(t,e?.in),r=+Zy(n)-+L0e(n);return Math.round(r/iB)+1}function oB(t,e){const n=_a(t,e?.in),r=n.getFullYear(),i=gb(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=yl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Am(l,e),d=yl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=Am(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function _ye(t,e){const n=gb(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=oB(t,e),s=yl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Am(s,e)}function Sye(t,e){const n=_a(t,e?.in),r=+Am(n,e)-+_ye(n,e);return Math.round(r/iB)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ko={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ko.y(t,e)},Y:function(t,e,n,r){const i=oB(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Nt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,e.length)},R:function(t,e){const n=aB(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ko.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Sye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=wye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ko.d(t,e)},D:function(t,e,n){const r=xye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$u.noon:r===0?i=$u.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$u.evening:r>=12?i=$u.afternoon:r>=4?i=$u.morning:i=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ko.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ko.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ko.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ko.s(t,e)},S:function(t,e){return Ko.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LM(r);case"XXXX":case"XX":return rc(r);default:return rc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LM(r);case"xxxx":case"xx":return rc(r);default:return rc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+DM(r,":");default:return"GMT"+rc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+DM(r,":");default:return"GMT"+rc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Nt(r,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function DM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Nt(s,2)}function LM(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):rc(t,e)}function rc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+e+s}const VM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},lB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Eye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return VM(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",VM(r,e)).replace("{{time}}",lB(i,e))},Tye={p:lB,P:Eye},Aye=/^D+$/,kye=/^Y+$/,Nye=["D","DD","YY","YYYY"];function Cye(t){return Aye.test(t)}function Iye(t){return kye.test(t)}function jye(t,e,n){const r=Oye(t,e,n);if(console.warn(r),Nye.includes(t))throw new RangeError(r)}function Oye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rye=/^'([^]*?)'?$/,Mye=/''/g,Dye=/[a-zA-Z]/;function Lye(t,e,n){const r=gb(),i=n?.locale??r.locale??bye,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=_a(t,n?.in);if(!B0e(c))throw new RangeError("Invalid time value");let d=e.match(Pye).map(p=>{const m=p[0];if(m==="p"||m==="P"){const b=Tye[m];return b(p,i.formatLong)}return p}).join("").match(zye).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:Vye(p)};if(MM[m])return{isToken:!0,value:p};if(m.match(Dye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&Iye(m)||!n?.useAdditionalDayOfYearTokens&&Cye(m))&&jye(m,e,String(t));const b=MM[m[0]];return b(c,m,i.localize,f)}).join("")}function Vye(t){const e=t.match(Rye);return e?e[1].replace(Mye,"'"):t}const Bye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Uye=(t,e,n)=>{let r;const i=Bye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Fye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},qye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$ye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hye={date:sd({formats:Fye,defaultWidth:"full"}),time:sd({formats:qye,defaultWidth:"full"}),dateTime:sd({formats:$ye,defaultWidth:"full"})},Gye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Kye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Yye=(t,e,n,r)=>e.getHours()!==1?Kye[t]:Gye[t],Wye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Qye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Xye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Zye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Jye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},eve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},tve=(t,e)=>Number(t)+"",nve={ordinalNumber:tve,era:Ka({values:Wye,defaultWidth:"wide"}),quarter:Ka({values:Qye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ka({values:Xye,defaultWidth:"wide"}),day:Ka({values:Zye,defaultWidth:"wide"}),dayPeriod:Ka({values:Jye,defaultWidth:"wide",formattingValues:eve,defaultFormattingWidth:"wide"})},rve=/^(\d+)()?/i,ive=/\d+/i,ave={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},sve={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ove={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},lve={any:[/1/i,/2/i,/3/i,/4/i]},cve={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},uve={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},dve={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},fve={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},hve={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},mve={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},pve={ordinalNumber:sB({matchPattern:rve,parsePattern:ive,valueCallback:function(t){return parseInt(t,10)}}),era:Ya({matchPatterns:ave,defaultMatchWidth:"wide",parsePatterns:sve,defaultParseWidth:"any"}),quarter:Ya({matchPatterns:ove,defaultMatchWidth:"wide",parsePatterns:lve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ya({matchPatterns:cve,defaultMatchWidth:"wide",parsePatterns:uve,defaultParseWidth:"any"}),day:Ya({matchPatterns:dve,defaultMatchWidth:"wide",parsePatterns:fve,defaultParseWidth:"any"}),dayPeriod:Ya({matchPatterns:hve,defaultMatchWidth:"any",parsePatterns:mve,defaultParseWidth:"any"})},gve={code:"es",formatDistance:Uye,formatLong:Hye,formatRelative:Yye,localize:nve,match:pve,options:{weekStartsOn:1,firstWeekContainsDate:1}},yve=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i,updateCredit:s}=Nv(),{currency:l}=pr(),{addTransaction:c}=jr(),{currentBalance:d}=qm(),[f,p]=T.useState(!1),[m,b]=T.useState(null),[x,S]=T.useState("simple"),[E,_]=T.useState("quota"),[k,P]=T.useState(""),[I,D]=T.useState(new Date().toISOString().split("T")[0]),[O,U]=T.useState(""),[z,C]=T.useState(""),[R,V]=T.useState(""),[L,$]=T.useState(""),[B,xe]=T.useState(""),[Ae,Y]=T.useState(""),[re,ie]=T.useState({open:!1,creditId:""}),[ye,ke]=T.useState(""),q=(X,Ve,Oe)=>{if(X<=0||Oe<=0)return 0;if(Ve===0)return X/Oe;const We=Ve/100/12;return X*We*Math.pow(1+We,Oe)/(Math.pow(1+We,Oe)-1)},K=(X,Ve,Oe)=>{if(X<=0||Oe<=0||Ve<=0||Ve*Oe<=X)return 0;let We=0,Ze=1e3,it=0;for(let Et=0;Et<20;Et++){it=(We+Ze)/2;const lt=q(X,it,Oe);if(Math.abs(lt-Ve)<.01)return it;lt>Ve?Ze=it:We=it}return it},Q=()=>{P(""),D(new Date().toISOString().split("T")[0]),S("simple"),U(""),C(""),V(""),$(""),xe(""),Y(""),b(null),_("quota")},oe=()=>{Q(),p(!0)},de=X=>{if(Q(),b(X.id),P(X.name),D(X.startDate),X.interestRate===0)S("simple"),C(X.term.toString()),U((X.principal/X.term).toFixed(2)),V(X.principal.toString()),$(X.term.toString()),xe("0");else{S("advanced"),V(X.principal.toString()),$(X.term.toString()),xe(X.interestRate.toString());const Ve=q(X.principal,X.interestRate,X.term);Y(Ve.toFixed(2))}p(!0)},ge=X=>{X.preventDefault();let Ve=0,Oe=0,We=0;if(x==="simple"){const it=Number(O),Et=Number(z);if(it<=0||Et<=0){nt.error("Por favor completa los campos correctamente");return}Ve=it*Et,Oe=0,We=Et}else{if(Ve=Number(R),We=Number(L),Ve<=0||We<=0){nt.error("Principal y Plazo son requeridos");return}if(E==="quota")Oe=Number(B);else{const it=Number(Ae);if(it<=0){nt.error("Cuota requerida");return}Oe=K(Ve,it,We)}}if(!k)return;const Ze={name:k,principal:Ve,interestRate:Oe,term:We,startDate:I};m?(s(m,Ze),nt.success("Crdito actualizado")):(e({...Ze,status:"active"}),nt.success("Crdito creado")),p(!1)},we=x==="simple"?Number(O)||0:E==="quota"?q(Number(R),Number(B)||0,Number(L)):Number(Ae)||0,Ne=x==="simple"?Number(O)*Number(z)||0:we*Number(L)||0,H=x==="simple"?Ne:Number(R)||0,pe=x==="simple"?0:E==="quota"?Number(B)||0:K(Number(R),Number(Ae),Number(L)),Ce=X=>{X.preventDefault();const Ve=Number(ye);if(Ve<=0)return;if(Ve>d){nt.error(`Saldo insuficiente (${l}${d.toLocaleString()})`);return}r(re.creditId,Ve);const Oe=t.find(We=>We.id===re.creditId);c({amount:Ve,type:"expense",category:"Deudas",description:`Pago Crdito: ${Oe?.name}`,date:new Date().toISOString().split("T")[0]}),ie({open:!1,creditId:""}),ke(""),nt.success("Pago registrado")};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Crditos y Deudas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Controla tus compromisos financieros."})]}),g.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-3 rounded-xl font-bold hover:scale-105 transition-transform shadow-lg shadow-zinc-900/10 dark:shadow-none",children:[g.jsx(Hi,{size:18}),g.jsx("span",{children:"Nuevo Crdito"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20 flex flex-col items-center",children:[g.jsx("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-full text-zinc-300 dark:text-zinc-700 mb-6 shadow-sm",children:g.jsx(um,{size:48,strokeWidth:1.5})}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Sin Crditos Activos"}),g.jsx("p",{className:"text-zinc-500 max-w-md mx-auto",children:"Registra prstamos personales, hipotecas o compras a cuotas para no perder de vista ningn pago."})]}):t.map(X=>{const Ve=i(X),Oe=Math.min(Ve.totalPaid/Ve.totalToPay*100,100),We=new Date(X.startDate);return We.setMonth(We.getMonth()+(X.payments?.length||0)+1),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:g.jsx(um,{size:24})}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>de(X),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-500 transition-colors",children:g.jsx(Fm,{size:16})}),g.jsx("button",{onClick:()=>n(X.id),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-rose-500 transition-colors",children:g.jsx(Gi,{size:16})})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1 truncate",title:X.name,children:X.name}),g.jsxs("div",{className:"flex flex-wrap gap-y-2 gap-x-4 text-xs font-medium text-zinc-500 uppercase tracking-wide",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(ET,{size:12})," ",l,X.principal.toLocaleString()]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(lZ,{size:12})," ",X.interestRate.toFixed(1),"%"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(cm,{size:12})," ",X.term," Meses"]})]})]}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-sm text-zinc-500",children:"Saldo Pendiente"}),g.jsxs("span",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100",children:[l,Ve.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-3 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-orange-400 rounded-full transition-all duration-1000 ease-out",style:{width:`${Oe}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 font-mono",children:[g.jsxs("span",{children:["Pagado: ",Math.round(Oe),"%"]}),g.jsxs("span",{children:["Total: ",l,Ve.totalToPay.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),X.status==="active"&&g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-zinc-400",children:"Cuota Mensual"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[l,Ve.quota.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-zinc-400",children:"Vence"}),g.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:Lye(We,"dd MMM",{locale:gve})})]})]}),g.jsxs("button",{onClick:()=>{ie({open:!0,creditId:X.id}),ke(Ve.quota.toFixed(2))},className:"w-full py-2.5 bg-white dark:bg-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 border border-zinc-200 dark:border-zinc-600 rounded-lg text-sm font-bold transition-colors flex items-center justify-center gap-2 shadow-sm",children:[g.jsx(sX,{size:16,className:"text-emerald-500"}),"Registrar Pago"]})]})]},X.id)})}),g.jsx(ga,{isOpen:f,onClose:()=>p(!1),title:m?"Editar Crdito":"Nuevo Crdito",maxWidth:"max-w-2xl",children:g.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Nombre"}),g.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Coche",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all dark:text-white",value:k,onChange:X=>P(X.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Fecha Inicio"}),g.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all dark:text-white",value:I,onChange:X=>D(X.target.value)})]})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-xl",children:[g.jsx("button",{type:"button",onClick:()=>S("simple"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${x==="simple"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-300"}`,children:"Modo Simple"}),g.jsx("button",{type:"button",onClick:()=>S("advanced"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${x==="advanced"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-300"}`,children:"Modo Avanzado"})]}),x==="simple"?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[g.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl text-sm text-blue-700 dark:text-blue-300",children:" Ingresa cunto pagars al mes y por cunto tiempo. Calcularemos el total automticamente."}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Cuota Mensual (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"0.00",className:"w-full text-xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 focus:border-rose-500 focus:outline-none dark:text-white",value:O,onChange:X=>U(X.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Plazo (Meses)"}),g.jsx("input",{type:"number",required:!0,placeholder:"12",className:"w-full text-xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 focus:border-rose-500 focus:outline-none dark:text-white",value:z,onChange:X=>C(X.target.value)})]})]})]}):g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-2 md:col-span-1",children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Monto Prstamo (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"10000",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 dark:text-white",value:R,onChange:X=>V(X.target.value)})]}),g.jsxs("div",{className:"col-span-2 md:col-span-1",children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Plazo (Meses)"}),g.jsx("input",{type:"number",required:!0,placeholder:"24",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 dark:text-white",value:L,onChange:X=>$(X.target.value)})]})]}),g.jsxs("div",{className:"border-t border-zinc-100 dark:border-zinc-800 pt-4",children:[g.jsxs("div",{className:"flex gap-4 mb-3",children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"calcTarget",checked:E==="quota",onChange:()=>_("quota"),className:"text-rose-600 focus:ring-rose-500"}),g.jsx("span",{children:"Conozco la Tasa (%)"})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"calcTarget",checked:E==="rate",onChange:()=>_("rate"),className:"text-rose-600 focus:ring-rose-500"}),g.jsx("span",{children:"Conozco la Cuota Fija"})]})]}),E==="quota"?g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Tasa Inters Anual (%)"}),g.jsx("input",{type:"number",required:!0,placeholder:"Ej. 15.5",className:"w-full text-lg font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 focus:border-rose-500 focus:outline-none dark:text-white",value:B,onChange:X=>xe(X.target.value)})]}):g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Cuota Mensual Fija (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"Ej. 500",className:"w-full text-lg font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 focus:border-rose-500 focus:outline-none dark:text-white",value:Ae,onChange:X=>Y(X.target.value)})]})]})]}),g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800",children:g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase text-zinc-400 font-bold mb-1",children:"Total a Devolver"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:[l,Ne.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase text-zinc-400 font-bold mb-1",children:"Inters Total"}),g.jsxs("p",{className:`text-lg font-bold ${Ne-H>0?"text-rose-500":"text-zinc-500"}`,children:[l,(Ne-H).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsx("div",{className:"col-span-2 border-t border-zinc-200 dark:border-zinc-700 pt-3 mt-1",children:g.jsxs("div",{className:"flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm text-zinc-500",children:"Tasa Efectiva Anual (Estimada)"}),g.jsxs("span",{className:"text-xl font-black text-zinc-900 dark:text-zinc-100",children:[pe.toFixed(2),"%"]})]})})]})}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-zinc-100 dark:text-zinc-900 py-3.5 rounded-xl font-bold transition-all transform active:scale-[0.98] shadow-lg shadow-zinc-900/10 dark:shadow-none",children:m?"Guardar Cambios":"Crear Crdito"})]})}),g.jsx(ga,{isOpen:re.open,onClose:()=>ie({open:!1,creditId:""}),title:"Registrar Pago",children:g.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-500 bg-zinc-50 dark:bg-zinc-900/50 p-3 rounded-lg border border-zinc-100 dark:border-zinc-800",children:'Al registrar este pago, reduciremos tu deuda y crearemos un gasto en la categora "Deudas".'}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",l,")"]}),g.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full text-2xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 mt-2 focus:outline-none focus:border-emerald-500 dark:text-white",value:ye,onChange:X=>ke(X.target.value)})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3.5 rounded-xl font-bold transition-colors mt-2 shadow-lg shadow-emerald-600/20",children:"Confirmar Pago"})]})})]})},vve=()=>{const{data:t,updateData:e}=wi(),n=t.projections||{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},r=b=>{e({projections:{...n,...b}})};return{projections:n,addSimulatedTransaction:b=>{r({simulatedTransactions:[...n.simulatedTransactions,b]})},removeSimulatedTransaction:b=>{r({simulatedTransactions:n.simulatedTransactions.filter(x=>x.id!==b)})},clearSimulation:()=>{r({simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{}})},setCategoryBudgets:b=>{r({categoryBudgets:b})},setSimulatedCreditPayments:b=>{r({simulatedCreditPayments:b})},setSimulatedGoalContributions:b=>{r({simulatedGoalContributions:b})},setSimulatedFundTransfers:b=>{r({simulatedFundTransfers:b})},setToggle:(b,x)=>{r({toggles:{...n.toggles,[b]:x}})}}},bve=()=>{const{transactions:t}=jr(),{credits:e}=Nv(),{funds:n}=tf(),{goals:r,getMonthlyQuota:i}=ef(),{scheduled:s}=Jd(),{currency:l}=pr(),c=new Date,{availableBalance:d}=qm(),f=n.reduce((H,pe)=>H+pe.currentAmount,0),p=t.filter(H=>{const pe=new Date(H.date+"T12:00:00");return pe.getMonth()===c.getMonth()&&pe.getFullYear()===c.getFullYear()}),m=p.filter(H=>H.type==="income").reduce((H,pe)=>H+pe.amount,0),b=p.filter(H=>H.type==="expense").reduce((H,pe)=>H+pe.amount,0),x=T.useMemo(()=>{const H={};return p.filter(pe=>pe.type==="expense").forEach(pe=>{H[pe.category]=(H[pe.category]||0)+pe.amount}),H},[p]),{projections:S,addSimulatedTransaction:E,removeSimulatedTransaction:_,clearSimulation:k,setCategoryBudgets:P,setSimulatedCreditPayments:I,setSimulatedGoalContributions:D,setSimulatedFundTransfers:O,setToggle:U}=vve(),{simulatedTransactions:z,categoryBudgets:C,simulatedCreditPayments:R,simulatedGoalContributions:V,simulatedFundTransfers:L,toggles:$}=S,[B,xe]=T.useState(""),[Ae,Y]=T.useState(""),[re,ie]=T.useState("expense"),ye=T.useMemo(()=>new Set(R),[R]),ke=T.useMemo(()=>new Set(V),[V]),{includeGlobalBalance:q,includeFundsInBalance:K,autoIncludeScheduled:Q}=$,oe=()=>{if(!B||!Ae)return;const H=Number(Ae);isNaN(H)||H<=0||(E({id:Math.random().toString(36).substr(2,9),description:B,amount:H,type:re}),xe(""),Y(""))},ge=(()=>{let H=0;q?(H=d,K&&(H+=f)):H=0;const pe=z.filter(He=>He.type==="income").reduce((He,at)=>He+at.amount,0);let Ce=0;Q&&s.filter(He=>He.type==="income"&&He.active).forEach(He=>{const at=He.lastProcessedDate?new Date(He.lastProcessedDate+"T12:00:00"):null;at&&at.getMonth()===c.getMonth()&&at.getFullYear()===c.getFullYear()||(Ce+=He.amount)});let X=0,Ve=0;Q&&s.filter(He=>He.type==="expense"&&He.active).forEach(He=>{const at=He.lastProcessedDate?new Date(He.lastProcessedDate+"T12:00:00"):null;at&&at.getMonth()===c.getMonth()&&at.getFullYear()===c.getFullYear()||(Ve+=He.amount)});const Oe=[];Object.keys(x).forEach(He=>{const at=x[He],jn=C[He]?Number(C[He]):at,on=Math.max(at,jn);X+=on,Oe.push({category:He,real:at,projected:jn,diff:on-at})});const We=z.filter(He=>He.type==="expense").reduce((He,at)=>He+at.amount,0);let Ze=0;e.filter(He=>He.status==="active"&&ye.has(He.id)).forEach(He=>{const at=He.principal*(1+He.interestRate/100)/He.term;Ze+=at});let it=0;r.filter(He=>ke.has(He.id)).forEach(He=>{const at=i(He);it+=at});let Et=0;Object.values(L).forEach(He=>{Et+=Number(He)||0});const lt=X-b,$t=q?H+pe+Ce-lt-Ve-We-Ze-it-Et:m+pe+Ce-(b+lt+Ve+We+Ze+it+Et);return{baseBalance:H,incomeMonthReal:m,simulatedIncomeTotal:pe,scheduledIncome:Ce,expenseMonthReal:b,totalProjectedExpenses:X,simulatedExpenseTotal:We,scheduledExpenses:Ve,totalCreditSimulated:Ze,totalGoalSimulated:it,totalFundSimulated:Et,finalBalance:$t,categoryComparisons:Oe}})(),we=H=>{const pe=[...R];pe.includes(H)?I(pe.filter(Ce=>Ce!==H)):I([...pe,H])},Ne=H=>{const pe=[...V];pe.includes(H)?D(pe.filter(Ce=>Ce!==H)):D([...pe,H])};return g.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[g.jsx(ST,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),g.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula ingresos y gastos del futuro. Agrega el pan de maana o la combi de pasado."})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[g.jsxs("button",{onClick:()=>U("includeGlobalBalance",!q),className:be("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",q?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[q?g.jsx(V1,{size:18}):g.jsx(L1,{size:18}),q?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),g.jsxs("button",{onClick:()=>{q||U("includeGlobalBalance",!0),U("includeFundsInBalance",!K)},className:be("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",K?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[K?g.jsx(V1,{size:18}):g.jsx(L1,{size:18}),"Incluir Ahorros (Fondos)"]}),g.jsxs("button",{onClick:()=>U("autoIncludeScheduled",!Q),className:be("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",Q?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[Q?g.jsx(V1,{size:18}):g.jsx(L1,{size:18}),"Auto-sumar Programados"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:q?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),g.jsx("div",{className:"flex items-end gap-2",children:g.jsxs("p",{className:be("text-4xl font-black",ge.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,ge.baseBalance.toFixed(2)]})})]}),g.jsxs("div",{className:be("p-6 rounded-3xl shadow-xl border transition-colors",ge.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[g.jsx("h2",{className:be("text-sm font-bold uppercase tracking-wider mb-2",ge.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),g.jsxs("p",{className:be("text-4xl font-black",ge.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,ge.finalBalance.toFixed(2)]}),g.jsx("p",{className:"text-xs mt-2 opacity-80",children:ge.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(CZ,{size:20,className:"text-purple-500"})," Simulador de Diario"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Qu quieres simular?"}),g.jsx("input",{type:"text",placeholder:"Ej. Pan, Combi, Cachuelo...",className:"w-full bg-zinc-50 dark:bg-zinc-950 px-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:B,onChange:H=>xe(H.target.value),onKeyDown:H=>H.key==="Enter"&&oe()})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 pl-8 pr-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:Ae,onChange:H=>Y(H.target.value),onKeyDown:H=>H.key==="Enter"&&oe()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Tipo"}),g.jsxs("div",{className:"flex bg-zinc-50 dark:bg-zinc-950 rounded-xl p-1",children:[g.jsx("button",{onClick:()=>ie("expense"),className:be("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",re==="expense"?"bg-rose-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Gasto"}),g.jsx("button",{onClick:()=>ie("income"),className:be("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",re==="income"?"bg-emerald-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Ingreso"})]})]})]}),g.jsxs("button",{onClick:oe,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[g.jsx(Hi,{size:18})," Agregar"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[z.length===0?g.jsx("div",{className:"p-8 text-center text-zinc-400 text-sm italic",children:"No has agregado simulaciones an."}):g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800 max-h-60 overflow-y-auto",children:z.map(H=>g.jsxs("div",{className:"p-3 flex items-center justify-between group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:be("w-8 h-8 rounded-full flex items-center justify-center",H.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20":"bg-rose-100 text-rose-600 dark:bg-rose-900/20"),children:H.type==="income"?g.jsx(TT,{size:14}):g.jsx(cS,{size:14})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-300",children:H.description}),g.jsx("p",{className:"text-xs text-zinc-400 capitalize",children:H.type==="income"?"Ingreso":"Gasto"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:be("font-mono font-bold text-sm",H.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[H.type==="income"?"+":"-",l,H.amount.toLocaleString()]}),g.jsx("button",{onClick:()=>_(H.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Gi,{size:16})})]})]},H.id))}),z.length>0&&g.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 flex justify-between items-center text-xs font-bold uppercase text-zinc-500",children:[g.jsx("span",{children:"Total Simulado"}),g.jsxs("span",{className:be(ge.simulatedIncomeTotal-ge.simulatedExpenseTotal>=0?"text-emerald-500":"text-rose-500"),children:[l,(ge.simulatedIncomeTotal-ge.simulatedExpenseTotal).toFixed(2)]})]})]}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[g.jsx(Wd,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map(H=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:H.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold",children:H.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,H.currentAmount]})]}),g.jsxs("div",{className:"w-24 relative",children:[g.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:L[H.id]||"",onChange:pe=>O({...L,[H.id]:pe.target.value})})]})]},H.id)),n.length===0&&g.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(cS,{size:20,className:"text-rose-500"})," Presupuesto y Categoras"]}),Q&&ge.scheduledExpenses>0&&g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),g.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,ge.scheduledExpenses]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[g.jsx("div",{className:"col-span-4",children:"Categora"}),g.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),g.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),g.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:ge.categoryComparisons.map(H=>g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:H.category,children:H.category}),g.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,H.real]}),g.jsx("div",{className:"col-span-3 relative",children:g.jsx("input",{type:"number",className:be("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(C[H.category])||0)<H.real&&C[H.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:H.real.toString(),value:C[H.category]||"",onChange:pe=>P({...C,[H.category]:pe.target.value})})}),g.jsxs("div",{className:be("col-span-2 text-right text-xs font-bold",H.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,H.diff)]})]},H.category))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(um,{size:14})," Simular Crditos"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter(H=>H.status==="active").map(H=>{const pe=H.principal*(1+H.interestRate/100)/H.term,Ce=ye.has(H.id);return g.jsxs("button",{onClick:()=>we(H.id),className:be("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:be("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-rose-600 bg-rose-600":"border-zinc-400"),children:Ce&&g.jsx(BM,{size:10,className:"text-white"})}),H.name," (",l,pe.toFixed(0),")"]},H.id)}),e.filter(H=>H.status==="active").length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(ts,{size:14})," Simular Metas"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map(H=>{const pe=i(H),Ce=ke.has(H.id);return g.jsxs("button",{onClick:()=>Ne(H.id),className:be("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:be("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-purple-600 bg-purple-600":"border-zinc-400"),children:Ce&&g.jsx(BM,{size:10,className:"text-white"})}),H.name," (",l,pe.toFixed(0),")"]},H.id)}),r.length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),g.jsx("div",{className:"flex justify-end pt-8",children:g.jsxs("button",{onClick:()=>{k(),nt.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[g.jsx(Av,{size:20}),"Reiniciar Simulacin"]})})]})},BM=({size:t,className:e})=>g.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}),xve=()=>{const{signInWithGoogle:t,user:e}=Um(),n=mE(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):g.jsxs("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl pointer-events-none"}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 p-8 md:p-12 rounded-3xl shadow-2xl shadow-zinc-200/50 dark:shadow-zinc-950/50 max-w-sm w-full text-center space-y-8 animate-enter-app relative z-10",children:[g.jsx("div",{className:"flex justify-center transform scale-125 mb-8",children:g.jsx(NT,{})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Bienvenido"}),g.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:["Tu sistema financiero personal, ",g.jsx("br",{})," simplificado y seguro."]})]}),g.jsxs("div",{className:"space-y-4 pt-4",children:[g.jsxs("button",{onClick:r,className:"w-full bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-white dark:text-zinc-900 font-bold py-4 px-4 rounded-2xl flex items-center justify-center gap-3 transition-all transform active:scale-[0.98] shadow-lg shadow-zinc-900/10 dark:shadow-zinc-100/10",children:[g.jsxs("svg",{className:"w-5 h-5 bg-white rounded-full p-0.5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),g.jsx("p",{className:"text-[10px] text-zinc-400 dark:text-zinc-600 uppercase tracking-widest font-mono",children:"Vaultly Finance v2.2"})]})]})]})},wve=()=>{const{currency:t,goalPreferences:e}=pr(),{scheduled:n,addScheduled:r}=Jd(),{goals:i,addGoal:s,getMonthlyQuota:l}=ef(),{credits:c,getCreditStatus:d}=Nv(),[f,p]=T.useState(new Date),[m,b]=T.useState(new Date),[x,S]=T.useState(!1),[E,_]=T.useState("expense"),[k,P]=T.useState(new Date),[I,D]=T.useState({description:"",amount:"",category:"Varios"}),[O,U]=T.useState({name:"",targetAmount:"",deadline:"",icon:"target",calculationMethod:e.defaultCalculationMethod}),z=K=>new Date(K.getFullYear(),K.getMonth()+1,0).getDate(),C=K=>{let Q=new Date(K.getFullYear(),K.getMonth(),1).getDay();return Q===0?6:Q-1},R=()=>{p(new Date(f.getFullYear(),f.getMonth()-1,1))},V=()=>{p(new Date(f.getFullYear(),f.getMonth()+1,1))},L=(K,Q)=>K.getDate()===Q.getDate()&&K.getMonth()===Q.getMonth()&&K.getFullYear()===Q.getFullYear(),$=T.useMemo(()=>{const K=[],Q=f.getFullYear(),oe=f.getMonth();return n.forEach(de=>{if(!de.active)return;const ge=z(f),we=Math.min(de.dayOfMonth,ge),Ne=new Date(Q,oe,we);K.push({id:`sched-${de.id}-${oe}`,date:Ne,type:"scheduled",title:de.description,amount:de.amount,status:"pending",details:de})}),i.forEach(de=>{const ge=new Date(de.deadline);if(ge.getMonth()===oe&&ge.getFullYear()===Q){const we=l(de);K.push({id:`goal-${de.id}`,date:ge,type:"goal",title:`Meta: ${de.name}`,amount:we,description:"Cuota sugerida",status:"pending",details:de})}}),c.forEach(de=>{if(de.status==="paid")return;const ge=de.startDate;if(ge){const we=parseInt(ge.split("-")[2]),Ne=z(f),H=Math.min(we,Ne),pe=new Date(Q,oe,H),Ce=new Date(ge);if(pe>=Ce){const{quota:X}=d(de);K.push({id:`credit-${de.id}-${oe}`,date:pe,type:"credit",title:`Pago: ${de.name}`,amount:X,description:"Cuota estimada",status:"pending",details:de})}}}),K.sort((de,ge)=>de.date.getTime()-ge.date.getTime())},[f,n,i,c,l,d]),B=z(f),xe=C(f),Ae=$.filter(K=>L(K.date,m)),Y=K=>{b(K),ke(!0)},re=K=>{P(K),D({description:"",amount:"",category:"Varios"}),U({name:"",targetAmount:"",deadline:K.toISOString().split("T")[0],icon:"target",calculationMethod:e.defaultCalculationMethod}),S(!0)},ie=(K,Q)=>{K.preventDefault(),re(Q)},[ye,ke]=T.useState(!1),q=K=>{if(K.preventDefault(),E==="goal")s({...O,targetAmount:Number(O.targetAmount),startDate:new Date().toISOString().split("T")[0],recoveryStrategy:e.defaultRecoveryStrategy}),nt.success("Meta creada");else{if(!I.description||!I.amount)return;r({description:I.description,amount:Number(I.amount),type:E,category:I.category,dayOfMonth:k.getDate()}),nt.success("Transaccin programada")}S(!1)};return g.jsxs("div",{className:"h-[calc(100vh-6rem)] md:h-[calc(100vh-5rem)] flex flex-col gap-4 pb-4 animate-in fade-in duration-500 overflow-hidden relative",children:[!ye&&g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center px-1",children:[g.jsx("div",{children:g.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight flex items-center gap-2",children:[g.jsx(cm,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-500"}),"Calendario"]})}),g.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("button",{onClick:R,className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(R3,{size:20,className:"text-zinc-600 dark:text-zinc-400"})}),g.jsx("span",{className:"font-bold text-sm md:text-base w-24 md:w-32 text-center text-zinc-900 dark:text-zinc-100 capitalize truncate",children:f.toLocaleString("es-ES",{month:"long",year:"numeric"})}),g.jsx("button",{onClick:V,className:"p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(Tv,{size:20,className:"text-zinc-600 dark:text-zinc-400"})})]})]}),g.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-4 min-h-0 relative",children:[g.jsxs("div",{className:be("bg-white dark:bg-zinc-900 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm flex-col min-h-0",ye?"hidden lg:flex lg:flex-1":"flex flex-1"),children:[g.jsx("div",{className:"grid grid-cols-7 border-b border-zinc-100 dark:border-zinc-800",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"].map(K=>g.jsx("div",{className:"text-center text-[10px] md:text-xs font-bold text-zinc-400 uppercase tracking-wider py-2 md:py-3",children:K},K))}),g.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-6",children:[Array.from({length:xe}).map((K,Q)=>g.jsx("div",{className:"border-b border-r border-zinc-50 dark:border-zinc-800/50"},`empty-${Q}`)),Array.from({length:B}).map((K,Q)=>{const oe=new Date(f.getFullYear(),f.getMonth(),Q+1),de=L(oe,m),ge=L(oe,new Date),we=$.filter(Ne=>L(Ne.date,oe));return g.jsxs("div",{onClick:()=>Y(oe),onContextMenu:Ne=>ie(Ne,oe),className:be("relative border-b border-r border-zinc-100 dark:border-zinc-800/50 transition-colors cursor-pointer select-none active:bg-zinc-100 dark:active:bg-zinc-800",de?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-zinc-50 dark:hover:bg-zinc-800/30",ge&&"bg-zinc-50/80 dark:bg-zinc-800/40"),children:[g.jsx("div",{className:"absolute top-1 left-1 md:top-2 md:left-2",children:g.jsx("span",{className:be("flex items-center justify-center w-6 h-6 md:w-7 md:h-7 rounded-full text-xs md:text-sm font-bold transition-all",ge?"bg-indigo-600 text-white shadow-sm":de?"text-indigo-600":"text-zinc-700 dark:text-zinc-300"),children:Q+1})}),g.jsx("div",{className:"absolute bottom-1 left-1 right-1 flex flex-col gap-0.5 justify-end max-h-[60%] overflow-hidden",children:we.map((Ne,H)=>g.jsx("div",{className:be("h-1 md:h-1.5 w-full rounded-sm opacity-90 shadow-sm",Ne.type==="scheduled"&&"bg-emerald-500",Ne.type==="credit"&&"bg-rose-500",Ne.type==="goal"&&"bg-blue-500"),title:Ne.title},H))})]},Q)})]})]}),g.jsxs("div",{className:be("flex-shrink-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-4 md:p-6 shadow-sm overflow-y-auto z-20 transition-all","lg:w-80 lg:relative lg:h-auto",ye?"absolute inset-0 w-full h-full lg:static":"hidden lg:block lg:static"),children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-white dark:bg-zinc-900 z-10 pb-2 border-b border-zinc-100 dark:border-zinc-800/50 lg:border-none",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>ke(!1),className:"lg:hidden p-2 -ml-2 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full",children:g.jsx(DQ,{size:20})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 capitalize",children:m.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"long"})})]}),g.jsx("button",{onClick:()=>re(m),className:"p-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-xl hover:scale-105 transition-transform",title:"Agregar Evento",children:g.jsx(Hi,{size:18,strokeWidth:3})})]}),Ae.length===0?g.jsxs("div",{className:"text-center py-8 text-zinc-400 flex flex-col items-center justify-center h-full opacity-60",children:[g.jsx(cm,{className:"w-12 h-12 mb-3"}),g.jsx("p",{className:"text-sm font-medium",children:"Sin eventos"}),g.jsx("p",{className:"text-xs mt-1",children:"Toca el + para agregar"})]}):g.jsx("div",{className:"space-y-3 pb-20",children:Ae.map(K=>g.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl border border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950/50",children:[g.jsxs("div",{className:be("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm",K.type==="scheduled"&&"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",K.type==="credit"&&"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400",K.type==="goal"&&"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"),children:[K.type==="scheduled"&&g.jsx(Av,{size:18}),K.type==="credit"&&g.jsx(D3,{size:18}),K.type==="goal"&&g.jsx(ts,{size:18})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-wider text-zinc-500 mb-0.5",children:[K.type==="scheduled"&&"Recurrente",K.type==="credit"&&"Crdito",K.type==="goal"&&"Meta"]}),g.jsx("h4",{className:"text-base font-bold text-zinc-900 dark:text-zinc-100 truncate leading-tight",children:K.title}),K.amount>0&&g.jsxs("p",{className:"text-xs font-mono font-medium text-zinc-600 dark:text-zinc-400 mt-0.5",children:[t,K.amount.toLocaleString(void 0,{minimumFractionDigits:2}),K.type==="goal"&&" (Sugerido)"]})]})]},K.id))})]})]}),g.jsx(ga,{isOpen:x,onClose:()=>S(!1),title:`Programar para el ${k.getDate()}`,children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:["expense","income","goal"].map(K=>g.jsx("button",{onClick:()=>_(K),className:be("flex-1 py-2 text-xs font-bold rounded-lg transition-all capitalize",E===K?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"),children:K==="expense"?"Gasto":K==="income"?"Ingreso":"Meta"},K))}),E==="goal"?g.jsx(uE,{formData:O,setFormData:U,onSubmit:q,editingId:null,onCancel:()=>S(!1),currency:t}):g.jsxs("form",{onSubmit:q,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Descripcin"}),g.jsx("input",{type:"text",required:!0,autoFocus:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100",placeholder:"Ej. Netflix, Gimnasio...",value:I.description,onChange:K=>D({...I,description:K.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Monto Mensual"}),g.jsx("input",{type:"number",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100",placeholder:"0.00",value:I.amount,onChange:K=>D({...I,amount:K.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Categora"}),g.jsxs("select",{className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100",value:I.category,onChange:K=>D({...I,category:K.target.value}),children:[g.jsx("option",{value:"Varios",children:"Varios"}),g.jsx("option",{value:"Hogar",children:"Hogar"}),g.jsx("option",{value:"Servicios",children:"Servicios"}),g.jsx("option",{value:"Suscripciones",children:"Suscripciones"}),g.jsx("option",{value:"Salud",children:"Salud"}),g.jsx("option",{value:"Transporte",children:"Transporte"}),g.jsx("option",{value:"Comida",children:"Comida"})]})]}),g.jsxs("p",{className:"text-xs text-zinc-500",children:["Se programar para el da ",g.jsx("strong",{children:k.getDate()})," de cada mes."]}),g.jsxs("button",{type:"submit",className:"w-full py-3 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 rounded-xl font-bold hover:scale-[1.02] transition-all",children:["Programar ",E==="expense"?"Gasto":"Ingreso"]})]})]})})]})},_ve=({message:t="Iniciando..."})=>{const[e,n]=T.useState(!1);return T.useEffect(()=>{const r=setTimeout(()=>n(!0),300);return()=>clearTimeout(r)},[]),g.jsx("div",{className:"fixed inset-0 bg-zinc-50 dark:bg-zinc-950 flex flex-col items-center justify-center z-50",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"animate-in fade-in zoom-in duration-700 ease-out fill-mode-both",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse"}),g.jsx(kT,{className:"w-20 h-20 md:w-24 md:h-24 pb-4"})]})}),g.jsxs("div",{className:`mt-6 flex flex-col items-center transition-all duration-700 transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-[0.2em] text-zinc-900 dark:text-zinc-100 font-mono",children:"VAULTLY"}),g.jsx("div",{className:"h-1 w-12 bg-primary mt-4 rounded-full animate-pulse"})]}),g.jsx("div",{className:"absolute bottom-12 text-zinc-400 font-mono text-xs tracking-widest uppercase animate-pulse",children:t})]})})},Sve=()=>{const{user:t,loading:e}=Um(),{isLoading:n}=wi(),[r,i]=T.useState(!1);return T.useEffect(()=>{const s=setTimeout(()=>{i(!0)},2500);return()=>clearTimeout(s)},[]),e||n||!r?g.jsx(_ve,{message:e?"AUTENTICANDO...":"CARGANDO DATOS..."}):t?g.jsx(aD,{}):g.jsx(iD,{to:"/login",replace:!0})};function Eve(){return g.jsx(eQ,{children:g.jsx(NQ,{children:g.jsx(NF,{children:g.jsxs(vF,{children:[g.jsxs(Y7,{children:[g.jsx(qr,{path:"/login",element:g.jsx(xve,{})}),g.jsx(qr,{element:g.jsx(Sve,{}),children:g.jsxs(qr,{path:"/",element:g.jsx(lee,{}),children:[g.jsx(qr,{index:!0,element:g.jsx(fee,{})}),g.jsx(qr,{path:"expenses",element:g.jsx(N0e,{})}),g.jsx(qr,{path:"income",element:g.jsx(C0e,{})}),g.jsx(qr,{path:"goals",element:g.jsx(I0e,{})}),g.jsx(qr,{path:"funds",element:g.jsx(z0e,{})}),g.jsx(qr,{path:"credits",element:g.jsx(yve,{})}),g.jsx(qr,{path:"projections",element:g.jsx(bve,{})}),g.jsx(qr,{path:"projects",element:g.jsx(O0e,{})}),g.jsx(qr,{path:"calendar",element:g.jsx(wve,{})}),g.jsx(qr,{path:"*",element:g.jsx(iD,{to:"/",replace:!0})})]})})]}),g.jsx(C3,{richColors:!0,position:"top-center"})]})})})})}WU.createRoot(document.getElementById("root")).render(g.jsx(T.StrictMode,{children:g.jsx(qM,{children:g.jsx(Eve,{})})}));
