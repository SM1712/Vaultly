function DU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o1={exports:{}},oh={};var TC;function LU(){if(TC)return oh;TC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return oh.Fragment=e,oh.jsx=n,oh.jsxs=n,oh}var AC;function VU(){return AC||(AC=1,o1.exports=LU()),o1.exports}var g=VU(),l1={exports:{}},Je={};var kC;function BU(){if(kC)return Je;kC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function k(q,ee,Z){this.props=q,this.context=ee,this.refs=_,this.updater=Z||E}k.prototype.isReactComponent={},k.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},k.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function z(){}z.prototype=k.prototype;function I(q,ee,Z){this.props=q,this.context=ee,this.refs=_,this.updater=Z||E}var D=I.prototype=new z;D.constructor=I,S(D,k.prototype),D.isPureReactComponent=!0;var j=Array.isArray;function F(){}var P={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(q,ee,Z){var ce=Z.ref;return{$$typeof:t,type:q,key:ee,ref:ce!==void 0?ce:null,props:Z}}function V(q,ee){return R(q.type,ee,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Z){return ee[Z]})}var B=/\/+/g;function ve(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):ee.toString(36)}function Ae(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(ee){q.status==="pending"&&(q.status="fulfilled",q.value=ee)},function(ee){q.status==="pending"&&(q.status="rejected",q.reason=ee)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,ee,Z,ce,be){var we=typeof q;(we==="undefined"||we==="boolean")&&(q=null);var _e=!1;if(q===null)_e=!0;else switch(we){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(q.$$typeof){case t:case e:_e=!0;break;case p:return _e=q._init,K(_e(q._payload),ee,Z,ce,be)}}if(_e)return be=be(q),_e=ce===""?"."+ve(q,0):ce,j(be)?(Z="",_e!=null&&(Z=_e.replace(B,"$&/")+"/"),K(be,ee,Z,"",function(pe){return pe})):be!=null&&(L(be)&&(be=V(be,Z+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(B,"$&/")+"/")+_e)),ee.push(be)),1;_e=0;var ze=ce===""?".":ce+":";if(j(q))for(var H=0;H<q.length;H++)ce=q[H],we=ze+ve(ce,H),_e+=K(ce,ee,Z,we,be);else if(H=w(q),typeof H=="function")for(q=H.call(q),H=0;!(ce=q.next()).done;)ce=ce.value,we=ze+ve(ce,H++),_e+=K(ce,ee,Z,we,be);else if(we==="object"){if(typeof q.then=="function")return K(Ae(q),ee,Z,ce,be);throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ie(q,ee,Z){if(q==null)return q;var ce=[],be=0;return K(q,ce,"","",function(we){return ee.call(Z,we,be++)}),ce}function re(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(Z){(q._status===0||q._status===-1)&&(q._status=1,q._result=Z)},function(Z){(q._status===0||q._status===-1)&&(q._status=2,q._result=Z)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var ye=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ke={map:ie,forEach:function(q,ee,Z){ie(q,function(){ee.apply(this,arguments)},Z)},count:function(q){var ee=0;return ie(q,function(){ee++}),ee},toArray:function(q){return ie(q,function(ee){return ee})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Je.Activity=m,Je.Children=ke,Je.Component=k,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=I,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Je.__COMPILER_RUNTIME={__proto__:null,c:function(q){return P.H.useMemoCache(q)}},Je.cache=function(q){return function(){return q.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(q,ee,Z){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ce=S({},q.props),be=q.key;if(ee!=null)for(we in ee.key!==void 0&&(be=""+ee.key),ee)!C.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(ce[we]=ee[we]);var we=arguments.length-2;if(we===1)ce.children=Z;else if(1<we){for(var _e=Array(we),ze=0;ze<we;ze++)_e[ze]=arguments[ze+2];ce.children=_e}return R(q.type,be,ce)},Je.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Je.createElement=function(q,ee,Z){var ce,be={},we=null;if(ee!=null)for(ce in ee.key!==void 0&&(we=""+ee.key),ee)C.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ee[ce]);var _e=arguments.length-2;if(_e===1)be.children=Z;else if(1<_e){for(var ze=Array(_e),H=0;H<_e;H++)ze[H]=arguments[H+2];be.children=ze}if(q&&q.defaultProps)for(ce in _e=q.defaultProps,_e)be[ce]===void 0&&(be[ce]=_e[ce]);return R(q,we,be)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(q){return{$$typeof:c,render:q}},Je.isValidElement=L,Je.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:re}},Je.memo=function(q,ee){return{$$typeof:f,type:q,compare:ee===void 0?null:ee}},Je.startTransition=function(q){var ee=P.T,Z={};P.T=Z;try{var ce=q(),be=P.S;be!==null&&be(Z,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(F,ye)}catch(we){ye(we)}finally{ee!==null&&Z.types!==null&&(ee.types=Z.types),P.T=ee}},Je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Je.use=function(q){return P.H.use(q)},Je.useActionState=function(q,ee,Z){return P.H.useActionState(q,ee,Z)},Je.useCallback=function(q,ee){return P.H.useCallback(q,ee)},Je.useContext=function(q){return P.H.useContext(q)},Je.useDebugValue=function(){},Je.useDeferredValue=function(q,ee){return P.H.useDeferredValue(q,ee)},Je.useEffect=function(q,ee){return P.H.useEffect(q,ee)},Je.useEffectEvent=function(q){return P.H.useEffectEvent(q)},Je.useId=function(){return P.H.useId()},Je.useImperativeHandle=function(q,ee,Z){return P.H.useImperativeHandle(q,ee,Z)},Je.useInsertionEffect=function(q,ee){return P.H.useInsertionEffect(q,ee)},Je.useLayoutEffect=function(q,ee){return P.H.useLayoutEffect(q,ee)},Je.useMemo=function(q,ee){return P.H.useMemo(q,ee)},Je.useOptimistic=function(q,ee){return P.H.useOptimistic(q,ee)},Je.useReducer=function(q,ee,Z){return P.H.useReducer(q,ee,Z)},Je.useRef=function(q){return P.H.useRef(q)},Je.useState=function(q){return P.H.useState(q)},Je.useSyncExternalStore=function(q,ee,Z){return P.H.useSyncExternalStore(q,ee,Z)},Je.useTransition=function(){return P.H.useTransition()},Je.version="19.2.3",Je}var NC;function Dd(){return NC||(NC=1,l1.exports=BU()),l1.exports}var T=Dd();const Te=os(T),UU=DU({__proto__:null,default:Te},[T]);var c1={exports:{}},lh={},u1={exports:{}},d1={};var CC;function FU(){return CC||(CC=1,(function(t){function e(K,ie){var re=K.length;K.push(ie);e:for(;0<re;){var ye=re-1>>>1,ke=K[ye];if(0<i(ke,ie))K[ye]=ie,K[re]=ke,re=ye;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],re=K.pop();if(re!==ie){K[0]=re;e:for(var ye=0,ke=K.length,q=ke>>>1;ye<q;){var ee=2*(ye+1)-1,Z=K[ee],ce=ee+1,be=K[ce];if(0>i(Z,re))ce<ke&&0>i(be,Z)?(K[ye]=be,K[ce]=re,ye=ce):(K[ye]=Z,K[ee]=re,ye=ee);else if(ce<ke&&0>i(be,re))K[ye]=be,K[ce]=re,ye=ce;else break e}}return ie}function i(K,ie){var re=K.sortIndex-ie.sortIndex;return re!==0?re:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,b=3,w=!1,E=!1,S=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=K)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(f)}}function j(K){if(S=!1,D(K),!E)if(n(d)!==null)E=!0,F||(F=!0,$());else{var ie=n(f);ie!==null&&Ae(j,ie.startTime-K)}}var F=!1,P=-1,C=5,R=-1;function V(){return _?!0:!(t.unstable_now()-R<C)}function L(){if(_=!1,F){var K=t.unstable_now();R=K;var ie=!0;try{e:{E=!1,S&&(S=!1,z(P),P=-1),w=!0;var re=b;try{t:{for(D(K),m=n(d);m!==null&&!(m.expirationTime>K&&V());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,b=m.priorityLevel;var ke=ye(m.expirationTime<=K);if(K=t.unstable_now(),typeof ke=="function"){m.callback=ke,D(K),ie=!0;break t}m===n(d)&&r(d),D(K)}else r(d);m=n(d)}if(m!==null)ie=!0;else{var q=n(f);q!==null&&Ae(j,q.startTime-K),ie=!1}}break e}finally{m=null,b=re,w=!1}ie=void 0}}finally{ie?$():F=!1}}}var $;if(typeof I=="function")$=function(){I(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ve=B.port2;B.port1.onmessage=L,$=function(){ve.postMessage(null)}}else $=function(){k(L,0)};function Ae(K,ie){P=k(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var re=b;b=ie;try{return K()}finally{b=re}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=b;b=K;try{return ie()}finally{b=re}},t.unstable_scheduleCallback=function(K,ie,re){var ye=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,K){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=re+ke,K={id:p++,callback:ie,priorityLevel:K,startTime:re,expirationTime:ke,sortIndex:-1},re>ye?(K.sortIndex=re,e(f,K),n(d)===null&&K===n(f)&&(S?(z(P),P=-1):S=!0,Ae(j,re-ye))):(K.sortIndex=ke,e(d,K),E||w||(E=!0,F||(F=!0,$()))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var ie=b;return function(){var re=b;b=ie;try{return K.apply(this,arguments)}finally{b=re}}}})(d1)),d1}var IC;function qU(){return IC||(IC=1,u1.exports=FU()),u1.exports}var f1={exports:{}},gr={};var OC;function $U(){if(OC)return gr;OC=1;var t=Dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},gr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},gr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},gr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},gr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},gr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},gr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},gr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},gr.requestFormReset=function(d){r.d.r(d)},gr.unstable_batchedUpdates=function(d,f){return d(f)},gr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},gr.useFormStatus=function(){return l.H.useHostTransitionStatus()},gr.version="19.2.3",gr}var jC;function BM(){if(jC)return f1.exports;jC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f1.exports=$U(),f1.exports}var PC;function HU(){if(PC)return lh;PC=1;var t=qU(),e=Dd(),n=BM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),a;if(x===h)return d(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=x;else{for(var N=!1,M=v.child;M;){if(M===u){N=!0,u=v,h=x;break}if(M===h){N=!0,h=v,u=x;break}M=M.sibling}if(!N){for(M=x.child;M;){if(M===u){N=!0,u=x,h=v;break}if(M===h){N=!0,h=x,u=v;break}M=M.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function ve(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case I:return a.displayName||"Context";case z:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:ve(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return ve(a(o))}catch{}}return null}var Ae=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],ke=-1;function q(a){return{current:a}}function ee(a){0>ke||(a.current=ye[ke],ye[ke]=null,ke--)}function Z(a,o){ke++,ye[ke]=a.current,a.current=o}var ce=q(null),be=q(null),we=q(null),_e=q(null);function ze(a,o){switch(Z(we,o),Z(be,a),Z(ce,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?YN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=YN(o),a=WN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(ce),Z(ce,a)}function H(){ee(ce),ee(be),ee(we)}function pe(a){a.memoizedState!==null&&Z(_e,a);var o=ce.current,u=WN(o,a.type);o!==u&&(Z(be,a),Z(ce,u))}function Ce(a){be.current===a&&(ee(ce),ee(be)),_e.current===a&&(ee(_e),rh._currentValue=re)}var W,Le;function Oe(a){if(W===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||"",Le=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+a+Le}var We=!1;function Ze(a,o){if(!a||We)return"";We=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var ae=oe}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(oe){ae=oe}a.call(fe.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),N=x[0],M=x[1];if(N&&M){var G=N.split(`
`),ne=M.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===ne.length)for(h=G.length-1,v=ne.length-1;1<=h&&0<=v&&G[h]!==ne[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==ne[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==ne[v]){var ue=`
`+G[h].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=h&&0<=v);break}}}finally{We=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Oe(u):""}function rt(a,o){switch(a.tag){case 26:case 27:case 5:return Oe(a.type);case 16:return Oe("Lazy");case 13:return a.child!==o&&o!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ze(a.type,!1);case 11:return Ze(a.type.render,!1);case 1:return Ze(a.type,!0);case 31:return Oe("Activity");default:return""}}function St(a){try{var o="",u=null;do o+=rt(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var lt=Object.prototype.hasOwnProperty,$t=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,it=t.unstable_shouldYield,On=t.unstable_requestPaint,on=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,zr=t.unstable_ImmediatePriority,Qi=t.unstable_UserBlockingPriority,Qr=t.unstable_NormalPriority,me=t.unstable_LowPriority,gt=t.unstable_IdlePriority,Er=t.log,Rr=t.unstable_setDisableYieldValue,Jn=null,nn=null;function Sr(a){if(typeof Er=="function"&&Rr(a),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Jn,a)}catch{}}var Wt=Math.clz32?Math.clz32:Zr,Kc=Math.log,_a=Math.LN2;function Zr(a){return a>>>=0,a===0?32:31-(Kc(a)/_a|0)|0}var Ti=256,ls=262144,rn=4194304;function Jr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ge(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,x=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~x,h!==0?v=Jr(h):(N&=M,N!==0?v=Jr(N):u||(u=M&~a,u!==0&&(v=Jr(u))))):(M=h&~x,M!==0?v=Jr(M):N!==0?v=Jr(N):u||(u=h&~a,u!==0&&(v=Jr(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function Et(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function bn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var a=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),a}function Tr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ht(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function pr(a,o,u,h,v,x){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,G=a.expirationTimes,ne=a.hiddenUpdates;for(u=N&~u;0<u;){var ue=31-Wt(u),fe=1<<ue;M[ue]=0,G[ue]=-1;var ae=ne[ue];if(ae!==null)for(ne[ue]=null,ue=0;ue<ae.length;ue++){var oe=ae[ue];oe!==null&&(oe.lane&=-536870913)}u&=~fe}h!==0&&Ai(a,h,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(N&~o))}function Ai(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Wt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function er(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Wt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function tr(a,o){var u=o&-o;return u=(u&42)!==0?1:Ea(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ea(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function nr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function cf(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:vC(a.type))}function Zi(a,o){var u=ie.p;try{return ie.p=a,o()}finally{ie.p=u}}var Ji=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ji,Fn="__reactProps$"+Ji,Sa="__reactContainer$"+Ji,Yc="__reactEvents$"+Ji,hb="__reactListeners$"+Ji,cp="__reactHandles$"+Ji,up="__reactResources$"+Ji,Ta="__reactMarker$"+Ji;function Wc(a){delete a[xn],delete a[Fn],delete a[Yc],delete a[hb],delete a[cp]}function Aa(a){var o=a[xn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Sa]||u[xn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=nC(a);a!==null;){if(u=a[xn])return u;a=nC(a)}return o}a=u,u=a.parentNode}return null}function ki(a){if(a=a[xn]||a[Sa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ei(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ka(a){var o=a[up];return o||(o=a[up]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wn(a){a[Ta]=!0}var uf=new Set,df={};function Na(a,o){Ca(a,o),Ca(a+"Capture",o)}function Ca(a,o){for(df[a]=o,a=0;a<o.length;a++)uf.add(o[a])}var ff=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hf={},mf={};function dp(a){return lt.call(mf,a)?!0:lt.call(hf,a)?!1:ff.test(a)?mf[a]=!0:(hf[a]=!0,!1)}function Xc(a,o,u){if(dp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ti(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function _n(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function co(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){u=""+N,x.call(this,N)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Tt(a){if(!a._valueTracker){var o=co(a)?"checked":"value";a._valueTracker=pf(a,o,""+a[o])}}function Tl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=co(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Ia(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Al=/[\n"\\]/g;function Mr(a){return a.replace(Al,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qc(a,o,u,h,v,x,N,M){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+qn(o)):a.value!==""+qn(o)&&(a.value=""+qn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?gf(a,N,qn(o)):u!=null?gf(a,N,qn(u)):h!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+qn(M):a.removeAttribute("name")}function fp(a,o,u,h,v,x,N,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Tt(a);return}u=u!=null?""+qn(u):"",o=o!=null?""+qn(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Tt(a)}function gf(a,o,u){o==="number"&&Ia(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function uo(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+qn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function hp(a,o,u){if(o!=null&&(o=""+qn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+qn(u):""}function fo(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ae(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=qn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),Tt(a)}function Dr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||mp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function vf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&yf(a,v,h)}else for(var x in o)o.hasOwnProperty(x)&&yf(a,x,o[x])}function Zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(a){return ho.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ea(){}var bf=null;function Ni(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var mo=null,Oa=null;function kl(a){var o=ki(a);if(o&&(a=o.stateNode)){var u=a[Fn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Qc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Fn]||null;if(!v)throw Error(r(90));Qc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Tl(h)}break e;case"textarea":hp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&uo(a,!!u.multiple,o,!1)}}}var eu=!1;function po(a,o,u){if(eu)return a(o,u);eu=!0;try{var h=a(o);return h}finally{if(eu=!1,(mo!==null||Oa!==null)&&(lg(),mo&&(o=mo,a=Oa,Oa=mo=null,kl(o),a)))for(o=0;o<a.length;o++)kl(a[o])}}function ta(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Fn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(Ci)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Nl=!1}var ja=null,xf=null,Cl=null;function wf(){if(Cl)return Cl;var a,o=xf,u=o.length,h,v="value"in ja?ja.value:ja.textContent,x=v.length;for(a=0;a<u&&o[a]===v[a];a++);var N=u-a;for(h=1;h<=N&&o[u-h]===v[x-h];h++);return Cl=v.slice(a,1<h?1-h:void 0)}function Il(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function cs(){return!0}function na(){return!1}function rr(a){function o(u,h,v,x,N){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?cs:na,this.isPropagationStopped=na,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),o}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=rr(us),go=m({},us,{view:0,detail:0}),_f=rr(go),yo,tu,za,nu=m({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==za&&(za&&a.type==="mousemove"?(yo=a.screenX-za.screenX,tu=a.screenY-za.screenY):tu=yo=0,za=a),yo)},movementY:function(a){return"movementY"in a?a.movementY:tu}}),Ef=rr(nu),Ol=m({},nu,{dataTransfer:0}),gp=rr(Ol),yp=m({},go,{relatedTarget:0}),jl=rr(yp),Sf=m({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=rr(Sf),ru=m({},us,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),bp=rr(ru),xp=m({},us,{data:0}),Ra=rr(xp),wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Ep[a])?!!o[a]:!1}function vo(){return Sp}var Ar=m({},go,{key:function(a){if(a.key){var o=wp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Il(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_p[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vo,charCode:function(a){return a.type==="keypress"?Il(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Il(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Tp=rr(Ar),Ap=m({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=rr(Ap),y=m({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vo}),A=rr(y),O=m({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=rr(O),J=m({},nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),se=rr(J),Se=m({},us,{newState:0,oldState:0}),et=rr(Se),fn=[9,13,27,32],wt=Ci&&"CompositionEvent"in window,Xt=null;Ci&&"documentMode"in document&&(Xt=document.documentMode);var Ii=Ci&&"TextEvent"in window&&!Xt,Ma=Ci&&(!wt||Xt&&8<Xt&&11>=Xt),ra=" ",ia=!1;function Pl(a,o){switch(a){case"keyup":return fn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var au=!1;function oB(a,o){switch(a){case"compositionend":return iu(o);case"keypress":return o.which!==32?null:(ia=!0,ra);case"textInput":return a=o.data,a===ra&&ia?null:a;default:return null}}function lB(a,o){if(au)return a==="compositionend"||!wt&&Pl(a,o)?(a=wf(),Cl=xf=ja=null,au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ma&&o.locale!=="ko"?null:o.data;default:return null}}var cB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!cB[a.type]:o==="textarea"}function sA(a,o,u,h){mo?Oa?Oa.push(h):Oa=[h]:mo=h,o=pg(o,"onChange"),0<o.length&&(u=new Pa("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Tf=null,Af=null;function uB(a){FN(a,0)}function kp(a){var o=ei(a);if(Tl(o))return a}function oA(a,o){if(a==="change")return o}var lA=!1;if(Ci){var mb;if(Ci){var pb="oninput"in document;if(!pb){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),pb=typeof cA.oninput=="function"}mb=pb}else mb=!1;lA=mb&&(!document.documentMode||9<document.documentMode)}function uA(){Tf&&(Tf.detachEvent("onpropertychange",dA),Af=Tf=null)}function dA(a){if(a.propertyName==="value"&&kp(Af)){var o=[];sA(o,Af,a,Ni(a)),po(uB,o)}}function dB(a,o,u){a==="focusin"?(uA(),Tf=o,Af=u,Tf.attachEvent("onpropertychange",dA)):a==="focusout"&&uA()}function fB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kp(Af)}function hB(a,o){if(a==="click")return kp(o)}function mB(a,o){if(a==="input"||a==="change")return kp(o)}function pB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ni=typeof Object.is=="function"?Object.is:pB;function kf(a,o){if(ni(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!lt.call(o,v)||!ni(a[v],o[v]))return!1}return!0}function fA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hA(a,o){var u=fA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=fA(u)}}function mA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?mA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function pA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ia(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ia(a.document)}return o}function gb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var gB=Ci&&"documentMode"in document&&11>=document.documentMode,su=null,yb=null,Nf=null,vb=!1;function gA(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vb||su==null||su!==Ia(h)||(h=su,"selectionStart"in h&&gb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nf&&kf(Nf,h)||(Nf=h,h=pg(yb,"onSelect"),0<h.length&&(o=new Pa("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=su)))}function zl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ou={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},bb={},yA={};Ci&&(yA=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function Rl(a){if(bb[a])return bb[a];if(!ou[a])return a;var o=ou[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in yA)return bb[a]=o[u];return a}var vA=Rl("animationend"),bA=Rl("animationiteration"),xA=Rl("animationstart"),yB=Rl("transitionrun"),vB=Rl("transitionstart"),bB=Rl("transitioncancel"),wA=Rl("transitionend"),_A=new Map,xb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xb.push("scrollEnd");function aa(a,o){_A.set(a,o),Na(o,[a])}var Np=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Oi=[],lu=0,wb=0;function Cp(){for(var a=lu,o=wb=lu=0;o<a;){var u=Oi[o];Oi[o++]=null;var h=Oi[o];Oi[o++]=null;var v=Oi[o];Oi[o++]=null;var x=Oi[o];if(Oi[o++]=null,h!==null&&v!==null){var N=h.pending;N===null?v.next=v:(v.next=N.next,N.next=v),h.pending=v}x!==0&&EA(u,v,x)}}function Ip(a,o,u,h){Oi[lu++]=a,Oi[lu++]=o,Oi[lu++]=u,Oi[lu++]=h,wb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function _b(a,o,u,h){return Ip(a,o,u,h),Op(a)}function Ml(a,o){return Ip(a,null,null,o),Op(a)}function EA(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=a.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Wt(u),a=x.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),x):null}function Op(a){if(50<Xf)throw Xf=0,Ox=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var cu={};function xB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,o,u,h){return new xB(a,o,u,h)}function Eb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fs(a,o){var u=a.alternate;return u===null?(u=ri(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function SA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function jp(a,o,u,h,v,x){var N=0;if(h=a,typeof a=="function")Eb(a)&&(N=1);else if(typeof a=="string")N=TU(a,u,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ri(31,u,o,v),a.elementType=R,a.lanes=x,a;case S:return Dl(u.children,v,x,o);case _:N=8,v|=24;break;case k:return a=ri(12,u,o,v|2),a.elementType=k,a.lanes=x,a;case j:return a=ri(13,u,o,v),a.elementType=j,a.lanes=x,a;case F:return a=ri(19,u,o,v),a.elementType=F,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:N=10;break e;case z:N=9;break e;case D:N=11;break e;case P:N=14;break e;case C:N=16,h=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ri(N,u,o,v),o.elementType=a,o.type=h,o.lanes=x,o}function Dl(a,o,u,h){return a=ri(7,a,h,o),a.lanes=u,a}function Sb(a,o,u){return a=ri(6,a,null,o),a.lanes=u,a}function TA(a){var o=ri(18,null,null,0);return o.stateNode=a,o}function Tb(a,o,u){return o=ri(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var AA=new WeakMap;function ji(a,o){if(typeof a=="object"&&a!==null){var u=AA.get(a);return u!==void 0?u:(o={value:a,source:o,stack:St(o)},AA.set(a,o),o)}return{value:a,source:o,stack:St(o)}}var uu=[],du=0,Pp=null,Cf=0,Pi=[],zi=0,bo=null,Da=1,La="";function hs(a,o){uu[du++]=Cf,uu[du++]=Pp,Pp=a,Cf=o}function kA(a,o,u){Pi[zi++]=Da,Pi[zi++]=La,Pi[zi++]=bo,bo=a;var h=Da;a=La;var v=32-Wt(h)-1;h&=~(1<<v),u+=1;var x=32-Wt(o)+v;if(30<x){var N=v-v%5;x=(h&(1<<N)-1).toString(32),h>>=N,v-=N,Da=1<<32-Wt(o)+v|u<<v|h,La=x+a}else Da=1<<x|u<<v|h,La=a}function Ab(a){a.return!==null&&(hs(a,1),kA(a,1,0))}function kb(a){for(;a===Pp;)Pp=uu[--du],uu[du]=null,Cf=uu[--du],uu[du]=null;for(;a===bo;)bo=Pi[--zi],Pi[zi]=null,La=Pi[--zi],Pi[zi]=null,Da=Pi[--zi],Pi[zi]=null}function NA(a,o){Pi[zi++]=Da,Pi[zi++]=La,Pi[zi++]=bo,Da=o.id,La=o.overflow,bo=a}var ir=null,Gt=null,mt=!1,xo=null,Ri=!1,Nb=Error(r(519));function wo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw If(ji(o,a)),Nb}function CA(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[xn]=a,o[Fn]=h,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<Zf.length;u++)ut(Zf[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),fp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),fo(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||GN(o.textContent,u)?(h.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),h.onScroll!=null&&ut("scroll",o),h.onScrollEnd!=null&&ut("scrollend",o),h.onClick!=null&&(o.onclick=ea),o=!0):o=!1,o||wo(a,!0)}function IA(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:ir=ir.return}}function fu(a){if(a!==ir)return!1;if(!mt)return IA(a),mt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Gx(a.type,a.memoizedProps)),u=!u),u&&Gt&&wo(a),IA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=tC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Gt=tC(a)}else o===27?(o=Gt,Ro(a.type)?(a=Qx,Qx=null,Gt=a):Gt=o):Gt=ir?Di(a.stateNode.nextSibling):null;return!0}function Ll(){Gt=ir=null,mt=!1}function Cb(){var a=xo;return a!==null&&(Ur===null?Ur=a:Ur.push.apply(Ur,a),xo=null),a}function If(a){xo===null?xo=[a]:xo.push(a)}var Ib=q(null),Vl=null,ms=null;function _o(a,o,u){Z(Ib,o._currentValue),o._currentValue=u}function ps(a){a._currentValue=Ib.current,ee(Ib)}function Ob(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function jb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var N=v.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=v;for(var G=0;G<o.length;G++)if(M.context===o[G]){x.lanes|=u,M=x.alternate,M!==null&&(M.lanes|=u),Ob(x.return,u,a),h||(N=null);break e}x=M.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=u,x=N.alternate,x!==null&&(x.lanes|=u),Ob(N,u,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function hu(a,o,u,h){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var M=v.type;ni(v.pendingProps.value,N.value)||(a!==null?a.push(M):a=[M])}}else if(v===_e.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(rh):a=[rh])}v=v.return}a!==null&&jb(o,a,u,h),o.flags|=262144}function zp(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Bl(a){Vl=a,ms=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return OA(Vl,a)}function Rp(a,o){return Vl===null&&Bl(a),OA(a,o)}function OA(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ms===null){if(a===null)throw Error(r(308));ms=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ms=ms.next=o;return u}var wB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},_B=t.unstable_scheduleCallback,EB=t.unstable_NormalPriority,En={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pb(){return{controller:new wB,data:new Map,refCount:0}}function Of(a){a.refCount--,a.refCount===0&&_B(EB,function(){a.controller.abort()})}var jf=null,zb=0,mu=0,pu=null;function SB(a,o){if(jf===null){var u=jf=[];zb=0,mu=Dx(),pu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return zb++,o.then(jA,jA),o}function jA(){if(--zb===0&&jf!==null){pu!==null&&(pu.status="fulfilled");var a=jf;jf=null,mu=0,pu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function TB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var PA=K.S;K.S=function(a,o){gN=on(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&SB(a,o),PA!==null&&PA(a,o)};var Ul=q(null);function Rb(){var a=Ul.current;return a!==null?a:Bt.pooledCache}function Mp(a,o){o===null?Z(Ul,Ul.current):Z(Ul,o.pool)}function zA(){var a=Rb();return a===null?null:{parent:En._currentValue,pool:a}}var gu=Error(r(460)),Mb=Error(r(474)),Dp=Error(r(542)),Lp={then:function(){}};function RA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function MA(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ea,ea),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,LA(a),a;default:if(typeof o.status=="string")o.then(ea,ea);else{if(a=Bt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,LA(a),a}throw ql=o,gu}}function Fl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ql=u,gu):u}}var ql=null;function DA(){if(ql===null)throw Error(r(459));var a=ql;return ql=null,a}function LA(a){if(a===gu||a===Dp)throw Error(r(483))}var yu=null,Pf=0;function Vp(a){var o=Pf;return Pf+=1,yu===null&&(yu=[]),MA(yu,a,o)}function zf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Bp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function VA(a){function o(X,Y){if(a){var te=X.deletions;te===null?(X.deletions=[Y],X.flags|=16):te.push(Y)}}function u(X,Y){if(!a)return null;for(;Y!==null;)o(X,Y),Y=Y.sibling;return null}function h(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function v(X,Y){return X=fs(X,Y),X.index=0,X.sibling=null,X}function x(X,Y,te){return X.index=te,a?(te=X.alternate,te!==null?(te=te.index,te<Y?(X.flags|=67108866,Y):te):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function N(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function M(X,Y,te,de){return Y===null||Y.tag!==6?(Y=Sb(te,X.mode,de),Y.return=X,Y):(Y=v(Y,te),Y.return=X,Y)}function G(X,Y,te,de){var Fe=te.type;return Fe===S?ue(X,Y,te.props.children,de,te.key):Y!==null&&(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Fl(Fe)===Y.type)?(Y=v(Y,te.props),zf(Y,te),Y.return=X,Y):(Y=jp(te.type,te.key,te.props,null,X.mode,de),zf(Y,te),Y.return=X,Y)}function ne(X,Y,te,de){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=Tb(te,X.mode,de),Y.return=X,Y):(Y=v(Y,te.children||[]),Y.return=X,Y)}function ue(X,Y,te,de,Fe){return Y===null||Y.tag!==7?(Y=Dl(te,X.mode,de,Fe),Y.return=X,Y):(Y=v(Y,te),Y.return=X,Y)}function fe(X,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Sb(""+Y,X.mode,te),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return te=jp(Y.type,Y.key,Y.props,null,X.mode,te),zf(te,Y),te.return=X,te;case E:return Y=Tb(Y,X.mode,te),Y.return=X,Y;case C:return Y=Fl(Y),fe(X,Y,te)}if(Ae(Y)||$(Y))return Y=Dl(Y,X.mode,te,null),Y.return=X,Y;if(typeof Y.then=="function")return fe(X,Vp(Y),te);if(Y.$$typeof===I)return fe(X,Rp(X,Y),te);Bp(X,Y)}return null}function ae(X,Y,te,de){var Fe=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Fe!==null?null:M(X,Y,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Fe?G(X,Y,te,de):null;case E:return te.key===Fe?ne(X,Y,te,de):null;case C:return te=Fl(te),ae(X,Y,te,de)}if(Ae(te)||$(te))return Fe!==null?null:ue(X,Y,te,de,null);if(typeof te.then=="function")return ae(X,Y,Vp(te),de);if(te.$$typeof===I)return ae(X,Y,Rp(X,te),de);Bp(X,te)}return null}function oe(X,Y,te,de,Fe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(te)||null,M(Y,X,""+de,Fe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return X=X.get(de.key===null?te:de.key)||null,G(Y,X,de,Fe);case E:return X=X.get(de.key===null?te:de.key)||null,ne(Y,X,de,Fe);case C:return de=Fl(de),oe(X,Y,te,de,Fe)}if(Ae(de)||$(de))return X=X.get(te)||null,ue(Y,X,de,Fe,null);if(typeof de.then=="function")return oe(X,Y,te,Vp(de),Fe);if(de.$$typeof===I)return oe(X,Y,te,Rp(Y,de),Fe);Bp(Y,de)}return null}function Re(X,Y,te,de){for(var Fe=null,vt=null,Be=Y,nt=Y=0,ft=null;Be!==null&&nt<te.length;nt++){Be.index>nt?(ft=Be,Be=null):ft=Be.sibling;var bt=ae(X,Be,te[nt],de);if(bt===null){Be===null&&(Be=ft);break}a&&Be&&bt.alternate===null&&o(X,Be),Y=x(bt,Y,nt),vt===null?Fe=bt:vt.sibling=bt,vt=bt,Be=ft}if(nt===te.length)return u(X,Be),mt&&hs(X,nt),Fe;if(Be===null){for(;nt<te.length;nt++)Be=fe(X,te[nt],de),Be!==null&&(Y=x(Be,Y,nt),vt===null?Fe=Be:vt.sibling=Be,vt=Be);return mt&&hs(X,nt),Fe}for(Be=h(Be);nt<te.length;nt++)ft=oe(Be,X,nt,te[nt],de),ft!==null&&(a&&ft.alternate!==null&&Be.delete(ft.key===null?nt:ft.key),Y=x(ft,Y,nt),vt===null?Fe=ft:vt.sibling=ft,vt=ft);return a&&Be.forEach(function(Bo){return o(X,Bo)}),mt&&hs(X,nt),Fe}function Ke(X,Y,te,de){if(te==null)throw Error(r(151));for(var Fe=null,vt=null,Be=Y,nt=Y=0,ft=null,bt=te.next();Be!==null&&!bt.done;nt++,bt=te.next()){Be.index>nt?(ft=Be,Be=null):ft=Be.sibling;var Bo=ae(X,Be,bt.value,de);if(Bo===null){Be===null&&(Be=ft);break}a&&Be&&Bo.alternate===null&&o(X,Be),Y=x(Bo,Y,nt),vt===null?Fe=Bo:vt.sibling=Bo,vt=Bo,Be=ft}if(bt.done)return u(X,Be),mt&&hs(X,nt),Fe;if(Be===null){for(;!bt.done;nt++,bt=te.next())bt=fe(X,bt.value,de),bt!==null&&(Y=x(bt,Y,nt),vt===null?Fe=bt:vt.sibling=bt,vt=bt);return mt&&hs(X,nt),Fe}for(Be=h(Be);!bt.done;nt++,bt=te.next())bt=oe(Be,X,nt,bt.value,de),bt!==null&&(a&&bt.alternate!==null&&Be.delete(bt.key===null?nt:bt.key),Y=x(bt,Y,nt),vt===null?Fe=bt:vt.sibling=bt,vt=bt);return a&&Be.forEach(function(MU){return o(X,MU)}),mt&&hs(X,nt),Fe}function Mt(X,Y,te,de){if(typeof te=="object"&&te!==null&&te.type===S&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Fe=te.key;Y!==null;){if(Y.key===Fe){if(Fe=te.type,Fe===S){if(Y.tag===7){u(X,Y.sibling),de=v(Y,te.props.children),de.return=X,X=de;break e}}else if(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Fl(Fe)===Y.type){u(X,Y.sibling),de=v(Y,te.props),zf(de,te),de.return=X,X=de;break e}u(X,Y);break}else o(X,Y);Y=Y.sibling}te.type===S?(de=Dl(te.props.children,X.mode,de,te.key),de.return=X,X=de):(de=jp(te.type,te.key,te.props,null,X.mode,de),zf(de,te),de.return=X,X=de)}return N(X);case E:e:{for(Fe=te.key;Y!==null;){if(Y.key===Fe)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){u(X,Y.sibling),de=v(Y,te.children||[]),de.return=X,X=de;break e}else{u(X,Y);break}else o(X,Y);Y=Y.sibling}de=Tb(te,X.mode,de),de.return=X,X=de}return N(X);case C:return te=Fl(te),Mt(X,Y,te,de)}if(Ae(te))return Re(X,Y,te,de);if($(te)){if(Fe=$(te),typeof Fe!="function")throw Error(r(150));return te=Fe.call(te),Ke(X,Y,te,de)}if(typeof te.then=="function")return Mt(X,Y,Vp(te),de);if(te.$$typeof===I)return Mt(X,Y,Rp(X,te),de);Bp(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(u(X,Y.sibling),de=v(Y,te),de.return=X,X=de):(u(X,Y),de=Sb(te,X.mode,de),de.return=X,X=de),N(X)):u(X,Y)}return function(X,Y,te,de){try{Pf=0;var Fe=Mt(X,Y,te,de);return yu=null,Fe}catch(Be){if(Be===gu||Be===Dp)throw Be;var vt=ri(29,Be,null,X.mode);return vt.lanes=de,vt.return=X,vt}}}var $l=VA(!0),BA=VA(!1),Eo=!1;function Db(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function So(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function To(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(_t&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Op(a),EA(a,null,u),o}return Ip(a,h,o,u),Op(a)}function Rf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,er(a,u)}}function Vb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=N:x=x.next=N,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Bb=!1;function Mf(){if(Bb){var a=pu;if(a!==null)throw a}}function Df(a,o,u,h){Bb=!1;var v=a.updateQueue;Eo=!1;var x=v.firstBaseUpdate,N=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var G=M,ne=G.next;G.next=null,N===null?x=ne:N.next=ne,N=G;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==N&&(M===null?ue.firstBaseUpdate=ne:M.next=ne,ue.lastBaseUpdate=G))}if(x!==null){var fe=v.baseState;N=0,ue=ne=G=null,M=x;do{var ae=M.lane&-536870913,oe=ae!==M.lane;if(oe?(dt&ae)===ae:(h&ae)===ae){ae!==0&&ae===mu&&(Bb=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Re=a,Ke=M;ae=o;var Mt=u;switch(Ke.tag){case 1:if(Re=Ke.payload,typeof Re=="function"){fe=Re.call(Mt,fe,ae);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ke.payload,ae=typeof Re=="function"?Re.call(Mt,fe,ae):Re,ae==null)break e;fe=m({},fe,ae);break e;case 2:Eo=!0}}ae=M.callback,ae!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(ne=ue=oe,G=fe):ue=ue.next=oe,N|=ae;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);ue===null&&(G=fe),v.baseState=G,v.firstBaseUpdate=ne,v.lastBaseUpdate=ue,x===null&&(v.shared.lanes=0),Io|=N,a.lanes=N,a.memoizedState=fe}}function UA(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function FA(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)UA(u[a],o)}var vu=q(null),Up=q(0);function qA(a,o){a=Ss,Z(Up,a),Z(vu,o),Ss=a|o.baseLanes}function Ub(){Z(Up,Ss),Z(vu,vu.current)}function Fb(){Ss=Up.current,ee(vu),ee(Up)}var ii=q(null),Mi=null;function Ao(a){var o=a.alternate;Z(hn,hn.current&1),Z(ii,a),Mi===null&&(o===null||vu.current!==null||o.memoizedState!==null)&&(Mi=a)}function qb(a){Z(hn,hn.current),Z(ii,a),Mi===null&&(Mi=a)}function $A(a){a.tag===22?(Z(hn,hn.current),Z(ii,a),Mi===null&&(Mi=a)):ko()}function ko(){Z(hn,hn.current),Z(ii,ii.current)}function ai(a){ee(ii),Mi===a&&(Mi=null),ee(hn)}var hn=q(0);function Fp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Wx(u)||Xx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gs=0,tt=null,zt=null,Sn=null,qp=!1,bu=!1,Hl=!1,$p=0,Lf=0,xu=null,AB=0;function ln(){throw Error(r(321))}function $b(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ni(a[u],o[u]))return!1;return!0}function Hb(a,o,u,h,v,x){return gs=x,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?kk:sx,Hl=!1,x=u(h,v),Hl=!1,bu&&(x=GA(o,u,h,v)),HA(a),x}function HA(a){K.H=Uf;var o=zt!==null&&zt.next!==null;if(gs=0,Sn=zt=tt=null,qp=!1,Lf=0,xu=null,o)throw Error(r(300));a===null||Tn||(a=a.dependencies,a!==null&&zp(a)&&(Tn=!0))}function GA(a,o,u,h){tt=a;var v=0;do{if(bu&&(xu=null),Lf=0,bu=!1,25<=v)throw Error(r(301));if(v+=1,Sn=zt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=Nk,x=o(u,h)}while(bu);return x}function kB(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Vf(o):o,a=a.useState()[0],(zt!==null?zt.memoizedState:null)!==a&&(tt.flags|=1024),o}function Gb(){var a=$p!==0;return $p=0,a}function Kb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Yb(a){if(qp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}qp=!1}gs=0,Sn=zt=tt=null,bu=!1,Lf=$p=0,xu=null}function kr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?tt.memoizedState=Sn=a:Sn=Sn.next=a,Sn}function mn(){if(zt===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=zt.next;var o=Sn===null?tt.memoizedState:Sn.next;if(o!==null)Sn=o,zt=a;else{if(a===null)throw tt.alternate===null?Error(r(467)):Error(r(310));zt=a,a={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Sn===null?tt.memoizedState=Sn=a:Sn=Sn.next=a}return Sn}function Hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vf(a){var o=Lf;return Lf+=1,xu===null&&(xu=[]),a=MA(xu,a,o),o=tt,(Sn===null?o.memoizedState:Sn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?kk:sx),a}function Gp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vf(a);if(a.$$typeof===I)return ar(a)}throw Error(r(438,String(a)))}function Wb(a){var o=null,u=tt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Hp(),tt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=V;return o.index++,u}function ys(a,o){return typeof o=="function"?o(a):o}function Kp(a){var o=mn();return Xb(o,zt,a)}function Xb(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,x=h.pending;if(x!==null){if(v!==null){var N=v.next;v.next=x.next,x.next=N}o.baseQueue=v=x,h.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var M=N=null,G=null,ne=o,ue=!1;do{var fe=ne.lane&-536870913;if(fe!==ne.lane?(dt&fe)===fe:(gs&fe)===fe){var ae=ne.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),fe===mu&&(ue=!0);else if((gs&ae)===ae){ne=ne.next,ae===mu&&(ue=!0);continue}else fe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=fe,N=x):G=G.next=fe,tt.lanes|=ae,Io|=ae;fe=ne.action,Hl&&u(x,fe),x=ne.hasEagerState?ne.eagerState:u(x,fe)}else ae={lane:fe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(M=G=ae,N=x):G=G.next=ae,tt.lanes|=fe,Io|=fe;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?N=x:G.next=M,!ni(x,a.memoizedState)&&(Tn=!0,ue&&(u=pu,u!==null)))throw u;a.memoizedState=x,a.baseState=N,a.baseQueue=G,h.lastRenderedState=x}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Qb(a){var o=mn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var N=v=v.next;do x=a(x,N.action),N=N.next;while(N!==v);ni(x,o.memoizedState)||(Tn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function KA(a,o,u){var h=tt,v=mn(),x=mt;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!ni((zt||v).memoizedState,u);if(N&&(v.memoizedState=u,Tn=!0),v=v.queue,ex(XA.bind(null,h,v,a),[a]),v.getSnapshot!==o||N||Sn!==null&&Sn.memoizedState.tag&1){if(h.flags|=2048,wu(9,{destroy:void 0},WA.bind(null,h,v,u,o),null),Bt===null)throw Error(r(349));x||(gs&127)!==0||YA(h,o,u)}return u}function YA(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=tt.updateQueue,o===null?(o=Hp(),tt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function WA(a,o,u,h){o.value=u,o.getSnapshot=h,QA(o)&&ZA(a)}function XA(a,o,u){return u(function(){QA(o)&&ZA(a)})}function QA(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ni(a,u)}catch{return!0}}function ZA(a){var o=Ml(a,2);o!==null&&Fr(o,a,2)}function Zb(a){var o=kr();if(typeof a=="function"){var u=a;if(a=u(),Hl){Sr(!0);try{u()}finally{Sr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:a},o}function JA(a,o,u,h){return a.baseState=u,Xb(a,zt,typeof h=="function"?h:ys)}function NB(a,o,u,h,v){if(Xp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};K.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,ek(o,x)):(x.next=u.next,o.pending=u.next=x)}}function ek(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var x=K.T,N={};K.T=N;try{var M=u(v,h),G=K.S;G!==null&&G(N,M),tk(a,o,M)}catch(ne){Jb(a,o,ne)}finally{x!==null&&N.types!==null&&(x.types=N.types),K.T=x}}else try{x=u(v,h),tk(a,o,x)}catch(ne){Jb(a,o,ne)}}function tk(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){nk(a,o,h)},function(h){return Jb(a,o,h)}):nk(a,o,u)}function nk(a,o,u){o.status="fulfilled",o.value=u,rk(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,ek(a,u)))}function Jb(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,rk(o),o=o.next;while(o!==h)}a.action=null}function rk(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function ik(a,o){return o}function ak(a,o){if(mt){var u=Bt.formState;if(u!==null){e:{var h=tt;if(mt){if(Gt){t:{for(var v=Gt,x=Ri;v.nodeType!==8;){if(!x){v=null;break t}if(v=Di(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Gt=Di(v.nextSibling),h=v.data==="F!";break e}}wo(h)}h=!1}h&&(o=u[0])}}return u=kr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ik,lastRenderedState:o},u.queue=h,u=Sk.bind(null,tt,h),h.dispatch=u,h=Zb(!1),x=ax.bind(null,tt,!1,h.queue),h=kr(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=NB.bind(null,tt,v,x,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function sk(a){var o=mn();return ok(o,zt,a)}function ok(a,o,u){if(o=Xb(a,o,ik)[0],a=Kp(ys)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Vf(o)}catch(N){throw N===gu?Dp:N}else h=o;o=mn();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(tt.flags|=2048,wu(9,{destroy:void 0},CB.bind(null,v,u),null)),[h,x,a]}function CB(a,o){a.action=o}function lk(a){var o=mn(),u=zt;if(u!==null)return ok(o,u,a);mn(),o=o.memoizedState,u=mn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function wu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=tt.updateQueue,o===null&&(o=Hp(),tt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function ck(){return mn().memoizedState}function Yp(a,o,u,h){var v=kr();tt.flags|=a,v.memoizedState=wu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Wp(a,o,u,h){var v=mn();h=h===void 0?null:h;var x=v.memoizedState.inst;zt!==null&&h!==null&&$b(h,zt.memoizedState.deps)?v.memoizedState=wu(o,x,u,h):(tt.flags|=a,v.memoizedState=wu(1|o,x,u,h))}function uk(a,o){Yp(8390656,8,a,o)}function ex(a,o){Wp(2048,8,a,o)}function IB(a){tt.flags|=4;var o=tt.updateQueue;if(o===null)o=Hp(),tt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function dk(a){var o=mn().memoizedState;return IB({ref:o,nextImpl:a}),function(){if((_t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function fk(a,o){return Wp(4,2,a,o)}function hk(a,o){return Wp(4,4,a,o)}function mk(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function pk(a,o,u){u=u!=null?u.concat([a]):null,Wp(4,4,mk.bind(null,o,a),u)}function tx(){}function gk(a,o){var u=mn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&$b(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function yk(a,o){var u=mn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&$b(o,h[1]))return h[0];if(h=a(),Hl){Sr(!0);try{a()}finally{Sr(!1)}}return u.memoizedState=[h,o],h}function nx(a,o,u){return u===void 0||(gs&1073741824)!==0&&(dt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=vN(),tt.lanes|=a,Io|=a,u)}function vk(a,o,u,h){return ni(u,o)?u:vu.current!==null?(a=nx(a,u,h),ni(a,o)||(Tn=!0),a):(gs&42)===0||(gs&1073741824)!==0&&(dt&261930)===0?(Tn=!0,a.memoizedState=u):(a=vN(),tt.lanes|=a,Io|=a,o)}function bk(a,o,u,h,v){var x=ie.p;ie.p=x!==0&&8>x?x:8;var N=K.T,M={};K.T=M,ax(a,!1,o,u);try{var G=v(),ne=K.S;if(ne!==null&&ne(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=TB(G,h);Bf(a,o,ue,li(a))}else Bf(a,o,h,li(a))}catch(fe){Bf(a,o,{then:function(){},status:"rejected",reason:fe},li())}finally{ie.p=x,N!==null&&M.types!==null&&(N.types=M.types),K.T=N}}function OB(){}function rx(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=xk(a).queue;bk(a,v,o,re,u===null?OB:function(){return wk(a),u(h)})}function xk(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function wk(a){var o=xk(a);o.next===null&&(o=a.alternate.memoizedState),Bf(a,o.next.queue,{},li())}function ix(){return ar(rh)}function _k(){return mn().memoizedState}function Ek(){return mn().memoizedState}function jB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=li();a=So(u);var h=To(o,a,u);h!==null&&(Fr(h,o,u),Rf(h,o,u)),o={cache:Pb()},a.payload=o;return}o=o.return}}function PB(a,o,u){var h=li();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xp(a)?Tk(o,u):(u=_b(a,o,u,h),u!==null&&(Fr(u,a,h),Ak(u,o,h)))}function Sk(a,o,u){var h=li();Bf(a,o,u,h)}function Bf(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xp(a))Tk(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var N=o.lastRenderedState,M=x(N,u);if(v.hasEagerState=!0,v.eagerState=M,ni(M,N))return Ip(a,o,v,0),Bt===null&&Cp(),!1}catch{}if(u=_b(a,o,v,h),u!==null)return Fr(u,a,h),Ak(u,o,h),!0}return!1}function ax(a,o,u,h){if(h={lane:2,revertLane:Dx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xp(a)){if(o)throw Error(r(479))}else o=_b(a,u,h,2),o!==null&&Fr(o,a,2)}function Xp(a){var o=a.alternate;return a===tt||o!==null&&o===tt}function Tk(a,o){bu=qp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Ak(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,er(a,u)}}var Uf={readContext:ar,use:Gp,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Uf.useEffectEvent=ln;var kk={readContext:ar,use:Gp,useCallback:function(a,o){return kr().memoizedState=[a,o===void 0?null:o],a},useContext:ar,useEffect:uk,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Yp(4194308,4,mk.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Yp(4194308,4,a,o)},useInsertionEffect:function(a,o){Yp(4,2,a,o)},useMemo:function(a,o){var u=kr();o=o===void 0?null:o;var h=a();if(Hl){Sr(!0);try{a()}finally{Sr(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=kr();if(u!==void 0){var v=u(o);if(Hl){Sr(!0);try{u(o)}finally{Sr(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=PB.bind(null,tt,a),[h.memoizedState,a]},useRef:function(a){var o=kr();return a={current:a},o.memoizedState=a},useState:function(a){a=Zb(a);var o=a.queue,u=Sk.bind(null,tt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:tx,useDeferredValue:function(a,o){var u=kr();return nx(u,a,o)},useTransition:function(){var a=Zb(!1);return a=bk.bind(null,tt,a.queue,!0,!1),kr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=tt,v=kr();if(mt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Bt===null)throw Error(r(349));(dt&127)!==0||YA(h,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,uk(XA.bind(null,h,x,a),[a]),h.flags|=2048,wu(9,{destroy:void 0},WA.bind(null,h,x,u,o),null),u},useId:function(){var a=kr(),o=Bt.identifierPrefix;if(mt){var u=La,h=Da;u=(h&~(1<<32-Wt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=$p++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=AB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:ix,useFormState:ak,useActionState:ak,useOptimistic:function(a){var o=kr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ax.bind(null,tt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Wb,useCacheRefresh:function(){return kr().memoizedState=jB.bind(null,tt)},useEffectEvent:function(a){var o=kr(),u={impl:a};return o.memoizedState=u,function(){if((_t&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},sx={readContext:ar,use:Gp,useCallback:gk,useContext:ar,useEffect:ex,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:yk,useReducer:Kp,useRef:ck,useState:function(){return Kp(ys)},useDebugValue:tx,useDeferredValue:function(a,o){var u=mn();return vk(u,zt.memoizedState,a,o)},useTransition:function(){var a=Kp(ys)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Vf(a),o]},useSyncExternalStore:KA,useId:_k,useHostTransitionStatus:ix,useFormState:sk,useActionState:sk,useOptimistic:function(a,o){var u=mn();return JA(u,zt,a,o)},useMemoCache:Wb,useCacheRefresh:Ek};sx.useEffectEvent=dk;var Nk={readContext:ar,use:Gp,useCallback:gk,useContext:ar,useEffect:ex,useImperativeHandle:pk,useInsertionEffect:fk,useLayoutEffect:hk,useMemo:yk,useReducer:Qb,useRef:ck,useState:function(){return Qb(ys)},useDebugValue:tx,useDeferredValue:function(a,o){var u=mn();return zt===null?nx(u,a,o):vk(u,zt.memoizedState,a,o)},useTransition:function(){var a=Qb(ys)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Vf(a),o]},useSyncExternalStore:KA,useId:_k,useHostTransitionStatus:ix,useFormState:lk,useActionState:lk,useOptimistic:function(a,o){var u=mn();return zt!==null?JA(u,zt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Wb,useCacheRefresh:Ek};Nk.useEffectEvent=dk;function ox(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var lx={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=li(),v=So(h);v.payload=o,u!=null&&(v.callback=u),o=To(a,v,h),o!==null&&(Fr(o,a,h),Rf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=li(),v=So(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=To(a,v,h),o!==null&&(Fr(o,a,h),Rf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=li(),h=So(u);h.tag=2,o!=null&&(h.callback=o),o=To(a,h,u),o!==null&&(Fr(o,a,u),Rf(o,a,u))}};function Ck(a,o,u,h,v,x,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,N):o.prototype&&o.prototype.isPureReactComponent?!kf(u,h)||!kf(v,x):!0}function Ik(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&lx.enqueueReplaceState(o,o.state,null)}function Gl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Ok(a){Np(a)}function jk(a){console.error(a)}function Pk(a){Np(a)}function Qp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function zk(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function cx(a,o,u){return u=So(u),u.tag=3,u.payload={element:null},u.callback=function(){Qp(a,o)},u}function Rk(a){return a=So(a),a.tag=3,a}function Mk(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;a.payload=function(){return v(x)},a.callback=function(){zk(o,u,h)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){zk(o,u,h),typeof v!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function zB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&hu(o,u,v,!0),u=ii.current,u!==null){switch(u.tag){case 31:case 13:return Mi===null?cg():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Lp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),zx(a,h,v)),!1;case 22:return u.flags|=65536,h===Lp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),zx(a,h,v)),!1}throw Error(r(435,u.tag))}return zx(a,h,v),cg(),!1}if(mt)return o=ii.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Nb&&(a=Error(r(422),{cause:h}),If(ji(a,u)))):(h!==Nb&&(o=Error(r(423),{cause:h}),If(ji(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=ji(h,u),v=cx(a.stateNode,h,v),Vb(a,v),cn!==4&&(cn=2)),!1;var x=Error(r(520),{cause:h});if(x=ji(x,u),Wf===null?Wf=[x]:Wf.push(x),cn!==4&&(cn=2),o===null)return!0;h=ji(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=cx(u.stateNode,h,a),Vb(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Oo===null||!Oo.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Rk(v),Mk(v,a,u,h),Vb(u,v),!1}u=u.return}while(u!==null);return!1}var ux=Error(r(461)),Tn=!1;function sr(a,o,u,h){o.child=a===null?BA(o,null,u,h):$l(o,a.child,u,h)}function Dk(a,o,u,h,v){u=u.render;var x=o.ref;if("ref"in h){var N={};for(var M in h)M!=="ref"&&(N[M]=h[M])}else N=h;return Bl(o),h=Hb(a,o,u,N,x,v),M=Gb(),a!==null&&!Tn?(Kb(a,o,v),vs(a,o,v)):(mt&&M&&Ab(o),o.flags|=1,sr(a,o,h,v),o.child)}function Lk(a,o,u,h,v){if(a===null){var x=u.type;return typeof x=="function"&&!Eb(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,Vk(a,o,x,h,v)):(a=jp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!vx(a,v)){var N=x.memoizedProps;if(u=u.compare,u=u!==null?u:kf,u(N,h)&&a.ref===o.ref)return vs(a,o,v)}return o.flags|=1,a=fs(x,h),a.ref=o.ref,a.return=o,o.child=a}function Vk(a,o,u,h,v){if(a!==null){var x=a.memoizedProps;if(kf(x,h)&&a.ref===o.ref)if(Tn=!1,o.pendingProps=h=x,vx(a,v))(a.flags&131072)!==0&&(Tn=!0);else return o.lanes=a.lanes,vs(a,o,v)}return dx(a,o,u,h,v)}function Bk(a,o,u,h){var v=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return Uk(a,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mp(o,x!==null?x.cachePool:null),x!==null?qA(o,x):Ub(),$A(o);else return h=o.lanes=536870912,Uk(a,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(Mp(o,x.cachePool),qA(o,x),ko(),o.memoizedState=null):(a!==null&&Mp(o,null),Ub(),ko());return sr(a,o,v,u),o.child}function Ff(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Uk(a,o,u,h,v){var x=Rb();return x=x===null?null:{parent:En._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&Mp(o,null),Ub(),$A(o),a!==null&&hu(a,o,h,!0),o.childLanes=v,null}function Zp(a,o){return o=eg({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Fk(a,o,u){return $l(o,a.child,null,u),a=Zp(o,o.pendingProps),a.flags|=2,ai(o),o.memoizedState=null,a}function RB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(mt){if(h.mode==="hidden")return a=Zp(o,h),o.lanes=536870912,Ff(null,a);if(qb(o),(a=Gt)?(a=eC(a,Ri),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:Da,overflow:La}:null,retryLane:536870912,hydrationErrors:null},u=TA(a),u.return=o,o.child=u,ir=o,Gt=null)):a=null,a===null)throw wo(o);return o.lanes=536870912,null}return Zp(o,h)}var x=a.memoizedState;if(x!==null){var N=x.dehydrated;if(qb(o),v)if(o.flags&256)o.flags&=-257,o=Fk(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Tn||hu(a,o,u,!1),v=(u&a.childLanes)!==0,Tn||v){if(h=Bt,h!==null&&(N=tr(h,u),N!==0&&N!==x.retryLane))throw x.retryLane=N,Ml(a,N),Fr(h,a,N),ux;cg(),o=Fk(a,o,u)}else a=x.treeContext,Gt=Di(N.nextSibling),ir=o,mt=!0,xo=null,Ri=!1,a!==null&&NA(o,a),o=Zp(o,h),o.flags|=4096;return o}return a=fs(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Jp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function dx(a,o,u,h,v){return Bl(o),u=Hb(a,o,u,h,void 0,v),h=Gb(),a!==null&&!Tn?(Kb(a,o,v),vs(a,o,v)):(mt&&h&&Ab(o),o.flags|=1,sr(a,o,u,v),o.child)}function qk(a,o,u,h,v,x){return Bl(o),o.updateQueue=null,u=GA(o,h,u,v),HA(a),h=Gb(),a!==null&&!Tn?(Kb(a,o,x),vs(a,o,x)):(mt&&h&&Ab(o),o.flags|=1,sr(a,o,u,x),o.child)}function $k(a,o,u,h,v){if(Bl(o),o.stateNode===null){var x=cu,N=u.contextType;typeof N=="object"&&N!==null&&(x=ar(N)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=lx,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Db(o),N=u.contextType,x.context=typeof N=="object"&&N!==null?ar(N):cu,x.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(ox(o,u,N,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&lx.enqueueReplaceState(x,x.state,null),Df(o,h,x,v),Mf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var M=o.memoizedProps,G=Gl(u,M);x.props=G;var ne=x.context,ue=u.contextType;N=cu,typeof ue=="object"&&ue!==null&&(N=ar(ue));var fe=u.getDerivedStateFromProps;ue=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ne!==N)&&Ik(o,x,h,N),Eo=!1;var ae=o.memoizedState;x.state=ae,Df(o,h,x,v),Mf(),ne=o.memoizedState,M||ae!==ne||Eo?(typeof fe=="function"&&(ox(o,u,fe,h),ne=o.memoizedState),(G=Eo||Ck(o,u,G,h,ae,ne,N))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ne),x.props=h,x.state=ne,x.context=N,h=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Lb(a,o),N=o.memoizedProps,ue=Gl(u,N),x.props=ue,fe=o.pendingProps,ae=x.context,ne=u.contextType,G=cu,typeof ne=="object"&&ne!==null&&(G=ar(ne)),M=u.getDerivedStateFromProps,(ne=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==fe||ae!==G)&&Ik(o,x,h,G),Eo=!1,ae=o.memoizedState,x.state=ae,Df(o,h,x,v),Mf();var oe=o.memoizedState;N!==fe||ae!==oe||Eo||a!==null&&a.dependencies!==null&&zp(a.dependencies)?(typeof M=="function"&&(ox(o,u,M,h),oe=o.memoizedState),(ue=Eo||Ck(o,u,ue,h,ae,oe,G)||a!==null&&a.dependencies!==null&&zp(a.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,oe,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,oe,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),x.props=h,x.state=oe,x.context=G,h=ue):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Jp(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=$l(o,a.child,null,v),o.child=$l(o,null,u,v)):sr(a,o,u,v),o.memoizedState=x.state,a=o.child):a=vs(a,o,v),a}function Hk(a,o,u,h){return Ll(),o.flags|=256,sr(a,o,u,h),o.child}var fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hx(a){return{baseLanes:a,cachePool:zA()}}function mx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=oi),a}function Gk(a,o,u){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,N;if((N=x)||(N=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(mt){if(v?Ao(o):ko(),(a=Gt)?(a=eC(a,Ri),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:bo!==null?{id:Da,overflow:La}:null,retryLane:536870912,hydrationErrors:null},u=TA(a),u.return=o,o.child=u,ir=o,Gt=null)):a=null,a===null)throw wo(o);return Xx(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(ko(),v=o.mode,M=eg({mode:"hidden",children:M},v),h=Dl(h,v,u,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=hx(u),h.childLanes=mx(a,N,u),o.memoizedState=fx,Ff(null,h)):(Ao(o),px(o,M))}var G=a.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(x)o.flags&256?(Ao(o),o.flags&=-257,o=gx(a,o,u)):o.memoizedState!==null?(ko(),o.child=a.child,o.flags|=128,o=null):(ko(),M=h.fallback,v=o.mode,h=eg({mode:"visible",children:h.children},v),M=Dl(M,v,u,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,$l(o,a.child,null,u),h=o.child,h.memoizedState=hx(u),h.childLanes=mx(a,N,u),o.memoizedState=fx,o=Ff(null,h));else if(Ao(o),Xx(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var ne=N.dgst;N=ne,h=Error(r(419)),h.stack="",h.digest=N,If({value:h,source:null,stack:null}),o=gx(a,o,u)}else if(Tn||hu(a,o,u,!1),N=(u&a.childLanes)!==0,Tn||N){if(N=Bt,N!==null&&(h=tr(N,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,Ml(a,h),Fr(N,a,h),ux;Wx(M)||cg(),o=gx(a,o,u)}else Wx(M)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Gt=Di(M.nextSibling),ir=o,mt=!0,xo=null,Ri=!1,a!==null&&NA(o,a),o=px(o,h.children),o.flags|=4096);return o}return v?(ko(),M=h.fallback,v=o.mode,G=a.child,ne=G.sibling,h=fs(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ne!==null?M=fs(ne,M):(M=Dl(M,v,u,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,Ff(null,h),h=o.child,M=a.child.memoizedState,M===null?M=hx(u):(v=M.cachePool,v!==null?(G=En._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=zA(),M={baseLanes:M.baseLanes|u,cachePool:v}),h.memoizedState=M,h.childLanes=mx(a,N,u),o.memoizedState=fx,Ff(a.child,h)):(Ao(o),u=a.child,a=u.sibling,u=fs(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function px(a,o){return o=eg({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function eg(a,o){return a=ri(22,a,null,o),a.lanes=0,a}function gx(a,o,u){return $l(o,a.child,null,u),a=px(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Kk(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Ob(a.return,o,u)}function yx(a,o,u,h,v,x){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=u,N.tailMode=v,N.treeForkCount=x)}function Yk(a,o,u){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var N=hn.current,M=(N&2)!==0;if(M?(N=N&1|2,o.flags|=128):N&=1,Z(hn,N),sr(a,o,h,u),h=mt?Cf:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Kk(a,u,o);else if(a.tag===19)Kk(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Fp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),yx(o,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Fp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}yx(o,!0,u,null,x,h);break;case"together":yx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function vs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Io|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(hu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=fs(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=fs(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function vx(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&zp(a)))}function MB(a,o,u){switch(o.tag){case 3:ze(o,o.stateNode.containerInfo),_o(o,En,a.memoizedState.cache),Ll();break;case 27:case 5:pe(o);break;case 4:ze(o,o.stateNode.containerInfo);break;case 10:_o(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ao(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Gk(a,o,u):(Ao(o),a=vs(a,o,u),a!==null?a.sibling:null);Ao(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(hu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return Yk(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Z(hn,hn.current),h)break;return null;case 22:return o.lanes=0,Bk(a,o,u,o.pendingProps);case 24:_o(o,En,a.memoizedState.cache)}return vs(a,o,u)}function Wk(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Tn=!0;else{if(!vx(a,u)&&(o.flags&128)===0)return Tn=!1,MB(a,o,u);Tn=(a.flags&131072)!==0}else Tn=!1,mt&&(o.flags&1048576)!==0&&kA(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Fl(o.elementType),o.type=a,typeof a=="function")Eb(a)?(h=Gl(a,h),o.tag=1,o=$k(null,o,a,h,u)):(o.tag=0,o=dx(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===D){o.tag=11,o=Dk(null,o,a,h,u);break e}else if(v===P){o.tag=14,o=Lk(null,o,a,h,u);break e}}throw o=ve(a)||a,Error(r(306,o,""))}}return o;case 0:return dx(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Gl(h,o.pendingProps),$k(a,o,h,v,u);case 3:e:{if(ze(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,Lb(a,o),Df(o,h,null,u);var N=o.memoizedState;if(h=N.cache,_o(o,En,h),h!==x.cache&&jb(o,[En],u,!0),Mf(),h=N.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Hk(a,o,h,u);break e}else if(h!==v){v=ji(Error(r(424)),o),If(v),o=Hk(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Gt=Di(a.firstChild),ir=o,mt=!0,xo=null,Ri=!0,u=BA(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ll(),h===v){o=vs(a,o,u);break e}sr(a,o,h,u)}o=o.child}return o;case 26:return Jp(a,o),a===null?(u=sC(o.type,null,o.pendingProps,null))?o.memoizedState=u:mt||(u=o.type,a=o.pendingProps,h=gg(we.current).createElement(u),h[xn]=o,h[Fn]=a,or(h,u,a),wn(h),o.stateNode=h):o.memoizedState=sC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return pe(o),a===null&&mt&&(h=o.stateNode=rC(o.type,o.pendingProps,we.current),ir=o,Ri=!0,v=Gt,Ro(o.type)?(Qx=v,Gt=Di(h.firstChild)):Gt=v),sr(a,o,o.pendingProps.children,u),Jp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&mt&&((v=h=Gt)&&(h=fU(h,o.type,o.pendingProps,Ri),h!==null?(o.stateNode=h,ir=o,Gt=Di(h.firstChild),Ri=!1,v=!0):v=!1),v||wo(o)),pe(o),v=o.type,x=o.pendingProps,N=a!==null?a.memoizedProps:null,h=x.children,Gx(v,x)?h=null:N!==null&&Gx(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=Hb(a,o,kB,null,null,u),rh._currentValue=v),Jp(a,o),sr(a,o,h,u),o.child;case 6:return a===null&&mt&&((a=u=Gt)&&(u=hU(u,o.pendingProps,Ri),u!==null?(o.stateNode=u,ir=o,Gt=null,a=!0):a=!1),a||wo(o)),null;case 13:return Gk(a,o,u);case 4:return ze(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=$l(o,null,h,u):sr(a,o,h,u),o.child;case 11:return Dk(a,o,o.type,o.pendingProps,u);case 7:return sr(a,o,o.pendingProps,u),o.child;case 8:return sr(a,o,o.pendingProps.children,u),o.child;case 12:return sr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,_o(o,o.type,h.value),sr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Bl(o),v=ar(v),h=h(v),o.flags|=1,sr(a,o,h,u),o.child;case 14:return Lk(a,o,o.type,o.pendingProps,u);case 15:return Vk(a,o,o.type,o.pendingProps,u);case 19:return Yk(a,o,u);case 31:return RB(a,o,u);case 22:return Bk(a,o,u,o.pendingProps);case 24:return Bl(o),h=ar(En),a===null?(v=Rb(),v===null&&(v=Bt,x=Pb(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:h,cache:v},Db(o),_o(o,En,v)):((a.lanes&u)!==0&&(Lb(a,o),Df(o,null,null,u),Mf()),v=a.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),_o(o,En,h)):(h=x.cache,_o(o,En,h),h!==v.cache&&jb(o,[En],u,!0))),sr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function bs(a){a.flags|=4}function bx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(_N())a.flags|=8192;else throw ql=Lp,Mb}else a.flags&=-16777217}function Xk(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!dC(o))if(_N())a.flags|=8192;else throw ql=Lp,Mb}function tg(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Un():536870912,a.lanes|=o,Tu|=o)}function qf(a,o){if(!mt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Kt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function DB(a,o,u){var h=o.pendingProps;switch(kb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ps(En),H(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(fu(o)?bs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cb())),Kt(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(bs(o),x!==null?(Kt(o),Xk(o,x)):(Kt(o),bx(o,v,null,h,u))):x?x!==a.memoizedState?(bs(o),Kt(o),Xk(o,x)):(Kt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&bs(o),Kt(o),bx(o,v,a,h,u)),null;case 27:if(Ce(o),u=we.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&bs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}a=ce.current,fu(o)?CA(o):(a=rC(v,h,u),o.stateNode=a,bs(o))}return Kt(o),null;case 5:if(Ce(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&bs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(x=ce.current,fu(o))CA(o);else{var N=gg(we.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?N.createElement(v,{is:h.is}):N.createElement(v)}}x[xn]=o,x[Fn]=h;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=x;e:switch(or(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&bs(o)}}return Kt(o),bx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&bs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=we.current,fu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=ir,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[xn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||GN(a.nodeValue,u)),a||wo(o,!0)}else a=gg(a).createTextNode(h),a[xn]=o,o.stateNode=a}return Kt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=fu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[xn]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),a=!1}else u=Cb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ai(o),o):(ai(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=fu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[xn]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),v=!1}else v=Cb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ai(o),o):(ai(o),null)}return ai(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),tg(o,o.updateQueue),Kt(o),null);case 4:return H(),a===null&&Ux(o.stateNode.containerInfo),Kt(o),null;case 10:return ps(o.type),Kt(o),null;case 19:if(ee(hn),h=o.memoizedState,h===null)return Kt(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)qf(h,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Fp(a),x!==null){for(o.flags|=128,qf(h,!1),a=x.updateQueue,o.updateQueue=a,tg(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)SA(u,a),u=u.sibling;return Z(hn,hn.current&1|2),mt&&hs(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&on()>sg&&(o.flags|=128,v=!0,qf(h,!1),o.lanes=4194304)}else{if(!v)if(a=Fp(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,tg(o,a),qf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!mt)return Kt(o),null}else 2*on()-h.renderingStartTime>sg&&u!==536870912&&(o.flags|=128,v=!0,qf(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=on(),a.sibling=null,u=hn.current,Z(hn,v?u&1|2:u&1),mt&&hs(o,h.treeForkCount),a):(Kt(o),null);case 22:case 23:return ai(o),Fb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),u=o.updateQueue,u!==null&&tg(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ee(Ul),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ps(En),Kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function LB(a,o){switch(kb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ps(En),H(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(ai(o),o.alternate===null)throw Error(r(340));Ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ai(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ll()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ee(hn),null;case 4:return H(),null;case 10:return ps(o.type),null;case 22:case 23:return ai(o),Fb(),a!==null&&ee(Ul),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ps(En),null;case 25:return null;default:return null}}function Qk(a,o){switch(kb(o),o.tag){case 3:ps(En),H();break;case 26:case 27:case 5:Ce(o);break;case 4:H();break;case 31:o.memoizedState!==null&&ai(o);break;case 13:ai(o);break;case 19:ee(hn);break;case 10:ps(o.type);break;case 22:case 23:ai(o),Fb(),a!==null&&ee(Ul);break;case 24:ps(En)}}function $f(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var x=u.create,N=u.inst;h=x(),N.destroy=h}u=u.next}while(u!==v)}}catch(M){kt(o,o.return,M)}}function No(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&a)===a){var N=h.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,v=o;var G=u,ne=M;try{ne()}catch(ue){kt(v,G,ue)}}}h=h.next}while(h!==x)}}catch(ue){kt(o,o.return,ue)}}function Zk(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{FA(o,u)}catch(h){kt(a,a.return,h)}}}function Jk(a,o,u){u.props=Gl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){kt(a,o,h)}}function Hf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){kt(a,o,v)}}function Va(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){kt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){kt(a,o,v)}else u.current=null}function eN(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){kt(a,a.return,v)}}function xx(a,o,u){try{var h=a.stateNode;sU(h,a.type,u,o),h[Fn]=o}catch(v){kt(a,a.return,v)}}function tN(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function wx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _x(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ea));else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(_x(a,o,u),a=a.sibling;a!==null;)_x(a,o,u),a=a.sibling}function ng(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(ng(a,o,u),a=a.sibling;a!==null;)ng(a,o,u),a=a.sibling}function nN(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);or(o,h,u),o[xn]=a,o[Fn]=u}catch(x){kt(a,a.return,x)}}var xs=!1,An=!1,Ex=!1,rN=typeof WeakSet=="function"?WeakSet:Set,$n=null;function VB(a,o){if(a=a.containerInfo,$x=Eg,a=pA(a),gb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var N=0,M=-1,G=-1,ne=0,ue=0,fe=a,ae=null;t:for(;;){for(var oe;fe!==u||v!==0&&fe.nodeType!==3||(M=N+v),fe!==x||h!==0&&fe.nodeType!==3||(G=N+h),fe.nodeType===3&&(N+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)ae=fe,fe=oe;for(;;){if(fe===a)break t;if(ae===u&&++ne===v&&(M=N),ae===x&&++ue===h&&(G=N),(oe=fe.nextSibling)!==null)break;fe=ae,ae=fe.parentNode}fe=oe}u=M===-1||G===-1?null:{start:M,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hx={focusedElem:a,selectionRange:u},Eg=!1,$n=o;$n!==null;)if(o=$n,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,$n=a;else for(;$n!==null;){switch(o=$n,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var Re=Gl(u.type,v);a=h.getSnapshotBeforeUpdate(Re,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){kt(u,u.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Yx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Yx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,$n=a;break}$n=o.return}}function iN(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:_s(a,u),h&4&&$f(5,u);break;case 1:if(_s(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){kt(u,u.return,N)}else{var v=Gl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(u,u.return,N)}}h&64&&Zk(u),h&512&&Hf(u,u.return);break;case 3:if(_s(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{FA(a,o)}catch(N){kt(u,u.return,N)}}break;case 27:o===null&&h&4&&nN(u);case 26:case 5:_s(a,u),o===null&&h&4&&eN(u),h&512&&Hf(u,u.return);break;case 12:_s(a,u);break;case 31:_s(a,u),h&4&&oN(a,u);break;case 13:_s(a,u),h&4&&lN(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=YB.bind(null,u),mU(a,u))));break;case 22:if(h=u.memoizedState!==null||xs,!h){o=o!==null&&o.memoizedState!==null||An,v=xs;var x=An;xs=h,(An=o)&&!x?Es(a,u,(u.subtreeFlags&8772)!==0):_s(a,u),xs=v,An=x}break;case 30:break;default:_s(a,u)}}function aN(a){var o=a.alternate;o!==null&&(a.alternate=null,aN(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Wc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qt=null,Lr=!1;function ws(a,o,u){for(u=u.child;u!==null;)sN(a,o,u),u=u.sibling}function sN(a,o,u){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Jn,u)}catch{}switch(u.tag){case 26:An||Va(u,o),ws(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:An||Va(u,o);var h=Qt,v=Lr;Ro(u.type)&&(Qt=u.stateNode,Lr=!1),ws(a,o,u),eh(u.stateNode),Qt=h,Lr=v;break;case 5:An||Va(u,o);case 6:if(h=Qt,v=Lr,Qt=null,ws(a,o,u),Qt=h,Lr=v,Qt!==null)if(Lr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(u.stateNode)}catch(x){kt(u,o,x)}else try{Qt.removeChild(u.stateNode)}catch(x){kt(u,o,x)}break;case 18:Qt!==null&&(Lr?(a=Qt,ZN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pu(a)):ZN(Qt,u.stateNode));break;case 4:h=Qt,v=Lr,Qt=u.stateNode.containerInfo,Lr=!0,ws(a,o,u),Qt=h,Lr=v;break;case 0:case 11:case 14:case 15:No(2,u,o),An||No(4,u,o),ws(a,o,u);break;case 1:An||(Va(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Jk(u,o,h)),ws(a,o,u);break;case 21:ws(a,o,u);break;case 22:An=(h=An)||u.memoizedState!==null,ws(a,o,u),An=h;break;default:ws(a,o,u)}}function oN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pu(a)}catch(u){kt(o,o.return,u)}}}function lN(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pu(a)}catch(u){kt(o,o.return,u)}}function BB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new rN),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new rN),o;default:throw Error(r(435,a.tag))}}function rg(a,o){var u=BB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=WB.bind(null,a,h);h.then(v,v)}})}function Vr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=a,N=o,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Ro(M.type)){Qt=M.stateNode,Lr=!1;break e}break;case 5:Qt=M.stateNode,Lr=!1;break e;case 3:case 4:Qt=M.stateNode.containerInfo,Lr=!0;break e}M=M.return}if(Qt===null)throw Error(r(160));sN(x,N,v),Qt=null,Lr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cN(o,a),o=o.sibling}var sa=null;function cN(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(o,a),Br(a),h&4&&(No(3,a,a.return),$f(3,a),No(5,a,a.return));break;case 1:Vr(o,a),Br(a),h&512&&(An||u===null||Va(u,u.return)),h&64&&xs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=sa;if(Vr(o,a),Br(a),h&512&&(An||u===null||Va(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Ta]||x[xn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),or(x,h,u),x[xn]=a,wn(x),h=x;break e;case"link":var N=cC("link","href",v).get(h+(u.href||""));if(N){for(var M=0;M<N.length;M++)if(x=N[M],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(M,1);break t}}x=v.createElement(h),or(x,h,u),v.head.appendChild(x);break;case"meta":if(N=cC("meta","content",v).get(h+(u.content||""))){for(M=0;M<N.length;M++)if(x=N[M],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(M,1);break t}}x=v.createElement(h),or(x,h,u),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[xn]=a,wn(x),h=x}a.stateNode=h}else uC(v,a.type,a.stateNode);else a.stateNode=lC(v,h,a.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?uC(v,a.type,a.stateNode):lC(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&xx(a,a.memoizedProps,u.memoizedProps)}break;case 27:Vr(o,a),Br(a),h&512&&(An||u===null||Va(u,u.return)),u!==null&&h&4&&xx(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Vr(o,a),Br(a),h&512&&(An||u===null||Va(u,u.return)),a.flags&32){v=a.stateNode;try{Dr(v,"")}catch(Re){kt(a,a.return,Re)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,xx(a,v,u!==null?u.memoizedProps:v)),h&1024&&(Ex=!0);break;case 6:if(Vr(o,a),Br(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Re){kt(a,a.return,Re)}}break;case 3:if(bg=null,v=sa,sa=yg(o.containerInfo),Vr(o,a),sa=v,Br(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Pu(o.containerInfo)}catch(Re){kt(a,a.return,Re)}Ex&&(Ex=!1,uN(a));break;case 4:h=sa,sa=yg(a.stateNode.containerInfo),Vr(o,a),Br(a),sa=h;break;case 12:Vr(o,a),Br(a);break;case 31:Vr(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,rg(a,h)));break;case 13:Vr(o,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ag=on()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,rg(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ne=xs,ue=An;if(xs=ne||v,An=ue||G,Vr(o,a),An=ue,xs=ne,Br(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||xs||An||Kl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(x=G.stateNode,v)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=G.stateNode;var fe=G.memoizedProps.style,ae=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;M.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){kt(G,G.return,Re)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Re){kt(G,G.return,Re)}}}else if(o.tag===18){if(u===null){G=o;try{var oe=G.stateNode;v?JN(oe,!0):JN(G.stateNode,!1)}catch(Re){kt(G,G.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,rg(a,u))));break;case 19:Vr(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,rg(a,h)));break;case 30:break;case 21:break;default:Vr(o,a),Br(a)}}function Br(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(tN(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=wx(a);ng(a,x,v);break;case 5:var N=u.stateNode;u.flags&32&&(Dr(N,""),u.flags&=-33);var M=wx(a);ng(a,M,N);break;case 3:case 4:var G=u.stateNode.containerInfo,ne=wx(a);_x(a,ne,G);break;default:throw Error(r(161))}}catch(ue){kt(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function uN(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;uN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function _s(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)iN(a,o.alternate,o),o=o.sibling}function Kl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:No(4,o,o.return),Kl(o);break;case 1:Va(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Jk(o,o.return,u),Kl(o);break;case 27:eh(o.stateNode);case 26:case 5:Va(o,o.return),Kl(o);break;case 22:o.memoizedState===null&&Kl(o);break;case 30:Kl(o);break;default:Kl(o)}a=a.sibling}}function Es(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,x=o,N=x.flags;switch(x.tag){case 0:case 11:case 15:Es(v,x,u),$f(4,x);break;case 1:if(Es(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ne){kt(h,h.return,ne)}if(h=x,v=h.updateQueue,v!==null){var M=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)UA(G[v],M)}catch(ne){kt(h,h.return,ne)}}u&&N&64&&Zk(x),Hf(x,x.return);break;case 27:nN(x);case 26:case 5:Es(v,x,u),u&&h===null&&N&4&&eN(x),Hf(x,x.return);break;case 12:Es(v,x,u);break;case 31:Es(v,x,u),u&&N&4&&oN(v,x);break;case 13:Es(v,x,u),u&&N&4&&lN(v,x);break;case 22:x.memoizedState===null&&Es(v,x,u),Hf(x,x.return);break;case 30:break;default:Es(v,x,u)}o=o.sibling}}function Sx(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Of(u))}function Tx(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Of(a))}function oa(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dN(a,o,u,h),o=o.sibling}function dN(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:oa(a,o,u,h),v&2048&&$f(9,o);break;case 1:oa(a,o,u,h);break;case 3:oa(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Of(a)));break;case 12:if(v&2048){oa(a,o,u,h),a=o.stateNode;try{var x=o.memoizedProps,N=x.id,M=x.onPostCommit;typeof M=="function"&&M(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){kt(o,o.return,G)}}else oa(a,o,u,h);break;case 31:oa(a,o,u,h);break;case 13:oa(a,o,u,h);break;case 23:break;case 22:x=o.stateNode,N=o.alternate,o.memoizedState!==null?x._visibility&2?oa(a,o,u,h):Gf(a,o):x._visibility&2?oa(a,o,u,h):(x._visibility|=2,_u(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Sx(N,o);break;case 24:oa(a,o,u,h),v&2048&&Tx(o.alternate,o);break;default:oa(a,o,u,h)}}function _u(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,N=o,M=u,G=h,ne=N.flags;switch(N.tag){case 0:case 11:case 15:_u(x,N,M,G,v),$f(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?_u(x,N,M,G,v):Gf(x,N):(ue._visibility|=2,_u(x,N,M,G,v)),v&&ne&2048&&Sx(N.alternate,N);break;case 24:_u(x,N,M,G,v),v&&ne&2048&&Tx(N.alternate,N);break;default:_u(x,N,M,G,v)}o=o.sibling}}function Gf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Gf(u,h),v&2048&&Sx(h.alternate,h);break;case 24:Gf(u,h),v&2048&&Tx(h.alternate,h);break;default:Gf(u,h)}o=o.sibling}}var Kf=8192;function Eu(a,o,u){if(a.subtreeFlags&Kf)for(a=a.child;a!==null;)fN(a,o,u),a=a.sibling}function fN(a,o,u){switch(a.tag){case 26:Eu(a,o,u),a.flags&Kf&&a.memoizedState!==null&&AU(u,sa,a.memoizedState,a.memoizedProps);break;case 5:Eu(a,o,u);break;case 3:case 4:var h=sa;sa=yg(a.stateNode.containerInfo),Eu(a,o,u),sa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Kf,Kf=16777216,Eu(a,o,u),Kf=h):Eu(a,o,u));break;default:Eu(a,o,u)}}function hN(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Yf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,pN(h,a)}hN(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mN(a),a=a.sibling}function mN(a){switch(a.tag){case 0:case 11:case 15:Yf(a),a.flags&2048&&No(9,a,a.return);break;case 3:Yf(a);break;case 12:Yf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ig(a)):Yf(a);break;default:Yf(a)}}function ig(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,pN(h,a)}hN(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:No(8,o,o.return),ig(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ig(o));break;default:ig(o)}a=a.sibling}}function pN(a,o){for(;$n!==null;){var u=$n;switch(u.tag){case 0:case 11:case 15:No(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Of(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,$n=h;else e:for(u=a;$n!==null;){h=$n;var v=h.sibling,x=h.return;if(aN(h),h===u){$n=null;break e}if(v!==null){v.return=x,$n=v;break e}$n=x}}}var UB={getCacheForType:function(a){var o=ar(En),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return ar(En).controller.signal}},FB=typeof WeakMap=="function"?WeakMap:Map,_t=0,Bt=null,ct=null,dt=0,At=0,si=null,Co=!1,Su=!1,Ax=!1,Ss=0,cn=0,Io=0,Yl=0,kx=0,oi=0,Tu=0,Wf=null,Ur=null,Nx=!1,ag=0,gN=0,sg=1/0,og=null,Oo=null,jn=0,jo=null,Au=null,Ts=0,Cx=0,Ix=null,yN=null,Xf=0,Ox=null;function li(){return(_t&2)!==0&&dt!==0?dt&-dt:K.T!==null?Dx():cf()}function vN(){if(oi===0)if((dt&536870912)===0||mt){var a=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function Fr(a,o,u){(a===Bt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(ku(a,0),Po(a,dt,oi,!1)),Ht(a,u),((_t&2)===0||a!==Bt)&&(a===Bt&&((_t&2)===0&&(Yl|=u),cn===4&&Po(a,dt,oi,!1)),Ba(a))}function bN(a,o,u){if((_t&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Et(a,o),v=h?HB(a,o):Px(a,o,!0),x=h;do{if(v===0){Su&&!h&&Po(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!qB(u)){v=Px(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var M=a;v=Wf;var G=M.current.memoizedState.isDehydrated;if(G&&(ku(M,N).flags|=256),N=Px(M,N,!1),N!==2){if(Ax&&!G){M.errorRecoveryDisabledLanes|=x,Yl|=x,v=4;break e}x=Ur,Ur=v,x!==null&&(Ur===null?Ur=x:Ur.push.apply(Ur,x))}v=N}if(x=!1,v!==2)continue}}if(v===1){ku(a,0),Po(a,o,0,!0);break}e:{switch(h=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Po(h,o,oi,!Co);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=ag+300-on(),10<v)){if(Po(h,o,oi,!Co),Ge(h,0,!0)!==0)break e;Ts=o,h.timeoutHandle=XN(xN.bind(null,h,u,Ur,og,Nx,o,oi,Yl,Tu,Co,x,"Throttled",-0,0),v);break e}xN(h,u,Ur,og,Nx,o,oi,Yl,Tu,Co,x,null,-0,0)}}break}while(!0);Ba(a)}function xN(a,o,u,h,v,x,N,M,G,ne,ue,fe,ae,oe){if(a.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},fN(o,x,fe);var Re=(x&62914560)===x?ag-on():(x&4194048)===x?gN-on():0;if(Re=kU(fe,Re),Re!==null){Ts=x,a.cancelPendingCommit=Re(NN.bind(null,a,o,x,u,h,v,N,M,G,ue,fe,null,ae,oe)),Po(a,x,N,!ne);return}}NN(a,o,x,u,h,v,N,M,G)}function qB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!ni(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Po(a,o,u,h){o&=~kx,o&=~Yl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var x=31-Wt(v),N=1<<x;h[x]=-1,v&=~N}u!==0&&Ai(a,u,o)}function lg(){return(_t&6)===0?(Qf(0),!1):!0}function jx(){if(ct!==null){if(At===0)var a=ct.return;else a=ct,ms=Vl=null,Yb(a),yu=null,Pf=0,a=ct;for(;a!==null;)Qk(a.alternate,a),a=a.return;ct=null}}function ku(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,cU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ts=0,jx(),Bt=a,ct=u=fs(a.current,null),dt=o,At=0,si=null,Co=!1,Su=Et(a,o),Ax=!1,Tu=oi=kx=Yl=Io=cn=0,Ur=Wf=null,Nx=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Wt(h),x=1<<v;o|=a[v],h&=~x}return Ss=o,Cp(),u}function wN(a,o){tt=null,K.H=Uf,o===gu||o===Dp?(o=DA(),At=3):o===Mb?(o=DA(),At=4):At=o===ux?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,si=o,ct===null&&(cn=1,Qp(a,ji(o,a.current)))}function _N(){var a=ii.current;return a===null?!0:(dt&4194048)===dt?Mi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===Mi:!1}function EN(){var a=K.H;return K.H=Uf,a===null?Uf:a}function SN(){var a=K.A;return K.A=UB,a}function cg(){cn=4,Co||(dt&4194048)!==dt&&ii.current!==null||(Su=!0),(Io&134217727)===0&&(Yl&134217727)===0||Bt===null||Po(Bt,dt,oi,!1)}function Px(a,o,u){var h=_t;_t|=2;var v=EN(),x=SN();(Bt!==a||dt!==o)&&(og=null,ku(a,o)),o=!1;var N=cn;e:do try{if(At!==0&&ct!==null){var M=ct,G=si;switch(At){case 8:jx(),N=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(o=!0);var ne=At;if(At=0,si=null,Nu(a,M,G,ne),u&&Su){N=0;break e}break;default:ne=At,At=0,si=null,Nu(a,M,G,ne)}}$B(),N=cn;break}catch(ue){wN(a,ue)}while(!0);return o&&a.shellSuspendCounter++,ms=Vl=null,_t=h,K.H=v,K.A=x,ct===null&&(Bt=null,dt=0,Cp()),N}function $B(){for(;ct!==null;)TN(ct)}function HB(a,o){var u=_t;_t|=2;var h=EN(),v=SN();Bt!==a||dt!==o?(og=null,sg=on()+500,ku(a,o)):Su=Et(a,o);e:do try{if(At!==0&&ct!==null){o=ct;var x=si;t:switch(At){case 1:At=0,si=null,Nu(a,o,x,1);break;case 2:case 9:if(RA(x)){At=0,si=null,AN(o);break}o=function(){At!==2&&At!==9||Bt!==a||(At=7),Ba(a)},x.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:RA(x)?(At=0,si=null,AN(o)):(At=0,si=null,Nu(a,o,x,7));break;case 5:var N=null;switch(ct.tag){case 26:N=ct.memoizedState;case 5:case 27:var M=ct;if(N?dC(N):M.stateNode.complete){At=0,si=null;var G=M.sibling;if(G!==null)ct=G;else{var ne=M.return;ne!==null?(ct=ne,ug(ne)):ct=null}break t}}At=0,si=null,Nu(a,o,x,5);break;case 6:At=0,si=null,Nu(a,o,x,6);break;case 8:jx(),cn=6;break e;default:throw Error(r(462))}}GB();break}catch(ue){wN(a,ue)}while(!0);return ms=Vl=null,K.H=h,K.A=v,_t=u,ct!==null?0:(Bt=null,dt=0,Cp(),cn)}function GB(){for(;ct!==null&&!it();)TN(ct)}function TN(a){var o=Wk(a.alternate,a,Ss);a.memoizedProps=a.pendingProps,o===null?ug(a):ct=o}function AN(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=qk(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=qk(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Yb(o);default:Qk(u,o),o=ct=SA(o,Ss),o=Wk(u,o,Ss)}a.memoizedProps=a.pendingProps,o===null?ug(a):ct=o}function Nu(a,o,u,h){ms=Vl=null,Yb(o),yu=null,Pf=0;var v=o.return;try{if(zB(a,v,o,u,dt)){cn=1,Qp(a,ji(u,a.current)),ct=null;return}}catch(x){if(v!==null)throw ct=v,x;cn=1,Qp(a,ji(u,a.current)),ct=null;return}o.flags&32768?(mt||h===1?a=!0:Su||(dt&536870912)!==0?a=!1:(Co=a=!0,(h===2||h===9||h===3||h===6)&&(h=ii.current,h!==null&&h.tag===13&&(h.flags|=16384))),kN(o,a)):ug(o)}function ug(a){var o=a;do{if((o.flags&32768)!==0){kN(o,Co);return}a=o.return;var u=DB(o.alternate,o,Ss);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=a}while(o!==null);cn===0&&(cn=5)}function kN(a,o){do{var u=LB(a.alternate,a);if(u!==null){u.flags&=32767,ct=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ct=a;return}ct=a=u}while(a!==null);cn=6,ct=null}function NN(a,o,u,h,v,x,N,M,G){a.cancelPendingCommit=null;do dg();while(jn!==0);if((_t&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=wb,pr(a,u,x,N,M,G),a===Bt&&(ct=Bt=null,dt=0),Au=o,jo=a,Ts=u,Cx=x,Ix=v,yN=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,XB(Qr,function(){return PN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,v=ie.p,ie.p=2,N=_t,_t|=4;try{VB(a,o,u)}finally{_t=N,ie.p=v,K.T=h}}jn=1,CN(),IN(),ON()}}function CN(){if(jn===1){jn=0;var a=jo,o=Au,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var h=ie.p;ie.p=2;var v=_t;_t|=4;try{cN(o,a);var x=Hx,N=pA(a.containerInfo),M=x.focusedElem,G=x.selectionRange;if(N!==M&&M&&M.ownerDocument&&mA(M.ownerDocument.documentElement,M)){if(G!==null&&gb(M)){var ne=G.start,ue=G.end;if(ue===void 0&&(ue=ne),"selectionStart"in M)M.selectionStart=ne,M.selectionEnd=Math.min(ue,M.value.length);else{var fe=M.ownerDocument||document,ae=fe&&fe.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),Re=M.textContent.length,Ke=Math.min(G.start,Re),Mt=G.end===void 0?Ke:Math.min(G.end,Re);!oe.extend&&Ke>Mt&&(N=Mt,Mt=Ke,Ke=N);var X=hA(M,Ke),Y=hA(M,Mt);if(X&&Y&&(oe.rangeCount!==1||oe.anchorNode!==X.node||oe.anchorOffset!==X.offset||oe.focusNode!==Y.node||oe.focusOffset!==Y.offset)){var te=fe.createRange();te.setStart(X.node,X.offset),oe.removeAllRanges(),Ke>Mt?(oe.addRange(te),oe.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),oe.addRange(te))}}}}for(fe=[],oe=M;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<fe.length;M++){var de=fe[M];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Eg=!!$x,Hx=$x=null}finally{_t=v,ie.p=h,K.T=u}}a.current=o,jn=2}}function IN(){if(jn===2){jn=0;var a=jo,o=Au,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var h=ie.p;ie.p=2;var v=_t;_t|=4;try{iN(a,o.alternate,o)}finally{_t=v,ie.p=h,K.T=u}}jn=3}}function ON(){if(jn===4||jn===3){jn=0,On();var a=jo,o=Au,u=Ts,h=yN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,Au=jo=null,jN(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Oo=null),nr(u),o=o.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Jn,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=K.T,v=ie.p,ie.p=2,K.T=null;try{for(var x=a.onRecoverableError,N=0;N<h.length;N++){var M=h[N];x(M.value,{componentStack:M.stack})}}finally{K.T=o,ie.p=v}}(Ts&3)!==0&&dg(),Ba(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Ox?Xf++:(Xf=0,Ox=a):Xf=0,Qf(0)}}function jN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Of(o)))}function dg(){return CN(),IN(),ON(),PN()}function PN(){if(jn!==5)return!1;var a=jo,o=Cx;Cx=0;var u=nr(Ts),h=K.T,v=ie.p;try{ie.p=32>u?32:u,K.T=null,u=Ix,Ix=null;var x=jo,N=Ts;if(jn=0,Au=jo=null,Ts=0,(_t&6)!==0)throw Error(r(331));var M=_t;if(_t|=4,mN(x.current),dN(x,x.current,N,u),_t=M,Qf(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Jn,x)}catch{}return!0}finally{ie.p=v,K.T=h,jN(a,o)}}function zN(a,o,u){o=ji(u,o),o=cx(a.stateNode,o,2),a=To(a,o,2),a!==null&&(Ht(a,2),Ba(a))}function kt(a,o,u){if(a.tag===3)zN(a,a,u);else for(;o!==null;){if(o.tag===3){zN(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oo===null||!Oo.has(h))){a=ji(u,a),u=Rk(2),h=To(o,u,2),h!==null&&(Mk(u,h,o,a),Ht(h,2),Ba(h));break}}o=o.return}}function zx(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new FB;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Ax=!0,v.add(u),a=KB.bind(null,a,o,u),o.then(a,a))}function KB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Bt===a&&(dt&u)===u&&(cn===4||cn===3&&(dt&62914560)===dt&&300>on()-ag?(_t&2)===0&&ku(a,0):kx|=u,Tu===dt&&(Tu=0)),Ba(a)}function RN(a,o){o===0&&(o=Un()),a=Ml(a,o),a!==null&&(Ht(a,o),Ba(a))}function YB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),RN(a,u)}function WB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),RN(a,u)}function XB(a,o){return $t(a,o)}var fg=null,Cu=null,Rx=!1,hg=!1,Mx=!1,zo=0;function Ba(a){a!==Cu&&a.next===null&&(Cu===null?fg=Cu=a:Cu=Cu.next=a),hg=!0,Rx||(Rx=!0,ZB())}function Qf(a,o){if(!Mx&&hg){Mx=!0;do for(var u=!1,h=fg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var N=h.suspendedLanes,M=h.pingedLanes;x=(1<<31-Wt(42|a)+1)-1,x&=v&~(N&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,VN(h,x))}else x=dt,x=Ge(h,h===Bt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Et(h,x)||(u=!0,VN(h,x));h=h.next}while(u);Mx=!1}}function QB(){MN()}function MN(){hg=Rx=!1;var a=0;zo!==0&&lU()&&(a=zo);for(var o=on(),u=null,h=fg;h!==null;){var v=h.next,x=DN(h,o);x===0?(h.next=null,u===null?fg=v:u.next=v,v===null&&(Cu=u)):(u=h,(a!==0||(x&3)!==0)&&(hg=!0)),h=v}jn!==0&&jn!==5||Qf(a),zo!==0&&(zo=0)}function DN(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var N=31-Wt(x),M=1<<N,G=v[N];G===-1?((M&u)===0||(M&h)!==0)&&(v[N]=bn(M,o)):G<=o&&(a.expiredLanes|=M),x&=~M}if(o=Bt,u=dt,u=Ge(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&He(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Et(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&He(h),nr(u)){case 2:case 8:u=Qi;break;case 32:u=Qr;break;case 268435456:u=gt;break;default:u=Qr}return h=LN.bind(null,a),u=$t(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&He(h),a.callbackPriority=2,a.callbackNode=null,2}function LN(a,o){if(jn!==0&&jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(dg()&&a.callbackNode!==u)return null;var h=dt;return h=Ge(a,a===Bt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(bN(a,h,o),DN(a,on()),a.callbackNode!=null&&a.callbackNode===u?LN.bind(null,a):null)}function VN(a,o){if(dg())return null;bN(a,o,!0)}function ZB(){uU(function(){(_t&6)!==0?$t(zr,QB):MN()})}function Dx(){if(zo===0){var a=mu;a===0&&(a=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),zo=a}return zo}function BN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Jc(""+a)}function UN(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function JB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var x=BN((v[Fn]||null).action),N=h.submitter;N&&(o=(o=N[Fn]||null)?BN(o.formAction):N.getAttribute("formAction"),o!==null&&(x=o,N=null));var M=new Pa("action","action",null,h,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(zo!==0){var G=N?UN(v,N):new FormData(v);rx(u,{pending:!0,data:G,method:v.method,action:x},null,G)}}else typeof x=="function"&&(M.preventDefault(),G=N?UN(v,N):new FormData(v),rx(u,{pending:!0,data:G,method:v.method,action:x},x,G))},currentTarget:v}]})}}for(var Lx=0;Lx<xb.length;Lx++){var Vx=xb[Lx],eU=Vx.toLowerCase(),tU=Vx[0].toUpperCase()+Vx.slice(1);aa(eU,"on"+tU)}aa(vA,"onAnimationEnd"),aa(bA,"onAnimationIteration"),aa(xA,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(yB,"onTransitionRun"),aa(vB,"onTransitionStart"),aa(bB,"onTransitionCancel"),aa(wA,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zf));function FN(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var N=h.length-1;0<=N;N--){var M=h[N],G=M.instance,ne=M.currentTarget;if(M=M.listener,G!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ne;try{x(v)}catch(ue){Np(ue)}v.currentTarget=null,x=G}else for(N=0;N<h.length;N++){if(M=h[N],G=M.instance,ne=M.currentTarget,M=M.listener,G!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ne;try{x(v)}catch(ue){Np(ue)}v.currentTarget=null,x=G}}}}function ut(a,o){var u=o[Yc];u===void 0&&(u=o[Yc]=new Set);var h=a+"__bubble";u.has(h)||(qN(o,a,2,!1),u.add(h))}function Bx(a,o,u){var h=0;o&&(h|=4),qN(u,a,h,o)}var mg="_reactListening"+Math.random().toString(36).slice(2);function Ux(a){if(!a[mg]){a[mg]=!0,uf.forEach(function(u){u!=="selectionchange"&&(nU.has(u)||Bx(u,!1,a),Bx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[mg]||(o[mg]=!0,Bx("selectionchange",!1,o))}}function qN(a,o,u,h){switch(vC(o)){case 2:var v=IU;break;case 8:v=OU;break;default:v=n1}u=v.bind(null,o,u,a),v=void 0,!Nl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Fx(a,o,u,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var M=h.stateNode.containerInfo;if(M===v)break;if(N===4)for(N=h.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;M!==null;){if(N=Aa(M),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){h=x=N;continue e}M=M.parentNode}}h=h.return}po(function(){var ne=x,ue=Ni(u),fe=[];e:{var ae=_A.get(a);if(ae!==void 0){var oe=Pa,Re=a;switch(a){case"keypress":if(Il(u)===0)break e;case"keydown":case"keyup":oe=Tp;break;case"focusin":Re="focus",oe=jl;break;case"focusout":Re="blur",oe=jl;break;case"beforeblur":case"afterblur":oe=jl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=A;break;case vA:case bA:case xA:oe=vp;break;case wA:oe=U;break;case"scroll":case"scrollend":oe=_f;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ds;break;case"toggle":case"beforetoggle":oe=et}var Ke=(o&4)!==0,Mt=!Ke&&(a==="scroll"||a==="scrollend"),X=Ke?ae!==null?ae+"Capture":null:ae;Ke=[];for(var Y=ne,te;Y!==null;){var de=Y;if(te=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||te===null||X===null||(de=ta(Y,X),de!=null&&Ke.push(Jf(Y,de,te))),Mt)break;Y=Y.return}0<Ke.length&&(ae=new oe(ae,Re,null,u,ue),fe.push({event:ae,listeners:Ke}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ae&&u!==bf&&(Re=u.relatedTarget||u.fromElement)&&(Aa(Re)||Re[Sa]))break e;if((oe||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(Re=u.relatedTarget||u.toElement,oe=ne,Re=Re?Aa(Re):null,Re!==null&&(Mt=s(Re),Ke=Re.tag,Re!==Mt||Ke!==5&&Ke!==27&&Ke!==6)&&(Re=null)):(oe=null,Re=ne),oe!==Re)){if(Ke=Ef,de="onMouseLeave",X="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=ds,de="onPointerLeave",X="onPointerEnter",Y="pointer"),Mt=oe==null?ae:ei(oe),te=Re==null?ae:ei(Re),ae=new Ke(de,Y+"leave",oe,u,ue),ae.target=Mt,ae.relatedTarget=te,de=null,Aa(ue)===ne&&(Ke=new Ke(X,Y+"enter",Re,u,ue),Ke.target=te,Ke.relatedTarget=Mt,de=Ke),Mt=de,oe&&Re)t:{for(Ke=rU,X=oe,Y=Re,te=0,de=X;de;de=Ke(de))te++;de=0;for(var Fe=Y;Fe;Fe=Ke(Fe))de++;for(;0<te-de;)X=Ke(X),te--;for(;0<de-te;)Y=Ke(Y),de--;for(;te--;){if(X===Y||Y!==null&&X===Y.alternate){Ke=X;break t}X=Ke(X),Y=Ke(Y)}Ke=null}else Ke=null;oe!==null&&$N(fe,ae,oe,Ke,!1),Re!==null&&Mt!==null&&$N(fe,Mt,Re,Ke,!0)}}e:{if(ae=ne?ei(ne):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var vt=oA;else if(aA(ae))if(lA)vt=mB;else{vt=fB;var Be=dB}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Zc(ne.elementType)&&(vt=oA):vt=hB;if(vt&&(vt=vt(a,ne))){sA(fe,vt,u,ue);break e}Be&&Be(a,ae,ne),a==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&gf(ae,"number",ae.value)}switch(Be=ne?ei(ne):window,a){case"focusin":(aA(Be)||Be.contentEditable==="true")&&(su=Be,yb=ne,Nf=null);break;case"focusout":Nf=yb=su=null;break;case"mousedown":vb=!0;break;case"contextmenu":case"mouseup":case"dragend":vb=!1,gA(fe,u,ue);break;case"selectionchange":if(gB)break;case"keydown":case"keyup":gA(fe,u,ue)}var nt;if(wt)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else au?Pl(a,u)&&(ft="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(Ma&&u.locale!=="ko"&&(au||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&au&&(nt=wf()):(ja=ue,xf="value"in ja?ja.value:ja.textContent,au=!0)),Be=pg(ne,ft),0<Be.length&&(ft=new Ra(ft,a,null,u,ue),fe.push({event:ft,listeners:Be}),nt?ft.data=nt:(nt=iu(u),nt!==null&&(ft.data=nt)))),(nt=Ii?oB(a,u):lB(a,u))&&(ft=pg(ne,"onBeforeInput"),0<ft.length&&(Be=new Ra("onBeforeInput","beforeinput",null,u,ue),fe.push({event:Be,listeners:ft}),Be.data=nt)),JB(fe,a,ne,u,ue)}FN(fe,o)})}function Jf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function pg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=ta(a,u),v!=null&&h.unshift(Jf(a,v,x)),v=ta(a,o),v!=null&&h.push(Jf(a,v,x))),a.tag===3)return h;a=a.return}return[]}function rU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $N(a,o,u,h,v){for(var x=o._reactName,N=[];u!==null&&u!==h;){var M=u,G=M.alternate,ne=M.stateNode;if(M=M.tag,G!==null&&G===h)break;M!==5&&M!==26&&M!==27||ne===null||(G=ne,v?(ne=ta(u,x),ne!=null&&N.unshift(Jf(u,ne,G))):v||(ne=ta(u,x),ne!=null&&N.push(Jf(u,ne,G)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var iU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function HN(a){return(typeof a=="string"?a:""+a).replace(iU,`
`).replace(aU,"")}function GN(a,o){return o=HN(o),HN(a)===o}function Rt(a,o,u,h,v,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Dr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Dr(a,""+h);break;case"className":ti(a,"class",h);break;case"tabIndex":ti(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,u,h);break;case"style":vf(a,h,x);break;case"data":if(o!=="object"){ti(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Rt(a,o,"name",v.name,v,null),Rt(a,o,"formEncType",v.formEncType,v,null),Rt(a,o,"formMethod",v.formMethod,v,null),Rt(a,o,"formTarget",v.formTarget,v,null)):(Rt(a,o,"encType",v.encType,v,null),Rt(a,o,"method",v.method,v,null),Rt(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=ea);break;case"onScroll":h!=null&&ut("scroll",a);break;case"onScrollEnd":h!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Jc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":ut("beforetoggle",a),ut("toggle",a),Xc(a,"popover",h);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pp.get(u)||u,Xc(a,u,h))}}function qx(a,o,u,h,v,x){switch(u){case"style":vf(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Dr(a,h):(typeof h=="number"||typeof h=="bigint")&&Dr(a,""+h);break;case"onScroll":h!=null&&ut("scroll",a);break;case"onScrollEnd":h!=null&&ut("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!df.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=a[Fn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Xc(a,u,h)}}}function or(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var N=u[x];if(N!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,x,N,u,null)}}v&&Rt(a,o,"srcSet",u.srcSet,u,null),h&&Rt(a,o,"src",u.src,u,null);return;case"input":ut("invalid",a);var M=x=N=v=null,G=null,ne=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":v=ue;break;case"type":N=ue;break;case"checked":G=ue;break;case"defaultChecked":ne=ue;break;case"value":x=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Rt(a,o,h,ue,u,null)}}fp(a,x,M,G,ne,N,v,!1);return;case"select":ut("invalid",a),h=N=x=null;for(v in u)if(u.hasOwnProperty(v)&&(M=u[v],M!=null))switch(v){case"value":x=M;break;case"defaultValue":N=M;break;case"multiple":h=M;default:Rt(a,o,v,M,u,null)}o=x,u=N,a.multiple=!!h,o!=null?uo(a,!!h,o,!1):u!=null&&uo(a,!!h,u,!0);return;case"textarea":ut("invalid",a),x=v=h=null;for(N in u)if(u.hasOwnProperty(N)&&(M=u[N],M!=null))switch(N){case"value":h=M;break;case"defaultValue":v=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Rt(a,o,N,M,u,null)}fo(a,h,v,x);return;case"option":for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Rt(a,o,G,h,u,null));return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(h=0;h<Zf.length;h++)ut(Zf[h],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in u)if(u.hasOwnProperty(ne)&&(h=u[ne],h!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,ne,h,u,null)}return;default:if(Zc(o)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&qx(a,o,ue,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&Rt(a,o,M,h,u,null))}function sU(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,N=null,M=null,G=null,ne=null,ue=null;for(oe in u){var fe=u[oe];if(u.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":G=fe;default:h.hasOwnProperty(oe)||Rt(a,o,oe,null,h,fe)}}for(var ae in h){var oe=h[ae];if(fe=u[ae],h.hasOwnProperty(ae)&&(oe!=null||fe!=null))switch(ae){case"type":x=oe;break;case"name":v=oe;break;case"checked":ne=oe;break;case"defaultChecked":ue=oe;break;case"value":N=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==fe&&Rt(a,o,ae,oe,h,fe)}}Qc(a,N,M,G,ne,ue,x,v);return;case"select":oe=N=M=ae=null;for(x in u)if(G=u[x],u.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":oe=G;default:h.hasOwnProperty(x)||Rt(a,o,x,null,h,G)}for(v in h)if(x=h[v],G=u[v],h.hasOwnProperty(v)&&(x!=null||G!=null))switch(v){case"value":ae=x;break;case"defaultValue":M=x;break;case"multiple":N=x;default:x!==G&&Rt(a,o,v,x,h,G)}o=M,u=N,h=oe,ae!=null?uo(a,!!u,ae,!1):!!h!=!!u&&(o!=null?uo(a,!!u,o,!0):uo(a,!!u,u?[]:"",!1));return;case"textarea":oe=ae=null;for(M in u)if(v=u[M],u.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Rt(a,o,M,null,h,v)}for(N in h)if(v=h[N],x=u[N],h.hasOwnProperty(N)&&(v!=null||x!=null))switch(N){case"value":ae=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Rt(a,o,N,v,h,x)}hp(a,ae,oe);return;case"option":for(var Re in u)ae=u[Re],u.hasOwnProperty(Re)&&ae!=null&&!h.hasOwnProperty(Re)&&(Re==="selected"?a.selected=!1:Rt(a,o,Re,null,h,ae));for(G in h)ae=h[G],oe=u[G],h.hasOwnProperty(G)&&ae!==oe&&(ae!=null||oe!=null)&&(G==="selected"?a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Rt(a,o,G,ae,h,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ae=u[Ke],u.hasOwnProperty(Ke)&&ae!=null&&!h.hasOwnProperty(Ke)&&Rt(a,o,Ke,null,h,ae);for(ne in h)if(ae=h[ne],oe=u[ne],h.hasOwnProperty(ne)&&ae!==oe&&(ae!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Rt(a,o,ne,ae,h,oe)}return;default:if(Zc(o)){for(var Mt in u)ae=u[Mt],u.hasOwnProperty(Mt)&&ae!==void 0&&!h.hasOwnProperty(Mt)&&qx(a,o,Mt,void 0,h,ae);for(ue in h)ae=h[ue],oe=u[ue],!h.hasOwnProperty(ue)||ae===oe||ae===void 0&&oe===void 0||qx(a,o,ue,ae,h,oe);return}}for(var X in u)ae=u[X],u.hasOwnProperty(X)&&ae!=null&&!h.hasOwnProperty(X)&&Rt(a,o,X,null,h,ae);for(fe in h)ae=h[fe],oe=u[fe],!h.hasOwnProperty(fe)||ae===oe||ae==null&&oe==null||Rt(a,o,fe,ae,h,oe)}function KN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,N=v.initiatorType,M=v.duration;if(x&&M&&KN(N)){for(N=0,M=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],ne=G.startTime;if(ne>M)break;var ue=G.transferSize,fe=G.initiatorType;ue&&KN(fe)&&(G=G.responseEnd,N+=ue*(G<M?1:(M-ne)/(G-ne)))}if(--h,o+=8*(x+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var $x=null,Hx=null;function gg(a){return a.nodeType===9?a:a.ownerDocument}function YN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Gx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kx=null;function lU(){var a=window.event;return a&&a.type==="popstate"?a===Kx?!1:(Kx=a,!0):(Kx=null,!1)}var XN=typeof setTimeout=="function"?setTimeout:void 0,cU=typeof clearTimeout=="function"?clearTimeout:void 0,QN=typeof Promise=="function"?Promise:void 0,uU=typeof queueMicrotask=="function"?queueMicrotask:typeof QN<"u"?function(a){return QN.resolve(null).then(a).catch(dU)}:XN;function dU(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function ZN(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Pu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")eh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,eh(u);for(var x=u.firstChild;x;){var N=x.nextSibling,M=x.nodeName;x[Ta]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=N}}else u==="body"&&eh(a.ownerDocument.body);u=v}while(u);Pu(o)}function JN(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Yx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Yx(u),Wc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function fU(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ta])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function hU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Di(a.nextSibling),a===null))return null;return a}function eC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Di(a.nextSibling),a===null))return null;return a}function Wx(a){return a.data==="$?"||a.data==="$~"}function Xx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Di(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Qx=null;function tC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Di(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function nC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function rC(a,o,u){switch(o=gg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function eh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Wc(a)}var Li=new Map,iC=new Set;function yg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var As=ie.d;ie.d={f:pU,r:gU,D:yU,C:vU,L:bU,m:xU,X:_U,S:wU,M:EU};function pU(){var a=As.f(),o=lg();return a||o}function gU(a){var o=ki(a);o!==null&&o.tag===5&&o.type==="form"?wk(o):As.r(a)}var Iu=typeof document>"u"?null:document;function aC(a,o,u){var h=Iu;if(h&&typeof o=="string"&&o){var v=Mr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),iC.has(v)||(iC.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),or(o,"link",a),wn(o),h.head.appendChild(o)))}}function yU(a){As.D(a),aC("dns-prefetch",a,null)}function vU(a,o){As.C(a,o),aC("preconnect",a,o)}function bU(a,o,u){As.L(a,o,u);var h=Iu;if(h&&a&&o){var v='link[rel="preload"][as="'+Mr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Mr(u.imageSizes)+'"]')):v+='[href="'+Mr(a)+'"]';var x=v;switch(o){case"style":x=Ou(a);break;case"script":x=ju(a)}Li.has(x)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Li.set(x,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(th(x))||o==="script"&&h.querySelector(nh(x))||(o=h.createElement("link"),or(o,"link",a),wn(o),h.head.appendChild(o)))}}function xU(a,o){As.m(a,o);var u=Iu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Mr(h)+'"][href="'+Mr(a)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ju(a)}if(!Li.has(x)&&(a=m({rel:"modulepreload",href:a},o),Li.set(x,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nh(x)))return}h=u.createElement("link"),or(h,"link",a),wn(h),u.head.appendChild(h)}}}function wU(a,o,u){As.S(a,o,u);var h=Iu;if(h&&a){var v=ka(h).hoistableStyles,x=Ou(a);o=o||"default";var N=v.get(x);if(!N){var M={loading:0,preload:null};if(N=h.querySelector(th(x)))M.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Li.get(x))&&Zx(a,u);var G=N=h.createElement("link");wn(G),or(G,"link",a),G._p=new Promise(function(ne,ue){G.onload=ne,G.onerror=ue}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,vg(N,o,h)}N={type:"stylesheet",instance:N,count:1,state:M},v.set(x,N)}}}function _U(a,o){As.X(a,o);var u=Iu;if(u&&a){var h=ka(u).hoistableScripts,v=ju(a),x=h.get(v);x||(x=u.querySelector(nh(v)),x||(a=m({src:a,async:!0},o),(o=Li.get(v))&&Jx(a,o),x=u.createElement("script"),wn(x),or(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function EU(a,o){As.M(a,o);var u=Iu;if(u&&a){var h=ka(u).hoistableScripts,v=ju(a),x=h.get(v);x||(x=u.querySelector(nh(v)),x||(a=m({src:a,async:!0,type:"module"},o),(o=Li.get(v))&&Jx(a,o),x=u.createElement("script"),wn(x),or(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function sC(a,o,u,h){var v=(v=we.current)?yg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ou(u.href),u=ka(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ou(u.href);var x=ka(v).hoistableStyles,N=x.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,N),(x=v.querySelector(th(a)))&&!x._p&&(N.instance=x,N.state.loading=5),Li.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(a,u),x||SU(v,a,u,N.state))),o&&h===null)throw Error(r(528,""));return N}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ju(u),u=ka(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ou(a){return'href="'+Mr(a)+'"'}function th(a){return'link[rel="stylesheet"]['+a+"]"}function oC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function SU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),or(o,"link",u),wn(o),a.head.appendChild(o))}function ju(a){return'[src="'+Mr(a)+'"]'}function nh(a){return"script[async]"+a}function lC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(h)return o.instance=h,wn(h),h;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),wn(h),or(h,"style",v),vg(h,u.precedence,a),o.instance=h;case"stylesheet":v=Ou(u.href);var x=a.querySelector(th(v));if(x)return o.state.loading|=4,o.instance=x,wn(x),x;h=oC(u),(v=Li.get(v))&&Zx(h,v),x=(a.ownerDocument||a).createElement("link"),wn(x);var N=x;return N._p=new Promise(function(M,G){N.onload=M,N.onerror=G}),or(x,"link",h),o.state.loading|=4,vg(x,u.precedence,a),o.instance=x;case"script":return x=ju(u.src),(v=a.querySelector(nh(x)))?(o.instance=v,wn(v),v):(h=u,(v=Li.get(x))&&(h=m({},u),Jx(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),wn(v),or(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,vg(h,u.precedence,a));return o.instance}function vg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,N=0;N<h.length;N++){var M=h[N];if(M.dataset.precedence===o)x=M;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Zx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Jx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var bg=null;function cC(a,o,u){if(bg===null){var h=new Map,v=bg=new Map;v.set(u,h)}else v=bg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var x=u[v];if(!(x[Ta]||x[xn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(o)||"";N=a+N;var M=h.get(N);M?M.push(x):h.set(N,[x])}}return h}function uC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function TU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function dC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function AU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ou(h.href),x=o.querySelector(th(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=xg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,wn(x);return}x=o.ownerDocument||o,h=oC(h),(v=Li.get(v))&&Zx(h,v),x=x.createElement("link"),wn(x);var N=x;N._p=new Promise(function(M,G){N.onload=M,N.onerror=G}),or(x,"link",h),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=xg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var e1=0;function kU(a,o){return a.stylesheets&&a.count===0&&_g(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&_g(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&e1===0&&(e1=62500*oU());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&_g(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>e1?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function xg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_g(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wg=null;function _g(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wg=new Map,o.forEach(NU,a),wg=null,xg.call(a))}function NU(a,o){if(!(o.state.loading&4)){var u=wg.get(a);if(u)var h=u.get(null);else{u=new Map,wg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var N=v[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),h=N)}h&&u.set(null,h)}v=o.instance,N=v.getAttribute("data-precedence"),x=u.get(N)||h,x===h&&u.set(null,v),u.set(N,v),this.count++,h=xg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var rh={$$typeof:I,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function CU(a,o,u,h,v,x,N,M,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function fC(a,o,u,h,v,x,N,M,G,ne,ue,fe){return a=new CU(a,o,u,N,G,ne,ue,fe,M),o=1,x===!0&&(o|=24),x=ri(3,null,null,o),a.current=x,x.stateNode=a,o=Pb(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},Db(x),a}function hC(a){return a?(a=cu,a):cu}function mC(a,o,u,h,v,x){v=hC(v),h.context===null?h.context=v:h.pendingContext=v,h=So(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=To(a,h,o),u!==null&&(Fr(u,a,o),Rf(u,a,o))}function pC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function t1(a,o){pC(a,o),(a=a.alternate)&&pC(a,o)}function gC(a){if(a.tag===13||a.tag===31){var o=Ml(a,67108864);o!==null&&Fr(o,a,67108864),t1(a,67108864)}}function yC(a){if(a.tag===13||a.tag===31){var o=li();o=Ea(o);var u=Ml(a,o);u!==null&&Fr(u,a,o),t1(a,o)}}var Eg=!0;function IU(a,o,u,h){var v=K.T;K.T=null;var x=ie.p;try{ie.p=2,n1(a,o,u,h)}finally{ie.p=x,K.T=v}}function OU(a,o,u,h){var v=K.T;K.T=null;var x=ie.p;try{ie.p=8,n1(a,o,u,h)}finally{ie.p=x,K.T=v}}function n1(a,o,u,h){if(Eg){var v=r1(h);if(v===null)Fx(a,o,h,Sg,u),bC(a,h);else if(PU(v,a,o,u,h))h.stopPropagation();else if(bC(a,h),o&4&&-1<jU.indexOf(a)){for(;v!==null;){var x=ki(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Jr(x.pendingLanes);if(N!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var G=1<<31-Wt(N);M.entanglements[1]|=G,N&=~G}Ba(x),(_t&6)===0&&(sg=on()+500,Qf(0))}}break;case 31:case 13:M=Ml(x,2),M!==null&&Fr(M,x,2),lg(),t1(x,2)}if(x=r1(h),x===null&&Fx(a,o,h,Sg,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else Fx(a,o,h,null,u)}}function r1(a){return a=Ni(a),i1(a)}var Sg=null;function i1(a){if(Sg=null,a=Aa(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Sg=a,null}function vC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case zr:return 2;case Qi:return 8;case Qr:case me:return 32;case gt:return 268435456;default:return 32}default:return 32}}var a1=!1,Mo=null,Do=null,Lo=null,ih=new Map,ah=new Map,Vo=[],jU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bC(a,o){switch(a){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":ih.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(o.pointerId)}}function sh(a,o,u,h,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=ki(o),o!==null&&gC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function PU(a,o,u,h,v){switch(o){case"focusin":return Mo=sh(Mo,a,o,u,h,v),!0;case"dragenter":return Do=sh(Do,a,o,u,h,v),!0;case"mouseover":return Lo=sh(Lo,a,o,u,h,v),!0;case"pointerover":var x=v.pointerId;return ih.set(x,sh(ih.get(x)||null,a,o,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,ah.set(x,sh(ah.get(x)||null,a,o,u,h,v)),!0}return!1}function xC(a){var o=Aa(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Zi(a.priority,function(){yC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Zi(a.priority,function(){yC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=r1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);bf=h,u.target.dispatchEvent(h),bf=null}else return o=ki(u),o!==null&&gC(o),a.blockedOn=u,!1;o.shift()}return!0}function wC(a,o,u){Tg(a)&&u.delete(o)}function zU(){a1=!1,Mo!==null&&Tg(Mo)&&(Mo=null),Do!==null&&Tg(Do)&&(Do=null),Lo!==null&&Tg(Lo)&&(Lo=null),ih.forEach(wC),ah.forEach(wC)}function Ag(a,o){a.blockedOn===o&&(a.blockedOn=null,a1||(a1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zU)))}var kg=null;function _C(a){kg!==a&&(kg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kg===a&&(kg=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(i1(h||u)===null)continue;break}var x=ki(u);x!==null&&(a.splice(o,3),o-=3,rx(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Pu(a){function o(G){return Ag(G,a)}Mo!==null&&Ag(Mo,a),Do!==null&&Ag(Do,a),Lo!==null&&Ag(Lo,a),ih.forEach(o),ah.forEach(o);for(var u=0;u<Vo.length;u++){var h=Vo[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Vo.length&&(u=Vo[0],u.blockedOn===null);)xC(u),u.blockedOn===null&&Vo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],N=v[Fn]||null;if(typeof x=="function")N||_C(u);else if(N){var M=null;if(x&&x.hasAttribute("formAction")){if(v=x,N=x[Fn]||null)M=N.formAction;else if(i1(v)!==null)continue}else M=N.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),_C(u)}}}function EC(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function s1(a){this._internalRoot=a}Ng.prototype.render=s1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=li();mC(u,h,a,o,null,null)},Ng.prototype.unmount=s1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;mC(a.current,2,null,a,null,null),lg(),o[Sa]=null}};function Ng(a){this._internalRoot=a}Ng.prototype.unstable_scheduleHydration=function(a){if(a){var o=cf();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Vo.length&&o!==0&&o<Vo[u].priority;u++);Vo.splice(u,0,a),u===0&&xC(a)}};var SC=e.version;if(SC!=="19.2.3")throw Error(r(527,SC,"19.2.3"));ie.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var RU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{Jn=Cg.inject(RU),nn=Cg}catch{}}return lh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=Ok,x=jk,N=Pk;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=fC(a,1,!1,null,null,u,h,null,v,x,N,EC),a[Sa]=o.current,Ux(a),new s1(o)},lh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",x=Ok,N=jk,M=Pk,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=fC(a,1,!0,o,u??null,h,v,G,x,N,M,EC),o.context=hC(null),u=o.current,h=li(),h=Ea(h),v=So(h),v.callback=null,To(u,v,h),u=h,o.current.lanes=u,Ht(o,u),Ba(o),a[Sa]=o.current,Ux(a),new Ng(o)},lh.version="19.2.3",lh}var zC;function GU(){if(zC)return c1.exports;zC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c1.exports=HU(),c1.exports}var KU=GU();const UM=T.createContext(void 0),FM=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return g.jsx(UM.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},Ld=()=>{const t=T.useContext(UM);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var RC="popstate";function YU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Vc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),v_("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:$h(s))}function r(i,s){bi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return XU(e,n,r,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WU(){return Math.random().toString(36).substring(2,10)}function MC(t,e){return{usr:t.state,key:t.key,idx:e}}function v_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:n,key:e&&e.key||r||WU()}}function $h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function XU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let _=p(),k=_==null?null:_-f;f=_,d&&d({action:c,location:S.location,delta:k})}function b(_,k){c="PUSH";let z=v_(S.location,_,k);n&&n(z,_),f=p()+1;let I=MC(z,f),D=S.createHref(z);try{l.pushState(I,"",D)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(D)}s&&d&&d({action:c,location:S.location,delta:1})}function w(_,k){c="REPLACE";let z=v_(S.location,_,k);n&&n(z,_),f=p();let I=MC(z,f),D=S.createHref(z);l.replaceState(I,"",D),s&&d&&d({action:c,location:S.location,delta:0})}function E(_){return QU(_)}let S={get action(){return c},get location(){return t(i,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(RC,m),d=_,()=>{i.removeEventListener(RC,m),d=null}},createHref(_){return e(i,_)},createURL:E,encodeLocation(_){let k=E(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:w,go(_){return l.go(_)}};return S}function QU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$h(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qM(t,e,n="/"){return ZU(t,e,n,!1)}function ZU(t,e,n,r){let i=typeof e=="string"?Vc(e):e,s=Bs(i.pathname||"/",n);if(s==null)return null;let l=$M(t);JU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=u7(s);c=l7(l[d],f,r)}return c}function $M(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;tn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Ds([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(tn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),$M(l.children,e,b,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:s7(m,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of HM(l.path))s(l,c,!0,d)}),e}function HM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=HM(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function JU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e7=/^:[\w-]+$/,t7=3,n7=2,r7=1,i7=10,a7=-2,DC=t=>t==="*";function s7(t,e){let n=t.split("/"),r=n.length;return n.some(DC)&&(r+=a7),e&&(r+=n7),n.filter(i=>!DC(i)).reduce((i,s)=>i+(e7.test(s)?t7:s===""?r7:i7),r)}function o7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l7(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ds([s,m.pathname]),pathnameBase:m7(Ds([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=Ds([s,m.pathnameBase]))}return l}function C0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let E=c[b]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[b];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function c7(t,e=!1,n=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var GM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d7=t=>GM.test(t);function f7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vc(t):t,s;if(n)if(d7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=LC(n.substring(1),"/"):s=LC(n,e)}else s=e;return{pathname:s,search:p7(r),hash:g7(i)}}function LC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function h1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sS(t){let e=h7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function oS(t,e,n,r=!1){let i;typeof t=="string"?i=Vc(t):(i={...t},tn(!i.pathname||!i.pathname.includes("?"),h1("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),h1("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),h1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}c=m>=0?e[m]:"/"}let d=f7(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ds=t=>t.join("/").replace(/\/\/+/g,"/"),m7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,y7=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function v7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function b7(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YM(t,e){let n=t;if(typeof n!="string"||!GM.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(KM)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Bs(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WM=["POST","PUT","PATCH","DELETE"];new Set(WM);var x7=["GET",...WM];new Set(x7);var Vd=T.createContext(null);Vd.displayName="DataRouter";var Zy=T.createContext(null);Zy.displayName="DataRouterState";var w7=T.createContext(!1),XM=T.createContext({isTransitioning:!1});XM.displayName="ViewTransition";var _7=T.createContext(new Map);_7.displayName="Fetchers";var E7=T.createContext(null);E7.displayName="Await";var Ei=T.createContext(null);Ei.displayName="Navigation";var Sm=T.createContext(null);Sm.displayName="Location";var ba=T.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var lS=T.createContext(null);lS.displayName="RouteError";var QM="REACT_ROUTER_ERROR",S7="REDIRECT",T7="ROUTE_ERROR_RESPONSE";function A7(t){if(t.startsWith(`${QM}:${S7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function k7(t){if(t.startsWith(`${QM}:${T7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y7(e.status,e.statusText,e.data)}catch{}}function N7(t,{relative:e}={}){tn(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Ei),{hash:i,pathname:s,search:l}=Tm(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Ds([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Bd(){return T.useContext(Sm)!=null}function Js(){return tn(Bd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Sm).location}var ZM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JM(t){T.useContext(Ei).static||T.useLayoutEffect(t)}function cS(){let{isDataRoute:t}=T.useContext(ba);return t?q7():C7()}function C7(){tn(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Vd),{basename:e,navigator:n}=T.useContext(Ei),{matches:r}=T.useContext(ba),{pathname:i}=Js(),s=JSON.stringify(sS(r)),l=T.useRef(!1);return JM(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(bi(l.current,ZM),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=oS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ds([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var I7=T.createContext(null);function O7(t){let e=T.useContext(ba).outlet;return T.useMemo(()=>e&&T.createElement(I7.Provider,{value:t},e),[e,t])}function Tm(t,{relative:e}={}){let{matches:n}=T.useContext(ba),{pathname:r}=Js(),i=JSON.stringify(sS(n));return T.useMemo(()=>oS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function j7(t,e){return eD(t,e)}function eD(t,e,n,r,i){tn(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Ei),{matches:l}=T.useContext(ba),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let z=m&&m.path||"";nD(f,!m||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Js(),w;if(e){let z=typeof e=="string"?Vc(e):e;tn(p==="/"||z.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=b;let E=w.pathname||"/",S=E;if(p!=="/"){let z=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(z.length).join("/")}let _=qM(t,{pathname:S});bi(m||_!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=D7(_&&_.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Ds([p,s.encodeLocation?s.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Ds([p,s.encodeLocation?s.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),l,n,r,i);return e&&k?T.createElement(Sm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function P7(){let t=F7(),e=v7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var z7=T.createElement(P7,null),tD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=k7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(ba.Provider,{value:this.props.routeContext},T.createElement(lS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(R7,{error:t},e):e}};tD.contextType=w7;var m1=new WeakMap;function R7({children:t,error:e}){let{basename:n}=T.useContext(Ei);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=A7(e.digest);if(r){let i=m1.get(e);if(i)throw i;let s=YM(r.location,n);if(KM&&!m1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw m1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function M7({routeContext:t,match:e,children:n}){let r=T.useContext(Vd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ba.Provider,{value:t},n)}function D7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);tn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:b,errors:w}=n,E=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||E){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:b7(n.matches),errorInfo:m})}:void 0;return s.reduceRight((p,m,b)=>{let w,E=!1,S=null,_=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||z7,c&&(d<0&&b===0?(nD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,_=null):d===b&&(E=!0,_=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),z=()=>{let I;return w?I=S:E?I=_:m.route.Component?I=T.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,T.createElement(M7,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?T.createElement(tD,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):z()},null)}function uS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L7(t){let e=T.useContext(Vd);return tn(e,uS(t)),e}function V7(t){let e=T.useContext(Zy);return tn(e,uS(t)),e}function B7(t){let e=T.useContext(ba);return tn(e,uS(t)),e}function dS(t){let e=B7(t),n=e.matches[e.matches.length-1];return tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function U7(){return dS("useRouteId")}function F7(){let t=T.useContext(lS),e=V7("useRouteError"),n=dS("useRouteError");return t!==void 0?t:e.errors?.[n]}function q7(){let{router:t}=L7("useNavigate"),e=dS("useNavigate"),n=T.useRef(!1);return JM(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{bi(n.current,ZM),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var VC={};function nD(t,e,n){!e&&!VC[t]&&(VC[t]=!0,bi(!1,n))}T.memo($7);function $7({routes:t,future:e,state:n,onError:r}){return eD(t,void 0,n,r,e)}function rD({to:t,replace:e,state:n,relative:r}){tn(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ei);bi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(ba),{pathname:l}=Js(),c=cS(),d=oS(t,sS(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function iD(t){return O7(t.context)}function ci(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){tn(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Vc(n));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:w="default"}=n,E=T.useMemo(()=>{let S=Bs(f,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:b,key:w},navigationType:r}},[c,f,p,m,b,w,r]);return bi(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Ei.Provider,{value:d},T.createElement(Sm.Provider,{children:e,value:E}))}function G7({children:t,location:e}){return j7(b_(t),e)}function b_(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,b_(r.props.children,s));return}tn(r.type===ci,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=b_(r.props.children,s)),n.push(l)}),n}var s0="get",o0="application/x-www-form-urlencoded";function Jy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function K7(t){return Jy(t)&&t.tagName.toLowerCase()==="button"}function Y7(t){return Jy(t)&&t.tagName.toLowerCase()==="form"}function W7(t){return Jy(t)&&t.tagName.toLowerCase()==="input"}function X7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q7(t,e){return t.button===0&&(!e||e==="_self")&&!X7(t)}var Ig=null;function Z7(){if(Ig===null)try{new FormData(document.createElement("form"),0),Ig=!1}catch{Ig=!0}return Ig}var J7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p1(t){return t!=null&&!J7.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o0}"`),null):t}function eF(t,e){let n,r,i,s,l;if(Y7(t)){let c=t.getAttribute("action");r=c?Bs(c,e):null,n=t.getAttribute("method")||s0,i=p1(t.getAttribute("enctype"))||o0,s=new FormData(t)}else if(K7(t)||W7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Bs(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||s0,i=p1(t.getAttribute("formenctype"))||p1(c.getAttribute("enctype"))||o0,s=new FormData(c,t),!Z7()){let{name:f,type:p,value:m}=t;if(p==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,m)}}else{if(Jy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=s0,r=null,i=o0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iF(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await nF(s,n);return l.links?l.links():[]}return[]}));return lF(r.flat(1).filter(rF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function BC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function aF(t,e,{includeHydrateFallback:n}={}){return sF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sF(t){return[...new Set(t)]}function oF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(oF(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function aD(){let t=T.useContext(Vd);return fS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cF(){let t=T.useContext(Zy);return fS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hS=T.createContext(void 0);hS.displayName="FrameworkContext";function sD(){let t=T.useContext(hS);return fS(t,"You must render this element inside a <HydratedRouter> element"),t}function uF(t,e){let n=T.useContext(hS),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=k=>{k.forEach(z=>{l(z.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:ch(c,w),onBlur:ch(d,E),onMouseEnter:ch(f,w),onMouseLeave:ch(p,E),onTouchStart:ch(m,w)}]:[!1,b,{}]}function ch(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dF({page:t,...e}){let{router:n}=aD(),r=T.useMemo(()=>qM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(hF,{page:t,matches:r,...e}):null}function fF(t){let{manifest:e,routeModules:n}=sD(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return iF(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function hF({page:t,matches:e,...n}){let r=Js(),{manifest:i,routeModules:s}=sD(),{basename:l}=aD(),{loaderData:c,matches:d}=cF(),f=T.useMemo(()=>BC(t,e,d,i,r,"data"),[t,e,d,i,r]),p=T.useMemo(()=>BC(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,S=!1;if(e.forEach(k=>{let z=i.routes[k.route.id];!z||!z.hasLoader||(!f.some(I=>I.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||z.hasClientLoader?S=!0:E.add(k.route.id))}),E.size===0)return[];let _=tF(t,l,"data");return S&&E.size>0&&_.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>aF(p,i),[p,i]),w=fF(p);return T.createElement(T.Fragment,null,m.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:S})=>T.createElement("link",{key:E,nonce:n.nonce,...S})))}function mF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pF&&(window.__reactRouterVersion="7.11.0")}catch{}function gF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=YU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(H7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var oD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...w},E){let{basename:S,unstable_useTransitions:_}=T.useContext(Ei),k=typeof f=="string"&&oD.test(f),z=YM(f,S);f=z.to;let I=N7(f,{relative:i}),[D,j,F]=uF(r,w),P=bF(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:_});function C(V){e&&e(V),V.defaultPrevented||P(V)}let R=T.createElement("a",{...w,...F,href:z.absoluteURL||I,onClick:z.isExternal||s?e:C,ref:mF(E,j),target:d,"data-discover":!k&&n==="render"?"true":void 0});return D&&!k?T.createElement(T.Fragment,null,R,T.createElement(dF,{page:I})):R});lD.displayName="Link";var cD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},p){let m=Tm(l,{relative:f.relative}),b=Js(),w=T.useContext(Zy),{navigator:E,basename:S}=T.useContext(Ei),_=w!=null&&SF(m)&&c===!0,k=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,z=b.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(z=z.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&S&&(I=Bs(I,S)||I);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let j=z===k||!i&&z.startsWith(k)&&z.charAt(D)==="/",F=I!=null&&(I===k||!i&&I.startsWith(k)&&I.charAt(k.length)==="/"),P={isActive:j,isPending:F,isTransitioning:_},C=j?e:void 0,R;typeof r=="function"?R=r(P):R=[r,j?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(P):s;return T.createElement(lD,{...f,"aria-current":C,className:R,ref:p,style:V,to:l,viewTransition:c},typeof d=="function"?d(P):d)});cD.displayName="NavLink";var yF=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=s0,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...w},E)=>{let{unstable_useTransitions:S}=T.useContext(Ei),_=_F(),k=EF(c,{relative:f}),z=l.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&oD.test(c),D=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let F=j.nativeEvent.submitter,P=F?.getAttribute("formmethod")||l,C=()=>_(F||j.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b});S&&n!==!1?T.startTransition(()=>C()):C()};return T.createElement("form",{ref:E,method:z,action:k,onSubmit:r?d:D,...w,"data-discover":!I&&t==="render"?"true":void 0})});yF.displayName="Form";function vF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uD(t){let e=T.useContext(Vd);return tn(e,vF(t)),e}function bF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=cS(),p=Js(),m=Tm(t,{relative:s});return T.useCallback(b=>{if(Q7(b,e)){b.preventDefault();let w=n!==void 0?n:$h(p)===$h(m),E=()=>f(t,{replace:w,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>E()):E()}},[p,f,m,n,r,e,t,i,s,l,c,d])}var xF=0,wF=()=>`__${String(++xF)}__`;function _F(){let{router:t}=uD("useSubmit"),{basename:e}=T.useContext(Ei),n=U7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:p,body:m}=eF(s,e);if(l.navigate===!1){let b=l.fetcherKey||wF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function EF(t,{relative:e}={}){let{basename:n}=T.useContext(Ei),r=T.useContext(ba);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Tm(t||".",{relative:e})},l=Js();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ds([n,s.pathname])),$h(s)}function SF(t,{relative:e}={}){let n=T.useContext(XM);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uD("useViewTransitionState"),i=Tm(t,{relative:e});if(!n.isTransitioning)return!1;let s=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return C0(i.pathname,l)!=null||C0(i.pathname,s)!=null}var mS=BM();const TF=os(mS),dD=T.createContext(void 0),AF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"light"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return g.jsx(dD.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},fD=()=>{const t=T.useContext(dD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},kF=()=>{};var UC={};const hD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},mD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(b=64)),r.push(n[p],n[m],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new CF;const b=s<<2|c>>4;if(r.push(b),f!==64){const w=c<<4&240|f>>2;if(r.push(w),m!==64){const E=f<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IF=function(t){const e=hD(t);return mD.encodeByteArray(e,!0)},pD=function(t){return IF(t).replace(/\./g,"")},gD=function(t){try{return mD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OF=()=>yD().__FIREBASE_DEFAULTS__,jF=()=>{if(typeof process>"u"||typeof UC>"u")return;const t=UC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gD(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return kF()||OF()||jF()||PF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zF=t=>ev()?.emulatorHosts?.[t],vD=()=>ev()?.config,bD=t=>ev()?.[`_${t}`];class RF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ud(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xD(t){return(await fetch(t,{credentials:"include"})).ok}const Oh={};function MF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oh))Oh[e]?t.emulator.push(e):t.prod.push(e);return t}function DF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FC=!1;function LF(t,e){if(typeof window>"u"||typeof document>"u"||!Ud(window.location.host)||Oh[t]===e||Oh[t]||FC)return;Oh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=MF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{FC=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function m(){const b=DF(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),_=document.getElementById(S)||document.createElement("a"),k=n("preprendIcon"),z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;c(I),p(_,S);const D=f();d(z,k),I.append(z,E,_,D),document.body.appendChild(I)}s?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function wD(){const t=ev()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qF(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _D(){return!wD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ED(){return!wD()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function SD(){try{return typeof indexedDB=="object"}catch{return!1}}function $F(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const HF="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HF,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Am.prototype.create)}}class Am{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?GF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new eo(i,c,r)}}function GF(t,e){return t.replace(KF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KF=/\{\$([^}]+)}/g;function YF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(qC(s)&&qC(l)){if(!_c(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qC(t){return t!==null&&typeof t=="object"}function km(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WF(t,e){const n=new XF(t,e);return n.subscribe.bind(n)}class XF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=g1),i.error===void 0&&(i.error=g1),i.complete===void 0&&(i.complete=g1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g1(){}function Yr(t){return t&&t._delegate?t._delegate:t}class Ec{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";let ZF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eq(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JF(t){return t===Ql?void 0:t}function eq(t){return t.instantiationMode==="EAGER"}class tq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const nq={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},rq=ht.INFO,iq={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},aq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pS{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=aq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const sq=(t,e)=>e.some(n=>t instanceof n);let $C,HC;function oq(){return $C||($C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lq(){return HC||(HC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TD=new WeakMap,x_=new WeakMap,AD=new WeakMap,y1=new WeakMap,gS=new WeakMap;function cq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(rl(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&TD.set(n,t)}).catch(()=>{}),gS.set(e,t),e}function uq(t){if(x_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});x_.set(t,e)}let w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dq(t){w_=t(w_)}function fq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v1(this),e,...n);return AD.set(r,e.sort?e.sort():[e]),rl(r)}:lq().includes(t)?function(...e){return t.apply(v1(this),e),rl(TD.get(this))}:function(...e){return rl(t.apply(v1(this),e))}}function hq(t){return typeof t=="function"?fq(t):(t instanceof IDBTransaction&&uq(t),sq(t,oq())?new Proxy(t,w_):t)}function rl(t){if(t instanceof IDBRequest)return cq(t);if(y1.has(t))return y1.get(t);const e=hq(t);return e!==t&&(y1.set(t,e),gS.set(e,t)),e}const v1=t=>gS.get(t);function mq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=rl(l);return r&&l.addEventListener("upgradeneeded",d=>{r(rl(l.result),d.oldVersion,d.newVersion,rl(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const pq=["get","getKey","getAll","getAllKeys","count"],gq=["put","add","delete","clear"],b1=new Map;function GC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(b1.get(e))return b1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pq.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return b1.set(e,s),s}dq(t=>({...t,get:(e,n,r)=>GC(e,n)||t.get(e,n,r),has:(e,n)=>!!GC(e,n)||t.has(e,n)}));class yq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vq(t){return t.getComponent()?.type==="VERSION"}const __="@firebase/app",KC="0.14.6";const Us=new pS("@firebase/app"),bq="@firebase/app-compat",xq="@firebase/analytics-compat",wq="@firebase/analytics",_q="@firebase/app-check-compat",Eq="@firebase/app-check",Sq="@firebase/auth",Tq="@firebase/auth-compat",Aq="@firebase/database",kq="@firebase/data-connect",Nq="@firebase/database-compat",Cq="@firebase/functions",Iq="@firebase/functions-compat",Oq="@firebase/installations",jq="@firebase/installations-compat",Pq="@firebase/messaging",zq="@firebase/messaging-compat",Rq="@firebase/performance",Mq="@firebase/performance-compat",Dq="@firebase/remote-config",Lq="@firebase/remote-config-compat",Vq="@firebase/storage",Bq="@firebase/storage-compat",Uq="@firebase/firestore",Fq="@firebase/ai",qq="@firebase/firestore-compat",$q="firebase",Hq="12.6.0";const E_="[DEFAULT]",Gq={[__]:"fire-core",[bq]:"fire-core-compat",[wq]:"fire-analytics",[xq]:"fire-analytics-compat",[Eq]:"fire-app-check",[_q]:"fire-app-check-compat",[Sq]:"fire-auth",[Tq]:"fire-auth-compat",[Aq]:"fire-rtdb",[kq]:"fire-data-connect",[Nq]:"fire-rtdb-compat",[Cq]:"fire-fn",[Iq]:"fire-fn-compat",[Oq]:"fire-iid",[jq]:"fire-iid-compat",[Pq]:"fire-fcm",[zq]:"fire-fcm-compat",[Rq]:"fire-perf",[Mq]:"fire-perf-compat",[Dq]:"fire-rc",[Lq]:"fire-rc-compat",[Vq]:"fire-gcs",[Bq]:"fire-gcs-compat",[Uq]:"fire-fst",[qq]:"fire-fst-compat",[Fq]:"fire-vertex","fire-js":"fire-js",[$q]:"fire-js-all"};const I0=new Map,Kq=new Map,S_=new Map;function YC(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function od(t){const e=t.name;if(S_.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,t);for(const n of I0.values())YC(n,t);for(const n of Kq.values())YC(n,t);return!0}function yS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ca(t){return t==null?!1:t.settings!==void 0}const Yq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},il=new Am("app","Firebase",Yq);class Wq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}}const Fd=Hq;function kD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:E_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw il.create("bad-app-name",{appName:String(i)});if(n||(n=vD()),!n)throw il.create("no-options");const s=I0.get(i);if(s){if(_c(n,s.options)&&_c(r,s.config))return s;throw il.create("duplicate-app",{appName:i})}const l=new tq(i);for(const d of S_.values())l.addComponent(d);const c=new Wq(n,r,l);return I0.set(i,c),c}function Xq(t=E_){const e=I0.get(t);if(!e&&t===E_&&vD())return kD();if(!e)throw il.create("no-app",{appName:t});return e}function al(t,e,n){let r=Gq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}od(new Ec(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Qq="firebase-heartbeat-database",Zq=1,Hh="firebase-heartbeat-store";let x1=null;function ND(){return x1||(x1=mq(Qq,Zq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw il.create("idb-open",{originalErrorMessage:t.message})})),x1}async function Jq(t){try{const n=(await ND()).transaction(Hh),r=await n.objectStore(Hh).get(CD(t));return await n.done,r}catch(e){if(e instanceof eo)Us.warn(e.message);else{const n=il.create("idb-get",{originalErrorMessage:e?.message});Us.warn(n.message)}}}async function WC(t,e){try{const r=(await ND()).transaction(Hh,"readwrite");await r.objectStore(Hh).put(e,CD(t)),await r.done}catch(n){if(n instanceof eo)Us.warn(n.message);else{const r=il.create("idb-set",{originalErrorMessage:n?.message});Us.warn(r.message)}}}function CD(t){return`${t.name}!${t.options.appId}`}const e$=1024,t$=30;class n${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=XC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>t$){const i=a$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XC(),{heartbeatsToSend:n,unsentEntries:r}=r$(this._heartbeatsCache.heartbeats),i=pD(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Us.warn(e),""}}}function XC(){return new Date().toISOString().substring(0,10)}function r$(t,e=e$){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),QC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?$F().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QC(t){return pD(JSON.stringify({version:2,heartbeats:t})).length}function a$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function s$(t){od(new Ec("platform-logger",e=>new yq(e),"PRIVATE")),od(new Ec("heartbeat",e=>new n$(e),"PRIVATE")),al(__,KC,t),al(__,KC,"esm2020"),al("fire-js","")}s$("");function ID(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o$=ID,OD=new Am("auth","Firebase",ID());const O0=new pS("@firebase/auth");function l$(t,...e){O0.logLevel<=ht.WARN&&O0.warn(`Auth (${Fd}): ${t}`,...e)}function l0(t,...e){O0.logLevel<=ht.ERROR&&O0.error(`Auth (${Fd}): ${t}`,...e)}function ns(t,...e){throw bS(t,...e)}function ma(t,...e){return bS(t,...e)}function vS(t,e,n){const r={...o$(),[e]:n};return new Am("auth","Firebase",r).create(e,{appName:t.name})}function hc(t){return vS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ns(t,"argument-error"),vS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OD.create(t,...e)}function Xe(t,e,...n){if(!t)throw bS(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw l0(e),new Error(e)}function Fs(t,e){t||js(e)}function T_(){return typeof self<"u"&&self.location?.href||""}function u$(){return ZC()==="http:"||ZC()==="https:"}function ZC(){return typeof self<"u"&&self.location?.protocol||null}function d$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u$()||UF()||"connection"in navigator)?navigator.onLine:!0}function f$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=VF()||FF()}get(){return d$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xS(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const m$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p$=new Nm(3e4,6e4);function wS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qd(t,e,n,r,i={}){return PD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=km({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return BF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(f.credentials="include"),jD.fetch()(await zD(t,t.config.apiHost,n,c),f)})}async function PD(t,e,n){t._canInitEmulator=!1;const r={...h$,...e};try{const i=new y$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Og(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Og(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Og(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Og(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vS(t,p,f);ns(t,p)}}catch(i){if(i instanceof eo)throw i;ns(t,"network-request-failed",{message:String(i)})}}async function g$(t,e,n,r,i={}){const s=await qd(t,e,n,r,i);return"mfaPendingCredential"in s&&ns(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function zD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?xS(t.config,i):`${t.config.apiScheme}://${i}`;return m$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class y${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),p$.get())})}}function Og(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ma(t,e,r);return i.customData._tokenResponse=n,i}async function v$(t,e){return qd(t,"POST","/v1/accounts:delete",e)}async function j0(t,e){return qd(t,"POST","/v1/accounts:lookup",e)}function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b$(t,e=!1){const n=Yr(t),r=await n.getIdToken(e),i=_S(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:jh(w1(i.auth_time)),issuedAtTime:jh(w1(i.iat)),expirationTime:jh(w1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function w1(t){return Number(t)*1e3}function _S(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return l0("JWT malformed, contained fewer than 3 sections"),null;try{const i=gD(n);return i?JSON.parse(i):(l0("Failed to decode base64 JWT payload"),null)}catch(i){return l0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JC(t){const e=_S(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&x$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class w${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class A_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function P0(t){const e=t.auth,n=await t.getIdToken(),r=await Gh(t,j0(e,{idToken:n}));Xe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?RD(i.providerUserInfo):[],l=E$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new A_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function _$(t){const e=Yr(t);await P0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function S$(t,e){const n=await PD(t,{},async()=>{const r=km({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await zD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(d.credentials="include"),jD.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T$(t,e){return qd(t,"POST","/v2/accounts:revokeToken",wS(t,e))}class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=JC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await S$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Ju;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Xe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return js("not implemented")}}function Uo(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ha{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new w$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new A_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gh(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b$(this,e)}reload(){return _$(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await P0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ca(this.auth.app))return Promise.reject(hc(this.auth));const e=await this.getIdToken();return await Gh(this,v$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=n;Xe(m&&S,e,"internal-error");const _=Ju.fromJSON(this.name,S);Xe(typeof m=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),Xe(typeof b=="boolean",e,"internal-error"),Xe(typeof w=="boolean",e,"internal-error"),Uo(s,e.name),Uo(l,e.name),Uo(c,e.name),Uo(d,e.name),Uo(f,e.name),Uo(p,e.name);const k=new ha({uid:m,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:_,createdAt:f,lastLoginAt:p});return E&&Array.isArray(E)&&(k.providerData=E.map(z=>({...z}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const s=new ha({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await P0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Ju;c.updateFromIdToken(r);const d=new ha({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new A_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const eI=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=eI.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eI.set(t,e),e)}class MD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MD.type="NONE";const tI=MD;function c0(t,e,n){return`firebase:${t}:${e}:${n}`}class ed{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=c0(this.userKey,i.apiKey,s),this.fullPersistenceKey=c0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await j0(this.auth,{idToken:e}).catch(()=>{});return n?ha._fromGetAccountInfoResponse(this.auth,n,e):null}return ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ed(Ps(tI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ps(tI);const l=c0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const b=await j0(e,{idToken:p}).catch(()=>{});if(!b)break;m=await ha._fromGetAccountInfoResponse(e,b,p)}else m=ha._fromJSON(e,p);f!==s&&(c=m),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new ed(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new ed(s,e,r))}}function nI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FD(e))return"Blackberry";if(qD(e))return"Webos";if(LD(e))return"Safari";if((e.includes("chrome/")||VD(e))&&!e.includes("edge/"))return"Chrome";if(UD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function DD(t=Rn()){return/firefox\//i.test(t)}function LD(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VD(t=Rn()){return/crios\//i.test(t)}function BD(t=Rn()){return/iemobile/i.test(t)}function UD(t=Rn()){return/android/i.test(t)}function FD(t=Rn()){return/blackberry/i.test(t)}function qD(t=Rn()){return/webos/i.test(t)}function ES(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A$(t=Rn()){return ES(t)&&!!window.navigator?.standalone}function k$(){return qF()&&document.documentMode===10}function $D(t=Rn()){return ES(t)||UD(t)||qD(t)||FD(t)||/windows phone/i.test(t)||BD(t)}function HD(t,e=[]){let n;switch(t){case"Browser":n=nI(Rn());break;case"Worker":n=`${nI(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fd}/${r}`}class N${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function C$(t,e={}){return qd(t,"GET","/v2/passwordPolicy",wS(t,e))}const I$=6;class O${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??I$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class j${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rI(this),this.idTokenSubscription=new rI(this),this.beforeStateQueue=new N$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ed.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await j0(this,{idToken:e}),r=await ha._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ca(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await P0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ca(this.app))return Promise.reject(hc(this));const n=e?Yr(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ca(this.app)?Promise.reject(hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ca(this.app)?Promise.reject(hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C$(this),n=new O$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Am("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await ed.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ca(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tv(t){return Yr(t)}class rI{constructor(e){this.auth=e,this.observer=null,this.addObserver=WF(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let SS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P$(t){SS=t}function z$(t){return SS.loadJS(t)}function R$(){return SS.gapiScript}function M$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function D$(t,e){const n=yS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_c(s,e??{}))return i;ns(i,"already-initialized")}return n.initialize({options:e})}function L$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function V$(t,e,n){const r=tv(t);Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=GD(e),{host:l,port:c}=B$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xe(_c(f,r.config.emulator)&&_c(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ud(l)?(xD(`${s}//${l}${d}`),LF("Auth",!0)):U$()}function GD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B$(t){const e=GD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:iI(l)}}}function iI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class KD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function td(t,e){return g$(t,"POST","/v1/accounts:signInWithIdp",wS(t,e))}const F$="http://localhost";class Sc extends KD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Sc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,td(e,n)}buildRequest(){const e={requestUri:F$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=km(n)}return e}}class TS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cm extends TS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xo extends Cm{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";class Cs extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sc._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";class Qo extends Cm{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.GITHUB_SIGN_IN_METHOD="github.com";Qo.PROVIDER_ID="github.com";class Zo extends Cm{constructor(){super("twitter.com")}static credential(e,n){return Sc._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zo.credential(n,r)}catch{return null}}}Zo.TWITTER_SIGN_IN_METHOD="twitter.com";Zo.PROVIDER_ID="twitter.com";class ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ha._fromIdTokenResponse(e,r,i),l=aI(r);return new ld({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aI(r);return new ld({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class z0 extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,z0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new z0(e,n,r,i)}}function YD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?z0._fromErrorAndOperation(t,s,e,r):s})}async function q$(t,e,n=!1){const r=await Gh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ld._forOperation(t,"link",r)}async function $$(t,e,n=!1){const{auth:r}=t;if(ca(r.app))return Promise.reject(hc(r));const i="reauthenticate";try{const s=await Gh(t,YD(r,i,e,t),n);Xe(s.idToken,r,"internal-error");const l=_S(s.idToken);Xe(l,r,"internal-error");const{sub:c}=l;return Xe(t.uid===c,r,"user-mismatch"),ld._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ns(r,"user-mismatch"),s}}async function H$(t,e,n=!1){if(ca(t.app))return Promise.reject(hc(t));const r="signIn",i=await YD(t,r,e),s=await ld._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function G$(t,e){return Yr(t).setPersistence(e)}function K$(t,e,n,r){return Yr(t).onIdTokenChanged(e,n,r)}function Y$(t,e,n){return Yr(t).beforeAuthStateChanged(e,n)}function W$(t,e,n,r){return Yr(t).onAuthStateChanged(e,n,r)}function X$(t){return Yr(t).signOut()}const R0="__sak";class WD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(R0,"1"),this.storage.removeItem(R0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q$=1e3,Z$=10;class XD extends WD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$D(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);k$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XD.type="LOCAL";const QD=XD;class ZD extends WD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZD.type="SESSION";const JD=ZD;function J$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class nv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await J$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nv.receivers=[];function AS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class eH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=AS("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Qa(){return window}function tH(t){Qa().location.href=t}function e5(){return typeof Qa().WorkerGlobalScope<"u"&&typeof Qa().importScripts=="function"}async function nH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rH(){return navigator?.serviceWorker?.controller||null}function iH(){return e5()?self:null}const t5="firebaseLocalStorageDb",aH=1,M0="firebaseLocalStorage",n5="fbase_key";class Im{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rv(t,e){return t.transaction([M0],e?"readwrite":"readonly").objectStore(M0)}function sH(){const t=indexedDB.deleteDatabase(t5);return new Im(t).toPromise()}function k_(){const t=indexedDB.open(t5,aH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(M0,{keyPath:n5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(M0)?e(r):(r.close(),await sH(),e(await k_()))})})}async function sI(t,e,n){const r=rv(t,!0).put({[n5]:e,value:n});return new Im(r).toPromise()}async function oH(t,e){const n=rv(t,!1).get(e),r=await new Im(n).toPromise();return r===void 0?null:r.value}function oI(t,e){const n=rv(t,!0).delete(e);return new Im(n).toPromise()}const lH=800,cH=3;class r5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nv._getInstance(iH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nH(),!this.activeServiceWorker)return;this.sender=new eH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k_();return await sI(e,R0,"1"),await oI(e,R0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rv(i,!1).getAll();return new Im(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r5.type="LOCAL";const uH=r5;new Nm(3e4,6e4);function i5(t,e){return e?Ps(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class kS extends KD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return td(e,this._buildIdpRequest())}_linkToIdToken(e,n){return td(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return td(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dH(t){return H$(t.auth,new kS(t),t.bypassAuthState)}function fH(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),$$(n,new kS(t),t.bypassAuthState)}async function hH(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),q$(n,new kS(t),t.bypassAuthState)}class a5{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return fH;default:ns(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mH=new Nm(2e3,1e4);async function pH(t,e,n){if(ca(t.app))return Promise.reject(ma(t,"operation-not-supported-in-this-environment"));const r=tv(t);c$(t,e,TS);const i=i5(r,n);return new lc(r,"signInViaPopup",e,i).executeNotNull()}class lc extends a5{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,lc.currentPopupAction&&lc.currentPopupAction.cancel(),lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=AS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mH.get())};e()}}lc.currentPopupAction=null;const gH="pendingRedirect",u0=new Map;class yH extends a5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=u0.get(this.auth._key());if(!e){try{const r=await vH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}u0.set(this.auth._key(),e)}return this.bypassAuthState||u0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vH(t,e){const n=wH(e),r=xH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bH(t,e){u0.set(t._key(),e)}function xH(t){return Ps(t._redirectPersistence)}function wH(t){return c0(gH,t.config.apiKey,t.name)}async function _H(t,e,n=!1){if(ca(t.app))return Promise.reject(hc(t));const r=tv(t),i=i5(r,e),l=await new yH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const EH=600*1e3;class SH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!s5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ma(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EH&&this.cachedEventUids.clear(),this.cachedEventUids.has(lI(e))}saveEventToCache(e){this.cachedEventUids.add(lI(e)),this.lastProcessedEventTime=Date.now()}}function lI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s5(t);default:return!1}}async function AH(t,e={}){return qd(t,"GET","/v1/projects",e)}const kH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;async function CH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AH(t);for(const n of e)try{if(IH(n))return}catch{}ns(t,"unauthorized-domain")}function IH(t){const e=T_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!NH.test(n))return!1;if(kH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const OH=new Nm(3e4,6e4);function cI(){const t=Qa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jH(t){return new Promise((e,n)=>{function r(){cI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cI(),n(ma(t,"network-request-failed"))},timeout:OH.get()})}if(Qa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qa().gapi?.load)r();else{const i=M$("iframefcb");return Qa()[i]=()=>{gapi.load?r():n(ma(t,"network-request-failed"))},z$(`${R$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw d0=null,e})}let d0=null;function PH(t){return d0=d0||jH(t),d0}const zH=new Nm(5e3,15e3),RH="__/auth/iframe",MH="emulator/auth/iframe",DH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VH(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xS(e,MH):`https://${t.config.authDomain}/${RH}`,r={apiKey:e.apiKey,appName:t.name,v:Fd},i=LH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${km(r).slice(1)}`}async function BH(t){const e=await PH(t),n=Qa().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:VH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ma(t,"network-request-failed"),c=Qa().setTimeout(()=>{s(l)},zH.get());function d(){Qa().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const UH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FH=500,qH=600,$H="_blank",HH="http://localhost";class uI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GH(t,e,n,r=FH,i=qH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...UH,width:r.toString(),height:i.toString(),top:s,left:l},f=Rn().toLowerCase();n&&(c=VD(f)?$H:n),DD(f)&&(e=e||HH,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[w,E])=>`${b}${w}=${E},`,"");if(A$(f)&&c!=="_self")return KH(e||"",c),new uI(null);const m=window.open(e||"",c,p);Xe(m,t,"popup-blocked");try{m.focus()}catch{}return new uI(m)}function KH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const YH="__/auth/handler",WH="emulator/auth/handler",XH=encodeURIComponent("fac");async function dI(t,e,n,r,i,s){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fd,eventId:i};if(e instanceof TS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",YF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Cm){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${XH}=${encodeURIComponent(d)}`:"";return`${QH(t)}?${km(c).slice(1)}${f}`}function QH({config:t}){return t.emulator?xS(t,WH):`https://${t.authDomain}/${YH}`}const _1="webStorageSupport";class ZH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JD,this._completeRedirectFn=_H,this._overrideRedirectResult=bH}async _openPopup(e,n,r,i){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await dI(e,n,r,T_(),i);return GH(e,s,AS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dI(e,n,r,T_(),i);return tH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BH(e),r=new SH(e);return n.register("authEvent",i=>(Xe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_1,{type:_1},i=>{const s=i?.[0]?.[_1];s!==void 0&&n(!!s),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $D()||LD()||ES()}}const JH=ZH;var fI="@firebase/auth",hI="1.12.0";class eG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nG(t){od(new Ec("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Xe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HD(t)},f=new j$(r,i,s,d);return L$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),od(new Ec("auth-internal",e=>{const n=tv(e.getProvider("auth").getImmediate());return(r=>new eG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),al(fI,hI,tG(t)),al(fI,hI,"esm2020")}const rG=300,iG=bD("authIdTokenMaxAge")||rG;let mI=null;const aG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iG)return;const i=n?.token;mI!==i&&(mI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sG(t=Xq()){const e=yS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D$(t,{popupRedirectResolver:JH,persistence:[uH,QD,JD]}),r=bD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=aG(s.toString());Y$(n,l,()=>l(n.currentUser)),K$(n,c=>l(c))}}const i=zF("auth");return i&&V$(n,`http://${i}`),n}function oG(){return document.getElementsByTagName("head")?.[0]??document}P$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ma("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nG("Browser");var lG="firebase",cG="12.7.0";al(lG,cG,"app");var pI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sl,o5;(function(){var t;function e(P,C){function R(){}R.prototype=C.prototype,P.F=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.D=function(V,L,$){for(var B=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)B[ve-2]=arguments[ve];return C.prototype[L].apply(V,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,R){R||(R=0);const V=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)V[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;L<16;++L)V[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],L=P.g[2];let $=P.g[3],B;B=C+($^R&(L^$))+V[0]+3614090360&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[1]+3905402710&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[2]+606105819&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[3]+3250441966&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[4]+4118548399&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[5]+1200080426&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[6]+2821735955&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[7]+4249261313&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[8]+1770035416&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[9]+2336552879&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[10]+4294925233&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[11]+2304563134&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+($^R&(L^$))+V[12]+1804603682&4294967295,C=R+(B<<7&4294967295|B>>>25),B=$+(L^C&(R^L))+V[13]+4254626195&4294967295,$=C+(B<<12&4294967295|B>>>20),B=L+(R^$&(C^R))+V[14]+2792965006&4294967295,L=$+(B<<17&4294967295|B>>>15),B=R+(C^L&($^C))+V[15]+1236535329&4294967295,R=L+(B<<22&4294967295|B>>>10),B=C+(L^$&(R^L))+V[1]+4129170786&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[6]+3225465664&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[11]+643717713&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[0]+3921069994&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[5]+3593408605&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[10]+38016083&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[15]+3634488961&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[4]+3889429448&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[9]+568446438&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[14]+3275163606&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[3]+4107603335&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[8]+1163531501&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(L^$&(R^L))+V[13]+2850285829&4294967295,C=R+(B<<5&4294967295|B>>>27),B=$+(R^L&(C^R))+V[2]+4243563512&4294967295,$=C+(B<<9&4294967295|B>>>23),B=L+(C^R&($^C))+V[7]+1735328473&4294967295,L=$+(B<<14&4294967295|B>>>18),B=R+($^C&(L^$))+V[12]+2368359562&4294967295,R=L+(B<<20&4294967295|B>>>12),B=C+(R^L^$)+V[5]+4294588738&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[8]+2272392833&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[11]+1839030562&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[14]+4259657740&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[1]+2763975236&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[4]+1272893353&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[7]+4139469664&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[10]+3200236656&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[13]+681279174&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[0]+3936430074&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[3]+3572445317&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[6]+76029189&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(R^L^$)+V[9]+3654602809&4294967295,C=R+(B<<4&4294967295|B>>>28),B=$+(C^R^L)+V[12]+3873151461&4294967295,$=C+(B<<11&4294967295|B>>>21),B=L+($^C^R)+V[15]+530742520&4294967295,L=$+(B<<16&4294967295|B>>>16),B=R+(L^$^C)+V[2]+3299628645&4294967295,R=L+(B<<23&4294967295|B>>>9),B=C+(L^(R|~$))+V[0]+4096336452&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[7]+1126891415&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[14]+2878612391&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[5]+4237533241&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[12]+1700485571&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[3]+2399980690&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[10]+4293915773&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[1]+2240044497&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[8]+1873313359&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[15]+4264355552&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[6]+2734768916&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[13]+1309151649&4294967295,R=L+(B<<21&4294967295|B>>>11),B=C+(L^(R|~$))+V[4]+4149444226&4294967295,C=R+(B<<6&4294967295|B>>>26),B=$+(R^(C|~L))+V[11]+3174756917&4294967295,$=C+(B<<10&4294967295|B>>>22),B=L+(C^($|~R))+V[2]+718787259&4294967295,L=$+(B<<15&4294967295|B>>>17),B=R+($^(L|~C))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,C){C===void 0&&(C=P.length);const R=C-this.blockSize,V=this.C;let L=this.h,$=0;for(;$<C;){if(L==0)for(;$<=R;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<C;)if(V[L++]=P.charCodeAt($++),L==this.blockSize){i(this,V),L=0;break}}else for(;$<C;)if(V[L++]=P[$++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;C=this.o*8;for(var R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.v(P),P=Array(16),C=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)P[C++]=this.g[R]>>>V&255;return P};function s(P,C){var R=c;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function l(P,C){this.h=C;const R=[];let V=!0;for(let L=P.length-1;L>=0;L--){const $=P[L]|0;V&&$==C||(R[L]=$,V=!1)}this.g=R}var c={};function d(P){return-128<=P&&P<128?s(P,function(C){return new l([C|0],C<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return _(f(-P));const C=[];let R=1;for(let V=0;P>=R;V++)C[V]=P/R|0,R*=4294967296;return new l(C,0)}function p(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return _(p(P.substring(1),C));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(C,8));let V=m;for(let $=0;$<P.length;$+=8){var L=Math.min(8,P.length-$);const B=parseInt(P.substring($,$+L),C);L<8?(L=f(Math.pow(C,L)),V=V.j(L).add(f(B))):(V=V.j(R),V=V.add(f(B)))}return V}var m=d(0),b=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-_(this).m();let P=0,C=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);P+=(V>=0?V:4294967296+V)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(S(this))return"-"+_(this).toString(P);const C=f(Math.pow(P,6));var R=this;let V="";for(;;){const L=D(R,C).g;R=k(R,L.j(C));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(P);if(R=L,E(R))return $+V;for(;$.length<6;)$="0"+$;V=$+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=k(this,P),S(P)?-1:E(P)?0:1};function _(P){const C=P.g.length,R=[];for(let V=0;V<C;V++)R[V]=~P.g[V];return new l(R,~P.h).add(b)}t.abs=function(){return S(this)?_(this):this},t.add=function(P){const C=Math.max(this.g.length,P.g.length),R=[];let V=0;for(let L=0;L<=C;L++){let $=V+(this.i(L)&65535)+(P.i(L)&65535),B=($>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);V=B>>>16,$&=65535,B&=65535,R[L]=B<<16|$}return new l(R,R[R.length-1]&-2147483648?-1:0)};function k(P,C){return P.add(_(C))}t.j=function(P){if(E(this)||E(P))return m;if(S(this))return S(P)?_(this).j(_(P)):_(_(this).j(P));if(S(P))return _(this.j(_(P)));if(this.l(w)<0&&P.l(w)<0)return f(this.m()*P.m());const C=this.g.length+P.g.length,R=[];for(var V=0;V<2*C;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<P.g.length;L++){const $=this.i(V)>>>16,B=this.i(V)&65535,ve=P.i(L)>>>16,Ae=P.i(L)&65535;R[2*V+2*L]+=B*Ae,z(R,2*V+2*L),R[2*V+2*L+1]+=$*Ae,z(R,2*V+2*L+1),R[2*V+2*L+1]+=B*ve,z(R,2*V+2*L+1),R[2*V+2*L+2]+=$*ve,z(R,2*V+2*L+2)}for(P=0;P<C;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=C;P<2*C;P++)R[P]=0;return new l(R,0)};function z(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function I(P,C){this.g=P,this.h=C}function D(P,C){if(E(C))throw Error("division by zero");if(E(P))return new I(m,m);if(S(P))return C=D(_(P),C),new I(_(C.g),_(C.h));if(S(C))return C=D(P,_(C)),new I(_(C.g),C.h);if(P.g.length>30){if(S(P)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=C;V.l(P)<=0;)R=j(R),V=j(V);var L=F(R,1),$=F(V,1);for(V=F(V,2),R=F(R,2);!E(V);){var B=$.add(V);B.l(P)<=0&&(L=L.add(R),$=B),V=F(V,1),R=F(R,1)}return C=k(P,L.j(C)),new I(L,C)}for(L=m;P.l(C)>=0;){for(R=Math.max(1,Math.floor(P.m()/C.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),$=f(R),B=$.j(C);S(B)||B.l(P)>0;)R-=V,$=f(R),B=$.j(C);E($)&&($=b),L=L.add($),P=k(P,B)}return new I(L,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const C=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)&P.i(V);return new l(R,this.h&P.h)},t.or=function(P){const C=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)|P.i(V);return new l(R,this.h|P.h)},t.xor=function(P){const C=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<C;V++)R[V]=this.i(V)^P.i(V);return new l(R,this.h^P.h)};function j(P){const C=P.g.length+1,R=[];for(let V=0;V<C;V++)R[V]=P.i(V)<<1|P.i(V-1)>>>31;return new l(R,P.h)}function F(P,C){const R=C>>5;C%=32;const V=P.g.length-R,L=[];for(let $=0;$<V;$++)L[$]=C>0?P.i($+R)>>>C|P.i($+R+1)<<32-C:P.i($+R);return new l(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o5=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,sl=l}).apply(typeof pI<"u"?pI:typeof self<"u"?self:typeof window<"u"?window:{});var jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var l5,Sh,c5,f0,N_,u5,d5,f5;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof jg=="object"&&jg];for(var A=0;A<y.length;++A){var O=y[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var O=r;y=y.split(".");for(var U=0;U<y.length-1;U++){var J=y[U];if(!(J in O))break e;O=O[J]}y=y[y.length-1],U=O[y],A=A(U),A!=U&&A!=null&&e(O,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var O=[],U;for(U in A)Object.prototype.hasOwnProperty.call(A,U)&&O.push([U,A[U]]);return O}});var s=s||{},l=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,O){return y.call.apply(y.bind,arguments)}function f(y,A,O){return f=d,f.apply(null,arguments)}function p(y,A){var O=Array.prototype.slice.call(arguments,1);return function(){var U=O.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function m(y,A){function O(){}O.prototype=A.prototype,y.Z=A.prototype,y.prototype=new O,y.prototype.constructor=y,y.Ob=function(U,J,se){for(var Se=Array(arguments.length-2),et=2;et<arguments.length;et++)Se[et-2]=arguments[et];return A.prototype[J].apply(U,Se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const A=y.length;if(A>0){const O=Array(A);for(let U=0;U<A;U++)O[U]=y[U];return O}return[]}function E(y,A){for(let U=1;U<arguments.length;U++){const J=arguments[U];var O=typeof J;if(O=O!="object"?O:J?Array.isArray(J)?"array":O:"null",O=="array"||O=="object"&&typeof J.length=="number"){O=y.length||0;const se=J.length||0;y.length=O+se;for(let Se=0;Se<se;Se++)y[O+Se]=J[Se]}else y.push(J)}}class S{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(y){l.setTimeout(()=>{throw y},0)}function k(){var y=P;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class z{constructor(){this.h=this.g=null}add(A,O){const U=I.get();U.set(A,O),this.h?this.h.next=U:this.g=U,this.h=U}}var I=new S(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let j,F=!1,P=new z,C=()=>{const y=Promise.resolve(void 0);j=()=>{y.then(R)}};function R(){for(var y;y=k();){try{y.h.call(y.g)}catch(O){_(O)}var A=I;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};l.addEventListener("test",O,A),l.removeEventListener("test",O,A)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ve(y,A){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}m(ve,L),ve.prototype.init=function(y,A){const O=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(O=="mouseover"?A=y.fromElement:O=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(y,A,O,U,J){this.listener=y,this.proxy=null,this.src=A,this.type=O,this.capture=!!U,this.ha=J,this.key=++K,this.da=this.fa=!1}function re(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,A,O){for(const U in y)A.call(O,y[U],U,y)}function ke(y,A){for(const O in y)A.call(void 0,y[O],O,y)}function q(y){const A={};for(const O in y)A[O]=y[O];return A}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(y,A){let O,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(O in U)y[O]=U[O];for(let se=0;se<ee.length;se++)O=ee[se],Object.prototype.hasOwnProperty.call(U,O)&&(y[O]=U[O])}}function ce(y){this.src=y,this.g={},this.h=0}ce.prototype.add=function(y,A,O,U,J){const se=y.toString();y=this.g[se],y||(y=this.g[se]=[],this.h++);const Se=we(y,A,U,J);return Se>-1?(A=y[Se],O||(A.fa=!1)):(A=new ie(A,this.src,se,!!U,J),A.fa=O,y.push(A)),A};function be(y,A){const O=A.type;if(O in y.g){var U=y.g[O],J=Array.prototype.indexOf.call(U,A,void 0),se;(se=J>=0)&&Array.prototype.splice.call(U,J,1),se&&(re(A),y.g[O].length==0&&(delete y.g[O],y.h--))}}function we(y,A,O,U){for(let J=0;J<y.length;++J){const se=y[J];if(!se.da&&se.listener==A&&se.capture==!!O&&se.ha==U)return J}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),ze={};function H(y,A,O,U,J){if(Array.isArray(A)){for(let se=0;se<A.length;se++)H(y,A[se],O,U,J);return null}return O=St(O),y&&y[Ae]?y.J(A,O,c(U)?!!U.capture:!1,J):pe(y,A,O,!1,U,J)}function pe(y,A,O,U,J,se){if(!A)throw Error("Invalid event type");const Se=c(J)?!!J.capture:!!J;let et=Ze(y);if(et||(y[_e]=et=new ce(y)),O=et.add(A,O,U,Se,se),O.proxy)return O;if(U=Ce(),O.proxy=U,U.src=y,U.listener=O,y.addEventListener)$||(J=Se),J===void 0&&(J=!1),y.addEventListener(A.toString(),U,J);else if(y.attachEvent)y.attachEvent(Oe(A.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ce(){function y(O){return A.call(y.src,y.listener,O)}const A=We;return y}function W(y,A,O,U,J){if(Array.isArray(A))for(var se=0;se<A.length;se++)W(y,A[se],O,U,J);else U=c(U)?!!U.capture:!!U,O=St(O),y&&y[Ae]?(y=y.i,se=String(A).toString(),se in y.g&&(A=y.g[se],O=we(A,O,U,J),O>-1&&(re(A[O]),Array.prototype.splice.call(A,O,1),A.length==0&&(delete y.g[se],y.h--)))):y&&(y=Ze(y))&&(A=y.g[A.toString()],y=-1,A&&(y=we(A,O,U,J)),(O=y>-1?A[y]:null)&&Le(O))}function Le(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Ae])be(A.i,y);else{var O=y.type,U=y.proxy;A.removeEventListener?A.removeEventListener(O,U,y.capture):A.detachEvent?A.detachEvent(Oe(O),U):A.addListener&&A.removeListener&&A.removeListener(U),(O=Ze(A))?(be(O,y),O.h==0&&(O.src=null,A[_e]=null)):re(y)}}}function Oe(y){return y in ze?ze[y]:ze[y]="on"+y}function We(y,A){if(y.da)y=!0;else{A=new ve(A,this);const O=y.listener,U=y.ha||y.src;y.fa&&Le(y),y=O.call(U,A)}return y}function Ze(y){return y=y[_e],y instanceof ce?y:null}var rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(y){return typeof y=="function"?y:(y[rt]||(y[rt]=function(A){return y.handleEvent(A)}),y[rt])}function lt(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}m(lt,V),lt.prototype[Ae]=!0,lt.prototype.removeEventListener=function(y,A,O,U){W(this,y,A,O,U)};function $t(y,A){var O,U=y.G;if(U)for(O=[];U;U=U.G)O.push(U);if(y=y.M,U=A.type||A,typeof A=="string")A=new L(A,y);else if(A instanceof L)A.target=A.target||y;else{var J=A;A=new L(U,y),Z(A,J)}J=!0;let se,Se;if(O)for(Se=O.length-1;Se>=0;Se--)se=A.g=O[Se],J=He(se,U,!0,A)&&J;if(se=A.g=y,J=He(se,U,!0,A)&&J,J=He(se,U,!1,A)&&J,O)for(Se=0;Se<O.length;Se++)se=A.g=O[Se],J=He(se,U,!1,A)&&J}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const O=y.g[A];for(let U=0;U<O.length;U++)re(O[U]);delete y.g[A],y.h--}}this.G=null},lt.prototype.J=function(y,A,O,U){return this.i.add(String(y),A,!1,O,U)},lt.prototype.K=function(y,A,O,U){return this.i.add(String(y),A,!0,O,U)};function He(y,A,O,U){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let J=!0;for(let se=0;se<A.length;++se){const Se=A[se];if(Se&&!Se.da&&Se.capture==O){const et=Se.listener,fn=Se.ha||Se.src;Se.fa&&be(y.i,Se),J=et.call(fn,U)!==!1&&J}}return J&&!U.defaultPrevented}function it(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(y,A||0)}function On(y){y.g=it(()=>{y.g=null,y.i&&(y.i=!1,On(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class on extends V{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:On(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(y){V.call(this),this.h=y,this.g={}}m(Xr,V);var zr=[];function Qi(y){ye(y.g,function(A,O){this.g.hasOwnProperty(O)&&Le(A)},y),y.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Qi(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=l.JSON.stringify,me=l.JSON.parse,gt=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Er(){}function Rr(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){L.call(this,"d")}m(nn,L);function Sr(){L.call(this,"c")}m(Sr,L);var Wt={},Kc=null;function _a(){return Kc=Kc||new lt}Wt.Ia="serverreachability";function Zr(y){L.call(this,Wt.Ia,y)}m(Zr,L);function Ti(y){const A=_a();$t(A,new Zr(A))}Wt.STAT_EVENT="statevent";function ls(y,A){L.call(this,Wt.STAT_EVENT,y),this.stat=A}m(ls,L);function rn(y){const A=_a();$t(A,new ls(A,y))}Wt.Ja="timingevent";function Jr(y,A){L.call(this,Wt.Ja,y),this.size=A}m(Jr,L);function Ge(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},A)}function Et(){this.g=!0}Et.prototype.ua=function(){this.g=!1};function bn(y,A,O,U,J,se){y.info(function(){if(y.g)if(se){var Se="",et=se.split("&");for(let wt=0;wt<et.length;wt++){var fn=et[wt].split("=");if(fn.length>1){const Xt=fn[0];fn=fn[1];const Ii=Xt.split("_");Se=Ii.length>=2&&Ii[1]=="type"?Se+(Xt+"="+fn+"&"):Se+(Xt+"=redacted&")}}}else Se=null;else Se=se;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+A+`
`+O+`
`+Se})}function Un(y,A,O,U,J,se,Se){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+A+`
`+O+`
`+se+" "+Se})}function Tr(y,A,O,U){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+pr(y,O)+(U?" "+U:"")})}function Ht(y,A){y.info(function(){return"TIMEOUT: "+A})}Et.prototype.info=function(){};function pr(y,A){if(!y.g)return A;if(!A)return null;try{const se=JSON.parse(A);if(se){for(y=0;y<se.length;y++)if(Array.isArray(se[y])){var O=se[y];if(!(O.length<2)){var U=O[1];if(Array.isArray(U)&&!(U.length<1)){var J=U[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Se=1;Se<U.length;Se++)U[Se]=""}}}}return Qr(se)}catch{return A}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tr;function Ea(){}m(Ea,Er),Ea.prototype.g=function(){return new XMLHttpRequest},tr=new Ea;function nr(y){return encodeURIComponent(String(y))}function cf(y){var A=1;y=y.split(":");const O=[];for(;A>0&&y.length;)O.push(y.shift()),A--;return y.length&&O.push(y.join(":")),O}function Zi(y,A,O,U){this.j=y,this.i=A,this.l=O,this.S=U||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var xn={},Fn={};function Sa(y,A,O){y.M=1,y.A=Tl(_n(A)),y.u=O,y.R=!0,Yc(y,null)}function Yc(y,A){y.F=Date.now(),Ta(y),y.B=_n(y.A);var O=y.B,U=y.S;Array.isArray(U)||(U=[String(U)]),Zc(O.i,"t",U),y.C=0,O=y.j.L,y.h=new Ji,y.g=Ep(y.j,O?A:null,!y.u),y.P>0&&(y.O=new on(f(y.Y,y,y.g),y.P)),A=y.V,O=y.g,U=y.ba;var J="readystatechange";Array.isArray(J)||(J&&(zr[0]=J.toString()),J=zr);for(let se=0;se<J.length;se++){const Se=H(O,J[se],U||A.handleEvent,!1,A.h||A);if(!Se)break;A.g[Se.key]=Se}A=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),Ti(),bn(y.i,y.v,y.B,y.l,y.S,y.u)}Zi.prototype.ba=function(y){y=y.target;const A=this.O;A&&na(y)==3?A.j():this.Y(y)},Zi.prototype.Y=function(y){try{if(y==this.g)e:{const et=na(this.g),fn=this.g.ya(),wt=this.g.ca();if(!(et<3)&&(et!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||et!=4||fn==7||(fn==8||wt<=0?Ti(3):Ti(2)),Aa(this);var A=this.g.ca();this.X=A;var O=hb(this);if(this.o=A==200,Un(this.i,this.v,this.B,this.l,this.S,et,A),this.o){if(this.U&&!this.L){t:{if(this.g){var U,J=this.g;if((U=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(U)){var se=U;break t}}se=null}if(y=se)Tr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ka(this,y);else{this.o=!1,this.m=3,rn(12),ei(this),ki(this);break e}}if(this.R){y=!0;let Xt;for(;!this.K&&this.C<O.length;)if(Xt=up(this,O),Xt==Fn){et==4&&(this.m=4,rn(14),y=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==xn){this.m=4,rn(15),Tr(this.i,this.l,O,"[Invalid Chunk]"),y=!1;break}else Tr(this.i,this.l,Xt,null),ka(this,Xt);if(cp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||O.length!=0||this.h.h||(this.m=1,rn(16),y=!1),this.o=this.o&&y,!y)Tr(this.i,this.l,O,"[Invalid Chunked Response]"),ei(this),ki(this);else if(O.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Sf(Se),Se.P=!0,rn(11))}}else Tr(this.i,this.l,O,null),ka(this,O);et==4&&ei(this),this.o&&!this.K&&(et==4?bp(this.j,this):(this.o=!1,Ta(this)))}else us(this.g),A==400&&O.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),ei(this),ki(this)}}}catch{}};function hb(y){if(!cp(y))return y.g.la();const A=rr(y.g);if(A==="")return"";let O="";const U=A.length,J=na(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ei(y),ki(y),"";y.h.i=new l.TextDecoder}for(let se=0;se<U;se++)y.h.h=!0,O+=y.h.i.decode(A[se],{stream:!(J&&se==U-1)});return A.length=0,y.h.g+=O,y.C=0,y.h.g}function cp(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function up(y,A){var O=y.C,U=A.indexOf(`
`,O);return U==-1?Fn:(O=Number(A.substring(O,U)),isNaN(O)?xn:(U+=1,U+O>A.length?Fn:(A=A.slice(U,U+O),y.C=U+O,A)))}Zi.prototype.cancel=function(){this.K=!0,ei(this)};function Ta(y){y.T=Date.now()+y.H,Wc(y,y.H)}function Wc(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Ge(f(y.aa,y),A)}function Aa(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Zi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ht(this.i,this.B),this.M!=2&&(Ti(),rn(17)),ei(this),this.m=2,ki(this)):Wc(this,this.T-y)};function ki(y){y.j.I==0||y.K||bp(y.j,y)}function ei(y){Aa(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,Qi(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function ka(y,A){try{var O=y.j;if(O.I!=0&&(O.g==y||Ca(O.h,y))){if(!y.L&&Ca(O.h,y)&&O.I==3){try{var U=O.Ba.g.parse(A)}catch{U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<y.F)ru(O),yo(O);else break e;jl(O),rn(18)}}else O.xa=J[1],0<O.xa-O.K&&J[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ge(f(O.Va,O),6e3));Na(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ra(O,11)}else if((y.L||O.g==y)&&ru(O),!B(A))for(J=O.Ba.g.parse(A),A=0;A<J.length;A++){let wt=J[A];const Xt=wt[0];if(!(Xt<=O.K))if(O.K=Xt,wt=wt[1],O.I==2)if(wt[0]=="c"){O.M=wt[1],O.ba=wt[2];const Ii=wt[3];Ii!=null&&(O.ka=Ii,O.j.info("VER="+O.ka));const Ma=wt[4];Ma!=null&&(O.za=Ma,O.j.info("SVER="+O.za));const ra=wt[5];ra!=null&&typeof ra=="number"&&ra>0&&(U=1.5*ra,O.O=U,O.j.info("backChannelRequestTimeoutMs_="+U)),U=O;const ia=y.g;if(ia){const Pl=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var se=U.h;se.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ff(se,se.h),se.h=null))}if(U.G){const iu=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(U.wa=iu,Tt(U.J,U.G,iu))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-y.F,O.j.info("Handshake RTT: "+O.T+"ms")),U=O;var Se=y;if(U.na=_p(U,U.L?U.ba:null,U.W),Se.L){hf(U.h,Se);var et=Se,fn=U.O;fn&&(et.H=fn),et.D&&(Aa(et),Ta(et)),U.g=Se}else yp(U);O.i.length>0&&za(O)}else wt[0]!="stop"&&wt[0]!="close"||Ra(O,7);else O.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ra(O,7):_f(O):wt[0]!="noop"&&O.l&&O.l.qa(wt),O.A=0)}}Ti(4)}catch{}}var wn=class{constructor(y,A){this.g=y,this.map=A}};function uf(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function df(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Na(y){return y.h?1:y.g?y.g.size:0}function Ca(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function ff(y,A){y.g?y.g.add(A):y.h=A}function hf(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}uf.prototype.cancel=function(){if(this.i=mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function mf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const O of y.g.values())A=A.concat(O.G);return A}return w(y.i)}var dp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(y,A){if(y){y=y.split("&");for(let O=0;O<y.length;O++){const U=y[O].indexOf("=");let J,se=null;U>=0?(J=y[O].substring(0,U),se=y[O].substring(U+1)):J=y[O],A(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ti(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof ti?(this.l=y.l,qn(this,y.j),this.o=y.o,this.g=y.g,co(this,y.u),this.h=y.h,pf(this,pp(y.i)),this.m=y.m):y&&(A=String(y).match(dp))?(this.l=!1,qn(this,A[1]||"",!0),this.o=Ia(A[2]||""),this.g=Ia(A[3]||"",!0),co(this,A[4]),this.h=Ia(A[5]||"",!0),pf(this,A[6]||"",!0),this.m=Ia(A[7]||"")):(this.l=!1,this.i=new fo(null,this.l))}ti.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(Al(A,Qc,!0),":");var O=this.g;return(O||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Al(A,Qc,!0),"@"),y.push(nr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&y.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(Al(O,O.charAt(0)=="/"?gf:fp,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",Al(O,hp)),y.join("")},ti.prototype.resolve=function(y){const A=_n(this);let O=!!y.j;O?qn(A,y.j):O=!!y.o,O?A.o=y.o:O=!!y.g,O?A.g=y.g:O=y.u!=null;var U=y.h;if(O)co(A,y.u);else if(O=!!y.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var J=A.h.lastIndexOf("/");J!=-1&&(U=A.h.slice(0,J+1)+U)}if(J=U,J==".."||J==".")U="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){U=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let Se=0;Se<J.length;){const et=J[Se++];et=="."?U&&Se==J.length&&se.push(""):et==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),U&&Se==J.length&&se.push("")):(se.push(et),U=!0)}U=se.join("/")}else U=J}return O?A.h=U:O=y.i.toString()!=="",O?pf(A,pp(y.i)):O=!!y.m,O&&(A.m=y.m),A};function _n(y){return new ti(y)}function qn(y,A,O){y.j=O?Ia(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function co(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function pf(y,A,O){A instanceof fo?(y.i=A,Jc(y.i,y.l)):(O||(A=Al(A,uo)),y.i=new fo(A,y.l))}function Tt(y,A,O){y.i.set(A,O)}function Tl(y){return Tt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ia(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Al(y,A,O){return typeof y=="string"?(y=encodeURI(y).replace(A,Mr),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Qc=/[#\/\?@]/g,fp=/[#\?:]/g,gf=/[#\?]/g,uo=/[#\?@]/g,hp=/#/g;function fo(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Dr(y){y.g||(y.g=new Map,y.h=0,y.i&&Xc(y.i,function(A,O){y.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}t=fo.prototype,t.add=function(y,A){Dr(this),this.i=null,y=ho(this,y);let O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(A),this.h+=1,this};function mp(y,A){Dr(y),A=ho(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function yf(y,A){return Dr(y),A=ho(y,A),y.g.has(A)}t.forEach=function(y,A){Dr(this),this.g.forEach(function(O,U){O.forEach(function(J){y.call(A,J,U,this)},this)},this)};function vf(y,A){Dr(y);let O=[];if(typeof A=="string")yf(y,A)&&(O=O.concat(y.g.get(ho(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)O=O.concat(y[A]);return O}t.set=function(y,A){return Dr(this),this.i=null,y=ho(this,y),yf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=vf(this,y),y.length>0?String(y[0]):A):A};function Zc(y,A,O){mp(y,A),O.length>0&&(y.i=null,y.g.set(ho(y,A),w(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let U=0;U<A.length;U++){var O=A[U];const J=nr(O);O=vf(this,O);for(let se=0;se<O.length;se++){let Se=J;O[se]!==""&&(Se+="="+nr(O[se])),y.push(Se)}}return this.i=y.join("&")};function pp(y){const A=new fo;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function ho(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Jc(y,A){A&&!y.j&&(Dr(y),y.i=null,y.g.forEach(function(O,U){const J=U.toLowerCase();U!=J&&(mp(this,U),Zc(this,J,O))},y)),y.j=A}function ea(y,A){const O=new Et;if(l.Image){const U=new Image;U.onload=p(Ni,O,"TestLoadImage: loaded",!0,A,U),U.onerror=p(Ni,O,"TestLoadImage: error",!1,A,U),U.onabort=p(Ni,O,"TestLoadImage: abort",!1,A,U),U.ontimeout=p(Ni,O,"TestLoadImage: timeout",!1,A,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else A(!1)}function bf(y,A){const O=new Et,U=new AbortController,J=setTimeout(()=>{U.abort(),Ni(O,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:U.signal}).then(se=>{clearTimeout(J),se.ok?Ni(O,"TestPingServer: ok",!0,A):Ni(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),Ni(O,"TestPingServer: error",!1,A)})}function Ni(y,A,O,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(O)}catch{}}function mo(){this.g=new gt}function Oa(y){this.i=y.Sb||null,this.h=y.ab||!1}m(Oa,Er),Oa.prototype.g=function(){return new kl(this.i,this.h)};function kl(y,A){lt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(kl,lt),t=kl.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,ta(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?po(this):ta(this),this.readyState==3&&eu(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,po(this))},t.Na=function(y){this.g&&(this.response=y,po(this))},t.ga=function(){this.g&&po(this)};function po(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ta(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=A.next();return y.join(`\r
`)};function ta(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ci(y){let A="";return ye(y,function(O,U){A+=U,A+=":",A+=O,A+=`\r
`}),A}function Nl(y,A,O){e:{for(U in O){var U=!1;break e}U=!0}U||(O=Ci(O),typeof y=="string"?O!=null&&nr(O):Tt(y,A,O))}function Pt(y){lt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Pt,lt);var ja=/^https?$/i,xf=["POST","PUT"];t=Pt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,O,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tr.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(se){Cl(this,se);return}if(y=O||"",O=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)O.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())O.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(O.keys()).find(se=>se.toLowerCase()=="content-type"),J=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(xf,A,void 0)>=0)||U||J||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Se]of O)this.g.setRequestHeader(se,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(se){Cl(this,se)}};function Cl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,wf(y),cs(y)}function wf(y){y.A||(y.A=!0,$t(y,"complete"),$t(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,$t(this,"complete"),$t(this,"abort"),cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(y){if(y.h&&typeof s<"u"){if(y.v&&na(y)==4)setTimeout(y.Ca.bind(y),0);else if($t(y,"readystatechange"),na(y)==4){y.h=!1;try{const se=y.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var U;if(U=se===0){let Se=String(y.D).match(dp)[1]||null;!Se&&l.self&&l.self.location&&(Se=l.self.location.protocol.slice(0,-1)),U=!ja.test(Se?Se.toLowerCase():"")}O=U}if(O)$t(y,"complete"),$t(y,"success");else{y.o=6;try{var J=na(y)>2?y.g.statusText:""}catch{J=""}y.l=J+" ["+y.ca()+"]",wf(y)}}finally{cs(y)}}}}function cs(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const O=y.g;y.g=null,A||$t(y,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function na(y){return y.g?y.g.readyState:0}t.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),me(A)}};function rr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function us(y){const A={};y=(y.g&&na(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(B(y[U]))continue;var O=cf(y[U]);const J=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const se=A[J]||[];A[J]=se,se.push(O)}ke(A,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(y,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||A}function go(y){this.za=0,this.i=[],this.j=new Et,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pa("baseRetryDelayMs",5e3,y),this.Za=Pa("retryDelaySeedMs",1e4,y),this.Ta=Pa("forwardChannelMaxRetries",2,y),this.va=Pa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new uf(y&&y.concurrentRequestLimit),this.Ba=new mo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=go.prototype,t.ka=8,t.I=1,t.connect=function(y,A,O,U){rn(0),this.W=y,this.H=A||{},O&&U!==void 0&&(this.H.OSID=O,this.H.OAID=U),this.F=this.X,this.J=_p(this,null,this.W),za(this)};function _f(y){if(tu(y),y.I==3){var A=y.V++,O=_n(y.J);if(Tt(O,"SID",y.M),Tt(O,"RID",A),Tt(O,"TYPE","terminate"),Ol(y,O),A=new Zi(y,y.j,A),A.M=2,A.A=Tl(_n(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=A.A,O=!0),O||(A.g=Ep(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ta(A)}wp(y)}function yo(y){y.g&&(Sf(y),y.g.cancel(),y.g=null)}function tu(y){yo(y),y.v&&(l.clearTimeout(y.v),y.v=null),ru(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function za(y){if(!df(y.h)&&!y.m){y.m=!0;var A=y.Ea;j||C(),F||(j(),F=!0),P.add(A,y),y.D=0}}function nu(y,A){return Na(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Ge(f(y.Ea,y,A),xp(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const J=new Zi(this,this.j,y);let se=this.o;if(this.U&&(se?(se=q(se),Z(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var U=this.i[O];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(A+=U,A>4096){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=gp(this,J,A),O=_n(this.J),Tt(O,"RID",y),Tt(O,"CVER",22),this.G&&Tt(O,"X-HTTP-Session-Id",this.G),Ol(this,O),se&&(this.R?A="headers="+nr(Ci(se))+"&"+A:this.u&&Nl(O,this.u,se)),ff(this.h,J),this.Ra&&Tt(O,"TYPE","init"),this.S?(Tt(O,"$req",A),Tt(O,"SID","null"),J.U=!0,Sa(J,O,null)):Sa(J,O,A),this.I=2}}else this.I==3&&(y?Ef(this,y):this.i.length==0||df(this.h)||Ef(this))};function Ef(y,A){var O;A?O=A.l:O=y.V++;const U=_n(y.J);Tt(U,"SID",y.M),Tt(U,"RID",O),Tt(U,"AID",y.K),Ol(y,U),y.u&&y.o&&Nl(U,y.u,y.o),O=new Zi(y,y.j,O,y.D+1),y.u===null&&(O.J=y.o),A&&(y.i=A.G.concat(y.i)),A=gp(y,O,1e3),O.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ff(y.h,O),Sa(O,U,A)}function Ol(y,A){y.H&&ye(y.H,function(O,U){Tt(A,U,O)}),y.l&&ye({},function(O,U){Tt(A,U,O)})}function gp(y,A,O){O=Math.min(y.i.length,O);const U=y.l?f(y.l.Ka,y.l,y):null;e:{var J=y.i;let et=-1;for(;;){const fn=["count="+O];et==-1?O>0?(et=J[0].g,fn.push("ofs="+et)):et=0:fn.push("ofs="+et);let wt=!0;for(let Xt=0;Xt<O;Xt++){var se=J[Xt].g;const Ii=J[Xt].map;if(se-=et,se<0)et=Math.max(0,J[Xt].g-100),wt=!1;else try{se="req"+se+"_"||"";try{var Se=Ii instanceof Map?Ii:Object.entries(Ii);for(const[Ma,ra]of Se){let ia=ra;c(ra)&&(ia=Qr(ra)),fn.push(se+Ma+"="+encodeURIComponent(ia))}}catch(Ma){throw fn.push(se+"type="+encodeURIComponent("_badmap")),Ma}}catch{U&&U(Ii)}}if(wt){Se=fn.join("&");break e}}Se=void 0}return y=y.i.splice(0,O),A.G=y,Se}function yp(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;j||C(),F||(j(),F=!0),P.add(A,y),y.A=0}}function jl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Ge(f(y.Da,y),xp(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,vp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Ge(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),yo(this),vp(this))};function Sf(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function vp(y){y.g=new Zi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=_n(y.na);Tt(A,"RID","rpc"),Tt(A,"SID",y.M),Tt(A,"AID",y.K),Tt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&Tt(A,"TO",y.ia),Tt(A,"TYPE","xmlhttp"),Ol(y,A),y.u&&y.o&&Nl(A,y.u,y.o),y.O&&(y.g.H=y.O);var O=y.g;y=y.ba,O.M=1,O.A=Tl(_n(A)),O.u=null,O.R=!0,Yc(O,y)}t.Va=function(){this.C!=null&&(this.C=null,yo(this),jl(this),rn(19))};function ru(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function bp(y,A){var O=null;if(y.g==A){ru(y),Sf(y),y.g=null;var U=2}else if(Ca(y.h,A))O=A.G,hf(y.h,A),U=1;else return;if(y.I!=0){if(A.o)if(U==1){O=A.u?A.u.length:0,A=Date.now()-A.F;var J=y.D;U=_a(),$t(U,new Jr(U,O)),za(y)}else yp(y);else if(J=A.m,J==3||J==0&&A.X>0||!(U==1&&nu(y,A)||U==2&&jl(y)))switch(O&&O.length>0&&(A=y.h,A.i=A.i.concat(O)),J){case 1:Ra(y,5);break;case 4:Ra(y,10);break;case 3:Ra(y,6);break;default:Ra(y,2)}}}function xp(y,A){let O=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(O*=2),O*A}function Ra(y,A){if(y.j.info("Error code "+A),A==2){var O=f(y.bb,y),U=y.Ua;const J=!U;U=new ti(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qn(U,"https"),Tl(U),J?ea(U.toString(),O):bf(U.toString(),O)}else rn(2);y.I=0,y.l&&y.l.pa(A),wp(y),tu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function wp(y){if(y.I=0,y.ja=[],y.l){const A=mf(y.h);(A.length!=0||y.i.length!=0)&&(E(y.ja,A),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function _p(y,A,O){var U=O instanceof ti?_n(O):new ti(O);if(U.g!="")A&&(U.g=A+"."+U.g),co(U,U.u);else{var J=l.location;U=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;const se=new ti(null);U&&qn(se,U),A&&(se.g=A),J&&co(se,J),O&&(se.h=O),U=se}return O=y.G,A=y.wa,O&&A&&Tt(U,O,A),Tt(U,"VER",y.ka),Ol(y,U),U}function Ep(y,A,O){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new Pt(new Oa({ab:O})):new Pt(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sp(){}t=Sp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vo(){}vo.prototype.g=function(y,A){return new Ar(y,A)};function Ar(y,A){lt.call(this),this.g=new go(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!B(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!B(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new ds(this)}m(Ar,lt),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){_f(this.g)},Ar.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.v&&(O={},O.__data__=Qr(y),y=O);A.i.push(new wn(A.Ya++,y)),A.I==3&&za(A)},Ar.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,Ar.Z.N.call(this)};function Tp(y){nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const O in A){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}m(Tp,nn);function Ap(){Sr.call(this),this.status=1}m(Ap,Sr);function ds(y){this.g=y}m(ds,Sp),ds.prototype.ra=function(){$t(this.g,"a")},ds.prototype.qa=function(y){$t(this.g,new Tp(y))},ds.prototype.pa=function(y){$t(this.g,new Ap)},ds.prototype.oa=function(){$t(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,f5=function(){return new vo},d5=function(){return _a()},u5=Wt,N_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,f0=Ai,er.COMPLETE="complete",c5=er,Rr.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Sh=Rr,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,l5=Pt}).apply(typeof jg<"u"?jg:typeof self<"u"?self:typeof window<"u"?window:{});const gI="@firebase/firestore",yI="4.9.3";let br=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let $d="12.7.0";const Tc=new pS("@firebase/firestore");function Hu(){return Tc.logLevel}function ge(t,...e){if(Tc.logLevel<=ht.DEBUG){const n=e.map(NS);Tc.debug(`Firestore (${$d}): ${t}`,...n)}}function gn(t,...e){if(Tc.logLevel<=ht.ERROR){const n=e.map(NS);Tc.error(`Firestore (${$d}): ${t}`,...n)}}function Kh(t,...e){if(Tc.logLevel<=ht.WARN){const n=e.map(NS);Tc.warn(`Firestore (${$d}): ${t}`,...n)}}function NS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,h5(t,r,n)}function h5(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gn(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||h5(e,i,r)}function Ve(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ol{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class fG{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ol,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ol)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new uG(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class hG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ca(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function C_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return E1(i)===E1(s)?Qe(i,s):E1(i)?1:-1}return Qe(t.length,e.length)}const yG=55296,vG=57343;function E1(t){const e=t.charCodeAt(0);return e>=yG&&e<=vG}function cd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function m5(t){return t+"\0"}const bI="__name__";class $a{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=$a.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Qe(e.length,n.length)}static compareSegments(e,n){const r=$a.isNumericId(e),i=$a.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$a.extractNumericId(e).compare($a.extractNumericId(n)):C_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sl.fromString(e.substring(4,e.length-2))}}class Lt extends $a{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lt(n)}static emptyPath(){return new Lt([])}}const bG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends $a{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return bG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bI}static keyField(){return new an([bI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ie(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Ie(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Lt.fromString(e))}static fromName(e){return new Ne(Lt.fromString(e).popFirst(5))}static empty(){return new Ne(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Lt(e.slice()))}}function xG(t,e,n){if(!n)throw new Ie(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wG(t,e,n,r){if(e===!0&&r===!0)throw new Ie(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xI(t){if(!Ne.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function IS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Ph(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IS(t);throw new Ie(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Om(t,e){if(!p5(t))throw new Ie(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ie(he.INVALID_ARGUMENT,n);return!0}const wI=-62135596800,_I=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_I);return new It(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wI)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_I}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Om(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Cn("string",It._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new It(0,0))}static max(){return new qe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ud=-1;class D0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function I_(t){return t.fields.find((e=>e.kind===2))}function Zl(t){return t.fields.filter((e=>e.kind!==2))}D0.UNKNOWN_ID=-1;class h0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Yh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Yh(0,xi.min())}}function g5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new xi(i,Ne.empty(),e)}function y5(t){return new xi(t.readTime,t.key,ud)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(qe.min(),Ne.empty(),ud)}static max(){return new xi(qe.max(),Ne.empty(),ud)}}function OS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==v5)throw t;ge("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ui="SimpleDb";class iv{static open(e,n,r,i){try{return new iv(n,e.transaction(i,r))}catch(s){throw new zh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ol,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new zh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=jS(r.target.error);this.S.reject(new zh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ge(ui,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new EG(n)}}class ll{static delete(e){return ge(ui,"Removing database:",e),ic(yD().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!SD())return!1;if(ll.F())return!0;const e=Rn(),n=ll.M(e),r=0<n&&n<10,i=x5(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ll.M(Rn())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ge(ui,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new zh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new Ie(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ie(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new zh(e,l))},i.onupgradeneeded=s=>{ge(ui,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{ge(ui,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=iv.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ge(ui,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function x5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _G{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ic(this.U.delete())}}class zh extends Ie{constructor(e,n){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bl(t){return t.name==="IndexedDbTransactionError"}class EG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ge(ui,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ge(ui,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ic(r)}add(e){return ge(ui,"ADD",this.store.name,e,e),ic(this.store.add(e))}get(e){return ic(this.store.get(e)).next((n=>(n===void 0&&(n=null),ge(ui,"GET",this.store.name,e,n),n)))}delete(e){return ge(ui,"DELETE",this.store.name,e),ic(this.store.delete(e))}count(){return ge(ui,"COUNT",this.store.name),ic(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){ge(ui,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=s=>{const l=jS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new _G(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const p=f.catch((m=>(d.done(),Q.reject(m))));r.push(p)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ic(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jS(r.target.error);n(i)}}))}let EI=!1;function jS(t){const e=ll.M(Rn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return EI||(EI=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Rh="IndexBackfiller";class SG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ge(Rh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ge(Rh,`Documents written: ${n}`)}catch(n){bl(n)?ge(Rh,"Ignoring IndexedDB error during index backfill: ",n):await vl(n)}await this.re(6e4)}))}}class TG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ge(Rh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(ge(Rh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=y5(s);OS(l,r)>0&&(r=l)})),new xi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Hr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hr.ce=-1;const mc=-1;function av(t){return t==null}function Wh(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!Wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const L0="";function wr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SI(e)),e=AG(t.get(n),e);return SI(e)}function AG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case L0:n+="";break;default:n+=s}}return n}function SI(t){return t+L0+""}function Ya(t){const e=t.length;if(Ue(e>=2,64408,{path:t}),e===2)return Ue(t.charAt(0)===L0&&t.charAt(1)==="",56145,{path:t}),Lt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(L0,s);switch((l<0||l>n)&&je(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:je(61167,{path:t})}s=l+2}return new Lt(r)}const Jl="remoteDocuments",jm="owner",zu="owner",Xh="mutationQueues",kG="userId",la="mutations",TI="batchId",cc="userMutationsIndex",AI=["userId","batchId"];function m0(t,e){return[t,wr(e)]}function _5(t,e,n){return[t,wr(e),n]}const NG={},dd="documentMutations",V0="remoteDocumentsV14",CG=["prefixPath","collectionGroup","readTime","documentId"],p0="documentKeyIndex",IG=["prefixPath","collectionGroup","documentId"],E5="collectionGroupIndex",OG=["collectionGroup","readTime","prefixPath","documentId"],Qh="remoteDocumentGlobal",O_="remoteDocumentGlobalKey",fd="targets",S5="queryTargetsIndex",jG=["canonicalId","targetId"],hd="targetDocuments",PG=["targetId","path"],PS="documentTargetsIndex",zG=["path","targetId"],B0="targetGlobalKey",pc="targetGlobal",Zh="collectionParents",RG=["collectionId","parent"],md="clientMetadata",MG="clientId",sv="bundles",DG="bundleId",ov="namedQueries",LG="name",zS="indexConfiguration",VG="indexId",j_="collectionGroupIndex",BG="collectionGroup",Mh="indexState",UG=["indexId","uid"],T5="sequenceNumberIndex",FG=["uid","sequenceNumber"],Dh="indexEntries",qG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],A5="documentKeyIndex",$G=["indexId","uid","orderedDocumentKey"],lv="documentOverlays",HG=["userId","collectionPath","documentId"],P_="collectionPathOverlayIndex",GG=["userId","collectionPath","largestBatchId"],k5="collectionGroupOverlayIndex",KG=["userId","collectionGroup","largestBatchId"],RS="globals",YG="name",N5=[Xh,la,dd,Jl,fd,jm,pc,hd,md,Qh,Zh,sv,ov],WG=[...N5,lv],C5=[Xh,la,dd,V0,fd,jm,pc,hd,md,Qh,Zh,sv,ov,lv],I5=C5,MS=[...I5,zS,Mh,Dh],XG=MS,O5=[...MS,RS],QG=O5;class z_ extends b5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Mn(t,e){const n=Ve(t);return ll.O(n.le,e)}function kI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qt{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=i??dr.EMPTY,this.right=s??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NI(this.data.getIterator())}getIteratorFrom(e){return new NI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class NI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ru(t){return t.hasNext()?t.getNext():void 0}class qi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Ot(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class P5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new P5("Invalid base64 string: "+s):s}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const ZG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=ZG.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}const z5="server_timestamp",R5="__type__",M5="__previous_value__",D5="__local_write_time__";function DS(t){return(t?.mapValue?.fields||{})[R5]?.stringValue===z5}function cv(t){const e=t.mapValue.fields[M5];return DS(e)?cv(e):e}function Jh(t){const e=qs(t.mapValue.fields[D5].timestampValue);return new It(e.seconds,e.nanos)}class JG{constructor(e,n,r,i,s,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const U0="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||U0}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===U0}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const LS="__type__",L5="__max__",tl={mapValue:{fields:{__type__:{stringValue:L5}}}},VS="__vector__",pd="value",g0={nullValue:"NULL_VALUE"};function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DS(t)?4:V5(t)?9007199254740991:uv(t)?10:11:je(28295,{value:t})}function rs(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=qs(i.timestampValue),c=qs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return $s(i.bytesValue).isEqual($s(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Jt(i.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Jt(i.integerValue)===Jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Jt(i.doubleValue),c=Jt(s.doubleValue);return l===c?Wh(l)===Wh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return cd(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(kI(l)!==kI(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!rs(l[d],c[d])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function em(t,e){return(t.values||[]).find((n=>rs(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Jt(s.integerValue||s.doubleValue),d=Jt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return CI(t.timestampValue,e.timestampValue);case 4:return CI(Jh(t),Jh(e));case 5:return C_(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=$s(s),d=$s(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=Qe(c[f],d[f]);if(p!==0)return p}return Qe(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Qe(Jt(s.latitude),Jt(l.latitude));return c!==0?c:Qe(Jt(s.longitude),Jt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return II(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[pd]?.arrayValue,p=d[pd]?.arrayValue,m=Qe(f?.values?.length||0,p?.values?.length||0);return m!==0?m:II(f,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===tl.mapValue&&l===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(l===tl.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const b=C_(d[m],p[m]);if(b!==0)return b;const w=dl(c[d[m]],f[p[m]]);if(w!==0)return w}return Qe(d.length,p.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function CI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=qs(t),r=qs(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function II(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=dl(n[i],r[i]);if(s)return s}return Qe(n.length,r.length)}function gd(t){return R_(t)}function R_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $s(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=R_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${R_(n.fields[l])}`;return i+"}"})(t.mapValue):je(61005,{value:t})}function y0(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cv(t);return e?16+y0(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+y0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bc(r.fields,((s,l)=>{i+=s.length+y0(l)})),i})(t.mapValue);default:throw je(13486,{value:t})}}function BS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M_(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function OI(t){return!!t&&"nullValue"in t}function jI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function v0(t){return!!t&&"mapValue"in t}function uv(t){return(t?.mapValue?.fields||{})[LS]?.stringValue===VS}function Lh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Lh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lh(t.arrayValue.values[n]);return e}return{...t}}function V5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L5}const B5={mapValue:{fields:{[LS]:{stringValue:VS},[pd]:{arrayValue:{}}}}};function eK(t){return"nullValue"in t?g0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?BS(Ac.empty(),Ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?uv(t)?B5:{mapValue:{}}:je(35942,{value:t})}function tK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?BS(Ac.empty(),Ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?B5:"mapValue"in t?uv(t)?{mapValue:{}}:tl:je(61959,{value:t})}function PI(t,e){const n=dl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zI(t,e){const n=dl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!v0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Lh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());v0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];v0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new $r(Lh(this.value))}}function U5(t){const e=[];return Bc(t.fields,((n,r)=>{const i=new an([n]);if(v0(r)){const s=U5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new qi(e)}class dn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new dn(e,0,qe.min(),qe.min(),qe.min(),$r.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,qe.min(),qe.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,qe.min(),qe.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yd{constructor(e,n){this.position=e,this.inclusive=n}}function RI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ne.comparator(Ne.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rs(t.position[n],e.position[n]))return!1;return!0}class F0{constructor(e,n="asc"){this.field=e,this.dir=n}}function nK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class F5{}class pt extends F5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rK(e,n,r):n==="array-contains"?new sK(e,r):n==="in"?new Y5(e,r):n==="not-in"?new oK(e,r):n==="array-contains-any"?new lK(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iK(e,r):new aK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends F5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vt(e,n)}matches(e){return vd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vd(t){return t.op==="and"}function D_(t){return t.op==="or"}function US(t){return q5(t)&&vd(t)}function q5(t){for(const e of t.filters)if(e instanceof Vt)return!1;return!0}function L_(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(US(t))return t.filters.map((e=>L_(e))).join(",");{const e=t.filters.map((n=>L_(n))).join(",");return`${t.op}(${e})`}}function $5(t,e){return t instanceof pt?(function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&rs(r.value,i.value)})(t,e):t instanceof Vt?(function(r,i){return i instanceof Vt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&$5(l,i.filters[c])),!0):!1})(t,e):void je(19439)}function H5(t,e){const n=t.filters.concat(e);return Vt.create(n,t.op)}function G5(t){return t instanceof pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${gd(n.value)}`})(t):t instanceof Vt?(function(n){return n.op.toString()+" {"+n.getFilters().map(G5).join(" ,")+"}"})(t):"Filter"}class rK extends pt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class iK extends pt{constructor(e,n){super(e,"in",n),this.keys=K5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aK extends pt{constructor(e,n){super(e,"not-in",n),this.keys=K5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function K5(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class sK extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&em(n.arrayValue,this.value)}}class Y5 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&em(this.value.arrayValue,n)}}class oK extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!em(this.value.arrayValue,n)}}class lK extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>em(this.value.arrayValue,r)))}}class cK{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function V_(t,e=null,n=[],r=[],i=null,s=null,l=null){return new cK(t,e,n,r,i,s,l)}function kc(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>L_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gd(r))).join(",")),e.Te=n}return e.Te}function Pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MI(t.startAt,e.startAt)&&MI(t.endAt,e.endAt)}function q0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $0(t,e){return t.filters.filter((n=>n instanceof pt&&n.field.isEqual(e)))}function DI(t,e,n){let r=g0,i=!0;for(const s of $0(t,e)){let l=g0,c=!0;switch(s.op){case"<":case"<=":l=eK(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=g0}PI({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];PI({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function LI(t,e,n){let r=tl,i=!0;for(const s of $0(t,e)){let l=tl,c=!0;switch(s.op){case">=":case">":l=tK(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=tl}zI({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];zI({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class dv{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W5(t,e,n,r,i,s,l,c){return new dv(t,e,n,r,i,s,l,c)}function fv(t){return new dv(t)}function VI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uK(t){return t.collectionGroup!==null}function Vh(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ot(an.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new F0(s,r))})),n.has(an.keyField().canonicalString())||e.Ie.push(new F0(an.keyField(),r))}return e.Ie}function yi(t){const e=Ve(t);return e.Ee||(e.Ee=dK(e,Vh(t))),e.Ee}function dK(t,e){if(t.limitType==="F")return V_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new F0(i.field,s)}));const n=t.endAt?new yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yd(t.startAt.position,t.startAt.inclusive):null;return V_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B_(t,e,n){return new dv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hv(t,e){return Pm(yi(t),yi(e))&&t.limitType===e.limitType}function X5(t){return`${kc(yi(t))}|lt:${t.limitType}`}function Gu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>G5(i))).join(", ")}]`),av(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gd(i))).join(",")),`Target(${r})`})(yi(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Vh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=RI(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Vh(r),i)||r.endAt&&!(function(l,c,d){const f=RI(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Vh(r),i))})(t,e)}function Q5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z5(t){return(e,n)=>{let r=!1;for(const i of Vh(t)){const s=fK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fK(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?dl(d,f):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return j5(this.inner)}size(){return this.innerSize}}const hK=new qt(Ne.comparator);function hi(){return hK}const J5=new qt(Ne.comparator);function Th(...t){let e=J5;for(const n of t)e=e.insert(n.key,n);return e}function e4(t){let e=J5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wa(){return Bh()}function t4(){return Bh()}function Bh(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mK=new qt(Ne.comparator),pK=new Ot(Ne.comparator);function ot(...t){let e=pK;for(const n of t)e=e.add(n);return e}const gK=new Ot(Qe);function FS(){return gK}function qS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function n4(t){return{integerValue:""+t}}function yK(t,e){return w5(e)?n4(e):qS(t,e)}class mv{constructor(){this._=void 0}}function vK(t,e,n){return t instanceof nm?(function(i,s){const l={fields:{[R5]:{stringValue:z5},[D5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&DS(s)&&(s=cv(s)),s&&(l.fields[M5]=s),{mapValue:l}})(n,e):t instanceof bd?i4(t,e):t instanceof xd?a4(t,e):(function(i,s){const l=r4(i,s),c=BI(l)+BI(i.Ae);return M_(l)&&M_(i.Ae)?n4(c):qS(i.serializer,c)})(t,e)}function bK(t,e,n){return t instanceof bd?i4(t,e):t instanceof xd?a4(t,e):n}function r4(t,e){return t instanceof rm?(function(r){return M_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class nm extends mv{}class bd extends mv{constructor(e){super(),this.elements=e}}function i4(t,e){const n=s4(e);for(const r of t.elements)n.some((i=>rs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class xd extends mv{constructor(e){super(),this.elements=e}}function a4(t,e){let n=s4(e);for(const r of t.elements)n=n.filter((i=>!rs(i,r)));return{arrayValue:{values:n}}}class rm extends mv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BI(t){return Jt(t.integerValue||t.doubleValue)}function s4(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class xK{constructor(e,n){this.field=e,this.transform=n}}function wK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bd&&i instanceof bd||r instanceof xd&&i instanceof xd?cd(r.elements,i.elements,rs):r instanceof rm&&i instanceof rm?rs(r.Ae,i.Ae):r instanceof nm&&i instanceof nm})(t.transform,e.transform)}class _K{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pv{}function o4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $S(t.key,mi.none()):new Hd(t.key,t.data,mi.none());{const n=t.data,r=$r.empty();let i=new Ot(an.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new xl(t.key,r,new qi(i.toArray()),mi.none())}}function EK(t,e,n){t instanceof Hd?(function(i,s,l){const c=i.value.clone(),d=FI(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof xl?(function(i,s,l){if(!b0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=FI(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(l4(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Uh(t,e,n,r){return t instanceof Hd?(function(s,l,c,d){if(!b0(s.precondition,l))return c;const f=s.value.clone(),p=qI(s.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof xl?(function(s,l,c,d){if(!b0(s.precondition,l))return c;const f=qI(s.fieldTransforms,d,l),p=l.data;return p.setAll(l4(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return b0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function SK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=r4(r.transform,i||null);s!=null&&(n===null&&(n=$r.empty()),n.set(r.field,s))}return n||null}function UI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cd(r,i,((s,l)=>wK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends pv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xl extends pv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function l4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function FI(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,bK(l,c,n[i]))}return r}function qI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,vK(s,l,e))}return r}class $S extends pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c4 extends pv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=t4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=o4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,((n,r)=>UI(n,r)))&&cd(this.baseMutations,e.baseMutations,((n,r)=>UI(n,r)))}}class GS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new GS(e,n,r,i)}}class KS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TK{constructor(e,n){this.count=e,this.unchangedNames=n}}var kn,yt;function AK(t){switch(t){case he.OK:return je(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function u4(t){if(t===void 0)return gn("GRPC error has no .code"),he.UNKNOWN;switch(t){case kn.OK:return he.OK;case kn.CANCELLED:return he.CANCELLED;case kn.UNKNOWN:return he.UNKNOWN;case kn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case kn.INTERNAL:return he.INTERNAL;case kn.UNAVAILABLE:return he.UNAVAILABLE;case kn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case kn.NOT_FOUND:return he.NOT_FOUND;case kn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case kn.ABORTED:return he.ABORTED;case kn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case kn.DATA_LOSS:return he.DATA_LOSS;default:return je(39323,{code:t})}}(yt=kn||(kn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";function kK(){return new TextEncoder}const NK=new sl([4294967295,4294967295],0);function $I(t){const e=kK().encode(t),n=new o5;return n.update(e),new Uint8Array(n.digest())}function HI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sl([n,r],0),new sl([i,s],0)]}class YS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sl.fromNumber(r)));return i.compare(NK)===1&&(i=new sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$I(e),[r,i]=HI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new YS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=$I(e),[r,i]=HI(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(qe.min(),i,new qt(Qe),hi(),ot())}}class Mm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mm(r,n,ot(),ot(),ot())}}class x0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class d4{constructor(e,n){this.targetId=e,this.Ce=n}}class f4{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GI{constructor(){this.ve=0,this.Fe=KI(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:je(38017,{changeType:s})}})),new Mm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=KI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CK{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=zg(),this.He=zg(),this.Ye=new qt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(q0(s))if(r===0){const l=new Ne(s.path);this.et(n,l,dn.newNoDocument(l,qe.min()))}else Ue(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=$s(r).toUint8Array()}catch(d){if(d instanceof P5)return Kh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new YS(l,i,s)}catch(d){return Kh(d instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&q0(c.target)){const d=new Ne(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,dn.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ot();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Rm(e,n,this.Ye,this.je,r);return this.je=hi(),this.Je=zg(),this.He=zg(),this.Ye=new qt(Qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zg(){return new qt(Ne.comparator)}function KI(){return new qt(Ne.comparator)}const IK={asc:"ASCENDING",desc:"DESCENDING"},OK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jK={and:"AND",or:"OR"};class PK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function U_(t,e){return t.useProto3Json||av(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zK(t,e){return wd(t,e.toTimestamp())}function Ir(t){return Ue(!!t,49232),qe.fromTimestamp((function(n){const r=qs(n);return new It(r.seconds,r.nanos)})(t))}function WS(t,e){return F_(t,e).canonicalString()}function F_(t,e){const n=(function(i){return new Lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function m4(t){const e=Lt.fromString(t);return Ue(E4(e),10190,{key:e.toString()}),e}function H0(t,e){return WS(t.databaseId,e.path)}function gc(t,e){const n=m4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(y4(n))}function p4(t,e){return WS(t.databaseId,e)}function g4(t){const e=m4(t);return e.length===4?Lt.emptyPath():y4(e)}function q_(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y4(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YI(t,e,n){return{name:H0(t,e),fields:n.value.mapValue.fields}}function RK(t,e,n){const r=gc(t,e.name),i=Ir(e.updateTime),s=e.createTime?Ir(e.createTime):qe.min(),l=new $r({mapValue:{fields:e.fields}}),c=dn.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function MK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,p){return f.useProto3Json?(Ue(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(Ue(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?he.UNKNOWN:u4(f.code);return new Ie(p,f.message||"")})(l);n=new f4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gc(t,r.document.name),s=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):qe.min(),c=new $r({mapValue:{fields:r.document.fields}}),d=dn.newFoundDocument(i,s,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new x0(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gc(t,r.document),s=r.readTime?Ir(r.readTime):qe.min(),l=dn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new x0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gc(t,r.document),s=r.removedTargetIds||[];n=new x0([],s,i,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new TK(i,s),c=r.targetId;n=new d4(c,l)}}return n}function G0(t,e){let n;if(e instanceof Hd)n={update:YI(t,e.key,e.value)};else if(e instanceof $S)n={delete:H0(t,e.key)};else if(e instanceof xl)n={update:YI(t,e.key,e.data),updateMask:FK(e.fieldMask)};else{if(!(e instanceof c4))return je(16599,{Vt:e.type});n={verify:H0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof nm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw je(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:zK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:je(27497)})(t,e.precondition)),n}function $_(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?mi.updateTime(Ir(s.updateTime)):s.exists!==void 0?mi.exists(s.exists):mi.none()})(e.currentDocument):mi.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Ue(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new nm;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];d=new bd(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];d=new xd(p)}else"increment"in c?d=new rm(l,c.increment):je(16584,{proto:c});const f=an.fromServerFormat(c.fieldPath);return new xK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=gc(t,e.update.name),s=new $r({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new qi(f.map((p=>an.fromServerFormat(p))))})(e.updateMask);return new xl(i,s,l,n,r)}return new Hd(i,s,n,r)}if(e.delete){const i=gc(t,e.delete);return new $S(i,n)}if(e.verify){const i=gc(t,e.verify);return new c4(i,n)}return je(1463,{proto:e})}function DK(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ir(i.updateTime):Ir(s);return l.isEqual(qe.min())&&(l=Ir(s)),new _K(l,i.transformResults||[])})(n,e)))):[]}function v4(t,e){return{documents:[p4(t,e.path)]}}function b4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p4(t,i);const s=(function(f){if(f.length!==0)return _4(Vt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Ku(b.field),direction:VK(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=U_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function x4(t){let e=g4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const b=w4(m);return b instanceof Vt&&US(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((b=>(function(E){return new F0(Yu(E.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let b;return b=typeof m=="object"?m.value:m,av(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(m){const b=!!m.before,w=m.values||[];return new yd(w,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const b=!m.before,w=m.values||[];return new yd(w,b)})(n.endAt)),W5(e,i,l,s,c,"F",d,f)}function LK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yu(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yu(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yu(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yu(n.unaryFilter.field);return pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return pt.create(Yu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vt.create(n.compositeFilter.filters.map((r=>w4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function VK(t){return IK[t]}function BK(t){return OK[t]}function UK(t){return jK[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Yu(t){return an.fromServerFormat(t.fieldPath)}function _4(t){return t instanceof pt?(function(n){if(n.op==="=="){if(jI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NAN"}};if(OI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NAN"}};if(OI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(n.field),op:BK(n.op),value:n.value}}})(t):t instanceof Vt?(function(n){const r=n.getFilters().map((i=>_4(i)));return r.length===1?r[0]:{compositeFilter:{op:UK(n.op),filters:r}}})(t):je(54877,{filter:t})}function FK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function E4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class zs{constructor(e,n,r,i,s=qe.min(),l=qe.min(),c=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S4{constructor(e){this.yt=e}}function qK(t,e){let n;if(e.document)n=RK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ne.fromSegments(e.noDocument.path),i=Cc(e.noDocument.readTime);n=dn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return je(56709);{const r=Ne.fromSegments(e.unknownDocument.path),i=Cc(e.unknownDocument.version);n=dn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new It(i[0],i[1]);return qe.fromTimestamp(s)})(e.readTime)),n}function WI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:K0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:H0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:wd(s,l.version.toTimestamp()),createTime:wd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nc(e.version)};else{if(!e.isUnknownDocument())return je(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Nc(e.version)}}return r}function K0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cc(t){const e=new It(t.seconds,t.nanoseconds);return qe.fromTimestamp(e)}function ac(t,e){const n=(e.baseMutations||[]).map((s=>$_(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>$_(t.yt,s))),i=It.fromMillis(e.localWriteTimeMs);return new HS(e.batchId,i,n,r)}function kh(t){const e=Cc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Cc(t.lastLimboFreeSnapshotVersion):qe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Ue(l===1,1966,{count:l}),yi(fv(g4(s.documents[0])))})(t.query):(function(s){return yi(x4(s))})(t.query),new zs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yn.fromBase64String(t.resumeToken))}function T4(t,e){const n=Nc(e.snapshotVersion),r=Nc(e.lastLimboFreeSnapshotVersion);let i;i=q0(e.target)?v4(t.yt,e.target):b4(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function A4(t){const e=x4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B_(e,e.limit,"L"):e}function S1(t,e){return new KS(e.largestBatchId,$_(t.yt,e.overlayMutation))}function XI(t,e){const n=e.path.lastSegment();return[t,wr(e.path.popLast()),n]}function QI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nc(r.readTime),documentKey:wr(r.documentKey.path),largestBatchId:r.largestBatchId}}class $K{getBundleMetadata(e,n){return ZI(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Cc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return ZI(e).put((function(i){return{bundleId:i.id,createTime:Nc(Ir(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return JI(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:A4(s.bundledQuery),readTime:Cc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return JI(e).put((function(i){return{name:i.name,readTime:Nc(Ir(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function ZI(t){return Mn(t,sv)}function JI(t){return Mn(t,ov)}class gv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new gv(e,r)}getOverlay(e,n){return uh(e).get(XI(this.userId,n)).next((r=>r?S1(this.serializer,r):null))}getOverlays(e,n){const r=Wa();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new KS(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(wr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(uh(e).Z(P_,c))})),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Wa(),s=wr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uh(e).J(P_,l).next((c=>{for(const d of c){const f=S1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Wa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uh(e).ee({index:k5,range:c},((d,f,p)=>{const m=S1(this.serializer,f);s.size()<i||m.largestBatchId===l?(s.set(m.getKey(),m),l=m.largestBatchId):p.done()})).next((()=>s))}St(e,n){return uh(e).put((function(i,s,l){const[c,d,f]=XI(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:G0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function uh(t){return Mn(t,lv)}class HK{bt(e){return Mn(e,RS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?yn.fromUint8Array(r):yn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class sc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Jt(e.integerValue));else if("doubleValue"in e){const r=Jt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Wh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=qs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt($s(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?V5(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):uv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):je(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=pd,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Jt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ne.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}sc.Kt=new sc;const Mu=255;function GK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function eO(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=GK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class KK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=eO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=eO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Mu?(this.sn(Mu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class YK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class WK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class dh{constructor(){this.cn=new KK,this.ln=new YK(this.cn),this.hn=new WK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class oc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new oc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:w0(this.En),directionalValue:w0(this.dn),orderedDocumentKey:w0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Fo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=tO(t.En,e.En),n!==0?n:(n=tO(t.dn,e.dn),n!==0?n:Ne.comparator(t.In,e.In)))}function tO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function w0(t){return ED()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function nO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class rO{constructor(e){this.mn=new Ot(((n,r)=>an.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ue(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=I_(e);if(n!==void 0&&!this.wn(n))return!1;const r=Zl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ot(an.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new h0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new h0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new h0(r.field,r.dir==="asc"?0:1)));return new D0(D0.UNKNOWN_ID,this.collectionId,n,Yh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function k4(t){if(Ue(t instanceof pt||t instanceof Vt,20012),t instanceof pt){if(t instanceof Y5){const n=t.value.arrayValue?.values?.map((r=>pt.create(t.field,"==",r)))||[];return Vt.create(n,"or")}return t}const e=t.filters.map((n=>k4(n)));return Vt.create(e,t.op)}function XK(t){if(t.getFilters().length===0)return[];const e=K_(k4(t));return Ue(N4(e),7391),H_(e)||G_(e)?[e]:e.getFilters()}function H_(t){return t instanceof pt}function G_(t){return t instanceof Vt&&US(t)}function N4(t){return H_(t)||G_(t)||(function(n){if(n instanceof Vt&&D_(n)){for(const r of n.getFilters())if(!H_(r)&&!G_(r))return!1;return!0}return!1})(t)}function K_(t){if(Ue(t instanceof pt||t instanceof Vt,34018),t instanceof pt)return t;if(t.filters.length===1)return K_(t.filters[0]);const e=t.filters.map((r=>K_(r)));let n=Vt.create(e,t.op);return n=Y0(n),N4(n)?n:(Ue(n instanceof Vt,64498),Ue(vd(n),40251),Ue(n.filters.length>1,57927),n.filters.reduce(((r,i)=>XS(r,i))))}function XS(t,e){let n;return Ue(t instanceof pt||t instanceof Vt,38388),Ue(e instanceof pt||e instanceof Vt,25473),n=t instanceof pt?e instanceof pt?(function(i,s){return Vt.create([i,s],"and")})(t,e):iO(t,e):e instanceof pt?iO(e,t):(function(i,s){if(Ue(i.filters.length>0&&s.filters.length>0,48005),vd(i)&&vd(s))return H5(i,s.getFilters());const l=D_(i)?i:s,c=D_(i)?s:i,d=l.filters.map((f=>XS(f,c)));return Vt.create(d,"or")})(t,e),Y0(n)}function iO(t,e){if(vd(e))return H5(e,t.getFilters());{const n=e.filters.map((r=>XS(t,r)));return Vt.create(n,"or")}}function Y0(t){if(Ue(t instanceof pt||t instanceof Vt,11850),t instanceof pt)return t;const e=t.getFilters();if(e.length===1)return Y0(e[0]);if(q5(t))return t;const n=e.map((i=>Y0(i))),r=[];return n.forEach((i=>{i instanceof pt?r.push(i):i instanceof Vt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Vt.create(r,t.op)}class QK{constructor(){this.Cn=new QS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(xi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class QS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Lt.comparator)).toArray()}}const aO="IndexedDbIndexManager",Rg=new Uint8Array(0);class ZK{constructor(e,n){this.databaseId=n,this.vn=new QS,this.Fn=new to((r=>kc(r)),((r,i)=>Pm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:wr(i)};return sO(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[m5(n),""],!1,!0);return sO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ya(l.parent))}return r}))}addFieldIndex(e,n){const r=fh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Lu(e);return s.next((c=>{l.put(QI(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=fh(e),i=Lu(e),s=Du(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=fh(e),r=Du(e),i=Lu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new rO(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const s=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=ot();const c=[];return Q.forEach(s,((d,f)=>{ge(aO,`Using index ${(function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(d)} to execute ${kc(n)}`);const p=(function(I,D){const j=I_(D);if(j===void 0)return null;for(const F of $0(I,j.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null})(f,d),m=(function(I,D){const j=new Map;for(const F of Zl(D))for(const P of $0(I,F.fieldPath))switch(P.op){case"==":case"in":j.set(F.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return j.set(F.fieldPath.canonicalString(),P.value),Array.from(j.values())}return null})(f,d),b=(function(I,D){const j=[];let F=!0;for(const P of Zl(D)){const C=P.kind===0?DI(I,P.fieldPath,I.startAt):LI(I,P.fieldPath,I.startAt);j.push(C.value),F&&(F=C.inclusive)}return new yd(j,F)})(f,d),w=(function(I,D){const j=[];let F=!0;for(const P of Zl(D)){const C=P.kind===0?LI(I,P.fieldPath,I.endAt):DI(I,P.fieldPath,I.endAt);j.push(C.value),F&&(F=C.inclusive)}return new yd(j,F)})(f,d),E=this.On(d,f,b),S=this.On(d,f,w),_=this.Nn(d,f,m),k=this.Bn(d.indexId,p,E,b.inclusive,S,w.inclusive,_);return Q.forEach(k,(z=>r.Y(z,n.limit).next((I=>{I.forEach((D=>{const j=Ne.fromSegments(D.documentKey);l.has(j)||(l=l.add(j),c.push(j))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=XK(Vt.create(e.filters,"and")).map((r=>V_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),p=[];for(let m=0;m<d;++m){const b=n?this.Ln(n[m/f]):Rg,w=this.kn(e,b,r[m%f],i),E=this.qn(e,b,s[m%f],l),S=c.map((_=>this.kn(e,b,_,!0)));p.push(...this.createRange(w,E,S))}return p}kn(e,n,r,i){const s=new oc(e,Ne.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new oc(e,Ne.empty(),n,r);return i?s.An():s}xn(e,n){const r=new rO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new Ot(an.comparator),p=!1;for(const m of d.filters)for(const b of m.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?p=!0:f=f.add(b.field));for(const m of d.orderBy)m.field.isKeyField()||(f=f.add(m.field));return f.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new dh;for(const i of Zl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);sc.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new dh;return sc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new dh;return sc.Kt.Dt(BS(this.databaseId,n),r.Pn((function(s){const l=Zl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new dh);let s=0;for(const l of Zl(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&tm(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);sc.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new dh;d.seed(c.un()),sc.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=fh(e),i=Lu(e);return(n?r.J(j_,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return Q.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(p,m){const b=m?new Yh(m.sequenceNumber,new xi(Cc(m.readTime),new Ne(Ya(m.documentKey)),m.largestBatchId)):Yh.empty(),w=p.fields.map((([E,S])=>new h0(an.fromServerFormat(E),S)));return new D0(p.indexId,p.collectionGroup,w,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Qe(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=fh(e),s=Lu(e);return this.Gn(e).next((l=>i.J(j_,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>s.put(QI(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const p=this.jn(s,d);return f.isEqual(p)?Q.resolve():this.Jn(e,s,d,f,p)})))))))}))}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let s=new Ot(Fo);return i.ee({index:A5,range:IDBKeyRange.only([r.indexId,this.uid,w0(this.$n(r,n))])},((l,c)=>{s=s.add(new oc(r.indexId,n,nO(c.arrayValue),nO(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Ot(Fo);const i=this.Qn(n,e);if(i==null)return r;const s=I_(n);if(s!=null){const l=e.data.field(s.fieldPath);if(tm(l))for(const c of l.arrayValue.values||[])r=r.add(new oc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new oc(n.indexId,e.key,Rg,i));return r}Jn(e,n,r,i,s){ge(aO,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,p,m,b){const w=d.getIterator(),E=f.getIterator();let S=Ru(w),_=Ru(E);for(;S||_;){let k=!1,z=!1;if(S&&_){const I=p(S,_);I<0?z=!0:I>0&&(k=!0)}else S!=null?z=!0:k=!0;k?(m(_),_=Ru(E)):z?(b(S),S=Ru(w)):(S=Ru(w),_=Ru(E))}})(i,s,Fo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return Lu(e).ee({index:T5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Fo(l,c))).filter(((l,c,d)=>!c||Fo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Fo(l,e),d=Fo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Rg,Ne.empty()),d=i[l+1].Vn(this.uid,Rg,Ne.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return Fo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(oO)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||je(44426))))).next(oO)}}function sO(t){return Mn(t,Zh)}function Du(t){return Mn(t,Dh)}function fh(t){return Mn(t,zS)}function Lu(t){return Mn(t,Mh)}function oO(t){Ue(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;OS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xi(e.readTime,e.documentKey,n)}const lO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C4=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function I4(t,e,n){const r=t.store(la),i=t.store(dd),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((p,m,b)=>(c++,b.delete())));s.push(d.next((()=>{Ue(c===1,47070,{batchId:n.batchId})})));const f=[];for(const p of n.mutations){const m=_5(e,p.key.path,n.batchId);s.push(i.delete(m)),f.push(p.key)}return Q.waitFor(s).next((()=>f))}function W0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw je(14731);e=t.noDocument}return JSON.stringify(e).length}xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(C4,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);class yv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Ue(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new yv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qo(e).ee({index:cc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Wu(e),l=qo(e);return l.add({}).next((c=>{Ue(typeof c=="number",49019);const d=new HS(c,n,r,i),f=(function(w,E,S){const _=S.baseMutations.map((z=>G0(w.yt,z))),k=S.mutations.map((z=>G0(w.yt,z)));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:_,mutations:k}})(this.serializer,this.userId,d),p=[];let m=new Ot(((b,w)=>Qe(b.canonicalString(),w.canonicalString())));for(const b of i){const w=_5(this.userId,b.key.path,c);m=m.add(b.key.path.popLast()),p.push(l.put(f)),p.push(s.put(w,NG))}return m.forEach((b=>{p.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(p).next((()=>d))}))}lookupMutationBatch(e,n){return qo(e).get(n).next((r=>r?(Ue(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ac(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return qo(e).ee({index:cc,range:i},((l,c,d)=>{c.userId===this.userId&&(Ue(c.batchId>=r,47524,{tr:r}),s=ac(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=mc;return qo(e).ee({index:cc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,mc],[this.userId,Number.POSITIVE_INFINITY]);return qo(e).J(cc,n).next((r=>r.map((i=>ac(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=m0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Wu(e).ee({range:i},((l,c,d)=>{const[f,p,m]=l,b=Ya(p);if(f===this.userId&&n.path.isEqual(b))return qo(e).get(m).next((w=>{if(!w)throw je(61480,{nr:l,batchId:m});Ue(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:m}),s.push(ac(this.serializer,w))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Qe);const i=[];return n.forEach((s=>{const l=m0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Wu(e).ee({range:c},((f,p,m)=>{const[b,w,E]=f,S=Ya(w);b===this.userId&&s.path.isEqual(S)?r=r.add(E):m.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=m0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new Ot(Qe);return Wu(e).ee({range:l},((d,f,p)=>{const[m,b,w]=d,E=Ya(b);m===this.userId&&r.isPrefixOf(E)?E.length===i&&(c=c.add(w)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(qo(e).get(s).next((l=>{if(l===null)throw je(35274,{batchId:s});Ue(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(ac(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return I4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Wu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ya(s[1]);i.push(d)}else c.done()})).next((()=>{Ue(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return O4(e,this.userId,n)}_r(e){return j4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:mc,lastStreamToken:""}))}}function O4(t,e,n){const r=m0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Wu(t).ee({range:s,X:!0},((c,d,f)=>{const[p,m,b]=c;p===e&&m===i&&(l=!0),f.done()})).next((()=>l))}function qo(t){return Mn(t,la)}function Wu(t){return Mn(t,dd)}function j4(t){return Mn(t,Xh)}class Ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ic(0)}static cr(){return new Ic(-1)}}class JK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Ic(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>qe.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Vu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ue(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Vu(e).ee(((l,c)=>{const d=kh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Vu(e).ee(((r,i)=>{const s=kh(i);n(s)}))}lr(e){return cO(e).get(B0).next((n=>(Ue(n!==null,2888),n)))}hr(e,n){return cO(e).put(B0,n)}Pr(e,n){return Vu(e).put(T4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vu(e).ee({range:i,index:S5},((l,c,d)=>{const f=kh(c);Pm(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Jo(e);return n.forEach((l=>{const c=wr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Jo(e);return Q.forEach(n,(s=>{const l=wr(s.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Jo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Jo(e);let s=ot();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ya(l[1]),p=new Ne(f);s=s.add(p)})).next((()=>s))}containsKey(e,n){const r=wr(n.path),i=IDBKeyRange.bound([r],[m5(r)],!1,!0);let s=0;return Jo(e).ee({index:PS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Vu(e).get(n).next((r=>r?kh(r):null))}}function Vu(t){return Mn(t,fd)}function cO(t){return Mn(t,pc)}function Jo(t){return Mn(t,hd)}const uO="LruGarbageCollector",P4=1048576;function dO([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class eY{constructor(e){this.Ir=e,this.buffer=new Ot(dO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(uO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?ge(uO,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class tY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Hr.ce);const r=new eY(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(lO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),Hu()<=ht.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${m} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function R4(t,e){return new tY(t,e)}class nY{constructor(e,n){this.db=e,this.garbageCollector=R4(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Mg(e,r)}removeReference(e,n,r){return Mg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mg(e,n)}br(e,n){return(function(i,s){let l=!1;return j4(i).te((c=>O4(i,c,s).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,qe.min()),Jo(e).delete((function(m){return[0,wr(m.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mg(e,n)}Sr(e,n){const r=Jo(e);let i,s=Hr.ce;return r.ee({index:PS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Hr.ce&&n(new Ne(Ya(i)),s),s=f,i=d):s=Hr.ce})).next((()=>{s!==Hr.ce&&n(new Ne(Ya(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mg(t,e){return Jo(t).put((function(r,i){return{targetId:0,path:wr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class M4{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Wl(e).put(r)}removeEntry(e,n,r){return Wl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],K0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=dn.newInvalidDocument(n);return Wl(e).ee({index:p0,range:IDBKeyRange.only(hh(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return Wl(e).ee({index:p0,range:IDBKeyRange.only(hh(n))},((i,s)=>{r={document:this.Cr(n,s),size:W0(s)}})).next((()=>r))}getEntries(e,n){let r=hi();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=hi(),i=new qt(Ne.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,W0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Ot(mO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(hh(i.first()),hh(i.last())),l=i.getIterator();let c=l.getNext();return Wl(e).ee({index:p0,range:s},((d,f,p)=>{const m=Ne.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&mO(c,m)<0;)r(c,null),c=l.getNext();c&&c.isEqual(m)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?p.j(hh(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),K0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let p=hi();for(const m of f){const b=this.Cr(Ne.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);b.isFoundDocument()&&(zm(n,b)||i.has(b.key))&&(p=p.insert(b.key,b))}return p}))}getAllFromCollectionGroup(e,n,r,i){let s=hi();const l=hO(n,r),c=hO(n,xi.max());return Wl(e).ee({index:E5,range:IDBKeyRange.bound(l,c,!0)},((d,f,p)=>{const m=this.Cr(Ne.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(m.key,m),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new iY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return fO(e).get(O_).next((n=>(Ue(!!n,20021),n)))}Dr(e,n){return fO(e).put(O_,n)}Cr(e,n){if(n){const r=qK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(qe.min())))return r}return dn.newInvalidDocument(e)}}function D4(t){return new rY(t)}class iY extends M4{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new to((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Ot(((s,l)=>Qe(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=WI(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=W0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=WI(this.Nr.serializer,l.convertToNoDocument(qe.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function fO(t){return Mn(t,Qh)}function Wl(t){return Mn(t,V0)}function hh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hO(t,e){const n=e.documentKey.path.toArray();return[t,K0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Qe(n[s],r[s]),i)return i;return i=Qe(n.length,r.length),i||(i=Qe(n[n.length-2],r[r.length-2]),i||Qe(n[n.length-1],r[r.length-1]))}class aY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Uh(r.mutation,i,qi.empty(),It.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=Wa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Th();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Wa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=hi();const l=Bh(),c=(function(){return Bh()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof xl)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Uh(p.mutation,f,p.mutation.getFieldMask(),It.now())):l.set(f.key,qi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new aY(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Bh();let i=new qt(((l,c)=>l-c)),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||qi.empty();p=c.applyToLocalView(f,p),r.set(d,p);const m=(i.get(c.batchId)||ot()).add(d);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,m=t4();p.forEach((b=>{if(!s.has(b)){const w=o4(n.get(b),r.get(b));w!==null&&m.set(b,w),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uK(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Wa());let c=ud,d=s;return l.next((f=>Q.forEach(f,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,ot()))).next((p=>({batchId:c,changes:e4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((r=>{let i=Th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Th();return this.indexManager.getCollectionParents(e,s).next((c=>Q.forEach(c,(d=>{const f=(function(m,b){return new dv(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((m,b)=>{l=l.insert(m,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,dn.newInvalidDocument(p)))}));let c=Th();return l.forEach(((d,f)=>{const p=s.get(d);p!==void 0&&Uh(p.mutation,f,qi.empty(),It.now()),zm(n,f)&&(c=c.insert(d,f))})),c}))}}class sY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:A4(i.bundledQuery),readTime:Ir(i.readTime)}})(n)),Q.resolve()}}class oY{constructor(){this.overlays=new qt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wa();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Wa(),s=n.length+1,l=new Ne(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Wa(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Wa(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new KS(n,r));let s=this.qr.get(n);s===void 0&&(s=ot(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class lY{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class ZS{constructor(){this.Qr=new Ot(Kn.$r),this.Ur=new Ot(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ne(new Lt([])),r=new Kn(n,e),i=new Kn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new Lt([])),r=new Kn(n,e),i=new Kn(n,e+1);let s=ot();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}class cY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Kn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new HS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Kn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?mc:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Qe);return n.forEach((i=>{const s=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ne.isDocumentKey(s)||(s=s.child(""));const l=new Kn(new Ne(s),0);let c=new Ot(Qe);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const s=new Kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uY{constructor(e){this.ri=e,this.docs=(function(){return new qt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hi();const l=n.path,c=new Ne(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||OS(y5(p),r)<=0||(i.has(p.key)||zm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){je(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dY(this)}getSize(e){return Q.resolve(this.size)}}class dY extends M4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class fY{constructor(e){this.persistence=e,this.si=new to((n=>kc(n)),Pm),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new ZS,this.targetCount=0,this.ai=Ic.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(s).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hr(0),this.li=!1,this.li=!0,this.hi=new lY,this.referenceDelegate=e(this),this.Pi=new fY(this),this.indexManager=new QK,this.remoteDocumentCache=(function(i){return new uY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new S4(n),this.Ii=new sY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new cY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new hY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hY extends b5{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Ri=new ZS,this.Vi=null}static mi(e){return new vv(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Ne.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class X0{constructor(e,n){this.persistence=e,this.pi=new to((r=>wr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=R4(this,n)}static mi(e,n){return new X0(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y0(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mY{constructor(e){this.serializer=e}k(e,n,r,i){const s=new iv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(jm)})(e),(function(d){d.createObjectStore(Xh,{keyPath:kG}),d.createObjectStore(la,{keyPath:TI,autoIncrement:!0}).createIndex(cc,AI,{unique:!0}),d.createObjectStore(dd)})(e),pO(e),(function(d){d.createObjectStore(Jl)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(hd),d.deleteObjectStore(fd),d.deleteObjectStore(pc)})(e),pO(e)),l=l.next((()=>(function(d){const f=d.store(pc),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qe.min().toTimestamp(),targetCount:0};return f.put(B0,p)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(la).J().next((m=>{d.deleteObjectStore(la),d.createObjectStore(la,{keyPath:TI,autoIncrement:!0}).createIndex(cc,AI,{unique:!0});const b=f.store(la),w=m.map((E=>b.put(E)));return Q.waitFor(w)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(md,{keyPath:MG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Qh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(sv,{keyPath:DG})})(e),(function(d){d.createObjectStore(ov,{keyPath:LG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(lv,{keyPath:HG});f.createIndex(P_,GG,{unique:!1}),f.createIndex(k5,KG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(V0,{keyPath:CG});f.createIndex(p0,IG),f.createIndex(E5,OG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Jl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(zS,{keyPath:VG,autoIncrement:!0}).createIndex(j_,BG,{unique:!1}),d.createObjectStore(Mh,{keyPath:UG}).createIndex(T5,FG,{unique:!1}),d.createObjectStore(Dh,{keyPath:qG}).createIndex(A5,$G,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Mh).clear()})).next((()=>{n.objectStore(Dh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(RS,{keyPath:YG})})(e)}))),r<18&&i>=18&&ED()&&(l=l.next((()=>{n.objectStore(Mh).clear()})).next((()=>{n.objectStore(Dh).clear()}))),l}wi(e){let n=0;return e.store(Jl).ee(((r,i)=>{n+=W0(i)})).next((()=>{const r={byteSize:n};return e.store(Qh).put(O_,r)}))}yi(e){const n=e.store(Xh),r=e.store(la);return n.J().next((i=>Q.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,mc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(cc,l).next((c=>Q.forEach(c,(d=>{Ue(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=ac(this.serializer,d);return I4(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(hd),r=e.store(Jl);return e.store(pc).get(B0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new Lt(l),f=(function(m){return[0,wr(m)]})(d);s.push(n.get(f).next((p=>p?Q.resolve():(m=>n.put({targetId:0,path:wr(m),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(s)))}))}bi(e,n){e.createObjectStore(Zh,{keyPath:RG});const r=n.store(Zh),i=new QS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:wr(d)})}};return n.store(Jl).ee({X:!0},((l,c)=>{const d=new Lt(l);return s(d.popLast())})).next((()=>n.store(dd).ee({X:!0},(([l,c,d],f)=>{const p=Ya(c);return s(p.popLast())}))))}Di(e){const n=e.store(fd);return n.ee(((r,i)=>{const s=kh(i),l=T4(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Jl),i=[];return r.ee(((s,l)=>{const c=n.store(V0),d=(function(m){return m.document?new Ne(Lt.fromString(m.document.name).popFirst(5)):m.noDocument?Ne.fromSegments(m.noDocument.path):m.unknownDocument?Ne.fromSegments(m.unknownDocument.path):je(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(la),i=D4(this.serializer),s=new JS(vv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??ot();ac(this.serializer,d).keys().forEach((p=>f=f.add(p))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const p=new br(f),m=gv.wt(this.serializer,p),b=s.getIndexManager(p),w=yv.wt(p,this.serializer,b,s.referenceDelegate);return new L4(i,w,m,b).recalculateAndSaveOverlaysForDocumentKeys(new z_(n,Hr.ce),d).next()}))}))}}function pO(t){t.createObjectStore(hd,{keyPath:PG}).createIndex(PS,zG,{unique:!0}),t.createObjectStore(fd,{keyPath:"targetId"}).createIndex(S5,jG,{unique:!0}),t.createObjectStore(pc)}const $o="IndexedDbPersistence",T1=18e5,A1=5e3,k1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pY="main";class eT{constructor(e,n,r,i,s,l,c,d,f,p,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=p,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!eT.v())throw new Ie(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nY(this,i),this.$i=n+pY,this.serializer=new S4(d),this.Ui=new ll(this.$i,this.Ni,new mY(this.serializer)),this.hi=new HK,this.Pi=new JK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=D4(this.serializer),this.Ii=new $K,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&gn($o,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(he.FAILED_PRECONDITION,k1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Hr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(bl(e))return ge($o,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge($o,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return mh(e).get(zu).next((n=>Q.resolve(this.es(n))))}ts(e){return Dg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,T1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Mn(n,md);return r.J().next((i=>{const s=this.ss(i,T1),l=i.filter((c=>s.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):mh(e).get(zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,A1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ie(he.FAILED_PRECONDITION,k1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dg(e).J().next((r=>this.ss(r,A1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ge($o,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[jm,md],(e=>{const n=new z_(e,Hr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Dg(e).J().next((n=>this.ss(n,T1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return yv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge($o,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?QG:d===17?O5:d===16?XG:d===15?MS:d===14?I5:d===13?C5:d===12?WG:d===11?N5:void je(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new z_(c,this.ci?this.ci.next():Hr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ie(he.FAILED_PRECONDITION,v5);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return mh(e).get(zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,A1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ie(he.FAILED_PRECONDITION,k1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mh(e).put(zu,n)}static v(){return ll.v()}Zi(e){const n=mh(e);return n.get(zu).next((r=>this.es(r)?(ge($o,"Releasing primary lease."),n.delete(zu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;_D()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ge($o,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return gn($o,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mh(t){return Mn(t,jm)}function Dg(t){return Mn(t,md)}function V4(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class tT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tT(e,n.fromCache,r,i)}}class gY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class B4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _D()?8:x5(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new gY;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hu()<=ht.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Hu()<=ht.DEBUG&&ge("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hu()<=ht.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):Q.resolve())}ys(e,n){if(VI(n))return Q.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=B_(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ot(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,B_(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return VI(n)||i.isEqual(qe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Q.resolve(null):(Hu()<=ht.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gu(n)),this.vs(e,l,n,g5(i,ud)).next((c=>c)))}))}Ds(e,n){let r=new Ot(Z5(e));return n.forEach(((i,s)=>{zm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Hu()<=ht.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.ps.getDocumentsMatchingQuery(e,n,xi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const nT="LocalStore",yY=3e8;class vY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new qt(Qe),this.xs=new to((s=>kc(s)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function U4(t,e,n,r){return new vY(t,e,n,r)}async function F4(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=ot();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function bY(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const m=f.batch,b=m.keys();let w=Q.resolve();return b.forEach((E=>{w=w.next((()=>p.getEntry(d,E))).next((S=>{const _=f.docVersions.get(E);Ue(_!==null,48541),S.version.compareTo(_)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(d,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=ot();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function q4(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xY(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const b=i.get(m);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(m,w),(function(S,_,k){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=yY?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,w,p)&&c.push(n.Pi.updateTargetData(s,w))}));let d=hi(),f=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(wY(s,l,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(qe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return Q.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function wY(t,e,n){let r=ot(),i=ot();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=hi();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ge(nT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function _Y(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=mc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Q0(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new zs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _d(t,e,n){const r=Ve(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bl(l))throw l;ge(nT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Y_(t,e,n){const r=Ve(t);let i=qe.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const m=Ve(d),b=m.xs.get(p);return b!==void 0?Q.resolve(m.Ms.get(b)):m.Pi.getTargetData(f,p)})(r,l,yi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:qe.min(),n?s:ot()))).next((c=>(G4(r,Q5(e),c),{documents:c,Qs:s})))))}function $4(t,e){const n=Ve(t),r=Ve(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function H4(t,e){const n=Ve(t),r=n.Os.get(e)||qe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,g5(r,ud),Number.MAX_SAFE_INTEGER))).then((i=>(G4(n,e,i),i)))}function G4(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const K4="firestore_clients";function gO(t,e){return`${K4}_${t}_${e}`}const Y4="firestore_mutations";function yO(t,e,n){let r=`${Y4}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const W4="firestore_targets";function N1(t,e){return`${W4}_${t}_${e}`}const Ha="SharedClientState";class Z0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new Ie(i.error.code,i.error.message))),l?new Z0(e,n,i.state,s):(gn(Ha,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ie(r.error.code,r.error.message))),s?new Fh(e,r.state,i):(gn(Ha,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class J0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=FS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=w5(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new J0(e,s):(gn(Ha,`Failed to parse client data for instance '${e}': ${n}`),null)}}class rT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new rT(n.clientId,n.onlineState):(gn(Ha,`Failed to parse online state: ${e}`),null)}}class W_{constructor(){this.activeTargetIds=FS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new qt(Qe),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=gO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new W_),this.ro=new RegExp(`^${K4}_${l}_([^_]*)$`),this.io=new RegExp(`^${Y4}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${W4}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(gO(this.persistenceKey,r));if(i){const s=J0.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(N1(this.persistenceKey,e));if(i){const s=Fh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(N1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ge(Ha,"READ",e,n),n}setItem(e,n){ge(Ha,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ge(Ha,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ge(Ha,"EVENT",n.key,n.newValue),n.key===this.eo)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Hr.ce;if(s!=null)try{const c=JSON.parse(s);Ue(typeof c=="number",30636,{So:s}),l=c}catch(c){gn(Ha,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Hr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Z0(this.currentUser,e,n,r),s=yO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=yO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=N1(this.persistenceKey,e),s=new Fh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return J0.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Z0.Ws(new br(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Fh.Ws(i,n)}uo(e){return rT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ge(Ha,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=FS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class X4{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EY{Oo(e){}shutdown(){}}const vO="ConnectivityMonitor";class bO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(vO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(vO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lg=null;function X_(){return Lg===null?Lg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lg++,"0x"+Lg.toString(16)}const I1="RestConnection",SY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===U0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=X_(),c=this.zo(e,n.toUriEncodedString());ge(I1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),p=Ud(f);return this.Jo(e,c,d,r,p).then((m=>(ge(I1,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Kh(I1,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$d})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=SY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class AY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yr="WebChannelConnection";class kY extends TY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=X_();return new Promise(((c,d)=>{const f=new l5;f.setWithCredentials(!0),f.listenOnce(c5.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case f0.NO_ERROR:const m=f.getResponseJson();ge(yr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case f0.TIMEOUT:ge(yr,`RPC '${e}' ${l} timed out`),d(new Ie(he.DEADLINE_EXCEEDED,"Request time out"));break;case f0.HTTP_ERROR:const b=f.getStatus();if(ge(yr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w?.error;if(E&&E.status&&E.message){const S=(function(k){const z=k.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(z)>=0?z:he.UNKNOWN})(E.status);d(new Ie(S,E.message))}else d(new Ie(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(he.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ge(yr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ge(yr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=X_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=f5(),c=d5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ge(yr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);this.I_(m);let b=!1,w=!1;const E=new AY({Yo:_=>{w?ge(yr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(b||(ge(yr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),b=!0),ge(yr,`RPC '${e}' stream ${i} sending:`,_),m.send(_))},Zo:()=>m.close()}),S=(_,k,z)=>{_.listen(k,(I=>{try{z(I)}catch(D){setTimeout((()=>{throw D}),0)}}))};return S(m,Sh.EventType.OPEN,(()=>{w||(ge(yr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(m,Sh.EventType.CLOSE,(()=>{w||(w=!0,ge(yr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(m))})),S(m,Sh.EventType.ERROR,(_=>{w||(w=!0,Kh(yr,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new Ie(he.UNAVAILABLE,"The operation could not be completed")))})),S(m,Sh.EventType.MESSAGE,(_=>{if(!w){const k=_.data[0];Ue(!!k,16349);const z=k,I=z?.error||z[0]?.error;if(I){ge(yr,`RPC '${e}' stream ${i} received error:`,I);const D=I.status;let j=(function(C){const R=kn[C];if(R!==void 0)return u4(R)})(D),F=I.message;j===void 0&&(j=he.INTERNAL,F="Unknown error status: "+D+" with message "+I.message),w=!0,E.a_(new Ie(j,F)),m.close()}else ge(yr,`RPC '${e}' stream ${i} received:`,k),E.u_(k)}})),S(c,u5.STAT_EVENT,(_=>{_.stat===N_.PROXY?ge(yr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===N_.NOPROXY&&ge(yr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Q4(){return typeof window<"u"?window:null}function _0(){return typeof document<"u"?document:null}function bv(t){return new PK(t,!0)}class Z4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xO="PersistentStream";class J4{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(xO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(xO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NY extends J4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return qe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?Ir(l.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=q_(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=q0(d)?{documents:v4(s,d)}:{query:b4(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=h4(s,l.resumeToken);const f=U_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(qe.min())>0){c.readTime=wd(s,l.snapshotVersion.toTimestamp());const f=U_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=LK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=q_(this.serializer),n.removeTarget=e,this.q_(n)}}class CY extends J4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DK(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=q_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>G0(this.serializer,r)))};this.q_(n)}}class IY{}class OY extends IY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,F_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(he.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,F_(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(he.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gn(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oc="RemoteStore";class PY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Uc(this)&&(ge(Oc,"Restarting streams for network reachability change."),await(async function(d){const f=Ve(d);f.Ea.add(4),await Dm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await xv(f)})(this))}))})),this.Ra=new jY(r,i)}}async function xv(t){if(Uc(t))for(const e of t.da)await e(!0)}async function Dm(t){for(const e of t.da)await e(!1)}function wv(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sT(n)?aT(n):Kd(n).O_()&&iT(n,e))}function Ed(t,e){const n=Ve(t),r=Kd(n);n.Ia.delete(e),r.O_()&&e3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uc(n)&&n.Ra.set("Unknown"))}function iT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kd(t).Y_(e)}function e3(t,e){t.Va.Ue(e),Kd(t).Z_(e)}function aT(t){t.Va=new CK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kd(t).start(),t.Ra.ua()}function sT(t){return Uc(t)&&!Kd(t).x_()&&t.Ia.size>0}function Uc(t){return Ve(t).Ea.size===0}function t3(t){t.Va=void 0}async function zY(t){t.Ra.set("Online")}async function RY(t){t.Ia.forEach(((e,n)=>{iT(t,e)}))}async function MY(t,e){t3(t),sT(t)?(t.Ra.ha(e),aT(t)):t.Ra.set("Unknown")}async function DY(t,e,n){if(t.Ra.set("Online"),e instanceof f4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ge(Oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ey(t,r)}else if(e instanceof x0?t.Va.Ze(e):e instanceof d4?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await q4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(f);p&&s.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),e3(s,d);const m=new zs(p.target,d,f,p.sequenceNumber);iT(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ge(Oc,"Failed to raise snapshot:",r),await ey(t,r)}}async function ey(t,e,n){if(!bl(e))throw e;t.Ea.add(1),await Dm(t),t.Ra.set("Offline"),n||(n=()=>q4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Oc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xv(t)}))}function n3(t,e){return e().catch((n=>ey(t,n,e)))}async function Gd(t){const e=Ve(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mc;for(;LY(e);)try{const i=await _Y(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,VY(e,i)}catch(i){await ey(e,i)}r3(e)&&i3(e)}function LY(t){return Uc(t)&&t.Ta.length<10}function VY(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function r3(t){return Uc(t)&&!fl(t).x_()&&t.Ta.length>0}function i3(t){fl(t).start()}async function BY(t){fl(t).ra()}async function UY(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function FY(t,e,n){const r=t.Ta.shift(),i=GS.from(r,e,n);await n3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Gd(t)}async function qY(t,e){e&&fl(t).X_&&await(async function(r,i){if((function(l){return AK(l)&&l!==he.ABORTED})(i.code)){const s=r.Ta.shift();fl(r).B_(),await n3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Gd(r)}})(t,e),r3(t)&&i3(t)}async function wO(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ge(Oc,"RemoteStore received new credentials");const r=Uc(n);n.Ea.add(3),await Dm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xv(n)}async function Q_(t,e){const n=Ve(t);e?(n.Ea.delete(2),await xv(n)):e||(n.Ea.add(2),await Dm(n),n.Ra.set("Unknown"))}function Kd(t){return t.ma||(t.ma=(function(n,r,i){const s=Ve(n);return s.sa(),new NY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:zY.bind(null,t),t_:RY.bind(null,t),r_:MY.bind(null,t),H_:DY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),sT(t)?aT(t):t.Ra.set("Unknown")):(await t.ma.stop(),t3(t))}))),t.ma}function fl(t){return t.fa||(t.fa=(function(n,r,i){const s=Ve(n);return s.sa(),new CY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:BY.bind(null,t),r_:qY.bind(null,t),ta:UY.bind(null,t),na:FY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Oc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class oT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new oT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lT(t,e){if(gn("AsyncQueue",`${e}: ${t}`),bl(t))return new Ie(he.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{static emptySet(e){return new nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Th(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _O{constructor(){this.ga=new qt(Ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sd{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Sd(e,n,nd.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $Y{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HY{constructor(){this.queries=EO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ve(n),s=i.queries;i.queries=EO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Ie(he.ABORTED,"Firestore shutting down"))}}function EO(){return new to((t=>X5(t)),hv)}async function GY(t,e){const n=Ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new $Y,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=lT(l,`Initialization of query '${Gu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&cT(n)}async function KY(t,e){const n=Ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YY(t,e){const n=Ve(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&cT(n)}function WY(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function cT(t){t.Ca.forEach((e=>{e.next()}))}var Z_,SO;(SO=Z_||(Z_={})).Ma="default",SO.Cache="cache";class XY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Z_.Cache}}class a3{constructor(e){this.key=e}}class s3{constructor(e){this.key=e}}class QY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=Z5(e),this.tu=new nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _O,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const b=i.get(p),w=zm(this.query,m)?m:null,E=!!b&&this.mutatedKeys.has(b.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let _=!1;b&&w?b.data.isEqual(w.data)?E!==S&&(r.track({type:3,doc:w}),_=!0):this.su(b,w)||(r.track({type:2,doc:w}),_=!0,(d&&this.eu(w,d)>0||f&&this.eu(w,f)<0)&&(c=!0)):!b&&w?(r.track({type:0,doc:w}),_=!0):b&&!w&&(r.track({type:1,doc:b}),_=!0,(d||f)&&(c=!0)),_&&(w?(l=l.add(w),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(w,E){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:_})}};return S(w)-S(E)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Sd(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _O,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new s3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new a3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yd="SyncEngine";class ZY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JY{constructor(e){this.key=e,this.hu=!1}}class eW{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new to((c=>X5(c)),hv),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Ne.comparator),this.Au=new Map,this.Ru=new ZS,this.Vu={},this.mu=new Map,this.fu=Ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tW(t,e,n=!0){const r=_v(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await o3(r,e,n,!0),i}async function nW(t,e){const n=_v(t);await o3(n,e,!0,!1)}async function o3(t,e,n,r){const i=await Q0(t.localStore,yi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await uT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&wv(t.remoteStore,i),c}async function uT(t,e,n,r,i){t.pu=(m,b,w)=>(async function(S,_,k,z){let I=_.view.ru(k);I.Cs&&(I=await Y_(S.localStore,_.query,!1).then((({documents:P})=>_.view.ru(P,I))));const D=z&&z.targetChanges.get(_.targetId),j=z&&z.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(I,S.isPrimaryClient,D,j);return J_(S,_.targetId,F.au),F.snapshot})(t,m,b,w);const s=await Y_(t.localStore,e,!0),l=new QY(e,s.Qs),c=l.ru(s.documents),d=Mm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);J_(t,n,f.au);const p=new ZY(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function rW(t,e,n){const r=Ve(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!hv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _d(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ed(r.remoteStore,i.targetId),Td(r,i.targetId)})).catch(vl)):(Td(r,i.targetId),await _d(r.localStore,i.targetId,!0))}async function iW(t,e){const n=Ve(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ed(n.remoteStore,r.targetId))}async function aW(t,e,n){const r=mT(t);try{const i=await(function(l,c){const d=Ve(l),f=It.now(),p=c.reduce(((w,E)=>w.add(E.key)),ot());let m,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=hi(),S=ot();return d.Ns.getEntries(w,p).next((_=>{E=_,E.forEach(((k,z)=>{z.isValidDocument()||(S=S.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,E))).next((_=>{m=_;const k=[];for(const z of c){const I=SK(z,m.get(z.key).overlayedDocument);I!=null&&k.push(new xl(z.key,I,U5(I.value.mapValue),mi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,k,c)})).next((_=>{b=_;const k=_.applyToLocalDocumentSet(m,S);return d.documentOverlayCache.saveOverlays(w,_.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:e4(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new qt(Qe)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await wl(r,i.changes),await Gd(r.remoteStore)}catch(i){const s=lT(i,"Failed to persist write");n.reject(s)}}async function l3(t,e){const n=Ve(t);try{const r=await xY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ue(l.hu,14607):i.removedDocuments.size>0&&(Ue(l.hu,42227),l.hu=!1))})),await wl(n,r,e)}catch(r){await vl(r)}}function TO(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Ve(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,m)=>{for(const b of m.Sa)b.va(c)&&(f=!0)})),f&&cT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sW(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new qt(Ne.comparator);l=l.insert(s,dn.newNoDocument(s,qe.min()));const c=ot().add(s),d=new Rm(qe.min(),new Map,new qt(Qe),l,c);await l3(r,d),r.du=r.du.remove(s),r.Au.delete(e),hT(r)}else await _d(r.localStore,e,!1).then((()=>Td(r,e,n))).catch(vl)}async function oW(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await bY(n.localStore,e);fT(n,r,null),dT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,i)}catch(i){await vl(i)}}async function lW(t,e,n){const r=Ve(t);try{const i=await(function(l,c){const d=Ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((m=>(Ue(m!==null,37113),p=m.keys(),d.mutationQueue.removeMutationBatch(f,m)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);fT(r,e,n),dT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,i)}catch(i){await vl(i)}}function dT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fT(t,e,n){const r=Ve(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Td(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||c3(t,r)}))}function c3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ed(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hT(t))}function J_(t,e,n){for(const r of n)r instanceof a3?(t.Ru.addReference(r.key,e),cW(t,r)):r instanceof s3?(ge(Yd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||c3(t,r.key)):je(19791,{wu:r})}function cW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Yd,"New document in limbo: "+n),t.Eu.add(r),hT(t))}function hT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new JY(n)),t.du=t.du.insert(n,r),wv(t.remoteStore,new zs(yi(fv(n.path)),r,"TargetPurposeLimboResolution",Hr.ce))}}async function wl(t,e,n){const r=Ve(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=tT.As(d.targetId,f);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const p=Ve(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(f,(b=>Q.forEach(b.Es,(w=>p.persistence.referenceDelegate.addReference(m,b.targetId,w))).next((()=>Q.forEach(b.ds,(w=>p.persistence.referenceDelegate.removeReference(m,b.targetId,w)))))))))}catch(m){if(!bl(m))throw m;ge(nT,"Failed to update sequence numbers: "+m)}for(const m of f){const b=m.targetId;if(!m.fromCache){const w=p.Ms.get(b),E=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(b,S)}}})(r.localStore,s))}async function uW(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ge(Yd,"User change. New user:",e.toKey());const r=await F4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ie(he.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.Ls)}}function dW(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function fW(t,e){const n=Ve(t),r=await Y_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&J_(n,e.targetId,i.au),i}async function hW(t,e){const n=Ve(t);return H4(n.localStore,e).then((r=>wl(n,r)))}async function mW(t,e,n,r){const i=Ve(t),s=await(function(c,d){const f=Ve(c),p=Ve(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(m=>p.er(m,d).next((b=>b?f.localDocuments.getDocuments(m,b):Q.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Gd(i.remoteStore):n==="acknowledged"||n==="rejected"?(fT(i,e,r||null),dT(i,e),(function(c,d){Ve(Ve(c).mutationQueue).ir(d)})(i.localStore,e)):je(6720,"Unknown batchState",{Su:n}),await wl(i,s)):ge(Yd,"Cannot apply mutation batch with id: "+e)}async function pW(t,e){const n=Ve(t);if(_v(n),mT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await AO(n,r.toArray());n.gu=!0,await Q_(n.remoteStore,!0);for(const s of i)wv(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Td(n,l),_d(n.localStore,l,!0)))),Ed(n.remoteStore,l)})),await i,await AO(n,r),(function(l){const c=Ve(l);c.Au.forEach(((d,f)=>{Ed(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new qt(Ne.comparator)})(n),n.gu=!1,await Q_(n.remoteStore,!1)}}async function AO(t,e,n){const r=Ve(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await Q0(r.localStore,yi(d[0]));for(const f of d){const p=r.Tu.get(f),m=await fW(r,p);m.snapshot&&s.push(m.snapshot)}}else{const f=await $4(r.localStore,l);c=await Q0(r.localStore,f),await uT(r,u3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function u3(t){return W5(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gW(t){return(function(n){return Ve(Ve(n).persistence).Ts()})(Ve(t).localStore)}async function yW(t,e,n,r){const i=Ve(t);if(i.gu)return void ge(Yd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await H4(i.localStore,Q5(s[0])),c=Rm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yn.EMPTY_BYTE_STRING);await wl(i,l,c);break}case"rejected":await _d(i.localStore,e,!0),Td(i,e,r);break;default:je(64155,n)}}async function vW(t,e,n){const r=_v(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ge(Yd,"Adding an already active target "+i);continue}const s=await $4(r.localStore,i),l=await Q0(r.localStore,s);await uT(r,u3(s),l.targetId,!1,l.resumeToken),wv(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await _d(r.localStore,i,!1).then((()=>{Ed(r.remoteStore,i),Td(r,i)})).catch(vl)}}function _v(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sW.bind(null,e),e.Pu.H_=YY.bind(null,e.eventManager),e.Pu.yu=WY.bind(null,e.eventManager),e}function mT(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lW.bind(null,e),e}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U4(this.persistence,new B4,e.initialUser,this.serializer)}Cu(e){return new JS(vv.mi,this.serializer)}Du(e){return new X4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class bW extends im{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof X0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new JS((r=>X0.mi(r,n)),this.serializer)}}class d3 extends im{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await mT(this.xu.syncEngine),await Gd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return U4(this.persistence,new B4,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new z4(r,e.asyncQueue,n)}Mu(e,n){const r=new TG(n,this.persistence);return new SG(e.asyncQueue,r)}Cu(e){const n=V4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new eT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Q4(),_0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new X4}}class xW extends d3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof C1&&(this.sharedClientState.syncEngine={Co:mW.bind(null,n),vo:yW.bind(null,n),Fo:vW.bind(null,n),Ts:gW.bind(null,n),Do:hW.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await pW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=Q4();if(!C1.v(n))throw new Ie(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=V4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uW.bind(null,this.syncEngine),await Q_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HY})()}createDatastore(e){const n=bv(e.databaseInfo.databaseId),r=(function(s){return new kY(s)})(e.databaseInfo);return(function(s,l,c,d){return new OY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new PY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>TO(this.syncEngine,n,0)),(function(){return bO.v()?new bO:new EY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,p){const m=new eW(i,s,l,c,d,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);ge(Oc,"RemoteStore shutting down."),r.Ea.add(5),await Dm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class wW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hl="FirestoreClient";class _W{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=CS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ge(hl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ge(hl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function O1(t,e){t.asyncQueue.verifyOperationInProgress(),ge(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await F4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function kO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EW(t);ge(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>wO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>wO(e.remoteStore,i))),t._onlineComponents=e}async function EW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(hl,"Using user provided OfflineComponentProvider");try{await O1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Kh("Error using user provided cache. Falling back to memory cache: "+n),await O1(t,new im)}}else ge(hl,"Using default OfflineComponentProvider"),await O1(t,new bW(void 0));return t._offlineComponents}async function f3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(hl,"Using user provided OnlineComponentProvider"),await kO(t,t._uninitializedComponentsProvider._online)):(ge(hl,"Using default OnlineComponentProvider"),await kO(t,new am))),t._onlineComponents}function SW(t){return f3(t).then((e=>e.syncEngine))}async function NO(t){const e=await f3(t),n=e.eventManager;return n.onListen=tW.bind(null,e.syncEngine),n.onUnlisten=rW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iW.bind(null,e.syncEngine),n}function h3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const CO=new Map;const TW="firestore.googleapis.com",IO=!0;class OO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TW,this.ssl=IO}else this.host=e.host,this.ssl=e.ssl??IO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P4)throw new Ie(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m3{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dG;switch(r.type){case"firstParty":return new mG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=CO.get(n);r&&(ge("ComponentProvider","Removing Datastore"),CO.delete(n),r.terminate())})(this),Promise.resolve()}}class Ev{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ev(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Om(n,Wn._jsonSchema))return new Wn(e,r||null,new Ne(Lt.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:Cn("string",Wn._jsonSchemaVersion),referencePath:Cn("string")};class sm extends Ev{constructor(e,n,r){super(e,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ne(e))}withConverter(e){return new sm(this.firestore,e,this._path)}}function j1(t,e,...n){if(t=Yr(t),arguments.length===1&&(e=CS.newId()),xG("doc","path",e),t instanceof m3){const r=Lt.fromString(e,...n);return xI(r),new Wn(t,null,new Ne(r))}{if(!(t instanceof Wn||t instanceof sm))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return xI(r),new Wn(t.firestore,t instanceof sm?t.converter:null,new Ne(r))}}const jO="AsyncQueue";class PO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z4(this,"async_queue_retry"),this._c=()=>{const r=_0();r&&ge(jO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ol;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;ge(jO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gn("INTERNAL UNHANDLED ERROR: ",zO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=oT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:zO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function RO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ty extends m3{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PO(e),this._firestoreClient=void 0,await e}}}function AW(t,e,n){n||(n=U0);const r=yS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(_c(s,e))return i;throw new Ie(he.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ie(he.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P4)throw new Ie(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ud(e.host)&&xD(e.host),r.initialize({options:e,instanceIdentifier:n})}function p3(t){if(t._terminated)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kW(t),t._firestoreClient}function kW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new JG(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,h3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _W(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(yn.fromBase64String(e))}catch(n){throw new Ie(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Om(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:Cn("string",Fi._jsonSchemaVersion),bytes:Cn("string")};class pT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class g3{constructor(e){this._methodName=e}}class Za{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Za._jsonSchemaVersion}}static fromJSON(e){if(Om(e,Za._jsonSchema))return new Za(e.latitude,e.longitude)}}Za._jsonSchemaVersion="firestore/geoPoint/1.0",Za._jsonSchema={type:Cn("string",Za._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class Ja{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Om(e,Ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ja(e.vectorValues);throw new Ie(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ja._jsonSchemaVersion="firestore/vectorValue/1.0",Ja._jsonSchema={type:Cn("string",Ja._jsonSchemaVersion),vectorValues:Cn("object")};const NW=/^__.*__$/;class CW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}function y3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class gT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ny(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y3(this.Ac)&&NW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bv(e)}Cc(e,n,r,i=!1){return new gT({Ac:e,methodName:n,Dc:r,path:an.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OW(t){const e=t._freezeSettings(),n=bv(t._databaseId);return new IW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jW(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);w3("Data must be an object, but it was:",l,r);const c=b3(r,l);let d,f;if(s.merge)d=new qi(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const b=PW(e,m,n);if(!l.contains(b))throw new Ie(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);RW(p,b)||p.push(b)}d=new qi(p),f=l.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,f=l.fieldTransforms;return new CW(new $r(c),d,f)}function v3(t,e){if(x3(t=Yr(t)))return w3("Unsupported field value:",e,t),b3(t,e);if(t instanceof g3)return(function(r,i){if(!y3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=v3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=It.fromDate(r);return{timestampValue:wd(i.serializer,s)}}if(r instanceof It){const s=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,s)}}if(r instanceof Za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:h4(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ja)return(function(l,c){return{mapValue:{fields:{[LS]:{stringValue:VS},[pd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return qS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${IS(r)}`)})(t,e)}function b3(t,e){const n={};return j5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,((r,i)=>{const s=v3(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function x3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Za||t instanceof Fi||t instanceof Wn||t instanceof g3||t instanceof Ja)}function w3(t,e,n){if(!x3(n)||!p5(n)){const r=IS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function PW(t,e,n){if((e=Yr(e))instanceof pT)return e._internalPath;if(typeof e=="string")return _3(t,e);throw ny("Field path arguments must be of type string or ",t,!1,void 0,n)}const zW=new RegExp("[~\\*/\\[\\]]");function _3(t,e,n){if(e.search(zW)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pT(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ny(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ie(he.INVALID_ARGUMENT,c+t+d)}function RW(t,e){return t.some((n=>n.isEqual(e)))}class E3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MW extends E3{data(){return super.data()}}function S3(t,e){return typeof e=="string"?_3(t,e):e instanceof pT?e._internalPath:e._delegate._internalPath}function DW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LW{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((r=>Jt(r.doubleValue)));return new Ja(n)}convertGeoPoint(e){return new Za(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const n=qs(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Ue(E4(r),9688,{name:e});const i=new Ac(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function VW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends E3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new E0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(S3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yc._jsonSchemaVersion="firestore/documentSnapshot/1.0",yc._jsonSchema={type:Cn("string",yc._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class E0 extends yc{data(e={}){return super.data(e)}}class rd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new E0(this._firestore,this._userDataWriter,r.key,r,new Nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Nh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Nh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:BW(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}rd._jsonSchemaVersion="firestore/querySnapshot/1.0",rd._jsonSchema={type:Cn("string",rd._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class T3 extends LW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function UW(t,e,n){t=Ph(t,Wn);const r=Ph(t.firestore,ty),i=VW(t.converter,e);return FW(r,[jW(OW(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mi.none())])}function MO(t,...e){t=Yr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||RO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RO(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof Wn)l=Ph(t.firestore,ty),c=fv(t._key.path),s={next:d=>{e[r]&&e[r](qW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ph(t,Ev);l=Ph(d.firestore,ty),c=d._query;const f=new T3(l);s={next:p=>{e[r]&&e[r](new rd(l,f,d,p))},error:e[r+1],complete:e[r+2]},DW(t._query)}return(function(f,p,m,b){const w=new wW(b),E=new XY(p,w,m);return f.asyncQueue.enqueueAndForget((async()=>GY(await NO(f),E))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>KY(await NO(f),E)))}})(p3(l),c,i,s)}function FW(t,e){return(function(r,i){const s=new ol;return r.asyncQueue.enqueueAndForget((async()=>aW(await SW(r),i,s))),s.promise})(p3(t),e)}function qW(t,e,n){const r=n.docs.get(e._key),i=new T3(t);return new yc(t,i,e._key,r,new Nh(n.hasPendingWrites,n.fromCache),e.converter)}class $W{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=YW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function HW(t){return new $W(t)}class GW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=am.provider,this._offlineComponentProvider={build:n=>new d3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class KW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=am.provider,this._offlineComponentProvider={build:n=>new xW(n,e?.cacheSizeBytes)}}}function YW(t){return new GW(t?.forceOwnership)}function WW(){return new KW}(function(e,n=!0){(function(i){$d=i})(Fd),od(new Ec("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ty(new fG(r.getProvider("auth-internal")),new pG(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(f.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),al(gI,yI,e),al(gI,yI,"esm2020")})();const XW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"vaultly-ce7e1",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},A3=kD(XW),Vg=sG(A3),QW=new Cs,P1=AW(A3,{localCache:HW({tabManager:WW()})}),k3=T.createContext(void 0),ZW=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=W$(Vg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await G$(Vg,QD),await pH(Vg,QW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await X$(Vg)}catch(c){console.error("Error signing out",c)}};return g.jsx(k3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},Lm=()=>{const t=T.useContext(k3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ua={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},projects:[],scheduledTransactions:[],presets:[],settings:{currency:"$",theme:"classic",hasSeenOnboarding:!1},goals:[],funds:[],credits:[],projections:{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},version:3,lastUpdated:Date.now()},Ho={subscribeToMasterDoc(t,e,n){const r=j1(P1,"users",t,"data","master");return console.log(`[CloudStorage] Subscribing to ${r.path}`),MO(r,i=>{const s=i.metadata.fromCache?"local cache":"server";console.log(`[CloudStorage] Data received from ${s}`),i.exists()?e(i.data()):(console.log("[CloudStorage] Document does not exist"),e(null))},i=>{console.error("[CloudStorage] Snapshot Error:",i),i.code==="permission-denied"&&console.error("CRITICAL: Permission Denied. Check Firestore Rules/Auth."),n(i)})},async fetchMasterDoc(t){return new Promise((e,n)=>{const r=j1(P1,"users",t,"data","master"),i=MO(r,s=>{i(),s.exists()?e(s.data()):e(null)},s=>{i(),n(s)})})},async saveMasterDoc(t,e){try{const n=j1(P1,"users",t,"data","master");await UW(n,{...e,lastUpdated:Date.now()}),console.log("[CloudStorage] Master Doc Saved Successfully")}catch(n){throw console.error("Error saving master doc:",n),n.code==="permission-denied"?new Error("Permiso denegado al guardar. Ests logueado?"):n}},saveLocalBackup(t,e){try{localStorage.setItem(`vaultly_data_${t}`,JSON.stringify(e)),console.log("[CloudStorage] Local Backup Saved")}catch(n){console.error("Local Backup Failed (Quota?)",n)}},loadLocalBackup(t){try{const e=localStorage.getItem(`vaultly_data_${t}`);return e?JSON.parse(e):null}catch(e){return console.error("Local Backup Corrupted",e),null}}};function JW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const eX=t=>{switch(t){case"success":return rX;case"info":return aX;case"warning":return iX;case"error":return sX;default:return null}},tX=Array(12).fill(0),nX=({visible:t,className:e})=>Te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},tX.map((n,r)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),rX=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iX=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aX=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sX=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oX=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lX=()=>{const[t,e]=Te.useState(document.hidden);return Te.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let eE=1;class cX{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:eE++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],Te.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(dX(f)&&!f.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,E=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,...E})}else if(f instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,E=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,...E})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,E=typeof m=="object"&&!Te.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:b,...E})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!Te.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...w})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||eE++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qr=new cX,uX=(t,e)=>{const n=e?.id||eE++;return qr.addToast({title:t,...e,id:n}),n},dX=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fX=uX,hX=()=>qr.toasts,mX=()=>qr.getActiveToasts(),at=Object.assign(fX,{success:qr.success,info:qr.info,warning:qr.warning,error:qr.error,custom:qr.custom,message:qr.message,promise:qr.promise,dismiss:qr.dismiss,loading:qr.loading},{getHistory:hX,getToasts:mX});JW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Bg(t){return t.label!==void 0}const pX=3,gX="24px",yX="16px",DO=4e3,vX=356,bX=14,xX=45,wX=200;function Fa(...t){return t.filter(Boolean).join(" ")}function _X(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const EX=t=>{var e,n,r,i,s,l,c,d,f;const{invert:p,toast:m,unstyled:b,interacting:w,setHeights:E,visibleToasts:S,heights:_,index:k,toasts:z,expanded:I,removeToast:D,defaultRichColors:j,closeButton:F,style:P,cancelButtonStyle:C,actionButtonStyle:R,className:V="",descriptionClassName:L="",duration:$,position:B,gap:ve,expandByDefault:Ae,classNames:K,icons:ie,closeButtonAriaLabel:re="Close toast"}=t,[ye,ke]=Te.useState(null),[q,ee]=Te.useState(null),[Z,ce]=Te.useState(!1),[be,we]=Te.useState(!1),[_e,ze]=Te.useState(!1),[H,pe]=Te.useState(!1),[Ce,W]=Te.useState(!1),[Le,Oe]=Te.useState(0),[We,Ze]=Te.useState(0),rt=Te.useRef(m.duration||$||DO),St=Te.useRef(null),lt=Te.useRef(null),$t=k===0,He=k+1<=S,it=m.type,On=m.dismissible!==!1,on=m.className||"",Xr=m.descriptionClassName||"",zr=Te.useMemo(()=>_.findIndex(Ge=>Ge.toastId===m.id)||0,[_,m.id]),Qi=Te.useMemo(()=>{var Ge;return(Ge=m.closeButton)!=null?Ge:F},[m.closeButton,F]),Qr=Te.useMemo(()=>m.duration||$||DO,[m.duration,$]),me=Te.useRef(0),gt=Te.useRef(0),Er=Te.useRef(0),Rr=Te.useRef(null),[Jn,nn]=B.split("-"),Sr=Te.useMemo(()=>_.reduce((Ge,Et,bn)=>bn>=zr?Ge:Ge+Et.height,0),[_,zr]),Wt=lX(),Kc=m.invert||p,_a=it==="loading";gt.current=Te.useMemo(()=>zr*ve+Sr,[zr,Sr]),Te.useEffect(()=>{rt.current=Qr},[Qr]),Te.useEffect(()=>{ce(!0)},[]),Te.useEffect(()=>{const Ge=lt.current;if(Ge){const Et=Ge.getBoundingClientRect().height;return Ze(Et),E(bn=>[{toastId:m.id,height:Et,position:m.position},...bn]),()=>E(bn=>bn.filter(Un=>Un.toastId!==m.id))}},[E,m.id]),Te.useLayoutEffect(()=>{if(!Z)return;const Ge=lt.current,Et=Ge.style.height;Ge.style.height="auto";const bn=Ge.getBoundingClientRect().height;Ge.style.height=Et,Ze(bn),E(Un=>Un.find(Ht=>Ht.toastId===m.id)?Un.map(Ht=>Ht.toastId===m.id?{...Ht,height:bn}:Ht):[{toastId:m.id,height:bn,position:m.position},...Un])},[Z,m.title,m.description,E,m.id,m.jsx,m.action,m.cancel]);const Zr=Te.useCallback(()=>{we(!0),Oe(gt.current),E(Ge=>Ge.filter(Et=>Et.toastId!==m.id)),setTimeout(()=>{D(m)},wX)},[m,D,E,gt]);Te.useEffect(()=>{if(m.promise&&it==="loading"||m.duration===1/0||m.type==="loading")return;let Ge;return I||w||Wt?(()=>{if(Er.current<me.current){const Un=new Date().getTime()-me.current;rt.current=rt.current-Un}Er.current=new Date().getTime()})():rt.current!==1/0&&(me.current=new Date().getTime(),Ge=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Zr()},rt.current)),()=>clearTimeout(Ge)},[I,w,m,it,Wt,Zr]),Te.useEffect(()=>{m.delete&&(Zr(),m.onDismiss==null||m.onDismiss.call(m,m))},[Zr,m.delete]);function Ti(){var Ge;if(ie?.loading){var Et;return Te.createElement("div",{className:Fa(K?.loader,m==null||(Et=m.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":it==="loading"},ie.loading)}return Te.createElement(nX,{className:Fa(K?.loader,m==null||(Ge=m.classNames)==null?void 0:Ge.loader),visible:it==="loading"})}const ls=m.icon||ie?.[it]||eX(it);var rn,Jr;return Te.createElement("li",{tabIndex:0,ref:lt,className:Fa(V,on,K?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,K?.default,K?.[it],m==null||(n=m.classNames)==null?void 0:n[it]),"data-sonner-toast":"","data-rich-colors":(rn=m.richColors)!=null?rn:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":Z,"data-promise":!!m.promise,"data-swiped":Ce,"data-removed":be,"data-visible":He,"data-y-position":Jn,"data-x-position":nn,"data-index":k,"data-front":$t,"data-swiping":_e,"data-dismissible":On,"data-type":it,"data-invert":Kc,"data-swipe-out":H,"data-swipe-direction":q,"data-expanded":!!(I||Ae&&Z),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":z.length-k,"--offset":`${be?Le:gt.current}px`,"--initial-height":Ae?"auto":`${We}px`,...P,...m.style},onDragEnd:()=>{ze(!1),ke(null),Rr.current=null},onPointerDown:Ge=>{Ge.button!==2&&(_a||!On||(St.current=new Date,Oe(gt.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ze(!0),Rr.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Et,bn;if(H||!On)return;Rr.current=null;const Un=Number(((Ge=lt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((Et=lt.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((bn=St.current)==null?void 0:bn.getTime()),pr=ye==="x"?Un:Tr,Ai=Math.abs(pr)/Ht;if(Math.abs(pr)>=xX||Ai>.11){Oe(gt.current),m.onDismiss==null||m.onDismiss.call(m,m),ee(ye==="x"?Un>0?"right":"left":Tr>0?"down":"up"),Zr(),pe(!0);return}else{var er,tr;(er=lt.current)==null||er.style.setProperty("--swipe-amount-x","0px"),(tr=lt.current)==null||tr.style.setProperty("--swipe-amount-y","0px")}W(!1),ze(!1),ke(null)},onPointerMove:Ge=>{var Et,bn,Un;if(!Rr.current||!On||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;const Ht=Ge.clientY-Rr.current.y,pr=Ge.clientX-Rr.current.x;var Ai;const er=(Ai=t.swipeDirections)!=null?Ai:_X(B);!ye&&(Math.abs(pr)>1||Math.abs(Ht)>1)&&ke(Math.abs(pr)>Math.abs(Ht)?"x":"y");let tr={x:0,y:0};const Ea=nr=>1/(1.5+Math.abs(nr)/20);if(ye==="y"){if(er.includes("top")||er.includes("bottom"))if(er.includes("top")&&Ht<0||er.includes("bottom")&&Ht>0)tr.y=Ht;else{const nr=Ht*Ea(Ht);tr.y=Math.abs(nr)<Math.abs(Ht)?nr:Ht}}else if(ye==="x"&&(er.includes("left")||er.includes("right")))if(er.includes("left")&&pr<0||er.includes("right")&&pr>0)tr.x=pr;else{const nr=pr*Ea(pr);tr.x=Math.abs(nr)<Math.abs(pr)?nr:pr}(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&W(!0),(bn=lt.current)==null||bn.style.setProperty("--swipe-amount-x",`${tr.x}px`),(Un=lt.current)==null||Un.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},Qi&&!m.jsx&&it!=="loading"?Te.createElement("button",{"aria-label":re,"data-disabled":_a,"data-close-button":!0,onClick:_a||!On?()=>{}:()=>{Zr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Fa(K?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Jr=ie?.close)!=null?Jr:oX):null,(it||m.icon||m.promise)&&m.icon!==null&&(ie?.[it]!==null||m.icon)?Te.createElement("div",{"data-icon":"",className:Fa(K?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ti():null,m.type!=="loading"?ls:null):null,Te.createElement("div",{"data-content":"",className:Fa(K?.content,m==null||(s=m.classNames)==null?void 0:s.content)},Te.createElement("div",{"data-title":"",className:Fa(K?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Te.createElement("div",{"data-description":"",className:Fa(L,Xr,K?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),Te.isValidElement(m.cancel)?m.cancel:m.cancel&&Bg(m.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:Ge=>{Bg(m.cancel)&&On&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ge),Zr())},className:Fa(K?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Te.isValidElement(m.action)?m.action:m.action&&Bg(m.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Ge=>{Bg(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ge),!Ge.defaultPrevented&&Zr())},className:Fa(K?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function LO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function SX(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?yX:gX;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const N3=Te.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:m,theme:b="light",richColors:w,duration:E,style:S,visibleToasts:_=pX,toastOptions:k,dir:z=LO(),gap:I=bX,icons:D,containerAriaLabel:j="Notifications"}=e,[F,P]=Te.useState([]),C=Te.useMemo(()=>r?F.filter(Z=>Z.toasterId===r):F.filter(Z=>!Z.toasterId),[F,r]),R=Te.useMemo(()=>Array.from(new Set([s].concat(C.filter(Z=>Z.position).map(Z=>Z.position)))),[C,s]),[V,L]=Te.useState([]),[$,B]=Te.useState(!1),[ve,Ae]=Te.useState(!1),[K,ie]=Te.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Te.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ke=Te.useRef(null),q=Te.useRef(!1),ee=Te.useCallback(Z=>{P(ce=>{var be;return(be=ce.find(we=>we.id===Z.id))!=null&&be.delete||qr.dismiss(Z.id),ce.filter(({id:we})=>we!==Z.id)})},[]);return Te.useEffect(()=>qr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{P(ce=>ce.map(be=>be.id===Z.id?{...be,delete:!0}:be))});return}setTimeout(()=>{TF.flushSync(()=>{P(ce=>{const be=ce.findIndex(we=>we.id===Z.id);return be!==-1?[...ce.slice(0,be),{...ce[be],...Z},...ce.slice(be+1)]:[Z,...ce]})})})}),[F]),Te.useEffect(()=>{if(b!=="system"){ie(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ce})=>{ie(ce?"dark":"light")})}catch{Z.addListener(({matches:be})=>{try{ie(be?"dark":"light")}catch(we){console.error(we)}})}},[b]),Te.useEffect(()=>{F.length<=1&&B(!1)},[F]),Te.useEffect(()=>{const Z=ce=>{var be;if(l.every(ze=>ce[ze]||ce.code===ze)){var _e;B(!0),(_e=re.current)==null||_e.focus()}ce.code==="Escape"&&(document.activeElement===re.current||(be=re.current)!=null&&be.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[l]),Te.useEffect(()=>{if(re.current)return()=>{ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null,q.current=!1)}},[re.current]),Te.createElement("section",{ref:n,"aria-label":`${j} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Z,ce)=>{var be;const[we,_e]=Z.split("-");return C.length?Te.createElement("ol",{key:Z,dir:z==="auto"?LO():z,tabIndex:-1,ref:re,className:f,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":we,"data-x-position":_e,style:{"--front-toast-height":`${((be=V[0])==null?void 0:be.height)||0}px`,"--width":`${vX}px`,"--gap":`${I}px`,...S,...SX(p,m)},onBlur:ze=>{q.current&&!ze.currentTarget.contains(ze.relatedTarget)&&(q.current=!1,ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null))},onFocus:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||q.current||(q.current=!0,ke.current=ze.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{ve||B(!1)},onDragEnd:()=>B(!1),onPointerDown:ze=>{ze.target instanceof HTMLElement&&ze.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},C.filter(ze=>!ze.position&&ce===0||ze.position===Z).map((ze,H)=>{var pe,Ce;return Te.createElement(EX,{key:ze.id,icons:D,index:H,toast:ze,defaultRichColors:w,duration:(pe=k?.duration)!=null?pe:E,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:_,closeButton:(Ce=k?.closeButton)!=null?Ce:d,interacting:ve,position:Z,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:ee,toasts:C.filter(W=>W.position==ze.position),heights:V.filter(W=>W.position==ze.position),setHeights:L,expandByDefault:c,gap:I,expanded:$,swipeDirections:e.swipeDirections})})):null}))}),TX=()=>{const[t,e]=T.useState(navigator.onLine);return T.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t},C3=T.createContext(void 0),AX=({children:t})=>{const{user:e}=Lm(),n=TX(),[r,i]=T.useState(Ua),[s,l]=T.useState(!0),[c,d]=T.useState(!1),[f,p]=T.useState(!1),m=T.useRef(null);T.useEffect(()=>{if(!e){i(Ua),l(!1);return}l(!0);const S=Ho.loadLocalBackup(e.uid);S&&(console.log("[DataContext] Loaded local backup (Optimistic)"),i(S));const _=Ho.subscribeToMasterDoc(e.uid,k=>{if(k){const z={...Ua,...k,settings:{...Ua.settings,...k.settings||{}},categories:{...Ua.categories,...k.categories||{}}};i(z),Ho.saveLocalBackup(e.uid,z)}else S||(console.log("[DataContext] New user setup"),i(Ua),Ho.saveMasterDoc(e.uid,Ua).catch(console.error));l(!1),p(!1)},k=>{console.error("[DataContext] Sync/Connection Error:",k),S?at("Modo Offline: Usando datos locales"):at.error("Error de conexin y sin datos locales."),l(!1)});return()=>_()},[e]);const b=S=>{e&&(Ho.saveLocalBackup(e.uid,S),d(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{if(!navigator.onLine){console.log("[DataContext] Offline. Marked for sync."),p(!0),d(!1);return}try{await Ho.saveMasterDoc(e.uid,S),d(!1),p(!1),console.log("Auto-saved to cloud")}catch(_){console.error("Auto-save failed (Network?)",_),p(!0),d(!1)}},2e3))};T.useEffect(()=>{n&&f&&e&&(console.log("[DataContext] Back Online! Syncing pending changes..."),at.info("Conexin restaurada. Sincronizando..."),b(r))},[n,f,e,r]);const w=S=>{i(_=>{const k={..._,...S};return b(k),k})},E=async()=>{if(e)try{d(!0),await Ho.saveMasterDoc(e.uid,Ua),Ho.saveLocalBackup(e.uid,Ua),i(Ua),at.success("Mundo reinstalado desde cero.")}catch(S){console.error("Failed to nuke data:",S),at.error("Fallo en la detonacin.")}finally{d(!1)}};return g.jsx(C3.Provider,{value:{data:r,updateData:w,isLoading:s,isSaving:c,isOfflineMode:f||!n,resetData:E},children:t})},wi=()=>{const t=T.useContext(C3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const kX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VO=t=>{const e=NX(t);return e.charAt(0).toUpperCase()+e.slice(1)},I3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),CX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var IX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...IX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:I3("lucide",i),...!s&&!CX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>T.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Ee=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(OX,{ref:s,iconNode:e,className:I3(`lucide-${kX(VO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=VO(t),n};const jX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ry=Ee("arrow-down-left",jX);const PX=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],tE=Ee("arrow-down-right",PX);const zX=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],RX=Ee("arrow-up-left",zX);const MX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ad=Ee("arrow-up-right",MX);const DX=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],BO=Ee("bomb",DX);const LX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VX=Ee("book-open",LX);const BX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yT=Ee("briefcase",BX);const UX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],vT=Ee("calculator",UX);const FX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],nE=Ee("calendar-clock",FX);const qX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O3=Ee("calendar",qX);const $X=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],j3=Ee("car",$X);const HX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],GX=Ee("chart-pie",HX);const KX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P3=Ee("check",KX);const YX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],z3=Ee("chevron-down",YX);const WX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XX=Ee("chevron-left",WX);const QX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bT=Ee("chevron-right",QX);const ZX=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],JX=Ee("chevrons-right",ZX);const eQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],UO=Ee("circle-arrow-down",eQ);const tQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],FO=Ee("circle-arrow-up",tQ);const nQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rQ=Ee("circle-check-big",nQ);const iQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],aQ=Ee("circle-minus",iQ);const sQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],oQ=Ee("circle-pause",sQ);const lQ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cQ=Ee("circle-play",lQ);const uQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],dQ=Ee("circle-plus",uQ);const fQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hQ=Ee("clock",fQ);const mQ=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],pQ=Ee("cloud-off",mQ);const gQ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],yQ=Ee("cloud",gQ);const vQ=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],R3=Ee("coffee",vQ);const bQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xQ=Ee("credit-card",bQ);const wQ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qO=Ee("database",wQ);const _Q=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xT=Ee("dollar-sign",_Q);const EQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SQ=Ee("download",EQ);const TQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],M3=Ee("ellipsis",TQ);const AQ=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],D3=Ee("flame",AQ);const kQ=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],rE=Ee("folder-kanban",kQ);const NQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CQ=Ee("funnel",NQ);const IQ=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],L3=Ee("gamepad-2",IQ);const OQ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],V3=Ee("gift",OQ);const jQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],B3=Ee("heart",jQ);const PQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],zQ=Ee("history",PQ);const RQ=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],MQ=Ee("hourglass",RQ);const DQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],U3=Ee("house",DQ);const LQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],om=Ee("landmark",LQ);const VQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BQ=Ee("layers",VQ);const UQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FQ=Ee("layout-dashboard",UQ);const qQ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$Q=Ee("layout-grid",qQ);const HQ=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iE=Ee("list",HQ);const GQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],KQ=Ee("lock",GQ);const YQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WQ=Ee("log-out",YQ);const XQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],QQ=Ee("menu",XQ);const ZQ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],JQ=Ee("moon",ZQ);const eZ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tZ=Ee("palette",eZ);const nZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rZ=Ee("pen",nZ);const iZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Vm=Ee("pencil",iZ);const aZ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],sZ=Ee("percent",aZ);const oZ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Wd=Ee("piggy-bank",oZ);const lZ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],F3=Ee("plane",lZ);const cZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pa=Ee("plus",cZ);const uZ=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 15.4641a4 4 0 0 1-4 0L7.52786 19.74597 A 1 1 0 0 0 7.99303 21.16211 10 10 0 0 0 16.00697 21.16211 1 1 0 0 0 16.47214 19.74597z",key:"1y4lzb"}],["path",{d:"M16 12a4 4 0 0 0-2-3.464l2.472-4.282a1 1 0 0 1 1.46-.305 10 10 0 0 1 4.006 6.94A1 1 0 0 1 21 12z",key:"163ggk"}],["path",{d:"M8 12a4 4 0 0 1 2-3.464L7.528 4.254a1 1 0 0 0-1.46-.305 10 10 0 0 0-4.006 6.94A1 1 0 0 0 3 12z",key:"1l9i0b"}]],dZ=Ee("radiation",uZ);const fZ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],hZ=Ee("receipt",fZ);const mZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wT=Ee("refresh-cw",mZ);const pZ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],gZ=Ee("rocket",pZ);const yZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vZ=Ee("rotate-ccw",yZ);const bZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xZ=Ee("save",bZ);const wZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_Z=Ee("search",wZ);const EZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q3=Ee("settings",EZ);const SZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],TZ=Ee("shield",SZ);const AZ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kZ=Ee("shopping-bag",AZ);const NZ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],CZ=Ee("siren",NZ);const IZ=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],OZ=Ee("sliders-horizontal",IZ);const jZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$3=Ee("smartphone",jZ);const PZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],H3=Ee("smile",PZ);const zZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$O=Ee("sparkles",zZ);const RZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G3=Ee("star",RZ);const MZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DZ=Ee("sun",MZ);const LZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ls=Ee("target",LZ);const VZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],BZ=Ee("text-align-start",VZ);const UZ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],z1=Ee("toggle-left",UZ);const FZ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],R1=Ee("toggle-right",FZ);const qZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hi=Ee("trash-2",qZ);const $Z=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],aE=Ee("trending-down",$Z);const HZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_T=Ee("trending-up",HZ);const GZ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HO=Ee("triangle-alert",GZ);const KZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],YZ=Ee("upload",KZ);const WZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XZ=Ee("user",WZ);const QZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xd=Ee("wallet",QZ);const ZZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iy=Ee("x",ZZ);const JZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ay=Ee("zap",JZ);function K3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K3(t))&&(r&&(r+=" "),r+=e);return r}const eJ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},tJ=(t,e)=>({classGroupId:t,validator:e}),Y3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),sy="-",GO=[],nJ="arbitrary..",rJ=t=>{const e=aJ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return iJ(l);const c=l.split(sy),d=c[0]===""&&c.length>1?1:0;return W3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?eJ(f,d):d:f||GO}return n[l]||GO}}},W3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=W3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(sy):t.slice(e).join(sy),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},iJ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?nJ+r:void 0})(),aJ=t=>{const{theme:e,classGroups:n}=t;return sJ(n,e)},sJ=(t,e)=>{const n=Y3();for(const r in t){const i=t[r];ET(i,n,r,e)}return n},ET=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];oJ(l,e,n,r)}},oJ=(t,e,n,r)=>{if(typeof t=="string"){lJ(t,e,n);return}if(typeof t=="function"){cJ(t,e,n,r);return}uJ(t,e,n,r)},lJ=(t,e,n)=>{const r=t===""?e:X3(e,t);r.classGroupId=n},cJ=(t,e,n,r)=>{if(dJ(t)){ET(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(tJ(n,t))},uJ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];ET(d,X3(e,c),n,r)}},X3=(t,e)=>{let n=t;const r=e.split(sy),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=Y3(),n.nextPart.set(l,c)),n=c}return n},dJ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,fJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},sE="!",KO=":",hJ=[],YO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),mJ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const p=i.length;for(let S=0;S<p;S++){const _=i[S];if(l===0&&c===0){if(_===KO){s.push(i.slice(d,S)),d=S+1;continue}if(_==="/"){f=S;continue}}_==="["?l++:_==="]"?l--:_==="("?c++:_===")"&&c--}const m=s.length===0?i:i.slice(d);let b=m,w=!1;m.endsWith(sE)?(b=m.slice(0,-1),w=!0):m.startsWith(sE)&&(b=m.slice(1),w=!0);const E=f&&f>d?f-d:void 0;return YO(s,w,b,E)};if(e){const i=e+KO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):YO(hJ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},pJ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},gJ=t=>({cache:fJ(t.cacheSize),parseClassName:mJ(t),sortModifiers:pJ(t),...rJ(t)}),yJ=/\s+/,vJ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(yJ);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:b,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:S}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let _=!!S,k=r(_?E.substring(0,S):E);if(!k){if(!_){d=p+(d.length>0?" "+d:d);continue}if(k=r(E),!k){d=p+(d.length>0?" "+d:d);continue}_=!1}const z=b.length===0?"":b.length===1?b[0]:s(b).join(":"),I=w?z+sE:z,D=I+k;if(l.indexOf(D)>-1)continue;l.push(D);const j=i(k,_);for(let F=0;F<j.length;++F){const P=j[F];l.push(I+P)}d=p+(d.length>0?" "+d:d)}return d},bJ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Q3(n))&&(i&&(i+=" "),i+=r);return i},Q3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Q3(t[r]))&&(n&&(n+=" "),n+=e);return n},xJ=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((p,m)=>m(p),t());return n=gJ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=vJ(d,n);return i(d,p),p};return s=l,(...d)=>s(bJ(...d))},wJ=[],Pn=t=>{const e=n=>n[t]||wJ;return e.isThemeGetter=!0,e},Z3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_J=/^\d+\/\d+$/,EJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,AJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bu=t=>_J.test(t),st=t=>!!t&&!Number.isNaN(Number(t)),Go=t=>!!t&&Number.isInteger(Number(t)),M1=t=>t.endsWith("%")&&st(t.slice(0,-1)),ks=t=>EJ.test(t),NJ=()=>!0,CJ=t=>SJ.test(t)&&!TJ.test(t),e6=()=>!1,IJ=t=>AJ.test(t),OJ=t=>kJ.test(t),jJ=t=>!Me(t)&&!De(t),PJ=t=>Qd(t,r6,e6),Me=t=>Z3.test(t),Xl=t=>Qd(t,i6,CJ),D1=t=>Qd(t,LJ,st),WO=t=>Qd(t,t6,e6),zJ=t=>Qd(t,n6,OJ),Ug=t=>Qd(t,a6,IJ),De=t=>J3.test(t),ph=t=>Zd(t,i6),RJ=t=>Zd(t,VJ),XO=t=>Zd(t,t6),MJ=t=>Zd(t,r6),DJ=t=>Zd(t,n6),Fg=t=>Zd(t,a6,!0),Qd=(t,e,n)=>{const r=Z3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Zd=(t,e,n=!1)=>{const r=J3.exec(t);return r?r[1]?e(r[1]):n:!1},t6=t=>t==="position"||t==="percentage",n6=t=>t==="image"||t==="url",r6=t=>t==="length"||t==="size"||t==="bg-size",i6=t=>t==="length",LJ=t=>t==="number",VJ=t=>t==="family-name",a6=t=>t==="shadow",BJ=()=>{const t=Pn("color"),e=Pn("font"),n=Pn("text"),r=Pn("font-weight"),i=Pn("tracking"),s=Pn("leading"),l=Pn("breakpoint"),c=Pn("container"),d=Pn("spacing"),f=Pn("radius"),p=Pn("shadow"),m=Pn("inset-shadow"),b=Pn("text-shadow"),w=Pn("drop-shadow"),E=Pn("blur"),S=Pn("perspective"),_=Pn("aspect"),k=Pn("ease"),z=Pn("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...D(),De,Me],F=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[De,Me,d],R=()=>[Bu,"full","auto",...C()],V=()=>[Go,"none","subgrid",De,Me],L=()=>["auto",{span:["full",Go,De,Me]},Go,De,Me],$=()=>[Go,"auto",De,Me],B=()=>["auto","min","max","fr",De,Me],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...C()],ie=()=>[Bu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],re=()=>[t,De,Me],ye=()=>[...D(),XO,WO,{position:[De,Me]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",MJ,PJ,{size:[De,Me]}],ee=()=>[M1,ph,Xl],Z=()=>["","none","full",f,De,Me],ce=()=>["",st,ph,Xl],be=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[st,M1,XO,WO],ze=()=>["","none",E,De,Me],H=()=>["none",st,De,Me],pe=()=>["none",st,De,Me],Ce=()=>[st,De,Me],W=()=>[Bu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ks],breakpoint:[ks],color:[NJ],container:[ks],"drop-shadow":[ks],ease:["in","out","in-out"],font:[jJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ks],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ks],shadow:[ks],spacing:["px",st],text:[ks],"text-shadow":[ks],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bu,Me,De,_]}],container:["container"],columns:[{columns:[st,Me,De,c]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Go,"auto",De,Me]}],basis:[{basis:[Bu,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[st,Bu,"auto","initial","none",Me]}],grow:[{grow:["",st,De,Me]}],shrink:[{shrink:["",st,De,Me]}],order:[{order:[Go,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[c,"screen",...ie()]}],"min-w":[{"min-w":[c,"screen","none",...ie()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,ph,Xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,D1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M1,Me]}],"font-family":[{font:[RJ,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,De,Me]}],"line-clamp":[{"line-clamp":[st,"none",De,D1]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[st,"from-font","auto",De,Xl]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[st,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Go,De,Me],radial:["",De,Me],conic:[Go,De,Me]},DJ,zJ]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[st,De,Me]}],"outline-w":[{outline:["",st,ph,Xl]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",p,Fg,Ug]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",m,Fg,Ug]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[st,Xl]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",b,Fg,Ug]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[st,De,Me]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[st]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[st]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:ze()}],brightness:[{brightness:[st,De,Me]}],contrast:[{contrast:[st,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",w,Fg,Ug]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",st,De,Me]}],"hue-rotate":[{"hue-rotate":[st,De,Me]}],invert:[{invert:["",st,De,Me]}],saturate:[{saturate:[st,De,Me]}],sepia:[{sepia:["",st,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[st,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[st,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",st,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[st,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",st,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[st,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[st,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",st,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[st,"initial",De,Me]}],ease:[{ease:["linear","initial",k,De,Me]}],delay:[{delay:[st,De,Me]}],animate:[{animate:["none",z,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,De,Me]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[st,ph,Xl,D1]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UJ=xJ(BJ),FJ=()=>{const{user:t}=Lm(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?g.jsxs("div",{className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20",children:[g.jsx(wT,{size:14,className:"animate-spin"}),g.jsx("span",{children:"Sincronizando..."})]}):g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20",title:"Todos los datos estn seguros en la nube.",children:[g.jsx(yQ,{size:14}),g.jsx("span",{children:"Nube Activa"})]}):g.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20",title:"Sin conexin. Los cambios se guardarn en tu dispositivo y se enviarn al volver.",children:[g.jsx(pQ,{size:14}),g.jsx("span",{children:"Modo Local"})]}):null},ST=({className:t="",size:e=32,color:n})=>g.jsxs("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[g.jsx("path",{d:"M16 2L4 8L16 28L28 8L16 2Z",className:"fill-current opacity-20"}),g.jsx("path",{d:"M16 8L8 12L16 24L24 12L16 8Z",fill:n||"currentColor",className:n?"":"text-primary"}),g.jsx("circle",{cx:"16",cy:"16",r:"2",className:"fill-white"})]}),TT=({className:t=""})=>g.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[g.jsx(ST,{size:28}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-mono font-bold text-lg tracking-wider leading-none text-zinc-900 dark:text-zinc-100",children:"VAULTLY"}),g.jsx("span",{className:"text-[9px] font-medium tracking-widest text-zinc-400 uppercase",children:"Finance"})]})]}),qJ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=fD(),s=[{to:"/",icon:FQ,label:"Dashboard"},{to:"/expenses",icon:Xd,label:"Gastos"},{to:"/income",icon:hZ,label:"Ingresos"},{to:"/goals",icon:Ls,label:"Metas"},{to:"/funds",icon:Wd,label:"Fondos"},{to:"/credits",icon:om,label:"Crditos"},{to:"/projects",icon:rE,label:"Proyectos"},{to:"/projections",icon:vT,label:"Proyecciones"}];return g.jsx(g.Fragment,{children:g.jsxs("aside",{className:xe("fixed md:static inset-y-0 left-0 z-[60] w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[g.jsxs("div",{className:"p-5 flex-shrink-0 flex items-center justify-between",children:[g.jsx(TT,{}),g.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:g.jsx(iy,{size:20})})]}),g.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2 overflow-y-auto no-scrollbar",children:s.map(l=>g.jsxs(cD,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>UJ(xe("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[g.jsx(l.icon,{size:22,className:xe("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-primary":"group-hover:text-primary")}),g.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),g.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>{n(),e()},className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-primary transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[g.jsx(q3,{size:22,className:"md:w-[18px] md:h-[18px]"}),g.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-primary transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[g.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?g.jsx(JQ,{size:18}):g.jsx(DZ,{size:18})]}),g.jsx("div",{className:"flex justify-center pt-1",children:g.jsx(FJ,{})})]})]})})},s6=T.createContext(void 0),$J=({children:t})=>{const{data:e,updateData:n,isLoading:r}=wi(),i=e.settings||{currency:"$",hasSeenOnboarding:!1,theme:"classic"},s=i.currency||"$",l=i.hasSeenOnboarding||!1,c={defaultCalculationMethod:i.goalPreferences?.defaultCalculationMethod||"dynamic",defaultRecoveryStrategy:i.goalPreferences?.defaultRecoveryStrategy||"spread"},d=m=>{n({settings:{...i,currency:m}})},f=m=>{n({settings:{...i,hasSeenOnboarding:m}}),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(m))},p=m=>{n({settings:{...i,goalPreferences:{...c,...m}}})};return g.jsx(s6.Provider,{value:{currency:s,setCurrency:d,hasSeenOnboarding:l,setHasSeenOnboarding:f,loading:r,goalPreferences:c,setGoalPreferences:p},children:t})},_r=()=>{const t=T.useContext(s6);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},kd=t=>{const{data:e,updateData:n}=wi(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},lr=[];for(let t=0;t<256;++t)lr.push((t+256).toString(16).slice(1));function HJ(t,e=0){return(lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]).toLowerCase()}let L1;const GJ=new Uint8Array(16);function KJ(){if(!L1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");L1=crypto.getRandomValues.bind(crypto)}return L1(GJ)}const YJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QO={randomUUID:YJ};function WJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??KJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,HJ(r)}function XJ(t,e,n){return QO.randomUUID&&!t?QO.randomUUID():WJ(t)}const Or=t=>{const{data:e,updateData:n}=wi(),r=e.transactions||[],i=m=>{const b={id:XJ(),...m};n({transactions:[...r,b]})},s=m=>{const b=r.filter(w=>w.id!==m);n({transactions:b})},l=(m,b)=>{const w=r.map(E=>E.id===m?{...E,...b}:E);n({transactions:w})},c=(m,b)=>{const w=r.map(E=>E.category===m?{...E,category:b}:E);n({transactions:w})},d=t?r.filter(m=>m.type===t):r,f=d.reduce((m,b)=>m+b.amount,0);return{transactions:d,addTransaction:i,updateTransaction:l,deleteTransaction:s,total:f,getByCategory:()=>{const m=d.reduce((b,w)=>{const E=w.category||"Sin Categora";return b[E]=(b[E]||0)+w.amount,b},{});return Object.entries(m).map(([b,w])=>({name:b,value:w}))},allTransactions:r,updateCategory:c}},Bm=()=>{const{data:t,updateData:e}=wi(),n=t.scheduledTransactions||[],{addTransaction:r}=Or();return{scheduled:n,addScheduled:d=>{const f={id:crypto.randomUUID(),...d,active:!0,createdAt:new Date().toISOString()};e({scheduledTransactions:[...n,f]}),at.success("Transaccin programada creada")},deleteScheduled:d=>{const f=n.filter(p=>p.id!==d);e({scheduledTransactions:f})},toggleActive:(d,f)=>{const p=n.map(m=>m.id===d?{...m,active:!f}:m);e({scheduledTransactions:p}),at.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();let p=0;const m=n.map(b=>{if(!b.active)return b;const w=b.lastProcessedDate?new Date(b.lastProcessedDate):null,E=w&&w.getMonth()===d.getMonth()&&w.getFullYear()===d.getFullYear();return f>=b.dayOfMonth&&!E?(r({type:b.type,amount:b.amount,category:b.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${b.description}`}),p++,{...b,lastProcessedDate:d.toISOString().split("T")[0]}):b});p>0&&(e({scheduledTransactions:m}),at.info(`${p} transacciones recurrentes procesadas`))}}},o6=()=>{const{data:t,updateData:e}=wi(),n=t.presets||[];return{presets:n,addPreset:s=>{if(n.length>=10){at.error("Lmite de 10 atajos alcanzado");return}const l={id:crypto.randomUUID(),...s};e({presets:[...n,l]}),at.success("Atajo creado")},deletePreset:s=>{const l=n.filter(c=>c.id!==s);e({presets:l})}}},es=({isOpen:t,onClose:e,title:n,children:r,maxWidth:i="max-w-md",noPadding:s=!1,className:l=""})=>(T.useEffect(()=>{const c=d=>{d.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?g.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),g.jsxs("div",{className:`relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full ${i} ${l} border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col overflow-hidden`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),g.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:g.jsx(iy,{size:20})})]}),g.jsx("div",{className:s?"flex-1 min-h-0 flex flex-col overflow-hidden":"p-6 overflow-y-auto no-scrollbar",children:r})]})]}):null),QJ="modulepreload",ZJ=function(t){return"/Vaultly/"+t},ZO={},JJ=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(p=>{if(p=ZJ(p),p in ZO)return;ZO[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":QJ,m||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),m)return new Promise((E,S)=>{w.addEventListener("load",E),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function eee(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t;let c,d;const f=async(m=!0)=>{await d};async function p(){if("serviceWorker"in navigator){if(c=await JJ(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/Vaultly/sw.js",{scope:"/Vaultly/",type:"classic"})).catch(m=>{l?.(m)}),!c)return;c.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),c.addEventListener("installed",m=>{m.isUpdate||r?.()}),c.register({immediate:e}).then(m=>{s?s("/Vaultly/sw.js",m):i?.(m)}).catch(m=>{l?.(m)})}}return d=p(),f}function tee(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t,[c,d]=T.useState(!1),[f,p]=T.useState(!1),[m]=T.useState(()=>eee({immediate:e,onOfflineReady(){p(!0),r?.()},onNeedRefresh(){d(!0),n?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:l}));return{needRefresh:[c,d],offlineReady:[f,p],updateServiceWorker:m}}const nee=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r,goalPreferences:i,setGoalPreferences:s}=_r(),{themeStyle:l,setThemeStyle:c}=fD(),{logout:d,user:f}=Lm(),{data:p}=wi(),{categories:m,addCategory:b,removeCategory:w}=kd("income"),{categories:E,addCategory:S,removeCategory:_}=kd("expense"),{updateCategory:k}=Or(),{scheduled:z,toggleActive:I,deleteScheduled:D}=Bm(),{presets:j,addPreset:F,deletePreset:P}=o6(),[C,R]=T.useState("general"),[V,L]=T.useState("expense"),[$,B]=T.useState(""),[ve,Ae]=T.useState(""),[K,ie]=T.useState(""),[re,ye]=T.useState(""),[ke,q]=T.useState("expense"),ee=[{id:"classic",name:"Soft Stone",color:"bg-[#a8a29e]"},{id:"clay",name:"Soft Clay",color:"bg-[#fb923c]"},{id:"sand",name:"Soft Sand",color:"bg-[#d6b885]"},{id:"coffee",name:"Soft Coffee",color:"bg-[#b97f6a]"},{id:"sage",name:"Soft Sage",color:"bg-[#64ad84]"},{id:"nordic",name:"Soft Nordic",color:"bg-[#0ea5e9]"},{id:"mist",name:"Soft Mist",color:"bg-[#94a3b8]"},{id:"royal",name:"Soft Royal",color:"bg-[#a78bfa]"},{id:"bloom",name:"Soft Bloom",color:"bg-[#fb7185]"}],Z=["$","","","","COP","MXN","ARS","S/"],[ce,be]=T.useState(!1),[we,_e]=T.useState(["","","",""]),[ze,H]=T.useState(!1),[pe,Ce]=T.useState(!1),[W,Le]=T.useState(""),{resetData:Oe,updateData:We}=wi(),Ze=T.useRef(null),rt=(me,gt)=>{if(gt.length>1&&(gt=gt[gt.length-1]),!/^\d*$/.test(gt))return;const Er=[...we];Er[me]=gt,_e(Er),gt&&me<3&&document.getElementById(`nuclear-digit-${me+1}`)?.focus()},St=async()=>{if(we.join("").length!==4){at.error("CDIGO DE LANZAMIENTO INCOMPLETO");return}H(!0),await new Promise(me=>setTimeout(me,2e3)),await Oe(),H(!1),be(!1),_e(["","","",""]),e()};tee({onRegistered(me){console.log("SW Registered: "+me)},onRegisterError(me){console.log("SW registration error",me)}});const lt=async()=>{Ce(!0),Le("LIMPIANDO CACH...");try{if("serviceWorker"in navigator){const me=await navigator.serviceWorker.getRegistrations();for(const gt of me)await gt.unregister()}if("caches"in window){const me=await caches.keys();await Promise.all(me.map(gt=>caches.delete(gt)))}Le("DESCARGANDO NUEVA VERSIN..."),await new Promise(me=>setTimeout(me,1e3)),Le("REINICIANDO..."),window.location.reload()}catch(me){console.error("Update failed",me),window.location.reload()}},$t=()=>{const me=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(p))}`,gt=document.createElement("a");gt.href=me,gt.download=`vault_backup_${new Date().toISOString().split("T")[0]}.json`,gt.click(),at.success("Copia de seguridad descargada")},He=()=>{Ze.current?.click()},it=me=>{const gt=me.target.files?.[0];if(!gt)return;const Er=new FileReader;Er.onload=Rr=>{try{const Jn=Rr.target?.result,nn=JSON.parse(Jn);if(!nn||typeof nn!="object")throw new Error("Formato invlido");We(nn),at.success("Datos restaurados correctamente"),e()}catch(Jn){console.error("Import error:",Jn),at.error("Error al importar el archivo. Formato invlido.")}},Er.readAsText(gt),me.target.value=""},On=()=>{$.trim()&&(V==="income"?b($):S($),B(""))},on=me=>{confirm(`Eliminar categora "${me}"? Las transacciones pasarn a "Desconocido".`)&&(V==="income"?w(me):_(me),k(me,"Desconocido"))},[Xr,zr]=T.useState(!1),Qi=[{id:"general",label:"General",icon:$Q,desc:"Moneda, cuenta y sesin"},{id:"preferences",label:"Preferencias",icon:OZ,desc:"Comportamiento de Metas"},{id:"appearance",label:"Apariencia",icon:tZ,desc:"Temas, colores y modo oscuro"},{id:"categories",label:"Categoras",icon:iE,desc:"Gestionar tipos de ingresos y gastos"},{id:"scheduled",label:"Programados",icon:nE,desc:"Pagos y cobros recurrentes"},{id:"presets",label:"Atajos",icon:ay,desc:"Configurar botones de accin rpida"},{id:"data",label:"Datos",icon:qO,desc:"Importar, exportar y backups"},{id:"changelog",label:"Novedades",icon:$O,desc:"Historial de versiones"}],Qr=()=>{zr(!1),e()};return g.jsx(es,{isOpen:t,onClose:Qr,title:Xr&&Qi.find(me=>me.id===C)?.label||"Configuracin",maxWidth:"max-w-5xl",className:"h-[100dvh] md:h-[650px] w-full",noPadding:!0,children:g.jsxs("div",{className:"flex h-full w-full overflow-hidden relative",children:[g.jsxs("div",{className:`
                    bg-zinc-50 dark:bg-zinc-900/50 border-r border-zinc-200 dark:border-zinc-800 flex flex-col p-2 md:p-3 space-y-1 overflow-y-auto no-scrollbar
                    ${Xr?"hidden md:flex md:w-64 flex-shrink-0":"w-full md:w-64 flex-shrink-0"}
                `,children:[g.jsx("div",{className:"md:hidden pb-4 pt-2 px-2",children:g.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Selecciona una opcin para configurar:"})}),Qi.map(me=>g.jsxs("button",{onClick:()=>{R(me.id),zr(!0)},className:`flex items-center gap-4 px-4 py-4 md:py-2.5 rounded-xl text-left transition-all group border md:border-transparent
                                ${C===me.id?"md:bg-primary/10 md:text-primary font-bold md:shadow-sm bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-sm":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 border-transparent hover:border-zinc-200 dark:hover:border-zinc-700 bg-white/50 dark:bg-zinc-900/50"}`,children:[g.jsx("div",{className:`p-2 rounded-lg ${C===me.id?"bg-primary/10 text-primary":"bg-zinc-100 dark:bg-zinc-800 text-zinc-500"}`,children:g.jsx(me.icon,{size:20})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"block text-base md:text-sm font-medium text-zinc-900 dark:text-zinc-100",children:me.label}),g.jsx("span",{className:"block md:hidden text-xs text-zinc-500 dark:text-zinc-500 mt-0.5 font-normal",children:me.desc})]}),g.jsx("div",{className:"md:hidden text-zinc-300 dark:text-zinc-600",children:g.jsx(bT,{size:20})})]},me.id)),g.jsx("div",{className:"flex-1"}),g.jsx("div",{className:"hidden md:block px-4 py-2 text-xs text-zinc-400 font-mono text-center",children:"v1.5 - Offline Unleashed"})]}),g.jsxs("div",{className:`
                    flex-1 overflow-y-auto bg-white dark:bg-zinc-950
                    ${Xr?"block w-full":"hidden md:block"}
                `,children:[g.jsxs("div",{className:"md:hidden sticky top-0 z-20 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md border-b border-zinc-100 dark:border-zinc-800 px-4 py-3 flex items-center gap-3",children:[g.jsx("button",{onClick:()=>zr(!1),className:"p-2 -ml-2 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400",children:g.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"m15 18-6-6 6-6"})})}),g.jsx("h2",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:Qi.find(me=>me.id===C)?.label})]}),g.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[C==="preferences"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Clculo de Cuota Mensual"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultCalculationMethod==="dynamic"?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-200 dark:border-indigo-800 ring-1 ring-indigo-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"calculationMethod",checked:i.defaultCalculationMethod==="dynamic",onChange:()=>s({...i,defaultCalculationMethod:"dynamic"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Dinmico (Recomendado)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"La cuota se ajusta automticamente cada mes. Si ahorras de ms, la cuota baja. Si te atrasas, sube. Ideal para mantener el objetivo final fijo."})]})]}),g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultCalculationMethod==="static"?"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-200 dark:border-indigo-800 ring-1 ring-indigo-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"calculationMethod",checked:i.defaultCalculationMethod==="static",onChange:()=>s({...i,defaultCalculationMethod:"static"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Esttico"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"La cuota es fija (Monto / Total Meses). No cambia aunque adelantes pagos. Ideal si prefieres previsibilidad total y terminar antes si pagas extra."})]})]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Estrategia de Recuperacin (Default)"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultRecoveryStrategy==="spread"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800 ring-1 ring-emerald-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"recoveryStrategy",checked:i.defaultRecoveryStrategy==="spread",onChange:()=>s({...i,defaultRecoveryStrategy:"spread"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Redistribuir (Spread)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Si retiras dinero, el faltante se divide entre todos los meses restantes."})]})]}),g.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all cursor-pointer ${i.defaultRecoveryStrategy==="catch_up"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800 ring-1 ring-emerald-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 border-zinc-200 dark:border-zinc-800"}`,children:[g.jsx("input",{type:"radio",name:"recoveryStrategy",checked:i.defaultRecoveryStrategy==="catch_up",onChange:()=>s({...i,defaultRecoveryStrategy:"catch_up"}),className:"mt-1"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-zinc-900 dark:text-zinc-100",children:"Pagar Prximo Mes (Catch Up)"}),g.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Si retiras dinero, se suma todo a la cuota del mes siguiente para recuperar el ritmo inmediatamente."})]})]})]})]})]}),C==="general"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[g.jsx(XZ,{size:14})," Cuenta y Sesin"]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800",children:[f&&g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("img",{src:f.photoURL||`https://ui-avatars.com/api/?name=${f.displayName}`,alt:"User",className:"w-14 h-14 rounded-full bg-zinc-200 dark:bg-zinc-800 object-cover ring-4 ring-white dark:ring-zinc-950"}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("p",{className:"text-lg font-bold text-zinc-900 dark:text-white truncate",children:f.displayName}),g.jsx("p",{className:"text-sm text-zinc-500 truncate",children:f.email})]})]}),g.jsxs("button",{onClick:()=>{d(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:border-rose-200 transition-all font-bold text-sm shadow-sm",children:[g.jsx(WQ,{size:16}),"Cerrar Sesin Actual"]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4",children:"Configuracin Regional"}),g.jsxs("div",{className:"p-5 bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Moneda Principal"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:Z.map(me=>g.jsx("button",{onClick:()=>r(me),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===me?"bg-primary text-primary-foreground shadow-lg shadow-primary/20 scale-110":"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:me},me))})]})]})]}),C==="appearance"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-xl border border-indigo-500/20 mb-6",children:g.jsxs("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 flex gap-2",children:[g.jsx($O,{size:18,className:"shrink-0"}),g.jsxs("span",{children:["La interfaz ",g.jsx("strong",{children:"Colortly"})," adapta todos los acentos visuales al tema seleccionado."]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Selecciona tu Tema"}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:ee.map(me=>g.jsxs("button",{onClick:()=>c(me.id),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-3 transition-all relative overflow-hidden group ${l===me.id?"border-primary bg-primary/5 shadow-md":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[g.jsx("div",{className:`w-12 h-12 rounded-full ${me.color} shadow-sm group-hover:scale-110 transition-transform duration-300`}),g.jsx("span",{className:`text-sm font-bold ${l===me.id?"text-primary":"text-zinc-600 dark:text-zinc-400"}`,children:me.name}),l===me.id&&g.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-primary animate-pulse"})]},me.id))})]})]}),C==="categories"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-xl mb-4",children:[g.jsx("button",{onClick:()=>L("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${V==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),g.jsx("button",{onClick:()=>L("income"),className:`flex-1 py-1.5 text-sm font-bold rounded-lg transition-all ${V==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:`Nueva categora de ${V==="income"?"ingreso":"gasto"}...`,value:$,onChange:me=>B(me.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",onKeyDown:me=>me.key==="Enter"&&On()}),g.jsx("button",{onClick:On,className:"p-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl transition-colors shadow-lg shadow-primary/20",children:g.jsx(pa,{size:20})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(V==="income"?m:E).map(me=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700 group transition-all",children:[g.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:me}),g.jsx("button",{onClick:()=>on(me),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",title:"Eliminar",children:g.jsx(Hi,{size:16})})]},me))})]}),C==="scheduled"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-xl border border-zinc-100 dark:border-zinc-800 mb-6",children:g.jsx("p",{className:"text-sm text-zinc-500",children:"Las transacciones programadas se generan automticamente el da seleccionado de cada mes."})}),z.length===0?g.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-full mb-3",children:g.jsx(nE,{className:"text-zinc-300 dark:text-zinc-600",size:32})}),g.jsx("p",{className:"text-zinc-500 font-medium",children:"No hay reglas programadas"}),g.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Crea una al aadir una nueva transaccin."})]}):g.jsx("div",{className:"space-y-3",children:z.map(me=>g.jsxs("div",{className:`p-4 rounded-xl border transition-all hover:shadow-md ${me.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-50 dark:bg-zinc-900/20 border-zinc-100 dark:border-zinc-800 opacity-60 grayscale"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${me.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:me.type==="income"?"Ingreso":"Gasto"}),g.jsxs("span",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md flex items-center gap-1",children:[g.jsx(zQ,{size:10})," Da ",me.dayOfMonth]})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:me.description||"Sin descripcin"}),g.jsxs("p",{className:"text-sm text-zinc-500",children:[me.category,"  ",n,me.amount.toFixed(2)]})]}),g.jsx("button",{onClick:()=>D(me.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:g.jsx(Hi,{size:18})})]}),g.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("span",{className:"text-xs text-zinc-400",children:["ltima: ",me.lastProcessedDate||"Nunca"]}),g.jsx("button",{onClick:()=>I(me.id,me.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${me.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:me.active?g.jsxs(g.Fragment,{children:[" ",g.jsx(oQ,{size:14})," Pausar "]}):g.jsxs(g.Fragment,{children:[" ",g.jsx(cQ,{size:14})," Activar "]})})]})]},me.id))})]}),C==="presets"&&g.jsxs("div",{className:"space-y-6 pb-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-primary/5 p-5 rounded-2xl border border-primary/10",children:[g.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2 text-primary uppercase tracking-wider",children:[g.jsx(pa,{size:16})," Crear Atajo Rpido"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf Diario)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:ve,onChange:me=>Ae(me.target.value)}),g.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:K,onChange:me=>ie(me.target.value)})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:ke,onChange:me=>{q(me.target.value),ye("")},children:[g.jsx("option",{value:"expense",children:"Gasto"}),g.jsx("option",{value:"income",children:"Ingreso"})]}),g.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:re,onChange:me=>ye(me.target.value),children:[g.jsx("option",{value:"",children:"Categora..."}),(ke==="expense"?E:m).map(me=>g.jsx("option",{value:me,children:me},me))]})]}),g.jsx("button",{disabled:!ve||!re,onClick:()=>{F({label:ve,amount:K?Number(K):void 0,category:re,type:ke}),Ae(""),ie("")},className:"w-full bg-primary text-primary-foreground py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-2 shadow-sm",children:"Guardar Botn"})]})]}),g.jsx("h4",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-6 mb-2",children:"Mis Atajos"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[j.map(me=>g.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden transition-all hover:border-zinc-300 dark:hover:border-zinc-700",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm truncate",children:me.label}),g.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[me.amount?`${n}${me.amount}`:"Var","  ",g.jsx("span",{className:"text-zinc-400",children:me.category})]})]}),g.jsx("button",{className:"p-2 text-zinc-300 hover:text-rose-500 transition-colors",onClick:()=>P(me.id),children:g.jsx(Hi,{size:16})})]},me.id)),j.length===0&&g.jsxs("div",{className:"col-span-full text-center py-6 text-zinc-400 text-sm border-2 border-dashed border-zinc-100 dark:border-zinc-800 rounded-xl",children:[g.jsx(ay,{className:"mx-auto mb-2 opacity-50"}),"No hay atajos configurados an."]})]})]}),C==="data"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-xl border border-amber-200 dark:border-amber-900/30",children:[g.jsxs("h4",{className:"text-amber-800 dark:text-amber-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx(qO,{size:18})," Zona de Peligro Nuclear"]}),g.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500/80 mb-4 leading-relaxed",children:"Aqu puedes gestionar tus datos brutos. Descarga una copia de seguridad peridicamente para evitar prdidas de informacin."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:$t,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:g.jsx(SQ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Exportar Copia de Seguridad"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Descargar archivo .json"})]})]})}),g.jsx("input",{type:"file",ref:Ze,onChange:it,accept:".json",className:"hidden"}),g.jsx("button",{onClick:He,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:g.jsx(YZ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Restaurar Copia"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Sobrescribir datos actuales"})]})]})}),g.jsx("div",{className:"h-4"}),g.jsx("button",{onClick:lt,disabled:pe,className:"w-full flex items-center justify-between p-4 bg-zinc-100 dark:bg-zinc-800 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`${pe?"animate-spin":""}`,children:g.jsx(wT,{size:18})}),g.jsx("span",{className:"font-bold text-sm",children:pe?W:"Buscar Actualizaciones"})]})}),g.jsxs("button",{onClick:()=>be(!0),className:"w-full flex items-center justify-center gap-2 p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl hover:bg-rose-100 dark:hover:bg-rose-900/30 transition-all font-bold text-sm tracking-wide border border-rose-200 dark:border-rose-900/50",children:[g.jsx(BO,{size:18}),"ELIMINAR TODOS LOS DATOS"]})]})]}),C==="changelog"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"text-center pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx("div",{className:"p-4 rounded-3xl bg-primary/5 border border-primary/10 shadow-[0_0_30px_-10px] shadow-primary/20 rotate-3 transition-transform hover:rotate-6",children:g.jsx(ST,{size:56})})}),g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white mb-2",children:"Novedades de Vaultly"}),g.jsx("p",{className:"text-zinc-500 text-sm",children:"Historial de actualizaciones y mejoras."})]}),g.jsxs("div",{className:"relative pl-8 border-l-2 border-zinc-100 dark:border-zinc-800 space-y-10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-emerald-500 border-4 border-white dark:border-zinc-950 shadow-sm"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-emerald-500 uppercase tracking-widest",children:"Versin Actual"}),g.jsx("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.7 - Dynamic Goals Rework"})]}),g.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 px-2 py-1 rounded-full font-bold",children:"Rework"})]}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Cuotas Dinmicas Reales:"})," Curva de pagos variable y ajuste proporcional por adelantos."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Botn Adelantar:"})," Inyecta capital extra directamente para reducir cuotas futuras."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Ahorro Dinmico Individual:"})," Switch () por meta para activar/desactivar la variabilidad."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Crditos y Deudas:"})," Modo Simple vs Avanzado (Amortizacin Francesa) y bsqueda inversa de tasas."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Mobile First:"})," Diseo 100% adaptativo en Metas y Crditos."]})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.6 - Smart Goals"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Metas Inteligentes:"})," Estrategias de recuperacin (Spread vs Catch-up)."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Indicadores de Salud:"})," Visualiza si vas adelantado o atrasado en tus ahorros."]}),g.jsx("li",{children:"Nueva interfaz de tarjetas premium."})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-primary border-4 border-white dark:border-zinc-950 shadow-sm"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.5.1 - Mobile Polish"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Navegacin Stack en Mvil:"})," Nueva experiencia nativa fluida."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Estilo de Pantalla Completa:"})," Mens ms amplios y legibles."]}),g.jsx("li",{children:"Correcciones de interfaz y estabilidad."})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.5 - Offline Unleashed"}),g.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full font-bold",children:"Major"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Modo Offline Real:"})," Usa la app sin internet."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Carga Instantnea:"})," Optimizada con carga local prioritaria."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Nuevo Icono PWA:"})," Identidad visual unificada."]})]}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.2 - Experience Update"}),g.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full font-bold",children:"Minor"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsx("li",{children:"Mejoras de rendimiento y estabilidad."}),g.jsx("li",{children:"Optimizacin de la interfaz de usuario en dispositivos mviles."}),g.jsx("li",{children:"Correccin de errores menores."})]}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.0 - Rebirth"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Diciembre 2025"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsx("li",{children:"Lanzamiento de mdulos: Metas, Fondos, Crditos."}),g.jsx("li",{children:"Simulador de Proyecciones financieras."}),g.jsx("li",{children:"Persistencia de datos en la nube (Firestore)."}),g.jsx("li",{children:"Autenticacin con Google."})]})]})]})]})]})]}),ce&&g.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-6 animate-in fade-in duration-200 backdrop-blur-sm rounded-3xl",children:g.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[g.jsx("div",{className:"animate-[bounce_1s_infinite]",children:g.jsx(CZ,{size:64,className:"text-rose-500 mx-auto"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-black text-rose-500 font-mono tracking-widest mb-2",children:"PELIGRO!"}),g.jsxs("p",{className:"text-zinc-400 text-sm font-mono leading-relaxed",children:["ESTA ACCIN ES IRREVERSIBLE.",g.jsx("br",{}),"SE ELIMINARN TODAS LAS TRANSACCIONES Y CONFIGURACIONES.",g.jsx("br",{}),"INTRODUZCA CDIGO DE LANZAMIENTO PARA CONFIRMAR."]})]}),g.jsx("div",{className:"flex justify-center gap-3 my-6",children:we.map((me,gt)=>g.jsx("input",{id:`nuclear-digit-${gt}`,type:"text",maxLength:1,value:me,onChange:Er=>rt(gt,Er.target.value),className:"w-12 h-16 bg-zinc-900 border-2 border-rose-500/50 focus:border-rose-500 text-rose-500 text-3xl font-mono text-center rounded-lg shadow-[0_0_15px_rgba(244,63,94,0.3)] focus:shadow-[0_0_25px_rgba(244,63,94,0.6)] outline-none transition-all"},gt))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{onClick:()=>{be(!1),_e(["","","",""])},className:"py-3 px-4 bg-zinc-800 text-zinc-300 font-mono font-bold rounded-lg hover:bg-zinc-700 transition-colors",children:"ABORTAR"}),g.jsx("button",{onClick:St,disabled:ze,className:"py-3 px-4 bg-rose-600 text-white font-mono font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-rose-600/50",children:ze?g.jsxs(g.Fragment,{children:[g.jsx(dZ,{className:"animate-spin",size:18})," DETONANDO"]}):g.jsxs(g.Fragment,{children:[g.jsx(BO,{size:18})," DETONAR"]})})]})]})})]})})},ree=()=>{const t=Js(),[e,n]=T.useState(!1),[r,i]=T.useState(!1),[s,l]=T.useState("expense"),[c,d]=T.useState(""),[f,p]=T.useState(""),[m,b]=T.useState(""),{addTransaction:w}=Or(),{categories:E}=kd("expense"),{categories:S}=kd("income"),{currency:_}=_r(),{presets:k}=o6();if(T.useEffect(()=>{e&&(p(""),d(""),b(""),l("expense"))},[e]),t.pathname!=="/")return null;const z=()=>{i(!0),setTimeout(()=>{n(!1),i(!1)},300)},I=()=>{const j=Number(c);!j||j<=0||(w({amount:j,type:s,category:f||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(s==="expense"?"Gasto Rpido":"Ingreso Rpido")}),z())};if(!e&&!r)return g.jsx("button",{onClick:()=>n(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:g.jsx(pa,{size:32,strokeWidth:2.5})});const D=s==="expense"?E:S;return g.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[g.jsx("div",{className:xe("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",r?"opacity-0":"opacity-100"),onClick:z}),g.jsxs("div",{className:xe("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",r?"translate-y-full":"translate-y-0"),children:[g.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:z,children:g.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),g.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[g.jsx("button",{onClick:z,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:g.jsx(z3,{size:28})}),g.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[k.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:k.map(j=>g.jsxs("button",{onClick:()=>{j.amount&&(w({amount:j.amount,type:j.type,category:j.category,date:new Date().toLocaleDateString("en-CA"),description:j.label}),z())},className:xe("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95 active:bg-emerald-50 dark:active:bg-emerald-900/20 active:border-emerald-500",f===j.category&&s===j.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[g.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${j.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:j.type==="expense"?g.jsx(ry,{size:16}):g.jsx(Ad,{size:16})}),g.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:j.label}),j.amount&&g.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[_,j.amount]})]},j.id))})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[g.jsxs("button",{onClick:()=>l("expense"),className:xe("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[g.jsx(ry,{size:20,strokeWidth:2.5})," Gasto"]}),g.jsxs("button",{onClick:()=>l("income"),className:xe("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",g.jsx(Ad,{size:20,strokeWidth:2.5})]})]}),g.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[g.jsx("span",{className:xe("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",c?"opacity-100":"opacity-30"),children:_}),g.jsx("input",{type:"number",inputMode:"decimal",value:c,onChange:j=>d(j.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),g.jsxs("div",{className:"mb-6 space-y-3",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),g.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[D.map(j=>g.jsx("button",{onClick:()=>p(j),className:xe("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",f===j?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:j},j)),g.jsx("button",{onClick:()=>p("Otros"),className:xe("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",f==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),g.jsx("div",{className:"mb-8",children:g.jsx("input",{type:"text",value:m,onChange:j=>b(j.target.value),placeholder:s==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),g.jsxs("button",{onClick:I,disabled:!c,className:xe("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",c?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[g.jsx(P3,{size:28,strokeWidth:3}),c?"Confirmar":"Ingresa un monto"]})]})]})]})},l6=T.createContext(void 0),iee=({children:t})=>{const{data:e,updateData:n}=wi(),r=e.projects||[],i=m=>{const b={id:crypto.randomUUID(),...m,status:"planning",startDate:(()=>{const w=new Date;return`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`})(),transactions:[],targetBudget:m.targetBudget||0};n({projects:[b,...r]})},s=(m,b)=>{const w=r.map(E=>E.id===m?{...E,...b}:E);n({projects:w})},l=m=>{const b=r.filter(w=>w.id!==m);n({projects:b})},c=(m,b)=>{const w=r.find(_=>_.id===m);if(!w)return;const E={id:crypto.randomUUID(),projectId:m,...b},S={...w,transactions:[E,...w.transactions||[]]};s(m,S)},d=(m,b,w)=>{const E=r.find(_=>_.id===m);if(!E)return;const S={...E,transactions:(E.transactions||[]).map(_=>_.id===b?{..._,...w}:_)};s(m,S)},f=(m,b)=>{const w=r.find(S=>S.id===m);if(!w)return;const E={...w,transactions:(w.transactions||[]).filter(S=>S.id!==b)};s(m,E)},p=m=>{const b=m.transactions||[],w=b.filter(I=>I.type==="income").reduce((I,D)=>I+D.amount,0),E=b.filter(I=>I.type==="expense").reduce((I,D)=>I+D.amount,0),S=w-E,_=m.targetBudget||m.budget||0,k=_>0?E/_*100:0,z=_>0?S/_*100:0;return{totalIncome:w,totalExpenses:E,currentBalance:S,percentConsumed:k,percentFunded:z}};return g.jsx(l6.Provider,{value:{projects:r,addProject:i,updateProject:s,deleteProject:l,addProjectTransaction:c,updateProjectTransaction:d,deleteProjectTransaction:f,getProjectStats:p},children:t})},AT=()=>{const t=T.useContext(l6);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},aee=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=_r(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:g.jsx(TZ,{size:48,className:"text-zinc-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),g.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[g.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:g.jsx(Xd,{size:48,className:"text-emerald-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),g.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[g.jsxs("li",{children:["Usa el botn ",g.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),g.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),g.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:g.jsx(ay,{size:48,className:"text-yellow-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),g.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[g.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),g.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:g.jsx(BQ,{size:48,className:"text-blue-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:g.jsx(MQ,{size:48,className:"text-cyan-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",g.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),g.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),g.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),g.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:g.jsx(gZ,{size:48,className:"text-rose-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[g.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",g.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",g.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",g.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[g.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),g.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),g.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),g.jsx("div",{className:"min-h-[160px]",children:l[n].content}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),g.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&g.jsx(bT,{size:16})]})]})]})]})})},see=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=Bm();return T.useEffect(()=>{i()},[i]),g.jsx(FM,{children:g.jsx($J,{children:g.jsx(iee,{children:g.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300 animate-enter-app",children:[g.jsxs("header",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[g.jsx(TT,{}),g.jsx("button",{className:"p-2 -mr-2 text-zinc-600 dark:text-zinc-400 active:bg-zinc-100 dark:active:bg-zinc-900 rounded-lg",onClick:()=>e(!0),children:g.jsx(QQ,{size:24})})]}),t&&g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm lg:hidden animate-in fade-in duration-200",onClick:()=>e(!1)}),g.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-[60] transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:g.jsx(qJ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),g.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[g.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v1.6 - Smart Goals"}),g.jsx(iD,{})]}),g.jsx(ree,{}),g.jsx(nee,{isOpen:n,onClose:()=>r(!1)}),g.jsx(aee,{}),g.jsx(N3,{position:"top-center"})]})})})})},Um=()=>{const{data:t,updateData:e}=wi(),n=t.goals||[],r=(_,k)=>{if(!_.history)return 0;const z=k.getMonth(),I=k.getFullYear();return _.history.reduce((D,j)=>{const[F,P]=j.date.split("-").map(Number);return F===I&&P-1===z?j.type==="deposit"?D+j.amount:D-j.amount:D},0)},i=_=>{const k={id:crypto.randomUUID(),..._,currentAmount:0,recoveryStrategy:"spread",history:[]};e({goals:[...n,k]})},s=(_,k)=>{const z=n.map(I=>I.id===_?{...I,...k}:I);e({goals:z})},l=_=>{const k=n.filter(z=>z.id!==_);e({goals:k})},c=(_,k,z)=>{const I=n.find(C=>C.id===_);if(!I)return;const D=new Date().toISOString().split("T")[0],j={id:crypto.randomUUID(),date:D,amount:k,type:"deposit",note:z||"Contribucin manual"},F=I.history?[...I.history,j]:[j],P={...I,currentAmount:(I.currentAmount||0)+k,lastContributionDate:D,history:F};s(_,P)},d=(_,k,z,I)=>{const D=n.find(R=>R.id===_);if(!D)return;const j=new Date().toISOString().split("T")[0],F={id:crypto.randomUUID(),date:j,amount:k,type:"withdrawal",note:z||"Retiro de fondos"},P=D.history?[...D.history,F]:[F],C={...D,currentAmount:Math.max(0,(D.currentAmount||0)-k),recoveryStrategy:I||D.recoveryStrategy,history:P};s(_,C)},f=(_,k)=>{c(_,k,"Cuota Mensual")},p=_=>{const k=Math.sin(_)*1e4;return k-Math.floor(k)},m=_=>{const k=new Date(_.startDate),z=new Date(_.deadline),I=Math.max(1,(z.getFullYear()-k.getFullYear())*12+(z.getMonth()-k.getMonth())+1),D=_.id.split("").reduce((F,P)=>F+P.charCodeAt(0),0),j=[];for(let F=0;F<I;F++){const C=.8+p(D+F)*.6;j.push(C)}return j},b=(_,k=new Date,z=0)=>{if(!_.deadline)return 0;const I=new Date(k),D=new Date(_.deadline),j=new Date(_.startDate),F=(_.currentAmount||0)+z,P=Math.max(0,_.targetAmount-F);if(P<=0)return 0;if(_.calculationMethod==="dynamic"){const ke=m(_),q=(I.getFullYear()-j.getFullYear())*12+(I.getMonth()-j.getMonth());if(q>=ke.length)return P;const ee=Math.max(0,q);let Z=0;for(let pe=ee;pe<ke.length;pe++)Z+=ke[pe];if(Z===0)return P;const ce=ke[ee],we=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,_e=P+we,ze=ce/Z,H=_e*ze;return Math.ceil(H*100)/100}const C=D.getFullYear()-I.getFullYear(),R=D.getMonth()-I.getMonth();let V=Math.max(1,C*12+R);if(_.recoveryStrategy==="spread"||!_.recoveryStrategy){const q=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,Z=(P+q)/V;return Math.ceil(Z*100)/100}const L=Math.max(1,(D.getFullYear()-j.getFullYear())*12+(D.getMonth()-j.getMonth())+1),$=Math.max(0,(I.getFullYear()-j.getFullYear())*12+(I.getMonth()-j.getMonth())),B=_.targetAmount/L,ve=B*$,K=I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear()?r(_,I):0,ie=F-K,re=Math.max(0,ve-ie),ye=B+re;return Math.ceil(ye*100)/100};return{goals:n,addGoal:i,updateGoal:s,deleteGoal:l,contributeToGoal:f,addContribution:c,withdraw:d,getMonthlyQuota:b,isGoalPaidThisMonth:_=>{const z=r(_,new Date),I=b(_);return z>=I*.95},getTotalSavingsAtDate:_=>n.reduce((k,z)=>{if(!z.history||z.history.length===0)return k;const I=new Date(_.getFullYear(),_.getMonth()+1,0),D=z.history.reduce((j,F)=>new Date(F.date)<=I?F.type==="deposit"?j+F.amount:j-F.amount:j,0);return k+Math.max(0,D)},0),getMonthsRemaining:_=>{if(!_.deadline)return 0;const k=new Date,z=new Date(_.deadline),I=z.getFullYear()-k.getFullYear(),D=z.getMonth()-k.getMonth();return Math.max(0,I*12+D)}}},Jd=()=>{const{data:t,updateData:e}=wi(),n=t.funds||[];return{funds:n,addFund:c=>{const d={id:crypto.randomUUID(),currentAmount:0,history:[],...c};e({funds:[...n,d]})},updateFund:(c,d)=>{const f=n.map(p=>p.id===c?{...p,...d}:p);e({funds:f})},deleteFund:c=>{const d=n.filter(f=>f.id!==c);e({funds:d})},addTransaction:(c,d,f,p)=>{const m=n.find(k=>k.id===c);if(!m)return;const b={id:crypto.randomUUID(),fundId:c,date:new Date().toISOString().split("T")[0],amount:d,type:f,note:p},w=f==="deposit"?(m.currentAmount||0)+d:(m.currentAmount||0)-d,E=m.history?[b,...m.history]:[b],S={...m,currentAmount:Math.max(0,w),history:E},_=n.map(k=>k.id===c?S:k);e({funds:_})}}},Fm=()=>{const{allTransactions:t}=Or(),{goals:e}=Um(),{funds:n}=Jd(),{selectedDate:r}=Ld(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),p=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),m=p.filter(k=>k.type==="income").reduce((k,z)=>k+z.amount,0),b=p.filter(k=>k.type==="expense").reduce((k,z)=>k+z.amount,0),E=(e||[]).reduce((k,z)=>{if(!z.history)return k;const I=z.history.reduce((D,j)=>new Date(j.date+"T12:00:00")<=d?j.type==="deposit"?D+j.amount:D-j.amount:D,0);return k+Math.max(0,I)},0),_=(n||[]).reduce((k,z)=>{if(!z.history)return k;const I=z.history.reduce((D,j)=>new Date(j.date+"T12:00:00")<=d?j.type==="deposit"?D+j.amount:D-j.amount:D,0);return k+Math.max(0,I)},0);return m-b-(E+_)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},Sv=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=Ld(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return g.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:g.jsx(XX,{size:16})}),g.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[g.jsx(O3,{size:16,className:"text-zinc-400"}),g.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),g.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:g.jsx(bT,{size:16})}),!l&&g.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},oee=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=Um(),{funds:s,addTransaction:l}=Jd(),{total:c}=Or("income"),{total:d}=Or("expense"),{currency:f}=_r(),p=n.reduce((I,D)=>I+(D.currentAmount||0),0),m=s.reduce((I,D)=>I+D.currentAmount,0),b=c-d-(p+m),[w,E]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[S,_]=T.useState(""),k=(I,D,j,F)=>{E({active:!0,type:I,targetId:D,targetName:j,targetType:F}),_("")},z=()=>{const I=Number(S);if(!(!I||I<=0)){if(w.type==="withdraw")if(w.targetType==="goal"){const D=n.find(j=>j.id===w.targetId);if(!D||D.currentAmount<I)return at.error("Fondos insuficientes en la meta.");i(w.targetId,I)}else{const D=s.find(j=>j.id===w.targetId);if(!D||D.currentAmount<I)return at.error("Fondos insuficientes en el fondo.");l(w.targetId,I,"withdraw","Retiro desde Gestin")}else{if(b<I)return at.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);w.targetType==="goal"?r(w.targetId,I,"Ingreso desde Gestin"):l(w.targetId,I,"deposit","Ingreso desde Gestin")}E({...w,active:!1})}};return g.jsx(es,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:w.active?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[g.jsx("button",{onClick:()=>E({...w,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),g.jsxs("div",{children:[g.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[w.type==="deposit"?"Ingresar en":"Retirar de"," ",w.targetName]}),g.jsx("p",{className:"text-sm text-zinc-500",children:w.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${w.targetType==="goal"?"meta":"fondo"}: ${f}${w.targetType==="goal"?n.find(I=>I.id===w.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(I=>I.id===w.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:S,onChange:I=>_(I.target.value),onKeyDown:I=>I.key==="Enter"&&z()})]}),g.jsx("button",{onClick:z,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${w.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):g.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(Ls,{size:14})," Metas de Ahorro"]}),n.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(I=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:I.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,I.currentAmount.toFixed(2)," ",g.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,I.targetAmount.toLocaleString()]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",I.id,I.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(UO,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",I.id,I.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(FO,{size:18})})]})]},I.id))]}),g.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(Wd,{size:14})," Fondos Independientes"]}),s.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(I=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:I.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,I.currentAmount.toFixed(2)]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",I.id,I.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(UO,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",I.id,I.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(FO,{size:18})})]})]},I.id))]})]})})},kT=()=>{const{data:t,updateData:e}=wi(),n=t.credits||[];return{credits:n,addCredit:d=>{const f={id:crypto.randomUUID(),...d,payments:[]};e({credits:[...n,f]})},updateCredit:(d,f)=>{const p=n.map(m=>m.id===d?{...m,...f}:m);e({credits:p})},deleteCredit:d=>{const f=n.filter(p=>p.id!==d);e({credits:f})},addPayment:(d,f,p)=>{const m=n.find(j=>j.id===d);if(!m){at.error("Error: Crdito no encontrado");return}const b={id:crypto.randomUUID(),creditId:d,date:new Date().toISOString().split("T")[0],amount:Number(f),note:p||""},w=m.payments?[b,...m.payments]:[b],E=w.reduce((j,F)=>j+F.amount,0),S=m.interestRate/100/12;let _=0,k=0;if(m.interestRate===0)_=m.principal/m.term,k=m.principal;else{const j=Number(m.principal),F=Number(m.term),P=Math.pow(1+S,F)-1;P===0?_=j/F:_=j*S*Math.pow(1+S,F)/P,k=_*F}const z=E>=k-1?"paid":"active",I={...m,payments:w,status:z},D=n.map(j=>j.id===d?I:j);try{e({credits:D})}catch(j){console.error("Failed to update credit payment",j),at.error("Error al guardar el historial del pago")}},getCreditStatus:d=>{const p=(d.payments||[]).reduce((S,_)=>S+_.amount,0),m=d.interestRate/100/12;let b=0,w=0;d.interestRate===0?(b=d.principal/d.term,w=d.principal):(b=d.principal*m*Math.pow(1+m,d.term)/(Math.pow(1+m,d.term)-1),w=b*d.term);const E=Math.max(0,w-p);return{totalPaid:p,totalToPay:w,remainingBalance:E,quota:b,progress:p/w*100}}}},lee=()=>{const{allTransactions:t}=Or(),{funds:e}=Jd(),{credits:n}=kT(),{projects:r}=AT();return{ledgerEntries:T.useMemo(()=>{let s=[];const l=t.map(c=>({id:`tx-${c.id}`,originalId:c.id,date:c.date,description:c.description,amount:c.amount,type:c.type,source:"transaction",category:c.category,icon:c.category==="Food"?"utensils":"dollar"}));return s=[...s,...l],e.forEach(c=>{if(c.history){const d=c.history.map(f=>({id:`fund-${f.id}`,originalId:f.id,date:f.date,description:f.type==="deposit"?`Ingreso a Fondo: ${c.name}`:`Retiro de Fondo: ${c.name}`,amount:f.amount,type:f.type==="deposit"?"expense":"income",source:"fund",category:"Ahorro / Fondos",fundName:c.name,icon:c.icon}));s=[...s,...d]}}),n.forEach(c=>{if(c.payments){const d=c.payments.map(f=>({id:`credit-${f.id}`,originalId:f.id,date:f.date,description:`Pago Crdito: ${c.name}`,amount:f.amount,type:"expense",source:"credit",category:"Deudas / Crditos",creditName:c.name}));s=[...s,...d]}}),r.forEach(c=>{if(c.transactions){const d=c.transactions.map(f=>({id:`proj-${f.id}`,originalId:f.id,date:f.date,description:`Proyecto [${c.name}]: ${f.description}`,amount:f.amount,type:f.type,source:"project",category:f.category||"Proyecto",projectName:c.name}));s=[...s,...d]}}),s.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime())},[t,e,n,r])}},cee=({isOpen:t,onClose:e})=>{const{ledgerEntries:n}=lee(),{selectedDate:r}=Ld(),{currency:i}=_r(),[s,l]=T.useState(""),[c,d]=T.useState("all"),p=n.filter(_=>{if(c!=="all"&&_.source!==c)return!1;const k=s.toLowerCase();return _.description.toLowerCase().includes(k)||_.category.toLowerCase().includes(k)||_.fundName&&_.fundName.toLowerCase().includes(k)||_.creditName&&_.creditName.toLowerCase().includes(k)||_.projectName&&_.projectName.toLowerCase().includes(k)}).filter(_=>{const[k,z]=_.date.split("-").map(Number);return z===r.getMonth()+1&&k===r.getFullYear()}),m=p.filter(_=>_.type==="income").reduce((_,k)=>_+k.amount,0),b=p.filter(_=>_.type==="expense").reduce((_,k)=>_+k.amount,0),w=m-b,E=_=>{switch(_){case"fund":return g.jsx(om,{size:14,className:"text-amber-500"});case"credit":return g.jsx(xQ,{size:14,className:"text-purple-500"});case"project":return g.jsx(yT,{size:14,className:"text-blue-500"});default:return g.jsx(Xd,{size:14,className:"text-zinc-500"})}},S=_=>{switch(_){case"fund":return"Fondo";case"credit":return"Crdito";case"project":return"Proyecto";default:return"Billetera"}};return g.jsx(es,{isOpen:t,onClose:e,title:"Libro Contable Unificado",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(Sv,{})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["all","transaction","fund","credit","project"].map(_=>g.jsx("button",{onClick:()=>d(_),className:xe("px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border",c===_?"bg-zinc-900 border-zinc-900 text-white dark:bg-white dark:border-white dark:text-zinc-900":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-400"),children:_==="all"?"Todos":_==="transaction"?"Transacciones":_==="fund"?"Fondos":_==="credit"?"Crditos":"Proyectos"},_))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-4 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Entradas"}),g.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold text-lg",children:["+",i,m.toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Flujo Neto"}),g.jsxs("p",{className:xe("font-mono font-bold text-lg",w>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"),children:[w>=0?"+":"",i,Math.abs(w).toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Salidas"}),g.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold text-lg",children:["-",i,b.toFixed(2)]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(_Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, categora, fondo...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20",value:s,onChange:_=>l(_.target.value)})]}),g.jsx("div",{className:"space-y-2 min-h-[300px] max-h-[50vh] overflow-y-auto pr-1",children:p.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-400 opacity-60",children:[g.jsx(CQ,{size:48,className:"mb-4"}),g.jsx("p",{className:"italic text-sm",children:"No se encontraron movimientos."})]}):p.map(_=>g.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 rounded-2xl transition-all shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center shrink-0",_.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:_.type==="income"?g.jsx(tE,{size:18}):g.jsx(RX,{size:18})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-zinc-100 dark:bg-zinc-800 text-[10px] font-bold text-zinc-500 uppercase tracking-wide",children:[E(_.source),S(_.source)]}),g.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:new Date(_.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm truncate pr-2",children:_.description}),g.jsx("p",{className:"text-xs text-zinc-500 truncate",children:_.category})]})]}),g.jsxs("span",{className:xe("font-mono font-bold text-sm whitespace-nowrap",_.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[_.type==="income"?"+":"-",i,_.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},_.id))})]})})},uee=()=>{const{selectedDate:t}=Ld(),{transactions:e}=Or(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=Um(),{funds:c}=Jd(),{scheduled:d}=Bm(),{currency:f}=_r(),[p,m]=T.useState(!1),[b,w]=T.useState(!1),E=e.filter(C=>{const[R,V]=C.date.split("-").map(Number);return V===t.getMonth()+1&&R===t.getFullYear()}),S=E.filter(C=>C.type==="income").reduce((C,R)=>C+R.amount,0),_=E.filter(C=>C.type==="expense").reduce((C,R)=>C+R.amount,0),k=r(t),z=c.reduce((C,R)=>C+R.currentAmount,0),I=k+z,D=C=>{const R=i(C),V=s(C);return R?g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),g.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",V.toFixed(2)]}),g.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:j}=Fm(),F=[{label:"Saldo Disponible",amount:j,icon:Xd,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:I,icon:Ls,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:S,icon:_T,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:_,icon:aE,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}],P=d.filter(C=>C.active).map(C=>{const R=new Date,V=R.getDate(),L=C.lastProcessedDate?new Date(C.lastProcessedDate+"T12:00:00"):null;if(L&&L.getMonth()===R.getMonth()&&L.getFullYear()===R.getFullYear())return null;const B=C.dayOfMonth-V;let ve="normal";return B<0?ve="overdue":B<=3&&(ve="urgent"),{...C,diff:B,status:ve}}).filter(C=>C!==null).sort((C,R)=>C.dayOfMonth-R.dayOfMonth);return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>w(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:g.jsx(VX,{size:20})}),g.jsx(Sv,{})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:F.map(C=>g.jsxs("div",{onClick:()=>{C.label==="Ahorro Total"&&m(!0)},className:`${C.bg} border ${C.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${C.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[C.label,C.label==="Ahorro Total"&&g.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),g.jsx(C.icon,{size:20,className:C.color})]}),g.jsxs("p",{className:`text-3xl font-mono font-bold ${C.color}`,children:[f,C.amount.toFixed(2)]})]},C.label))}),P.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 flex items-center gap-2",children:[g.jsx(hQ,{size:20,className:"text-zinc-400"}),"Ingresos y Gastos Programados"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(C=>g.jsxs("div",{className:xe("p-4 rounded-2xl border flex items-center justify-between shadow-sm",C.status==="overdue"?"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/30":C.status==="urgent"?"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-900/30":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center font-bold text-xs",C.status==="overdue"?"bg-rose-100 text-rose-600 dark:bg-rose-900/20":C.status==="urgent"?"bg-amber-100 text-amber-600 dark:bg-amber-900/20":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"),children:C.dayOfMonth}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.description}),g.jsx("p",{className:"text-xs text-zinc-500 capitalize",children:C.category})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:xe("font-mono font-bold text-sm",C.type==="income"?"text-emerald-500":"text-rose-500"),children:[C.type==="income"?"+":"-",f,C.amount]}),g.jsx("p",{className:xe("text-[10px] font-bold uppercase tracking-wider",C.status==="overdue"?"text-rose-500":C.status==="urgent"?"text-amber-500":"text-zinc-400"),children:C.status==="overdue"?"Vencido":C.status==="urgent"?"Pronto":"Pendiente"})]})]},C.id))})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[g.jsx(Ls,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?g.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):g.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(C=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:g.jsx(Ls,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:C.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:[l(C)," meses restantes"]})]})]}),D(C)]},C.id)),n.length>3&&g.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",g.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",g.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),g.jsx(oee,{isOpen:p,onClose:()=>m(!1)}),g.jsx(cee,{isOpen:b,onClose:()=>w(!1)})]})},c6=({type:t,onSubmit:e,categories:n,onAddCategory:r,initialData:i})=>{const{currency:s}=_r(),{addScheduled:l}=Bm(),[c,d]=T.useState(i?.amount?.toString()||""),[f,p]=T.useState(i?.category||n[0]||""),[m,b]=T.useState(i?.description||""),[w,E]=T.useState(i?.date||new Date().toISOString().split("T")[0]);T.useEffect(()=>{i&&(d(i.amount.toString()),p(i.category),b(i.description),E(i.date))},[i]);const[S,_]=T.useState(!1),[k,z]=T.useState(new Date().getDate()),[I,D]=T.useState(!1),[j,F]=T.useState(""),P=R=>{R.preventDefault(),!(!c||!f)&&(S?l({type:t,amount:Number(c),category:f,description:m,dayOfMonth:Number(k)}):e({amount:Number(c),type:t,category:f,description:m,date:w}),d(""),b(""),_(!1))},C=()=>{j.trim()&&(r(j.trim()),p(j.trim()),F(""),D(!1))};return g.jsxs("form",{onSubmit:P,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[g.jsxs("h3",{className:xe("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[g.jsx(pa,{size:20}),i?"Editar":S?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:s}),g.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:c,onChange:R=>d(R.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),g.jsxs("div",{className:xe("p-4 rounded-xl border transition-all duration-300",S?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>_(!S),children:[g.jsx("div",{className:xe("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",S?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:g.jsx("div",{className:xe("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",S?"translate-x-5":"translate-x-0")})}),g.jsx("div",{className:"flex flex-col",children:g.jsx("span",{className:xe("text-sm font-bold transition-colors",S?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:S?"Transaccin Recurrente":"Pago nico"})})]}),S&&g.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[g.jsx("div",{className:"text-right mr-2",children:g.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),g.jsxs("div",{className:"relative",children:[g.jsx(nE,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),g.jsx("input",{type:"number",min:"1",max:"31",value:k,onChange:R=>z(Number(R.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),S&&g.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[g.jsx(vZ,{size:14,className:"mt-0.5"}),g.jsxs("p",{children:["Se agregar automticamente cada da ",g.jsx("strong",{children:k})," del mes. Te avisaremos 2 das antes."]})]})]}),!S&&g.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[g.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),g.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:w,onChange:R=>E(R.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:I?g.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[g.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:j,onChange:R=>F(R.target.value),onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),C())}),g.jsx("button",{type:"button",onClick:C,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:g.jsx(pa,{size:20})}),g.jsx("button",{type:"button",onClick:()=>D(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):g.jsxs(g.Fragment,{children:[n.map(R=>g.jsx("button",{type:"button",onClick:()=>p(R),className:xe("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",f===R?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:R},R)),g.jsxs("button",{type:"button",onClick:()=>D(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[g.jsx(pa,{size:12})," Nueva"]})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsx(BZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),g.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:R=>b(R.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),g.jsxs("button",{type:"submit",className:xe("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[g.jsx(xZ,{size:20}),i?"Guardar Cambios":S?"Programar Recurrencia":"Guardar Transaccin"]})]})},u6=({transactions:t,onDelete:e,onEdit:n})=>t.length===0?g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(r=>g.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:r.date}),g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="income"?g.jsx(Ad,{size:16,className:"text-emerald-600"}):g.jsx(ry,{size:16,className:"text-rose-600"}),g.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[r.description,r.isRecurring&&g.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:r.category||"General"})}),g.jsxs("td",{className:xe("px-6 py-4 text-right font-mono font-bold text-base",r.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[r.type==="expense"?"-":"+","$",r.amount.toFixed(2)]}),g.jsxs("td",{className:"px-6 py-4 text-center",children:[n&&g.jsx("button",{onClick:()=>n(r),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100 mr-2",title:"Editar",children:g.jsx(Vm,{size:18})}),g.jsx("button",{onClick:()=>e(r.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:g.jsx(Hi,{size:18})})]})]},r.id))})]})})});var dee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NT(t){if(typeof t!="string")return!1;var e=dee;return e.includes(t)}var fee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hee=new Set(fee);function d6(t){return typeof t!="string"?!1:hee.has(t)}function f6(t){return typeof t=="string"&&t.startsWith("data-")}function ml(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(d6(n)||f6(n))&&(e[n]=t[n]);return e}function CT(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ml(e)}return typeof t=="object"&&!Array.isArray(t)?ml(t):null}function Gi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(d6(n)||f6(n)||NT(n))&&(e[n]=t[n]);return e}var mee=["children","width","height","viewBox","className","style","title","desc"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(null,arguments)}function pee(t,e){if(t==null)return{};var n,r,i=gee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var h6=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,p=pee(t,mee),m=s||{width:r,height:i,x:0,y:0},b=xe("recharts-surface",l);return T.createElement("svg",oE({},Gi(p),{className:b,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),yee=["children","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function vee(t,e){if(t==null)return{};var n,r,i=bee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hs=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=vee(t,yee),s=xe("recharts-layer",r);return T.createElement("g",lE({className:s},Gi(i),{ref:e}),n)}),xee=T.createContext(null);function Ft(t){return function(){return t}}const m6=Math.cos,oy=Math.sin,xa=Math.sqrt,ly=Math.PI,Tv=2*ly,cE=Math.PI,uE=2*cE,ec=1e-6,wee=uE-ec;function p6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _ee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Eee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p6:_ee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,p=l-e,m=c-n,b=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>ec)if(!(Math.abs(m*d-f*p)>ec)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=i-c,S=d*d+f*f,_=w*w+E*E,k=Math.sqrt(S),z=Math.sqrt(b),I=s*Math.tan((cE-Math.acos((S+b-_)/(2*k*z)))/2),D=I/z,j=I/k;Math.abs(D-1)>ec&&this._append`L${e+D*p},${n+D*m}`,this._append`A${s},${s},0,0,${+(m*w>p*E)},${this._x1=e+j*d},${this._y1=n+j*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,p=n+d,m=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ec||Math.abs(this._y1-p)>ec)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%uE+uE),b>wee?this._append`A${r},${r},0,1,${m},${e-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:b>ec&&this._append`A${r},${r},0,${+(b>=cE)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function IT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Eee(e)}function OT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g6(t){this._context=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Av(t){return new g6(t)}function y6(t){return t[0]}function v6(t){return t[1]}function b6(t,e){var n=Ft(!0),r=null,i=Av,s=null,l=IT(c);t=typeof t=="function"?t:t===void 0?y6:Ft(t),e=typeof e=="function"?e:e===void 0?v6:Ft(e);function c(d){var f,p=(d=OT(d)).length,m,b=!1,w;for(r==null&&(s=i(w=l())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(m,f,d),+e(m,f,d));if(w)return s=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ft(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function qg(t,e,n){var r=null,i=Ft(!0),s=null,l=Av,c=null,d=IT(f);t=typeof t=="function"?t:t===void 0?y6:Ft(+t),e=typeof e=="function"?e:Ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?v6:Ft(+n);function f(m){var b,w,E,S=(m=OT(m)).length,_,k=!1,z,I=new Array(S),D=new Array(S);for(s==null&&(c=l(z=d())),b=0;b<=S;++b){if(!(b<S&&i(_=m[b],b,m))===k)if(k=!k)w=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=b-1;E>=w;--E)c.point(I[E],D[E]);c.lineEnd(),c.areaEnd()}k&&(I[b]=+t(_,b,m),D[b]=+e(_,b,m),c.point(r?+r(_,b,m):I[b],n?+n(_,b,m):D[b]))}if(z)return c=null,z+""||null}function p(){return b6().defined(i).curve(l).context(s)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ft(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ft(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ft(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ft(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ft(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),f):l},f.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),f):s},f}class x6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function See(t){return new x6(t,!0)}function Tee(t){return new x6(t,!1)}const jT={draw(t,e){const n=xa(e/ly);t.moveTo(n,0),t.arc(0,0,n,0,Tv)}},Aee={draw(t,e){const n=xa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},w6=xa(1/3),kee=w6*2,Nee={draw(t,e){const n=xa(e/kee),r=n*w6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cee={draw(t,e){const n=xa(e),r=-n/2;t.rect(r,r,n,n)}},Iee=.8908130915292852,_6=oy(ly/10)/oy(7*ly/10),Oee=oy(Tv/10)*_6,jee=-m6(Tv/10)*_6,Pee={draw(t,e){const n=xa(e*Iee),r=Oee*n,i=jee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Tv*s/5,c=m6(l),d=oy(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},V1=xa(3),zee={draw(t,e){const n=-xa(e/(V1*3));t.moveTo(0,n*2),t.lineTo(-V1*n,-n),t.lineTo(V1*n,-n),t.closePath()}},Vi=-.5,Bi=xa(3)/2,dE=1/xa(12),Ree=(dE/2+1)*3,Mee={draw(t,e){const n=xa(e/Ree),r=n/2,i=n*dE,s=r,l=n*dE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Vi*r-Bi*i,Bi*r+Vi*i),t.lineTo(Vi*s-Bi*l,Bi*s+Vi*l),t.lineTo(Vi*c-Bi*d,Bi*c+Vi*d),t.lineTo(Vi*r+Bi*i,Vi*i-Bi*r),t.lineTo(Vi*s+Bi*l,Vi*l-Bi*s),t.lineTo(Vi*c+Bi*d,Vi*d-Bi*c),t.closePath()}};function Dee(t,e){let n=null,r=IT(i);t=typeof t=="function"?t:Ft(t||jT),e=typeof e=="function"?e:Ft(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ft(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ft(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cy(){}function uy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lee(t){return new E6(t)}function S6(t){this._context=t}S6.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vee(t){return new S6(t)}function T6(t){this._context=t}T6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bee(t){return new T6(t)}function A6(t){this._context=t}A6.prototype={areaStart:cy,areaEnd:cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Uee(t){return new A6(t)}function JO(t){return t<0?-1:1}function ej(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(JO(s)+JO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function tj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function B1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function dy(t){this._context=t}dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B1(this,this._t0,tj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,B1(this,tj(this,n=ej(this,t,e)),n);break;default:B1(this,this._t0,n=ej(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k6(t){this._context=new N6(t)}(k6.prototype=Object.create(dy.prototype)).point=function(t,e){dy.prototype.point.call(this,e,t)};function N6(t){this._context=t}N6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Fee(t){return new dy(t)}function qee(t){return new k6(t)}function C6(t){this._context=t}C6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=nj(t),i=nj(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nj(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $ee(t){return new C6(t)}function kv(t,e){this._context=t,this._t=e}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Hee(t){return new kv(t,.5)}function Gee(t){return new kv(t,0)}function Kee(t){return new kv(t,1)}function jc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Yee(t,e){return t[e]}function Wee(t){const e=[];return e.key=t,e}function Xee(){var t=Ft([]),e=fE,n=jc,r=Yee;function i(s){var l=Array.from(t.apply(this,arguments),Wee),c,d=l.length,f=-1,p;for(const m of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(m,l[c].key,f,s)]).data=m;for(c=0,p=OT(e(l));c<d;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ft(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ft(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fE:typeof s=="function"?s:Ft(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??jc,i):n},i}function Qee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}jc(t,e)}}function Zee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}jc(t,e)}}function Jee(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,b=p[r-1][1]||0,w=(m-b)/2,E=0;E<c;++E){var S=t[e[E]],_=S[r][1]||0,k=S[r-1][1]||0;w+=_-k}d+=m,f+=w*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,jc(t,e)}}var U1={},F1={},rj;function ete(){return rj||(rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(F1)),F1}var q1={},ij;function I6(){return ij||(ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(q1)),q1}var $1={},aj;function PT(){return aj||(aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})($1)),$1}var H1={},G1={},sj;function tte(){return sj||(sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(G1)),G1}var oj;function zT(){return oj||(oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tte(),n=PT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const m=i[c];f?m==="\\"&&c+1<l?(c++,d+=i[c]):m===f?f="":d+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,s.push(d),d=""):d+=m:m==="["?(p=!0,d&&(s.push(d),d="")):m==="."?d&&(s.push(d),d=""):d+=m,c++}return d&&s.push(d),s}t.toPath=r})(H1)),H1}var lj;function RT(){return lj||(lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ete(),n=I6(),r=PT(),i=zT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function l(c,d,f){if(d.length===0)return f;let p=c;for(let m=0;m<d.length;m++){if(p==null||e.isUnsafeProperty(d[m]))return f;p=p[d[m]]}return p===void 0?f:p}t.get=s})(U1)),U1}var K1,cj;function nte(){return cj||(cj=1,K1=RT().get),K1}var rte=nte();const Nd=os(rte);var ite=4;function nl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ite,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+nl(c)+s:i+s},"")}var pi=t=>t===0?0:t>0?1:-1,is=t=>typeof t=="number"&&t!=+t,Gs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!is(t),as=t=>$e(t)||typeof t=="string",ate=0,lm=t=>{var e=++ate;return"".concat(t||"").concat(e)},ya=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var s;if(Gs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return is(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},O6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function fr(t,e,n){return $e(t)&&$e(e)?nl(t+n*(e-t)):e}function ste(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Nd(r,e))===n)}var Xn=t=>t===null||typeof t>"u",qm=t=>Xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ote(t){return t!=null}function $m(){}var lte=["type","size","sizeType"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(null,arguments)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fte(t,e){if(t==null)return{};var n,r,i=hte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j6={symbolCircle:jT,symbolCross:Aee,symbolDiamond:Nee,symbolSquare:Cee,symbolStar:Pee,symbolTriangle:zee,symbolWye:Mee},mte=Math.PI/180,pte=t=>{var e="symbol".concat(qm(t));return j6[e]||jT},gte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*mte;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yte=(t,e)=>{j6["symbol".concat(qm(t))]=e},P6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=fte(t,lte),s=dj(dj({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=pte(l),w=Dee().type(b).size(gte(n,r,l)),E=w();if(E!==null)return E},{className:d,cx:f,cy:p}=s,m=Gi(s);return $e(f)&&$e(p)&&$e(n)?T.createElement("path",hE({},m,{className:xe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};P6.registerSymbol=yte;var z6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,vte=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{NT(i)&&(r[i]=(s=>n[i](n,s)))}),r},bte=(t,e,n)=>r=>(t(e,n,r),null),MT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];NT(i)&&typeof s=="function"&&(r||(r={}),r[i]=bte(s,e,n))}),r};function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(t,e){var n=xte({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var Y1={},W1={},hj;function Ste(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(W1)),W1}var X1={},mj;function R6(){return mj||(mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(X1)),X1}var Q1={},Z1={},J1={},pj;function Tte(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(J1)),J1}var gj;function DT(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Z1)),Z1}var ew={},yj;function Ate(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ew)),ew}var vj;function kte(){return vj||(vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DT(),n=Ate();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Q1)),Q1}var tw={},nw={},bj;function Nte(){return bj||(bj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(nw)),nw}var rw={},iw={},aw={},sw={},xj;function M6(){return xj||(xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(sw)),sw}var ow={},wj;function D6(){return wj||(wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ow)),ow}var lw={},_j;function L6(){return _j||(_j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(lw)),lw}var Ej;function Cte(){return Ej||(Ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6(),n=D6(),r=L6();function i(p,m,b){return typeof b!="function"?i(p,m,()=>{}):s(p,m,function w(E,S,_,k,z,I){const D=b(E,S,_,k,z,I);return D!==void 0?!!D:s(E,S,w,I)},new Map)}function s(p,m,b,w){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,b,w);case"function":return Object.keys(m).length>0?s(p,{...m},b,w):r.eq(p,m);default:return e.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,b,w){if(m==null)return!0;if(Array.isArray(m))return d(p,m,b,w);if(m instanceof Map)return c(p,m,b,w);if(m instanceof Set)return f(p,m,b,w);const E=Object.keys(m);if(p==null||n.isPrimitive(p))return E.length===0;if(E.length===0)return!0;if(w?.has(m))return w.get(m)===p;w?.set(m,p);try{for(let S=0;S<E.length;S++){const _=E[S];if(!n.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!b(p[_],m[_],_,p,m,w))return!1}return!0}finally{w?.delete(m)}}function c(p,m,b,w){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of m.entries()){const _=p.get(E);if(b(_,S,E,p,m,w)===!1)return!1}return!0}function d(p,m,b,w){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<m.length;S++){const _=m[S];let k=!1;for(let z=0;z<p.length;z++){if(E.has(z))continue;const I=p[z];let D=!1;if(b(I,_,S,p,m,w)&&(D=!0),D){E.add(z),k=!0;break}}if(!k)return!1}return!0}function f(p,m,b,w){return m.size===0?!0:p instanceof Set?d([...p],[...m],b,w):!1}t.isMatchWith=i,t.isSetMatch=f})(aw)),aw}var Sj;function V6(){return Sj||(Sj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(iw)),iw}var cw={},uw={},dw={},Tj;function Ite(){return Tj||(Tj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(dw)),dw}var fw={},Aj;function B6(){return Aj||(Aj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(fw)),fw}var hw={},kj;function U6(){return kj||(kj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",b="[object ArrayBuffer]",w="[object Object]",E="[object Error]",S="[object DataView]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",z="[object Uint16Array]",I="[object Uint32Array]",D="[object BigUint64Array]",j="[object Int8Array]",F="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",R="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=R,t.float64ArrayTag=V,t.functionTag=m,t.int16ArrayTag=F,t.int32ArrayTag=P,t.int8ArrayTag=j,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=z,t.uint32ArrayTag=I,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=k})(hw)),hw}var mw={},Nj;function Ote(){return Nj||(Nj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(mw)),mw}var Cj;function F6(){return Cj||(Cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ite(),n=B6(),r=U6(),i=D6(),s=Ote();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,b,w=new Map,E=void 0){const S=E?.(p,m,b,w);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const _=new Array(p.length);w.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,b,w,E);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;w.set(p,_);for(const[k,z]of p)_.set(k,c(z,k,b,w,E));return _}if(p instanceof Set){const _=new Set;w.set(p,_);for(const k of p)_.add(c(k,void 0,b,w,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,b,w,E);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,_),d(_,p,b,w,E),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return w.set(p,_),d(_,p,b,w,E),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return w.set(p,_),d(_,p,b,w,E),_}if(p instanceof Error){const _=new p.constructor;return w.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,d(_,p,b,w,E),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return w.set(p,_),d(_,p,b,w,E),_}if(p instanceof Number){const _=new Number(p.valueOf());return w.set(p,_),d(_,p,b,w,E),_}if(p instanceof String){const _=new String(p.valueOf());return w.set(p,_),d(_,p,b,w,E),_}if(typeof p=="object"&&f(p)){const _=Object.create(Object.getPrototypeOf(p));return w.set(p,_),d(_,p,b,w,E),_}return p}function d(p,m,b=p,w,E){const S=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<S.length;_++){const k=S[_],z=Object.getOwnPropertyDescriptor(p,k);(z==null||z.writable)&&(p[k]=c(m[k],k,b,w,E))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(uw)),uw}var Ij;function jte(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(cw)),cw}var Oj;function Pte(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V6(),n=jte();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(rw)),rw}var pw={},gw={},yw={},jj;function zte(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F6(),n=U6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const p=s?.(l,c,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(yw)),yw}var Pj;function Rte(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zte();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(gw)),gw}var vw={},bw={},zj;function q6(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(bw)),bw}var xw={},Rj;function Mte(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(xw)),xw}var Mj;function Dte(){return Mj||(Mj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I6(),n=q6(),r=Mte(),i=zT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const m=d[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=s})(vw)),vw}var Dj;function Lte(){return Dj||(Dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V6(),n=PT(),r=Rte(),i=RT(),s=Dte();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,c);return p===void 0?s.has(f,c):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(pw)),pw}var Lj;function Vte(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6(),n=Nte(),r=Pte(),i=Lte();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(tw)),tw}var Vj;function Bte(){return Vj||(Vj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ste(),n=R6(),r=kte(),i=Vte();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(Y1)),Y1}var ww,Bj;function Ute(){return Bj||(Bj=1,ww=Bte().uniqBy),ww}var Fte=Ute();const Uj=os(Fte);function qte(t,e,n){return e===!0?Uj(t,n):typeof e=="function"?Uj(t,e):t}var _w={exports:{}},Ew={},Sw={exports:{}},Tw={};var Fj;function $te(){if(Fj)return Tw;Fj=1;var t=Dd();function e(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,b){var w=b(),E=r({inst:{value:w,getSnapshot:b}}),S=E[0].inst,_=E[1];return s(function(){S.value=w,S.getSnapshot=b,d(S)&&_({inst:S})},[m,w,b]),i(function(){return d(S)&&_({inst:S}),m(function(){d(S)&&_({inst:S})})},[m]),l(w),w}function d(m){var b=m.getSnapshot;m=m.value;try{var w=b();return!n(m,w)}catch{return!0}}function f(m,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Tw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Tw}var qj;function Hte(){return qj||(qj=1,Sw.exports=$te()),Sw.exports}var $j;function Gte(){if($j)return Ew;$j=1;var t=Dd(),e=Hte();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Ew.useSyncExternalStoreWithSelector=function(f,p,m,b,w){var E=s(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function k(F){if(!z){if(z=!0,I=F,F=b(F),w!==void 0&&S.hasValue){var P=S.value;if(w(P,F))return D=P}return D=F}if(P=D,r(I,F))return P;var C=b(F);return w!==void 0&&w(P,C)?(I=F,P):(I=F,D=C)}var z=!1,I,D,j=m===void 0?null:m;return[function(){return k(p())},j===null?void 0:function(){return k(j())}]},[p,m,b,w]);var _=i(f,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),d(_),_},Ew}var Hj;function Kte(){return Hj||(Hj=1,_w.exports=Gte()),_w.exports}var Yte=Kte(),LT=T.createContext(null),Wte=t=>t,vn=()=>{var t=T.useContext(LT);return t?t.store.dispatch:Wte},S0=()=>{},Xte=()=>S0,Qte=(t,e)=>t===e;function Ye(t){var e=T.useContext(LT);return Yte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Xte,e?e.store.getState:S0,e?e.store.getState:S0,e?t:S0,Qte)}function Zte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Jte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ene(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Gj=t=>Array.isArray(t)?t:[t];function tne(t){const e=Array.isArray(t[0])?t[0]:t;return ene(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nne(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var rne=class{constructor(t){this.value=t}deref(){return this.value}},ine=typeof WeakRef<"u"?WeakRef:rne,ane=0,Kj=1;function $g(){return{s:ane,v:void 0,o:null,p:null}}function $6(t,e={}){let n=$g();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let m=0,b=d;m<b;m++){const w=arguments[m];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(w);S===void 0?(c=$g(),E.set(w,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(w);S===void 0?(c=$g(),E.set(w,c)):c=S}}const f=c;let p;if(c.s===Kj)p=c.v;else if(p=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new ine(p):p}return f.s=Kj,f.v=p,p}return l.clearCache=()=>{n=$g(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function sne(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Zte(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:m,memoizeOptions:b=[],argsMemoize:w=$6,argsMemoizeOptions:E=[]}=p,S=Gj(b),_=Gj(E),k=tne(i),z=m(function(){return s++,f.apply(null,arguments)},...S),I=w(function(){l++;const j=nne(k,arguments);return c=z.apply(null,j),c},..._);return Object.assign(I,{resultFunc:f,memoizedResultFunc:z,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var le=sne($6),one=Object.assign((t,e=le)=>{Jte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>one}),Aw={},kw={},Nw={},Yj;function lne(){return Yj||(Yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(Nw)),Nw}var Cw={},Iw={},Wj;function H6(){return Wj||(Wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Iw)),Iw}var Xj;function cne(){return Xj||(Xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Cw)),Cw}var Qj;function une(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lne(),n=cne(),r=zT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const f=(w,E)=>{let S=w;for(let _=0;_<E.length&&S!=null;++_)S=S[E[_]];return S},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:f(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?f(E,w):typeof E=="object"?E[w]:E,m=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:m.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let S=0;S<m.length;S++){const _=e.compareValues(w.criteria[S],E.criteria[S],c[S]);if(_!==0)return _}return 0}).map(w=>w.original)}t.orderBy=i})(kw)),kw}var Ow={},Zj;function dne(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Ow)),Ow}var jw={},Jj;function G6(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q6(),n=DT(),r=M6(),i=L6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(jw)),jw}var eP;function fne(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=une(),n=dne(),r=G6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Aw)),Aw}var Pw,tP;function hne(){return tP||(tP=1,Pw=fne().sortBy),Pw}var mne=hne();const Nv=os(mne);var K6=t=>t.legend.settings,pne=t=>t.legend.size,gne=t=>t.legend.payload;le([gne,K6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Nv(r,n):r});var Hg=1;function yne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Hg||Math.abs(l.left-e.left)>Hg||Math.abs(l.top-e.top)>Hg||Math.abs(l.width-e.width)>Hg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vne=typeof Symbol=="function"&&Symbol.observable||"@@observable",nP=vne,zw=()=>Math.random().toString(36).substring(7).split("").join("."),bne={INIT:`@@redux/INIT${zw()}`,REPLACE:`@@redux/REPLACE${zw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zw()}`},fy=bne;function VT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Y6(t,e,n){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cr(1));return n(Y6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((_,k)=>{l.set(k,_)}))}function p(){if(d)throw new Error(cr(3));return i}function m(_){if(typeof _!="function")throw new Error(cr(4));if(d)throw new Error(cr(5));let k=!0;f();const z=c++;return l.set(z,_),function(){if(k){if(d)throw new Error(cr(6));k=!1,f(),l.delete(z),s=null}}}function b(_){if(!VT(_))throw new Error(cr(7));if(typeof _.type>"u")throw new Error(cr(8));if(typeof _.type!="string")throw new Error(cr(17));if(d)throw new Error(cr(9));try{d=!0,i=r(i,_)}finally{d=!1}return(s=l).forEach(z=>{z()}),_}function w(_){if(typeof _!="function")throw new Error(cr(10));r=_,b({type:fy.REPLACE})}function E(){const _=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(cr(11));function z(){const D=k;D.next&&D.next(p())}return z(),{unsubscribe:_(z)}},[nP](){return this}}}return b({type:fy.INIT}),{dispatch:b,subscribe:m,getState:p,replaceReducer:w,[nP]:E}}function xne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fy.INIT})>"u")throw new Error(cr(12));if(typeof n(void 0,{type:fy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function W6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{xne(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],b=n[m],w=l[m],E=b(w,c);if(typeof E>"u")throw c&&c.type,new Error(cr(14));f[m]=E,d=d||E!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function hy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function wne(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(cr(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=hy(...c)(i.dispatch),{...i,dispatch:s}}}function X6(t){return VT(t)&&"type"in t&&typeof t.type=="string"}var Q6=Symbol.for("immer-nothing"),rP=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function ua(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gi=Object,Cd=gi.getPrototypeOf,my="constructor",Cv="prototype",mE="configurable",py="enumerable",T0="writable",cm="value",Ks=t=>!!t&&!!t[jr];function va(t){return t?Z6(t)||Ov(t)||!!t[rP]||!!t[my]?.[rP]||jv(t)||Pv(t):!1}var _ne=gi[Cv][my].toString(),iP=new WeakMap;function Z6(t){if(!t||!BT(t))return!1;const e=Cd(t);if(e===null||e===gi[Cv])return!0;const n=gi.hasOwnProperty.call(e,my)&&e[my];if(n===Object)return!0;if(!Xu(n))return!1;let r=iP.get(n);return r===void 0&&(r=Function.toString.call(n),iP.set(n,r)),r===_ne}function Iv(t,e,n=!0){Hm(t)===0?(n?Reflect.ownKeys(t):gi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Hm(t){const e=t[jr];return e?e.type_:Ov(t)?1:jv(t)?2:Pv(t)?3:0}var aP=(t,e,n=Hm(t))=>n===2?t.has(e):gi[Cv].hasOwnProperty.call(t,e),pE=(t,e,n=Hm(t))=>n===2?t.get(e):t[e],gy=(t,e,n,r=Hm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Ene(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ov=Array.isArray,jv=t=>t instanceof Map,Pv=t=>t instanceof Set,BT=t=>typeof t=="object",Xu=t=>typeof t=="function",Rw=t=>typeof t=="boolean";function Sne(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ns=t=>t.copy_||t.base_,UT=t=>t.modified_?t.copy_:t.base_;function gE(t,e){if(jv(t))return new Map(t);if(Pv(t))return new Set(t);if(Ov(t))return Array[Cv].slice.call(t);const n=Z6(t);if(e===!0||e==="class_only"&&!n){const r=gi.getOwnPropertyDescriptors(t);delete r[jr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[T0]===!1&&(c[T0]=!0,c[mE]=!0),(c.get||c.set)&&(r[l]={[mE]:!0,[T0]:!0,[py]:c[py],[cm]:t[l]})}return gi.create(Cd(t),r)}else{const r=Cd(t);if(r!==null&&n)return{...t};const i=gi.create(r);return gi.assign(i,t)}}function FT(t,e=!1){return zv(t)||Ks(t)||!va(t)||(Hm(t)>1&&gi.defineProperties(t,{set:Gg,add:Gg,clear:Gg,delete:Gg}),gi.freeze(t),e&&Iv(t,(n,r)=>{FT(r,!0)},!1)),t}function Tne(){ua(2)}var Gg={[cm]:Tne};function zv(t){return t===null||!BT(t)?!0:gi.isFrozen(t)}var yy="MapSet",yE="Patches",sP="ArrayMethods",J6={};function Pc(t){const e=J6[t];return e||ua(0,t),e}var oP=t=>!!J6[t],um,e9=()=>um,Ane=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oP(yy)?Pc(yy):void 0,arrayMethodsPlugin_:oP(sP)?Pc(sP):void 0});function lP(t,e){e&&(t.patchPlugin_=Pc(yE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vE(t){bE(t),t.drafts_.forEach(kne),t.drafts_=null}function bE(t){t===um&&(um=t.parent_)}var cP=t=>um=Ane(um,t);function kne(t){const e=t[jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[jr].modified_&&(vE(e),ua(4)),va(t)&&(t=dP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[jr].base_,t,e)}else t=dP(e,n);return Nne(e,t,!0),vE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q6?t:void 0}function dP(t,e){if(zv(e))return e;const n=e[jr];if(!n)return vy(e,t.handledSet_,t);if(!Rv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);r9(n,t)}return n.copy_}function Nne(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FT(e,n)}function t9(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Rv=(t,e)=>t.scope_===e,Cne=[];function n9(t,e,n,r){const i=Ns(t),s=t.type_;if(r!==void 0&&pE(i,r,s)===e){gy(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Iv(i,(d,f)=>{if(Ks(f)){const p=c.get(f)||[];p.push(d),c.set(f,p)}})}const l=t.draftLocations_.get(e)??Cne;for(const c of l)gy(i,c,n,s)}function Ine(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Rv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=UT(s);n9(t,s.draft_??s,l,n),r9(s,i)})}function r9(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}t9(t)}}function One(t,e,n){const{scope_:r}=t;if(Ks(n)){const i=n[jr];Rv(i,r)&&i.callbacks_.push(function(){A0(t);const l=UT(i);n9(t,n,l,e)})}else va(n)&&t.callbacks_.push(function(){const s=Ns(t);t.type_===3?s.has(n)&&vy(n,r.handledSet_,r):pE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&vy(pE(t.copy_,e,t.type_),r.handledSet_,r)})}function vy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(t)||e.has(t)||!va(t)||zv(t)||(e.add(t),Iv(t,(r,i)=>{if(Ks(i)){const s=i[jr];if(Rv(s,n)){const l=UT(s);gy(t,r,l,t.type_),t9(s)}}else va(i)&&vy(i,e,n)})),t}function jne(t,e){const n=Ov(t),r={type_:n?1:0,scope_:e?e.scope_:e9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=by;n&&(i=[r],s=dm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var by={get(t,e){if(e===jr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ns(t);if(!aP(i,e,t.type_))return Pne(t,i,e);const s=i[e];if(t.finalized_||!va(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Sne(e))return s;if(s===Mw(t.base_,e)){A0(t);const l=t.type_===1?+e:e,c=wE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Ns(t)},ownKeys(t){return Reflect.ownKeys(Ns(t))},set(t,e,n){const r=i9(Ns(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Mw(Ns(t),e),s=i?.[jr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Ene(n,i)&&(n!==void 0||aP(t.base_,e,t.type_)))return!0;A0(t),xE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),One(t,e,n)),!0},deleteProperty(t,e){return A0(t),Mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),xE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ns(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[T0]:!0,[mE]:t.type_!==1||e!=="length",[py]:r[py],[cm]:n[e]}},defineProperty(){ua(11)},getPrototypeOf(t){return Cd(t.base_)},setPrototypeOf(){ua(12)}},dm={};for(let t in by){let e=by[t];dm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}dm.deleteProperty=function(t,e){return dm.set.call(this,t,e,void 0)};dm.set=function(t,e,n){return by.set.call(this,t[0],e,n,t[0])};function Mw(t,e){const n=t[jr];return(n?Ns(n):t)[e]}function Pne(t,e,n){const r=i9(e,n);return r?cm in r?r[cm]:r.get?.call(t.draft_):void 0}function i9(t,e){if(!(e in t))return;let n=Cd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cd(n)}}function xE(t){t.modified_||(t.modified_=!0,t.parent_&&xE(t.parent_))}function A0(t){t.copy_||(t.assigned_=new Map,t.copy_=gE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Xu(n)&&!Xu(r)){const l=r;r=n;const c=this;return function(f=l,...p){return c.produce(f,m=>r.call(this,m,...p))}}Xu(r)||ua(6),i!==void 0&&!Xu(i)&&ua(7);let s;if(va(n)){const l=cP(this),c=wE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?vE(l):bE(l)}return lP(l,i),uP(s,l)}else if(!n||!BT(n)){if(s=r(n),s===void 0&&(s=n),s===Q6&&(s=void 0),this.autoFreeze_&&FT(s,!0),i){const l=[],c=[];Pc(yE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else ua(1,n)},this.produceWithPatches=(n,r)=>{if(Xu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},Rw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Rw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Rw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){va(e)||ua(8),Ks(e)&&(e=ga(e));const n=cP(this),r=wE(n,e,void 0);return r[jr].isManual_=!0,bE(n),r}finishDraft(e,n){const r=e&&e[jr];(!r||!r.isManual_)&&ua(9);const{scope_:i}=r;return lP(i,n),uP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Pc(yE).applyPatches_;return Ks(e)?i(e,n):this.produce(e,s=>i(s,n))}};function wE(t,e,n,r){const[i,s]=jv(e)?Pc(yy).proxyMap_(e,n):Pv(e)?Pc(yy).proxySet_(e,n):jne(e,n);return(n?.scope_??e9()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Ine(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function ga(t){return Ks(t)||ua(10,t),a9(t)}function a9(t){if(!va(t)||zv(t))return t;const e=t[jr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=gE(t,!0);return Iv(n,(i,s)=>{gy(n,i,a9(s))},r),e&&(e.finalized_=!1),n}var Rne=new zne,s9=Rne.produce;function o9(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Mne=o9(),Dne=o9,Lne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hy:hy.apply(null,arguments)};function Ki(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>X6(r)&&r.type===t,n}var l9=class Ch extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ch.prototype)}static get[Symbol.species](){return Ch}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ch(...e[0].concat(this)):new Ch(...e.concat(this))}};function fP(t){return va(t)?s9(t,()=>{}):t}function Kg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Vne(t){return typeof t=="boolean"}var Bne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new l9;return n&&(Vne(n)?l.push(Mne):l.push(Dne(n.extraArgument))),l},c9="RTK_autoBatch",Zt=()=>t=>({payload:t,meta:{[c9]:!0}}),hP=t=>e=>{setTimeout(e,t)},u9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hP(10):t.type==="callback"?t.queueNotification:hP(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),b=r.subscribe(m);return c.add(p),()=>{b(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[c9],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},Une=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new l9(t);return r&&i.push(u9(typeof r=="object"?r:void 0)),i};function Fne(t){const e=Bne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(VT(n))c=W6(n);else throw new Error(vi(1));let d;typeof r=="function"?d=r(e):d=e();let f=hy;i&&(f=Lne({trace:!1,...typeof i=="object"&&i}));const p=wne(...d),m=Une(p);let b=typeof l=="function"?l(m):m();const w=f(...b);return Y6(c,s,w)}function d9(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(vi(28));if(c in e)throw new Error(vi(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function qne(t){return typeof t=="function"}function $ne(t,e){let[n,r,i]=d9(e),s;if(qne(t))s=()=>fP(t());else{const c=fP(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Ks(p)){const w=m(p,d);return w===void 0?p:w}else{if(va(p))return s9(p,b=>m(b,d));{const b=m(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},c)}return l.getInitialState=s,l}var Hne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gne=(t=21)=>{let e="",n=t;for(;n--;)e+=Hne[Math.random()*64|0];return e},Kne=Symbol.for("rtk-slice-createasyncthunk");function Yne(t,e){return`${t}/${e}`}function Wne({creators:t}={}){const e=t?.asyncThunk?.[Kne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(vi(11));const l=(typeof r.reducers=="function"?r.reducers(Qne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,D){const j=typeof I=="string"?I:I.type;if(!j)throw new Error(vi(12));if(j in d.sliceCaseReducersByType)throw new Error(vi(13));return d.sliceCaseReducersByType[j]=D,f},addMatcher(I,D){return d.sliceMatchers.push({matcher:I,reducer:D}),f},exposeAction(I,D){return d.actionCreators[I]=D,f},exposeCaseReducer(I,D){return d.sliceCaseReducersByName[I]=D,f}};c.forEach(I=>{const D=l[I],j={reducerName:I,type:Yne(i,I),createNotation:typeof r.reducers=="function"};Jne(D)?tre(j,D,f,e):Zne(j,D,f)});function p(){const[I={},D=[],j=void 0]=typeof r.extraReducers=="function"?d9(r.extraReducers):[r.extraReducers],F={...I,...d.sliceCaseReducersByType};return $ne(r.initialState,P=>{for(let C in F)P.addCase(C,F[C]);for(let C of d.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of D)P.addMatcher(C.matcher,C.reducer);j&&P.addDefaultCase(j)})}const m=I=>I,b=new Map,w=new WeakMap;let E;function S(I,D){return E||(E=p()),E(I,D)}function _(){return E||(E=p()),E.getInitialState()}function k(I,D=!1){function j(P){let C=P[I];return typeof C>"u"&&D&&(C=Kg(w,j,_)),C}function F(P=m){const C=Kg(b,D,()=>new WeakMap);return Kg(C,P,()=>{const R={};for(const[V,L]of Object.entries(r.selectors??{}))R[V]=Xne(L,P,()=>Kg(w,P,_),D);return R})}return{reducerPath:I,getSelectors:F,get selectors(){return F(j)},selectSlice:j}}const z={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...k(s),injectInto(I,{reducerPath:D,...j}={}){const F=D??s;return I.inject({reducerPath:F,reducer:S},j),{...z,...k(F,!0)}}};return z}}function Xne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Wr=Wne();function Qne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Zne({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!ere(r))throw new Error(vi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ki(t,l):Ki(t))}function Jne(t){return t._reducerDefinitionType==="asyncThunk"}function ere(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tre({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Yg,pending:c||Yg,rejected:d||Yg,settled:f||Yg})}function Yg(){}var nre="task",f9="listener",h9="completed",qT="cancelled",rre=`task-${qT}`,ire=`task-${h9}`,_E=`${f9}-${qT}`,are=`${f9}-${h9}`,Mv=class{constructor(t){this.code=t,this.message=`${nre} ${qT} (reason: ${t})`}name="TaskAbortError";message},$T=(t,e)=>{if(typeof t!="function")throw new TypeError(vi(32))},xy=()=>{},m9=(t,e=xy)=>(t.catch(e),t),p9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vc=t=>{if(t.aborted)throw new Mv(t.reason)};function g9(t,e){let n=xy;return new Promise((r,i)=>{const s=()=>i(new Mv(t.reason));if(t.aborted){s();return}n=p9(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=xy})}var sre=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Mv?"cancelled":"rejected",error:n}}finally{e?.()}},wy=t=>e=>m9(g9(t,e).then(n=>(vc(t),n))),y9=t=>{const e=wy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:id}=Object,mP={},Dv="listenerMiddleware",ore=(t,e)=>{const n=r=>p9(t,()=>r.abort(t.reason));return(r,i)=>{$T(r);const s=new AbortController;n(s);const l=sre(async()=>{vc(t),vc(s.signal);const c=await r({pause:wy(s.signal),delay:y9(s.signal),signal:s.signal});return vc(s.signal),c},()=>s.abort(ire));return i?.autoJoin&&e.push(l.catch(xy)),{result:wy(t)(l),cancel(){s.abort(rre)}}}},lre=(t,e)=>{const n=async(r,i)=>{vc(e);let s=()=>{};const c=[new Promise((d,f)=>{let p=t({predicate:r,effect:(m,b)=>{b.unsubscribe(),d([m,b.getState(),b.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await g9(e,Promise.race(c));return vc(e),d}finally{s()}};return(r,i)=>m9(n(r,i))},v9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ki(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vi(21));return $T(s),{predicate:i,type:e,effect:s}},b9=id(t=>{const{type:e,predicate:n,effect:r}=v9(t);return{id:Gne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>b9}),pP=(t,e)=>{const{type:n,effect:r,predicate:i}=v9(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},EE=t=>{t.pending.forEach(e=>{e.abort(_E)})},cre=(t,e)=>()=>{for(const n of e.keys())EE(n);t.clear()},gP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},x9=id(Ki(`${Dv}/add`),{withTypes:()=>x9}),ure=Ki(`${Dv}/removeAll`),w9=id(Ki(`${Dv}/remove`),{withTypes:()=>w9}),dre=(...t)=>{console.error(`${Dv}/error`,...t)},Gm=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},i=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:l=dre}=t;$T(l);const c=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E?.cancelActive&&EE(w)}),d=w=>{const E=pP(e,w)??b9(w);return c(E)};id(d,{withTypes:()=>d});const f=w=>{const E=pP(e,w);return E&&(E.unsubscribe(),w.cancelActive&&EE(E)),!!E};id(f,{withTypes:()=>f});const p=async(w,E,S,_)=>{const k=new AbortController,z=lre(d,k.signal),I=[];try{w.pending.add(k),r(w),await Promise.resolve(w.effect(E,id({},S,{getOriginalState:_,condition:(D,j)=>z(D,j).then(Boolean),take:z,delay:y9(k.signal),pause:wy(k.signal),extra:s,signal:k.signal,fork:ore(k.signal,I),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((D,j,F)=>{D!==k&&(D.abort(_E),F.delete(D))})},cancel:()=>{k.abort(_E),w.pending.delete(k)},throwIfCancelled:()=>{vc(k.signal)}})))}catch(D){D instanceof Mv||gP(l,D,{raisedBy:"effect"})}finally{await Promise.all(I),k.abort(are),i(w),w.pending.delete(k)}},m=cre(e,n);return{middleware:w=>E=>S=>{if(!X6(S))return E(S);if(x9.match(S))return d(S.payload);if(ure.match(S)){m();return}if(w9.match(S))return f(S.payload);let _=w.getState();const k=()=>{if(_===mP)throw new Error(vi(23));return _};let z;try{if(z=E(S),e.size>0){const I=w.getState(),D=Array.from(e.values());for(const j of D){let F=!1;try{F=j.predicate(S,I,_)}catch(P){F=!1,gP(l,P,{raisedBy:"predicate"})}F&&p(j,S,w,k)}}}finally{_=mP}return z},startListening:d,stopListening:f,clearListeners:m}};function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var fre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_9=Wr({name:"chartLayout",initialState:fre,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:hre,setLayout:mre,setChartSize:pre,setScale:gre}=_9.actions,yre=_9.reducer;function E9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function sn(t){return Number.isFinite(t)}function pl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e,n){return Xn(t)||Xn(e)?n:as(e)?Nd(t,e,n):typeof e=="function"?e(t):n}var wre=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&$e(t[s]))return Qu(Qu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&$e(t[l]))return Qu(Qu({},t),{},{[l]:t[l]+(i||0)})}return t},Fc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",vP=1e-4,_re=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-vP,s=Math.max(r[0],r[1])+vP,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Ere=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(i[0]=n),(!$e(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Sre=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var p=f[1],m=f[0],b=is(p)?m:p;b>=0?(f[0]=s,f[1]=s+b,s=p):(f[0]=l,f[1]=l+b,l=p)}}}},Tre=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=is(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},Are={sign:Sre,expand:Qee,none:jc,silhouette:Zee,wiggle:Jee,positive:Tre},kre=(t,e,n)=>{var r,i=(r=Are[n])!==null&&r!==void 0?r:jc,s=Xee().keys(e).value((c,d)=>Number(mr(c,d,0))).order(fE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,p)=>{var m=mr(t[p],e[d],0);Array.isArray(m)&&m.length===2&&$e(m[0])&&$e(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function Nre(t){return t==null?void 0:String(t)}var bP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=mr(s,e.dataKey,e.scale.domain()[l]);return Xn(c)?null:e.scale(c)-i/2+r},Cre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Ire=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},Ore=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],jre=(t,e,n)=>{if(t!=null)return Ore(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var p=E9(f,e,n),m=Ire(p);return!sn(m[0])||!sn(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},xP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Nv(e,p=>p.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function _P(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Qu(Qu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function S9(t,e){if(t)return String(t);if(typeof e=="string")return e}var Pre=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},zre=(t,e)=>e==="centric"?t.angle:t.radius,no=t=>t.layout.width,ro=t=>t.layout.height,Rre=t=>t.layout.scale,T9=t=>t.layout.margin,Lv=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Vv=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Mre="data-recharts-item-index",Dre="data-recharts-item-id",Km=60;function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ure=t=>t.brush.height;function Fre(t){var e=Vv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Km;return n+i}return n},0)}function qre(t){var e=Vv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Km;return n+i}return n},0)}function $re(t){var e=Lv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Hre(t){var e=Lv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qn=le([no,ro,T9,Ure,Fre,qre,$re,Hre,K6,pne],(t,e,n,r,i,s,l,c,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Wg(Wg({},m),p),w=b.bottom;b.bottom+=r,b=wre(b,d,f);var E=t-b.left-b.right,S=e-b.top-b.bottom;return Wg(Wg({brushBottom:w},b),{},{width:Math.max(E,0),height:Math.max(S,0)})}),Gre=le(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),HT=le(no,ro,(t,e)=>({x:0,y:0,width:t,height:e})),Kre=T.createContext(null),Si=()=>T.useContext(Kre)!=null,Bv=t=>t.brush,Uv=le([Bv,Qn,T9],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:$e(t.width)?t.width:e.width})),Dw={},Lw={},Vw={},SP;function Yre(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{f&&p(),S()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{E(),l=void 0,c=null},_=()=>{p()},k=function(...z){if(i?.aborted)return;l=this,c=z;const I=b==null;w(),d&&I&&p()};return k.schedule=w,k.cancel=S,k.flush=_,i?.addEventListener("abort",S,{once:!0}),k}t.debounce=e})(Vw)),Vw}var TP;function Wre(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const b=e.debounce(function(...S){p=r.apply(this,S),m=null},i,{edges:f}),w=function(...S){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=r.apply(this,S),m=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},E=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=E,w}t.debounce=n})(Lw)),Lw}var AP;function Xre(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(Dw)),Dw}var Bw,kP;function Qre(){return kP||(kP=1,Bw=Xre().throttle),Bw}var Zre=Qre();const Jre=os(Zre);var NP=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},A9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Gs(r)?t:Number(r),d=Gs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},eie={width:0,height:0,overflow:"visible"},tie={width:0,overflowX:"visible"},nie={height:0,overflowY:"visible"},rie={},iie=t=>{var{width:e,height:n}=t,r=Gs(e),i=Gs(n);return r&&i?eie:r?tie:i?nie:rie};function aie(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k9=T.createContext({width:-1,height:-1});function cie(t){return pl(t.width)&&pl(t.height)}function N9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return cie(i)?T.createElement(k9.Provider,{value:i},e):null}var GT=()=>T.useContext(k9),uie=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:p=0,id:m,className:b,onResize:w,style:E={}}=t,S=T.useRef(null),_=T.useRef();_.current=w,T.useImperativeHandle(e,()=>S.current);var[k,z]=T.useState({containerWidth:r.width,containerHeight:r.height}),I=T.useCallback((C,R)=>{z(V=>{var L=Math.round(C),$=Math.round(R);return V.containerWidth===L&&V.containerHeight===$?V:{containerWidth:L,containerHeight:$}})},[]);T.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return $m;var C=$=>{var B,{width:ve,height:Ae}=$[0].contentRect;I(ve,Ae),(B=_.current)===null||B===void 0||B.call(_,ve,Ae)};p>0&&(C=Jre(C,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),{width:V,height:L}=S.current.getBoundingClientRect();return I(V,L),R.observe(S.current),()=>{R.disconnect()}},[I,p]);var{containerWidth:D,containerHeight:j}=k;NP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:P}=A9(D,j,{width:i,height:s,aspect:n,maxHeight:d});return NP(F!=null&&F>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,P,i,s,l,c,n),T.createElement("div",{id:m?"".concat(m):void 0,className:xe("recharts-responsive-container",b),style:IP(IP({},E),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:S},T.createElement("div",{style:iie({width:i,height:s})},T.createElement(N9,{width:F,height:P},f)))}),C9=T.forwardRef((t,e)=>{var n=GT();if(pl(n.width)&&pl(n.height))return t.children;var{width:r,height:i}=aie({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=A9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return $e(s)&&$e(l)?T.createElement(N9,{width:s,height:l},t.children):T.createElement(uie,SE({},t,{width:r,height:i,ref:e}))});function I9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Fv=()=>{var t,e=Si(),n=Ye(Gre),r=Ye(Uv),i=(t=Ye(Bv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},die={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fie=()=>{var t;return(t=Ye(Qn))!==null&&t!==void 0?t:die},hie=()=>Ye(no),mie=()=>Ye(ro),jt=t=>t.layout.layoutType,Ym=()=>Ye(jt),pie=()=>{var t=Ym();return t!==void 0},qv=t=>{var e=vn(),n=Si(),{width:r,height:i}=t,s=GT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&pl(l)&&pl(c)&&e(pre({width:l,height:c}))},[e,n,l,c]),null},O9=Symbol.for("immer-nothing"),OP=Symbol.for("immer-draftable"),_i=Symbol.for("immer-state");function da(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fm=Object.getPrototypeOf;function Id(t){return!!t&&!!t[_i]}function zc(t){return t?j9(t)||Array.isArray(t)||!!t[OP]||!!t.constructor?.[OP]||Wm(t)||Hv(t):!1}var gie=Object.prototype.constructor.toString(),jP=new WeakMap;function j9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=jP.get(n);return r===void 0&&(r=Function.toString.call(n),jP.set(n,r)),r===gie}function Ey(t,e,n=!0){$v(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $v(t){const e=t[_i];return e?e.type_:Array.isArray(t)?1:Wm(t)?2:Hv(t)?3:0}function TE(t,e){return $v(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function P9(t,e,n){const r=$v(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function yie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Wm(t){return t instanceof Map}function Hv(t){return t instanceof Set}function tc(t){return t.copy_||t.base_}function AE(t,e){if(Wm(t))return new Map(t);if(Hv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=j9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_i];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(fm(t),r)}else{const r=fm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KT(t,e=!1){return Gv(t)||Id(t)||!zc(t)||($v(t)>1&&Object.defineProperties(t,{set:Xg,add:Xg,clear:Xg,delete:Xg}),Object.freeze(t),e&&Object.values(t).forEach(n=>KT(n,!0))),t}function vie(){da(2)}var Xg={value:vie};function Gv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var bie={};function Rc(t){const e=bie[t];return e||da(0,t),e}var hm;function z9(){return hm}function xie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PP(t,e){e&&(Rc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kE(t){NE(t),t.drafts_.forEach(wie),t.drafts_=null}function NE(t){t===hm&&(hm=t.parent_)}function zP(t){return hm=xie(hm,t)}function wie(t){const e=t[_i];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function RP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_i].modified_&&(kE(e),da(4)),zc(t)&&(t=Sy(e,t),e.parent_||Ty(e,t)),e.patches_&&Rc("Patches").generateReplacementPatches_(n[_i].base_,t,e.patches_,e.inversePatches_)):t=Sy(e,n,[]),kE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==O9?t:void 0}function Sy(t,e,n){if(Gv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[_i];if(!i)return Ey(e,(s,l)=>MP(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ty(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),Ey(l,(d,f)=>MP(t,i,s,d,f,n,c),r),Ty(t,s,!1),n&&t.patches_&&Rc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function MP(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Gv(i);if(!(c&&!l)){if(Id(i)){const d=s&&e&&e.type_!==3&&!TE(e.assigned_,r)?s.concat(r):void 0,f=Sy(t,i,d);if(P9(n,r,f),Id(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(zc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Sy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Wm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ty(t,i)}}}function Ty(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KT(e,n)}function _ie(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:z9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=YT;n&&(i=[r],s=mm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var YT={get(t,e){if(e===_i)return t;const n=tc(t);if(!TE(n,e))return Eie(t,n,e);const r=n[e];return t.finalized_||!zc(r)?r:r===Uw(t.base_,e)?(Fw(t),t.copy_[e]=IE(r,t)):r},has(t,e){return e in tc(t)},ownKeys(t){return Reflect.ownKeys(tc(t))},set(t,e,n){const r=R9(tc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Uw(tc(t),e),s=i?.[_i];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yie(n,i)&&(n!==void 0||TE(t.base_,e)))return!0;Fw(t),CE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Fw(t),CE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=tc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){da(11)},getPrototypeOf(t){return fm(t.base_)},setPrototypeOf(){da(12)}},mm={};Ey(YT,(t,e)=>{mm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mm.deleteProperty=function(t,e){return mm.set.call(this,t,e,void 0)};mm.set=function(t,e,n){return YT.set.call(this,t[0],e,n,t[0])};function Uw(t,e){const n=t[_i];return(n?tc(n):t)[e]}function Eie(t,e,n){const r=R9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function R9(t,e){if(!(e in t))return;let n=fm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=fm(n)}}function CE(t){t.modified_||(t.modified_=!0,t.parent_&&CE(t.parent_))}function Fw(t){t.copy_||(t.copy_=AE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Sie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&da(6),r!==void 0&&typeof r!="function"&&da(7);let i;if(zc(e)){const s=zP(this),l=IE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?kE(s):NE(s)}return PP(s,r),RP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===O9&&(i=void 0),this.autoFreeze_&&KT(i,!0),r){const s=[],l=[];Rc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else da(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zc(t)||da(8),Id(t)&&(t=Tie(t));const e=zP(this),n=IE(t,void 0);return n[_i].isManual_=!0,NE(e),n}finishDraft(t,e){const n=t&&t[_i];(!n||!n.isManual_)&&da(9);const{scope_:r}=n;return PP(r,e),RP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rc("Patches").applyPatches_;return Id(t)?r(t,e):this.produce(t,i=>r(i,e))}};function IE(t,e){const n=Wm(t)?Rc("MapSet").proxyMap_(t,e):Hv(t)?Rc("MapSet").proxySet_(t,e):_ie(t,e);return(e?e.scope_:z9()).drafts_.push(n),n}function Tie(t){return Id(t)||da(10,t),M9(t)}function M9(t){if(!zc(t)||Gv(t))return t;const e=t[_i];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=AE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=AE(t,!0);return Ey(n,(i,s)=>{P9(n,i,M9(s))},r),e&&(e.finalized_=!1),n}var Aie=new Sie;Aie.produce;var kie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},D9=Wr({name:"legend",initialState:kie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ga(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Zt()},removeLegendPayload:{reducer(t,e){var n=ga(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Zt()}}}),{setLegendSize:Ave,setLegendSettings:kve,addLegendPayload:Nie,replaceLegendPayload:Cie,removeLegendPayload:Iie}=D9.actions,Oie=D9.reducer;function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rie(t){return Array.isArray(t)&&as(t[0])&&as(t[1])?t.join(" ~ "):t}var Mie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:b=!1}=t,w=()=>{if(s&&s.length){var j={padding:0,margin:0},F=(c?Nv(s,c):s).map((P,C)=>{if(P.type==="none")return null;var R=P.formatter||l||Rie,{value:V,name:L}=P,$=V,B=L;if(R){var ve=R(V,L,P,C,s);if(Array.isArray(ve))[$,B]=ve;else if(ve!=null)$=ve;else return null}var Ae=qw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Ae},as(B)?T.createElement("span",{className:"recharts-tooltip-item-name"},B):null,as(B)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},$),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:j},F)}return null},E=qw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=qw({margin:0},i),_=!Xn(p),k=_?p:"",z=xe("recharts-default-tooltip",d),I=xe("recharts-tooltip-label",f);_&&m&&s!==void 0&&s!==null&&(k=m(p,s));var D=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",OE({className:z,style:E},D),T.createElement("p",{className:I,style:S},T.isValidElement(k)?k:"".concat(k)),w())},gh="recharts-tooltip-wrapper",Die={visibility:"hidden"};function Lie(t){var{coordinate:e,translateX:n,translateY:r}=t;return xe(gh,{["".concat(gh,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(gh,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(gh,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(gh,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function LP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&$e(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?p:m;var b=d[r];if(b==null)return 0;if(l[r]){var w=p,E=b;return w<E?Math.max(m,b):Math.max(p,b)}if(f==null)return 0;var S=m+c,_=b+f;return S>_?Math.max(p,b):Math.max(m,b)}function Vie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Bie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,p,m;return l.height>0&&l.width>0&&n?(p=LP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=LP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Vie({translateX:p,translateY:m,useTranslate3d:c})):f=Die,{cssProperties:f,cssClasses:Lie({translateX:p,translateY:m,coordinate:n})}}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){jE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jE(t,e,n){return(e=Uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qie extends T.PureComponent{constructor(){super(...arguments),jE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:m,useTranslate3d:b,viewBox:w,wrapperStyle:E,lastBoundingBox:S,innerRef:_,hasPortalFromProps:k}=this.props,{cssClasses:z,cssProperties:I}=Bie({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:w}),D=k?{}:Qg(Qg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),j=Qg(Qg({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:j,ref:_},s)}}var L9=()=>{var t;return(t=Ye(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){$ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ie(t,e,n){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FP={curveBasisClosed:Vee,curveBasisOpen:Bee,curveBasis:Lee,curveBumpX:See,curveBumpY:Tee,curveLinearClosed:Uee,curveLinear:Av,curveMonotoneX:Fee,curveMonotoneY:qee,curveNatural:$ee,curveStep:Hee,curveStepAfter:Kee,curveStepBefore:Gee},Ay=t=>sn(t.x)&&sn(t.y),qP=t=>t.base!=null&&Ay(t.base)&&Ay(t),yh=t=>t.x,vh=t=>t.y,Kie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(qm(t));return(n==="curveMonotone"||n==="curveBump")&&e?FP["".concat(n).concat(e==="vertical"?"Y":"X")]:FP[n]||Av},Yie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=Kie(e,i),c=s?n.filter(Ay):n,d;if(Array.isArray(r)){var f=n.map((w,E)=>UP(UP({},w),{},{base:r[E]}));i==="vertical"?d=qg().y(vh).x1(yh).x0(w=>w.base.x):d=qg().x(yh).y1(vh).y0(w=>w.base.y);var p=d.defined(qP).curve(l),m=s?f.filter(qP):f;return p(m)}i==="vertical"&&$e(r)?d=qg().y(vh).x1(yh).x0(r):$e(r)?d=qg().x(yh).y1(vh).y0(r):d=b6().x(yh).y(vh);var b=d.defined(Ay).curve(l);return b(c)},V9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Ym();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?Yie(l):r;return T.createElement("path",PE({},ml(t),vte(t),{className:xe("recharts-curve",e),d:c===null?void 0:c,ref:i}))},Wie=["x","y","top","left","width","height","className"];function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){if(t==null)return{};var n,r,i=tae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nae=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),rae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=eae(t,Wie),f=Xie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!$e(e)||!$e(n)||!$e(s)||!$e(l)||!$e(r)||!$e(i)?null:T.createElement("path",zE({},Gi(f),{className:xe("recharts-cross",c),d:nae(e,n,s,l,r,i)}))};function iae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),B9=(t,e,n)=>t.map(r=>"".concat(lae(r)," ").concat(e,"ms ").concat(n)).join(","),cae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),pm=(t,e)=>Object.keys(e).reduce((n,r)=>GP(GP({},n),{},{[r]:t(r,e[r])}),{});function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=fae(t,"string");return typeof e=="symbol"?e:e+""}function fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ky=(t,e,n)=>t+(e-t)*n,RE=t=>{var{from:e,to:n}=t;return e!==n},U9=(t,e,n)=>{var r=pm((i,s)=>{if(RE(s)){var[l,c]=t(s.from,s.to,s.velocity);return zn(zn({},s),{},{from:l,velocity:c})}return s},e);return n<1?pm((i,s)=>RE(s)&&r[i]!=null?zn(zn({},s),{},{velocity:ky(s.velocity,r[i].velocity,n),from:ky(s.from,r[i].from,n)}):s,e):U9(t,r,n-1)};function hae(t,e,n,r,i,s){var l,c=r.reduce((b,w)=>zn(zn({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>pm((b,w)=>w.from,c),f=()=>!Object.values(c).filter(RE).length,p=null,m=b=>{l||(l=b);var w=b-l,E=w/n.dt;c=U9(n,c,E),i(zn(zn(zn({},t),e),d())),l=b,f()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var b;(b=p)===null||b===void 0||b()})}function mae(t,e,n,r,i,s,l){var c=null,d=i.reduce((m,b)=>{var w=t[b],E=e[b];return w==null||E==null?m:zn(zn({},m),{},{[b]:[w,E]})},{}),f,p=m=>{f||(f=m);var b=(m-f)/r,w=pm((S,_)=>ky(..._,n(b)),d);if(s(zn(zn(zn({},t),e),w)),b<1)c=l.setTimeout(p);else{var E=pm((S,_)=>ky(..._,n(1)),d);s(zn(zn(zn({},t),e),E))}};return()=>(c=l.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const pae=(t,e,n,r,i,s)=>{var l=cae(t,e);return n==null?()=>(i(zn(zn({},t),e)),()=>{}):n.isStepper===!0?hae(t,e,n,l,i,s):mae(t,e,n,r,l,i,s)};var Ny=1e-4,F9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],q9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),YP=(t,e)=>n=>{var r=F9(t,e);return q9(r,n)},gae=(t,e)=>n=>{var r=F9(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return q9(i,n)},yae=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},vae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=yae(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},bae=(t,e,n,r)=>{var i=YP(t,n),s=YP(e,r),l=gae(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,m=p,b=0;b<8;++b){var w=i(m)-p,E=l(m);if(Math.abs(w-p)<Ny||E<Ny)return s(m);m=c(m-w/E)}return s(m)};return d.isStepper=!1,d},WP=function(){return bae(...vae(...arguments))},xae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,p=d*r,m=d+(f-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Ny&&Math.abs(m)<Ny?[c,0]:[b,m]};return s.isStepper=!0,s.dt=i,s},wae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WP(t);case"spring":return xae();default:if(t.split("(")[0]==="cubic-bezier")return WP(t)}return typeof t=="function"?t:null};function _ae(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Eae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sae(){return _ae(new Eae)}var Tae=T.createContext(Sae);function Aae(t,e){var n=T.useContext(Tae);return T.useMemo(()=>e??n(t),[t,e,n])}var kae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Kv={isSsr:kae()},Nae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XP={t:0},$w={t:1};function WT(t){var e=Wi(t,Nae),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,p=n==="auto"?!Kv.isSsr:n,m=Aae(e.animationId,e.animationManager),[b,w]=T.useState(p?XP:$w),E=T.useRef(null);return T.useEffect(()=>{p||w($w)},[p]),T.useEffect(()=>{if(!p||!r)return $m;var S=pae(XP,$w,wae(s),i,w,m.getTimeoutController()),_=()=>{E.current=S()};return m.start([d,l,_,i,c]),()=>{m.stop(),E.current&&E.current(),c()}},[p,r,i,s,l,d,c,m]),f(b.t)}function XT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(lm(e)),r=T.useRef(t);return r.current!==t&&(n.current=lm(e),r.current=t),n.current}var Cae=["radius"],Iae=["radius"],QP,ZP,JP,ez,tz,nz,rz,iz,az,sz;function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function cz(t,e){if(t==null)return{};var n,r,i=zae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var uz=(t,e,n,r,i)=>{var s=nl(n),l=nl(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,m;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],w=0,E=4;w<E;w++)b[w]=i[w]>c?c:i[w];m=un(QP||(QP=qa(["M",",",""])),t,e+d*b[0]),b[0]>0&&(m+=un(ZP||(ZP=qa(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+f*b[0],e)),m+=un(JP||(JP=qa(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(m+=un(ez||(ez=qa(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),m+=un(tz||(tz=qa(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(m+=un(nz||(nz=qa(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-f*b[2],e+r)),m+=un(rz||(rz=qa(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(m+=un(iz||(iz=qa(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),m+="Z"}else if(c>0&&i===+i&&i>0){var S=Math.min(c,i);m=un(az||(az=qa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*S,S,S,p,t+f*S,e,t+n-f*S,e,S,S,p,t+n,e+d*S,t+n,e+r-d*S,S,S,p,t+n-f*S,e+r,t+f*S,e+r,S,S,p,t,e+r-d*S)}else m=un(sz||(sz=qa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},dz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$9=t=>{var e=Wi(t,dz),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:p}=e,{animationEasing:m,animationDuration:b,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:S}=e,_=T.useRef(c),k=T.useRef(d),z=T.useRef(s),I=T.useRef(l),D=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),j=XT(D,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=xe("recharts-rectangle",p);if(!S){var P=Gi(e),{radius:C}=P,R=cz(P,Cae);return T.createElement("path",Cy({},R,{x:nl(s),y:nl(l),width:nl(c),height:nl(d),radius:typeof f=="number"?f:void 0,className:F,d:uz(s,l,c,d,f)}))}var V=_.current,L=k.current,$=z.current,B=I.current,ve="0px ".concat(r===-1?1:r,"px"),Ae="".concat(r,"px 0px"),K=B9(["strokeDasharray"],b,typeof m=="string"?m:dz.animationEasing);return T.createElement(WT,{animationId:j,key:j,canBegin:r>0,duration:b,easing:m,isActive:S,begin:w},ie=>{var re=fr(V,c,ie),ye=fr(L,d,ie),ke=fr($,s,ie),q=fr(B,l,ie);n.current&&(_.current=re,k.current=ye,z.current=ke,I.current=q);var ee;E?ie>0?ee={transition:K,strokeDasharray:Ae}:ee={strokeDasharray:ve}:ee={strokeDasharray:Ae};var Z=Gi(e),{radius:ce}=Z,be=cz(Z,Iae);return T.createElement("path",Cy({},be,{radius:typeof f=="number"?f:void 0,className:F,d:uz(ke,q,re,ye,f),ref:n,style:lz(lz({},ee),e.style)}))})};function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return(e=Mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iy=Math.PI/180,Lae=t=>t*180/Math.PI,hr=(t,e,n,r)=>({x:t+Math.cos(-Iy*r)*n,y:e+Math.sin(-Iy*r)*n}),Vae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Bae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Uae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=Bae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:Lae(d),angleInRadian:d}},Fae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},qae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},$ae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Uae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Fae(e),p=s,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?hz(hz({},e),{},{radius:i,angle:qae(p,e)}):null};function H9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=hr(e,n,r,i),c=hr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var mz,pz,gz,yz,vz,bz,xz;function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function uc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Hae=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,p=Math.asin(c/f)/Iy,m=d?i:i+s*p,b=hr(e,n,f,m),w=hr(e,n,r,m),E=d?i-s*p:i,S=hr(e,n,f*Math.cos(p*Iy),E);return{center:b,circleTangency:w,lineTangency:S,theta:p}},G9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=Hae(s,l),d=s+c,f=hr(e,n,i,s),p=hr(e,n,i,d),m=un(mz||(mz=uc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),p.x,p.y);if(r>0){var b=hr(e,n,r,s),w=hr(e,n,r,d);m+=un(pz||(pz=uc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else m+=un(gz||(gz=uc(["L ",","," Z"])),e,n);return m},Gae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,p=pi(f-d),{circleTangency:m,lineTangency:b,theta:w}=Zg({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:_}=Zg({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-w-_;if(k<0)return l?un(yz||(yz=uc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):G9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var z=un(vz||(vz=uc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),m.x,m.y,i,i,+(k>180),+(p<0),E.x,E.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:I,lineTangency:D,theta:j}=Zg({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:F,lineTangency:P,theta:C}=Zg({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=c?Math.abs(d-f):Math.abs(d-f)-j-C;if(R<0&&s===0)return"".concat(z,"L").concat(e,",").concat(n,"Z");z+=un(bz||(bz=uc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(p<0),F.x,F.y,r,r,+(R>180),+(p>0),I.x,I.y,s,s,+(p<0),D.x,D.y)}else z+=un(xz||(xz=uc(["L",",","Z"])),e,n);return z},Kae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},K9=t=>{var e=Wi(t,Kae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:m}=e;if(s<i||f===p)return null;var b=xe("recharts-sector",m),w=s-i,E=ya(l,w,0,!0),S;return E>0&&Math.abs(f-p)<360?S=Gae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):S=G9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),T.createElement("path",ME({},Gi(e),{className:b,d:S}))};function Yae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(z6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=hr(r,i,s,c),f=hr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return H9(e)}}var Hw={},Gw={},Kw={},wz;function Wae(){return wz||(wz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Kw)),Kw}var _z;function Xae(){return _z||(_z=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Gw)),Gw}var Ez;function Qae(){return Ez||(Ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G6(),n=Xae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(Hw)),Hw}var Yw,Sz;function Zae(){return Sz||(Sz=1,Yw=Qae().range),Yw}var Jae=Zae();const Y9=os(Jae);function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ese(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QT(t){let e,n,r;t.length!==2?(e=cl,n=(c,d)=>cl(t(c),d),r=(c,d)=>t(c)-d):(e=t===cl||t===ese?t:tse,n=t,r=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function s(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(c,d,f=0,p=c.length){const m=i(c,d,f,p-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:l,right:s}}function tse(){return 0}function W9(t){return t===null?NaN:+t}function*nse(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rse=QT(cl),Xm=rse.right;QT(W9).center;class Tz extends Map{constructor(e,n=sse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Az(this,e))}has(e){return super.has(Az(this,e))}set(e,n){return super.set(ise(this,e),n)}delete(e){return super.delete(ase(this,e))}}function Az({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ise({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ase({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ose(t=cl){if(t===cl)return X9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function X9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lse=Math.sqrt(50),cse=Math.sqrt(10),use=Math.sqrt(2);function Oy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=lse?10:s>=cse?5:s>=use?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Oy(t,e,n*2):[c,d,f]}function DE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Oy(e,t,n):Oy(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function LE(t,e,n){return e=+e,t=+t,n=+n,Oy(t,e,n)[2]}function VE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?LE(e,t,n):LE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function kz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Nz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Q9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?X9:ose(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*m/d+b)),E=Math.min(r,Math.floor(e+(d-f)*m/d+b));Q9(t,e,w,E,i)}const s=t[e];let l=n,c=r;for(bh(t,n,e),i(t[r],s)>0&&bh(t,n,r);l<c;){for(bh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?bh(t,n,c):(++c,bh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function bh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dse(t,e,n){if(t=Float64Array.from(nse(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Nz(t);if(e>=1)return kz(t);var r,i=(r-1)*e,s=Math.floor(i),l=kz(Q9(t,s).subarray(0,s+1)),c=Nz(t.subarray(s+1));return l+(c-l)*(i-s)}}function fse(t,e,n=W9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function hse(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BE=Symbol("implicit");function ZT(){var t=new Tz,e=[],n=[],r=BE;function i(s){let l=t.get(s);if(l===void 0){if(r!==BE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Tz;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ZT(e,n).unknown(r)},Xi.apply(i,arguments),i}function JT(){var t=ZT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var b=e().length,w=i<r,E=w?i:r,S=w?r:i;s=(S-E)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),E+=(S-E-s*(b-d))*p,l=s*(1-d),c&&(E=Math.round(E),l=Math.round(l));var _=hse(b).map(function(k){return E+s*k});return n(w?_.reverse():_)}return t.domain=function(b){return arguments.length?(e(b),m()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,m()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),m()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),m()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,m()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),m()):p},t.copy=function(){return JT(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Xi.apply(m(),arguments)}function Z9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Z9(e())},t}function mse(){return Z9(JT.apply(null,arguments).paddingInner(1))}function e2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function J9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qm(){}var gm=.7,jy=1/gm,ad="\\s*([+-]?\\d+)\\s*",ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pse=/^#([0-9a-f]{3,8})$/,gse=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),yse=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),vse=new RegExp(`^rgba\\(${ad},${ad},${ad},${ym}\\)$`),bse=new RegExp(`^rgba\\(${ts},${ts},${ts},${ym}\\)$`),xse=new RegExp(`^hsl\\(${ym},${ts},${ts}\\)$`),wse=new RegExp(`^hsla\\(${ym},${ts},${ts},${ym}\\)$`),Cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e2(Qm,vm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Iz,formatHex:Iz,formatHex8:_se,formatHsl:Ese,formatRgb:Oz,toString:Oz});function Iz(){return this.rgb().formatHex()}function _se(){return this.rgb().formatHex8()}function Ese(){return eL(this).formatHsl()}function Oz(){return this.rgb().formatRgb()}function vm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jz(e):n===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gse.exec(t))?new Gr(e[1],e[2],e[3],1):(e=yse.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vse.exec(t))?Jg(e[1],e[2],e[3],e[4]):(e=bse.exec(t))?Jg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xse.exec(t))?Rz(e[1],e[2]/100,e[3]/100,1):(e=wse.exec(t))?Rz(e[1],e[2]/100,e[3]/100,e[4]):Cz.hasOwnProperty(t)?jz(Cz[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function jz(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function Jg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gr(t,e,n,r)}function Sse(t){return t instanceof Qm||(t=vm(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function UE(t,e,n,r){return arguments.length===1?Sse(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e2(Gr,UE,J9(Qm,{brighter(t){return t=t==null?jy:Math.pow(jy,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gm:Math.pow(gm,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(bc(this.r),bc(this.g),bc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pz,formatHex:Pz,formatHex8:Tse,formatRgb:zz,toString:zz}));function Pz(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function Tse(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function zz(){const t=Py(this.opacity);return`${t===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${t===1?")":`, ${t})`}`}function Py(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dc(t){return t=bc(t),(t<16?"0":"")+t.toString(16)}function Rz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fa(t,e,n,r)}function eL(t){if(t instanceof fa)return new fa(t.h,t.s,t.l,t.opacity);if(t instanceof Qm||(t=vm(t)),!t)return new fa;if(t instanceof fa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new fa(l,c,d,t.opacity)}function Ase(t,e,n,r){return arguments.length===1?eL(t):new fa(t,e,n,r??1)}function fa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e2(fa,Ase,J9(Qm,{brighter(t){return t=t==null?jy:Math.pow(jy,t),new fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gm:Math.pow(gm,t),new fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gr(Ww(t>=240?t-240:t+120,i,r),Ww(t,i,r),Ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fa(Mz(this.h),e0(this.s),e0(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Py(this.opacity);return`${t===1?"hsl(":"hsla("}${Mz(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Mz(t){return t=(t||0)%360,t<0?t+360:t}function e0(t){return Math.max(0,Math.min(1,t||0))}function Ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const t2=t=>()=>t;function kse(t,e){return function(n){return t+n*e}}function Nse(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cse(t){return(t=+t)==1?tL:function(e,n){return n-e?Nse(e,n,t):t2(isNaN(e)?n:e)}}function tL(t,e){var n=e-t;return n?kse(t,n):t2(isNaN(t)?e:t)}const Dz=(function t(e){var n=Cse(e);function r(i,s){var l=n((i=UE(i)).r,(s=UE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=tL(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function Ise(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Ose(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ef(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function Pse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var FE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xw=new RegExp(FE.source,"g");function Rse(t){return function(){return t}}function Mse(t){return function(e){return t(e)+""}}function Dse(t,e){var n=FE.lastIndex=Xw.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=FE.exec(t))&&(i=Xw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:zy(r,i)})),n=Xw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?Mse(d[0].x):Rse(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?t2(e):(n==="number"?zy:n==="string"?(r=vm(e))?(e=r,Dz):Dse:e instanceof vm?Dz:e instanceof Date?Pse:Ose(e)?Ise:Array.isArray(e)?jse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zse:zy)(t,e)}function n2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lse(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function Vse(t){return function(){return t}}function Ry(t){return+t}var Lz=[0,1];function Cr(t){return t}function qE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vse(isNaN(e)?NaN:.5)}function Bse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Use(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=qE(i,r),s=n(l,s)):(r=qE(r,i),s=n(s,l)),function(c){return s(r(c))}}function Fse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=qE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Xm(t,c,1,r)-1;return s[d](i[d](c))}}function Zm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yv(){var t=Lz,e=Lz,n=ef,r,i,s,l=Cr,c,d,f;function p(){var b=Math.min(t.length,e.length);return l!==Cr&&(l=Bse(t[0],t[b-1])),c=b>2?Fse:Use,d=f=null,m}function m(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return m.invert=function(b){return l(i((f||(f=c(e,t.map(r),zy)))(b)))},m.domain=function(b){return arguments.length?(t=Array.from(b,Ry),p()):t.slice()},m.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},m.rangeRound=function(b){return e=Array.from(b),n=n2,p()},m.clamp=function(b){return arguments.length?(l=b?!0:Cr,p()):l!==Cr},m.interpolate=function(b){return arguments.length?(n=b,p()):n},m.unknown=function(b){return arguments.length?(s=b,m):s},function(b,w){return r=b,i=w,p()}}function r2(){return Yv()(Cr,Cr)}function qse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function My(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Od(t){return t=My(Math.abs(t)),t?t[1]:NaN}function $se(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Hse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Gse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bm(t){if(!(e=Gse.exec(t)))throw new Error("invalid format: "+t);var e;return new i2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bm.prototype=i2.prototype;function i2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}i2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nL;function Yse(t,e){var n=My(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(nL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+My(t,Math.max(0,e+s-1))[0]}function Vz(t,e){var n=My(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Bz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Vz(t*100,e),r:Vz,s:Yse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Uz(t){return t}var Fz=Array.prototype.map,qz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Wse(t){var e=t.grouping===void 0||t.thousands===void 0?Uz:$se(Fz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Uz:Hse(Fz.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=bm(m);var b=m.fill,w=m.align,E=m.sign,S=m.symbol,_=m.zero,k=m.width,z=m.comma,I=m.precision,D=m.trim,j=m.type;j==="n"?(z=!0,j="g"):Bz[j]||(I===void 0&&(I=12),D=!0,j="g"),(_||b==="0"&&w==="=")&&(_=!0,b="0",w="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=S==="$"?r:/[%p]/.test(j)?l:"",C=Bz[j],R=/[defgprs%]/.test(j);I=I===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function V(L){var $=F,B=P,ve,Ae,K;if(j==="c")B=C(L)+B,L="";else{L=+L;var ie=L<0||1/L<0;if(L=isNaN(L)?d:C(Math.abs(L),I),D&&(L=Kse(L)),ie&&+L==0&&E!=="+"&&(ie=!1),$=(ie?E==="("?E:c:E==="-"||E==="("?"":E)+$,B=(j==="s"?qz[8+nL/3]:"")+B+(ie&&E==="("?")":""),R){for(ve=-1,Ae=L.length;++ve<Ae;)if(K=L.charCodeAt(ve),48>K||K>57){B=(K===46?i+L.slice(ve+1):L.slice(ve))+B,L=L.slice(0,ve);break}}}z&&!_&&(L=e(L,1/0));var re=$.length+L.length+B.length,ye=re<k?new Array(k-re+1).join(b):"";switch(z&&_&&(L=e(ye+L,ye.length?k-B.length:1/0),ye=""),w){case"<":L=$+L+B+ye;break;case"=":L=$+ye+L+B;break;case"^":L=ye.slice(0,re=ye.length>>1)+$+L+B+ye.slice(re);break;default:L=ye+$+L+B;break}return s(L)}return V.toString=function(){return m+""},V}function p(m,b){var w=f((m=bm(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(Od(b)/3)))*3,S=Math.pow(10,-E),_=qz[8+E/3];return function(k){return w(S*k)+_}}return{format:f,formatPrefix:p}}var t0,a2,rL;Xse({thousands:",",grouping:[3],currency:["$",""]});function Xse(t){return t0=Wse(t),a2=t0.format,rL=t0.formatPrefix,t0}function Qse(t){return Math.max(0,-Od(Math.abs(t)))}function Zse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Od(e)/3)))*3-Od(Math.abs(t)))}function Jse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Od(e)-Od(t))+1}function iL(t,e,n,r){var i=VE(t,e,n),s;switch(r=bm(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Zse(i,l))&&(r.precision=s),rL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Jse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Qse(i))&&(r.precision=s-(r.type==="%")*2);break}}return a2(r)}function _l(t){var e=t.domain;return t.ticks=function(n){var r=e();return DE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,p=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=LE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function aL(){var t=r2();return t.copy=function(){return Zm(t,aL())},Xi.apply(t,arguments),_l(t)}function sL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ry),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sL(t).unknown(e)},t=arguments.length?Array.from(t,Ry):[0,1],_l(n)}function oL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function $z(t){return Math.log(t)}function Hz(t){return Math.exp(t)}function eoe(t){return-Math.log(-t)}function toe(t){return-Math.exp(-t)}function noe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function roe(t){return t===10?noe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ioe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gz(t){return(e,n)=>-t(-e,n)}function s2(t){const e=t($z,Hz),n=e.domain;let r=10,i,s;function l(){return i=ioe(r),s=roe(r),n()[0]<0?(i=Gz(i),s=Gz(s),t(eoe,toe)):t($z,Hz),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let b=i(f),w=i(p),E,S;const _=c==null?10:+c;let k=[];if(!(r%1)&&w-b<_){if(b=Math.floor(b),w=Math.ceil(w),f>0){for(;b<=w;++b)for(E=1;E<r;++E)if(S=b<0?E/s(-b):E*s(b),!(S<f)){if(S>p)break;k.push(S)}}else for(;b<=w;++b)for(E=r-1;E>=1;--E)if(S=b>0?E/s(-b):E*s(b),!(S<f)){if(S>p)break;k.push(S)}k.length*2<_&&(k=DE(f,p,_))}else k=DE(b,w,Math.min(w-b,_)).map(s);return m?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=bm(d)).precision==null&&(d.trim=!0),d=a2(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},e.nice=()=>n(oL(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function lL(){const t=s2(Yv()).domain([1,10]);return t.copy=()=>Zm(t,lL()).base(t.base()),Xi.apply(t,arguments),t}function Kz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Yz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function o2(t){var e=1,n=t(Kz(e),Yz(e));return n.constant=function(r){return arguments.length?t(Kz(e=+r),Yz(e)):e},_l(n)}function cL(){var t=o2(Yv());return t.copy=function(){return Zm(t,cL()).constant(t.constant())},Xi.apply(t,arguments)}function Wz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function soe(t){return t<0?-t*t:t*t}function l2(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(aoe,soe):t(Wz(n),Wz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_l(e)}function c2(){var t=l2(Yv());return t.copy=function(){return Zm(t,c2()).exponent(t.exponent())},Xi.apply(t,arguments),t}function ooe(){return c2.apply(null,arguments).exponent(.5)}function Xz(t){return Math.sign(t)*t*t}function loe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uL(){var t=r2(),e=[0,1],n=!1,r;function i(s){var l=loe(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(Xz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ry)).map(Xz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Xi.apply(i,arguments),_l(i)}function dL(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=fse(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Xm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(cl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return dL().domain(t).range(e).unknown(r)},Xi.apply(s,arguments)}function fL(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Xm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return fL().domain([t,e]).range(i).unknown(s)},Xi.apply(_l(l),arguments)}function hL(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Xm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return hL().domain(t).range(e).unknown(n)},Xi.apply(i,arguments)}const Qw=new Date,Zw=new Date;function Dn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Dn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Qw.setTime(+s),Zw.setTime(+l),t(Qw),t(Zw),Math.floor(n(Qw,Zw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Dy=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dy);Dy.range;const Rs=1e3,$i=Rs*60,Ms=$i*60,Ys=Ms*24,u2=Ys*7,Qz=Ys*30,Jw=Ys*365,fc=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCSeconds());fc.range;const d2=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());d2.range;const f2=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());f2.range;const h2=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getHours());h2.range;const m2=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCHours());m2.range;const Jm=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/Ys,t=>t.getDate()-1);Jm.range;const Wv=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);Wv.range;const mL=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));mL.range;function qc(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/u2)}const Xv=qc(0),Ly=qc(1),coe=qc(2),uoe=qc(3),jd=qc(4),doe=qc(5),foe=qc(6);Xv.range;Ly.range;coe.range;uoe.range;jd.range;doe.range;foe.range;function $c(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/u2)}const Qv=$c(0),Vy=$c(1),hoe=$c(2),moe=$c(3),Pd=$c(4),poe=$c(5),goe=$c(6);Qv.range;Vy.range;hoe.range;moe.range;Pd.range;poe.range;goe.range;const p2=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());p2.range;const g2=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());g2.range;const Ws=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ws.range;const Xs=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function pL(t,e,n,r,i,s){const l=[[fc,1,Rs],[fc,5,5*Rs],[fc,15,15*Rs],[fc,30,30*Rs],[s,1,$i],[s,5,5*$i],[s,15,15*$i],[s,30,30*$i],[i,1,Ms],[i,3,3*Ms],[i,6,6*Ms],[i,12,12*Ms],[r,1,Ys],[r,2,2*Ys],[n,1,u2],[e,1,Qz],[e,3,3*Qz],[t,1,Jw]];function c(f,p,m){const b=p<f;b&&([f,p]=[p,f]);const w=m&&typeof m.range=="function"?m:d(f,p,m),E=w?w.range(f,+p+1):[];return b?E.reverse():E}function d(f,p,m){const b=Math.abs(p-f)/m,w=QT(([,,_])=>_).right(l,b);if(w===l.length)return t.every(VE(f/Jw,p/Jw,m));if(w===0)return Dy.every(Math.max(VE(f,p,m),1));const[E,S]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return E.every(S)}return[c,d]}const[yoe,voe]=pL(Xs,g2,Qv,mL,m2,f2),[boe,xoe]=pL(Ws,p2,Xv,Jm,h2,d2);function e_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function woe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=wh(i),p=_h(i),m=wh(s),b=_h(s),w=wh(l),E=_h(l),S=wh(c),_=_h(c),k=wh(d),z=_h(d),I={a:ie,A:re,b:ye,B:ke,c:null,d:rR,e:rR,f:$oe,g:ele,G:nle,H:Uoe,I:Foe,j:qoe,L:gL,m:Hoe,M:Goe,p:q,q:ee,Q:sR,s:oR,S:Koe,u:Yoe,U:Woe,V:Xoe,w:Qoe,W:Zoe,x:null,X:null,y:Joe,Y:tle,Z:rle,"%":aR},D={a:Z,A:ce,b:be,B:we,c:null,d:iR,e:iR,f:ole,g:yle,G:ble,H:ile,I:ale,j:sle,L:vL,m:lle,M:cle,p:_e,q:ze,Q:sR,s:oR,S:ule,u:dle,U:fle,V:hle,w:mle,W:ple,x:null,X:null,y:gle,Y:vle,Z:xle,"%":aR},j={a:V,A:L,b:$,B,c:ve,d:tR,e:tR,f:Doe,g:eR,G:Jz,H:nR,I:nR,j:Poe,L:Moe,m:joe,M:zoe,p:R,q:Ooe,Q:Voe,s:Boe,S:Roe,u:Aoe,U:koe,V:Noe,w:Toe,W:Coe,x:Ae,X:K,y:eR,Y:Jz,Z:Ioe,"%":Loe};I.x=F(n,I),I.X=F(r,I),I.c=F(e,I),D.x=F(n,D),D.X=F(r,D),D.c=F(e,D);function F(H,pe){return function(Ce){var W=[],Le=-1,Oe=0,We=H.length,Ze,rt,St;for(Ce instanceof Date||(Ce=new Date(+Ce));++Le<We;)H.charCodeAt(Le)===37&&(W.push(H.slice(Oe,Le)),(rt=Zz[Ze=H.charAt(++Le)])!=null?Ze=H.charAt(++Le):rt=Ze==="e"?" ":"0",(St=pe[Ze])&&(Ze=St(Ce,rt)),W.push(Ze),Oe=Le+1);return W.push(H.slice(Oe,Le)),W.join("")}}function P(H,pe){return function(Ce){var W=xh(1900,void 0,1),Le=C(W,H,Ce+="",0),Oe,We;if(Le!=Ce.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(pe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Oe=t_(xh(W.y,0,1)),We=Oe.getUTCDay(),Oe=We>4||We===0?Vy.ceil(Oe):Vy(Oe),Oe=Wv.offset(Oe,(W.V-1)*7),W.y=Oe.getUTCFullYear(),W.m=Oe.getUTCMonth(),W.d=Oe.getUTCDate()+(W.w+6)%7):(Oe=e_(xh(W.y,0,1)),We=Oe.getDay(),Oe=We>4||We===0?Ly.ceil(Oe):Ly(Oe),Oe=Jm.offset(Oe,(W.V-1)*7),W.y=Oe.getFullYear(),W.m=Oe.getMonth(),W.d=Oe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),We="Z"in W?t_(xh(W.y,0,1)).getUTCDay():e_(xh(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(We+5)%7:W.w+W.U*7-(We+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,t_(W)):e_(W)}}function C(H,pe,Ce,W){for(var Le=0,Oe=pe.length,We=Ce.length,Ze,rt;Le<Oe;){if(W>=We)return-1;if(Ze=pe.charCodeAt(Le++),Ze===37){if(Ze=pe.charAt(Le++),rt=j[Ze in Zz?pe.charAt(Le++):Ze],!rt||(W=rt(H,Ce,W))<0)return-1}else if(Ze!=Ce.charCodeAt(W++))return-1}return W}function R(H,pe,Ce){var W=f.exec(pe.slice(Ce));return W?(H.p=p.get(W[0].toLowerCase()),Ce+W[0].length):-1}function V(H,pe,Ce){var W=w.exec(pe.slice(Ce));return W?(H.w=E.get(W[0].toLowerCase()),Ce+W[0].length):-1}function L(H,pe,Ce){var W=m.exec(pe.slice(Ce));return W?(H.w=b.get(W[0].toLowerCase()),Ce+W[0].length):-1}function $(H,pe,Ce){var W=k.exec(pe.slice(Ce));return W?(H.m=z.get(W[0].toLowerCase()),Ce+W[0].length):-1}function B(H,pe,Ce){var W=S.exec(pe.slice(Ce));return W?(H.m=_.get(W[0].toLowerCase()),Ce+W[0].length):-1}function ve(H,pe,Ce){return C(H,e,pe,Ce)}function Ae(H,pe,Ce){return C(H,n,pe,Ce)}function K(H,pe,Ce){return C(H,r,pe,Ce)}function ie(H){return l[H.getDay()]}function re(H){return s[H.getDay()]}function ye(H){return d[H.getMonth()]}function ke(H){return c[H.getMonth()]}function q(H){return i[+(H.getHours()>=12)]}function ee(H){return 1+~~(H.getMonth()/3)}function Z(H){return l[H.getUTCDay()]}function ce(H){return s[H.getUTCDay()]}function be(H){return d[H.getUTCMonth()]}function we(H){return c[H.getUTCMonth()]}function _e(H){return i[+(H.getUTCHours()>=12)]}function ze(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var pe=F(H+="",I);return pe.toString=function(){return H},pe},parse:function(H){var pe=P(H+="",!1);return pe.toString=function(){return H},pe},utcFormat:function(H){var pe=F(H+="",D);return pe.toString=function(){return H},pe},utcParse:function(H){var pe=P(H+="",!0);return pe.toString=function(){return H},pe}}}var Zz={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,_oe=/^%/,Eoe=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Soe(t){return t.replace(Eoe,"\\$&")}function wh(t){return new RegExp("^(?:"+t.map(Soe).join("|")+")","i")}function _h(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Toe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Aoe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jz(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ioe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ooe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function joe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nR(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zoe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Doe(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Loe(t,e,n){var r=_oe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Voe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Boe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rR(t,e){return xt(t.getDate(),e,2)}function Uoe(t,e){return xt(t.getHours(),e,2)}function Foe(t,e){return xt(t.getHours()%12||12,e,2)}function qoe(t,e){return xt(1+Jm.count(Ws(t),t),e,3)}function gL(t,e){return xt(t.getMilliseconds(),e,3)}function $oe(t,e){return gL(t,e)+"000"}function Hoe(t,e){return xt(t.getMonth()+1,e,2)}function Goe(t,e){return xt(t.getMinutes(),e,2)}function Koe(t,e){return xt(t.getSeconds(),e,2)}function Yoe(t){var e=t.getDay();return e===0?7:e}function Woe(t,e){return xt(Xv.count(Ws(t)-1,t),e,2)}function yL(t){var e=t.getDay();return e>=4||e===0?jd(t):jd.ceil(t)}function Xoe(t,e){return t=yL(t),xt(jd.count(Ws(t),t)+(Ws(t).getDay()===4),e,2)}function Qoe(t){return t.getDay()}function Zoe(t,e){return xt(Ly.count(Ws(t)-1,t),e,2)}function Joe(t,e){return xt(t.getFullYear()%100,e,2)}function ele(t,e){return t=yL(t),xt(t.getFullYear()%100,e,2)}function tle(t,e){return xt(t.getFullYear()%1e4,e,4)}function nle(t,e){var n=t.getDay();return t=n>=4||n===0?jd(t):jd.ceil(t),xt(t.getFullYear()%1e4,e,4)}function rle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function iR(t,e){return xt(t.getUTCDate(),e,2)}function ile(t,e){return xt(t.getUTCHours(),e,2)}function ale(t,e){return xt(t.getUTCHours()%12||12,e,2)}function sle(t,e){return xt(1+Wv.count(Xs(t),t),e,3)}function vL(t,e){return xt(t.getUTCMilliseconds(),e,3)}function ole(t,e){return vL(t,e)+"000"}function lle(t,e){return xt(t.getUTCMonth()+1,e,2)}function cle(t,e){return xt(t.getUTCMinutes(),e,2)}function ule(t,e){return xt(t.getUTCSeconds(),e,2)}function dle(t){var e=t.getUTCDay();return e===0?7:e}function fle(t,e){return xt(Qv.count(Xs(t)-1,t),e,2)}function bL(t){var e=t.getUTCDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function hle(t,e){return t=bL(t),xt(Pd.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function mle(t){return t.getUTCDay()}function ple(t,e){return xt(Vy.count(Xs(t)-1,t),e,2)}function gle(t,e){return xt(t.getUTCFullYear()%100,e,2)}function yle(t,e){return t=bL(t),xt(t.getUTCFullYear()%100,e,2)}function vle(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function ble(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pd(t):Pd.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function xle(){return"+0000"}function aR(){return"%"}function sR(t){return+t}function oR(t){return Math.floor(+t/1e3)}var Uu,xL,wL;wle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wle(t){return Uu=woe(t),xL=Uu.format,Uu.parse,wL=Uu.utcFormat,Uu.utcParse,Uu}function _le(t){return new Date(t)}function Ele(t){return t instanceof Date?+t:+new Date(+t)}function y2(t,e,n,r,i,s,l,c,d,f){var p=r2(),m=p.invert,b=p.domain,w=f(".%L"),E=f(":%S"),S=f("%I:%M"),_=f("%I %p"),k=f("%a %d"),z=f("%b %d"),I=f("%B"),D=f("%Y");function j(F){return(d(F)<F?w:c(F)<F?E:l(F)<F?S:s(F)<F?_:r(F)<F?i(F)<F?k:z:n(F)<F?I:D)(F)}return p.invert=function(F){return new Date(m(F))},p.domain=function(F){return arguments.length?b(Array.from(F,Ele)):b().map(_le)},p.ticks=function(F){var P=b();return t(P[0],P[P.length-1],F??10)},p.tickFormat=function(F,P){return P==null?j:f(P)},p.nice=function(F){var P=b();return(!F||typeof F.range!="function")&&(F=e(P[0],P[P.length-1],F??10)),F?b(oL(P,F)):p},p.copy=function(){return Zm(p,y2(t,e,n,r,i,s,l,c,d,f))},p}function Sle(){return Xi.apply(y2(boe,xoe,Ws,p2,Xv,Jm,h2,d2,fc,xL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tle(){return Xi.apply(y2(yoe,voe,Xs,g2,Qv,Wv,m2,f2,fc,wL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zv(){var t=0,e=1,n,r,i,s,l=Cr,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(b){var w,E;return arguments.length?([w,E]=b,l=m(w,E),f):[l(0),l(1)]}}return f.range=p(ef),f.rangeRound=p(n2),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function El(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _L(){var t=_l(Zv()(Cr));return t.copy=function(){return El(t,_L())},io.apply(t,arguments)}function EL(){var t=s2(Zv()).domain([1,10]);return t.copy=function(){return El(t,EL()).base(t.base())},io.apply(t,arguments)}function SL(){var t=o2(Zv());return t.copy=function(){return El(t,SL()).constant(t.constant())},io.apply(t,arguments)}function v2(){var t=l2(Zv());return t.copy=function(){return El(t,v2()).exponent(t.exponent())},io.apply(t,arguments)}function Ale(){return v2.apply(null,arguments).exponent(.5)}function TL(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>dse(t,s/r))},n.copy=function(){return TL(e).domain(t)},io.apply(n,arguments)}function Jv(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Cr,p,m=!1,b;function w(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-s)*(r*S<r*s?c:d),f(m?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(m=!!S,w):m},w.interpolator=function(S){return arguments.length?(f=S,w):f};function E(S){return function(_){var k,z,I;return arguments.length?([k,z,I]=_,f=Lse(S,[k,z,I]),w):[f(0),f(.5),f(1)]}}return w.range=E(ef),w.rangeRound=E(n2),w.unknown=function(S){return arguments.length?(b=S,w):b},function(S){return p=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w}}function AL(){var t=_l(Jv()(Cr));return t.copy=function(){return El(t,AL())},io.apply(t,arguments)}function kL(){var t=s2(Jv()).domain([.1,1,10]);return t.copy=function(){return El(t,kL()).base(t.base())},io.apply(t,arguments)}function NL(){var t=o2(Jv());return t.copy=function(){return El(t,NL()).constant(t.constant())},io.apply(t,arguments)}function b2(){var t=l2(Jv());return t.copy=function(){return El(t,b2()).exponent(t.exponent())},io.apply(t,arguments)}function kle(){return b2.apply(null,arguments).exponent(.5)}const Ih=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:JT,scaleDiverging:AL,scaleDivergingLog:kL,scaleDivergingPow:b2,scaleDivergingSqrt:kle,scaleDivergingSymlog:NL,scaleIdentity:sL,scaleImplicit:BE,scaleLinear:aL,scaleLog:lL,scaleOrdinal:ZT,scalePoint:mse,scalePow:c2,scaleQuantile:dL,scaleQuantize:fL,scaleRadial:uL,scaleSequential:_L,scaleSequentialLog:EL,scaleSequentialPow:v2,scaleSequentialQuantile:TL,scaleSequentialSqrt:Ale,scaleSequentialSymlog:SL,scaleSqrt:ooe,scaleSymlog:cL,scaleThreshold:hL,scaleTime:Sle,scaleUtc:Tle,tickFormat:iL},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,CL=le([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),IL=(t,e,n,r)=>r?CL(t):ao(t),Nle=(t,e,n)=>n?CL(t):ao(t);function gl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(sn(e)&&sn(n))return!0}return!1}function lR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function OL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(sn(n))i=n;else if(typeof n=="function")return;if(sn(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(gl(l))return l}}function Cle(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gl(r))return lR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if($e(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&xP.test(i)){var d=xP.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if($e(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&wP.test(s)){var p=wP.exec(s);if(p==null||p[1]==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e?.[1];var b=[l,c];if(gl(b))return e==null?b:lR(b,e,n)}}}var tf=1e9,Ile={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w2,en=!0,Yi="[DecimalError] ",xc=Yi+"Invalid argument: ",x2=Yi+"Exponent out of range: ",nf=Math.floor,nc=Math.pow,Ole=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,Yn=1e7,Yt=7,jL=9007199254740991,By=nf(jL/Yt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Vs(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ut(Vs(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return In(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Yi+"NaN");if(n.s<1)throw Error(Yi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(en=!1,e=Vs(xm(n,s),xm(t,s),s),en=!0,Ut(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RL(e,t):PL(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yi+"NaN");return n.s?(en=!1,e=Vs(n,t,0,1).times(t),en=!0,n.minus(e)):Ut(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return zL(this)};Pe.naturalLogarithm=Pe.ln=function(){return xm(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PL(e,t):RL(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xc+t);if(e=In(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Yi+"NaN")}for(t=In(c),en=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Xa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Vs(c,s,l+2)).times(.5),Xa(s.d).slice(0,l)===(e=Xa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ut(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return en=!0,Ut(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,s,l,c,d,f,p=this,m=p.constructor,b=p.d,w=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,f=w.length,d<f&&(s=b,b=w,w=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+w[r]*b[i-r-1]+e,s[i--]=c%Yn|0,e=c/Yn|0;s[i]=(s[i]+e)%Yn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,en?Ut(t,m.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ss(t,0,tf),e===void 0?e=r.rounding:ss(e,0,8),Ut(n,t+In(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mc(r,!0):(ss(t,0,tf),e===void 0?e=i.rounding:ss(e,0,8),r=Ut(new i(r),t+1,e),n=Mc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Mc(i):(ss(t,0,tf),e===void 0?e=s.rounding:ss(e,0,8),r=Ut(new s(i),t+In(i)+1,e),n=Mc(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),In(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(fi);if(c=new d(c),!c.s){if(t.s<1)throw Error(Yi+"Infinity");return c}if(c.eq(fi))return c;if(r=d.precision,t.eq(fi))return Ut(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=jL){for(i=new d(fi),e=Math.ceil(r/Yt+4),en=!1;n%2&&(i=i.times(c),uR(i.d,e)),n=nf(n/2),n!==0;)c=c.times(c),uR(c.d,e);return en=!0,t.s<0?new d(fi).div(i):Ut(i,r)}}else if(s<0)throw Error(Yi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,en=!1,i=t.times(xm(c,r+f)),en=!0,i=zL(i),i.s=s,i};Pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=In(i),r=Mc(i,n<=s.toExpNeg||n>=s.toExpPos)):(ss(t,1,tf),e===void 0?e=s.rounding:ss(e,0,8),i=Ut(new s(i),t,e),n=In(i),r=Mc(i,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ss(t,1,tf),e===void 0?e=r.rounding:ss(e,0,8)),Ut(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return Mc(t,e<=n.toExpNeg||e>=n.toExpPos)};function PL(t,e){var n,r,i,s,l,c,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),en?Ut(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(m/Yt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Yn|0,d[s]%=Yn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,en?Ut(e,m):e}function ss(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xc+t)}function Xa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(s+=Yo(n)),s+=r;l=t[e],r=l+"",n=Yt-r.length,n&&(s+=Yo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Vs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Yn|0,l=s/Yn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,p,m,b,w,E,S,_,k,z,I,D,j,F,P,C,R=r.constructor,V=r.s==i.s?1:-1,L=r.d,$=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Yi+"Division by zero");for(d=r.e-i.e,P=$.length,j=L.length,w=new R(V),E=w.d=[],f=0;$[f]==(L[f]||0);)++f;if($[f]>(L[f]||0)&&--d,s==null?z=s=R.precision:l?z=s+(In(r)-In(i))+1:z=s,z<0)return new R(0);if(z=z/Yt+2|0,f=0,P==1)for(p=0,$=$[0],z++;(f<j||p)&&z--;f++)I=p*Yn+(L[f]||0),E[f]=I/$|0,p=I%$|0;else{for(p=Yn/($[0]+1)|0,p>1&&($=t($,p),L=t(L,p),P=$.length,j=L.length),D=P,S=L.slice(0,P),_=S.length;_<P;)S[_++]=0;C=$.slice(),C.unshift(0),F=$[0],$[1]>=Yn/2&&++F;do p=0,c=e($,S,P,_),c<0?(k=S[0],P!=_&&(k=k*Yn+(S[1]||0)),p=k/F|0,p>1?(p>=Yn&&(p=Yn-1),m=t($,p),b=m.length,_=S.length,c=e(m,S,b,_),c==1&&(p--,n(m,P<b?C:$,b))):(p==0&&(c=p=1),m=$.slice()),b=m.length,b<_&&m.unshift(0),n(S,m,_),c==-1&&(_=S.length,c=e($,S,P,_),c<1&&(p++,n(S,P<_?C:$,_))),_=S.length):c===0&&(p++,S=[0]),E[f++]=p,c&&S[0]?S[_++]=L[D]||0:(S=[L[D]],_=1);while((D++<j||S[0]!==void 0)&&z--)}return E[0]||E.shift(),w.e=d,Ut(w,l?s+In(w)+1:s)}})();function zL(t,e){var n,r,i,s,l,c,d=0,f=0,p=t.constructor,m=p.precision;if(In(t)>16)throw Error(x2+In(t));if(!t.s)return new p(fi);for(en=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(nc(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new p(fi),p.precision=c;;){if(i=Ut(i.times(t),c),n=n.times(++d),l=s.plus(Vs(i,n,c)),Xa(l.d).slice(0,c)===Xa(s.d).slice(0,c)){for(;f--;)s=Ut(s.times(s),c);return p.precision=m,e==null?(en=!0,Ut(s,m)):s}s=l}}function In(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function n_(t,e,n){if(e>t.LN10.sd())throw en=!0,n&&(t.precision=n),Error(Yi+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Yo(t){for(var e="";t--;)e+="0";return e}function xm(t,e){var n,r,i,s,l,c,d,f,p,m=1,b=10,w=t,E=w.d,S=w.constructor,_=S.precision;if(w.s<1)throw Error(Yi+(w.s?"NaN":"-Infinity"));if(w.eq(fi))return new S(0);if(e==null?(en=!1,f=_):f=e,w.eq(10))return e==null&&(en=!0),n_(S,f);if(f+=b,S.precision=f,n=Xa(E),r=n.charAt(0),s=In(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Xa(w.d),r=n.charAt(0),m++;s=In(w),r>1?(w=new S("0."+n),s++):w=new S(r+"."+n.slice(1))}else return d=n_(S,f+2,_).times(s+""),w=xm(new S(r+"."+n.slice(1)),f-b).plus(d),S.precision=_,e==null?(en=!0,Ut(w,_)):w;for(c=l=w=Vs(w.minus(fi),w.plus(fi),f),p=Ut(w.times(w),f),i=3;;){if(l=Ut(l.times(p),f),d=c.plus(Vs(l,new S(i),f)),Xa(d.d).slice(0,f)===Xa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(n_(S,f+2,_).times(s+""))),c=Vs(c,new S(m),f),S.precision=_,e==null?(en=!0,Ut(c,_)):c;c=d,i+=2}}function cR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),en&&(t.e>By||t.e<-By))throw Error(x2+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,i,s,l,c,d,f,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Yt,i=e,f=m[p=0];else{if(p=Math.ceil((r+1)/Yt),s=m.length,p>=s)return t;for(f=s=m[p],l=1;s>=10;s/=10)l++;r%=Yt,i=r-Yt+l}if(n!==void 0&&(s=nc(10,l-i-1),c=f/s%10|0,d=e<0||m[p+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/nc(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(s=In(t),m.length=1,e=e-s-1,m[0]=nc(10,(Yt-e%Yt)%Yt),t.e=nf(-e/Yt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=nc(10,Yt-r),m[p]=i>0?(f/nc(10,l-i)%nc(10,i)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Yn&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Yn)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(en&&(t.e>By||t.e<-By))throw Error(x2+In(t));return t}function RL(t,e){var n,r,i,s,l,c,d,f,p,m,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),en?Ut(e,w):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(w/Yt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(s=i;s&&d[--s]===0;)d[s]=Yn-1;--d[s],d[i]+=Yn}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,en?Ut(e,w):e):new b(0)}function Mc(t,e,n){var r,i=In(t),s=Xa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Yo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yo(-i-1)+s,n&&(r=n-l)>0&&(s+=Yo(r))):i>=l?(s+=Yo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Yo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Yo(r))),t.s<0?"-"+s:s}function uR(t,e){if(t.length>e)return t.length=e,!0}function ML(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return cR(l,s.toString())}else if(typeof s!="string")throw Error(xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Ole.test(s))cR(l,s);else throw Error(xc+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ML,i.config=i.set=jle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jle(t){if(!t||typeof t!="object")throw Error(Yi+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xc+n+": "+r);return this}var w2=ML(Ile);fi=new w2(1);const Ct=w2;var Ple=t=>t,DL={},LL=t=>t===DL,dR=t=>function e(){return arguments.length===0||arguments.length===1&&LL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},VL=(t,e)=>t===1?e:dR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==DL).length;return s>=t?e(...r):VL(t-s,dR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(p=>LL(p)?c.shift():p);return e(...f,...c)}))}),zle=t=>VL(t.length,t),$E=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Rle=zle((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Mle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ple;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function BL(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function UL(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var FL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},qL=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=BL(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new Ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Ct(d.toNumber()):new Ct(Math.ceil(d.toNumber()))},Dle=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(BL(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var l=Math.floor((e-1)/2),c=Mle(Rle(d=>i.add(new Ct(d-l).mul(r)).toNumber()),$E);return c(0,e)},$L=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=qL(new Ct(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new Ct(0):(c=new Ct(e).add(n).div(2),c=c.sub(new Ct(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Ct(n).sub(c).div(l).toNumber()),p=d+f+1;return p>r?$L(e,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:c.sub(new Ct(d).mul(l)),tickMax:c.add(new Ct(f).mul(l))})},Lle=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=FL([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...$E(0,i-1).map(()=>1/0)]:[...$E(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return Dle(c,i,s);var{step:p,tickMin:m,tickMax:b}=$L(c,d,l,s,0),w=UL(m,b.add(new Ct(.1).mul(p)),p);return n>r?w.reverse():w},Vle=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=FL([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=qL(new Ct(c).sub(l).div(d-1),s,0),p=[...UL(new Ct(l),new Ct(c),f),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},HL=t=>t.rootProps.maxBarSize,Ble=t=>t.rootProps.barGap,GL=t=>t.rootProps.barCategoryGap,Ule=t=>t.rootProps.barSize,eb=t=>t.rootProps.stackOffset,KL=t=>t.rootProps.reverseStackOrder,_2=t=>t.options.chartName,E2=t=>t.rootProps.syncId,YL=t=>t.rootProps.syncMethod,S2=t=>t.options.eventEmitter,Kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},di={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Fle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:Is.reversed,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:Is.type,unit:void 0},qle={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:di.type,unit:void 0},$le={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Hle={allowDataOverflow:di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:di.scale,tick:di.tick,tickCount:di.tickCount,ticks:void 0,type:"category",unit:void 0},T2=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?$le:Fle,A2=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Hle:qle,nb=t=>t.polarOptions,k2=le([no,ro,Qn],Vae),WL=le([nb,k2],(t,e)=>{if(t!=null)return ya(t.innerRadius,e,0)}),XL=le([nb,k2],(t,e)=>{if(t!=null)return ya(t.outerRadius,e,e*.8)}),Gle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},QL=le([nb],Gle);le([T2,QL],tb);var ZL=le([k2,WL,XL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([A2,ZL],tb);var JL=le([jt,nb,WL,XL,no,ro],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:ya(l,i,i/2),cy:ya(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Ln=(t,e)=>e,rb=(t,e,n)=>n;function N2(t){return t?.id}function eV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=N2(c);f.forEach((m,b)=>{var w=s==null||i?b:String(mr(m,s,null)),E=mr(m,c.dataKey,0),S;l.has(w)?S=l.get(w):S={},Object.assign(S,{[p]:E}),l.set(w,S)})}}),Array.from(l.values())}function ib(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ab=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function sb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Kle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Vn=t=>{var e=jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},rf=t=>t.tooltip.settings.axisId;function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Xle(t,"string");return typeof e=="symbol"?e:e+""}function Xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HE=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tV=(t,e)=>t.cartesianAxis.xAxis[e],so=(t,e)=>{var n=tV(t,e);return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:HE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Km},nV=(t,e)=>t.cartesianAxis.yAxis[e],oo=(t,e)=>{var n=nV(t,e);return n??Gn},Qle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},C2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Qle},Pr=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"zAxis":return C2(t,n);case"angleAxis":return T2(t,n);case"radiusAxis":return A2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Zle=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ep=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"angleAxis":return T2(t,n);case"radiusAxis":return A2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function iV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var I2=t=>t.graphicalItems.cartesianItems,Jle=le([Ln,rb],iV),aV=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),tp=le([I2,Pr,Jle],aV,{memoizeOptions:{resultEqualityCheck:sb}}),sV=le([tp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ib)),oV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ece=le([tp],oV),lV=t=>t.map(e=>e.data).filter(Boolean).flat(1),tce=le([tp],lV,{memoizeOptions:{resultEqualityCheck:sb}}),cV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},O2=le([tce,IL],cV),uV=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:mr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:mr(i,r)}))):t.map(r=>({value:r})),ob=le([O2,Pr,tp],uV);function dV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function k0(t){if(as(t)||t instanceof Date){var e=Number(t);if(sn(e))return e}}function hR(t){if(Array.isArray(t)){var e=[k0(t[0]),k0(t[1])];return gl(e)?e:void 0}var n=k0(t);if(n!=null)return[n,n]}function Qs(t){return t.map(k0).filter(ote)}function nce(t,e,n){return!n||typeof e!="number"||is(e)?[]:n.length?Qs(n.flatMap(r=>{var i=mr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!sn(s)||!sn(l)))return[e-s,e+l]})):[]}var Bn=t=>{var e=Vn(t),n=rf(t);return ep(t,e,n)},np=le([Bn],t=>t?.dataKey),rce=le([sV,IL,Bn],eV),fV=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,p=f.map(N2);return[c,{stackedData:kre(t,p,n),graphicalItems:f}]}))},GE=le([rce,sV,eb,KL],fV),hV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=jre(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},ice=le([Pr],t=>t.allowDataOverflow),j2=t=>{var e;if(t==null||!("domain"in t))return HE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Qs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:HE},mV=le([Pr],j2),pV=le([mV,ice],OL),ace=le([GE,ao,Ln,pV],hV,{memoizeOptions:{resultEqualityCheck:ab}}),P2=t=>t.errorBars,sce=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>dV(n,r)),Fy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},gV=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,p,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>dV(i,k)),b=mr(c,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),w=nce(c,b,m);if(w.length>=2){var E=Math.min(...w),S=Math.max(...w);(s==null||E<s)&&(s=E),(l==null||S>l)&&(l=S)}var _=hR(b);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=hR(mr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),sn(s)&&sn(l))return[s,l]},oce=le([O2,Pr,ece,P2,Ln],gV,{memoizeOptions:{resultEqualityCheck:ab}});function lce(t){var{value:e}=t;if(as(e)||e instanceof Date)return e}var cce=(t,e,n)=>{var r=t.map(lce).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&O6(r))?Y9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},yV=t=>t.referenceElements.dots,af=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),uce=le([yV,Ln,rb],af),vV=t=>t.referenceElements.areas,dce=le([vV,Ln,rb],af),bV=t=>t.referenceElements.lines,fce=le([bV,Ln,rb],af),xV=(t,e)=>{if(t!=null){var n=Qs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},hce=le(uce,Ln,xV),wV=(t,e)=>{if(t!=null){var n=Qs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},mce=le([dce,Ln],wV);function pce(t){var e;if(t.x!=null)return Qs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Qs(n)}function gce(t){var e;if(t.y!=null)return Qs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Qs(n)}var _V=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?pce(r):gce(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},yce=le([fce,Ln],_V),vce=le(hce,yce,mce,(t,e,n)=>Fy(t,n,e)),EV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?Fy(r,s,i):Fy(s,i);return Cle(e,f,t.allowDataOverflow)},bce=le([Pr,mV,pV,ace,oce,vce,jt,Ln],EV,{memoizeOptions:{resultEqualityCheck:ab}}),xce=[0,1],SV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Fc(e,s);if(f&&c==null){var p;return Y9(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?cce(r,t,f):i==="expand"?xce:l}},z2=le([Pr,jt,O2,ob,eb,Ln,bce],SV),TV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(qm(s));return c in Ih?c:"point"}}},rp=le([Pr,jt,rV,_2,Ln],TV);function wce(t){if(t!=null){if(t in Ih)return Ih[t]();var e="scale".concat(qm(t));if(e in Ih)return Ih[e]()}}function R2(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=wce(e);if(i!=null){var s=i.domain(n).range(r);return _re(s),s}}}var AV=(t,e,n)=>{var r=j2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gl(t))return Lle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gl(t))return Vle(t,e.tickCount,e.allowDecimals)}},M2=le([z2,ep,rp],AV),kV=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&gl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},_ce=le([Pr,z2,M2,Ln],kV),Ece=le(ob,Pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Qs(t.map(m=>m.value))).sort((m,b)=>m-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var p=f-d;n=Math.min(n,p)}}return n/l}}),NV=le(Ece,jt,GL,Qn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!sn(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=ya(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Sce=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:NV(t,"xAxis",e,n,r.padding)},Tce=(t,e,n)=>{var r=oo(t,e);return r==null||typeof r.padding!="string"?0:NV(t,"yAxis",e,n,r.padding)},Ace=le(so,Sce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kce=le(oo,Tce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Nce=le([Qn,Ace,Uv,Bv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Cce=le([Qn,jt,kce,Uv,Bv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ip=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Nce(t,n,r);case"yAxis":return Cce(t,n,r);case"zAxis":return(i=C2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QL(t);case"radiusAxis":return ZL(t,n);default:return}},CV=le([Pr,ip],tb),lb=le([Pr,rp,_ce,CV],R2);le([tp,P2,Ln],sce);function IV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var cb=(t,e)=>e,ub=(t,e,n)=>n,Ice=le(Lv,cb,ub,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(IV)),Oce=le(Vv,cb,ub,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(IV)),OV=(t,e)=>({width:t.width,height:e.height}),jce=(t,e)=>{var n=typeof e.width=="number"?e.width:Km;return{width:n,height:t.height}},jV=le(Qn,so,OV),Pce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Rce=le(ro,Qn,Ice,cb,ub,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=OV(e,c);l==null&&(l=Pce(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),Mce=le(no,Qn,Oce,cb,ub,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=jce(e,c);l==null&&(l=zce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),Dce=(t,e)=>{var n=so(t,e);if(n!=null)return Rce(t,n.orientation,n.mirror)},Lce=le([Qn,so,Dce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Vce=(t,e)=>{var n=oo(t,e);if(n!=null)return Mce(t,n.orientation,n.mirror)},Bce=le([Qn,oo,Vce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),PV=le(Qn,oo,(t,e)=>{var n=typeof e.width=="number"?e.width:Km;return{width:n,height:t.height}}),mR=(t,e,n)=>{switch(e){case"xAxis":return jV(t,n).width;case"yAxis":return PV(t,n).height;default:return}},zV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Fc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&O6(d))return d}},D2=le([jt,ob,Pr,Ln],zV),RV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Fc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},L2=le([jt,ob,ep,Ln],RV);le([jt,Zle,rp,lb,D2,L2,ip,M2,Ln],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Fc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var Uce=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Fc(t,d),{type:p,ticks:m,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=d==="angleAxis"&&s!=null&&s.length>=2?pi(s[0]-s[1])*2*E:E;var S=m||i;if(S){var _=S.map((k,z)=>{var I=l?l.indexOf(k):k;return{index:z,coordinate:r(I)+E,value:k,offset:E}});return _.filter(k=>sn(k.coordinate))}return f&&c?c.map((k,z)=>({coordinate:r(k)+E,value:k,index:z,offset:E})).filter(k=>sn(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+E,value:k,offset:E})):r.domain().map((k,z)=>({coordinate:r(k)+E,value:l?l[k]:k,index:z,offset:E}))}},MV=le([jt,ep,rp,lb,M2,ip,D2,L2,Ln],Uce),Fce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Fc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?pi(r[0]-r[1])*2*f:f,c&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},zd=le([jt,ep,lb,ip,D2,L2,Ln],Fce),Rd=le(Pr,lb,(t,e)=>{if(!(t==null||e==null))return Uy(Uy({},t),{},{scale:e})}),qce=le([Pr,rp,z2,CV],R2);le((t,e,n)=>C2(t,n),qce,(t,e)=>{if(!(t==null||e==null))return Uy(Uy({},t),{},{scale:e})});var $ce=le([jt,Lv,Vv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DV=t=>t.options.defaultTooltipEventType,LV=t=>t.options.validateTooltipEventTypes;function VV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function V2(t,e){var n=DV(t),r=LV(t);return VV(e,n,r)}function Hce(t){return Ye(e=>V2(e,t))}var BV=(t,e)=>{var n,r=Number(e);if(!(is(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Gce=t=>t.tooltip.settings,el={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Kce={itemInteraction:{click:el,hover:el},axisInteraction:{click:el,hover:el},keyboardInteraction:el,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UV=Wr({name:"tooltip",initialState:Kce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ga(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Zt()},removeTooltipEntrySettings:{reducer(t,e){var n=ga(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Yce,replaceTooltipEntrySettings:Wce,removeTooltipEntrySettings:Xce,setTooltipSettingsState:Qce,setActiveMouseOverItemIndex:FV,mouseLeaveItem:Zce,mouseLeaveChart:qV,setActiveClickItemIndex:Jce,setMouseOverAxisIndex:$V,setMouseClickAxisIndex:eue,setSyncInteraction:KE,setKeyboardInteraction:YE}=UV.actions,tue=UV.reducer;function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return(e=rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aue(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sue(t){return t.index!=null}var HV=(t,e,n,r)=>{if(e==null)return el;var i=aue(t,e,n);if(i==null)return el;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(sue(i)){if(s)return n0(n0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return n0(n0({},el),{},{coordinate:i.coordinate})};function oue(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function lue(t,e){var n=oue(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function cue(t,e,n){if(n==null||e==null)return!0;var r=mr(t,e);return r==null||!gl(n)?!0:lue(r,n)}var B2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!sn(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||cue(f,n,r)?String(d):null},GV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},KV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},ap=t=>t.options.tooltipPayloadSearcher,sf=t=>t.tooltip;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return(e=due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=fue(t,"string");return typeof e=="symbol"?e:e+""}function fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hue(t,e){return t??e}var YV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,m=[];return t.reduce((b,w)=>{var E,{dataDefinedOnItem:S,settings:_}=w,k=hue(S,c),z=Array.isArray(k)?E9(k,f,p):k,I=(E=_?.dataKey)!==null&&E!==void 0?E:r,D=_?.nameKey,j;if(r&&Array.isArray(z)&&!Array.isArray(z[0])&&l==="axis"?j=ste(z,r,i):j=s(z,e,d,D),Array.isArray(j))j.forEach(P=>{var C=yR(yR({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(_P({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:mr(P.payload,P.dataKey),name:P.name}))});else{var F;b.push(_P({tooltipEntrySettings:_,dataKey:I,payload:j,value:mr(j,I),name:(F=mr(j,D))!==null&&F!==void 0?F:_?.name}))}return b},m)}},U2=le([Bn,jt,rV,_2,Vn],TV),mue=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pue=le([Vn,rf],iV),of=le([mue,Bn,pue],aV,{memoizeOptions:{resultEqualityCheck:sb}}),gue=le([of],t=>t.filter(ib)),yue=le([of],lV,{memoizeOptions:{resultEqualityCheck:sb}}),lf=le([yue,ao],cV),vue=le([gue,ao,Bn],eV),F2=le([lf,Bn,of],uV),WV=le([Bn],j2),bue=le([Bn],t=>t.allowDataOverflow),XV=le([WV,bue],OL),xue=le([of],t=>t.filter(ib)),wue=le([vue,xue,eb,KL],fV),_ue=le([wue,ao,Vn,XV],hV),Eue=le([of],oV),Sue=le([lf,Bn,Eue,P2,Vn],gV,{memoizeOptions:{resultEqualityCheck:ab}}),Tue=le([yV,Vn,rf],af),Aue=le([Tue,Vn],xV),kue=le([vV,Vn,rf],af),Nue=le([kue,Vn],wV),Cue=le([bV,Vn,rf],af),Iue=le([Cue,Vn],_V),Oue=le([Aue,Iue,Nue],Fy),jue=le([Bn,WV,XV,_ue,Sue,Oue,jt,Vn],EV),sp=le([Bn,jt,lf,F2,eb,Vn,jue],SV),Pue=le([sp,Bn,U2],AV),zue=le([Bn,sp,Pue,Vn],kV),QV=t=>{var e=Vn(t),n=rf(t),r=!1;return ip(t,e,n,r)},ZV=le([Bn,QV],tb),JV=le([Bn,U2,zue,ZV],R2),Rue=le([jt,F2,Bn,Vn],zV),Mue=le([jt,F2,Bn,Vn],RV),Due=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Fc(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?pi(i[0]-i[1])*2*m:m,f&&l?l.map((b,w)=>({coordinate:r(b)+m,value:b,index:w,offset:m})):r.domain().map((b,w)=>({coordinate:r(b)+m,value:s?s[b]:b,index:w,offset:m}))}}},lo=le([jt,Bn,U2,JV,QV,Rue,Mue,Vn],Due),q2=le([DV,LV,Gce],(t,e,n)=>VV(n.shared,t,e)),e8=t=>t.tooltip.settings.trigger,$2=t=>t.tooltip.settings.defaultIndex,op=le([sf,q2,e8,$2],HV),Md=le([op,lf,np,sp],B2),t8=le([lo,Md],BV),n8=le([op],t=>{if(t)return t.dataKey});le([op],t=>{if(t)return t.graphicalItemId});var r8=le([sf,q2,e8,$2],KV),Lue=le([no,ro,jt,Qn,lo,$2,r8,ap],GV),Vue=le([op,Lue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Bue=le([op],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Uue=le([r8,Md,ao,np,t8,ap,q2],YV);le([Uue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return(e=que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hue=()=>Ye(Bn),Gue=()=>{var t=Hue(),e=Ye(lo),n=Ye(JV);return _y(!t||!n?void 0:bR(bR({},t),{},{scale:n}),e)};function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Wue(t,"string");return typeof e=="symbol"?e:e+""}function Wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Que=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Fu(Fu(Fu({},r),hr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Fu(Fu(Fu({},r),hr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Zue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var i8=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,p,m,b,w=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,E=(p=n[c])===null||p===void 0?void 0:p.coordinate,S=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,_=void 0;if(!(w==null||E==null||S==null))if(pi(E-w)!==pi(S-E)){var k=[];if(pi(S-E)===pi(i[1]-i[0])){_=S;var z=E+i[1]-i[0];k[0]=Math.min(z,(z+w)/2),k[1]=Math.max(z,(z+w)/2)}else{_=w;var I=S+i[1]-i[0];k[0]=Math.min(E,(I+E)/2),k[1]=Math.max(E,(I+E)/2)}var D=[Math.min(E,(_+E)/2),Math.max(E,(_+E)/2)];if(t>D[0]&&t<=D[1]||t>=k[0]&&t<=k[1]){var j;return(j=n[c])===null||j===void 0?void 0:j.index}}else{var F=Math.min(w,S),P=Math.max(w,S);if(t>(F+E)/2&&t<=(P+E)/2){var C;return(C=n[c])===null||C===void 0?void 0:C.index}}}else if(e)for(var R=0;R<l;R++){var V=e[R];if(V!=null){var L=e[R+1],$=e[R-1];if(R===0&&L!=null&&t<=(V.coordinate+L.coordinate)/2||R===l-1&&$!=null&&t>(V.coordinate+$.coordinate)/2||R>0&&R<l-1&&$!=null&&L!=null&&t>(V.coordinate+$.coordinate)/2&&t<=(V.coordinate+L.coordinate)/2)return V.index}}return-1},Jue=()=>Ye(_2),H2=(t,e)=>e,a8=(t,e,n)=>n,G2=(t,e,n,r)=>r,ede=le(lo,t=>Nv(t,e=>e.coordinate)),K2=le([sf,H2,a8,G2],HV),Y2=le([K2,lf,np,sp],B2),tde=(t,e,n)=>{if(e!=null){var r=sf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},s8=le([sf,H2,a8,G2],KV),qy=le([no,ro,jt,Qn,lo,G2,s8,ap],GV),nde=le([K2,qy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),o8=le([lo,Y2],BV),rde=le([s8,Y2,ao,np,o8,ap,H2],YV),ide=le([K2,Y2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ade=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Zue(t,l)){var c=Pre(t,e),d=i8(c,s,i,n,r),f=Xue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},sde=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=$ae(t,n);if(c){var d=zre(c,e),f=i8(d,l,s,r,i),p=Que(e,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},ode=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?ade(t,e,r,i,s,l,c):sde(t,e,n,r,i,s,l)},lde=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),cde=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Kr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Kle}});function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return(e=dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=fde(t,"string");return typeof e=="symbol"?e:e+""}function fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hde={},mde={zIndexMap:Object.values(Kr).reduce((t,e)=>_R(_R({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),hde)},pde=new Set(Object.values(Kr));function gde(t){return pde.has(t)}var l8=Wr({name:"zIndex",initialState:mde,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!gde(n)&&delete t.zIndexMap[n])},prepare:Zt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Zt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Zt()}}}),{registerZIndexPortal:yde,unregisterZIndexPortal:vde,registerZIndexPortalElement:bde,unregisterZIndexPortalElement:xde}=l8.actions,wde=l8.reducer;function Sl(t){var{zIndex:e,children:n}=t,r=pie(),i=r&&e!==void 0&&e!==0,s=Si(),l=vn();T.useLayoutEffect(()=>i?(l(yde({zIndex:e})),()=>{l(vde({zIndex:e}))}):$m,[l,e,i]);var c=Ye(d=>lde(d,e,s));return i?c?mS.createPortal(n,c):null:n}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tde(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Ade(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:p}=t,m=n,b=r,w=i;if(!d||!m||p!=="ScatterChart"&&f!=="axis")return null;var E,S,_;if(p==="ScatterChart")E=m,S=rae,_=Kr.cursorLine;else if(p==="BarChart")E=iae(c,m,s,l),S=$9,_=Kr.cursorRectangle;else if(c==="radial"&&z6(m)){var{cx:k,cy:z,radius:I,startAngle:D,endAngle:j}=H9(m);E={cx:k,cy:z,startAngle:D,endAngle:j,innerRadius:I,outerRadius:I},S=K9,_=Kr.cursorLine}else E={points:Yae(c,m,s)},S=V9,_=Kr.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,P=r0(r0(r0(r0({stroke:"#ccc",pointerEvents:"none"},s),E),CT(d)),{},{payload:b,payloadIndex:w,className:xe("recharts-tooltip-cursor",F)});return T.createElement(Sl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},T.createElement(Tde,{cursor:d,cursorComp:S,cursorProps:P}))}function kde(t){var e=Gue(),n=fie(),r=Ym(),i=Jue();return e==null||n==null||r==null||i==null?null:T.createElement(Ade,WE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var c8=T.createContext(null),Nde=()=>T.useContext(c8),r_={exports:{}},SR;function Cde(){return SR||(SR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,m,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,m||d,b),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],w]:d._events[E].push(w):(d._events[E]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,w=m.length,E=new Array(w);b<w;b++)E[b]=m[b].fn;return E},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,b,w,E){var S=n?n+f:f;if(!this._events[S])return!1;var _=this._events[S],k=arguments.length,z,I;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,b),!0;case 5:return _.fn.call(_.context,p,m,b,w),!0;case 6:return _.fn.call(_.context,p,m,b,w,E),!0}for(I=1,z=new Array(k-1);I<k;I++)z[I-1]=arguments[I];_.fn.apply(_.context,z)}else{var D=_.length,j;for(I=0;I<D;I++)switch(_[I].once&&this.removeListener(f,_[I].fn,void 0,!0),k){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,m);break;case 4:_[I].fn.call(_[I].context,p,m,b);break;default:if(!z)for(j=1,z=new Array(k-1);j<k;j++)z[j-1]=arguments[j];_[I].fn.apply(_[I].context,z)}}return!0},c.prototype.on=function(f,p,m){return s(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return s(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,b){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!b||E.once)&&(!m||E.context===m)&&l(this,w);else{for(var S=0,_=[],k=E.length;S<k;S++)(E[S].fn!==p||b&&!E[S].once||m&&E[S].context!==m)&&_.push(E[S]);_.length?this._events[w]=_.length===1?_[0]:_:l(this,w)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(r_)),r_.exports}var Ide=Cde();const Ode=os(Ide);var wm=new Ode,XE="recharts.syncEvent.tooltip",TR="recharts.syncEvent.brush";function jde(t,e){if(e){var n=Number.parseInt(e,10);if(!is(n))return t?.[n]}}var Pde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},u8=Wr({name:"options",initialState:Pde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),zde=u8.reducer,{createEventEmitter:Rde}=u8.actions;function Mde(t){return t.tooltip.syncInteraction}var Dde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d8=Wr({name:"chartData",initialState:Dde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AR,setDataStartEndIndexes:Lde,setComputedData:Nve}=d8.actions,Vde=d8.reducer,Bde=["x","y"];function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e,n){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $de(t,e){if(t==null)return{};var n,r,i=Hde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gde(){var t=Ye(E2),e=Ye(S2),n=vn(),r=Ye(YL),i=Ye(lo),s=Ym(),l=Fv(),c=Ye(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return $m;var d=(f,p,m)=>{if(e!==m&&t===f){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:S}=w,_=$de(w,Bde),{x:k,y:z,width:I,height:D}=p.payload.sourceViewBox,j=qu(qu({},_),{},{x:l.x+(I?(E-k)/I:0)*l.width,y:l.y+(D?(S-z)/D:0)*l.height});n(qu(qu({},p),{},{payload:qu(qu({},p.payload),{},{coordinate:j})}))}else n(p);return}if(i!=null){var F;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=r(i,P);F=i[C]}else r==="value"&&(F=i.find(K=>String(K.value)===p.payload.label));var{coordinate:R}=p.payload;if(F==null||p.payload.active===!1||R==null||l==null){n(KE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:L}=R,$=Math.min(V,l.x+l.width),B=Math.min(L,l.y+l.height),ve={x:s==="horizontal"?F.coordinate:$,y:s==="horizontal"?B:F.coordinate},Ae=KE({active:p.payload.active,coordinate:ve,dataKey:p.payload.dataKey,index:String(F.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ae)}}};return wm.on(XE,d),()=>{wm.off(XE,d)}},[c,n,e,t,r,i,s,l])}function Kde(){var t=Ye(E2),e=Ye(S2),n=vn();T.useEffect(()=>{if(t==null)return $m;var r=(i,s,l)=>{e!==l&&t===i&&n(Lde(s))};return wm.on(TR,r),()=>{wm.off(TR,r)}},[n,e,t])}function Yde(){var t=vn();T.useEffect(()=>{t(Rde())},[t]),Gde(),Kde()}function Wde(t,e,n,r,i,s){var l=Ye(w=>tde(w,t,e)),c=Ye(S2),d=Ye(E2),f=Ye(YL),p=Ye(Mde),m=p?.active,b=Fv();T.useEffect(()=>{if(!m&&d!=null&&c!=null){var w=KE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});wm.emit(XE,d,w,c)}},[m,n,l,i,r,c,d,f,s,b])}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Xde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xde(t,e,n){return(e=Qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t){var e=Zde(t,"string");return typeof e=="symbol"?e:e+""}function Zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jde(t){return t.dataKey}function efe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Mie,e)}var IR=[],tfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function f8(t){var e,n,r=Wi(t,tfe),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:b,position:w,reverseDirection:E,useTranslate3d:S,wrapperStyle:_,cursor:k,shared:z,trigger:I,defaultIndex:D,portal:j,axisId:F}=r,P=vn(),C=typeof D=="number"?String(D):D;T.useEffect(()=>{P(Qce({shared:z,trigger:I,axisId:F,active:i,defaultIndex:C}))},[P,z,I,F,i,C]);var R=Fv(),V=L9(),L=Hce(z),{activeIndex:$,isActive:B}=(e=Ye(_e=>ide(_e,L,I,C)))!==null&&e!==void 0?e:{},ve=Ye(_e=>rde(_e,L,I,C)),Ae=Ye(_e=>o8(_e,L,I,C)),K=Ye(_e=>nde(_e,L,I,C)),ie=ve,re=Nde(),ye=(n=i??B)!==null&&n!==void 0?n:!1,[ke,q]=yne([ie,ye]),ee=L==="axis"?Ae:void 0;Wde(L,I,K,ee,$,ye);var Z=j??re;if(Z==null||R==null||L==null)return null;var ce=ie??IR;ye||(ce=IR),f&&ce.length&&(ce=qte(ce.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),b,Jde));var be=ce.length>0,we=T.createElement(qie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:ye,coordinate:K,hasPayload:be,offset:m,position:w,reverseDirection:E,useTranslate3d:S,viewBox:R,wrapperStyle:_,lastBoundingBox:ke,innerRef:q,hasPortalFromProps:!!j},efe(d,CR(CR({},r),{},{payload:ce,label:ee,active:ye,activeIndex:$,coordinate:K,accessibilityLayer:V})));return T.createElement(T.Fragment,null,mS.createPortal(we,Z),ye&&T.createElement(kde,{cursor:k,tooltipEventType:L,coordinate:K,payload:ce,index:$}))}var db=t=>null;db.displayName="Cell";function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class afe{constructor(e){nfe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ufe={cacheSize:2e3,enableCache:!0},h8=sfe({},ufe),jR=new afe(h8.cacheSize),dfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PR="recharts_measurement_span";function ffe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var zR=(t,e)=>{try{var n=document.getElementById(PR);n||(n=document.createElement("span"),n.setAttribute("id",PR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dfe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},qh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kv.isSsr)return{width:0,height:0};if(!h8.enableCache)return zR(e,n);var r=ffe(e,n),i=jR.get(r);if(i)return i;var s=zR(e,n);return jR.set(r,s),s},m8;function hfe(t,e,n){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bfe=["cm","mm","pt","pc","in","Q","px"];function xfe(t){return bfe.includes(t)}var Zu="NaN";function wfe(t,e){return t*vfe[e]}class ur{static parse(e){var n,[,r,i]=(n=yfe.exec(e))!==null&&n!==void 0?n:[];return r==null?ur.NaN:new ur(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,is(e)&&(this.unit=""),n!==""&&!gfe.test(n)&&(this.num=NaN,this.unit=""),xfe(n)&&(this.num=wfe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ur(NaN,""):new ur(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ur(NaN,""):new ur(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ur(NaN,""):new ur(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ur(NaN,""):new ur(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return is(this.num)}}m8=ur;hfe(ur,"NaN",new m8(NaN,""));function p8(t){if(t==null||t.includes(Zu))return Zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=RR.exec(e))!==null&&n!==void 0?n:[],l=ur.parse(r??""),c=ur.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Zu;e=e.replace(RR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,m,b]=(f=MR.exec(e))!==null&&f!==void 0?f:[],w=ur.parse(p??""),E=ur.parse(b??""),S=m==="+"?w.add(E):w.subtract(E);if(S.isNaN())return Zu;e=e.replace(MR,S.toString())}return e}var DR=/\(([^()]*)\)/;function _fe(t){for(var e=t,n;(n=DR.exec(e))!=null;){var[,r]=n;e=e.replace(DR,p8(r))}return e}function Efe(t){var e=t.replace(/\s+/g,"");return e=_fe(e),e=p8(e),e}function Sfe(t){try{return Efe(t)}catch{return Zu}}function i_(t){var e=Sfe(t.slice(5,-1));return e===Zu?"":e}var Tfe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Afe=["dx","dy","angle","className","breakAll"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function LR(t,e){if(t==null)return{};var n,r,i=kfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g8=/[ \f\n\r\t\v\u2028\u2029]+/,y8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Xn(e)||(n?i=e.toString().split(""):i=e.toString().split(g8));var s=i.map(c=>({word:c,width:qh(c,r).width})),l=n?0:qh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Nfe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var v8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),b8=t=>t.reduce((e,n)=>e.width>n.width?e:n),Cfe="",VR=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=y8({breakAll:n,style:r,children:d+Cfe});if(!f)return[!1,[]];var p=v8(f.wordsWithComputedWidth,s,l,c),m=p.length>i||b8(p).width>Number(s);return[m,p]},Ife=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=$e(s),p=String(l),m=v8(e,r,n,i);if(!f||i)return m;var b=m.length>s||b8(m).width>Number(r);if(!b)return m;for(var w=0,E=p.length-1,S=0,_;w<=E&&S<=p.length-1;){var k=Math.floor((w+E)/2),z=k-1,[I,D]=VR(p,z,d,c,s,r,n,i),[j]=VR(p,k,d,c,s,r,n,i);if(!I&&!j&&(w=k+1),I&&j&&(E=k-1),!I&&j){_=D;break}S++}return _||m},BR=t=>{var e=Xn(t)?[]:t.toString().split(g8);return[{words:e,width:void 0}]},Ofe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Kv.isSsr){var c,d,f=y8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,d=m}else return BR(r);return Ife({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return BR(r)},x8="#808080",jfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:x8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},W2=T.forwardRef((t,e)=>{var n=Wi(t,jfe),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:p}=n,m=LR(n,Tfe),b=T.useMemo(()=>Ofe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:w,dy:E,angle:S,className:_,breakAll:k}=m,z=LR(m,Afe);if(!as(r)||!as(i)||b.length===0)return null;var I=Number(r)+($e(w)?w:0),D=Number(i)+($e(E)?E:0);if(!sn(I)||!sn(D))return null;var j;switch(p){case"start":j=i_("calc(".concat(l,")"));break;case"middle":j=i_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:j=i_("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var P=b[0].width,{width:C}=m;F.push("scale(".concat($e(C)&&$e(P)?C/P:1,")"))}return S&&F.push("rotate(".concat(S,", ").concat(I,", ").concat(D,")")),F.length&&(z.transform=F.join(" ")),T.createElement("text",QE({},Gi(z),{ref:e,x:I,y:D,className:xe("recharts-text",_),textAnchor:f,fill:c.includes("url")?x8:c}),b.map((R,V)=>{var L=R.words.join(k?"":" ");return T.createElement("tspan",{x:I,dy:V===0?j:s,key:"".concat(L,"-").concat(V)},L)}))});W2.displayName="Text";var Pfe=["labelRef"],zfe=["content"];function UR(t,e){if(t==null)return{};var n,r,i=Rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mfe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Lfe(t,"string");return typeof e=="symbol"?e:e+""}function Lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(null,arguments)}var w8=T.createContext(null),Vfe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(w8.Provider,{value:d},c)},_8=()=>{var t=T.useContext(w8),e=Fv();return t||I9(e)},Bfe=T.createContext(null),Ufe=()=>{var t=T.useContext(Bfe),e=Ye(JL);return t||e},Ffe=t=>{var{value:e,formatter:n}=t,r=Xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},X2=t=>t!=null&&typeof t=="function",qfe=(t,e)=>{var n=pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$fe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:b,clockWise:w}=i,E=(f+p)/2,S=qfe(m,b),_=S>=0?1:-1,k,z;switch(e){case"insideStart":k=m+_*s,z=w;break;case"insideEnd":k=b-_*s,z=!w;break;case"end":k=b+_*s,z=w;break;default:throw new Error("Unsupported position ".concat(e))}z=S<=0?z:!z;var I=hr(c,d,E,k),D=hr(c,d,E,k+(z?1:-1)*359),j="M".concat(I.x,",").concat(I.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(z?0:1,`,
    `).concat(D.x,",").concat(D.y),F=Xn(t.id)?lm("recharts-radial-line-"):t.id;return T.createElement("text",Os({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:F,d:j})),T.createElement("textPath",{xlinkHref:"#".concat(F)},n))},Hfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:p,y:m}=hr(r,i,l+e,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:w,y:E}=hr(r,i,b,f);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},ZE=t=>"cx"in t&&$e(t.cx),Gfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!ZE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:p}=e,m=l,b=l+(d-f)/2,w=(m+b)/2,E=(d+f)/2,S=m+d/2,_=p>=0?1:-1,k=_*r,z=_>0?"end":"start",I=_>0?"start":"end",D=d>=0?1:-1,j=D*r,F=D>0?"end":"start",P=D>0?"start":"end";if(i==="top"){var C={x:m+d/2,y:c-k,textAnchor:"middle",verticalAnchor:z};return pn(pn({},C),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var R={x:b+f/2,y:c+p+k,textAnchor:"middle",verticalAnchor:I};return pn(pn({},R),s?{height:Math.max(s.y+s.height-(c+p),0),width:f}:{})}if(i==="left"){var V={x:w-j,y:c+p/2,textAnchor:F,verticalAnchor:"middle"};return pn(pn({},V),s?{width:Math.max(V.x-s.x,0),height:p}:{})}if(i==="right"){var L={x:w+E+j,y:c+p/2,textAnchor:P,verticalAnchor:"middle"};return pn(pn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:p}:{})}var $=s?{width:E,height:p}:{};return i==="insideLeft"?pn({x:w+j,y:c+p/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?pn({x:w+E-j,y:c+p/2,textAnchor:F,verticalAnchor:"middle"},$):i==="insideTop"?pn({x:m+d/2,y:c+k,textAnchor:"middle",verticalAnchor:I},$):i==="insideBottom"?pn({x:b+f/2,y:c+p-k,textAnchor:"middle",verticalAnchor:z},$):i==="insideTopLeft"?pn({x:m+j,y:c+k,textAnchor:P,verticalAnchor:I},$):i==="insideTopRight"?pn({x:m+d-j,y:c+k,textAnchor:F,verticalAnchor:I},$):i==="insideBottomLeft"?pn({x:b+j,y:c+p-k,textAnchor:P,verticalAnchor:z},$):i==="insideBottomRight"?pn({x:b+f-j,y:c+p-k,textAnchor:F,verticalAnchor:z},$):i&&typeof i=="object"&&($e(i.x)||Gs(i.x))&&($e(i.y)||Gs(i.y))?pn({x:l+ya(i.x,E),y:c+ya(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):pn({x:S,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},Kfe={angle:0,offset:5,zIndex:Kr.label,position:"middle",textBreakAll:!1};function Wo(t){var e=Wi(t,Kfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,p=Ufe(),m=_8(),b=r==="center"?m:p??m,w,E,S;if(n==null?w=b:ZE(n)?w=n:w=I9(n),!w||Xn(i)&&Xn(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var _=pn(pn({},e),{},{viewBox:w});if(T.isValidElement(l)){var{labelRef:k}=_,z=UR(_,Pfe);return T.cloneElement(l,z)}if(typeof l=="function"){var{content:I}=_,D=UR(_,zfe);if(E=T.createElement(l,D),T.isValidElement(E))return E}else E=Ffe(e);var j=Gi(e);if(ZE(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $fe(e,r,E,j,w);S=Hfe(w,e.offset,e.position)}else S=Gfe(e,w);return T.createElement(Sl,{zIndex:e.zIndex},T.createElement(W2,Os({ref:f,className:xe("recharts-label",c)},j,S,{textAnchor:Nfe(j.textAnchor)?j.textAnchor:S.textAnchor,breakAll:d}),E))}Wo.displayName="Label";var Yfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Wo,Os({key:"label-implicit"},r)):as(t)?T.createElement(Wo,Os({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Wo?T.cloneElement(t,pn({key:"label-implicit"},r)):T.createElement(Wo,Os({key:"label-implicit",content:t},r)):X2(t)?T.createElement(Wo,Os({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Wo,Os({},t,{key:"label-implicit"},r)):null};function Wfe(t){var{label:e,labelRef:n}=t,r=_8();return Yfe(e,r,n)||null}var a_={},s_={},qR;function Xfe(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(s_)),s_}var o_={},$R;function Qfe(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(o_)),o_}var HR;function Zfe(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xfe(),n=Qfe(),r=DT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(a_)),a_}var l_,GR;function Jfe(){return GR||(GR=1,l_=Zfe().last),l_}var ehe=Jfe();const the=os(ehe);var nhe=["valueAccessor"],rhe=["dataKey","clockWise","id","textBreakAll","zIndex"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function KR(t,e){if(t==null)return{};var n,r,i=ihe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ihe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ahe=t=>Array.isArray(t.value)?the(t.value):t.value,E8=T.createContext(void 0),she=E8.Provider,S8=T.createContext(void 0);S8.Provider;function ohe(){return T.useContext(E8)}function lhe(){return T.useContext(S8)}function N0(t){var{valueAccessor:e=ahe}=t,n=KR(t,nhe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=KR(n,rhe),f=ohe(),p=lhe(),m=f||p;return!m||!m.length?null:T.createElement(Sl,{zIndex:c??Kr.label},T.createElement(Hs,{className:"recharts-label-list"},m.map((b,w)=>{var E,S=Xn(r)?e(b,w):mr(b&&b.payload,r),_=Xn(s)?{}:{id:"".concat(s,"-").concat(w)};return T.createElement(Wo,$y({key:"label-".concat(w)},Gi(b),d,_,{fill:(E=n.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}N0.displayName="LabelList";function che(t){var{label:e}=t;return e?e===!0?T.createElement(N0,{key:"labelList-implicit"}):T.isValidElement(e)||X2(e)?T.createElement(N0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(N0,$y({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var uhe={radiusAxis:{},angleAxis:{}},T8=Wr({name:"polarAxis",initialState:uhe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Cve,removeRadiusAxis:Ive,addAngleAxis:Ove,removeAngleAxis:jve}=T8.actions,dhe=T8.reducer,c_={exports:{}},Dt={};var YR;function fhe(){if(YR)return Dt;YR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case t:switch(S=S.type,S){case n:case i:case r:case d:case f:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case m:case p:return S;case s:return S;default:return _}}case e:return _}}}return Dt.ContextConsumer=s,Dt.ContextProvider=l,Dt.Element=t,Dt.ForwardRef=c,Dt.Fragment=n,Dt.Lazy=m,Dt.Memo=p,Dt.Portal=e,Dt.Profiler=i,Dt.StrictMode=r,Dt.Suspense=d,Dt.SuspenseList=f,Dt.isContextConsumer=function(S){return E(S)===s},Dt.isContextProvider=function(S){return E(S)===l},Dt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Dt.isForwardRef=function(S){return E(S)===c},Dt.isFragment=function(S){return E(S)===n},Dt.isLazy=function(S){return E(S)===m},Dt.isMemo=function(S){return E(S)===p},Dt.isPortal=function(S){return E(S)===e},Dt.isProfiler=function(S){return E(S)===i},Dt.isStrictMode=function(S){return E(S)===r},Dt.isSuspense=function(S){return E(S)===d},Dt.isSuspenseList=function(S){return E(S)===f},Dt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===c||S.$$typeof===w||S.getModuleId!==void 0)},Dt.typeOf=E,Dt}var WR;function hhe(){return WR||(WR=1,c_.exports=fhe()),c_.exports}var mhe=hhe(),XR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",QR=null,u_=null,A8=t=>{if(t===QR&&Array.isArray(u_))return u_;var e=[];return T.Children.forEach(t,n=>{Xn(n)||(mhe.isFragment(n)?e=e.concat(A8(n.props.children)):e.push(n))}),u_=e,QR=t,e};function phe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>XR(i)):r=[XR(e)],A8(t).forEach(i=>{var s=Nd(i,"type.displayName")||Nd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var d_={},ZR;function ghe(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(d_)),d_}var f_,JR;function yhe(){return JR||(JR=1,f_=ghe().isPlainObject),f_}var vhe=yhe();const bhe=os(vhe);var eM,tM,nM,rM,iM;function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function Eh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var oM=(t,e,n,r,i)=>{var s=n-r,l;return l=un(eM||(eM=Eh(["M ",",",""])),t,e),l+=un(tM||(tM=Eh(["L ",",",""])),t+n,e),l+=un(nM||(nM=Eh(["L ",",",""])),t+n-s/2,e+i),l+=un(rM||(rM=Eh(["L ",",",""])),t+n-s/2-r,e+i),l+=un(iM||(iM=Eh(["L ",","," Z"])),t,e),l},Ehe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},She=t=>{var e=Wi(t,Ehe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=e,b=T.useRef(null),[w,E]=T.useState(-1),S=T.useRef(i),_=T.useRef(s),k=T.useRef(l),z=T.useRef(n),I=T.useRef(r),D=XT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ve=b.current.getTotalLength();ve&&E(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var j=xe("recharts-trapezoid",c);if(!m)return T.createElement("g",null,T.createElement("path",Hy({},Gi(e),{className:j,d:oM(n,r,i,s,l)})));var F=S.current,P=_.current,C=k.current,R=z.current,V=I.current,L="0px ".concat(w===-1?1:w,"px"),$="".concat(w,"px 0px"),B=B9(["strokeDasharray"],f,d);return T.createElement(WT,{animationId:D,key:D,canBegin:w>0,duration:f,easing:d,isActive:m,begin:p},ve=>{var Ae=fr(F,i,ve),K=fr(P,s,ve),ie=fr(C,l,ve),re=fr(R,n,ve),ye=fr(V,r,ve);b.current&&(S.current=Ae,_.current=K,k.current=ie,z.current=re,I.current=ye);var ke=ve>0?{transition:B,strokeDasharray:$}:{strokeDasharray:L};return T.createElement("path",Hy({},Gi(e),{className:j,d:oM(re,ye,Ae,K,ie),ref:b,style:sM(sM({},ke),e.style)}))})},The=["option","shapeType","activeClassName"];function Ahe(t,e){if(t==null)return{};var n,r,i=khe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function khe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){Nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nhe(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ohe(t,e){return Gy(Gy({},e),t)}function jhe(t,e){return t==="symbols"}function cM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement($9,n);case"trapezoid":return T.createElement(She,n);case"sector":return T.createElement(K9,n);case"symbols":if(jhe(e))return T.createElement(P6,n);break;case"curve":return T.createElement(V9,n);default:return null}}function Phe(t){return T.isValidElement(t)?t.props:t}function zhe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Ahe(t,The),s;if(T.isValidElement(e))s=T.cloneElement(e,Gy(Gy({},i),Phe(e)));else if(typeof e=="function")s=e(i,i.index);else if(bhe(e)&&typeof e!="boolean"){var l=Ohe(e,i);s=T.createElement(cM,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(cM,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(Hs,{className:r},s):s}var k8=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t?.(i,s,l),r(FV({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},N8=t=>{var e=vn();return(n,r)=>i=>{t?.(n,r,i),e(Zce())}},C8=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t?.(i,s,l),r(Jce({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Rhe(t){var{tooltipEntrySettings:e}=t,n=vn(),r=Si(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Yce(e)):i.current!==e&&n(Wce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(Xce(i.current)),i.current=null)},[n]),null}function Mhe(t){var{legendPayload:e}=t,n=vn(),r=Si(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Nie(e)):i.current!==e&&n(Cie({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Iie(i.current)),i.current=null)},[n]),null}var h_,Dhe=()=>{var[t]=T.useState(()=>lm("uid-"));return t},Lhe=(h_=UU.useId)!==null&&h_!==void 0?h_:Dhe;function Vhe(t,e){var n=Lhe();return e||(t?"".concat(t,"-").concat(n):n)}var Bhe=T.createContext(void 0),Uhe=t=>{var{id:e,type:n,children:r}=t,i=Vhe("recharts-".concat(n),e);return T.createElement(Bhe.Provider,{value:i},r(i))},Fhe={cartesianItems:[],polarItems:[]},I8=Wr({name:"graphicalItems",initialState:Fhe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ga(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ga(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(t,e){var n=ga(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:qhe,replaceCartesianGraphicalItem:$he,removeCartesianGraphicalItem:Hhe,addPolarGraphicalItem:Pve,removePolarGraphicalItem:zve}=I8.actions,Ghe=I8.reducer,Khe=t=>{var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(qhe(t)):n.current!==t&&e($he({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Hhe(n.current)),n.current=null)},[e]),null},Yhe=T.memo(Khe);function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O8=0,Zhe={xAxis:{},yAxis:{},zAxis:{}},j8=Wr({name:"cartesianAxis",initialState:Zhe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=dM(dM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Jhe,replaceXAxis:eme,removeXAxis:tme,addYAxis:nme,replaceYAxis:rme,removeYAxis:ime,addZAxis:Rve,replaceZAxis:Mve,removeZAxis:Dve,updateYAxisWidth:ame}=j8.actions,sme=j8.reducer,ome=le([Qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),lme=le([ome,no,ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),P8=()=>Ye(lme),fM=(t,e,n)=>{var r=n??t;if(!Xn(r))return ya(r,e,0)},cme=(t,e,n)=>{var r={},i=t.filter(ib),s=t.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(l).map(f=>{var[p,m]=f,b=m.map(E=>E.dataKey),w=fM(e,n,m[0].barSize);return{stackId:p,dataKeys:b,barSize:w}}),d=s.map(f=>{var p=[f.dataKey].filter(b=>b!=null),m=fM(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]};function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=fme(t,"string");return typeof e=="symbol"?e:e+""}function fme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=ya(t,n,0,!0),c,d=[];if(sn(r[0].barSize)){var f=!1,p=n/s,m=r.reduce((k,z)=>k+(z.barSize||0),0);m+=(s-1)*l,m>=n&&(m-=(s-1)*l,l=0),m>=n&&p>0&&(f=!0,p*=.9,m=s*p);var b=(n-m)/2>>0,w={offset:b-l,size:0};c=r.reduce((k,z)=>{var I,D={stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:w.offset+w.size+l,size:f?p:(I=z.barSize)!==null&&I!==void 0?I:0}},j=[...k,D];return w=j[j.length-1].position,j},d)}else{var E=ya(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var S=(n-2*E-(s-1)*l)/s;S>1&&(S>>=0);var _=sn(i)?Math.min(S,i):S;c=r.reduce((k,z,I)=>[...k,{stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:E+(S+l)*I+(S-_)/2,size:_}}],d)}return c}}var mme=(t,e,n,r,i,s,l)=>{var c=Xn(l)?e:l,d=hme(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>i0(i0({},f),{},{position:i0(i0({},f.position),{},{offset:f.position.offset-i/2})}))),d},pme=(t,e)=>{var n=N2(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function gme(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&sn(t.zIndex)?t.zIndex:e}var yme=t=>{var{chartData:e}=t,n=vn(),r=Si();return T.useEffect(()=>r?()=>{}:(n(AR(e)),()=>{n(AR(void 0))}),[e,n,r]),null},mM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},z8=Wr({name:"brush",initialState:mM,reducers:{setBrushSettings(t,e){return e.payload==null?mM:e.payload}}}),{setBrushSettings:Lve}=z8.actions,vme=z8.reducer;function bme(t,e,n){return(e=xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=wme(t,"string");return typeof e=="symbol"?e:e+""}function wme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Q2{static create(e){return new Q2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}bme(Q2,"EPS",1e-4);function _me(t){return(t%180+180)%180}var Eme=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_me(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Sme={dots:[],areas:[],lines:[]},R8=Wr({name:"referenceElements",initialState:Sme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ga(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ga(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ga(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vve,removeDot:Bve,addArea:Uve,removeArea:Fve,addLine:qve,removeLine:$ve}=R8.actions,Tme=R8.reducer,Ame=T.createContext(void 0),kme=t=>{var{children:e}=t,[n]=T.useState("".concat(lm("recharts"),"-clip")),r=P8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(Ame.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function M8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Nme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Eme(r,n)}function Cme(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function _m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ime(t,e){return M8(t,e+1)}function Ome(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,p=l,m=function(){var E=r?.[d];if(E===void 0)return{v:M8(r,f)};var S=d,_,k=()=>(_===void 0&&(_=n(E,S)),_),z=E.coordinate,I=d===0||_m(t,z,k,p,c);I||(d=0,p=l,f+=1),I&&(p=z+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=m(),b)return b.v;return[]}function jme(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var p=(l-1)%f,m=c,b=!0,w=function(){var z=r[E],I=E,D,j=()=>(D===void 0&&(D=n(z,I)),D),F=z.coordinate,P=E===p||_m(t,F,j,m,d);if(!P)return b=!1,1;P&&(m=F+t*(j()/2+i))},E=p;E<l&&!w();E+=f);if(b){for(var S=[],_=p;_<l;_+=f)S.push(r[_]);return S}}return[]}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pme(t,e,n){return(e=zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mme(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var w=s[b],E,S=()=>(E===void 0&&(E=n(w,b)),E);if(b===l-1){var _=t*(w.coordinate+t*S()/2-d);s[b]=w=vr(vr({},w),{},{tickCoord:_>0?w.coordinate-_*t:w.coordinate})}else s[b]=w=vr(vr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var k=_m(t,w.tickCoord,S,c,d);k&&(d=w.tickCoord-t*(S()/2+i),s[b]=vr(vr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function Dme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var p=r[c-1],m=n(p,c-1),b=t*(p.coordinate+t*m/2-f);if(l[c-1]=p=vr(vr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=_m(t,p.tickCoord,()=>m,d,f);w&&(f=p.tickCoord-t*(m/2+i),l[c-1]=vr(vr({},p),{},{isShow:!0}))}}for(var E=s?c-1:c,S=function(z){var I=l[z],D,j=()=>(D===void 0&&(D=n(I,z)),D);if(z===0){var F=t*(I.coordinate-t*j()/2-d);l[z]=I=vr(vr({},I),{},{tickCoord:F<0?I.coordinate-F*t:I.coordinate})}else l[z]=I=vr(vr({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var P=_m(t,I.tickCoord,j,d,f);P&&(d=I.tickCoord+t*(j()/2+i),l[z]=vr(vr({},I),{},{isShow:!0}))}},_=0;_<E;_++)S(_);return l}function Lme(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:p,angle:m}=t;if(!i||!i.length||!r)return[];if($e(d)||Kv.isSsr){var b;return(b=Ime(i,$e(d)?d:0))!==null&&b!==void 0?b:[]}var w=[],E=c==="top"||c==="bottom"?"width":"height",S=p&&E==="width"?qh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,D)=>{var j=typeof f=="function"?f(I.value,D):I.value;return E==="width"?Nme(qh(j,{fontSize:e,letterSpacing:n}),S,m):qh(j,{fontSize:e,letterSpacing:n})[E]},k=i.length>=2?pi(i[1].coordinate-i[0].coordinate):1,z=Cme(s,k,E);return d==="equidistantPreserveStart"?Ome(k,z,_,i,l):d==="equidistantPreserveEnd"?jme(k,z,_,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=Dme(k,z,_,i,l,d==="preserveStartEnd"):w=Mme(k,z,_,i,l),w.filter(I=>I.isShow))}var Vme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},Bme=["axisLine","width","height","className","hide","ticks","axisType"];function Ume(t,e){if(t==null)return{};var n,r,i=Fme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(null,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qme(t,e,n){return(e=$me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $me(t){var e=Hme(t,"string");return typeof e=="symbol"?e:e+""}function Hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Kr.axis};function Gme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Nn(Nn(Nn({},d),ml(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=Nn(Nn({},f),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var m=+(s==="left"&&!l||s==="right"&&l);f=Nn(Nn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",Dc({},f,{className:xe("recharts-cartesian-axis-line",Nd(c,"className"))}))}function Kme(t,e,n,r,i,s,l,c,d){var f,p,m,b,w,E,S=c?-1:1,_=t.tickSize||l,k=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=p=t.coordinate,b=n+ +!c*i,m=b-S*_,E=m-S*d,w=k;break;case"left":m=b=t.coordinate,p=e+ +!c*r,f=p-S*_,w=f-S*d,E=k;break;case"right":m=b=t.coordinate,p=e+ +c*r,f=p+S*_,w=f+S*d,E=k;break;default:f=p=t.coordinate,b=n+ +c*i,m=b+S*_,E=m+S*d,w=k;break}return{line:{x1:f,y1:m,x2:p,y2:b},tick:{x:w,y:E}}}function Yme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Wme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Xme(t){var{option:e,tickProps:n,value:r}=t,i,s=xe(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Nn(Nn({},n),{},{className:s}));else if(typeof e=="function")i=e(Nn(Nn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=xe(l,e?.className)),i=T.createElement(W2,Dc({},n,{className:l}),r)}return i}var Qme=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:p,mirror:m,x:b,y:w,width:E,height:S,tickSize:_,tickMargin:k,fontSize:z,letterSpacing:I,getTicksConfig:D,events:j,axisType:F}=t,P=Lme(Nn(Nn({},D),{},{ticks:n}),z,I),C=Yme(p,m),R=Wme(p,m),V=ml(D),L=CT(r),$={};typeof i=="object"&&($=i);var B=Nn(Nn({},V),{},{fill:"none"},$),ve=P.map(ie=>Nn({entry:ie},Kme(ie,b,w,E,S,p,_,m,k))),Ae=ve.map(ie=>{var{entry:re,line:ye}=ie;return T.createElement(Hs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&T.createElement("line",Dc({},B,ye,{className:xe("recharts-cartesian-axis-tick-line",Nd(i,"className"))})))}),K=ve.map((ie,re)=>{var{entry:ye,tick:ke}=ie,q=Nn(Nn(Nn(Nn({textAnchor:C,verticalAnchor:R},V),{},{stroke:"none",fill:s},L),ke),{},{index:re,payload:ye,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return T.createElement(Hs,Dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},MT(j,ye,re)),r&&T.createElement(Xme,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(ye.value,re):ye.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},K.length>0&&T.createElement(Sl,{zIndex:Kr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},K)),Ae.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},Ae))}),Zme=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=Ume(t,Bme),[p,m]=T.useState(""),[b,w]=T.useState(""),E=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Vme({ticks:E.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=T.useCallback(_=>{if(_){var k=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=k;var z=k[0];if(z){var I=window.getComputedStyle(z),D=I.fontSize,j=I.letterSpacing;(D!==p||j!==b)&&(m(D),w(j))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Sl,{zIndex:t.zIndex},T.createElement(Hs,{className:xe("recharts-cartesian-axis",s)},T.createElement(Gme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ml(t)}),T.createElement(Qme,{ref:S,axisType:d,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Vfe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Wfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),Z2=T.forwardRef((t,e)=>{var n=Wi(t,wc);return T.createElement(Zme,Dc({},n,{ref:e}))});Z2.displayName="CartesianAxis";var Jme={},D8=Wr({name:"errorBars",initialState:Jme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Hve,replaceErrorBar:Gve,removeErrorBar:Kve}=D8.actions,epe=D8.reducer,tpe=["children"];function npe(t,e){if(t==null)return{};var n,r,i=rpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ipe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ape=T.createContext(ipe);function spe(t){var{children:e}=t,n=npe(t,tpe);return T.createElement(ape.Provider,{value:n},e)}function L8(t,e){var n,r,i=Ye(f=>so(f,t)),s=Ye(f=>oo(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function ope(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=P8(),{needClipX:s,needClipY:l,needClip:c}=L8(e,n);if(!c||!i)return null;var{x:d,y:f,width:p,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-p/2,y:l?f:f-m/2,width:s?p:p*2,height:l?m:m*2}))}var m_={exports:{}},p_={};var yM;function lpe(){if(yM)return p_;yM=1;var t=Dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return p_.useSyncExternalStoreWithSelector=function(d,f,p,m,b){var w=i(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function _(j){if(!k){if(k=!0,z=j,j=m(j),b!==void 0&&E.hasValue){var F=E.value;if(b(F,j))return I=F}return I=j}if(F=I,n(z,j))return F;var P=m(j);return b!==void 0&&b(F,P)?(z=j,F):(z=j,I=P)}var k=!1,z,I,D=p===void 0?null:p;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,p,m,b]);var S=r(d,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},p_}var vM;function cpe(){return vM||(vM=1,m_.exports=lpe()),m_.exports}cpe();function upe(t){t()}function dpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){upe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var bM={notify(){},get:()=>[]};function fpe(t,e){let n,r=bM,i=0,s=!1;function l(S){p();const _=r.subscribe(S);let k=!1;return()=>{k||(k=!0,_(),m())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function f(){return s}function p(){i++,n||(n=t.subscribe(d),r=dpe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=bM)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,m())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return E}var hpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mpe=hpe(),ppe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gpe=ppe(),ype=()=>mpe||gpe?T.useLayoutEffect:T.useEffect,vpe=ype();function xM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function bpe(t,e){if(xM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!xM(t[n[i]],e[n[i]]))return!1;return!0}var xpe=Symbol.for("react-redux-context"),wpe=typeof globalThis<"u"?globalThis:{};function _pe(){if(!T.createContext)return{};const t=wpe[xpe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Epe=_pe();function Spe(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=fpe(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);vpe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Epe;return T.createElement(c.Provider,{value:s},e)}var Tpe=Spe,Ape=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kpe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function J2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Ape.has(r)){if(t[r]==null&&e[r]==null)continue;if(!bpe(t[r],e[r]))return!1}else if(!kpe(t[r],e[r]))return!1;return!0}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:O8}function Gc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:O8}var Npe="Invariant failed";function Cpe(t,e){throw new Error(Npe)}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}function Ky(t){return T.createElement(zhe,JE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Ipe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if($e(e))return e;var s=$e(r)||Xn(r);return s?e(r,i):(s||Cpe(),n)}},Ope=(t,e,n)=>n,jpe=(t,e)=>e,lp=le([I2,jpe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Ppe=le([lp],t=>t?.maxBarSize),zpe=(t,e,n,r)=>r,Rpe=le([jt,I2,Hc,Gc,Ope],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Mpe=(t,e,n)=>{var r=jt(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null))return r==="horizontal"?GE(t,"yAxis",s,n):GE(t,"xAxis",i,n)},Dpe=(t,e)=>{var n=jt(t),r=Hc(t,e),i=Gc(t,e);if(!(r==null||i==null))return n==="horizontal"?mR(t,"xAxis",r):mR(t,"yAxis",i)},Lpe=le([Rpe,Ule,Dpe],cme),Vpe=(t,e,n)=>{var r,i,s=lp(t,e);if(s!=null){var l=Hc(t,e),c=Gc(t,e);if(!(l==null||c==null)){var d=jt(t),f=HL(t),{maxBarSize:p}=s,m=Xn(p)?f:p,b,w;return d==="horizontal"?(b=Rd(t,"xAxis",l,n),w=zd(t,"xAxis",l,n)):(b=Rd(t,"yAxis",c,n),w=zd(t,"yAxis",c,n)),(r=(i=_y(b,w,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},V8=(t,e,n)=>{var r=jt(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=Rd(t,"xAxis",i,n),c=zd(t,"xAxis",i,n)):(l=Rd(t,"yAxis",s,n),c=zd(t,"yAxis",s,n)),_y(l,c)}},Bpe=le([Lpe,HL,Ble,GL,Vpe,V8,Ppe],mme),Upe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Rd(t,"xAxis",r,n)},Fpe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return Rd(t,"yAxis",r,n)},qpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return zd(t,"xAxis",r,n)},$pe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return zd(t,"yAxis",r,n)},Hpe=le([Bpe,lp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Gpe=le([Mpe,lp],pme),Kpe=le([Qn,HT,Upe,Fpe,qpe,$pe,Hpe,jt,Nle,V8,Gpe,lp,zpe],(t,e,n,r,i,s,l,c,d,f,p,m,b)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:S}=d;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:_}=m,k;if(_!=null&&_.length>0?k=_:k=w?.slice(E,S+1),k!=null)return _ge({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:k,offset:t,cells:b,dataStartIndex:E})}}),Ype=["index"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function Wpe(t,e){if(t==null)return{};var n,r,i=Xpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var B8=T.createContext(void 0),Qpe=t=>{var e=T.useContext(B8);if(e!=null)return e.stackId;if(t!=null)return Nre(t)},Zpe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Jpe=t=>{var e=T.useContext(B8);if(e!=null){var{stackId:n}=e;return"url(#".concat(Zpe(n,t),")")}},ege=t=>{var{index:e}=t,n=Wpe(t,Ype),r=Jpe(e);return T.createElement(Hs,eS({className:"recharts-bar-stack-layer",clipPath:r},n))},tge=["onMouseEnter","onMouseLeave","onClick"],nge=["value","background","tooltipPosition"],rge=["id"],ige=["onMouseEnter","onClick","onMouseLeave"];function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function age(t,e,n){return(e=sge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sge(t){var e=oge(t,"string");return typeof e=="symbol"?e:e+""}function oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yy(t,e){if(t==null)return{};var n,r,i=lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cge=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:S9(n,e),payload:t}]},uge=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:S9(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(Rhe,{tooltipEntrySettings:p})});function dge(t){var e=Ye(Md),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Yy(s,tge),p=k8(l,r,s.id),m=N8(c),b=C8(d,r,s.id);if(!i||n==null)return null;var w=CT(i);return T.createElement(Sl,{zIndex:gme(i,Kr.barBackground)},n.map((E,S)=>{var{value:_,background:k,tooltipPosition:z}=E,I=Yy(E,nge);if(!k)return null;var D=p(E,S),j=m(E,S),F=b(E,S),P=Nr(Nr(Nr(Nr(Nr({option:i,isActive:String(S)===e},I),{},{fill:"#eee"},k),w),MT(f,E,S)),{},{onMouseEnter:D,onMouseLeave:j,onClick:F,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return T.createElement(Ky,Zs({key:"background-bar-".concat(S)},P))}))}function fge(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Nr(Nr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(she,{value:e?i:void 0},n)}function hge(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Ye(Md),d=Ye(n8),f=n&&String(s)===c&&(d==null||l===d),p=f?n:e;return f?T.createElement(Sl,{zIndex:Kr.activeBar},T.createElement(Ky,Zs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))):T.createElement(Ky,Zs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))}function mge(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(Ky,Zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function pge(t){var e,{data:n,props:r}=t,i=(e=ml(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Yy(i,rge),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:p,onClick:m,onMouseLeave:b}=r,w=Yy(r,ige),E=k8(p,d,s),S=N8(b),_=C8(m,d,s);return n?T.createElement(T.Fragment,null,n.map((k,z)=>T.createElement(ege,Zs({index:z,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(z),className:"recharts-bar-rectangle"},MT(w,k,z),{onMouseEnter:E(k,z),onMouseLeave:S(k,z),onClick:_(k,z)}),f?T.createElement(hge,{shape:c,activeBar:f,baseProps:l,entry:k,index:z,dataKey:d}):T.createElement(mge,{shape:c,baseProps:l,entry:k,index:z,dataKey:d})))):null}function gge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=e,m=n.current,b=XT(e,"recharts-bar-"),[w,E]=T.useState(!1),S=!w,_=T.useCallback(()=>{typeof f=="function"&&f(),E(!1)},[f]),k=T.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return T.createElement(fge,{showLabels:S,rects:r},T.createElement(WT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:_,onAnimationStart:k,key:b},z=>{var I=z===1?r:r?.map((D,j)=>{var F=m&&m[j];if(F)return Nr(Nr({},D),{},{x:fr(F.x,D.x,z),y:fr(F.y,D.y,z),width:fr(F.width,D.width,z),height:fr(F.height,D.height,z)});if(i==="horizontal"){var P=fr(0,D.height,z),C=fr(D.stackedBarStart,D.y,z);return Nr(Nr({},D),{},{y:C,height:P})}var R=fr(0,D.width,z),V=fr(D.stackedBarStart,D.x,z);return Nr(Nr({},D),{},{width:R,x:V})});return z>0&&(n.current=I??null),I==null?null:T.createElement(Hs,null,T.createElement(pge,{props:e,data:I}))}),T.createElement(che,{label:e.label}),e.children)}function yge(t){var e=T.useRef(null);return T.createElement(gge,{previousRectanglesRef:e,props:t})}var U8=0,vge=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:mr(t,e)}};class bge extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var p=xe("recharts-bar",i),m=f;return T.createElement(Hs,{className:p,id:f},c&&T.createElement("defs",null,T.createElement(ope,{clipPathId:m,xAxisId:s,yAxisId:l})),T.createElement(Hs,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},T.createElement(dge,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(yge,this.props)))}}var xge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:U8,xAxisId:0,yAxisId:0,zIndex:Kr.bar};function wge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=t,{needClip:m}=L8(e,n),b=Ym(),w=Si(),E=phe(t.children,db),S=Ye(z=>Kpe(z,t.id,w,E));if(b!=="vertical"&&b!=="horizontal")return null;var _,k=S?.[0];return k==null||k.height==null||k.width==null?_=0:_=b==="vertical"?k.height/2:k.width/2,T.createElement(spe,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:vge,errorBarOffset:_},T.createElement(bge,Zs({},t,{layout:b,needClip:m,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function _ge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:m,offset:b,cells:w,parentViewBox:E,dataStartIndex:S}=t,_=e==="horizontal"?c:l,k=p?_.scale.domain():null,z=Cre({numericAxis:_}),I=_.scale(z);return m.map((D,j)=>{var F,P,C,R,V,L;if(p){var $=p[j+S];if($==null)return null;F=Ere($,k)}else F=mr(D,n),Array.isArray(F)||(F=[z,F]);var B=Ipe(r,U8)(F[1],j);if(e==="horizontal"){var ve,[Ae,K]=[c.scale(F[0]),c.scale(F[1])];P=bP({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:D,index:j}),C=(ve=K??Ae)!==null&&ve!==void 0?ve:void 0,R=i.size;var ie=Ae-K;if(V=is(ie)?0:ie,L={x:P,y:b.top,width:R,height:b.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var re=pi(V||B)*(Math.abs(B)-Math.abs(V));C-=re,V+=re}}else{var[ye,ke]=[l.scale(F[0]),l.scale(F[1])];if(P=ye,C=bP({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:D,index:j}),R=ke-ye,V=i.size,L={x:b.left,y:C,width:b.width,height:V},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var q=pi(R||B)*(Math.abs(B)-Math.abs(R));R+=q}}if(P==null||C==null||R==null||V==null)return null;var ee=Nr(Nr({},D),{},{stackedBarStart:I,x:P,y:C,width:R,height:V,value:p?F:F[1],payload:D,background:L,tooltipPosition:{x:P+R/2,y:C+V/2},parentViewBox:E},w&&w[j]&&w[j].props);return ee}).filter(Boolean)}function Ege(t){var e=Wi(t,xge),n=Qpe(e.stackId),r=Si();return T.createElement(Uhe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(Mhe,{legendPayload:cge(e)}),T.createElement(uge,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(Yhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(Sl,{zIndex:e.zIndex},T.createElement(wge,Zs({},e,{id:i})))))}var eA=T.memo(Ege,J2);eA.displayName="Bar";var Sge=["domain","range"],Tge=["domain","range"];function _M(t,e){if(t==null)return{};var n,r,i=Age(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function F8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=_M(t,Sge),{domain:s,range:l}=e,c=_M(e,Tge);return!EM(n,s)||!EM(r,l)?!1:J2(i,c)}var kge=["dangerouslySetInnerHTML","ticks","scale"],Nge=["id","scale"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function SM(t,e){if(t==null)return{};var n,r,i=Cge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ige(t){var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Jhe(t)):n.current!==t&&e(eme({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(tme(n.current)),n.current=null)},[e]),null}var Oge=t=>{var{xAxisId:e,className:n}=t,r=Ye(HT),i=Si(),s="xAxis",l=Ye(k=>MV(k,s,e,i)),c=Ye(k=>jV(k,e)),d=Ye(k=>Lce(k,e)),f=Ye(k=>tV(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:b}=t,w=SM(t,kge),{id:E,scale:S}=f,_=SM(f,Nge);return T.createElement(Z2,tS({},w,_,{x:d.x,y:d.y,width:c.width,height:c.height,className:xe("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},jge={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:wc.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Hn.type,xAxisId:0},Pge=t=>{var e=Wi(t,jge);return T.createElement(T.Fragment,null,T.createElement(Ige,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(Oge,e))},tA=T.memo(Pge,F8);tA.displayName="XAxis";var zge=["dangerouslySetInnerHTML","ticks","scale"],Rge=["id","scale"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function TM(t,e){if(t==null)return{};var n,r,i=Mge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dge(t){var e=vn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(nme(t)):n.current!==t&&e(rme({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(ime(n.current)),n.current=null)},[e]),null}var Lge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=Ye(HT),d=Si(),f=vn(),p="yAxis",m=Ye(F=>PV(F,e)),b=Ye(F=>Bce(F,e)),w=Ye(F=>MV(F,p,e,d)),E=Ye(F=>nV(F,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!m||X2(i)||T.isValidElement(i)||E==null)){var F=s.current;if(F){var P=F.getCalculatedWidth();Math.round(m.width)!==Math.round(P)&&f(ame({id:e,width:P}))}}},[w,m,f,i,e,r,E]),m==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:_,scale:k}=t,z=TM(t,zge),{id:I,scale:D}=E,j=TM(E,Rge);return T.createElement(Z2,nS({},z,j,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:xe("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:w,axisType:p}))},Vge={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:wc.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},Bge=t=>{var e=Wi(t,Vge);return T.createElement(T.Fragment,null,T.createElement(Dge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(Lge,e))},q8=T.memo(Bge,F8);q8.displayName="YAxis";var Uge=(t,e)=>e,nA=le([Uge,jt,JL,Vn,ZV,lo,ede,Qn],ode),rA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},$8=Ki("mouseClick"),H8=Gm();H8.startListening({actionCreator:$8,effect:(t,e)=>{var n=t.payload,r=nA(e.getState(),rA(n));r?.activeIndex!=null&&e.dispatch(eue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rS=Ki("mouseMove"),G8=Gm(),a0=null;G8.startListening({actionCreator:rS,effect:(t,e)=>{var n=t.payload;a0!==null&&cancelAnimationFrame(a0);var r=rA(n);a0=requestAnimationFrame(()=>{var i=e.getState(),s=V2(i,i.tooltip.settings.shared);if(s==="axis"){var l=nA(i,r);l?.activeIndex!=null?e.dispatch($V({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(qV())}a0=null})}});function Fge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var AM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},K8=Wr({name:"rootProps",initialState:AM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:AM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),qge=K8.reducer,{updateOptions:$ge}=K8.actions,Y8=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Yve}=Y8.actions,Hge=Y8.reducer,W8=Ki("keyDown"),X8=Ki("focus"),iA=Gm();iA.startListening({actionCreator:W8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=B2(i,lf(n),np(n),sp(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=lo(n);if(s==="Enter"){var f=qy(n,"axis","hover",String(i.index));e.dispatch(YE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var p=$ce(n),m=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=c+b*m;if(!(d==null||w>=d.length||w<0)){var E=qy(n,"axis","hover",String(w));e.dispatch(YE({active:!0,activeIndex:w.toString(),activeCoordinate:E}))}}}}}});iA.startListening({actionCreator:X8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=qy(n,"axis","hover",String(s));e.dispatch(YE({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ui=Ki("externalEvent"),Q8=Gm(),g_=new Map;Q8.startListening({actionCreator:Ui,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=g_.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:Vue(c),activeDataKey:n8(c),activeIndex:Md(c),activeLabel:t8(c),activeTooltipIndex:Md(c),isTooltipActive:Bue(c)};n(d,r)}finally{g_.delete(i)}});g_.set(i,l)}}});var Gge=le([sf],t=>t.tooltipItemPayloads),Kge=le([Gge,ap,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),Z8=Ki("touchMove"),J8=Gm();J8.startListening({actionCreator:Z8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=V2(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=nA(r,rA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch($V({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(Mre),m=(c=f.getAttribute(Dre))!==null&&c!==void 0?c:void 0,b=of(r).find(S=>S.id===m);if(p==null||b==null||m==null)return;var{dataKey:w}=b,E=Kge(r,p,m);e.dispatch(FV({activeDataKey:w,activeIndex:p,activeCoordinate:E,activeGraphicalItemId:m}))}}}});var Yge=W6({brush:vme,cartesianAxis:sme,chartData:Vde,errorBars:epe,graphicalItems:Ghe,layout:yre,legend:Oie,options:zde,polarAxis:dhe,polarOptions:Hge,referenceElements:Tme,rootProps:qge,tooltip:tue,zIndex:wde}),Wge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Fne({reducer:Yge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([H8.middleware,G8.middleware,iA.middleware,Q8.middleware,J8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(u9({type:"raf"}))},devTools:{serialize:{replacer:Fge},name:"recharts-".concat(n)}})};function Xge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Si(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=Wge(e,r));var l=LT;return T.createElement(Tpe,{context:l,store:s.current},n)}function Qge(t){var{layout:e,margin:n}=t,r=vn(),i=Si();return T.useEffect(()=>{i||(r(mre(e)),r(hre(n)))},[r,i,e,n]),null}var Zge=T.memo(Qge,J2);function Jge(t){var e=vn();return T.useEffect(()=>{e($ge(t))},[e,t]),null}function kM(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=vn();return T.useLayoutEffect(()=>(r.current&&i(bde({zIndex:e,element:r.current,isPanorama:n})),()=>{i(xde({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function NM(t){var{children:e,isPanorama:n}=t,r=Ye(cde);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(kM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(kM,{key:l,zIndex:l,isPanorama:n})))}var e0e=["children"];function t0e(t,e){if(t==null)return{};var n,r,i=n0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}var r0e={width:"100%",height:"100%",display:"block"},i0e=T.forwardRef((t,e)=>{var n=hie(),r=mie(),i=L9();if(!pl(n)||!pl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),T.createElement(h6,Wy({},l,{title:c,desc:d,role:p,tabIndex:f,width:n,height:r,style:r0e,ref:e}),s)}),a0e=t=>{var{children:e}=t,n=Ye(Uv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(h6,{width:r,height:i,x:l,y:s},e)},CM=T.forwardRef((t,e)=>{var{children:n}=t,r=t0e(t,e0e),i=Si();return i?T.createElement(a0e,null,T.createElement(NM,{isPanorama:!0},n)):T.createElement(i0e,Wy({ref:e},r),T.createElement(NM,{isPanorama:!1},n))});function s0e(){var t=vn(),[e,n]=T.useState(null),r=Ye(Rre);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;sn(s)&&s!==r&&t(gre(s))}},[e,t,r]),n}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return(e=c0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}var d0e=()=>(Yde(),null);function Xy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var f0e=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Xy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Xy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,p)=>{l(m=>{var b=Math.round(f),w=Math.round(p);return m.containerWidth===b&&m.containerHeight===w?m:{containerWidth:b,containerHeight:w}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();c(p,m);var b=E=>{var{width:S,height:_}=E[0].contentRect;c(S,_)},w=new ResizeObserver(b);w.observe(f),i.current=w}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(qv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Lc({ref:d},t)))}),h0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Xy(n),containerHeight:Xy(r)}),l=T.useCallback((d,f)=>{s(p=>{var m=Math.round(d),b=Math.round(f);return p.containerWidth===m&&p.containerHeight===b?p:{containerWidth:m,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(qv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Lc({ref:c},t)))}),m0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(qv,{width:n,height:r}),T.createElement("div",Lc({ref:e},t)))}),p0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Gs(n)||Gs(r)?T.createElement(h0e,Lc({},t,{ref:e})):T.createElement(m0e,Lc({},t,{ref:e}))});function g0e(t){return t===!0?f0e:p0e}var y0e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:b,onTouchEnd:w,onTouchMove:E,onTouchStart:S,style:_,width:k,responsive:z,dispatchTouchEvents:I=!0}=t,D=T.useRef(null),j=vn(),[F,P]=T.useState(null),[C,R]=T.useState(null),V=s0e(),L=GT(),$=L?.width>0?L.width:k,B=L?.height>0?L.height:i,ve=T.useCallback(H=>{V(H),typeof e=="function"&&e(H),P(H),R(H),H!=null&&(D.current=H)},[V,e,P,R]),Ae=T.useCallback(H=>{j($8(H)),j(Ui({handler:s,reactEvent:H}))},[j,s]),K=T.useCallback(H=>{j(rS(H)),j(Ui({handler:f,reactEvent:H}))},[j,f]),ie=T.useCallback(H=>{j(qV()),j(Ui({handler:p,reactEvent:H}))},[j,p]),re=T.useCallback(H=>{j(rS(H)),j(Ui({handler:m,reactEvent:H}))},[j,m]),ye=T.useCallback(()=>{j(X8())},[j]),ke=T.useCallback(H=>{j(W8(H.key))},[j]),q=T.useCallback(H=>{j(Ui({handler:l,reactEvent:H}))},[j,l]),ee=T.useCallback(H=>{j(Ui({handler:c,reactEvent:H}))},[j,c]),Z=T.useCallback(H=>{j(Ui({handler:d,reactEvent:H}))},[j,d]),ce=T.useCallback(H=>{j(Ui({handler:b,reactEvent:H}))},[j,b]),be=T.useCallback(H=>{j(Ui({handler:S,reactEvent:H}))},[j,S]),we=T.useCallback(H=>{I&&j(Z8(H)),j(Ui({handler:E,reactEvent:H}))},[j,I,E]),_e=T.useCallback(H=>{j(Ui({handler:w,reactEvent:H}))},[j,w]),ze=g0e(z);return T.createElement(c8.Provider,{value:F},T.createElement(xee.Provider,{value:C},T.createElement(ze,{width:$??_?.width,height:B??_?.height,className:xe("recharts-wrapper",r),style:o0e({position:"relative",cursor:"default",width:$,height:B},_),onClick:Ae,onContextMenu:q,onDoubleClick:ee,onFocus:ye,onKeyDown:ke,onMouseDown:Z,onMouseEnter:K,onMouseLeave:ie,onMouseMove:re,onMouseUp:ce,onTouchEnd:_e,onTouchMove:we,onTouchStart:be,ref:ve},T.createElement(d0e,null),n)))}),v0e=["width","height","responsive","children","className","style","compact","title","desc"];function b0e(t,e){if(t==null)return{};var n,r,i=x0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var w0e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:p}=t,m=b0e(t,v0e),b=ml(m);return d?T.createElement(T.Fragment,null,T.createElement(qv,{width:n,height:r}),T.createElement(CM,{otherAttributes:b,title:f,desc:p},s)):T.createElement(y0e,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(CM,{otherAttributes:b,title:f,desc:p,ref:e},T.createElement(kme,null,s)))});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(null,arguments)}var _0e={top:5,right:5,bottom:5,left:5},E0e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_0e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},S0e=T.forwardRef(function(e,n){var r,i=Wi(e.categoricalChartProps,E0e),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(Xge,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(yme,{chartData:f.data}),T.createElement(Zge,{layout:i.layout,margin:i.margin}),T.createElement(Jge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(w0e,iS({},i,{ref:n})))}),T0e=["axis","item"],eB=T.forwardRef((t,e)=>T.createElement(S0e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:T0e,tooltipPayloadSearcher:jde,categoricalChartProps:t,ref:e}));const tB=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=_r(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?g.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:g.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[g.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),g.jsx("div",{className:"h-48 w-full mb-6",children:g.jsx(C9,{width:"100%",height:"100%",children:g.jsxs(eB,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[g.jsx(tA,{type:"number",hide:!0}),g.jsx(q8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),g.jsx(f8,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),g.jsx(eA,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>g.jsx(db,{fill:i[l%i.length]},`cell-${l}`))})]})})}),g.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return g.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),g.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),g.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},A0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=Or("expense"),{categories:i,addCategory:s}=kd("expense"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=_r(),p=t.filter(S=>{const[_,k]=S.date.split("-").map(Number);return k===d.getMonth()+1&&_===d.getFullYear()}),m=p.reduce((S,_)=>S+_.amount,0),b=()=>{const S=p.reduce((_,k)=>{const z=k.category||"Sin Categora";return _[z]=(_[z]||0)+k.amount,_},{});return Object.entries(S).map(([_,k])=>({name:_,value:k}))},w=S=>{l?(r(l.id,S),c(null)):e(S)},E=S=>{c(S),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(Sv,{}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(c6,{type:"expense",onSubmit:w,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(u6,{transactions:p,onDelete:n,onEdit:E})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(tB,{data:b(),total:m})})})]})]})},k0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=Or("income"),{categories:i,addCategory:s}=kd("income"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=_r(),p=t.filter(S=>{const[_,k]=S.date.split("-").map(Number);return k===d.getMonth()+1&&_===d.getFullYear()}),m=p.reduce((S,_)=>S+_.amount,0),b=()=>{const S=p.reduce((_,k)=>{const z=k.category||"Sin Categora";return _[z]=(_[z]||0)+k.amount,_},{});return Object.entries(S).map(([_,k])=>({name:_,value:k}))},w=S=>{l?(r(l.id,S),c(null)):e(S)},E=S=>{c(S),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(Sv,{}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(c6,{type:"income",onSubmit:w,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(u6,{transactions:p,onDelete:n,onEdit:E})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(tB,{data:b(),total:m})})})]})]})},aS={gift:V3,money:xT,heart:B3,phoenix:D3,piggy:Wd,wallet:Xd,star:G3,smile:H3,briefcase:yT,car:j3,plane:F3,home:U3,coffee:R3,game:L3,phone:$3,target:Ls},OM=({formData:t,setFormData:e,onSubmit:n,editingId:r,onCancel:i,currency:s})=>g.jsxs("form",{onSubmit:n,className:"space-y-5",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg",children:r?g.jsx(rZ,{size:20,className:"text-blue-500"}):g.jsx(vT,{size:20,className:"text-zinc-600 dark:text-zinc-300"})}),g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:r?"Editar Meta":"Nueva Meta"})]}),r&&g.jsx("button",{type:"button",onClick:i,className:"text-xs text-zinc-400 hover:text-zinc-600 underline",children:"Cancelar"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Nombre"}),g.jsx("input",{type:"text",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"Ej. Viaje Japn",value:t.name,onChange:l=>e({...t,name:l.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-xl border border-zinc-200 dark:border-zinc-800 max-h-32 overflow-y-auto custom-scrollbar",children:Object.keys(aS).map(l=>{const c=aS[l];return g.jsx("button",{type:"button",onClick:()=>e({...t,icon:l}),className:xe("p-2 rounded-lg flex items-center justify-center transition-all aspect-square",t.icon===l?"bg-emerald-500 text-white shadow-sm ring-2 ring-emerald-200 dark:ring-emerald-900":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(c,{size:18})},l)})})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:["Monto Objetivo (",s,")"]}),g.jsx("input",{type:"number",required:!0,className:"w-full text-lg font-bold bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"5000",value:t.targetAmount,onChange:l=>e({...t,targetAmount:l.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Fecha Lmite"}),g.jsx("input",{type:"date",required:!0,className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",value:t.deadline,onChange:l=>e({...t,deadline:l.target.value})})]})]}),g.jsx("button",{type:"submit",className:xe("w-full py-3 rounded-xl font-bold transition-all shadow-lg active:scale-[0.98]",r?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-500/20":"bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 hover:scale-[1.02] shadow-zinc-900/10 dark:shadow-none"),children:r?"Guardar Cambios":"Crear Meta"})]}),N0e=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,addContribution:i,withdraw:s,getMonthlyQuota:l,updateGoal:c,isGoalPaidThisMonth:d}=Um(),{total:f}=Or("income"),{total:p}=Or("expense"),{currency:m,goalPreferences:b}=_r(),w=t.reduce((q,ee)=>q+(ee.currentAmount||0),0),E=f-p-w,[S,_]=T.useState(null),[k,z]=T.useState({name:"",targetAmount:"",deadline:"",icon:"target",calculationMethod:b.defaultCalculationMethod}),[I,D]=T.useState(!1),[j,F]=T.useState({open:!1,type:"deposit",goalId:""}),[P,C]=T.useState(""),[R,V]=T.useState("spread"),L=q=>{const ee=l(q),Z=q.targetAmount/Math.max(1,(new Date(q.deadline).getFullYear()-new Date(q.startDate).getFullYear())*12+(new Date(q.deadline).getMonth()-new Date(q.startDate).getMonth()));return ee>Z*1.1?"behind":ee<Z*.9?"ahead":"on_track"},$=q=>{const ee=aS[q]||Ls;return g.jsx(ee,{size:24})},B=()=>{_(null),z({name:"",targetAmount:"",deadline:"",icon:"target",calculationMethod:b.defaultCalculationMethod}),D(!1)},ve=q=>{_(q.id),z({name:q.name,targetAmount:q.targetAmount.toString(),deadline:q.deadline,icon:q.icon||"target",calculationMethod:q.calculationMethod||"dynamic"}),window.innerWidth<1024?D(!0):(window.scrollTo({top:0,behavior:"smooth"}),at.info(`Editando: ${q.name}`))},[Ae,K]=T.useState({isOpen:!1,goalId:null}),ie=q=>{K({isOpen:!0,goalId:q})},re=()=>{Ae.goalId&&(n(Ae.goalId),at.success("Meta eliminada"),K({isOpen:!1,goalId:null}))},ye=q=>{q.preventDefault(),!(!k.name||!k.targetAmount||!k.deadline)&&(S?(c(S,{name:k.name,targetAmount:Number(k.targetAmount),deadline:k.deadline,icon:k.icon,calculationMethod:k.calculationMethod}),at.success("Meta actualizada")):(e({name:k.name,targetAmount:Number(k.targetAmount),deadline:k.deadline,startDate:new Date().toISOString().split("T")[0],icon:k.icon,calculationMethod:k.calculationMethod,recoveryStrategy:b.defaultRecoveryStrategy}),at.success("Meta creada con xito")),B())},ke=()=>{const q=Number(P);if(!(!q||q<=0)){if(j.type==="withdraw")s(j.goalId,q,void 0,R),at.success(`Retirado ${m}${q}`);else{if(E<q){at.error(`Saldo insuficiente (Disponible: ${m}${E})`);return}i(j.goalId,q,"Ingreso Extra"),at.success(`Ingresado ${m}${q}`)}F({...j,open:!1}),C("")}};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Metas de Ahorro"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Visualiza tus objetivos y ajusta tu ritmo de ahorro."})]}),g.jsxs("button",{onClick:()=>{B(),D(!0)},className:"lg:hidden w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-3 rounded-xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-2",children:[g.jsx(pa,{size:20})," Nueva Meta"]}),g.jsxs("div",{className:"hidden lg:block bg-emerald-50 dark:bg-emerald-900/10 px-4 py-2 rounded-xl border border-emerald-100 dark:border-emerald-900/30",children:[g.jsx("p",{className:"text-xs uppercase text-emerald-600 dark:text-emerald-400 font-bold",children:"Total Ahorrado"}),g.jsxs("p",{className:"text-xl font-bold text-emerald-700 dark:text-emerald-300",children:[m,w.toLocaleString()]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"hidden lg:block lg:col-span-1",children:g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-2xl shadow-sm dark:shadow-none sticky top-4",children:g.jsx(OM,{formData:k,setFormData:z,onSubmit:ye,editingId:S,onCancel:B,currency:m})})}),g.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 gap-4 align-top content-start",children:t.length===0?g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-dashed border-zinc-300 dark:border-zinc-700 rounded-3xl p-12 text-center",children:[g.jsx("div",{className:"inline-flex p-4 bg-zinc-100 dark:bg-zinc-800 rounded-full mb-4",children:g.jsx(Ls,{size:32,className:"text-zinc-400"})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin metas activas"}),g.jsx("p",{className:"text-zinc-500 max-w-sm mx-auto mt-2",children:"Crea tu primera meta de ahorro para empezar a planificar tu futuro financiero."})]}):t.map(q=>{const ee=q.currentAmount/q.targetAmount*100,Z=l(q),ce=L(q),be=E>=Z,we=d(q),_e=new Date().toLocaleString("es-ES",{month:"long"}),ze=_e.charAt(0).toUpperCase()+_e.slice(1);let H=null,pe=!1;if(q.calculationMethod==="dynamic"){const Ze=new Date;Ze.setMonth(Ze.getMonth()+1);const St=l(q,Ze,we?0:Z);St>Z+5?H="up":St<Z-5?H="down":H="stable",St>Z*1.2&&(pe=!0)}const Ce=new Date(q.startDate),W=new Date(q.deadline),Le=new Date,Oe=Math.max(1,(W.getFullYear()-Ce.getFullYear())*12+(W.getMonth()-Ce.getMonth())),We=Math.min(Oe,Math.max(1,(Le.getFullYear()-Ce.getFullYear())*12+(Le.getMonth()-Ce.getMonth())+1));return g.jsxs("div",{className:xe("bg-white dark:bg-zinc-900 border rounded-3xl p-5 sm:p-6 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",S===q.id?"border-blue-500 ring-2 ring-blue-500/20":"border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3 mb-6",children:[g.jsxs("div",{className:"flex gap-3 sm:gap-4 flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 bg-zinc-50 dark:bg-zinc-800 rounded-2xl text-zinc-600 dark:text-zinc-300 shrink-0",children:$(q.icon||"target")}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-lg sm:text-xl font-bold text-zinc-900 dark:text-zinc-100 truncate pr-2",children:q.name}),g.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[ce==="on_track"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-emerald-100 text-emerald-700 px-2 py-1 rounded-md",children:"En Camino"}),ce==="behind"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-amber-100 text-amber-700 px-2 py-1 rounded-md",children:"Atrasado"}),ce==="ahead"&&g.jsx("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-bold bg-blue-100 text-blue-700 px-2 py-1 rounded-md",children:"Adelantado"}),g.jsxs("span",{className:"inline-flex items-center text-[10px] sm:text-xs font-medium bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 px-2 py-1 rounded-md border border-zinc-200 dark:border-zinc-700",children:["#",We,"/",Oe]}),g.jsxs("span",{className:"inline-flex items-center text-[10px] sm:text-xs text-zinc-500 px-1",children:["Vence: ",new Date(q.deadline).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"})]})]})]})]}),g.jsxs("div",{className:"flex gap-1 shrink-0",children:[g.jsx("button",{onClick:()=>{const Ze=q.calculationMethod==="dynamic"?"static":"dynamic";c(q.id,{calculationMethod:Ze}),at.info(`Ahorro Dinmico: ${Ze==="dynamic"?"Activado":"Desactivado"}`)},className:xe("w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-xl transition-colors",q.calculationMethod==="dynamic"?"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 hover:bg-amber-200":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-zinc-600 hover:bg-zinc-200"),title:"Alternar Modo Dinmico",children:g.jsx(ay,{size:16,className:q.calculationMethod==="dynamic"?"fill-current":""})}),g.jsx("button",{onClick:()=>ve(q),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-500 hover:text-blue-500 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(Vm,{size:16})}),g.jsx("button",{onClick:()=>ie(q.id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-500 hover:text-rose-500 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:g.jsx(Hi,{size:16})})]})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium",children:[g.jsx("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Progreso Global"}),g.jsxs("span",{className:"text-zinc-900 dark:text-zinc-100 font-bold",children:[ee.toFixed(1),"%"]})]}),g.jsx("div",{className:"h-3 sm:h-4 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${ee>=100?"bg-emerald-500":"bg-gradient-to-r from-emerald-500 to-teal-400"}`,style:{width:`${Math.min(ee,100)}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs mt-1.5 font-mono text-zinc-400",children:[g.jsxs("span",{children:[m,q.currentAmount.toLocaleString()]}),g.jsxs("span",{children:[m,q.targetAmount.toLocaleString()]})]}),q.recoveryStrategy==="catch_up"&&g.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 rounded bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 text-[10px] font-bold border border-rose-100 dark:border-rose-900/30",children:[g.jsx(HO,{size:10})," RECUPERACIN AGRESIVA"]})]}),g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800/50",children:g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-5 sm:gap-4",children:[g.jsxs("div",{className:"text-center sm:text-left w-full sm:w-auto",children:[g.jsxs("p",{className:"text-[10px] uppercase font-bold text-zinc-400 tracking-widest mb-1.5",children:["Cuota de ",ze]}),g.jsxs("div",{className:"flex flex-col items-center sm:items-start gap-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-3xl sm:text-2xl font-black text-zinc-900 dark:text-zinc-100 tracking-tight",children:[m,Z.toLocaleString(void 0,{maximumFractionDigits:0})]}),(H==="up"||H==="down")&&g.jsxs("div",{className:xe("flex items-center px-2 py-1 rounded-lg text-xs font-bold animate-in fade-in zoom-in",H==="up"?pe?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),children:[H==="up"?g.jsx(_T,{size:14}):g.jsx(z3,{size:14}),g.jsx("span",{className:"ml-1 hidden sm:inline",children:H==="up"?"Sube":"Baja"})]})]}),pe&&g.jsx("span",{className:"text-[10px] text-rose-500 font-medium bg-rose-50 dark:bg-rose-900/10 px-2 py-0.5 rounded-full border border-rose-100 dark:border-rose-900/20",children:"+20% prox. mes"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx("button",{onClick:()=>{F({open:!0,type:"withdraw",goalId:q.id}),V(q.recoveryStrategy||"spread")},className:"h-12 w-12 sm:h-11 sm:w-11 flex items-center justify-center bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl text-zinc-400 hover:text-rose-500 hover:border-rose-200 transition-all shadow-sm active:scale-95",title:"Retirar Fondos",children:g.jsx(aQ,{size:22})}),we?g.jsxs("button",{onClick:()=>F({open:!0,type:"deposit",goalId:q.id}),disabled:E<=0,className:"flex-1 sm:flex-none h-12 sm:h-11 px-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[g.jsx(JX,{size:18}),g.jsx("span",{children:"Adelantar"})]}):g.jsxs("button",{onClick:()=>{r(q.id,Z),at.success(`Cuota pagada: ${m}${Z}`)},disabled:!be,className:xe("flex-1 sm:flex-none h-12 sm:h-11 px-5 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95",be?"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-500/20":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 cursor-not-allowed shadow-none"),children:[be?g.jsx(dQ,{size:18}):g.jsx(KQ,{size:18}),g.jsx("span",{children:be?"Pagar":"Sin Saldo"})]})]})]})})]})]},q.id)})})]}),g.jsx(es,{isOpen:I,onClose:()=>B(),title:S?"Editar Meta":"Nueva Meta",children:g.jsx(OM,{formData:k,setFormData:z,onSubmit:q=>{ye(q)},editingId:S,onCancel:B,currency:m})}),g.jsx(es,{isOpen:j.open,onClose:()=>F({...j,open:!1}),title:j.type==="deposit"?"Ingreso Extra":"Retirar Fondos",maxWidth:"max-w-md",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:j.type==="deposit"?"Aade fondos adicionales desde tu saldo disponible.":"Retira dinero de esta meta. Podrs elegir cmo recuperar el faltante."}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1 block",children:"Monto"}),g.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-3xl font-bold bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-4 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 transition-colors",placeholder:"0.00",value:P,onChange:q=>C(q.target.value)})]}),j.type==="withdraw"&&g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 rounded-xl p-4",children:[g.jsxs("h4",{className:"font-bold text-amber-800 dark:text-amber-200 mb-3 text-sm flex items-center gap-2",children:[g.jsx(HO,{size:16})," Estrategia de Recuperacin"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-2 hover:bg-white/50 dark:hover:bg-black/20 rounded-lg transition-colors",children:[g.jsx("input",{type:"radio",name:"strategy",checked:R==="spread",onChange:()=>V("spread"),className:"mt-1 text-emerald-600 focus:ring-emerald-500"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-sm text-zinc-800 dark:text-zinc-200",children:"Redistribuir (Spread)"}),g.jsx("span",{className:"block text-xs text-zinc-500",children:"Divide el faltante entre todos los meses restantes. Tu cuota subir ligeramente."})]})]}),g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer p-2 hover:bg-white/50 dark:hover:bg-black/20 rounded-lg transition-colors",children:[g.jsx("input",{type:"radio",name:"strategy",checked:R==="catch_up",onChange:()=>V("catch_up"),className:"mt-1 text-emerald-600 focus:ring-emerald-500"}),g.jsxs("div",{children:[g.jsx("span",{className:"block font-bold text-sm text-zinc-800 dark:text-zinc-200",children:"Pagar el Prximo Mes (Catch Up)"}),g.jsx("span",{className:"block text-xs text-zinc-500",children:"Se sumar todo lo retirado a tu prxima cuota para volver al plan original de inmediato."})]})]})]})]}),g.jsx("button",{onClick:ke,className:`w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg ${j.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-700 shadow-rose-500/20"}`,children:j.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})]})}),g.jsx(es,{isOpen:Ae.isOpen,onClose:()=>K({isOpen:!1,goalId:null}),title:"Eliminar Meta",maxWidth:"max-w-sm",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center text-center p-2",children:[g.jsx("div",{className:"w-12 h-12 bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center mb-4 text-rose-600 dark:text-rose-500",children:g.jsx(Hi,{size:24})}),g.jsx("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Ests seguro?"}),g.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Esta accin eliminar la meta y todo su historial de progresos permanentemente. No se puede deshacer."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>K({isOpen:!1,goalId:null}),className:"flex-1 py-2.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 rounded-xl font-bold hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:re,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-500/20 transition-all",children:"Eliminar"})]})]})})]})},C0e=({project:t,onClose:e})=>{const{currency:n}=_r(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=AT(),{currentBalance:d}=Fm(),{addTransaction:f}=Or(),[p,m]=T.useState("overview"),b=c(t),[w,E]=T.useState({amount:"",description:"",type:"expense"}),[S,_]=T.useState(!1),k=j=>{j.preventDefault();const F=Number(w.amount);if(!(F<=0)){if(w.type==="income"){if(F>d){at.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:F,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:F,description:w.description,type:w.type,date:(()=>{const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`})()}),E({amount:"",description:"",type:"expense"}),_(!1)}},z=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},I=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(j=>({name:new Date(j.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:j.type==="income"?j.amount:-j.amount})),[t.transactions]),D=()=>{const j={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:j[t.status]})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),g.jsx("span",{onClick:D,className:xe("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),g.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),g.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(iy,{size:24})})]}),g.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[g.jsxs("button",{onClick:()=>m("overview"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(GX,{size:16})," Resumen"]}),g.jsxs("button",{onClick:()=>m("ledger"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(iE,{size:16})," Movimientos"]}),g.jsxs("button",{onClick:()=>m("settings"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(q3,{size:16})," Configuracin"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[p==="overview"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),g.jsxs("p",{className:xe("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),I.length>0?g.jsx(C9,{width:"100%",height:"100%",children:g.jsxs(eB,{data:I,children:[g.jsx(tA,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(f8,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),g.jsx(eA,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:I.map((j,F)=>g.jsx(db,{fill:j.amount>=0?"#10b981":"#f43f5e"},`cell-${F}`))})]})}):g.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),p==="ledger"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>{E(j=>({...j,type:"income"})),_(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(tE,{size:18})," Inyectar Fondos"]}),g.jsxs("button",{onClick:()=>{E(j=>({...j,type:"expense"})),_(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(Ad,{size:18})," Registrar Gasto"]})]}),S&&g.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:w.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),g.jsx("button",{type:"button",onClick:()=>_(!1),className:"text-zinc-400 hover:text-zinc-600",children:g.jsx(iy,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:w.description,onChange:j=>E({...w,description:j.target.value})}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),g.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:w.amount,onChange:j=>E({...w,amount:j.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),g.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?g.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[g.jsx(iE,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(j=>g.jsxs("div",{className:xe("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center",j.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:j.type==="income"?g.jsx(tE,{size:18}):g.jsx(Ad,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:j.description}),g.jsx("p",{className:"text-xs text-zinc-500",children:new Date(j.date).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:xe("font-mono font-bold",j.type==="income"?"text-emerald-600":"text-rose-600"),children:[j.type==="income"?"+":"-",n,j.amount.toFixed(2)]}),g.jsx("button",{onClick:()=>l(t.id,j.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:g.jsx(Hi,{size:16})})]})]},j.id))})]}),p==="settings"&&g.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(j=>g.jsx("button",{onClick:()=>r(t.id,{status:j}),className:xe("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===j?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]}),g.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[g.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),g.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),g.jsxs("button",{onClick:z,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[g.jsx(Hi,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},I0e=()=>{const{projects:t,addProject:e,updateProject:n,deleteProject:r,getProjectStats:i}=AT(),{currency:s}=_r(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState(null),[b,w]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),E=I=>{I.preventDefault();const D={name:b.name,targetBudget:Number(b.targetBudget),deadline:b.deadline,description:b.description};p?n(p,D):e(D),w({name:"",targetBudget:"",deadline:"",description:""}),c(!1),m(null)},S=(I,D)=>{I.stopPropagation(),w({name:D.name,targetBudget:D.targetBudget.toString(),deadline:D.deadline||"",description:D.description||""}),m(D.id),c(!0),window.scrollTo({top:0,behavior:"smooth"})},_=(I,D)=>{I.stopPropagation(),confirm("Ests seguro de eliminar este proyecto? Se eliminarn tambin sus transacciones.")&&r(D)},k=I=>{switch(I){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},z=(I,D)=>{I.stopPropagation();const j={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(D.id,{status:j[D.status]})};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),g.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(pa,{size:18}),g.jsx("span",{children:"Nuevo Proyecto"})]})]}),l&&g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:p?"Editar Proyecto":"Iniciar Nuevo Proyecto"}),g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),g.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.name,onChange:I=>w({...b,name:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),g.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.targetBudget,onChange:I=>w({...b,targetBudget:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.deadline,onChange:I=>w({...b,deadline:I.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),g.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.description,onChange:I=>w({...b,description:I.target.value})})]})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:p?"Guardar Cambios":"Crear Proyecto"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(I=>{const D=i(I);return g.jsxs("div",{onClick:()=>f(I),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:[g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:g.jsx(rE,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:I.name}),g.jsx("span",{onClick:j=>z(j,I),className:xe("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",k(I.status)),title:"Clic para cambiar estado",children:I.status==="planning"?"Planificacin":I.status==="active"?"En Curso":I.status==="completed"?"Completado":I.status==="paused"?"Pausado":"Cancelado"})]})]}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:j=>S(j,I),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar",children:g.jsx(Vm,{size:18})}),g.jsx("button",{onClick:j=>_(j,I.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar",children:g.jsx(Hi,{size:18})})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),g.jsxs("p",{className:xe("font-mono font-bold text-lg",D.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[s,D.currentBalance.toLocaleString()]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[s,D.totalExpenses.toLocaleString()]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[g.jsx("span",{className:"text-zinc-500",children:D.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),g.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[D.totalExpenses>0?D.percentConsumed.toFixed(0):D.percentFunded.toFixed(0),"%"]})]}),g.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:xe("h-full transition-all duration-500",(D.totalExpenses>0?D.percentConsumed:D.percentFunded)>100?"bg-rose-500":((D.totalExpenses>0?D.percentConsumed:D.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(D.totalExpenses>0?D.percentConsumed:D.percentFunded,100)}%`}})})]})]})]},I.id)}),t.length===0&&!l&&g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(rE,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),d&&g.jsx(C0e,{project:t.find(I=>I.id===d.id)||d,onClose:()=>f(null)})]})},y_={gift:V3,money:xT,heart:B3,phoenix:D3,piggy:Wd,wallet:Xd,star:G3,smile:H3,briefcase:yT,car:j3,plane:F3,home:U3,coffee:R3,game:L3,phone:$3,other:M3},O0e=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r,updateFund:i}=Jd(),{currency:s}=_r(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[b,w]=T.useState({open:!1,type:"deposit",fundId:""}),[E,S]=T.useState(""),[_,k]=T.useState(""),z=V=>{V.preventDefault(),p.name&&(d?(i(d,p),at.success("Fondo actualizado")):(e(p),at.success("Fondo creado")),m({name:"",icon:"piggy",description:"",color:"emerald"}),f(null),c(!1))},I=()=>{f(null),m({name:"",icon:"piggy",description:"",color:"emerald"}),c(!0)},D=V=>{f(V.id),m({name:V.name,icon:V.icon,description:V.description||"",color:V.color||"emerald"}),c(!0)},{currentBalance:j}=Fm(),F=V=>{V.preventDefault();const L=Number(E);if(!(!L||L<=0)){if(b.type==="deposit"&&L>j){at.error(`Fondos insuficientes. Solo tienes ${s}${j.toLocaleString()} disponibles.`);return}r(b.fundId,L,b.type,_),w({...b,open:!1}),S(""),k("")}},P=(V,L)=>{w({open:!0,type:V,fundId:L})},C=V=>{const L=y_[V]||M3;return g.jsx(L,{size:24})},R=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),g.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),g.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[g.jsx(pa,{size:20})," Nuevo Fondo"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(Wd,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(V=>{const L=R.find($=>$.id===V.color)?.class||R[0].class;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:xe("p-3 rounded-xl transition-colors",L),children:C(V.icon)}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>D(V),className:"text-zinc-300 hover:text-blue-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Editar",children:g.jsx(Vm,{size:18})}),g.jsx("button",{onClick:()=>n(V.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Eliminar",children:g.jsx(Hi,{size:18})})]})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:V.name}),V.description&&g.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:V.description}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[s,V.currentAmount.toLocaleString()]})]}),g.jsxs("div",{className:"flex gap-2 mt-6",children:[g.jsxs("button",{onClick:()=>P("deposit",V.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[g.jsx(ry,{size:16})," Ingresar"]}),g.jsxs("button",{onClick:()=>P("withdraw",V.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[g.jsx(Ad,{size:16})," Retirar"]})]})]},V.id)})}),g.jsx(es,{isOpen:l,onClose:()=>c(!1),title:d?"Editar Fondo":"Crear Nuevo Fondo",children:g.jsxs("form",{onSubmit:z,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:p.name,onChange:V=>m({...p,name:V.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(y_).map(V=>{const L=y_[V];return g.jsx("button",{type:"button",onClick:()=>m({...p,icon:V}),className:xe("p-2 rounded-md flex items-center justify-center transition-all",p.icon===V?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(L,{size:20})},V)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),g.jsx("div",{className:"flex gap-2",children:R.map(V=>g.jsx("button",{type:"button",onClick:()=>m({...p,color:V.id}),className:xe("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",V.class.split(" ")[1],p.color===V.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:p.color===V.id&&g.jsx(P3,{size:14,className:"text-current"})},V.id))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:p.description,onChange:V=>m({...p,description:V.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:d?"Guardar Cambios":"Crear Fondo"})]})}),g.jsx(es,{isOpen:b.open,onClose:()=>w({...b,open:!1}),title:b.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:s}),g.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:E,onChange:V=>S(V.target.value)})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:b.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:_,onChange:V=>k(V.target.value)})]}),g.jsxs("button",{type:"submit",className:xe("w-full py-2 rounded-lg font-medium text-white transition-colors",b.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",b.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},nB=6048e5,j0e=864e5,jM=Symbol.for("constructDateFrom");function yl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&jM in t?t[jM](e):t instanceof Date?new t.constructor(e):new Date(e)}function wa(t,e){return yl(e||t,t)}let P0e={};function fb(){return P0e}function Em(t,e){const n=fb(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=wa(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Qy(t,e){return Em(t,{...e,weekStartsOn:1})}function rB(t,e){const n=wa(t,e?.in),r=n.getFullYear(),i=yl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Qy(i),l=yl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Qy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function PM(t){const e=wa(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function z0e(t,...e){const n=yl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function zM(t,e){const n=wa(t,e?.in);return n.setHours(0,0,0,0),n}function R0e(t,e,n){const[r,i]=z0e(n?.in,t,e),s=zM(r),l=zM(i),c=+s-PM(s),d=+l-PM(l);return Math.round((c-d)/j0e)}function M0e(t,e){const n=rB(t,e),r=yl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Qy(r)}function D0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function L0e(t){return!(!D0e(t)&&typeof t!="number"||isNaN(+wa(t)))}function V0e(t,e){const n=wa(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const B0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U0e=(t,e,n)=>{let r;const i=B0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const F0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H0e={date:sd({formats:F0e,defaultWidth:"full"}),time:sd({formats:q0e,defaultWidth:"full"}),dateTime:sd({formats:$0e,defaultWidth:"full"})},G0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K0e=(t,e,n,r)=>G0e[t];function Ga(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Y0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tye={ordinalNumber:eye,era:Ga({values:Y0e,defaultWidth:"wide"}),quarter:Ga({values:W0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ga({values:X0e,defaultWidth:"wide"}),day:Ga({values:Q0e,defaultWidth:"wide"}),dayPeriod:Ga({values:Z0e,defaultWidth:"wide",formattingValues:J0e,defaultFormattingWidth:"wide"})};function Ka(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?rye(c,m=>m.test(l)):nye(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function nye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const iye=/^(\d+)(th|st|nd|rd)?/i,aye=/\d+/i,sye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oye={any:[/^b/i,/^(a|c)/i]},lye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cye={any:[/1/i,/2/i,/3/i,/4/i]},uye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gye={ordinalNumber:iB({matchPattern:iye,parsePattern:aye,valueCallback:t=>parseInt(t,10)}),era:Ka({matchPatterns:sye,defaultMatchWidth:"wide",parsePatterns:oye,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:lye,defaultMatchWidth:"wide",parsePatterns:cye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ka({matchPatterns:uye,defaultMatchWidth:"wide",parsePatterns:dye,defaultParseWidth:"any"}),day:Ka({matchPatterns:fye,defaultMatchWidth:"wide",parsePatterns:hye,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:mye,defaultMatchWidth:"any",parsePatterns:pye,defaultParseWidth:"any"})},yye={code:"en-US",formatDistance:U0e,formatLong:H0e,formatRelative:K0e,localize:tye,match:gye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vye(t,e){const n=wa(t,e?.in);return R0e(n,V0e(n))+1}function bye(t,e){const n=wa(t,e?.in),r=+Qy(n)-+M0e(n);return Math.round(r/nB)+1}function aB(t,e){const n=wa(t,e?.in),r=n.getFullYear(),i=fb(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=yl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Em(l,e),d=yl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=Em(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function xye(t,e){const n=fb(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=aB(t,e),s=yl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Em(s,e)}function wye(t,e){const n=wa(t,e?.in),r=+Em(n,e)-+xye(n,e);return Math.round(r/nB)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ko={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ko.y(t,e)},Y:function(t,e,n,r){const i=aB(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Nt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,e.length)},R:function(t,e){const n=rB(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ko.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=bye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ko.d(t,e)},D:function(t,e,n){const r=vye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$u.noon:r===0?i=$u.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$u.evening:r>=12?i=$u.afternoon:r>=4?i=$u.morning:i=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ko.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ko.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ko.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ko.s(t,e)},S:function(t,e){return Ko.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DM(r);case"XXXX":case"XX":return rc(r);default:return rc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return DM(r);case"xxxx":case"xx":return rc(r);default:return rc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MM(r,":");default:return"GMT"+rc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MM(r,":");default:return"GMT"+rc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Nt(r,e.length)},T:function(t,e,n){return Nt(+t,e.length)}};function MM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Nt(s,2)}function DM(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):rc(t,e)}function rc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+e+s}const LM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},sB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},_ye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return LM(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",LM(r,e)).replace("{{time}}",sB(i,e))},Eye={p:sB,P:_ye},Sye=/^D+$/,Tye=/^Y+$/,Aye=["D","DD","YY","YYYY"];function kye(t){return Sye.test(t)}function Nye(t){return Tye.test(t)}function Cye(t,e,n){const r=Iye(t,e,n);if(console.warn(r),Aye.includes(t))throw new RangeError(r)}function Iye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pye=/^'([^]*?)'?$/,zye=/''/g,Rye=/[a-zA-Z]/;function Mye(t,e,n){const r=fb(),i=n?.locale??r.locale??yye,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=wa(t,n?.in);if(!L0e(c))throw new RangeError("Invalid time value");let d=e.match(jye).map(p=>{const m=p[0];if(m==="p"||m==="P"){const b=Eye[m];return b(p,i.formatLong)}return p}).join("").match(Oye).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:Dye(p)};if(RM[m])return{isToken:!0,value:p};if(m.match(Rye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&Nye(m)||!n?.useAdditionalDayOfYearTokens&&kye(m))&&Cye(m,e,String(t));const b=RM[m[0]];return b(c,m,i.localize,f)}).join("")}function Dye(t){const e=t.match(Pye);return e?e[1].replace(zye,"'"):t}const Lye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Vye=(t,e,n)=>{let r;const i=Lye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Bye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Uye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Fye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qye={date:sd({formats:Bye,defaultWidth:"full"}),time:sd({formats:Uye,defaultWidth:"full"}),dateTime:sd({formats:Fye,defaultWidth:"full"})},$ye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Hye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Gye=(t,e,n,r)=>e.getHours()!==1?Hye[t]:$ye[t],Kye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Yye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Wye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Xye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Qye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Zye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Jye=(t,e)=>Number(t)+"",eve={ordinalNumber:Jye,era:Ga({values:Kye,defaultWidth:"wide"}),quarter:Ga({values:Yye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ga({values:Wye,defaultWidth:"wide"}),day:Ga({values:Xye,defaultWidth:"wide"}),dayPeriod:Ga({values:Qye,defaultWidth:"wide",formattingValues:Zye,defaultFormattingWidth:"wide"})},tve=/^(\d+)()?/i,nve=/\d+/i,rve={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},ive={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ave={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sve={any:[/1/i,/2/i,/3/i,/4/i]},ove={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},lve={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},cve={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},uve={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},dve={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},fve={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},hve={ordinalNumber:iB({matchPattern:tve,parsePattern:nve,valueCallback:function(t){return parseInt(t,10)}}),era:Ka({matchPatterns:rve,defaultMatchWidth:"wide",parsePatterns:ive,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:ave,defaultMatchWidth:"wide",parsePatterns:sve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ka({matchPatterns:ove,defaultMatchWidth:"wide",parsePatterns:lve,defaultParseWidth:"any"}),day:Ka({matchPatterns:cve,defaultMatchWidth:"wide",parsePatterns:uve,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:dve,defaultMatchWidth:"any",parsePatterns:fve,defaultParseWidth:"any"})},mve={code:"es",formatDistance:Vye,formatLong:qye,formatRelative:Gye,localize:eve,match:hve,options:{weekStartsOn:1,firstWeekContainsDate:1}},pve=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i,updateCredit:s}=kT(),{currency:l}=_r(),{addTransaction:c}=Or(),{currentBalance:d}=Fm(),[f,p]=T.useState(!1),[m,b]=T.useState(null),[w,E]=T.useState("simple"),[S,_]=T.useState("quota"),[k,z]=T.useState(""),[I,D]=T.useState(new Date().toISOString().split("T")[0]),[j,F]=T.useState(""),[P,C]=T.useState(""),[R,V]=T.useState(""),[L,$]=T.useState(""),[B,ve]=T.useState(""),[Ae,K]=T.useState(""),[ie,re]=T.useState({open:!1,creditId:""}),[ye,ke]=T.useState(""),q=(W,Le,Oe)=>{if(W<=0||Oe<=0)return 0;if(Le===0)return W/Oe;const We=Le/100/12;return W*We*Math.pow(1+We,Oe)/(Math.pow(1+We,Oe)-1)},ee=(W,Le,Oe)=>{if(W<=0||Oe<=0||Le<=0||Le*Oe<=W)return 0;let We=0,Ze=1e3,rt=0;for(let St=0;St<20;St++){rt=(We+Ze)/2;const lt=q(W,rt,Oe);if(Math.abs(lt-Le)<.01)return rt;lt>Le?Ze=rt:We=rt}return rt},Z=()=>{z(""),D(new Date().toISOString().split("T")[0]),E("simple"),F(""),C(""),V(""),$(""),ve(""),K(""),b(null),_("quota")},ce=()=>{Z(),p(!0)},be=W=>{if(Z(),b(W.id),z(W.name),D(W.startDate),W.interestRate===0)E("simple"),C(W.term.toString()),F((W.principal/W.term).toFixed(2)),V(W.principal.toString()),$(W.term.toString()),ve("0");else{E("advanced"),V(W.principal.toString()),$(W.term.toString()),ve(W.interestRate.toString());const Le=q(W.principal,W.interestRate,W.term);K(Le.toFixed(2))}p(!0)},we=W=>{W.preventDefault();let Le=0,Oe=0,We=0;if(w==="simple"){const rt=Number(j),St=Number(P);if(rt<=0||St<=0){at.error("Por favor completa los campos correctamente");return}Le=rt*St,Oe=0,We=St}else{if(Le=Number(R),We=Number(L),Le<=0||We<=0){at.error("Principal y Plazo son requeridos");return}if(S==="quota")Oe=Number(B);else{const rt=Number(Ae);if(rt<=0){at.error("Cuota requerida");return}Oe=ee(Le,rt,We)}}if(!k)return;const Ze={name:k,principal:Le,interestRate:Oe,term:We,startDate:I};m?(s(m,Ze),at.success("Crdito actualizado")):(e({...Ze,status:"active"}),at.success("Crdito creado")),p(!1)},_e=w==="simple"?Number(j)||0:S==="quota"?q(Number(R),Number(B)||0,Number(L)):Number(Ae)||0,ze=w==="simple"?Number(j)*Number(P)||0:_e*Number(L)||0,H=w==="simple"?ze:Number(R)||0,pe=w==="simple"?0:S==="quota"?Number(B)||0:ee(Number(R),Number(Ae),Number(L)),Ce=W=>{W.preventDefault();const Le=Number(ye);if(Le<=0)return;if(Le>d){at.error(`Saldo insuficiente (${l}${d.toLocaleString()})`);return}r(ie.creditId,Le);const Oe=t.find(We=>We.id===ie.creditId);c({amount:Le,type:"expense",category:"Deudas",description:`Pago Crdito: ${Oe?.name}`,date:new Date().toISOString().split("T")[0]}),re({open:!1,creditId:""}),ke(""),at.success("Pago registrado")};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Crditos y Deudas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Controla tus compromisos financieros."})]}),g.jsxs("button",{onClick:ce,className:"flex items-center justify-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-3 rounded-xl font-bold hover:scale-105 transition-transform shadow-lg shadow-zinc-900/10 dark:shadow-none",children:[g.jsx(pa,{size:18}),g.jsx("span",{children:"Nuevo Crdito"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20 flex flex-col items-center",children:[g.jsx("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-full text-zinc-300 dark:text-zinc-700 mb-6 shadow-sm",children:g.jsx(om,{size:48,strokeWidth:1.5})}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Sin Crditos Activos"}),g.jsx("p",{className:"text-zinc-500 max-w-md mx-auto",children:"Registra prstamos personales, hipotecas o compras a cuotas para no perder de vista ningn pago."})]}):t.map(W=>{const Le=i(W),Oe=Math.min(Le.totalPaid/Le.totalToPay*100,100),We=new Date(W.startDate);return We.setMonth(We.getMonth()+(W.payments?.length||0)+1),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:g.jsx(om,{size:24})}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>be(W),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-blue-500 transition-colors",children:g.jsx(Vm,{size:16})}),g.jsx("button",{onClick:()=>n(W.id),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-rose-500 transition-colors",children:g.jsx(Hi,{size:16})})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1 truncate",title:W.name,children:W.name}),g.jsxs("div",{className:"flex flex-wrap gap-y-2 gap-x-4 text-xs font-medium text-zinc-500 uppercase tracking-wide",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(xT,{size:12})," ",l,W.principal.toLocaleString()]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(sZ,{size:12})," ",W.interestRate.toFixed(1),"%"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(O3,{size:12})," ",W.term," Meses"]})]})]}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-sm text-zinc-500",children:"Saldo Pendiente"}),g.jsxs("span",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100",children:[l,Le.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsx("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-3 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-orange-400 rounded-full transition-all duration-1000 ease-out",style:{width:`${Oe}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 font-mono",children:[g.jsxs("span",{children:["Pagado: ",Math.round(Oe),"%"]}),g.jsxs("span",{children:["Total: ",l,Le.totalToPay.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),W.status==="active"&&g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-zinc-400",children:"Cuota Mensual"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[l,Le.quota.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-zinc-400",children:"Vence"}),g.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:Mye(We,"dd MMM",{locale:mve})})]})]}),g.jsxs("button",{onClick:()=>{re({open:!0,creditId:W.id}),ke(Le.quota.toFixed(2))},className:"w-full py-2.5 bg-white dark:bg-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100 border border-zinc-200 dark:border-zinc-600 rounded-lg text-sm font-bold transition-colors flex items-center justify-center gap-2 shadow-sm",children:[g.jsx(rQ,{size:16,className:"text-emerald-500"}),"Registrar Pago"]})]})]},W.id)})}),g.jsx(es,{isOpen:f,onClose:()=>p(!1),title:m?"Editar Crdito":"Nuevo Crdito",maxWidth:"max-w-2xl",children:g.jsxs("form",{onSubmit:we,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Nombre"}),g.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Coche",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all dark:text-white",value:k,onChange:W=>z(W.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Fecha Inicio"}),g.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all dark:text-white",value:I,onChange:W=>D(W.target.value)})]})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-xl",children:[g.jsx("button",{type:"button",onClick:()=>E("simple"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${w==="simple"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-300"}`,children:"Modo Simple"}),g.jsx("button",{type:"button",onClick:()=>E("advanced"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${w==="advanced"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 shadow-sm":"text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-300"}`,children:"Modo Avanzado"})]}),w==="simple"?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[g.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl text-sm text-blue-700 dark:text-blue-300",children:" Ingresa cunto pagars al mes y por cunto tiempo. Calcularemos el total automticamente."}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Cuota Mensual (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"0.00",className:"w-full text-xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 focus:border-rose-500 focus:outline-none dark:text-white",value:j,onChange:W=>F(W.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Plazo (Meses)"}),g.jsx("input",{type:"number",required:!0,placeholder:"12",className:"w-full text-xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 focus:border-rose-500 focus:outline-none dark:text-white",value:P,onChange:W=>C(W.target.value)})]})]})]}):g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-2 md:col-span-1",children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Monto Prstamo (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"10000",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 dark:text-white",value:R,onChange:W=>V(W.target.value)})]}),g.jsxs("div",{className:"col-span-2 md:col-span-1",children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Plazo (Meses)"}),g.jsx("input",{type:"number",required:!0,placeholder:"24",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2.5 dark:text-white",value:L,onChange:W=>$(W.target.value)})]})]}),g.jsxs("div",{className:"border-t border-zinc-100 dark:border-zinc-800 pt-4",children:[g.jsxs("div",{className:"flex gap-4 mb-3",children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"calcTarget",checked:S==="quota",onChange:()=>_("quota"),className:"text-rose-600 focus:ring-rose-500"}),g.jsx("span",{children:"Conozco la Tasa (%)"})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"calcTarget",checked:S==="rate",onChange:()=>_("rate"),className:"text-rose-600 focus:ring-rose-500"}),g.jsx("span",{children:"Conozco la Cuota Fija"})]})]}),S==="quota"?g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Tasa Inters Anual (%)"}),g.jsx("input",{type:"number",required:!0,placeholder:"Ej. 15.5",className:"w-full text-lg font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 focus:border-rose-500 focus:outline-none dark:text-white",value:B,onChange:W=>ve(W.target.value)})]}):g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:["Cuota Mensual Fija (",l,")"]}),g.jsx("input",{type:"number",required:!0,placeholder:"Ej. 500",className:"w-full text-lg font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 focus:border-rose-500 focus:outline-none dark:text-white",value:Ae,onChange:W=>K(W.target.value)})]})]})]}),g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800",children:g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase text-zinc-400 font-bold mb-1",children:"Total a Devolver"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:[l,ze.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase text-zinc-400 font-bold mb-1",children:"Inters Total"}),g.jsxs("p",{className:`text-lg font-bold ${ze-H>0?"text-rose-500":"text-zinc-500"}`,children:[l,(ze-H).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),g.jsx("div",{className:"col-span-2 border-t border-zinc-200 dark:border-zinc-700 pt-3 mt-1",children:g.jsxs("div",{className:"flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm text-zinc-500",children:"Tasa Efectiva Anual (Estimada)"}),g.jsxs("span",{className:"text-xl font-black text-zinc-900 dark:text-zinc-100",children:[pe.toFixed(2),"%"]})]})})]})}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-zinc-100 dark:text-zinc-900 py-3.5 rounded-xl font-bold transition-all transform active:scale-[0.98] shadow-lg shadow-zinc-900/10 dark:shadow-none",children:m?"Guardar Cambios":"Crear Crdito"})]})}),g.jsx(es,{isOpen:ie.open,onClose:()=>re({open:!1,creditId:""}),title:"Registrar Pago",children:g.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-500 bg-zinc-50 dark:bg-zinc-900/50 p-3 rounded-lg border border-zinc-100 dark:border-zinc-800",children:'Al registrar este pago, reduciremos tu deuda y crearemos un gasto en la categora "Deudas".'}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",l,")"]}),g.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full text-2xl font-bold bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 mt-2 focus:outline-none focus:border-emerald-500 dark:text-white",value:ye,onChange:W=>ke(W.target.value)})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3.5 rounded-xl font-bold transition-colors mt-2 shadow-lg shadow-emerald-600/20",children:"Confirmar Pago"})]})})]})},gve=()=>{const{data:t,updateData:e}=wi(),n=t.projections||{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},r=b=>{e({projections:{...n,...b}})};return{projections:n,addSimulatedTransaction:b=>{r({simulatedTransactions:[...n.simulatedTransactions,b]})},removeSimulatedTransaction:b=>{r({simulatedTransactions:n.simulatedTransactions.filter(w=>w.id!==b)})},clearSimulation:()=>{r({simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{}})},setCategoryBudgets:b=>{r({categoryBudgets:b})},setSimulatedCreditPayments:b=>{r({simulatedCreditPayments:b})},setSimulatedGoalContributions:b=>{r({simulatedGoalContributions:b})},setSimulatedFundTransfers:b=>{r({simulatedFundTransfers:b})},setToggle:(b,w)=>{r({toggles:{...n.toggles,[b]:w}})}}},yve=()=>{const{transactions:t}=Or(),{credits:e}=kT(),{funds:n}=Jd(),{goals:r,getMonthlyQuota:i}=Um(),{scheduled:s}=Bm(),{currency:l}=_r(),c=new Date,{availableBalance:d}=Fm(),f=n.reduce((H,pe)=>H+pe.currentAmount,0),p=t.filter(H=>{const pe=new Date(H.date+"T12:00:00");return pe.getMonth()===c.getMonth()&&pe.getFullYear()===c.getFullYear()}),m=p.filter(H=>H.type==="income").reduce((H,pe)=>H+pe.amount,0),b=p.filter(H=>H.type==="expense").reduce((H,pe)=>H+pe.amount,0),w=T.useMemo(()=>{const H={};return p.filter(pe=>pe.type==="expense").forEach(pe=>{H[pe.category]=(H[pe.category]||0)+pe.amount}),H},[p]),{projections:E,addSimulatedTransaction:S,removeSimulatedTransaction:_,clearSimulation:k,setCategoryBudgets:z,setSimulatedCreditPayments:I,setSimulatedGoalContributions:D,setSimulatedFundTransfers:j,setToggle:F}=gve(),{simulatedTransactions:P,categoryBudgets:C,simulatedCreditPayments:R,simulatedGoalContributions:V,simulatedFundTransfers:L,toggles:$}=E,[B,ve]=T.useState(""),[Ae,K]=T.useState(""),[ie,re]=T.useState("expense"),ye=T.useMemo(()=>new Set(R),[R]),ke=T.useMemo(()=>new Set(V),[V]),{includeGlobalBalance:q,includeFundsInBalance:ee,autoIncludeScheduled:Z}=$,ce=()=>{if(!B||!Ae)return;const H=Number(Ae);isNaN(H)||H<=0||(S({id:Math.random().toString(36).substr(2,9),description:B,amount:H,type:ie}),ve(""),K(""))},we=(()=>{let H=0;q?(H=d,ee&&(H+=f)):H=0;const pe=P.filter(He=>He.type==="income").reduce((He,it)=>He+it.amount,0);let Ce=0;Z&&s.filter(He=>He.type==="income"&&He.active).forEach(He=>{const it=He.lastProcessedDate?new Date(He.lastProcessedDate+"T12:00:00"):null;it&&it.getMonth()===c.getMonth()&&it.getFullYear()===c.getFullYear()||(Ce+=He.amount)});let W=0,Le=0;Z&&s.filter(He=>He.type==="expense"&&He.active).forEach(He=>{const it=He.lastProcessedDate?new Date(He.lastProcessedDate+"T12:00:00"):null;it&&it.getMonth()===c.getMonth()&&it.getFullYear()===c.getFullYear()||(Le+=He.amount)});const Oe=[];Object.keys(w).forEach(He=>{const it=w[He],On=C[He]?Number(C[He]):it,on=Math.max(it,On);W+=on,Oe.push({category:He,real:it,projected:On,diff:on-it})});const We=P.filter(He=>He.type==="expense").reduce((He,it)=>He+it.amount,0);let Ze=0;e.filter(He=>He.status==="active"&&ye.has(He.id)).forEach(He=>{const it=He.principal*(1+He.interestRate/100)/He.term;Ze+=it});let rt=0;r.filter(He=>ke.has(He.id)).forEach(He=>{const it=i(He);rt+=it});let St=0;Object.values(L).forEach(He=>{St+=Number(He)||0});const lt=W-b,$t=q?H+pe+Ce-lt-Le-We-Ze-rt-St:m+pe+Ce-(b+lt+Le+We+Ze+rt+St);return{baseBalance:H,incomeMonthReal:m,simulatedIncomeTotal:pe,scheduledIncome:Ce,expenseMonthReal:b,totalProjectedExpenses:W,simulatedExpenseTotal:We,scheduledExpenses:Le,totalCreditSimulated:Ze,totalGoalSimulated:rt,totalFundSimulated:St,finalBalance:$t,categoryComparisons:Oe}})(),_e=H=>{const pe=[...R];pe.includes(H)?I(pe.filter(Ce=>Ce!==H)):I([...pe,H])},ze=H=>{const pe=[...V];pe.includes(H)?D(pe.filter(Ce=>Ce!==H)):D([...pe,H])};return g.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[g.jsx(vT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),g.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula ingresos y gastos del futuro. Agrega el pan de maana o la combi de pasado."})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[g.jsxs("button",{onClick:()=>F("includeGlobalBalance",!q),className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",q?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[q?g.jsx(R1,{size:18}):g.jsx(z1,{size:18}),q?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),g.jsxs("button",{onClick:()=>{q||F("includeGlobalBalance",!0),F("includeFundsInBalance",!ee)},className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",ee?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[ee?g.jsx(R1,{size:18}):g.jsx(z1,{size:18}),"Incluir Ahorros (Fondos)"]}),g.jsxs("button",{onClick:()=>F("autoIncludeScheduled",!Z),className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",Z?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[Z?g.jsx(R1,{size:18}):g.jsx(z1,{size:18}),"Auto-sumar Programados"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:q?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),g.jsx("div",{className:"flex items-end gap-2",children:g.jsxs("p",{className:xe("text-4xl font-black",we.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,we.baseBalance.toFixed(2)]})})]}),g.jsxs("div",{className:xe("p-6 rounded-3xl shadow-xl border transition-colors",we.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[g.jsx("h2",{className:xe("text-sm font-bold uppercase tracking-wider mb-2",we.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),g.jsxs("p",{className:xe("text-4xl font-black",we.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,we.finalBalance.toFixed(2)]}),g.jsx("p",{className:"text-xs mt-2 opacity-80",children:we.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(kZ,{size:20,className:"text-purple-500"})," Simulador de Diario"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Qu quieres simular?"}),g.jsx("input",{type:"text",placeholder:"Ej. Pan, Combi, Cachuelo...",className:"w-full bg-zinc-50 dark:bg-zinc-950 px-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:B,onChange:H=>ve(H.target.value),onKeyDown:H=>H.key==="Enter"&&ce()})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 pl-8 pr-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:Ae,onChange:H=>K(H.target.value),onKeyDown:H=>H.key==="Enter"&&ce()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Tipo"}),g.jsxs("div",{className:"flex bg-zinc-50 dark:bg-zinc-950 rounded-xl p-1",children:[g.jsx("button",{onClick:()=>re("expense"),className:xe("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",ie==="expense"?"bg-rose-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Gasto"}),g.jsx("button",{onClick:()=>re("income"),className:xe("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",ie==="income"?"bg-emerald-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Ingreso"})]})]})]}),g.jsxs("button",{onClick:ce,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[g.jsx(pa,{size:18})," Agregar"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[P.length===0?g.jsx("div",{className:"p-8 text-center text-zinc-400 text-sm italic",children:"No has agregado simulaciones an."}):g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800 max-h-60 overflow-y-auto",children:P.map(H=>g.jsxs("div",{className:"p-3 flex items-center justify-between group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:xe("w-8 h-8 rounded-full flex items-center justify-center",H.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20":"bg-rose-100 text-rose-600 dark:bg-rose-900/20"),children:H.type==="income"?g.jsx(_T,{size:14}):g.jsx(aE,{size:14})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-300",children:H.description}),g.jsx("p",{className:"text-xs text-zinc-400 capitalize",children:H.type==="income"?"Ingreso":"Gasto"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:xe("font-mono font-bold text-sm",H.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[H.type==="income"?"+":"-",l,H.amount.toLocaleString()]}),g.jsx("button",{onClick:()=>_(H.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Hi,{size:16})})]})]},H.id))}),P.length>0&&g.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 flex justify-between items-center text-xs font-bold uppercase text-zinc-500",children:[g.jsx("span",{children:"Total Simulado"}),g.jsxs("span",{className:xe(we.simulatedIncomeTotal-we.simulatedExpenseTotal>=0?"text-emerald-500":"text-rose-500"),children:[l,(we.simulatedIncomeTotal-we.simulatedExpenseTotal).toFixed(2)]})]})]}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[g.jsx(Wd,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map(H=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:H.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold",children:H.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,H.currentAmount]})]}),g.jsxs("div",{className:"w-24 relative",children:[g.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:L[H.id]||"",onChange:pe=>j({...L,[H.id]:pe.target.value})})]})]},H.id)),n.length===0&&g.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(aE,{size:20,className:"text-rose-500"})," Presupuesto y Categoras"]}),Z&&we.scheduledExpenses>0&&g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),g.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,we.scheduledExpenses]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[g.jsx("div",{className:"col-span-4",children:"Categora"}),g.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),g.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),g.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:we.categoryComparisons.map(H=>g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:H.category,children:H.category}),g.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,H.real]}),g.jsx("div",{className:"col-span-3 relative",children:g.jsx("input",{type:"number",className:xe("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(C[H.category])||0)<H.real&&C[H.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:H.real.toString(),value:C[H.category]||"",onChange:pe=>z({...C,[H.category]:pe.target.value})})}),g.jsxs("div",{className:xe("col-span-2 text-right text-xs font-bold",H.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,H.diff)]})]},H.category))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(om,{size:14})," Simular Crditos"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter(H=>H.status==="active").map(H=>{const pe=H.principal*(1+H.interestRate/100)/H.term,Ce=ye.has(H.id);return g.jsxs("button",{onClick:()=>_e(H.id),className:xe("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:xe("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-rose-600 bg-rose-600":"border-zinc-400"),children:Ce&&g.jsx(VM,{size:10,className:"text-white"})}),H.name," (",l,pe.toFixed(0),")"]},H.id)}),e.filter(H=>H.status==="active").length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(Ls,{size:14})," Simular Metas"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map(H=>{const pe=i(H),Ce=ke.has(H.id);return g.jsxs("button",{onClick:()=>ze(H.id),className:xe("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:xe("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-purple-600 bg-purple-600":"border-zinc-400"),children:Ce&&g.jsx(VM,{size:10,className:"text-white"})}),H.name," (",l,pe.toFixed(0),")"]},H.id)}),r.length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),g.jsx("div",{className:"flex justify-end pt-8",children:g.jsxs("button",{onClick:()=>{k(),at.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[g.jsx(wT,{size:20}),"Reiniciar Simulacin"]})})]})},VM=({size:t,className:e})=>g.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}),vve=()=>{const{signInWithGoogle:t,user:e}=Lm(),n=cS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):g.jsxs("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl pointer-events-none"}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 p-8 md:p-12 rounded-3xl shadow-2xl shadow-zinc-200/50 dark:shadow-zinc-950/50 max-w-sm w-full text-center space-y-8 animate-enter-app relative z-10",children:[g.jsx("div",{className:"flex justify-center transform scale-125 mb-8",children:g.jsx(TT,{})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Bienvenido"}),g.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:["Tu sistema financiero personal, ",g.jsx("br",{})," simplificado y seguro."]})]}),g.jsxs("div",{className:"space-y-4 pt-4",children:[g.jsxs("button",{onClick:r,className:"w-full bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-white dark:text-zinc-900 font-bold py-4 px-4 rounded-2xl flex items-center justify-center gap-3 transition-all transform active:scale-[0.98] shadow-lg shadow-zinc-900/10 dark:shadow-zinc-100/10",children:[g.jsxs("svg",{className:"w-5 h-5 bg-white rounded-full p-0.5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),g.jsx("p",{className:"text-[10px] text-zinc-400 dark:text-zinc-600 uppercase tracking-widest font-mono",children:"Vaultly Finance v2.2"})]})]})]})},bve=({message:t="Iniciando..."})=>{const[e,n]=T.useState(!1);return T.useEffect(()=>{const r=setTimeout(()=>n(!0),300);return()=>clearTimeout(r)},[]),g.jsx("div",{className:"fixed inset-0 bg-zinc-50 dark:bg-zinc-950 flex flex-col items-center justify-center z-50",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"animate-in fade-in zoom-in duration-700 ease-out fill-mode-both",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse"}),g.jsx(ST,{className:"w-20 h-20 md:w-24 md:h-24 pb-4"})]})}),g.jsxs("div",{className:`mt-6 flex flex-col items-center transition-all duration-700 transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-[0.2em] text-zinc-900 dark:text-zinc-100 font-mono",children:"VAULTLY"}),g.jsx("div",{className:"h-1 w-12 bg-primary mt-4 rounded-full animate-pulse"})]}),g.jsx("div",{className:"absolute bottom-12 text-zinc-400 font-mono text-xs tracking-widest uppercase animate-pulse",children:t})]})})},xve=()=>{const{user:t,loading:e}=Lm(),{isLoading:n}=wi(),[r,i]=T.useState(!1);return T.useEffect(()=>{const s=setTimeout(()=>{i(!0)},2500);return()=>clearTimeout(s)},[]),e||n||!r?g.jsx(bve,{message:e?"AUTENTICANDO...":"CARGANDO DATOS..."}):t?g.jsx(iD,{}):g.jsx(rD,{to:"/login",replace:!0})};function wve(){return g.jsx(ZW,{children:g.jsx(AX,{children:g.jsx(AF,{children:g.jsxs(gF,{children:[g.jsxs(G7,{children:[g.jsx(ci,{path:"/login",element:g.jsx(vve,{})}),g.jsx(ci,{element:g.jsx(xve,{}),children:g.jsxs(ci,{path:"/",element:g.jsx(see,{}),children:[g.jsx(ci,{index:!0,element:g.jsx(uee,{})}),g.jsx(ci,{path:"expenses",element:g.jsx(A0e,{})}),g.jsx(ci,{path:"income",element:g.jsx(k0e,{})}),g.jsx(ci,{path:"goals",element:g.jsx(N0e,{})}),g.jsx(ci,{path:"funds",element:g.jsx(O0e,{})}),g.jsx(ci,{path:"credits",element:g.jsx(pve,{})}),g.jsx(ci,{path:"projections",element:g.jsx(yve,{})}),g.jsx(ci,{path:"projects",element:g.jsx(I0e,{})}),g.jsx(ci,{path:"*",element:g.jsx(rD,{to:"/",replace:!0})})]})})]}),g.jsx(N3,{richColors:!0,position:"top-center"})]})})})})}KU.createRoot(document.getElementById("root")).render(g.jsx(T.StrictMode,{children:g.jsx(FM,{children:g.jsx(wve,{})})}));
