function CU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f1={exports:{}},oh={};var bC;function NU(){if(bC)return oh;bC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return oh.Fragment=e,oh.jsx=n,oh.jsxs=n,oh}var xC;function OU(){return xC||(xC=1,f1.exports=NU()),f1.exports}var y=OU(),h1={exports:{}},Ke={};var _C;function PU(){if(_C)return Ke;_C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(H,K,oe){this.props=H,this.context=K,this.refs=S,this.updater=oe||w}k.prototype.isReactComponent={},k.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=k.prototype;function C(H,K,oe){this.props=H,this.context=K,this.refs=S,this.updater=oe||w}var j=C.prototype=new M;j.constructor=C,E(j,k.prototype),j.isPureReactComponent=!0;var P=Array.isArray;function z(){}var R={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(H,K,oe){var de=oe.ref;return{$$typeof:t,type:H,key:K,ref:de!==void 0?de:null,props:oe}}function q(H,K){return V(H.type,K,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return K[oe]})}var U=/\/+/g;function _e(H,K){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):K.toString(36)}function we(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,K,oe,de,ge){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case t:case e:Ee=!0;break;case m:return Ee=H._init,W(Ee(H._payload),K,oe,de,ge)}}if(Ee)return ge=ge(H),Ee=de===""?"."+_e(H,0):de,P(ge)?(oe="",Ee!=null&&(oe=Ee.replace(U,"$&/")+"/"),W(ge,K,oe,"",function(Ae){return Ae})):ge!=null&&(L(ge)&&(ge=q(ge,oe+(ge.key==null||H&&H.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+Ee)),K.push(ge)),1;Ee=0;var Ve=de===""?".":de+":";if(P(H))for(var Z=0;Z<H.length;Z++)de=H[Z],Ie=Ve+_e(de,Z),Ee+=W(de,K,oe,Ie,ge);else if(Z=x(H),typeof Z=="function")for(H=Z.call(H),Z=0;!(de=H.next()).done;)de=de.value,Ie=Ve+_e(de,Z++),Ee+=W(de,K,oe,Ie,ge);else if(Ie==="object"){if(typeof H.then=="function")return W(we(H),K,oe,de,ge);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function re(H,K,oe){if(H==null)return H;var de=[],ge=0;return W(H,de,"","",function(Ie){return K.call(oe,Ie,ge++)}),de}function $(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var se=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:re,forEach:function(H,K,oe){re(H,function(){K.apply(this,arguments)},oe)},count:function(H){var K=0;return re(H,function(){K++}),K},toArray:function(H){return re(H,function(K){return K})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ke.Activity=p,Ke.Children=ve,Ke.Component=k,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=C,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},Ke.cache=function(H){return function(){return H.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(H,K,oe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var de=E({},H.props),ge=H.key;if(K!=null)for(Ie in K.key!==void 0&&(ge=""+K.key),K)!O.call(K,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&K.ref===void 0||(de[Ie]=K[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=oe;else if(1<Ie){for(var Ee=Array(Ie),Ve=0;Ve<Ie;Ve++)Ee[Ve]=arguments[Ve+2];de.children=Ee}return V(H.type,ge,de)},Ke.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ke.createElement=function(H,K,oe){var de,ge={},Ie=null;if(K!=null)for(de in K.key!==void 0&&(Ie=""+K.key),K)O.call(K,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ge[de]=K[de]);var Ee=arguments.length-2;if(Ee===1)ge.children=oe;else if(1<Ee){for(var Ve=Array(Ee),Z=0;Z<Ee;Z++)Ve[Z]=arguments[Z+2];ge.children=Ve}if(H&&H.defaultProps)for(de in Ee=H.defaultProps,Ee)ge[de]===void 0&&(ge[de]=Ee[de]);return V(H,Ie,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:c,render:H}},Ke.isValidElement=L,Ke.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:$}},Ke.memo=function(H,K){return{$$typeof:f,type:H,compare:K===void 0?null:K}},Ke.startTransition=function(H){var K=R.T,oe={};R.T=oe;try{var de=H(),ge=R.S;ge!==null&&ge(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(z,se)}catch(Ie){se(Ie)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),R.T=K}},Ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ke.use=function(H){return R.H.use(H)},Ke.useActionState=function(H,K,oe){return R.H.useActionState(H,K,oe)},Ke.useCallback=function(H,K){return R.H.useCallback(H,K)},Ke.useContext=function(H){return R.H.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H,K){return R.H.useDeferredValue(H,K)},Ke.useEffect=function(H,K){return R.H.useEffect(H,K)},Ke.useEffectEvent=function(H){return R.H.useEffectEvent(H)},Ke.useId=function(){return R.H.useId()},Ke.useImperativeHandle=function(H,K,oe){return R.H.useImperativeHandle(H,K,oe)},Ke.useInsertionEffect=function(H,K){return R.H.useInsertionEffect(H,K)},Ke.useLayoutEffect=function(H,K){return R.H.useLayoutEffect(H,K)},Ke.useMemo=function(H,K){return R.H.useMemo(H,K)},Ke.useOptimistic=function(H,K){return R.H.useOptimistic(H,K)},Ke.useReducer=function(H,K,oe){return R.H.useReducer(H,K,oe)},Ke.useRef=function(H){return R.H.useRef(H)},Ke.useState=function(H){return R.H.useState(H)},Ke.useSyncExternalStore=function(H,K,oe){return R.H.useSyncExternalStore(H,K,oe)},Ke.useTransition=function(){return R.H.useTransition()},Ke.version="19.2.3",Ke}var wC;function Vd(){return wC||(wC=1,h1.exports=PU()),h1.exports}var A=Vd();const be=Za(A),RU=CU({__proto__:null,default:be},[A]);var m1={exports:{}},lh={},p1={exports:{}},g1={};var EC;function MU(){return EC||(EC=1,(function(t){function e(W,re){var $=W.length;W.push(re);e:for(;0<$;){var se=$-1>>>1,ve=W[se];if(0<i(ve,re))W[se]=re,W[$]=ve,$=se;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],$=W.pop();if($!==re){W[0]=$;e:for(var se=0,ve=W.length,H=ve>>>1;se<H;){var K=2*(se+1)-1,oe=W[K],de=K+1,ge=W[de];if(0>i(oe,$))de<ve&&0>i(ge,oe)?(W[se]=ge,W[de]=$,se=de):(W[se]=oe,W[K]=$,se=K);else if(de<ve&&0>i(ge,$))W[se]=ge,W[de]=$,se=de;else break e}}return re}function i(W,re){var $=W.sortIndex-re.sortIndex;return $!==0?$:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,b=3,x=!1,w=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(W){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=W)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function P(W){if(E=!1,j(W),!w)if(n(d)!==null)w=!0,z||(z=!0,F());else{var re=n(f);re!==null&&we(P,re.startTime-W)}}var z=!1,R=-1,O=5,V=-1;function q(){return S?!0:!(t.unstable_now()-V<O)}function L(){if(S=!1,z){var W=t.unstable_now();V=W;var re=!0;try{e:{w=!1,E&&(E=!1,M(R),R=-1),x=!0;var $=b;try{t:{for(j(W),p=n(d);p!==null&&!(p.expirationTime>W&&q());){var se=p.callback;if(typeof se=="function"){p.callback=null,b=p.priorityLevel;var ve=se(p.expirationTime<=W);if(W=t.unstable_now(),typeof ve=="function"){p.callback=ve,j(W),re=!0;break t}p===n(d)&&r(d),j(W)}else r(d);p=n(d)}if(p!==null)re=!0;else{var H=n(f);H!==null&&we(P,H.startTime-W),re=!1}}break e}finally{p=null,b=$,x=!1}re=void 0}}finally{re?F():z=!1}}}var F;if(typeof C=="function")F=function(){C(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,_e=U.port2;U.port1.onmessage=L,F=function(){_e.postMessage(null)}}else F=function(){k(L,0)};function we(W,re){R=k(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var $=b;b=re;try{return W()}finally{b=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=b;b=W;try{return re()}finally{b=$}},t.unstable_scheduleCallback=function(W,re,$){var se=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,W={id:m++,callback:re,priorityLevel:W,startTime:$,expirationTime:ve,sortIndex:-1},$>se?(W.sortIndex=$,e(f,W),n(d)===null&&W===n(f)&&(E?(M(R),R=-1):E=!0,we(P,$-se))):(W.sortIndex=ve,e(d,W),w||x||(w=!0,z||(z=!0,F()))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var re=b;return function(){var $=b;b=re;try{return W.apply(this,arguments)}finally{b=$}}}})(g1)),g1}var SC;function DU(){return SC||(SC=1,p1.exports=MU()),p1.exports}var y1={exports:{}},ur={};var TC;function jU(){if(TC)return ur;TC=1;var t=Vd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,m)},ur.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},ur.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},ur.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,f){return d(f)},ur.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.2.3",ur}var AC;function Mj(){if(AC)return y1.exports;AC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y1.exports=jU(),y1.exports}var IC;function zU(){if(IC)return lh;IC=1;var t=DU(),e=Vd(),n=Mj();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return d(v),a;if(_===h)return d(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=_;else{for(var I=!1,D=v.child;D;){if(D===u){I=!0,u=v,h=_;break}if(D===h){I=!0,h=v,u=_;break}D=D.sibling}if(!I){for(D=_.child;D;){if(D===u){I=!0,u=_,h=v;break}if(D===h){I=!0,h=_,u=v;break}D=D.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function _e(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case C:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:_e(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return _e(a(o))}catch{}}return null}var we=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},se=[],ve=-1;function H(a){return{current:a}}function K(a){0>ve||(a.current=se[ve],se[ve]=null,ve--)}function oe(a,o){ve++,se[ve]=a.current,a.current=o}var de=H(null),ge=H(null),Ie=H(null),Ee=H(null);function Ve(a,o){switch(oe(Ie,o),oe(ge,a),oe(de,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Fk(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Fk(o),a=qk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(de),oe(de,a)}function Z(){K(de),K(ge),K(Ie)}function Ae(a){a.memoizedState!==null&&oe(Ee,a);var o=de.current,u=qk(o,a.type);o!==u&&(oe(ge,a),oe(de,u))}function Be(a){ge.current===a&&(K(de),K(ge)),Ee.current===a&&(K(Ee),rh._currentValue=$)}var me,Kt;function Xe(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",Kt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+Kt}var tn=!1;function Vt(a,o){if(!a||tn)return"";tn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var ne=ae}Reflect.construct(a,[],he)}else{try{he.call()}catch(ae){ne=ae}a.call(he.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),I=_[0],D=_[1];if(I&&D){var G=I.split(`
`),te=D.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===te.length)for(h=G.length-1,v=te.length-1;1<=h&&0<=v&&G[h]!==te[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==te[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==te[v]){var ce=`
`+G[h].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=h&&0<=v);break}}}finally{tn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Xe(u):""}function Sn(a,o){switch(a.tag){case 26:case 27:case 5:return Xe(a.type);case 16:return Xe("Lazy");case 13:return a.child!==o&&o!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Vt(a.type,!1);case 11:return Vt(a.type.render,!1);case 1:return Vt(a.type,!0);case 31:return Xe("Activity");default:return""}}function Li(a){try{var o="",u=null;do o+=Sn(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var mt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,fa=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,Vi=t.unstable_requestPaint,Yn=t.unstable_now,Ja=t.unstable_getCurrentPriorityLevel,ha=t.unstable_ImmediatePriority,_l=t.unstable_UserBlockingPriority,Bi=t.unstable_NormalPriority,wl=t.unstable_LowPriority,Ui=t.unstable_IdlePriority,El=t.log,Fi=t.unstable_setDisableYieldValue,Fr=null,Tn=null;function br(a){if(typeof El=="function"&&Fi(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(Fr,a)}catch{}}var Bt=Math.clz32?Math.clz32:qr,Yc=Math.log,ma=Math.LN2;function qr(a){return a>>>=0,a===0?32:31-(Yc(a)/ma|0)|0}var mi=256,es=262144,Yt=4194304;function $r(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fe(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,_=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~_,h!==0?v=$r(h):(I&=D,I!==0?v=$r(I):u||(u=D&~a,u!==0&&(v=$r(u))))):(D=h&~_,D!==0?v=$r(D):I!==0?v=$r(I):u||(u=h&~a,u!==0&&(v=$r(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function pt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function fn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function xr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Mt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function cr(a,o,u,h,v,_){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,G=a.expirationTimes,te=a.hiddenUpdates;for(u=I&~u;0<u;){var ce=31-Bt(u),he=1<<ce;D[ce]=0,G[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var ae=ne[ce];ae!==null&&(ae.lane&=-536870913)}u&=~he}h!==0&&pi(a,h,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(I&~o))}function pi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Bt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Wn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Bt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function Xn(a,o){var u=o&-o;return u=(u&42)!==0?1:pa(u),(u&(a.suspendedLanes|o))!==0?0:u}function pa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function cf(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:fC(a.type))}function qi(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var $i=Math.random().toString(36).slice(2),hn="__reactFiber$"+$i,zn="__reactProps$"+$i,ga="__reactContainer$"+$i,Wc="__reactEvents$"+$i,vb="__reactListeners$"+$i,up="__reactHandles$"+$i,dp="__reactResources$"+$i,ya="__reactMarker$"+$i;function Xc(a){delete a[hn],delete a[zn],delete a[Wc],delete a[vb],delete a[up]}function va(a){var o=a[hn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ga]||u[hn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Xk(a);a!==null;){if(u=a[hn])return u;a=Xk(a)}return o}a=u,u=a.parentNode}return null}function gi(a){if(a=a[hn]||a[ga]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Hr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ba(a){var o=a[dp];return o||(o=a[dp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mn(a){a[ya]=!0}var uf=new Set,df={};function xa(a,o){_a(a,o),_a(a+"Capture",o)}function _a(a,o){for(df[a]=o,a=0;a<o.length;a++)uf.add(o[a])}var ff=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hf={},mf={};function fp(a){return mt.call(mf,a)?!0:mt.call(hf,a)?!1:ff.test(a)?mf[a]=!0:(hf[a]=!0,!1)}function Qc(a,o,u){if(fp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Gr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function pn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ro(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,_.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function gt(a){if(!a._valueTracker){var o=ro(a)?"checked":"value";a._valueTracker=pf(a,o,""+a[o])}}function Sl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=ro(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function wa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Tl=/[\n"\\]/g;function Cr(a){return a.replace(Tl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Zc(a,o,u,h,v,_,I,D){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?gf(a,I,Ln(o)):u!=null?gf(a,I,Ln(u)):h!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+Ln(D):a.removeAttribute("name")}function hp(a,o,u,h,v,_,I,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){gt(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,D||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),gt(a)}function gf(a,o,u){o==="number"&&wa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function io(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function mp(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function ao(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),gt(a)}function Nr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var pp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||pp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function vf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&yf(a,v,h)}else for(var _ in o)o.hasOwnProperty(_)&&yf(a,_,o[_])}function Jc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),so=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eu(a){return so.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Hi(){}var bf=null;function yi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var oo=null,Ea=null;function Al(a){var o=gi(a);if(o&&(a=o.stateNode)){var u=a[zn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Zc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Cr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[zn]||null;if(!v)throw Error(r(90));Zc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Sl(h)}break e;case"textarea":mp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&io(a,!!u.multiple,o,!1)}}}var tu=!1;function lo(a,o,u){if(tu)return a(o,u);tu=!0;try{var h=a(o);return h}finally{if(tu=!1,(oo!==null||Ea!==null)&&(cg(),oo&&(o=oo,a=Ea,Ea=oo=null,Al(o),a)))for(o=0;o<a.length;o++)Al(a[o])}}function Gi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[zn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(vi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{Il=!1}var Sa=null,xf=null,kl=null;function _f(){if(kl)return kl;var a,o=xf,u=o.length,h,v="value"in Sa?Sa.value:Sa.textContent,_=v.length;for(a=0;a<u&&o[a]===v[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===v[_-h];h++);return kl=v.slice(a,1<h?1-h:void 0)}function Cl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ts(){return!0}function Ki(){return!1}function Zn(a){function o(u,h,v,_,I){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ts:Ki,this.isPropagationStopped=Ki,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),o}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Zn(ns),co=p({},ns,{view:0,detail:0}),wf=Zn(co),uo,nu,Aa,ru=p({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Aa&&(Aa&&a.type==="mousemove"?(uo=a.screenX-Aa.screenX,nu=a.screenY-Aa.screenY):nu=uo=0,Aa=a),uo)},movementY:function(a){return"movementY"in a?a.movementY:nu}}),Ef=Zn(ru),Nl=p({},ru,{dataTransfer:0}),yp=Zn(Nl),vp=p({},co,{relatedTarget:0}),Ol=Zn(vp),Sf=p({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Zn(Sf),iu=p({},ns,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xp=Zn(iu),_p=p({},ns,{data:0}),Ia=Zn(_p),wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Sp[a])?!!o[a]:!1}function fo(){return Tp}var _r=p({},co,{key:function(a){if(a.key){var o=wp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Cl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ep[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(a){return a.type==="keypress"?Cl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Cl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ap=Zn(_r),Ip=p({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Zn(Ip),g=p({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),T=Zn(g),N=p({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Zn(N),J=p({},ru,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Zn(J),ye=p({},ns,{newState:0,oldState:0}),Ye=Zn(ye),rn=[9,13,27,32],dt=vi&&"CompositionEvent"in window,Ut=null;vi&&"documentMode"in document&&(Ut=document.documentMode);var bi=vi&&"TextEvent"in window&&!Ut,ka=vi&&(!dt||Ut&&8<Ut&&11>=Ut),Yi=" ",Wi=!1;function Pl(a,o){switch(a){case"keyup":return rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function J8(a,o){switch(a){case"compositionend":return au(o);case"keypress":return o.which!==32?null:(Wi=!0,Yi);case"textInput":return a=o.data,a===Yi&&Wi?null:a;default:return null}}function eB(a,o){if(su)return a==="compositionend"||!dt&&Pl(a,o)?(a=_f(),kl=xf=Sa=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ka&&o.locale!=="ko"?null:o.data;default:return null}}var tB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!tB[a.type]:o==="textarea"}function e2(a,o,u,h){oo?Ea?Ea.push(h):Ea=[h]:oo=h,o=gg(o,"onChange"),0<o.length&&(u=new Ta("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Tf=null,Af=null;function nB(a){jk(a,0)}function kp(a){var o=Hr(a);if(Sl(o))return a}function t2(a,o){if(a==="change")return o}var n2=!1;if(vi){var bb;if(vi){var xb="oninput"in document;if(!xb){var r2=document.createElement("div");r2.setAttribute("oninput","return;"),xb=typeof r2.oninput=="function"}bb=xb}else bb=!1;n2=bb&&(!document.documentMode||9<document.documentMode)}function i2(){Tf&&(Tf.detachEvent("onpropertychange",a2),Af=Tf=null)}function a2(a){if(a.propertyName==="value"&&kp(Af)){var o=[];e2(o,Af,a,yi(a)),lo(nB,o)}}function rB(a,o,u){a==="focusin"?(i2(),Tf=o,Af=u,Tf.attachEvent("onpropertychange",a2)):a==="focusout"&&i2()}function iB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kp(Af)}function aB(a,o){if(a==="click")return kp(o)}function sB(a,o){if(a==="input"||a==="change")return kp(o)}function oB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Kr=typeof Object.is=="function"?Object.is:oB;function If(a,o){if(Kr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!mt.call(o,v)||!Kr(a[v],o[v]))return!1}return!0}function s2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function o2(a,o){var u=s2(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=s2(u)}}function l2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?l2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function c2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=wa(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=wa(a.document)}return o}function _b(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var lB=vi&&"documentMode"in document&&11>=document.documentMode,ou=null,wb=null,kf=null,Eb=!1;function u2(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Eb||ou==null||ou!==wa(h)||(h=ou,"selectionStart"in h&&_b(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kf&&If(kf,h)||(kf=h,h=gg(wb,"onSelect"),0<h.length&&(o=new Ta("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=ou)))}function Rl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var lu={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},Sb={},d2={};vi&&(d2=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function Ml(a){if(Sb[a])return Sb[a];if(!lu[a])return a;var o=lu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in d2)return Sb[a]=o[u];return a}var f2=Ml("animationend"),h2=Ml("animationiteration"),m2=Ml("animationstart"),cB=Ml("transitionrun"),uB=Ml("transitionstart"),dB=Ml("transitioncancel"),p2=Ml("transitionend"),g2=new Map,Tb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tb.push("scrollEnd");function Xi(a,o){g2.set(a,o),xa(o,[a])}var Cp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xi=[],cu=0,Ab=0;function Np(){for(var a=cu,o=Ab=cu=0;o<a;){var u=xi[o];xi[o++]=null;var h=xi[o];xi[o++]=null;var v=xi[o];xi[o++]=null;var _=xi[o];if(xi[o++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}_!==0&&y2(u,v,_)}}function Op(a,o,u,h){xi[cu++]=a,xi[cu++]=o,xi[cu++]=u,xi[cu++]=h,Ab|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ib(a,o,u,h){return Op(a,o,u,h),Pp(a)}function Dl(a,o){return Op(a,null,null,o),Pp(a)}function y2(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&o!==null&&(v=31-Bt(u),a=_.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),_):null}function Pp(a){if(50<Xf)throw Xf=0,jx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var uu={};function fB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(a,o,u,h){return new fB(a,o,u,h)}function kb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function is(a,o){var u=a.alternate;return u===null?(u=Yr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function v2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Rp(a,o,u,h,v,_){var I=0;if(h=a,typeof a=="function")kb(a)&&(I=1);else if(typeof a=="string")I=yU(a,u,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Yr(31,u,o,v),a.elementType=V,a.lanes=_,a;case E:return jl(u.children,v,_,o);case S:I=8,v|=24;break;case k:return a=Yr(12,u,o,v|2),a.elementType=k,a.lanes=_,a;case P:return a=Yr(13,u,o,v),a.elementType=P,a.lanes=_,a;case z:return a=Yr(19,u,o,v),a.elementType=z,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:I=10;break e;case M:I=9;break e;case j:I=11;break e;case R:I=14;break e;case O:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Yr(I,u,o,v),o.elementType=a,o.type=h,o.lanes=_,o}function jl(a,o,u,h){return a=Yr(7,a,h,o),a.lanes=u,a}function Cb(a,o,u){return a=Yr(6,a,null,o),a.lanes=u,a}function b2(a){var o=Yr(18,null,null,0);return o.stateNode=a,o}function Nb(a,o,u){return o=Yr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var x2=new WeakMap;function _i(a,o){if(typeof a=="object"&&a!==null){var u=x2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Li(o)},x2.set(a,o),o)}return{value:a,source:o,stack:Li(o)}}var du=[],fu=0,Mp=null,Cf=0,wi=[],Ei=0,ho=null,Ca=1,Na="";function as(a,o){du[fu++]=Cf,du[fu++]=Mp,Mp=a,Cf=o}function _2(a,o,u){wi[Ei++]=Ca,wi[Ei++]=Na,wi[Ei++]=ho,ho=a;var h=Ca;a=Na;var v=32-Bt(h)-1;h&=~(1<<v),u+=1;var _=32-Bt(o)+v;if(30<_){var I=v-v%5;_=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Ca=1<<32-Bt(o)+v|u<<v|h,Na=_+a}else Ca=1<<_|u<<v|h,Na=a}function Ob(a){a.return!==null&&(as(a,1),_2(a,1,0))}function Pb(a){for(;a===Mp;)Mp=du[--fu],du[fu]=null,Cf=du[--fu],du[fu]=null;for(;a===ho;)ho=wi[--Ei],wi[Ei]=null,Na=wi[--Ei],wi[Ei]=null,Ca=wi[--Ei],wi[Ei]=null}function w2(a,o){wi[Ei++]=Ca,wi[Ei++]=Na,wi[Ei++]=ho,Ca=o.id,Na=o.overflow,ho=a}var Jn=null,Dt=null,st=!1,mo=null,Si=!1,Rb=Error(r(519));function po(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nf(_i(o,a)),Rb}function E2(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[hn]=a,o[zn]=h,u){case"dialog":tt("cancel",o),tt("close",o);break;case"iframe":case"object":case"embed":tt("load",o);break;case"video":case"audio":for(u=0;u<Zf.length;u++)tt(Zf[u],o);break;case"source":tt("error",o);break;case"img":case"image":case"link":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"input":tt("invalid",o),hp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":tt("invalid",o);break;case"textarea":tt("invalid",o),ao(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Bk(o.textContent,u)?(h.popover!=null&&(tt("beforetoggle",o),tt("toggle",o)),h.onScroll!=null&&tt("scroll",o),h.onScrollEnd!=null&&tt("scrollend",o),h.onClick!=null&&(o.onclick=Hi),o=!0):o=!1,o||po(a,!0)}function S2(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Jn=Jn.return}}function hu(a){if(a!==Jn)return!1;if(!st)return S2(a),st=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Qx(a.type,a.memoizedProps)),u=!u),u&&Dt&&po(a),S2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Dt=Wk(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Dt=Wk(a)}else o===27?(o=Dt,Co(a.type)?(a=n1,n1=null,Dt=a):Dt=o):Dt=Jn?Ai(a.stateNode.nextSibling):null;return!0}function zl(){Dt=Jn=null,st=!1}function Mb(){var a=mo;return a!==null&&(Mr===null?Mr=a:Mr.push.apply(Mr,a),mo=null),a}function Nf(a){mo===null?mo=[a]:mo.push(a)}var Db=H(null),Ll=null,ss=null;function go(a,o,u){oe(Db,o._currentValue),o._currentValue=u}function os(a){a._currentValue=Db.current,K(Db)}function jb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function zb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var I=v.child;_=_.firstContext;e:for(;_!==null;){var D=_;_=v;for(var G=0;G<o.length;G++)if(D.context===o[G]){_.lanes|=u,D=_.alternate,D!==null&&(D.lanes|=u),jb(_.return,u,a),h||(I=null);break e}_=D.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,_=I.alternate,_!==null&&(_.lanes|=u),jb(I,u,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function mu(a,o,u,h){a=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var D=v.type;Kr(v.pendingProps.value,I.value)||(a!==null?a.push(D):a=[D])}}else if(v===Ee.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(rh):a=[rh])}v=v.return}a!==null&&zb(o,a,u,h),o.flags|=262144}function Dp(a){for(a=a.firstContext;a!==null;){if(!Kr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Vl(a){Ll=a,ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return T2(Ll,a)}function jp(a,o){return Ll===null&&Vl(a),T2(a,o)}function T2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ss===null){if(a===null)throw Error(r(308));ss=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ss=ss.next=o;return u}var hB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},mB=t.unstable_scheduleCallback,pB=t.unstable_NormalPriority,gn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lb(){return{controller:new hB,data:new Map,refCount:0}}function Of(a){a.refCount--,a.refCount===0&&mB(pB,function(){a.controller.abort()})}var Pf=null,Vb=0,pu=0,gu=null;function gB(a,o){if(Pf===null){var u=Pf=[];Vb=0,pu=Fx(),gu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Vb++,o.then(A2,A2),o}function A2(){if(--Vb===0&&Pf!==null){gu!==null&&(gu.status="fulfilled");var a=Pf;Pf=null,pu=0,gu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function yB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var I2=W.S;W.S=function(a,o){uk=Yn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&gB(a,o),I2!==null&&I2(a,o)};var Bl=H(null);function Bb(){var a=Bl.current;return a!==null?a:Nt.pooledCache}function zp(a,o){o===null?oe(Bl,Bl.current):oe(Bl,o.pool)}function k2(){var a=Bb();return a===null?null:{parent:gn._currentValue,pool:a}}var yu=Error(r(460)),Ub=Error(r(474)),Lp=Error(r(542)),Vp={then:function(){}};function C2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function N2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Hi,Hi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,P2(a),a;default:if(typeof o.status=="string")o.then(Hi,Hi);else{if(a=Nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,P2(a),a}throw Fl=o,yu}}function Ul(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Fl=u,yu):u}}var Fl=null;function O2(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function P2(a){if(a===yu||a===Lp)throw Error(r(483))}var vu=null,Rf=0;function Bp(a){var o=Rf;return Rf+=1,vu===null&&(vu=[]),N2(vu,a,o)}function Mf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Up(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function R2(a){function o(X,Y){if(a){var ee=X.deletions;ee===null?(X.deletions=[Y],X.flags|=16):ee.push(Y)}}function u(X,Y){if(!a)return null;for(;Y!==null;)o(X,Y),Y=Y.sibling;return null}function h(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function v(X,Y){return X=is(X,Y),X.index=0,X.sibling=null,X}function _(X,Y,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<Y?(X.flags|=67108866,Y):ee):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function I(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function D(X,Y,ee,fe){return Y===null||Y.tag!==6?(Y=Cb(ee,X.mode,fe),Y.return=X,Y):(Y=v(Y,ee),Y.return=X,Y)}function G(X,Y,ee,fe){var ze=ee.type;return ze===E?ce(X,Y,ee.props.children,fe,ee.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&Ul(ze)===Y.type)?(Y=v(Y,ee.props),Mf(Y,ee),Y.return=X,Y):(Y=Rp(ee.type,ee.key,ee.props,null,X.mode,fe),Mf(Y,ee),Y.return=X,Y)}function te(X,Y,ee,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Nb(ee,X.mode,fe),Y.return=X,Y):(Y=v(Y,ee.children||[]),Y.return=X,Y)}function ce(X,Y,ee,fe,ze){return Y===null||Y.tag!==7?(Y=jl(ee,X.mode,fe,ze),Y.return=X,Y):(Y=v(Y,ee),Y.return=X,Y)}function he(X,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Cb(""+Y,X.mode,ee),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return ee=Rp(Y.type,Y.key,Y.props,null,X.mode,ee),Mf(ee,Y),ee.return=X,ee;case w:return Y=Nb(Y,X.mode,ee),Y.return=X,Y;case O:return Y=Ul(Y),he(X,Y,ee)}if(we(Y)||F(Y))return Y=jl(Y,X.mode,ee,null),Y.return=X,Y;if(typeof Y.then=="function")return he(X,Bp(Y),ee);if(Y.$$typeof===C)return he(X,jp(X,Y),ee);Up(X,Y)}return null}function ne(X,Y,ee,fe){var ze=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ze!==null?null:D(X,Y,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===ze?G(X,Y,ee,fe):null;case w:return ee.key===ze?te(X,Y,ee,fe):null;case O:return ee=Ul(ee),ne(X,Y,ee,fe)}if(we(ee)||F(ee))return ze!==null?null:ce(X,Y,ee,fe,null);if(typeof ee.then=="function")return ne(X,Y,Bp(ee),fe);if(ee.$$typeof===C)return ne(X,Y,jp(X,ee),fe);Up(X,ee)}return null}function ae(X,Y,ee,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,D(Y,X,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return X=X.get(fe.key===null?ee:fe.key)||null,G(Y,X,fe,ze);case w:return X=X.get(fe.key===null?ee:fe.key)||null,te(Y,X,fe,ze);case O:return fe=Ul(fe),ae(X,Y,ee,fe,ze)}if(we(fe)||F(fe))return X=X.get(ee)||null,ce(Y,X,fe,ze,null);if(typeof fe.then=="function")return ae(X,Y,ee,Bp(fe),ze);if(fe.$$typeof===C)return ae(X,Y,ee,jp(Y,fe),ze);Up(Y,fe)}return null}function Oe(X,Y,ee,fe){for(var ze=null,lt=null,De=Y,Qe=Y=0,rt=null;De!==null&&Qe<ee.length;Qe++){De.index>Qe?(rt=De,De=null):rt=De.sibling;var ct=ne(X,De,ee[Qe],fe);if(ct===null){De===null&&(De=rt);break}a&&De&&ct.alternate===null&&o(X,De),Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct,De=rt}if(Qe===ee.length)return u(X,De),st&&as(X,Qe),ze;if(De===null){for(;Qe<ee.length;Qe++)De=he(X,ee[Qe],fe),De!==null&&(Y=_(De,Y,Qe),lt===null?ze=De:lt.sibling=De,lt=De);return st&&as(X,Qe),ze}for(De=h(De);Qe<ee.length;Qe++)rt=ae(De,X,Qe,ee[Qe],fe),rt!==null&&(a&&rt.alternate!==null&&De.delete(rt.key===null?Qe:rt.key),Y=_(rt,Y,Qe),lt===null?ze=rt:lt.sibling=rt,lt=rt);return a&&De.forEach(function(Mo){return o(X,Mo)}),st&&as(X,Qe),ze}function qe(X,Y,ee,fe){if(ee==null)throw Error(r(151));for(var ze=null,lt=null,De=Y,Qe=Y=0,rt=null,ct=ee.next();De!==null&&!ct.done;Qe++,ct=ee.next()){De.index>Qe?(rt=De,De=null):rt=De.sibling;var Mo=ne(X,De,ct.value,fe);if(Mo===null){De===null&&(De=rt);break}a&&De&&Mo.alternate===null&&o(X,De),Y=_(Mo,Y,Qe),lt===null?ze=Mo:lt.sibling=Mo,lt=Mo,De=rt}if(ct.done)return u(X,De),st&&as(X,Qe),ze;if(De===null){for(;!ct.done;Qe++,ct=ee.next())ct=he(X,ct.value,fe),ct!==null&&(Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct);return st&&as(X,Qe),ze}for(De=h(De);!ct.done;Qe++,ct=ee.next())ct=ae(De,X,Qe,ct.value,fe),ct!==null&&(a&&ct.alternate!==null&&De.delete(ct.key===null?Qe:ct.key),Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct);return a&&De.forEach(function(kU){return o(X,kU)}),st&&as(X,Qe),ze}function kt(X,Y,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===E&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var ze=ee.key;Y!==null;){if(Y.key===ze){if(ze=ee.type,ze===E){if(Y.tag===7){u(X,Y.sibling),fe=v(Y,ee.props.children),fe.return=X,X=fe;break e}}else if(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&Ul(ze)===Y.type){u(X,Y.sibling),fe=v(Y,ee.props),Mf(fe,ee),fe.return=X,X=fe;break e}u(X,Y);break}else o(X,Y);Y=Y.sibling}ee.type===E?(fe=jl(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=Rp(ee.type,ee.key,ee.props,null,X.mode,fe),Mf(fe,ee),fe.return=X,X=fe)}return I(X);case w:e:{for(ze=ee.key;Y!==null;){if(Y.key===ze)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){u(X,Y.sibling),fe=v(Y,ee.children||[]),fe.return=X,X=fe;break e}else{u(X,Y);break}else o(X,Y);Y=Y.sibling}fe=Nb(ee,X.mode,fe),fe.return=X,X=fe}return I(X);case O:return ee=Ul(ee),kt(X,Y,ee,fe)}if(we(ee))return Oe(X,Y,ee,fe);if(F(ee)){if(ze=F(ee),typeof ze!="function")throw Error(r(150));return ee=ze.call(ee),qe(X,Y,ee,fe)}if(typeof ee.then=="function")return kt(X,Y,Bp(ee),fe);if(ee.$$typeof===C)return kt(X,Y,jp(X,ee),fe);Up(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(u(X,Y.sibling),fe=v(Y,ee),fe.return=X,X=fe):(u(X,Y),fe=Cb(ee,X.mode,fe),fe.return=X,X=fe),I(X)):u(X,Y)}return function(X,Y,ee,fe){try{Rf=0;var ze=kt(X,Y,ee,fe);return vu=null,ze}catch(De){if(De===yu||De===Lp)throw De;var lt=Yr(29,De,null,X.mode);return lt.lanes=fe,lt.return=X,lt}}}var ql=R2(!0),M2=R2(!1),yo=!1;function Fb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function bo(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ft&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Pp(a),y2(a,null,u),o}return Op(a,h,o,u),Pp(a)}function Df(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}function $b(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=I:_=_.next=I,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Hb=!1;function jf(){if(Hb){var a=gu;if(a!==null)throw a}}function zf(a,o,u,h){Hb=!1;var v=a.updateQueue;yo=!1;var _=v.firstBaseUpdate,I=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var G=D,te=G.next;G.next=null,I===null?_=te:I.next=te,I=G;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==I&&(D===null?ce.firstBaseUpdate=te:D.next=te,ce.lastBaseUpdate=G))}if(_!==null){var he=v.baseState;I=0,ce=te=G=null,D=_;do{var ne=D.lane&-536870913,ae=ne!==D.lane;if(ae?(nt&ne)===ne:(h&ne)===ne){ne!==0&&ne===pu&&(Hb=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Oe=a,qe=D;ne=o;var kt=u;switch(qe.tag){case 1:if(Oe=qe.payload,typeof Oe=="function"){he=Oe.call(kt,he,ne);break e}he=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=qe.payload,ne=typeof Oe=="function"?Oe.call(kt,he,ne):Oe,ne==null)break e;he=p({},he,ne);break e;case 2:yo=!0}}ne=D.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(te=ce=ae,G=he):ce=ce.next=ae,I|=ne;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);ce===null&&(G=he),v.baseState=G,v.firstBaseUpdate=te,v.lastBaseUpdate=ce,_===null&&(v.shared.lanes=0),So|=I,a.lanes=I,a.memoizedState=he}}function D2(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function j2(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)D2(u[a],o)}var bu=H(null),Fp=H(0);function z2(a,o){a=gs,oe(Fp,a),oe(bu,o),gs=a|o.baseLanes}function Gb(){oe(Fp,gs),oe(bu,bu.current)}function Kb(){gs=Fp.current,K(bu),K(Fp)}var Wr=H(null),Ti=null;function xo(a){var o=a.alternate;oe(an,an.current&1),oe(Wr,a),Ti===null&&(o===null||bu.current!==null||o.memoizedState!==null)&&(Ti=a)}function Yb(a){oe(an,an.current),oe(Wr,a),Ti===null&&(Ti=a)}function L2(a){a.tag===22?(oe(an,an.current),oe(Wr,a),Ti===null&&(Ti=a)):_o()}function _o(){oe(an,an.current),oe(Wr,Wr.current)}function Xr(a){K(Wr),Ti===a&&(Ti=null),K(an)}var an=H(0);function qp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||e1(u)||t1(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ls=0,We=null,At=null,yn=null,$p=!1,xu=!1,$l=!1,Hp=0,Lf=0,_u=null,vB=0;function Qt(){throw Error(r(321))}function Wb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Kr(a[u],o[u]))return!1;return!0}function Xb(a,o,u,h,v,_){return ls=_,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?_I:dx,$l=!1,_=u(h,v),$l=!1,xu&&(_=B2(o,u,h,v)),V2(a),_}function V2(a){W.H=Uf;var o=At!==null&&At.next!==null;if(ls=0,yn=At=We=null,$p=!1,Lf=0,_u=null,o)throw Error(r(300));a===null||vn||(a=a.dependencies,a!==null&&Dp(a)&&(vn=!0))}function B2(a,o,u,h){We=a;var v=0;do{if(xu&&(_u=null),Lf=0,xu=!1,25<=v)throw Error(r(301));if(v+=1,yn=At=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}W.H=wI,_=o(u,h)}while(xu);return _}function bB(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?Vf(o):o,a=a.useState()[0],(At!==null?At.memoizedState:null)!==a&&(We.flags|=1024),o}function Qb(){var a=Hp!==0;return Hp=0,a}function Zb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Jb(a){if($p){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}$p=!1}ls=0,yn=At=We=null,xu=!1,Lf=Hp=0,_u=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?We.memoizedState=yn=a:yn=yn.next=a,yn}function sn(){if(At===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var o=yn===null?We.memoizedState:yn.next;if(o!==null)yn=o,At=a;else{if(a===null)throw We.alternate===null?Error(r(467)):Error(r(310));At=a,a={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},yn===null?We.memoizedState=yn=a:yn=yn.next=a}return yn}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vf(a){var o=Lf;return Lf+=1,_u===null&&(_u=[]),a=N2(_u,a,o),o=We,(yn===null?o.memoizedState:yn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?_I:dx),a}function Kp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vf(a);if(a.$$typeof===C)return er(a)}throw Error(r(438,String(a)))}function ex(a){var o=null,u=We.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gp(),We.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function cs(a,o){return typeof o=="function"?o(a):o}function Yp(a){var o=sn();return tx(o,At,a)}function tx(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,_=h.pending;if(_!==null){if(v!==null){var I=v.next;v.next=_.next,_.next=I}o.baseQueue=v=_,h.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{o=v.next;var D=I=null,G=null,te=o,ce=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(nt&he)===he:(ls&he)===he){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===pu&&(ce=!0);else if((ls&ne)===ne){te=te.next,ne===pu&&(ce=!0);continue}else he={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=he,I=_):G=G.next=he,We.lanes|=ne,So|=ne;he=te.action,$l&&u(_,he),_=te.hasEagerState?te.eagerState:u(_,he)}else ne={lane:he,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=ne,I=_):G=G.next=ne,We.lanes|=he,So|=he;te=te.next}while(te!==null&&te!==o);if(G===null?I=_:G.next=D,!Kr(_,a.memoizedState)&&(vn=!0,ce&&(u=gu,u!==null)))throw u;a.memoizedState=_,a.baseState=I,a.baseQueue=G,h.lastRenderedState=_}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function nx(a){var o=sn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do _=a(_,I.action),I=I.next;while(I!==v);Kr(_,o.memoizedState)||(vn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,h]}function U2(a,o,u){var h=We,v=sn(),_=st;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Kr((At||v).memoizedState,u);if(I&&(v.memoizedState=u,vn=!0),v=v.queue,ax($2.bind(null,h,v,a),[a]),v.getSnapshot!==o||I||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,wu(9,{destroy:void 0},q2.bind(null,h,v,u,o),null),Nt===null)throw Error(r(349));_||(ls&127)!==0||F2(h,o,u)}return u}function F2(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=We.updateQueue,o===null?(o=Gp(),We.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function q2(a,o,u,h){o.value=u,o.getSnapshot=h,H2(o)&&G2(a)}function $2(a,o,u){return u(function(){H2(o)&&G2(a)})}function H2(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Kr(a,u)}catch{return!0}}function G2(a){var o=Dl(a,2);o!==null&&Dr(o,a,2)}function rx(a){var o=wr();if(typeof a=="function"){var u=a;if(a=u(),$l){br(!0);try{u()}finally{br(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},o}function K2(a,o,u,h){return a.baseState=u,tx(a,At,typeof h=="function"?h:cs)}function xB(a,o,u,h,v){if(Qp(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};W.T!==null?u(!0):_.isTransition=!1,h(_),u=o.pending,u===null?(_.next=o.pending=_,Y2(o,_)):(_.next=u.next,o.pending=u.next=_)}}function Y2(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var _=W.T,I={};W.T=I;try{var D=u(v,h),G=W.S;G!==null&&G(I,D),W2(a,o,D)}catch(te){ix(a,o,te)}finally{_!==null&&I.types!==null&&(_.types=I.types),W.T=_}}else try{_=u(v,h),W2(a,o,_)}catch(te){ix(a,o,te)}}function W2(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){X2(a,o,h)},function(h){return ix(a,o,h)}):X2(a,o,u)}function X2(a,o,u){o.status="fulfilled",o.value=u,Q2(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Y2(a,u)))}function ix(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Q2(o),o=o.next;while(o!==h)}a.action=null}function Q2(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Z2(a,o){return o}function J2(a,o){if(st){var u=Nt.formState;if(u!==null){e:{var h=We;if(st){if(Dt){t:{for(var v=Dt,_=Si;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ai(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Dt=Ai(v.nextSibling),h=v.data==="F!";break e}}po(h)}h=!1}h&&(o=u[0])}}return u=wr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z2,lastRenderedState:o},u.queue=h,u=vI.bind(null,We,h),h.dispatch=u,h=rx(!1),_=ux.bind(null,We,!1,h.queue),h=wr(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=xB.bind(null,We,v,_,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function eI(a){var o=sn();return tI(o,At,a)}function tI(a,o,u){if(o=tx(a,o,Z2)[0],a=Yp(cs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Vf(o)}catch(I){throw I===yu?Lp:I}else h=o;o=sn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(We.flags|=2048,wu(9,{destroy:void 0},_B.bind(null,v,u),null)),[h,_,a]}function _B(a,o){a.action=o}function nI(a){var o=sn(),u=At;if(u!==null)return tI(o,u,a);sn(),o=o.memoizedState,u=sn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function wu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=Gp(),We.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function rI(){return sn().memoizedState}function Wp(a,o,u,h){var v=wr();We.flags|=a,v.memoizedState=wu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Xp(a,o,u,h){var v=sn();h=h===void 0?null:h;var _=v.memoizedState.inst;At!==null&&h!==null&&Wb(h,At.memoizedState.deps)?v.memoizedState=wu(o,_,u,h):(We.flags|=a,v.memoizedState=wu(1|o,_,u,h))}function iI(a,o){Wp(8390656,8,a,o)}function ax(a,o){Xp(2048,8,a,o)}function wB(a){We.flags|=4;var o=We.updateQueue;if(o===null)o=Gp(),We.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function aI(a){var o=sn().memoizedState;return wB({ref:o,nextImpl:a}),function(){if((ft&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function sI(a,o){return Xp(4,2,a,o)}function oI(a,o){return Xp(4,4,a,o)}function lI(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function cI(a,o,u){u=u!=null?u.concat([a]):null,Xp(4,4,lI.bind(null,o,a),u)}function sx(){}function uI(a,o){var u=sn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Wb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function dI(a,o){var u=sn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Wb(o,h[1]))return h[0];if(h=a(),$l){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[h,o],h}function ox(a,o,u){return u===void 0||(ls&1073741824)!==0&&(nt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=fk(),We.lanes|=a,So|=a,u)}function fI(a,o,u,h){return Kr(u,o)?u:bu.current!==null?(a=ox(a,u,h),Kr(a,o)||(vn=!0),a):(ls&42)===0||(ls&1073741824)!==0&&(nt&261930)===0?(vn=!0,a.memoizedState=u):(a=fk(),We.lanes|=a,So|=a,o)}function hI(a,o,u,h,v){var _=re.p;re.p=_!==0&&8>_?_:8;var I=W.T,D={};W.T=D,ux(a,!1,o,u);try{var G=v(),te=W.S;if(te!==null&&te(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=yB(G,h);Bf(a,o,ce,Jr(a))}else Bf(a,o,h,Jr(a))}catch(he){Bf(a,o,{then:function(){},status:"rejected",reason:he},Jr())}finally{re.p=_,I!==null&&D.types!==null&&(I.types=D.types),W.T=I}}function EB(){}function lx(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=mI(a).queue;hI(a,v,o,$,u===null?EB:function(){return pI(a),u(h)})}function mI(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function pI(a){var o=mI(a);o.next===null&&(o=a.alternate.memoizedState),Bf(a,o.next.queue,{},Jr())}function cx(){return er(rh)}function gI(){return sn().memoizedState}function yI(){return sn().memoizedState}function SB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Jr();a=vo(u);var h=bo(o,a,u);h!==null&&(Dr(h,o,u),Df(h,o,u)),o={cache:Lb()},a.payload=o;return}o=o.return}}function TB(a,o,u){var h=Jr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qp(a)?bI(o,u):(u=Ib(a,o,u,h),u!==null&&(Dr(u,a,h),xI(u,o,h)))}function vI(a,o,u){var h=Jr();Bf(a,o,u,h)}function Bf(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qp(a))bI(o,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,D=_(I,u);if(v.hasEagerState=!0,v.eagerState=D,Kr(D,I))return Op(a,o,v,0),Nt===null&&Np(),!1}catch{}if(u=Ib(a,o,v,h),u!==null)return Dr(u,a,h),xI(u,o,h),!0}return!1}function ux(a,o,u,h){if(h={lane:2,revertLane:Fx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qp(a)){if(o)throw Error(r(479))}else o=Ib(a,u,h,2),o!==null&&Dr(o,a,2)}function Qp(a){var o=a.alternate;return a===We||o!==null&&o===We}function bI(a,o){xu=$p=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function xI(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}var Uf={readContext:er,use:Kp,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Uf.useEffectEvent=Qt;var _I={readContext:er,use:Kp,useCallback:function(a,o){return wr().memoizedState=[a,o===void 0?null:o],a},useContext:er,useEffect:iI,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Wp(4194308,4,lI.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Wp(4194308,4,a,o)},useInsertionEffect:function(a,o){Wp(4,2,a,o)},useMemo:function(a,o){var u=wr();o=o===void 0?null:o;var h=a();if($l){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=wr();if(u!==void 0){var v=u(o);if($l){br(!0);try{u(o)}finally{br(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=TB.bind(null,We,a),[h.memoizedState,a]},useRef:function(a){var o=wr();return a={current:a},o.memoizedState=a},useState:function(a){a=rx(a);var o=a.queue,u=vI.bind(null,We,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:sx,useDeferredValue:function(a,o){var u=wr();return ox(u,a,o)},useTransition:function(){var a=rx(!1);return a=hI.bind(null,We,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=We,v=wr();if(st){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Nt===null)throw Error(r(349));(nt&127)!==0||F2(h,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,iI($2.bind(null,h,_,a),[a]),h.flags|=2048,wu(9,{destroy:void 0},q2.bind(null,h,_,u,o),null),u},useId:function(){var a=wr(),o=Nt.identifierPrefix;if(st){var u=Na,h=Ca;u=(h&~(1<<32-Bt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Hp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=vB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:cx,useFormState:J2,useActionState:J2,useOptimistic:function(a){var o=wr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ux.bind(null,We,!0,u),u.dispatch=o,[a,o]},useMemoCache:ex,useCacheRefresh:function(){return wr().memoizedState=SB.bind(null,We)},useEffectEvent:function(a){var o=wr(),u={impl:a};return o.memoizedState=u,function(){if((ft&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},dx={readContext:er,use:Kp,useCallback:uI,useContext:er,useEffect:ax,useImperativeHandle:cI,useInsertionEffect:sI,useLayoutEffect:oI,useMemo:dI,useReducer:Yp,useRef:rI,useState:function(){return Yp(cs)},useDebugValue:sx,useDeferredValue:function(a,o){var u=sn();return fI(u,At.memoizedState,a,o)},useTransition:function(){var a=Yp(cs)[0],o=sn().memoizedState;return[typeof a=="boolean"?a:Vf(a),o]},useSyncExternalStore:U2,useId:gI,useHostTransitionStatus:cx,useFormState:eI,useActionState:eI,useOptimistic:function(a,o){var u=sn();return K2(u,At,a,o)},useMemoCache:ex,useCacheRefresh:yI};dx.useEffectEvent=aI;var wI={readContext:er,use:Kp,useCallback:uI,useContext:er,useEffect:ax,useImperativeHandle:cI,useInsertionEffect:sI,useLayoutEffect:oI,useMemo:dI,useReducer:nx,useRef:rI,useState:function(){return nx(cs)},useDebugValue:sx,useDeferredValue:function(a,o){var u=sn();return At===null?ox(u,a,o):fI(u,At.memoizedState,a,o)},useTransition:function(){var a=nx(cs)[0],o=sn().memoizedState;return[typeof a=="boolean"?a:Vf(a),o]},useSyncExternalStore:U2,useId:gI,useHostTransitionStatus:cx,useFormState:nI,useActionState:nI,useOptimistic:function(a,o){var u=sn();return At!==null?K2(u,At,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:ex,useCacheRefresh:yI};wI.useEffectEvent=aI;function fx(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var hx={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=Jr(),v=vo(h);v.payload=o,u!=null&&(v.callback=u),o=bo(a,v,h),o!==null&&(Dr(o,a,h),Df(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=Jr(),v=vo(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=bo(a,v,h),o!==null&&(Dr(o,a,h),Df(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Jr(),h=vo(u);h.tag=2,o!=null&&(h.callback=o),o=bo(a,h,u),o!==null&&(Dr(o,a,u),Df(o,a,u))}};function EI(a,o,u,h,v,_,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,_,I):o.prototype&&o.prototype.isPureReactComponent?!If(u,h)||!If(v,_):!0}function SI(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&hx.enqueueReplaceState(o,o.state,null)}function Hl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function TI(a){Cp(a)}function AI(a){console.error(a)}function II(a){Cp(a)}function Zp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function kI(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function mx(a,o,u){return u=vo(u),u.tag=3,u.payload={element:null},u.callback=function(){Zp(a,o)},u}function CI(a){return a=vo(a),a.tag=3,a}function NI(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;a.payload=function(){return v(_)},a.callback=function(){kI(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){kI(o,u,h),typeof v!="function"&&(To===null?To=new Set([this]):To.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function AB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&mu(o,u,v,!0),u=Wr.current,u!==null){switch(u.tag){case 31:case 13:return Ti===null?ug():u.alternate===null&&Zt===0&&(Zt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Vp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Vx(a,h,v)),!1;case 22:return u.flags|=65536,h===Vp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Vx(a,h,v)),!1}throw Error(r(435,u.tag))}return Vx(a,h,v),ug(),!1}if(st)return o=Wr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Rb&&(a=Error(r(422),{cause:h}),Nf(_i(a,u)))):(h!==Rb&&(o=Error(r(423),{cause:h}),Nf(_i(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=_i(h,u),v=mx(a.stateNode,h,v),$b(a,v),Zt!==4&&(Zt=2)),!1;var _=Error(r(520),{cause:h});if(_=_i(_,u),Wf===null?Wf=[_]:Wf.push(_),Zt!==4&&(Zt=2),o===null)return!0;h=_i(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=mx(u.stateNode,h,a),$b(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(To===null||!To.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=CI(v),NI(v,a,u,h),$b(u,v),!1}u=u.return}while(u!==null);return!1}var px=Error(r(461)),vn=!1;function tr(a,o,u,h){o.child=a===null?M2(o,null,u,h):ql(o,a.child,u,h)}function OI(a,o,u,h,v){u=u.render;var _=o.ref;if("ref"in h){var I={};for(var D in h)D!=="ref"&&(I[D]=h[D])}else I=h;return Vl(o),h=Xb(a,o,u,I,_,v),D=Qb(),a!==null&&!vn?(Zb(a,o,v),us(a,o,v)):(st&&D&&Ob(o),o.flags|=1,tr(a,o,h,v),o.child)}function PI(a,o,u,h,v){if(a===null){var _=u.type;return typeof _=="function"&&!kb(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,RI(a,o,_,h,v)):(a=Rp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Ex(a,v)){var I=_.memoizedProps;if(u=u.compare,u=u!==null?u:If,u(I,h)&&a.ref===o.ref)return us(a,o,v)}return o.flags|=1,a=is(_,h),a.ref=o.ref,a.return=o,o.child=a}function RI(a,o,u,h,v){if(a!==null){var _=a.memoizedProps;if(If(_,h)&&a.ref===o.ref)if(vn=!1,o.pendingProps=h=_,Ex(a,v))(a.flags&131072)!==0&&(vn=!0);else return o.lanes=a.lanes,us(a,o,v)}return gx(a,o,u,h,v)}function MI(a,o,u,h){var v=h.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,o.child=null;return DI(a,o,_,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&zp(o,_!==null?_.cachePool:null),_!==null?z2(o,_):Gb(),L2(o);else return h=o.lanes=536870912,DI(a,o,_!==null?_.baseLanes|u:u,u,h)}else _!==null?(zp(o,_.cachePool),z2(o,_),_o(),o.memoizedState=null):(a!==null&&zp(o,null),Gb(),_o());return tr(a,o,v,u),o.child}function Ff(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function DI(a,o,u,h,v){var _=Bb();return _=_===null?null:{parent:gn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&zp(o,null),Gb(),L2(o),a!==null&&mu(a,o,h,!0),o.childLanes=v,null}function Jp(a,o){return o=tg({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function jI(a,o,u){return ql(o,a.child,null,u),a=Jp(o,o.pendingProps),a.flags|=2,Xr(o),o.memoizedState=null,a}function IB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(st){if(h.mode==="hidden")return a=Jp(o,h),o.lanes=536870912,Ff(null,a);if(Yb(o),(a=Dt)?(a=Yk(a,Si),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ho!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},u=b2(a),u.return=o,o.child=u,Jn=o,Dt=null)):a=null,a===null)throw po(o);return o.lanes=536870912,null}return Jp(o,h)}var _=a.memoizedState;if(_!==null){var I=_.dehydrated;if(Yb(o),v)if(o.flags&256)o.flags&=-257,o=jI(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(vn||mu(a,o,u,!1),v=(u&a.childLanes)!==0,vn||v){if(h=Nt,h!==null&&(I=Xn(h,u),I!==0&&I!==_.retryLane))throw _.retryLane=I,Dl(a,I),Dr(h,a,I),px;ug(),o=jI(a,o,u)}else a=_.treeContext,Dt=Ai(I.nextSibling),Jn=o,st=!0,mo=null,Si=!1,a!==null&&w2(o,a),o=Jp(o,h),o.flags|=4096;return o}return a=is(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function eg(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function gx(a,o,u,h,v){return Vl(o),u=Xb(a,o,u,h,void 0,v),h=Qb(),a!==null&&!vn?(Zb(a,o,v),us(a,o,v)):(st&&h&&Ob(o),o.flags|=1,tr(a,o,u,v),o.child)}function zI(a,o,u,h,v,_){return Vl(o),o.updateQueue=null,u=B2(o,h,u,v),V2(a),h=Qb(),a!==null&&!vn?(Zb(a,o,_),us(a,o,_)):(st&&h&&Ob(o),o.flags|=1,tr(a,o,u,_),o.child)}function LI(a,o,u,h,v){if(Vl(o),o.stateNode===null){var _=uu,I=u.contextType;typeof I=="object"&&I!==null&&(_=er(I)),_=new u(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=hx,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},Fb(o),I=u.contextType,_.context=typeof I=="object"&&I!==null?er(I):uu,_.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(fx(o,u,I,h),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&hx.enqueueReplaceState(_,_.state,null),zf(o,h,_,v),jf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){_=o.stateNode;var D=o.memoizedProps,G=Hl(u,D);_.props=G;var te=_.context,ce=u.contextType;I=uu,typeof ce=="object"&&ce!==null&&(I=er(ce));var he=u.getDerivedStateFromProps;ce=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ce||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||te!==I)&&SI(o,_,h,I),yo=!1;var ne=o.memoizedState;_.state=ne,zf(o,h,_,v),jf(),te=o.memoizedState,D||ne!==te||yo?(typeof he=="function"&&(fx(o,u,he,h),te=o.memoizedState),(G=yo||EI(o,u,G,h,ne,te,I))?(ce||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=te),_.props=h,_.state=te,_.context=I,h=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,qb(a,o),I=o.memoizedProps,ce=Hl(u,I),_.props=ce,he=o.pendingProps,ne=_.context,te=u.contextType,G=uu,typeof te=="object"&&te!==null&&(G=er(te)),D=u.getDerivedStateFromProps,(te=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==he||ne!==G)&&SI(o,_,h,G),yo=!1,ne=o.memoizedState,_.state=ne,zf(o,h,_,v),jf();var ae=o.memoizedState;I!==he||ne!==ae||yo||a!==null&&a.dependencies!==null&&Dp(a.dependencies)?(typeof D=="function"&&(fx(o,u,D,h),ae=o.memoizedState),(ce=yo||EI(o,u,ce,h,ne,ae,G)||a!==null&&a.dependencies!==null&&Dp(a.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ae,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ae,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),_.props=h,_.state=ae,_.context=G,h=ce):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),h=!1)}return _=h,eg(a,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&h?(o.child=ql(o,a.child,null,v),o.child=ql(o,null,u,v)):tr(a,o,u,v),o.memoizedState=_.state,a=o.child):a=us(a,o,v),a}function VI(a,o,u,h){return zl(),o.flags|=256,tr(a,o,u,h),o.child}var yx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vx(a){return{baseLanes:a,cachePool:k2()}}function bx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Zr),a}function BI(a,o,u){var h=o.pendingProps,v=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=a!==null&&a.memoizedState===null?!1:(an.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(st){if(v?xo(o):_o(),(a=Dt)?(a=Yk(a,Si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ho!==null?{id:Ca,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},u=b2(a),u.return=o,o.child=u,Jn=o,Dt=null)):a=null,a===null)throw po(o);return t1(a)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,v?(_o(),v=o.mode,D=tg({mode:"hidden",children:D},v),h=jl(h,v,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=vx(u),h.childLanes=bx(a,I,u),o.memoizedState=yx,Ff(null,h)):(xo(o),xx(o,D))}var G=a.memoizedState;if(G!==null&&(D=G.dehydrated,D!==null)){if(_)o.flags&256?(xo(o),o.flags&=-257,o=_x(a,o,u)):o.memoizedState!==null?(_o(),o.child=a.child,o.flags|=128,o=null):(_o(),D=h.fallback,v=o.mode,h=tg({mode:"visible",children:h.children},v),D=jl(D,v,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,ql(o,a.child,null,u),h=o.child,h.memoizedState=vx(u),h.childLanes=bx(a,I,u),o.memoizedState=yx,o=Ff(null,h));else if(xo(o),t1(D)){if(I=D.nextSibling&&D.nextSibling.dataset,I)var te=I.dgst;I=te,h=Error(r(419)),h.stack="",h.digest=I,Nf({value:h,source:null,stack:null}),o=_x(a,o,u)}else if(vn||mu(a,o,u,!1),I=(u&a.childLanes)!==0,vn||I){if(I=Nt,I!==null&&(h=Xn(I,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,Dl(a,h),Dr(I,a,h),px;e1(D)||ug(),o=_x(a,o,u)}else e1(D)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Dt=Ai(D.nextSibling),Jn=o,st=!0,mo=null,Si=!1,a!==null&&w2(o,a),o=xx(o,h.children),o.flags|=4096);return o}return v?(_o(),D=h.fallback,v=o.mode,G=a.child,te=G.sibling,h=is(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,te!==null?D=is(te,D):(D=jl(D,v,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,Ff(null,h),h=o.child,D=a.child.memoizedState,D===null?D=vx(u):(v=D.cachePool,v!==null?(G=gn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=k2(),D={baseLanes:D.baseLanes|u,cachePool:v}),h.memoizedState=D,h.childLanes=bx(a,I,u),o.memoizedState=yx,Ff(a.child,h)):(xo(o),u=a.child,a=u.sibling,u=is(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function xx(a,o){return o=tg({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function tg(a,o){return a=Yr(22,a,null,o),a.lanes=0,a}function _x(a,o,u){return ql(o,a.child,null,u),a=xx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function UI(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),jb(a.return,o,u)}function wx(a,o,u,h,v,_){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:_}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=v,I.treeForkCount=_)}function FI(a,o,u){var h=o.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var I=an.current,D=(I&2)!==0;if(D?(I=I&1|2,o.flags|=128):I&=1,oe(an,I),tr(a,o,h,u),h=st?Cf:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&UI(a,u,o);else if(a.tag===19)UI(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&qp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),wx(o,!1,v,u,_,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&qp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}wx(o,!0,u,null,_,h);break;case"together":wx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function us(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),So|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(mu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=is(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=is(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Ex(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Dp(a)))}function kB(a,o,u){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),go(o,gn,a.memoizedState.cache),zl();break;case 27:case 5:Ae(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:go(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Yb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(xo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?BI(a,o,u):(xo(o),a=us(a,o,u),a!==null?a.sibling:null);xo(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(mu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return FI(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(an,an.current),h)break;return null;case 22:return o.lanes=0,MI(a,o,u,o.pendingProps);case 24:go(o,gn,a.memoizedState.cache)}return us(a,o,u)}function qI(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)vn=!0;else{if(!Ex(a,u)&&(o.flags&128)===0)return vn=!1,kB(a,o,u);vn=(a.flags&131072)!==0}else vn=!1,st&&(o.flags&1048576)!==0&&_2(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Ul(o.elementType),o.type=a,typeof a=="function")kb(a)?(h=Hl(a,h),o.tag=1,o=LI(null,o,a,h,u)):(o.tag=0,o=gx(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===j){o.tag=11,o=OI(null,o,a,h,u);break e}else if(v===R){o.tag=14,o=PI(null,o,a,h,u);break e}}throw o=_e(a)||a,Error(r(306,o,""))}}return o;case 0:return gx(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Hl(h,o.pendingProps),LI(a,o,h,v,u);case 3:e:{if(Ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;v=_.element,qb(a,o),zf(o,h,null,u);var I=o.memoizedState;if(h=I.cache,go(o,gn,h),h!==_.cache&&zb(o,[gn],u,!0),jf(),h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=VI(a,o,h,u);break e}else if(h!==v){v=_i(Error(r(424)),o),Nf(v),o=VI(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Dt=Ai(a.firstChild),Jn=o,st=!0,mo=null,Si=!0,u=M2(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(zl(),h===v){o=us(a,o,u);break e}tr(a,o,h,u)}o=o.child}return o;case 26:return eg(a,o),a===null?(u=eC(o.type,null,o.pendingProps,null))?o.memoizedState=u:st||(u=o.type,a=o.pendingProps,h=yg(Ie.current).createElement(u),h[hn]=o,h[zn]=a,nr(h,u,a),mn(h),o.stateNode=h):o.memoizedState=eC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ae(o),a===null&&st&&(h=o.stateNode=Qk(o.type,o.pendingProps,Ie.current),Jn=o,Si=!0,v=Dt,Co(o.type)?(n1=v,Dt=Ai(h.firstChild)):Dt=v),tr(a,o,o.pendingProps.children,u),eg(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&st&&((v=h=Dt)&&(h=iU(h,o.type,o.pendingProps,Si),h!==null?(o.stateNode=h,Jn=o,Dt=Ai(h.firstChild),Si=!1,v=!0):v=!1),v||po(o)),Ae(o),v=o.type,_=o.pendingProps,I=a!==null?a.memoizedProps:null,h=_.children,Qx(v,_)?h=null:I!==null&&Qx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=Xb(a,o,bB,null,null,u),rh._currentValue=v),eg(a,o),tr(a,o,h,u),o.child;case 6:return a===null&&st&&((a=u=Dt)&&(u=aU(u,o.pendingProps,Si),u!==null?(o.stateNode=u,Jn=o,Dt=null,a=!0):a=!1),a||po(o)),null;case 13:return BI(a,o,u);case 4:return Ve(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=ql(o,null,h,u):tr(a,o,h,u),o.child;case 11:return OI(a,o,o.type,o.pendingProps,u);case 7:return tr(a,o,o.pendingProps,u),o.child;case 8:return tr(a,o,o.pendingProps.children,u),o.child;case 12:return tr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,go(o,o.type,h.value),tr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Vl(o),v=er(v),h=h(v),o.flags|=1,tr(a,o,h,u),o.child;case 14:return PI(a,o,o.type,o.pendingProps,u);case 15:return RI(a,o,o.type,o.pendingProps,u);case 19:return FI(a,o,u);case 31:return IB(a,o,u);case 22:return MI(a,o,u,o.pendingProps);case 24:return Vl(o),h=er(gn),a===null?(v=Bb(),v===null&&(v=Nt,_=Lb(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:h,cache:v},Fb(o),go(o,gn,v)):((a.lanes&u)!==0&&(qb(a,o),zf(o,null,null,u),jf()),v=a.memoizedState,_=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),go(o,gn,h)):(h=_.cache,go(o,gn,h),h!==v.cache&&zb(o,[gn],u,!0))),tr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ds(a){a.flags|=4}function Sx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(gk())a.flags|=8192;else throw Fl=Vp,Ub}else a.flags&=-16777217}function $I(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!aC(o))if(gk())a.flags|=8192;else throw Fl=Vp,Ub}function ng(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?jn():536870912,a.lanes|=o,Au|=o)}function qf(a,o){if(!st)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function jt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function CB(a,o,u){var h=o.pendingProps;switch(Pb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(o),null;case 1:return jt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),os(gn),Z(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(hu(o)?ds(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mb())),jt(o),null;case 26:var v=o.type,_=o.memoizedState;return a===null?(ds(o),_!==null?(jt(o),$I(o,_)):(jt(o),Sx(o,v,null,h,u))):_?_!==a.memoizedState?(ds(o),jt(o),$I(o,_)):(jt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ds(o),jt(o),Sx(o,v,a,h,u)),null;case 27:if(Be(o),u=Ie.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ds(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return jt(o),null}a=de.current,hu(o)?E2(o):(a=Qk(v,h,u),o.stateNode=a,ds(o))}return jt(o),null;case 5:if(Be(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ds(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return jt(o),null}if(_=de.current,hu(o))E2(o);else{var I=yg(Ie.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}_[hn]=o,_[zn]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=_;e:switch(nr(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ds(o)}}return jt(o),Sx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ds(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ie.current,hu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=Jn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[hn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Bk(a.nodeValue,u)),a||po(o,!0)}else a=yg(a).createTextNode(h),a[hn]=o,o.stateNode=a}return jt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=hu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[hn]=o}else zl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jt(o),a=!1}else u=Mb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Xr(o),o):(Xr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return jt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=hu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[hn]=o}else zl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jt(o),v=!1}else v=Mb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Xr(o),o):(Xr(o),null)}return Xr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),ng(o,o.updateQueue),jt(o),null);case 4:return Z(),a===null&&Gx(o.stateNode.containerInfo),jt(o),null;case 10:return os(o.type),jt(o),null;case 19:if(K(an),h=o.memoizedState,h===null)return jt(o),null;if(v=(o.flags&128)!==0,_=h.rendering,_===null)if(v)qf(h,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=qp(a),_!==null){for(o.flags|=128,qf(h,!1),a=_.updateQueue,o.updateQueue=a,ng(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)v2(u,a),u=u.sibling;return oe(an,an.current&1|2),st&&as(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Yn()>og&&(o.flags|=128,v=!0,qf(h,!1),o.lanes=4194304)}else{if(!v)if(a=qp(_),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,ng(o,a),qf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!st)return jt(o),null}else 2*Yn()-h.renderingStartTime>og&&u!==536870912&&(o.flags|=128,v=!0,qf(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(a=h.last,a!==null?a.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Yn(),a.sibling=null,u=an.current,oe(an,v?u&1|2:u&1),st&&as(o,h.treeForkCount),a):(jt(o),null);case 22:case 23:return Xr(o),Kb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(jt(o),o.subtreeFlags&6&&(o.flags|=8192)):jt(o),u=o.updateQueue,u!==null&&ng(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&K(Bl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),os(gn),jt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function NB(a,o){switch(Pb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return os(gn),Z(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 31:if(o.memoizedState!==null){if(Xr(o),o.alternate===null)throw Error(r(340));zl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Xr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));zl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(an),null;case 4:return Z(),null;case 10:return os(o.type),null;case 22:case 23:return Xr(o),Kb(),a!==null&&K(Bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return os(gn),null;case 25:return null;default:return null}}function HI(a,o){switch(Pb(o),o.tag){case 3:os(gn),Z();break;case 26:case 27:case 5:Be(o);break;case 4:Z();break;case 31:o.memoizedState!==null&&Xr(o);break;case 13:Xr(o);break;case 19:K(an);break;case 10:os(o.type);break;case 22:case 23:Xr(o),Kb(),a!==null&&K(Bl);break;case 24:os(gn)}}function $f(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var _=u.create,I=u.inst;h=_(),I.destroy=h}u=u.next}while(u!==v)}}catch(D){vt(o,o.return,D)}}function wo(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&a)===a){var I=h.inst,D=I.destroy;if(D!==void 0){I.destroy=void 0,v=o;var G=u,te=D;try{te()}catch(ce){vt(v,G,ce)}}}h=h.next}while(h!==_)}}catch(ce){vt(o,o.return,ce)}}function GI(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{j2(o,u)}catch(h){vt(a,a.return,h)}}}function KI(a,o,u){u.props=Hl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){vt(a,o,h)}}function Hf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){vt(a,o,v)}}function Oa(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){vt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){vt(a,o,v)}else u.current=null}function YI(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){vt(a,a.return,v)}}function Tx(a,o,u){try{var h=a.stateNode;ZB(h,a.type,u,o),h[zn]=o}catch(v){vt(a,a.return,v)}}function WI(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Co(a.type)||a.tag===4}function Ax(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Co(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ix(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Hi));else if(h!==4&&(h===27&&Co(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Ix(a,o,u),a=a.sibling;a!==null;)Ix(a,o,u),a=a.sibling}function rg(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Co(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(rg(a,o,u),a=a.sibling;a!==null;)rg(a,o,u),a=a.sibling}function XI(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,h,u),o[hn]=a,o[zn]=u}catch(_){vt(a,a.return,_)}}var fs=!1,bn=!1,kx=!1,QI=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function OB(a,o){if(a=a.containerInfo,Wx=Sg,a=c2(a),_b(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var I=0,D=-1,G=-1,te=0,ce=0,he=a,ne=null;t:for(;;){for(var ae;he!==u||v!==0&&he.nodeType!==3||(D=I+v),he!==_||h!==0&&he.nodeType!==3||(G=I+h),he.nodeType===3&&(I+=he.nodeValue.length),(ae=he.firstChild)!==null;)ne=he,he=ae;for(;;){if(he===a)break t;if(ne===u&&++te===v&&(D=I),ne===_&&++ce===h&&(G=I),(ae=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ae}u=D===-1||G===-1?null:{start:D,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xx={focusedElem:a,selectionRange:u},Sg=!1,Vn=o;Vn!==null;)if(o=Vn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Vn=a;else for(;Vn!==null;){switch(o=Vn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var Oe=Hl(u.type,v);a=h.getSnapshotBeforeUpdate(Oe,_),h.__reactInternalSnapshotBeforeUpdate=a}catch(qe){vt(u,u.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Jx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Jx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Vn=a;break}Vn=o.return}}function ZI(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ms(a,u),h&4&&$f(5,u);break;case 1:if(ms(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){vt(u,u.return,I)}else{var v=Hl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){vt(u,u.return,I)}}h&64&&GI(u),h&512&&Hf(u,u.return);break;case 3:if(ms(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{j2(a,o)}catch(I){vt(u,u.return,I)}}break;case 27:o===null&&h&4&&XI(u);case 26:case 5:ms(a,u),o===null&&h&4&&YI(u),h&512&&Hf(u,u.return);break;case 12:ms(a,u);break;case 31:ms(a,u),h&4&&tk(a,u);break;case 13:ms(a,u),h&4&&nk(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=BB.bind(null,u),sU(a,u))));break;case 22:if(h=u.memoizedState!==null||fs,!h){o=o!==null&&o.memoizedState!==null||bn,v=fs;var _=bn;fs=h,(bn=o)&&!_?ps(a,u,(u.subtreeFlags&8772)!==0):ms(a,u),fs=v,bn=_}break;case 30:break;default:ms(a,u)}}function JI(a){var o=a.alternate;o!==null&&(a.alternate=null,JI(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Xc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ft=null,Or=!1;function hs(a,o,u){for(u=u.child;u!==null;)ek(a,o,u),u=u.sibling}function ek(a,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Fr,u)}catch{}switch(u.tag){case 26:bn||Oa(u,o),hs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:bn||Oa(u,o);var h=Ft,v=Or;Co(u.type)&&(Ft=u.stateNode,Or=!1),hs(a,o,u),eh(u.stateNode),Ft=h,Or=v;break;case 5:bn||Oa(u,o);case 6:if(h=Ft,v=Or,Ft=null,hs(a,o,u),Ft=h,Or=v,Ft!==null)if(Or)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(u.stateNode)}catch(_){vt(u,o,_)}else try{Ft.removeChild(u.stateNode)}catch(_){vt(u,o,_)}break;case 18:Ft!==null&&(Or?(a=Ft,Gk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Mu(a)):Gk(Ft,u.stateNode));break;case 4:h=Ft,v=Or,Ft=u.stateNode.containerInfo,Or=!0,hs(a,o,u),Ft=h,Or=v;break;case 0:case 11:case 14:case 15:wo(2,u,o),bn||wo(4,u,o),hs(a,o,u);break;case 1:bn||(Oa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&KI(u,o,h)),hs(a,o,u);break;case 21:hs(a,o,u);break;case 22:bn=(h=bn)||u.memoizedState!==null,hs(a,o,u),bn=h;break;default:hs(a,o,u)}}function tk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Mu(a)}catch(u){vt(o,o.return,u)}}}function nk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Mu(a)}catch(u){vt(o,o.return,u)}}function PB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new QI),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new QI),o;default:throw Error(r(435,a.tag))}}function ig(a,o){var u=PB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=UB.bind(null,a,h);h.then(v,v)}})}function Pr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],_=a,I=o,D=I;e:for(;D!==null;){switch(D.tag){case 27:if(Co(D.type)){Ft=D.stateNode,Or=!1;break e}break;case 5:Ft=D.stateNode,Or=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,Or=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));ek(_,I,v),Ft=null,Or=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)rk(o,a),o=o.sibling}var Qi=null;function rk(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pr(o,a),Rr(a),h&4&&(wo(3,a,a.return),$f(3,a),wo(5,a,a.return));break;case 1:Pr(o,a),Rr(a),h&512&&(bn||u===null||Oa(u,u.return)),h&64&&fs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Qi;if(Pr(o,a),Rr(a),h&512&&(bn||u===null||Oa(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ya]||_[hn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),nr(_,h,u),_[hn]=a,mn(_),h=_;break e;case"link":var I=rC("link","href",v).get(h+(u.href||""));if(I){for(var D=0;D<I.length;D++)if(_=I[D],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(D,1);break t}}_=v.createElement(h),nr(_,h,u),v.head.appendChild(_);break;case"meta":if(I=rC("meta","content",v).get(h+(u.content||""))){for(D=0;D<I.length;D++)if(_=I[D],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(D,1);break t}}_=v.createElement(h),nr(_,h,u),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[hn]=a,mn(_),h=_}a.stateNode=h}else iC(v,a.type,a.stateNode);else a.stateNode=nC(v,h,a.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?iC(v,a.type,a.stateNode):nC(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Tx(a,a.memoizedProps,u.memoizedProps)}break;case 27:Pr(o,a),Rr(a),h&512&&(bn||u===null||Oa(u,u.return)),u!==null&&h&4&&Tx(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Pr(o,a),Rr(a),h&512&&(bn||u===null||Oa(u,u.return)),a.flags&32){v=a.stateNode;try{Nr(v,"")}catch(Oe){vt(a,a.return,Oe)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Tx(a,v,u!==null?u.memoizedProps:v)),h&1024&&(kx=!0);break;case 6:if(Pr(o,a),Rr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Oe){vt(a,a.return,Oe)}}break;case 3:if(xg=null,v=Qi,Qi=vg(o.containerInfo),Pr(o,a),Qi=v,Rr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Mu(o.containerInfo)}catch(Oe){vt(a,a.return,Oe)}kx&&(kx=!1,ik(a));break;case 4:h=Qi,Qi=vg(a.stateNode.containerInfo),Pr(o,a),Rr(a),Qi=h;break;case 12:Pr(o,a),Rr(a);break;case 31:Pr(o,a),Rr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 13:Pr(o,a),Rr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sg=Yn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,te=fs,ce=bn;if(fs=te||v,bn=ce||G,Pr(o,a),bn=ce,fs=te,Rr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||fs||bn||Gl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,v)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{D=G.stateNode;var he=G.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Oe){vt(G,G.return,Oe)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Oe){vt(G,G.return,Oe)}}}else if(o.tag===18){if(u===null){G=o;try{var ae=G.stateNode;v?Kk(ae,!0):Kk(G.stateNode,!1)}catch(Oe){vt(G,G.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ig(a,u))));break;case 19:Pr(o,a),Rr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ig(a,h)));break;case 30:break;case 21:break;default:Pr(o,a),Rr(a)}}function Rr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(WI(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Ax(a);rg(a,_,v);break;case 5:var I=u.stateNode;u.flags&32&&(Nr(I,""),u.flags&=-33);var D=Ax(a);rg(a,D,I);break;case 3:case 4:var G=u.stateNode.containerInfo,te=Ax(a);Ix(a,te,G);break;default:throw Error(r(161))}}catch(ce){vt(a,a.return,ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ik(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;ik(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ms(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ZI(a,o.alternate,o),o=o.sibling}function Gl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:wo(4,o,o.return),Gl(o);break;case 1:Oa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&KI(o,o.return,u),Gl(o);break;case 27:eh(o.stateNode);case 26:case 5:Oa(o,o.return),Gl(o);break;case 22:o.memoizedState===null&&Gl(o);break;case 30:Gl(o);break;default:Gl(o)}a=a.sibling}}function ps(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:ps(v,_,u),$f(4,_);break;case 1:if(ps(v,_,u),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(te){vt(h,h.return,te)}if(h=_,v=h.updateQueue,v!==null){var D=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)D2(G[v],D)}catch(te){vt(h,h.return,te)}}u&&I&64&&GI(_),Hf(_,_.return);break;case 27:XI(_);case 26:case 5:ps(v,_,u),u&&h===null&&I&4&&YI(_),Hf(_,_.return);break;case 12:ps(v,_,u);break;case 31:ps(v,_,u),u&&I&4&&tk(v,_);break;case 13:ps(v,_,u),u&&I&4&&nk(v,_);break;case 22:_.memoizedState===null&&ps(v,_,u),Hf(_,_.return);break;case 30:break;default:ps(v,_,u)}o=o.sibling}}function Cx(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Of(u))}function Nx(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Of(a))}function Zi(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ak(a,o,u,h),o=o.sibling}function ak(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Zi(a,o,u,h),v&2048&&$f(9,o);break;case 1:Zi(a,o,u,h);break;case 3:Zi(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Of(a)));break;case 12:if(v&2048){Zi(a,o,u,h),a=o.stateNode;try{var _=o.memoizedProps,I=_.id,D=_.onPostCommit;typeof D=="function"&&D(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){vt(o,o.return,G)}}else Zi(a,o,u,h);break;case 31:Zi(a,o,u,h);break;case 13:Zi(a,o,u,h);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?Zi(a,o,u,h):Gf(a,o):_._visibility&2?Zi(a,o,u,h):(_._visibility|=2,Eu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Cx(I,o);break;case 24:Zi(a,o,u,h),v&2048&&Nx(o.alternate,o);break;default:Zi(a,o,u,h)}}function Eu(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,I=o,D=u,G=h,te=I.flags;switch(I.tag){case 0:case 11:case 15:Eu(_,I,D,G,v),$f(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?Eu(_,I,D,G,v):Gf(_,I):(ce._visibility|=2,Eu(_,I,D,G,v)),v&&te&2048&&Cx(I.alternate,I);break;case 24:Eu(_,I,D,G,v),v&&te&2048&&Nx(I.alternate,I);break;default:Eu(_,I,D,G,v)}o=o.sibling}}function Gf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Gf(u,h),v&2048&&Cx(h.alternate,h);break;case 24:Gf(u,h),v&2048&&Nx(h.alternate,h);break;default:Gf(u,h)}o=o.sibling}}var Kf=8192;function Su(a,o,u){if(a.subtreeFlags&Kf)for(a=a.child;a!==null;)sk(a,o,u),a=a.sibling}function sk(a,o,u){switch(a.tag){case 26:Su(a,o,u),a.flags&Kf&&a.memoizedState!==null&&vU(u,Qi,a.memoizedState,a.memoizedProps);break;case 5:Su(a,o,u);break;case 3:case 4:var h=Qi;Qi=vg(a.stateNode.containerInfo),Su(a,o,u),Qi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Kf,Kf=16777216,Su(a,o,u),Kf=h):Su(a,o,u));break;default:Su(a,o,u)}}function ok(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Yf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,ck(h,a)}ok(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lk(a),a=a.sibling}function lk(a){switch(a.tag){case 0:case 11:case 15:Yf(a),a.flags&2048&&wo(9,a,a.return);break;case 3:Yf(a);break;case 12:Yf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ag(a)):Yf(a);break;default:Yf(a)}}function ag(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,ck(h,a)}ok(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:wo(8,o,o.return),ag(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ag(o));break;default:ag(o)}a=a.sibling}}function ck(a,o){for(;Vn!==null;){var u=Vn;switch(u.tag){case 0:case 11:case 15:wo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Of(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Vn=h;else e:for(u=a;Vn!==null;){h=Vn;var v=h.sibling,_=h.return;if(JI(h),h===u){Vn=null;break e}if(v!==null){v.return=_,Vn=v;break e}Vn=_}}}var RB={getCacheForType:function(a){var o=er(gn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return er(gn).controller.signal}},MB=typeof WeakMap=="function"?WeakMap:Map,ft=0,Nt=null,et=null,nt=0,yt=0,Qr=null,Eo=!1,Tu=!1,Ox=!1,gs=0,Zt=0,So=0,Kl=0,Px=0,Zr=0,Au=0,Wf=null,Mr=null,Rx=!1,sg=0,uk=0,og=1/0,lg=null,To=null,An=0,Ao=null,Iu=null,ys=0,Mx=0,Dx=null,dk=null,Xf=0,jx=null;function Jr(){return(ft&2)!==0&&nt!==0?nt&-nt:W.T!==null?Fx():cf()}function fk(){if(Zr===0)if((nt&536870912)===0||st){var a=es;es<<=1,(es&3932160)===0&&(es=262144),Zr=a}else Zr=536870912;return a=Wr.current,a!==null&&(a.flags|=32),Zr}function Dr(a,o,u){(a===Nt&&(yt===2||yt===9)||a.cancelPendingCommit!==null)&&(ku(a,0),Io(a,nt,Zr,!1)),Mt(a,u),((ft&2)===0||a!==Nt)&&(a===Nt&&((ft&2)===0&&(Kl|=u),Zt===4&&Io(a,nt,Zr,!1)),Pa(a))}function hk(a,o,u){if((ft&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||pt(a,o),v=h?zB(a,o):Lx(a,o,!0),_=h;do{if(v===0){Tu&&!h&&Io(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!DB(u)){v=Lx(a,o,!1),_=!1;continue}if(v===2){if(_=o,a.errorRecoveryDisabledLanes&_)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var D=a;v=Wf;var G=D.current.memoizedState.isDehydrated;if(G&&(ku(D,I).flags|=256),I=Lx(D,I,!1),I!==2){if(Ox&&!G){D.errorRecoveryDisabledLanes|=_,Kl|=_,v=4;break e}_=Mr,Mr=v,_!==null&&(Mr===null?Mr=_:Mr.push.apply(Mr,_))}v=I}if(_=!1,v!==2)continue}}if(v===1){ku(a,0),Io(a,o,0,!0);break}e:{switch(h=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Io(h,o,Zr,!Eo);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=sg+300-Yn(),10<v)){if(Io(h,o,Zr,!Eo),Fe(h,0,!0)!==0)break e;ys=o,h.timeoutHandle=$k(mk.bind(null,h,u,Mr,lg,Rx,o,Zr,Kl,Au,Eo,_,"Throttled",-0,0),v);break e}mk(h,u,Mr,lg,Rx,o,Zr,Kl,Au,Eo,_,null,-0,0)}}break}while(!0);Pa(a)}function mk(a,o,u,h,v,_,I,D,G,te,ce,he,ne,ae){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},sk(o,_,he);var Oe=(_&62914560)===_?sg-Yn():(_&4194048)===_?uk-Yn():0;if(Oe=bU(he,Oe),Oe!==null){ys=_,a.cancelPendingCommit=Oe(wk.bind(null,a,o,_,u,h,v,I,D,G,ce,he,null,ne,ae)),Io(a,_,I,!te);return}}wk(a,o,_,u,h,v,I,D,G)}function DB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],_=v.getSnapshot;v=v.value;try{if(!Kr(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Io(a,o,u,h){o&=~Px,o&=~Kl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var _=31-Bt(v),I=1<<_;h[_]=-1,v&=~I}u!==0&&pi(a,u,o)}function cg(){return(ft&6)===0?(Qf(0),!1):!0}function zx(){if(et!==null){if(yt===0)var a=et.return;else a=et,ss=Ll=null,Jb(a),vu=null,Rf=0,a=et;for(;a!==null;)HI(a.alternate,a),a=a.return;et=null}}function ku(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,tU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ys=0,zx(),Nt=a,et=u=is(a.current,null),nt=o,yt=0,Qr=null,Eo=!1,Tu=pt(a,o),Ox=!1,Au=Zr=Px=Kl=So=Zt=0,Mr=Wf=null,Rx=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Bt(h),_=1<<v;o|=a[v],h&=~_}return gs=o,Np(),u}function pk(a,o){We=null,W.H=Uf,o===yu||o===Lp?(o=O2(),yt=3):o===Ub?(o=O2(),yt=4):yt=o===px?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qr=o,et===null&&(Zt=1,Zp(a,_i(o,a.current)))}function gk(){var a=Wr.current;return a===null?!0:(nt&4194048)===nt?Ti===null:(nt&62914560)===nt||(nt&536870912)!==0?a===Ti:!1}function yk(){var a=W.H;return W.H=Uf,a===null?Uf:a}function vk(){var a=W.A;return W.A=RB,a}function ug(){Zt=4,Eo||(nt&4194048)!==nt&&Wr.current!==null||(Tu=!0),(So&134217727)===0&&(Kl&134217727)===0||Nt===null||Io(Nt,nt,Zr,!1)}function Lx(a,o,u){var h=ft;ft|=2;var v=yk(),_=vk();(Nt!==a||nt!==o)&&(lg=null,ku(a,o)),o=!1;var I=Zt;e:do try{if(yt!==0&&et!==null){var D=et,G=Qr;switch(yt){case 8:zx(),I=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(o=!0);var te=yt;if(yt=0,Qr=null,Cu(a,D,G,te),u&&Tu){I=0;break e}break;default:te=yt,yt=0,Qr=null,Cu(a,D,G,te)}}jB(),I=Zt;break}catch(ce){pk(a,ce)}while(!0);return o&&a.shellSuspendCounter++,ss=Ll=null,ft=h,W.H=v,W.A=_,et===null&&(Nt=null,nt=0,Np()),I}function jB(){for(;et!==null;)bk(et)}function zB(a,o){var u=ft;ft|=2;var h=yk(),v=vk();Nt!==a||nt!==o?(lg=null,og=Yn()+500,ku(a,o)):Tu=pt(a,o);e:do try{if(yt!==0&&et!==null){o=et;var _=Qr;t:switch(yt){case 1:yt=0,Qr=null,Cu(a,o,_,1);break;case 2:case 9:if(C2(_)){yt=0,Qr=null,xk(o);break}o=function(){yt!==2&&yt!==9||Nt!==a||(yt=7),Pa(a)},_.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:C2(_)?(yt=0,Qr=null,xk(o)):(yt=0,Qr=null,Cu(a,o,_,7));break;case 5:var I=null;switch(et.tag){case 26:I=et.memoizedState;case 5:case 27:var D=et;if(I?aC(I):D.stateNode.complete){yt=0,Qr=null;var G=D.sibling;if(G!==null)et=G;else{var te=D.return;te!==null?(et=te,dg(te)):et=null}break t}}yt=0,Qr=null,Cu(a,o,_,5);break;case 6:yt=0,Qr=null,Cu(a,o,_,6);break;case 8:zx(),Zt=6;break e;default:throw Error(r(462))}}LB();break}catch(ce){pk(a,ce)}while(!0);return ss=Ll=null,W.H=h,W.A=v,ft=u,et!==null?0:(Nt=null,nt=0,Np(),Zt)}function LB(){for(;et!==null&&!Kn();)bk(et)}function bk(a){var o=qI(a.alternate,a,gs);a.memoizedProps=a.pendingProps,o===null?dg(a):et=o}function xk(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=zI(u,o,o.pendingProps,o.type,void 0,nt);break;case 11:o=zI(u,o,o.pendingProps,o.type.render,o.ref,nt);break;case 5:Jb(o);default:HI(u,o),o=et=v2(o,gs),o=qI(u,o,gs)}a.memoizedProps=a.pendingProps,o===null?dg(a):et=o}function Cu(a,o,u,h){ss=Ll=null,Jb(o),vu=null,Rf=0;var v=o.return;try{if(AB(a,v,o,u,nt)){Zt=1,Zp(a,_i(u,a.current)),et=null;return}}catch(_){if(v!==null)throw et=v,_;Zt=1,Zp(a,_i(u,a.current)),et=null;return}o.flags&32768?(st||h===1?a=!0:Tu||(nt&536870912)!==0?a=!1:(Eo=a=!0,(h===2||h===9||h===3||h===6)&&(h=Wr.current,h!==null&&h.tag===13&&(h.flags|=16384))),_k(o,a)):dg(o)}function dg(a){var o=a;do{if((o.flags&32768)!==0){_k(o,Eo);return}a=o.return;var u=CB(o.alternate,o,gs);if(u!==null){et=u;return}if(o=o.sibling,o!==null){et=o;return}et=o=a}while(o!==null);Zt===0&&(Zt=5)}function _k(a,o){do{var u=NB(a.alternate,a);if(u!==null){u.flags&=32767,et=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){et=a;return}et=a=u}while(a!==null);Zt=6,et=null}function wk(a,o,u,h,v,_,I,D,G){a.cancelPendingCommit=null;do fg();while(An!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=Ab,cr(a,u,_,I,D,G),a===Nt&&(et=Nt=null,nt=0),Iu=o,Ao=a,ys=u,Mx=_,Dx=v,dk=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,FB(Bi,function(){return Ik(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,v=re.p,re.p=2,I=ft,ft|=4;try{OB(a,o,u)}finally{ft=I,re.p=v,W.T=h}}An=1,Ek(),Sk(),Tk()}}function Ek(){if(An===1){An=0;var a=Ao,o=Iu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var h=re.p;re.p=2;var v=ft;ft|=4;try{rk(o,a);var _=Xx,I=c2(a.containerInfo),D=_.focusedElem,G=_.selectionRange;if(I!==D&&D&&D.ownerDocument&&l2(D.ownerDocument.documentElement,D)){if(G!==null&&_b(D)){var te=G.start,ce=G.end;if(ce===void 0&&(ce=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ce,D.value.length);else{var he=D.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Oe=D.textContent.length,qe=Math.min(G.start,Oe),kt=G.end===void 0?qe:Math.min(G.end,Oe);!ae.extend&&qe>kt&&(I=kt,kt=qe,qe=I);var X=o2(D,qe),Y=o2(D,kt);if(X&&Y&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var ee=he.createRange();ee.setStart(X.node,X.offset),ae.removeAllRanges(),qe>kt?(ae.addRange(ee),ae.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),ae.addRange(ee))}}}}for(he=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var fe=he[D];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Sg=!!Wx,Xx=Wx=null}finally{ft=v,re.p=h,W.T=u}}a.current=o,An=2}}function Sk(){if(An===2){An=0;var a=Ao,o=Iu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var h=re.p;re.p=2;var v=ft;ft|=4;try{ZI(a,o.alternate,o)}finally{ft=v,re.p=h,W.T=u}}An=3}}function Tk(){if(An===4||An===3){An=0,Vi();var a=Ao,o=Iu,u=ys,h=dk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?An=5:(An=0,Iu=Ao=null,Ak(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(To=null),Qn(u),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Fr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,v=re.p,re.p=2,W.T=null;try{for(var _=a.onRecoverableError,I=0;I<h.length;I++){var D=h[I];_(D.value,{componentStack:D.stack})}}finally{W.T=o,re.p=v}}(ys&3)!==0&&fg(),Pa(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===jx?Xf++:(Xf=0,jx=a):Xf=0,Qf(0)}}function Ak(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Of(o)))}function fg(){return Ek(),Sk(),Tk(),Ik()}function Ik(){if(An!==5)return!1;var a=Ao,o=Mx;Mx=0;var u=Qn(ys),h=W.T,v=re.p;try{re.p=32>u?32:u,W.T=null,u=Dx,Dx=null;var _=Ao,I=ys;if(An=0,Iu=Ao=null,ys=0,(ft&6)!==0)throw Error(r(331));var D=ft;if(ft|=4,lk(_.current),ak(_,_.current,I,u),ft=D,Qf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Fr,_)}catch{}return!0}finally{re.p=v,W.T=h,Ak(a,o)}}function kk(a,o,u){o=_i(u,o),o=mx(a.stateNode,o,2),a=bo(a,o,2),a!==null&&(Mt(a,2),Pa(a))}function vt(a,o,u){if(a.tag===3)kk(a,a,u);else for(;o!==null;){if(o.tag===3){kk(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(To===null||!To.has(h))){a=_i(u,a),u=CI(2),h=bo(o,u,2),h!==null&&(NI(u,h,o,a),Mt(h,2),Pa(h));break}}o=o.return}}function Vx(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new MB;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Ox=!0,v.add(u),a=VB.bind(null,a,o,u),o.then(a,a))}function VB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Nt===a&&(nt&u)===u&&(Zt===4||Zt===3&&(nt&62914560)===nt&&300>Yn()-sg?(ft&2)===0&&ku(a,0):Px|=u,Au===nt&&(Au=0)),Pa(a)}function Ck(a,o){o===0&&(o=jn()),a=Dl(a,o),a!==null&&(Mt(a,o),Pa(a))}function BB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Ck(a,u)}function UB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Ck(a,u)}function FB(a,o){return nn(a,o)}var hg=null,Nu=null,Bx=!1,mg=!1,Ux=!1,ko=0;function Pa(a){a!==Nu&&a.next===null&&(Nu===null?hg=Nu=a:Nu=Nu.next=a),mg=!0,Bx||(Bx=!0,$B())}function Qf(a,o){if(!Ux&&mg){Ux=!0;do for(var u=!1,h=hg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var I=h.suspendedLanes,D=h.pingedLanes;_=(1<<31-Bt(42|a)+1)-1,_&=v&~(I&~D),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,Rk(h,_))}else _=nt,_=Fe(h,h===Nt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||pt(h,_)||(u=!0,Rk(h,_));h=h.next}while(u);Ux=!1}}function qB(){Nk()}function Nk(){mg=Bx=!1;var a=0;ko!==0&&eU()&&(a=ko);for(var o=Yn(),u=null,h=hg;h!==null;){var v=h.next,_=Ok(h,o);_===0?(h.next=null,u===null?hg=v:u.next=v,v===null&&(Nu=u)):(u=h,(a!==0||(_&3)!==0)&&(mg=!0)),h=v}An!==0&&An!==5||Qf(a),ko!==0&&(ko=0)}function Ok(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var I=31-Bt(_),D=1<<I,G=v[I];G===-1?((D&u)===0||(D&h)!==0)&&(v[I]=fn(D,o)):G<=o&&(a.expiredLanes|=D),_&=~D}if(o=Nt,u=nt,u=Fe(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(yt===2||yt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&fa(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||pt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&fa(h),Qn(u)){case 2:case 8:u=_l;break;case 32:u=Bi;break;case 268435456:u=Ui;break;default:u=Bi}return h=Pk.bind(null,a),u=nn(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&fa(h),a.callbackPriority=2,a.callbackNode=null,2}function Pk(a,o){if(An!==0&&An!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(fg()&&a.callbackNode!==u)return null;var h=nt;return h=Fe(a,a===Nt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(hk(a,h,o),Ok(a,Yn()),a.callbackNode!=null&&a.callbackNode===u?Pk.bind(null,a):null)}function Rk(a,o){if(fg())return null;hk(a,o,!0)}function $B(){nU(function(){(ft&6)!==0?nn(ha,qB):Nk()})}function Fx(){if(ko===0){var a=pu;a===0&&(a=mi,mi<<=1,(mi&261888)===0&&(mi=256)),ko=a}return ko}function Mk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:eu(""+a)}function Dk(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function HB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var _=Mk((v[zn]||null).action),I=h.submitter;I&&(o=(o=I[zn]||null)?Mk(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var D=new Ta("action","action",null,h,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ko!==0){var G=I?Dk(v,I):new FormData(v);lx(u,{pending:!0,data:G,method:v.method,action:_},null,G)}}else typeof _=="function"&&(D.preventDefault(),G=I?Dk(v,I):new FormData(v),lx(u,{pending:!0,data:G,method:v.method,action:_},_,G))},currentTarget:v}]})}}for(var qx=0;qx<Tb.length;qx++){var $x=Tb[qx],GB=$x.toLowerCase(),KB=$x[0].toUpperCase()+$x.slice(1);Xi(GB,"on"+KB)}Xi(f2,"onAnimationEnd"),Xi(h2,"onAnimationIteration"),Xi(m2,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(cB,"onTransitionRun"),Xi(uB,"onTransitionStart"),Xi(dB,"onTransitionCancel"),Xi(p2,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zf));function jk(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var I=h.length-1;0<=I;I--){var D=h[I],G=D.instance,te=D.currentTarget;if(D=D.listener,G!==_&&v.isPropagationStopped())break e;_=D,v.currentTarget=te;try{_(v)}catch(ce){Cp(ce)}v.currentTarget=null,_=G}else for(I=0;I<h.length;I++){if(D=h[I],G=D.instance,te=D.currentTarget,D=D.listener,G!==_&&v.isPropagationStopped())break e;_=D,v.currentTarget=te;try{_(v)}catch(ce){Cp(ce)}v.currentTarget=null,_=G}}}}function tt(a,o){var u=o[Wc];u===void 0&&(u=o[Wc]=new Set);var h=a+"__bubble";u.has(h)||(zk(o,a,2,!1),u.add(h))}function Hx(a,o,u){var h=0;o&&(h|=4),zk(u,a,h,o)}var pg="_reactListening"+Math.random().toString(36).slice(2);function Gx(a){if(!a[pg]){a[pg]=!0,uf.forEach(function(u){u!=="selectionchange"&&(YB.has(u)||Hx(u,!1,a),Hx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[pg]||(o[pg]=!0,Hx("selectionchange",!1,o))}}function zk(a,o,u,h){switch(fC(o)){case 2:var v=wU;break;case 8:v=EU;break;default:v=o1}u=v.bind(null,o,u,a),v=void 0,!Il||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Kx(a,o,u,h,v){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var D=h.stateNode.containerInfo;if(D===v)break;if(I===4)for(I=h.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;D!==null;){if(I=va(D),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){h=_=I;continue e}D=D.parentNode}}h=h.return}lo(function(){var te=_,ce=yi(u),he=[];e:{var ne=g2.get(a);if(ne!==void 0){var ae=Ta,Oe=a;switch(a){case"keypress":if(Cl(u)===0)break e;case"keydown":case"keyup":ae=Ap;break;case"focusin":Oe="focus",ae=Ol;break;case"focusout":Oe="blur",ae=Ol;break;case"beforeblur":case"afterblur":ae=Ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=T;break;case f2:case h2:case m2:ae=bp;break;case p2:ae=B;break;case"scroll":case"scrollend":ae=wf;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=rs;break;case"toggle":case"beforetoggle":ae=Ye}var qe=(o&4)!==0,kt=!qe&&(a==="scroll"||a==="scrollend"),X=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var Y=te,ee;Y!==null;){var fe=Y;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=Gi(Y,X),fe!=null&&qe.push(Jf(Y,fe,ee))),kt)break;Y=Y.return}0<qe.length&&(ne=new ae(ne,Oe,null,u,ce),he.push({event:ne,listeners:qe}))}}if((o&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&u!==bf&&(Oe=u.relatedTarget||u.fromElement)&&(va(Oe)||Oe[ga]))break e;if((ae||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Oe=u.relatedTarget||u.toElement,ae=te,Oe=Oe?va(Oe):null,Oe!==null&&(kt=s(Oe),qe=Oe.tag,Oe!==kt||qe!==5&&qe!==27&&qe!==6)&&(Oe=null)):(ae=null,Oe=te),ae!==Oe)){if(qe=Ef,fe="onMouseLeave",X="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(qe=rs,fe="onPointerLeave",X="onPointerEnter",Y="pointer"),kt=ae==null?ne:Hr(ae),ee=Oe==null?ne:Hr(Oe),ne=new qe(fe,Y+"leave",ae,u,ce),ne.target=kt,ne.relatedTarget=ee,fe=null,va(ce)===te&&(qe=new qe(X,Y+"enter",Oe,u,ce),qe.target=ee,qe.relatedTarget=kt,fe=qe),kt=fe,ae&&Oe)t:{for(qe=WB,X=ae,Y=Oe,ee=0,fe=X;fe;fe=qe(fe))ee++;fe=0;for(var ze=Y;ze;ze=qe(ze))fe++;for(;0<ee-fe;)X=qe(X),ee--;for(;0<fe-ee;)Y=qe(Y),fe--;for(;ee--;){if(X===Y||Y!==null&&X===Y.alternate){qe=X;break t}X=qe(X),Y=qe(Y)}qe=null}else qe=null;ae!==null&&Lk(he,ne,ae,qe,!1),Oe!==null&&kt!==null&&Lk(he,kt,Oe,qe,!0)}}e:{if(ne=te?Hr(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var lt=t2;else if(JA(ne))if(n2)lt=sB;else{lt=iB;var De=rB}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Jc(te.elementType)&&(lt=t2):lt=aB;if(lt&&(lt=lt(a,te))){e2(he,lt,u,ce);break e}De&&De(a,ne,te),a==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&gf(ne,"number",ne.value)}switch(De=te?Hr(te):window,a){case"focusin":(JA(De)||De.contentEditable==="true")&&(ou=De,wb=te,kf=null);break;case"focusout":kf=wb=ou=null;break;case"mousedown":Eb=!0;break;case"contextmenu":case"mouseup":case"dragend":Eb=!1,u2(he,u,ce);break;case"selectionchange":if(lB)break;case"keydown":case"keyup":u2(he,u,ce)}var Qe;if(dt)e:{switch(a){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else su?Pl(a,u)&&(rt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(ka&&u.locale!=="ko"&&(su||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&su&&(Qe=_f()):(Sa=ce,xf="value"in Sa?Sa.value:Sa.textContent,su=!0)),De=gg(te,rt),0<De.length&&(rt=new Ia(rt,a,null,u,ce),he.push({event:rt,listeners:De}),Qe?rt.data=Qe:(Qe=au(u),Qe!==null&&(rt.data=Qe)))),(Qe=bi?J8(a,u):eB(a,u))&&(rt=gg(te,"onBeforeInput"),0<rt.length&&(De=new Ia("onBeforeInput","beforeinput",null,u,ce),he.push({event:De,listeners:rt}),De.data=Qe)),HB(he,a,te,u,ce)}jk(he,o)})}function Jf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function gg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Gi(a,u),v!=null&&h.unshift(Jf(a,v,_)),v=Gi(a,o),v!=null&&h.push(Jf(a,v,_))),a.tag===3)return h;a=a.return}return[]}function WB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Lk(a,o,u,h,v){for(var _=o._reactName,I=[];u!==null&&u!==h;){var D=u,G=D.alternate,te=D.stateNode;if(D=D.tag,G!==null&&G===h)break;D!==5&&D!==26&&D!==27||te===null||(G=te,v?(te=Gi(u,_),te!=null&&I.unshift(Jf(u,te,G))):v||(te=Gi(u,_),te!=null&&I.push(Jf(u,te,G)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var XB=/\r\n?/g,QB=/\u0000|\uFFFD/g;function Vk(a){return(typeof a=="string"?a:""+a).replace(XB,`
`).replace(QB,"")}function Bk(a,o){return o=Vk(o),Vk(a)===o}function It(a,o,u,h,v,_){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Nr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Nr(a,""+h);break;case"className":Gr(a,"class",h);break;case"tabIndex":Gr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(a,u,h);break;case"style":vf(a,h,_);break;case"data":if(o!=="object"){Gr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=eu(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&It(a,o,"name",v.name,v,null),It(a,o,"formEncType",v.formEncType,v,null),It(a,o,"formMethod",v.formMethod,v,null),It(a,o,"formTarget",v.formTarget,v,null)):(It(a,o,"encType",v.encType,v,null),It(a,o,"method",v.method,v,null),It(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=eu(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Hi);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=eu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":tt("beforetoggle",a),tt("toggle",a),Qc(a,"popover",h);break;case"xlinkActuate":pn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gp.get(u)||u,Qc(a,u,h))}}function Yx(a,o,u,h,v,_){switch(u){case"style":vf(a,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Nr(a,h):(typeof h=="number"||typeof h=="bigint")&&Nr(a,""+h);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!df.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=a[zn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Qc(a,u,h)}}}function nr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",a),tt("load",a);var h=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var I=u[_];if(I!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,_,I,u,null)}}v&&It(a,o,"srcSet",u.srcSet,u,null),h&&It(a,o,"src",u.src,u,null);return;case"input":tt("invalid",a);var D=_=I=v=null,G=null,te=null;for(h in u)if(u.hasOwnProperty(h)){var ce=u[h];if(ce!=null)switch(h){case"name":v=ce;break;case"type":I=ce;break;case"checked":G=ce;break;case"defaultChecked":te=ce;break;case"value":_=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:It(a,o,h,ce,u,null)}}hp(a,_,D,G,te,I,v,!1);return;case"select":tt("invalid",a),h=I=_=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":_=D;break;case"defaultValue":I=D;break;case"multiple":h=D;default:It(a,o,v,D,u,null)}o=_,u=I,a.multiple=!!h,o!=null?io(a,!!h,o,!1):u!=null&&io(a,!!h,u,!0);return;case"textarea":tt("invalid",a),_=v=h=null;for(I in u)if(u.hasOwnProperty(I)&&(D=u[I],D!=null))switch(I){case"value":h=D;break;case"defaultValue":v=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:It(a,o,I,D,u,null)}ao(a,h,v,_);return;case"option":for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":It(a,o,G,h,u,null));return;case"dialog":tt("beforetoggle",a),tt("toggle",a),tt("cancel",a),tt("close",a);break;case"iframe":case"object":tt("load",a);break;case"video":case"audio":for(h=0;h<Zf.length;h++)tt(Zf[h],a);break;case"image":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"embed":case"source":case"link":tt("error",a),tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in u)if(u.hasOwnProperty(te)&&(h=u[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,te,h,u,null)}return;default:if(Jc(o)){for(ce in u)u.hasOwnProperty(ce)&&(h=u[ce],h!==void 0&&Yx(a,o,ce,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&It(a,o,D,h,u,null))}function ZB(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,I=null,D=null,G=null,te=null,ce=null;for(ae in u){var he=u[ae];if(u.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=he;default:h.hasOwnProperty(ae)||It(a,o,ae,null,h,he)}}for(var ne in h){var ae=h[ne];if(he=u[ne],h.hasOwnProperty(ne)&&(ae!=null||he!=null))switch(ne){case"type":_=ae;break;case"name":v=ae;break;case"checked":te=ae;break;case"defaultChecked":ce=ae;break;case"value":I=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==he&&It(a,o,ne,ae,h,he)}}Zc(a,I,D,G,te,ce,_,v);return;case"select":ae=I=D=ne=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ae=G;default:h.hasOwnProperty(_)||It(a,o,_,null,h,G)}for(v in h)if(_=h[v],G=u[v],h.hasOwnProperty(v)&&(_!=null||G!=null))switch(v){case"value":ne=_;break;case"defaultValue":D=_;break;case"multiple":I=_;default:_!==G&&It(a,o,v,_,h,G)}o=D,u=I,h=ae,ne!=null?io(a,!!u,ne,!1):!!h!=!!u&&(o!=null?io(a,!!u,o,!0):io(a,!!u,u?[]:"",!1));return;case"textarea":ae=ne=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:It(a,o,D,null,h,v)}for(I in h)if(v=h[I],_=u[I],h.hasOwnProperty(I)&&(v!=null||_!=null))switch(I){case"value":ne=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&It(a,o,I,v,h,_)}mp(a,ne,ae);return;case"option":for(var Oe in u)ne=u[Oe],u.hasOwnProperty(Oe)&&ne!=null&&!h.hasOwnProperty(Oe)&&(Oe==="selected"?a.selected=!1:It(a,o,Oe,null,h,ne));for(G in h)ne=h[G],ae=u[G],h.hasOwnProperty(G)&&ne!==ae&&(ne!=null||ae!=null)&&(G==="selected"?a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":It(a,o,G,ne,h,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)ne=u[qe],u.hasOwnProperty(qe)&&ne!=null&&!h.hasOwnProperty(qe)&&It(a,o,qe,null,h,ne);for(te in h)if(ne=h[te],ae=u[te],h.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:It(a,o,te,ne,h,ae)}return;default:if(Jc(o)){for(var kt in u)ne=u[kt],u.hasOwnProperty(kt)&&ne!==void 0&&!h.hasOwnProperty(kt)&&Yx(a,o,kt,void 0,h,ne);for(ce in h)ne=h[ce],ae=u[ce],!h.hasOwnProperty(ce)||ne===ae||ne===void 0&&ae===void 0||Yx(a,o,ce,ne,h,ae);return}}for(var X in u)ne=u[X],u.hasOwnProperty(X)&&ne!=null&&!h.hasOwnProperty(X)&&It(a,o,X,null,h,ne);for(he in h)ne=h[he],ae=u[he],!h.hasOwnProperty(he)||ne===ae||ne==null&&ae==null||It(a,o,he,ne,h,ae)}function Uk(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],_=v.transferSize,I=v.initiatorType,D=v.duration;if(_&&D&&Uk(I)){for(I=0,D=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],te=G.startTime;if(te>D)break;var ce=G.transferSize,he=G.initiatorType;ce&&Uk(he)&&(G=G.responseEnd,I+=ce*(G<D?1:(D-te)/(G-te)))}if(--h,o+=8*(_+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Wx=null,Xx=null;function yg(a){return a.nodeType===9?a:a.ownerDocument}function Fk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qk(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Qx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zx=null;function eU(){var a=window.event;return a&&a.type==="popstate"?a===Zx?!1:(Zx=a,!0):(Zx=null,!1)}var $k=typeof setTimeout=="function"?setTimeout:void 0,tU=typeof clearTimeout=="function"?clearTimeout:void 0,Hk=typeof Promise=="function"?Promise:void 0,nU=typeof queueMicrotask=="function"?queueMicrotask:typeof Hk<"u"?function(a){return Hk.resolve(null).then(a).catch(rU)}:$k;function rU(a){setTimeout(function(){throw a})}function Co(a){return a==="head"}function Gk(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Mu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")eh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,eh(u);for(var _=u.firstChild;_;){var I=_.nextSibling,D=_.nodeName;_[ya]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=I}}else u==="body"&&eh(a.ownerDocument.body);u=v}while(u);Mu(o)}function Kk(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Jx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jx(u),Xc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function iU(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ya])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Ai(a.nextSibling),a===null)break}return null}function aU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ai(a.nextSibling),a===null))return null;return a}function Yk(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ai(a.nextSibling),a===null))return null;return a}function e1(a){return a.data==="$?"||a.data==="$~"}function t1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function sU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ai(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var n1=null;function Wk(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ai(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function Xk(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function Qk(a,o,u){switch(o=yg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function eh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Xc(a)}var Ii=new Map,Zk=new Set;function vg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var vs=re.d;re.d={f:oU,r:lU,D:cU,C:uU,L:dU,m:fU,X:mU,S:hU,M:pU};function oU(){var a=vs.f(),o=cg();return a||o}function lU(a){var o=gi(a);o!==null&&o.tag===5&&o.type==="form"?pI(o):vs.r(a)}var Ou=typeof document>"u"?null:document;function Jk(a,o,u){var h=Ou;if(h&&typeof o=="string"&&o){var v=Cr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Zk.has(v)||(Zk.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),nr(o,"link",a),mn(o),h.head.appendChild(o)))}}function cU(a){vs.D(a),Jk("dns-prefetch",a,null)}function uU(a,o){vs.C(a,o),Jk("preconnect",a,o)}function dU(a,o,u){vs.L(a,o,u);var h=Ou;if(h&&a&&o){var v='link[rel="preload"][as="'+Cr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Cr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Cr(u.imageSizes)+'"]')):v+='[href="'+Cr(a)+'"]';var _=v;switch(o){case"style":_=Pu(a);break;case"script":_=Ru(a)}Ii.has(_)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ii.set(_,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(th(_))||o==="script"&&h.querySelector(nh(_))||(o=h.createElement("link"),nr(o,"link",a),mn(o),h.head.appendChild(o)))}}function fU(a,o){vs.m(a,o);var u=Ou;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Cr(h)+'"][href="'+Cr(a)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ru(a)}if(!Ii.has(_)&&(a=p({rel:"modulepreload",href:a},o),Ii.set(_,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nh(_)))return}h=u.createElement("link"),nr(h,"link",a),mn(h),u.head.appendChild(h)}}}function hU(a,o,u){vs.S(a,o,u);var h=Ou;if(h&&a){var v=ba(h).hoistableStyles,_=Pu(a);o=o||"default";var I=v.get(_);if(!I){var D={loading:0,preload:null};if(I=h.querySelector(th(_)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ii.get(_))&&r1(a,u);var G=I=h.createElement("link");mn(G),nr(G,"link",a),G._p=new Promise(function(te,ce){G.onload=te,G.onerror=ce}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,bg(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:D},v.set(_,I)}}}function mU(a,o){vs.X(a,o);var u=Ou;if(u&&a){var h=ba(u).hoistableScripts,v=Ru(a),_=h.get(v);_||(_=u.querySelector(nh(v)),_||(a=p({src:a,async:!0},o),(o=Ii.get(v))&&i1(a,o),_=u.createElement("script"),mn(_),nr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function pU(a,o){vs.M(a,o);var u=Ou;if(u&&a){var h=ba(u).hoistableScripts,v=Ru(a),_=h.get(v);_||(_=u.querySelector(nh(v)),_||(a=p({src:a,async:!0,type:"module"},o),(o=Ii.get(v))&&i1(a,o),_=u.createElement("script"),mn(_),nr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function eC(a,o,u,h){var v=(v=Ie.current)?vg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Pu(u.href),u=ba(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Pu(u.href);var _=ba(v).hoistableStyles,I=_.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,I),(_=v.querySelector(th(a)))&&!_._p&&(I.instance=_,I.state.loading=5),Ii.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ii.set(a,u),_||gU(v,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ru(u),u=ba(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Pu(a){return'href="'+Cr(a)+'"'}function th(a){return'link[rel="stylesheet"]['+a+"]"}function tC(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function gU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",u),mn(o),a.head.appendChild(o))}function Ru(a){return'[src="'+Cr(a)+'"]'}function nh(a){return"script[async]"+a}function nC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Cr(u.href)+'"]');if(h)return o.instance=h,mn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),mn(h),nr(h,"style",v),bg(h,u.precedence,a),o.instance=h;case"stylesheet":v=Pu(u.href);var _=a.querySelector(th(v));if(_)return o.state.loading|=4,o.instance=_,mn(_),_;h=tC(u),(v=Ii.get(v))&&r1(h,v),_=(a.ownerDocument||a).createElement("link"),mn(_);var I=_;return I._p=new Promise(function(D,G){I.onload=D,I.onerror=G}),nr(_,"link",h),o.state.loading|=4,bg(_,u.precedence,a),o.instance=_;case"script":return _=Ru(u.src),(v=a.querySelector(nh(_)))?(o.instance=v,mn(v),v):(h=u,(v=Ii.get(_))&&(h=p({},u),i1(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),mn(v),nr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,bg(h,u.precedence,a));return o.instance}function bg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,I=0;I<h.length;I++){var D=h[I];if(D.dataset.precedence===o)_=D;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function r1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function i1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xg=null;function rC(a,o,u){if(xg===null){var h=new Map,v=xg=new Map;v.set(u,h)}else v=xg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[ya]||_[hn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=a+I;var D=h.get(I);D?D.push(_):h.set(I,[_])}}return h}function iC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function yU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function vU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Pu(h.href),_=o.querySelector(th(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=_g.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,mn(_);return}_=o.ownerDocument||o,h=tC(h),(v=Ii.get(v))&&r1(h,v),_=_.createElement("link"),mn(_);var I=_;I._p=new Promise(function(D,G){I.onload=D,I.onerror=G}),nr(_,"link",h),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=_g.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var a1=0;function bU(a,o){return a.stylesheets&&a.count===0&&Eg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Eg(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&a1===0&&(a1=62500*JB());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Eg(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>a1?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function _g(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var wg=null;function Eg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,wg=new Map,o.forEach(xU,a),wg=null,_g.call(a))}function xU(a,o){if(!(o.state.loading&4)){var u=wg.get(a);if(u)var h=u.get(null);else{u=new Map,wg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var I=v[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}v=o.instance,I=v.getAttribute("data-precedence"),_=u.get(I)||h,_===h&&u.set(null,v),u.set(I,v),this.count++,h=_g.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var rh={$$typeof:C,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function _U(a,o,u,h,v,_,I,D,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function sC(a,o,u,h,v,_,I,D,G,te,ce,he){return a=new _U(a,o,u,I,G,te,ce,he,D),o=1,_===!0&&(o|=24),_=Yr(3,null,null,o),a.current=_,_.stateNode=a,o=Lb(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:o},Fb(_),a}function oC(a){return a?(a=uu,a):uu}function lC(a,o,u,h,v,_){v=oC(v),h.context===null?h.context=v:h.pendingContext=v,h=vo(o),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=bo(a,h,o),u!==null&&(Dr(u,a,o),Df(u,a,o))}function cC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function s1(a,o){cC(a,o),(a=a.alternate)&&cC(a,o)}function uC(a){if(a.tag===13||a.tag===31){var o=Dl(a,67108864);o!==null&&Dr(o,a,67108864),s1(a,67108864)}}function dC(a){if(a.tag===13||a.tag===31){var o=Jr();o=pa(o);var u=Dl(a,o);u!==null&&Dr(u,a,o),s1(a,o)}}var Sg=!0;function wU(a,o,u,h){var v=W.T;W.T=null;var _=re.p;try{re.p=2,o1(a,o,u,h)}finally{re.p=_,W.T=v}}function EU(a,o,u,h){var v=W.T;W.T=null;var _=re.p;try{re.p=8,o1(a,o,u,h)}finally{re.p=_,W.T=v}}function o1(a,o,u,h){if(Sg){var v=l1(h);if(v===null)Kx(a,o,h,Tg,u),hC(a,h);else if(TU(v,a,o,u,h))h.stopPropagation();else if(hC(a,h),o&4&&-1<SU.indexOf(a)){for(;v!==null;){var _=gi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=$r(_.pendingLanes);if(I!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;I;){var G=1<<31-Bt(I);D.entanglements[1]|=G,I&=~G}Pa(_),(ft&6)===0&&(og=Yn()+500,Qf(0))}}break;case 31:case 13:D=Dl(_,2),D!==null&&Dr(D,_,2),cg(),s1(_,2)}if(_=l1(h),_===null&&Kx(a,o,h,Tg,u),_===v)break;v=_}v!==null&&h.stopPropagation()}else Kx(a,o,h,null,u)}}function l1(a){return a=yi(a),c1(a)}var Tg=null;function c1(a){if(Tg=null,a=va(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Tg=a,null}function fC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case ha:return 2;case _l:return 8;case Bi:case wl:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var u1=!1,No=null,Oo=null,Po=null,ih=new Map,ah=new Map,Ro=[],SU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hC(a,o){switch(a){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":ih.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(o.pointerId)}}function sh(a,o,u,h,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},o!==null&&(o=gi(o),o!==null&&uC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function TU(a,o,u,h,v){switch(o){case"focusin":return No=sh(No,a,o,u,h,v),!0;case"dragenter":return Oo=sh(Oo,a,o,u,h,v),!0;case"mouseover":return Po=sh(Po,a,o,u,h,v),!0;case"pointerover":var _=v.pointerId;return ih.set(_,sh(ih.get(_)||null,a,o,u,h,v)),!0;case"gotpointercapture":return _=v.pointerId,ah.set(_,sh(ah.get(_)||null,a,o,u,h,v)),!0}return!1}function mC(a){var o=va(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,qi(a.priority,function(){dC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,qi(a.priority,function(){dC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ag(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=l1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);bf=h,u.target.dispatchEvent(h),bf=null}else return o=gi(u),o!==null&&uC(o),a.blockedOn=u,!1;o.shift()}return!0}function pC(a,o,u){Ag(a)&&u.delete(o)}function AU(){u1=!1,No!==null&&Ag(No)&&(No=null),Oo!==null&&Ag(Oo)&&(Oo=null),Po!==null&&Ag(Po)&&(Po=null),ih.forEach(pC),ah.forEach(pC)}function Ig(a,o){a.blockedOn===o&&(a.blockedOn=null,u1||(u1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AU)))}var kg=null;function gC(a){kg!==a&&(kg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kg===a&&(kg=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(c1(h||u)===null)continue;break}var _=gi(u);_!==null&&(a.splice(o,3),o-=3,lx(_,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Mu(a){function o(G){return Ig(G,a)}No!==null&&Ig(No,a),Oo!==null&&Ig(Oo,a),Po!==null&&Ig(Po,a),ih.forEach(o),ah.forEach(o);for(var u=0;u<Ro.length;u++){var h=Ro[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Ro.length&&(u=Ro[0],u.blockedOn===null);)mC(u),u.blockedOn===null&&Ro.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],_=u[h+1],I=v[zn]||null;if(typeof _=="function")I||gC(u);else if(I){var D=null;if(_&&_.hasAttribute("formAction")){if(v=_,I=_[zn]||null)D=I.formAction;else if(c1(v)!==null)continue}else D=I.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),gC(u)}}}function yC(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function d1(a){this._internalRoot=a}Cg.prototype.render=d1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Jr();lC(u,h,a,o,null,null)},Cg.prototype.unmount=d1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;lC(a.current,2,null,a,null,null),cg(),o[ga]=null}};function Cg(a){this._internalRoot=a}Cg.prototype.unstable_scheduleHydration=function(a){if(a){var o=cf();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ro.length&&o!==0&&o<Ro[u].priority;u++);Ro.splice(u,0,a),u===0&&mC(a)}};var vC=e.version;if(vC!=="19.2.3")throw Error(r(527,vC,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var IU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{Fr=Ng.inject(IU),Tn=Ng}catch{}}return lh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=TI,_=AI,I=II;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=sC(a,1,!1,null,null,u,h,null,v,_,I,yC),a[ga]=o.current,Gx(a),new d1(o)},lh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",_=TI,I=AI,D=II,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=sC(a,1,!0,o,u??null,h,v,G,_,I,D,yC),o.context=oC(null),u=o.current,h=Jr(),h=pa(h),v=vo(h),v.callback=null,bo(u,v,h),u=h,o.current.lanes=u,Mt(o,u),Pa(o),a[ga]=o.current,Gx(a),new Cg(o)},lh.version="19.2.3",lh}var kC;function LU(){if(kC)return m1.exports;kC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m1.exports=zU(),m1.exports}var VU=LU();const Dj=A.createContext(void 0),jj=({children:t})=>{const[e,n]=A.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return y.jsx(Dj.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},Bd=()=>{const t=A.useContext(Dj);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var CC="popstate";function BU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Uc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),xw("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:qh(s))}function r(i,s){ci(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return FU(e,n,r,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UU(){return Math.random().toString(36).substring(2,10)}function NC(t,e){return{usr:t.state,key:t.key,idx:e}}function xw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Uc(e):e,state:n,key:e&&e.key||r||UU()}}function qh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let S=m(),k=S==null?null:S-f;f=S,d&&d({action:c,location:E.location,delta:k})}function b(S,k){c="PUSH";let M=xw(E.location,S,k);n&&n(M,S),f=m()+1;let C=NC(M,f),j=E.createHref(M);try{l.pushState(C,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(j)}s&&d&&d({action:c,location:E.location,delta:1})}function x(S,k){c="REPLACE";let M=xw(E.location,S,k);n&&n(M,S),f=m();let C=NC(M,f),j=E.createHref(M);l.replaceState(C,"",j),s&&d&&d({action:c,location:E.location,delta:0})}function w(S){return qU(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(CC,p),d=S,()=>{i.removeEventListener(CC,p),d=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(S){return l.go(S)}};return E}function qU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zj(t,e,n="/"){return $U(t,e,n,!1)}function $U(t,e,n,r){let i=typeof e=="string"?Uc(e):e,s=Ms(i.pathname||"/",n);if(s==null)return null;let l=Lj(t);HU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=n7(s);c=e7(l[d],f,r)}return c}function Lj(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Gt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Cs([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Lj(l.children,e,b,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:ZU(p,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of Vj(l.path))s(l,c,!0,d)}),e}function Vj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Vj(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function HU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GU=/^:[\w-]+$/,KU=3,YU=2,WU=1,XU=10,QU=-2,OC=t=>t==="*";function ZU(t,e){let n=t.split("/"),r=n.length;return n.some(OC)&&(r+=QU),e&&(r+=YU),n.filter(i=>!OC(i)).reduce((i,s)=>i+(GU.test(s)?KU:s===""?WU:XU),r)}function JU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e7(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=N0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=N0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Cs([s,p.pathname]),pathnameBase:s7(Cs([s,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(s=Cs([s,p.pathnameBase]))}return l}function N0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let w=c[b]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[b];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function t7(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Bj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r7=t=>Bj.test(t);function i7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uc(t):t,s;if(n)if(r7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=PC(n.substring(1),"/"):s=PC(n,e)}else s=e;return{pathname:s,search:o7(r),hash:l7(i)}}function PC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sS(t){let e=a7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function oS(t,e,n,r=!1){let i;typeof t=="string"?i=Uc(t):(i={...t},Gt(!i.pathname||!i.pathname.includes("?"),v1("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),v1("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),v1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}c=p>=0?e[p]:"/"}let d=i7(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),s7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,c7=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function u7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function d7(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fj(t,e){let n=t;if(typeof n!="string"||!Bj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Uj)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Ms(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qj=["POST","PUT","PATCH","DELETE"];new Set(qj);var f7=["GET",...qj];new Set(f7);var Ud=A.createContext(null);Ud.displayName="DataRouter";var Qy=A.createContext(null);Qy.displayName="DataRouterState";var h7=A.createContext(!1),$j=A.createContext({isTransitioning:!1});$j.displayName="ViewTransition";var m7=A.createContext(new Map);m7.displayName="Fetchers";var p7=A.createContext(null);p7.displayName="Await";var fi=A.createContext(null);fi.displayName="Navigation";var Em=A.createContext(null);Em.displayName="Location";var ca=A.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var lS=A.createContext(null);lS.displayName="RouteError";var Hj="REACT_ROUTER_ERROR",g7="REDIRECT",y7="ROUTE_ERROR_RESPONSE";function v7(t){if(t.startsWith(`${Hj}:${g7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function b7(t){if(t.startsWith(`${Hj}:${y7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new c7(e.status,e.statusText,e.data)}catch{}}function x7(t,{relative:e}={}){Gt(Fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(fi),{hash:i,pathname:s,search:l}=Sm(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Cs([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Fd(){return A.useContext(Em)!=null}function fl(){return Gt(Fd(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Em).location}var Gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kj(t){A.useContext(fi).static||A.useLayoutEffect(t)}function cS(){let{isDataRoute:t}=A.useContext(ca);return t?D7():_7()}function _7(){Gt(Fd(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ud),{basename:e,navigator:n}=A.useContext(fi),{matches:r}=A.useContext(ca),{pathname:i}=fl(),s=JSON.stringify(sS(r)),l=A.useRef(!1);return Kj(()=>{l.current=!0}),A.useCallback((d,f={})=>{if(ci(l.current,Gj),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=oS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cs([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}var w7=A.createContext(null);function E7(t){let e=A.useContext(ca).outlet;return A.useMemo(()=>e&&A.createElement(w7.Provider,{value:t},e),[e,t])}function Sm(t,{relative:e}={}){let{matches:n}=A.useContext(ca),{pathname:r}=fl(),i=JSON.stringify(sS(n));return A.useMemo(()=>oS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function S7(t,e){return Yj(t,e)}function Yj(t,e,n,r,i){Gt(Fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(fi),{matches:l}=A.useContext(ca),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let M=p&&p.path||"";Xj(f,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=fl(),x;if(e){let M=typeof e=="string"?Uc(e):e;Gt(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=b;let w=x.pathname||"/",E=w;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=zj(t,{pathname:E});ci(p||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ci(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=C7(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Cs([m,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Cs([m,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,n,r,i);return e&&k?A.createElement(Em.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function T7(){let t=M7(),e=u7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var A7=A.createElement(T7,null),Wj=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=b7(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(ca.Provider,{value:this.props.routeContext},A.createElement(lS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement(I7,{error:t},e):e}};Wj.contextType=h7;var b1=new WeakMap;function I7({children:t,error:e}){let{basename:n}=A.useContext(fi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=v7(e.digest);if(r){let i=b1.get(e);if(i)throw i;let s=Fj(r.location,n);if(Uj&&!b1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw b1.set(e,l),l}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function k7({routeContext:t,match:e,children:n}){let r=A.useContext(Ud);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ca.Provider,{value:t},n)}function C7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:x}=n,w=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:d7(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,b)=>{let x,w=!1,E=null,S=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||A7,c&&(d<0&&b===0?(Xj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===b&&(w=!0,S=p.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),M=()=>{let C;return x?C=E:w?C=S:p.route.Component?C=A.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=m,A.createElement(k7,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?A.createElement(Wj,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):M()},null)}function uS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N7(t){let e=A.useContext(Ud);return Gt(e,uS(t)),e}function O7(t){let e=A.useContext(Qy);return Gt(e,uS(t)),e}function P7(t){let e=A.useContext(ca);return Gt(e,uS(t)),e}function dS(t){let e=P7(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R7(){return dS("useRouteId")}function M7(){let t=A.useContext(lS),e=O7("useRouteError"),n=dS("useRouteError");return t!==void 0?t:e.errors?.[n]}function D7(){let{router:t}=N7("useNavigate"),e=dS("useNavigate"),n=A.useRef(!1);return Kj(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{ci(n.current,Gj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var RC={};function Xj(t,e,n){!e&&!RC[t]&&(RC[t]=!0,ci(!1,n))}A.memo(j7);function j7({routes:t,future:e,state:n,onError:r}){return Yj(t,void 0,n,r,e)}function Qj({to:t,replace:e,state:n,relative:r}){Gt(Fd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(fi);ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(ca),{pathname:l}=fl(),c=cS(),d=oS(t,sS(s),l,r==="path"),f=JSON.stringify(d);return A.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function Zj(t){return E7(t.context)}function ei(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Gt(!Fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Uc(n));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:x="default"}=n,w=A.useMemo(()=>{let E=Ms(f,c);return E==null?null:{location:{pathname:E,search:m,hash:p,state:b,key:x},navigationType:r}},[c,f,m,p,b,x,r]);return ci(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(fi.Provider,{value:d},A.createElement(Em.Provider,{children:e,value:w}))}function L7({children:t,location:e}){return S7(_w(t),e)}function _w(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,_w(r.props.children,s));return}Gt(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_w(r.props.children,s)),n.push(l)}),n}var o0="get",l0="application/x-www-form-urlencoded";function Zy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function V7(t){return Zy(t)&&t.tagName.toLowerCase()==="button"}function B7(t){return Zy(t)&&t.tagName.toLowerCase()==="form"}function U7(t){return Zy(t)&&t.tagName.toLowerCase()==="input"}function F7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q7(t,e){return t.button===0&&(!e||e==="_self")&&!F7(t)}var Og=null;function $7(){if(Og===null)try{new FormData(document.createElement("form"),0),Og=!1}catch{Og=!0}return Og}var H7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x1(t){return t!=null&&!H7.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l0}"`),null):t}function G7(t,e){let n,r,i,s,l;if(B7(t)){let c=t.getAttribute("action");r=c?Ms(c,e):null,n=t.getAttribute("method")||o0,i=x1(t.getAttribute("enctype"))||l0,s=new FormData(t)}else if(V7(t)||U7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ms(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||o0,i=x1(t.getAttribute("formenctype"))||x1(c.getAttribute("enctype"))||l0,s=new FormData(c,t),!$7()){let{name:f,type:m,value:p}=t;if(m==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,p)}}else{if(Zy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=o0,r=null,i=l0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ms(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Y7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function X7(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await Y7(s,n);return l.links?l.links():[]}return[]}));return eF(r.flat(1).filter(W7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Q7(t,e,{includeHydrateFallback:n}={}){return Z7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Z7(t){return[...new Set(t)]}function J7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function eF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(J7(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Jj(){let t=A.useContext(Ud);return fS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tF(){let t=A.useContext(Qy);return fS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hS=A.createContext(void 0);hS.displayName="FrameworkContext";function ez(){let t=A.useContext(hS);return fS(t,"You must render this element inside a <HydratedRouter> element"),t}function nF(t,e){let n=A.useContext(hS),[r,i]=A.useState(!1),[s,l]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(M=>{l(M.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:ch(c,x),onBlur:ch(d,w),onMouseEnter:ch(f,x),onMouseLeave:ch(m,w),onTouchStart:ch(p,x)}]:[!1,b,{}]}function ch(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rF({page:t,...e}){let{router:n}=Jj(),r=A.useMemo(()=>zj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(aF,{page:t,matches:r,...e}):null}function iF(t){let{manifest:e,routeModules:n}=ez(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return X7(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function aF({page:t,matches:e,...n}){let r=fl(),{manifest:i,routeModules:s}=ez(),{basename:l}=Jj(),{loaderData:c,matches:d}=tF(),f=A.useMemo(()=>MC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=A.useMemo(()=>MC(t,e,d,i,r,"assets"),[t,e,d,i,r]),p=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(k=>{let M=i.routes[k.route.id];!M||!M.hasLoader||(!f.some(C=>C.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||M.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let S=K7(t,l,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[l,c,r,i,f,e,t,s]),b=A.useMemo(()=>Q7(m,i),[m,i]),x=iF(m);return A.createElement(A.Fragment,null,p.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:E})=>A.createElement("link",{key:w,nonce:n.nonce,...E})))}function sF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oF&&(window.__reactRouterVersion="7.11.0")}catch{}function lF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=BU({window:r,v5Compat:!0}));let s=i.current,[l,c]=A.useState({action:s.action,location:s.location}),d=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>s.listen(d),[s,d]),A.createElement(z7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var tz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nz=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w){let{basename:E,unstable_useTransitions:S}=A.useContext(fi),k=typeof f=="string"&&tz.test(f),M=Fj(f,E);f=M.to;let C=x7(f,{relative:i}),[j,P,z]=nF(r,x),R=dF(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function O(q){e&&e(q),q.defaultPrevented||R(q)}let V=A.createElement("a",{...x,...z,href:M.absoluteURL||C,onClick:M.isExternal||s?e:O,ref:sF(w,P),target:d,"data-discover":!k&&n==="render"?"true":void 0});return j&&!k?A.createElement(A.Fragment,null,V,A.createElement(rF,{page:C})):V});nz.displayName="Link";var rz=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},m){let p=Sm(l,{relative:f.relative}),b=fl(),x=A.useContext(Qy),{navigator:w,basename:E}=A.useContext(fi),S=x!=null&&gF(p)&&c===!0,k=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=b.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&E&&(C=Ms(C,E)||C);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=M===k||!i&&M.startsWith(k)&&M.charAt(j)==="/",z=C!=null&&(C===k||!i&&C.startsWith(k)&&C.charAt(k.length)==="/"),R={isActive:P,isPending:z,isTransitioning:S},O=P?e:void 0,V;typeof r=="function"?V=r(R):V=[r,P?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(R):s;return A.createElement(nz,{...f,"aria-current":O,className:V,ref:m,style:q,to:l,viewTransition:c},typeof d=="function"?d(R):d)});rz.displayName="NavLink";var cF=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=o0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w)=>{let{unstable_useTransitions:E}=A.useContext(fi),S=mF(),k=pF(c,{relative:f}),M=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&tz.test(c),j=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,R=z?.getAttribute("formmethod")||l,O=()=>S(z||P.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});E&&n!==!1?A.startTransition(()=>O()):O()};return A.createElement("form",{ref:w,method:M,action:k,onSubmit:r?d:j,...x,"data-discover":!C&&t==="render"?"true":void 0})});cF.displayName="Form";function uF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iz(t){let e=A.useContext(Ud);return Gt(e,uF(t)),e}function dF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=cS(),m=fl(),p=Sm(t,{relative:s});return A.useCallback(b=>{if(q7(b,e)){b.preventDefault();let x=n!==void 0?n:qh(m)===qh(p),w=()=>f(t,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?A.startTransition(()=>w()):w()}},[m,f,p,n,r,e,t,i,s,l,c,d])}var fF=0,hF=()=>`__${String(++fF)}__`;function mF(){let{router:t}=iz("useSubmit"),{basename:e}=A.useContext(fi),n=R7(),r=t.fetch,i=t.navigate;return A.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=G7(s,e);if(l.navigate===!1){let b=l.fetcherKey||hF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function pF(t,{relative:e}={}){let{basename:n}=A.useContext(fi),r=A.useContext(ca);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Sm(t||".",{relative:e})},l=fl();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cs([n,s.pathname])),qh(s)}function gF(t,{relative:e}={}){let n=A.useContext($j);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iz("useViewTransitionState"),i=Sm(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return N0(i.pathname,l)!=null||N0(i.pathname,s)!=null}var mS=Mj();const yF=Za(mS),az=A.createContext(void 0),vF=({children:t})=>{const[e,n]=A.useState(()=>localStorage.getItem("vault_theme")||"dark"),[r,i]=A.useState(()=>localStorage.getItem("vault_theme_style")||"classic");A.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),A.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return y.jsx(az.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},sz=()=>{const t=A.useContext(az);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},bF=()=>{};var DC={};const oz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},lz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(b=64)),r.push(n[m],n[p],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new _F;const b=s<<2|c>>4;if(r.push(b),f!==64){const x=c<<4&240|f>>2;if(r.push(x),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wF=function(t){const e=oz(t);return lz.encodeByteArray(e,!0)},cz=function(t){return wF(t).replace(/\./g,"")},uz=function(t){try{return lz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EF=()=>dz().__FIREBASE_DEFAULTS__,SF=()=>{if(typeof process>"u"||typeof DC>"u")return;const t=DC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uz(t[1]);return e&&JSON.parse(e)},Jy=()=>{try{return bF()||EF()||SF()||TF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AF=t=>Jy()?.emulatorHosts?.[t],fz=()=>Jy()?.config,hz=t=>Jy()?.[`_${t}`];class IF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function qd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mz(t){return(await fetch(t,{credentials:"include"})).ok}const Oh={};function kF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oh))Oh[e]?t.emulator.push(e):t.prod.push(e);return t}function CF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jC=!1;function NF(t,e){if(typeof window>"u"||typeof document>"u"||!qd(window.location.host)||Oh[t]===e||Oh[t]||jC)return;Oh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=kF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{jC=!0,l()},b}function m(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=CF(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const C=b.element;c(C),m(S,E);const j=f();d(M,k),C.append(M,w,S,j),document.body.appendChild(C)}s?(w.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function pz(){const t=Jy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DF(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gz(){return!pz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yz(){return!pz()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function vz(){try{return typeof indexedDB=="object"}catch{return!1}}function jF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const zF="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zF,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tm.prototype.create)}}class Tm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?LF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ks(i,c,r)}}function LF(t,e){return t.replace(VF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VF=/\{\$([^}]+)}/g;function BF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ec(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(zC(s)&&zC(l)){if(!Ec(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zC(t){return t!==null&&typeof t=="object"}function Am(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UF(t,e){const n=new FF(t,e);return n.subscribe.bind(n)}class FF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_1),i.error===void 0&&(i.error=_1),i.complete===void 0&&(i.complete=_1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _1(){}function Nn(t){return t&&t._delegate?t._delegate:t}class Sc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xl="[DEFAULT]";let $F=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GF(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HF(t){return t===Xl?void 0:t}function GF(t){return t.instantiationMode==="EAGER"}class KF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const YF={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},WF=it.INFO,XF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},QF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pS{constructor(e){this.name=e,this._logLevel=WF,this._logHandler=QF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const ZF=(t,e)=>e.some(n=>t instanceof n);let LC,VC;function JF(){return LC||(LC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eq(){return VC||(VC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bz=new WeakMap,ww=new WeakMap,xz=new WeakMap,w1=new WeakMap,gS=new WeakMap;function tq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Xo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&bz.set(n,t)}).catch(()=>{}),gS.set(e,t),e}function nq(t){if(ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});ww.set(t,e)}let Ew={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ww.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rq(t){Ew=t(Ew)}function iq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(E1(this),e,...n);return xz.set(r,e.sort?e.sort():[e]),Xo(r)}:eq().includes(t)?function(...e){return t.apply(E1(this),e),Xo(bz.get(this))}:function(...e){return Xo(t.apply(E1(this),e))}}function aq(t){return typeof t=="function"?iq(t):(t instanceof IDBTransaction&&nq(t),ZF(t,JF())?new Proxy(t,Ew):t)}function Xo(t){if(t instanceof IDBRequest)return tq(t);if(w1.has(t))return w1.get(t);const e=aq(t);return e!==t&&(w1.set(t,e),gS.set(e,t)),e}const E1=t=>gS.get(t);function sq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Xo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xo(l.result),d.oldVersion,d.newVersion,Xo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const oq=["get","getKey","getAll","getAllKeys","count"],lq=["put","add","delete","clear"],S1=new Map;function BC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S1.get(e))return S1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oq.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return S1.set(e,s),s}rq(t=>({...t,get:(e,n,r)=>BC(e,n)||t.get(e,n,r),has:(e,n)=>!!BC(e,n)||t.has(e,n)}));class cq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uq(t){return t.getComponent()?.type==="VERSION"}const Sw="@firebase/app",UC="0.14.6";const Ds=new pS("@firebase/app"),dq="@firebase/app-compat",fq="@firebase/analytics-compat",hq="@firebase/analytics",mq="@firebase/app-check-compat",pq="@firebase/app-check",gq="@firebase/auth",yq="@firebase/auth-compat",vq="@firebase/database",bq="@firebase/data-connect",xq="@firebase/database-compat",_q="@firebase/functions",wq="@firebase/functions-compat",Eq="@firebase/installations",Sq="@firebase/installations-compat",Tq="@firebase/messaging",Aq="@firebase/messaging-compat",Iq="@firebase/performance",kq="@firebase/performance-compat",Cq="@firebase/remote-config",Nq="@firebase/remote-config-compat",Oq="@firebase/storage",Pq="@firebase/storage-compat",Rq="@firebase/firestore",Mq="@firebase/ai",Dq="@firebase/firestore-compat",jq="firebase",zq="12.6.0";const Tw="[DEFAULT]",Lq={[Sw]:"fire-core",[dq]:"fire-core-compat",[hq]:"fire-analytics",[fq]:"fire-analytics-compat",[pq]:"fire-app-check",[mq]:"fire-app-check-compat",[gq]:"fire-auth",[yq]:"fire-auth-compat",[vq]:"fire-rtdb",[bq]:"fire-data-connect",[xq]:"fire-rtdb-compat",[_q]:"fire-fn",[wq]:"fire-fn-compat",[Eq]:"fire-iid",[Sq]:"fire-iid-compat",[Tq]:"fire-fcm",[Aq]:"fire-fcm-compat",[Iq]:"fire-perf",[kq]:"fire-perf-compat",[Cq]:"fire-rc",[Nq]:"fire-rc-compat",[Oq]:"fire-gcs",[Pq]:"fire-gcs-compat",[Rq]:"fire-fst",[Dq]:"fire-fst-compat",[Mq]:"fire-vertex","fire-js":"fire-js",[jq]:"fire-js-all"};const O0=new Map,Vq=new Map,Aw=new Map;function FC(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cd(t){const e=t.name;if(Aw.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Aw.set(e,t);for(const n of O0.values())FC(n,t);for(const n of Vq.values())FC(n,t);return!0}function yS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ea(t){return t==null?!1:t.settings!==void 0}const Bq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Tm("app","Firebase",Bq);class Uq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}const $d=zq;function _z(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=fz()),!n)throw Qo.create("no-options");const s=O0.get(i);if(s){if(Ec(n,s.options)&&Ec(r,s.config))return s;throw Qo.create("duplicate-app",{appName:i})}const l=new KF(i);for(const d of Aw.values())l.addComponent(d);const c=new Uq(n,r,l);return O0.set(i,c),c}function Fq(t=Tw){const e=O0.get(t);if(!e&&t===Tw&&fz())return _z();if(!e)throw Qo.create("no-app",{appName:t});return e}function Zo(t,e,n){let r=Lq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(l.join(" "));return}cd(new Sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qq="firebase-heartbeat-database",$q=1,$h="firebase-heartbeat-store";let T1=null;function wz(){return T1||(T1=sq(qq,$q,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($h)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),T1}async function Hq(t){try{const n=(await wz()).transaction($h),r=await n.objectStore($h).get(Ez(t));return await n.done,r}catch(e){if(e instanceof Ks)Ds.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}}async function qC(t,e){try{const r=(await wz()).transaction($h,"readwrite");await r.objectStore($h).put(e,Ez(t)),await r.done}catch(n){if(n instanceof Ks)Ds.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(r.message)}}}function Ez(t){return`${t.name}!${t.options.appId}`}const Gq=1024,Kq=30;class Yq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$C();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Kq){const i=Qq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$C(),{heartbeatsToSend:n,unsentEntries:r}=Wq(this._heartbeatsCache.heartbeats),i=cz(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ds.warn(e),""}}}function $C(){return new Date().toISOString().substring(0,10)}function Wq(t,e=Gq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),HC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vz()?jF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function HC(t){return cz(JSON.stringify({version:2,heartbeats:t})).length}function Qq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Zq(t){cd(new Sc("platform-logger",e=>new cq(e),"PRIVATE")),cd(new Sc("heartbeat",e=>new Yq(e),"PRIVATE")),Zo(Sw,UC,t),Zo(Sw,UC,"esm2020"),Zo("fire-js","")}Zq("");function Sz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jq=Sz,Tz=new Tm("auth","Firebase",Sz());const P0=new pS("@firebase/auth");function e$(t,...e){P0.logLevel<=it.WARN&&P0.warn(`Auth (${$d}): ${t}`,...e)}function c0(t,...e){P0.logLevel<=it.ERROR&&P0.error(`Auth (${$d}): ${t}`,...e)}function Ka(t,...e){throw bS(t,...e)}function aa(t,...e){return bS(t,...e)}function vS(t,e,n){const r={...Jq(),[e]:n};return new Tm("auth","Firebase",r).create(e,{appName:t.name})}function hc(t){return vS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ka(t,"argument-error"),vS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tz.create(t,...e)}function He(t,e,...n){if(!t)throw bS(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw c0(e),new Error(e)}function js(t,e){t||Ss(e)}function Iw(){return typeof self<"u"&&self.location?.href||""}function n$(){return GC()==="http:"||GC()==="https:"}function GC(){return typeof self<"u"&&self.location?.protocol||null}function r$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n$()||RF()||"connection"in navigator)?navigator.onLine:!0}function i$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Im{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=OF()||MF()}get(){return r$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xS(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Az{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const s$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o$=new Im(3e4,6e4);function _S(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hd(t,e,n,r,i={}){return Iz(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Am({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return PF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&qd(t.emulatorConfig.host)&&(f.credentials="include"),Az.fetch()(await kz(t,t.config.apiHost,n,c),f)})}async function Iz(t,e,n){t._canInitEmulator=!1;const r={...a$,...e};try{const i=new c$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Pg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pg(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Pg(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Pg(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vS(t,m,f);Ka(t,m)}}catch(i){if(i instanceof Ks)throw i;Ka(t,"network-request-failed",{message:String(i)})}}async function l$(t,e,n,r,i={}){const s=await Hd(t,e,n,r,i);return"mfaPendingCredential"in s&&Ka(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?xS(t.config,i):`${t.config.apiScheme}://${i}`;return s$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class c${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(aa(this.auth,"network-request-failed")),o$.get())})}}function Pg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=aa(t,e,r);return i.customData._tokenResponse=n,i}async function u$(t,e){return Hd(t,"POST","/v1/accounts:delete",e)}async function R0(t,e){return Hd(t,"POST","/v1/accounts:lookup",e)}function Ph(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d$(t,e=!1){const n=Nn(t),r=await n.getIdToken(e),i=wS(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Ph(A1(i.auth_time)),issuedAtTime:Ph(A1(i.iat)),expirationTime:Ph(A1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function A1(t){return Number(t)*1e3}function wS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return c0("JWT malformed, contained fewer than 3 sections"),null;try{const i=uz(n);return i?JSON.parse(i):(c0("Failed to decode base64 JWT payload"),null)}catch(i){return c0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KC(t){const e=wS(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ks&&f$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class h${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function M0(t){const e=t.auth,n=await t.getIdToken(),r=await Hh(t,R0(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Cz(i.providerUserInfo):[],l=p$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function m$(t){const e=Nn(t);await M0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function g$(t,e){const n=await Iz(t,{},async()=>{const r=Am({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await kz(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&qd(t.emulatorConfig.host)&&(d.credentials="include"),Az.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y$(t,e){return Hd(t,"POST","/v2/accounts:revokeToken",_S(t,e))}class ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=KC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await g$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ed;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ed,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function Do(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new h$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hh(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d$(this,e)}reload(){return m$(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await M0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(hc(this.auth));const e=await this.getIdToken();return await Hh(this,u$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:E}=n;He(p&&E,e,"internal-error");const S=ed.fromJSON(this.name,E);He(typeof p=="string",e,"internal-error"),Do(r,e.name),Do(i,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof x=="boolean",e,"internal-error"),Do(s,e.name),Do(l,e.name),Do(c,e.name),Do(d,e.name),Do(f,e.name),Do(m,e.name);const k=new ia({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return w&&Array.isArray(w)&&(k.providerData=w.map(M=>({...M}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ed;i.updateFromServerResponse(n);const s=new ia({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await M0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Cz(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new ed;c.updateFromIdToken(r);const d=new ia({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const YC=new Map;function Ts(t){js(t instanceof Function,"Expected a class definition");let e=YC.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YC.set(t,e),e)}class Nz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nz.type="NONE";const WC=Nz;function u0(t,e,n){return`firebase:${t}:${e}:${n}`}class td{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=u0(this.userKey,i.apiKey,s),this.fullPersistenceKey=u0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await R0(this.auth,{idToken:e}).catch(()=>{});return n?ia._fromGetAccountInfoResponse(this.auth,n,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new td(Ts(WC),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ts(WC);const l=u0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const b=await R0(e,{idToken:m}).catch(()=>{});if(!b)break;p=await ia._fromGetAccountInfoResponse(e,b,m)}else p=ia._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new td(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new td(s,e,r))}}function XC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Oz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jz(e))return"Blackberry";if(zz(e))return"Webos";if(Pz(e))return"Safari";if((e.includes("chrome/")||Rz(e))&&!e.includes("edge/"))return"Chrome";if(Dz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Oz(t=Cn()){return/firefox\//i.test(t)}function Pz(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rz(t=Cn()){return/crios\//i.test(t)}function Mz(t=Cn()){return/iemobile/i.test(t)}function Dz(t=Cn()){return/android/i.test(t)}function jz(t=Cn()){return/blackberry/i.test(t)}function zz(t=Cn()){return/webos/i.test(t)}function ES(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v$(t=Cn()){return ES(t)&&!!window.navigator?.standalone}function b$(){return DF()&&document.documentMode===10}function Lz(t=Cn()){return ES(t)||Dz(t)||zz(t)||jz(t)||/windows phone/i.test(t)||Mz(t)}function Vz(t,e=[]){let n;switch(t){case"Browser":n=XC(Cn());break;case"Worker":n=`${XC(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$d}/${r}`}class x${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _$(t,e={}){return Hd(t,"GET","/v2/passwordPolicy",_S(t,e))}const w$=6;class E${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class S${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QC(this),this.idTokenSubscription=new QC(this),this.beforeStateQueue=new x$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await td.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await R0(this,{idToken:e}),r=await ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ea(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await M0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ea(this.app))return Promise.reject(hc(this));const n=e?Nn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ea(this.app)?Promise.reject(hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _$(this),n=new E$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await td.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&e$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ev(t){return Nn(t)}class QC{constructor(e){this.auth=e,this.observer=null,this.addObserver=UF(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let SS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T$(t){SS=t}function A$(t){return SS.loadJS(t)}function I$(){return SS.gapiScript}function k$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function C$(t,e){const n=yS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ec(s,e??{}))return i;Ka(i,"already-initialized")}return n.initialize({options:e})}function N$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ts);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function O$(t,e,n){const r=ev(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Bz(e),{host:l,port:c}=P$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ec(f,r.config.emulator)&&Ec(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,qd(l)?(mz(`${s}//${l}${d}`),NF("Auth",!0)):R$()}function Bz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P$(t){const e=Bz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:ZC(l)}}}function ZC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Uz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function nd(t,e){return l$(t,"POST","/v1/accounts:signInWithIdp",_S(t,e))}const M$="http://localhost";class Tc extends Uz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ka("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Tc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return nd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nd(e,n)}buildRequest(){const e={requestUri:M$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Am(n)}return e}}class TS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class km extends TS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qo extends km{constructor(){super("facebook.com")}static credential(e){return Tc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";class _s extends km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tc._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";class $o extends km{constructor(){super("github.com")}static credential(e){return Tc._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";class Ho extends km{constructor(){super("twitter.com")}static credential(e,n){return Tc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";class ud{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ia._fromIdTokenResponse(e,r,i),l=JC(r);return new ud({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=JC(r);return new ud({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function JC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class D0 extends Ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,D0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new D0(e,n,r,i)}}function Fz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?D0._fromErrorAndOperation(t,s,e,r):s})}async function D$(t,e,n=!1){const r=await Hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ud._forOperation(t,"link",r)}async function j$(t,e,n=!1){const{auth:r}=t;if(ea(r.app))return Promise.reject(hc(r));const i="reauthenticate";try{const s=await Hh(t,Fz(r,i,e,t),n);He(s.idToken,r,"internal-error");const l=wS(s.idToken);He(l,r,"internal-error");const{sub:c}=l;return He(t.uid===c,r,"user-mismatch"),ud._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ka(r,"user-mismatch"),s}}async function z$(t,e,n=!1){if(ea(t.app))return Promise.reject(hc(t));const r="signIn",i=await Fz(t,r,e),s=await ud._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function L$(t,e){return Nn(t).setPersistence(e)}function V$(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function B$(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function U$(t,e,n,r){return Nn(t).onAuthStateChanged(e,n,r)}function F$(t){return Nn(t).signOut()}const j0="__sak";class qz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j0,"1"),this.storage.removeItem(j0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const q$=1e3,$$=10;class $z extends qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);b$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$z.type="LOCAL";const Hz=$z;class Gz extends qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gz.type="SESSION";const Kz=Gz;function H$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await H$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tv.receivers=[];function AS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class G${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=AS("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Fa(){return window}function K$(t){Fa().location.href=t}function Yz(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function Y$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W$(){return navigator?.serviceWorker?.controller||null}function X$(){return Yz()?self:null}const Wz="firebaseLocalStorageDb",Q$=1,z0="firebaseLocalStorage",Xz="fbase_key";class Cm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nv(t,e){return t.transaction([z0],e?"readwrite":"readonly").objectStore(z0)}function Z$(){const t=indexedDB.deleteDatabase(Wz);return new Cm(t).toPromise()}function Cw(){const t=indexedDB.open(Wz,Q$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(z0,{keyPath:Xz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(z0)?e(r):(r.close(),await Z$(),e(await Cw()))})})}async function eN(t,e,n){const r=nv(t,!0).put({[Xz]:e,value:n});return new Cm(r).toPromise()}async function J$(t,e){const n=nv(t,!1).get(e),r=await new Cm(n).toPromise();return r===void 0?null:r.value}function tN(t,e){const n=nv(t,!0).delete(e);return new Cm(n).toPromise()}const eH=800,tH=3;class Qz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(X$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Y$(),!this.activeServiceWorker)return;this.sender=new G$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cw();return await eN(e,j0,"1"),await tN(e,j0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nv(i,!1).getAll();return new Cm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qz.type="LOCAL";const nH=Qz;new Im(3e4,6e4);function Zz(t,e){return e?Ts(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class IS extends Uz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rH(t){return z$(t.auth,new IS(t),t.bypassAuthState)}function iH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),j$(n,new IS(t),t.bypassAuthState)}async function aH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),D$(n,new IS(t),t.bypassAuthState)}class Jz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rH;case"linkViaPopup":case"linkViaRedirect":return aH;case"reauthViaPopup":case"reauthViaRedirect":return iH;default:Ka(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sH=new Im(2e3,1e4);async function oH(t,e,n){if(ea(t.app))return Promise.reject(aa(t,"operation-not-supported-in-this-environment"));const r=ev(t);t$(t,e,TS);const i=Zz(r,n);return new oc(r,"signInViaPopup",e,i).executeNotNull()}class oc extends Jz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oc.currentPopupAction&&oc.currentPopupAction.cancel(),oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=AS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(aa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(aa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(aa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sH.get())};e()}}oc.currentPopupAction=null;const lH="pendingRedirect",d0=new Map;class cH extends Jz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=d0.get(this.auth._key());if(!e){try{const r=await uH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}d0.set(this.auth._key(),e)}return this.bypassAuthState||d0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uH(t,e){const n=hH(e),r=fH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dH(t,e){d0.set(t._key(),e)}function fH(t){return Ts(t._redirectPersistence)}function hH(t){return u0(lH,t.config.apiKey,t.name)}async function mH(t,e,n=!1){if(ea(t.app))return Promise.reject(hc(t));const r=ev(t),i=Zz(r,e),l=await new cH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const pH=600*1e3;class gH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!e4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(aa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pH&&this.cachedEventUids.clear(),this.cachedEventUids.has(nN(e))}saveEventToCache(e){this.cachedEventUids.add(nN(e)),this.lastProcessedEventTime=Date.now()}}function nN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function e4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e4(t);default:return!1}}async function vH(t,e={}){return Hd(t,"GET","/v1/projects",e)}const bH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xH=/^https?/;async function _H(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vH(t);for(const n of e)try{if(wH(n))return}catch{}Ka(t,"unauthorized-domain")}function wH(t){const e=Iw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!xH.test(n))return!1;if(bH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const EH=new Im(3e4,6e4);function rN(){const t=Fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SH(t){return new Promise((e,n)=>{function r(){rN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rN(),n(aa(t,"network-request-failed"))},timeout:EH.get()})}if(Fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fa().gapi?.load)r();else{const i=k$("iframefcb");return Fa()[i]=()=>{gapi.load?r():n(aa(t,"network-request-failed"))},A$(`${I$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw f0=null,e})}let f0=null;function TH(t){return f0=f0||SH(t),f0}const AH=new Im(5e3,15e3),IH="__/auth/iframe",kH="emulator/auth/iframe",CH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OH(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xS(e,kH):`https://${t.config.authDomain}/${IH}`,r={apiKey:e.apiKey,appName:t.name,v:$d},i=NH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Am(r).slice(1)}`}async function PH(t){const e=await TH(t),n=Fa().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:OH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=aa(t,"network-request-failed"),c=Fa().setTimeout(()=>{s(l)},AH.get());function d(){Fa().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const RH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MH=500,DH=600,jH="_blank",zH="http://localhost";class iN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LH(t,e,n,r=MH,i=DH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...RH,width:r.toString(),height:i.toString(),top:s,left:l},f=Cn().toLowerCase();n&&(c=Rz(f)?jH:n),Oz(f)&&(e=e||zH,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[x,w])=>`${b}${x}=${w},`,"");if(v$(f)&&c!=="_self")return VH(e||"",c),new iN(null);const p=window.open(e||"",c,m);He(p,t,"popup-blocked");try{p.focus()}catch{}return new iN(p)}function VH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const BH="__/auth/handler",UH="emulator/auth/handler",FH=encodeURIComponent("fac");async function aN(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$d,eventId:i};if(e instanceof TS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",BF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof km){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${FH}=${encodeURIComponent(d)}`:"";return`${qH(t)}?${Am(c).slice(1)}${f}`}function qH({config:t}){return t.emulator?xS(t,UH):`https://${t.authDomain}/${BH}`}const I1="webStorageSupport";class $H{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kz,this._completeRedirectFn=mH,this._overrideRedirectResult=dH}async _openPopup(e,n,r,i){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await aN(e,n,r,Iw(),i);return LH(e,s,AS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aN(e,n,r,Iw(),i);return K$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PH(e),r=new gH(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(I1,{type:I1},i=>{const s=i?.[0]?.[I1];s!==void 0&&n(!!s),Ka(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_H(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lz()||Pz()||ES()}}const HH=$H;var sN="@firebase/auth",oN="1.12.0";class GH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YH(t){cd(new Sc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vz(t)},f=new S$(r,i,s,d);return N$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cd(new Sc("auth-internal",e=>{const n=ev(e.getProvider("auth").getImmediate());return(r=>new GH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(sN,oN,KH(t)),Zo(sN,oN,"esm2020")}const WH=300,XH=hz("authIdTokenMaxAge")||WH;let lN=null;const QH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XH)return;const i=n?.token;lN!==i&&(lN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZH(t=Fq()){const e=yS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C$(t,{popupRedirectResolver:HH,persistence:[nH,Hz,Kz]}),r=hz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=QH(s.toString());B$(n,l,()=>l(n.currentUser)),V$(n,c=>l(c))}}const i=AF("auth");return i&&O$(n,`http://${i}`),n}function JH(){return document.getElementsByTagName("head")?.[0]??document}T$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=aa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YH("Browser");var eG="firebase",tG="12.7.0";Zo(eG,tG,"app");var cN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jo,t4;(function(){var t;function e(R,O){function V(){}V.prototype=O.prototype,R.F=O.prototype,R.prototype=new V,R.prototype.constructor=R,R.D=function(q,L,F){for(var U=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)U[_e-2]=arguments[_e];return O.prototype[L].apply(q,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,O,V){V||(V=0);const q=Array(16);if(typeof O=="string")for(var L=0;L<16;++L)q[L]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(L=0;L<16;++L)q[L]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=R.g[0],V=R.g[1],L=R.g[2];let F=R.g[3],U;U=O+(F^V&(L^F))+q[0]+3614090360&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[2]+606105819&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[3]+3250441966&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[4]+4118548399&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[6]+2821735955&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[7]+4249261313&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[8]+1770035416&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[10]+4294925233&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[11]+2304563134&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[12]+1804603682&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[14]+2792965006&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[15]+1236535329&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(L^F&(V^L))+q[1]+4129170786&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[11]+643717713&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[0]+3921069994&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[5]+3593408605&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[15]+3634488961&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[4]+3889429448&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[9]+568446438&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[3]+4107603335&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[8]+1163531501&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[13]+2850285829&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[7]+1735328473&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[12]+2368359562&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(V^L^F)+q[5]+4294588738&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[11]+1839030562&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[14]+4259657740&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[1]+2763975236&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[7]+4139469664&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[10]+3200236656&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[13]+681279174&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[3]+3572445317&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[6]+76029189&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[9]+3654602809&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[15]+530742520&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[2]+3299628645&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(L^(V|~F))+q[0]+4096336452&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[14]+2878612391&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[5]+4237533241&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[12]+1700485571&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[10]+4293915773&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[1]+2240044497&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[8]+1873313359&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[6]+2734768916&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[13]+1309151649&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[4]+4149444226&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[2]+718787259&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const V=O-this.blockSize,q=this.C;let L=this.h,F=0;for(;F<O;){if(L==0)for(;F<=V;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<O;)if(q[L++]=R.charCodeAt(F++),L==this.blockSize){i(this,q),L=0;break}}else for(;F<O;)if(q[L++]=R[F++],L==this.blockSize){i(this,q),L=0;break}}this.h=L,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var V=R.length-8;V<R.length;++V)R[V]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,V=0;V<4;++V)for(let q=0;q<32;q+=8)R[O++]=this.g[V]>>>q&255;return R};function s(R,O){var V=c;return Object.prototype.hasOwnProperty.call(V,R)?V[R]:V[R]=O(R)}function l(R,O){this.h=O;const V=[];let q=!0;for(let L=R.length-1;L>=0;L--){const F=R[L]|0;q&&F==O||(V[L]=F,q=!1)}this.g=V}var c={};function d(R){return-128<=R&&R<128?s(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return S(f(-R));const O=[];let V=1;for(let q=0;R>=V;q++)O[q]=R/V|0,V*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return S(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let q=p;for(let F=0;F<R.length;F+=8){var L=Math.min(8,R.length-F);const U=parseInt(R.substring(F,F+L),O);L<8?(L=f(Math.pow(O,L)),q=q.j(L).add(f(U))):(q=q.j(V),q=q.add(f(U)))}return q}var p=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let R=0,O=1;for(let V=0;V<this.g.length;V++){const q=this.i(V);R+=(q>=0?q:4294967296+q)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(E(this))return"-"+S(this).toString(R);const O=f(Math.pow(R,6));var V=this;let q="";for(;;){const L=j(V,O).g;V=k(V,L.j(O));let F=((V.g.length>0?V.g[0]:V.h)>>>0).toString(R);if(V=L,w(V))return F+q;for(;F.length<6;)F="0"+F;q=F+q}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=k(this,R),E(R)?-1:w(R)?0:1};function S(R){const O=R.g.length,V=[];for(let q=0;q<O;q++)V[q]=~R.g[q];return new l(V,~R.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),V=[];let q=0;for(let L=0;L<=O;L++){let F=q+(this.i(L)&65535)+(R.i(L)&65535),U=(F>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);q=U>>>16,F&=65535,U&=65535,V[L]=U<<16|F}return new l(V,V[V.length-1]&-2147483648?-1:0)};function k(R,O){return R.add(S(O))}t.j=function(R){if(w(this)||w(R))return p;if(E(this))return E(R)?S(this).j(S(R)):S(S(this).j(R));if(E(R))return S(this.j(S(R)));if(this.l(x)<0&&R.l(x)<0)return f(this.m()*R.m());const O=this.g.length+R.g.length,V=[];for(var q=0;q<2*O;q++)V[q]=0;for(q=0;q<this.g.length;q++)for(let L=0;L<R.g.length;L++){const F=this.i(q)>>>16,U=this.i(q)&65535,_e=R.i(L)>>>16,we=R.i(L)&65535;V[2*q+2*L]+=U*we,M(V,2*q+2*L),V[2*q+2*L+1]+=F*we,M(V,2*q+2*L+1),V[2*q+2*L+1]+=U*_e,M(V,2*q+2*L+1),V[2*q+2*L+2]+=F*_e,M(V,2*q+2*L+2)}for(R=0;R<O;R++)V[R]=V[2*R+1]<<16|V[2*R];for(R=O;R<2*O;R++)V[R]=0;return new l(V,0)};function M(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function C(R,O){this.g=R,this.h=O}function j(R,O){if(w(O))throw Error("division by zero");if(w(R))return new C(p,p);if(E(R))return O=j(S(R),O),new C(S(O.g),S(O.h));if(E(O))return O=j(R,S(O)),new C(S(O.g),O.h);if(R.g.length>30){if(E(R)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var V=b,q=O;q.l(R)<=0;)V=P(V),q=P(q);var L=z(V,1),F=z(q,1);for(q=z(q,2),V=z(V,2);!w(q);){var U=F.add(q);U.l(R)<=0&&(L=L.add(V),F=U),q=z(q,1),V=z(V,1)}return O=k(R,L.j(O)),new C(L,O)}for(L=p;R.l(O)>=0;){for(V=Math.max(1,Math.floor(R.m()/O.m())),q=Math.ceil(Math.log(V)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),F=f(V),U=F.j(O);E(U)||U.l(R)>0;)V-=q,F=f(V),U=F.j(O);w(F)&&(F=b),L=L.add(F),R=k(R,U)}return new C(L,R)}t.B=function(R){return j(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)&R.i(q);return new l(V,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)|R.i(q);return new l(V,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)^R.i(q);return new l(V,this.h^R.h)};function P(R){const O=R.g.length+1,V=[];for(let q=0;q<O;q++)V[q]=R.i(q)<<1|R.i(q-1)>>>31;return new l(V,R.h)}function z(R,O){const V=O>>5;O%=32;const q=R.g.length-V,L=[];for(let F=0;F<q;F++)L[F]=O>0?R.i(F+V)>>>O|R.i(F+V+1)<<32-O:R.i(F+V);return new l(L,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Jo=l}).apply(typeof cN<"u"?cN:typeof self<"u"?self:typeof window<"u"?window:{});var Rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n4,Sh,r4,h0,Nw,i4,a4,s4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rg=="object"&&Rg];for(var T=0;T<g.length;++T){var N=g[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var N=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var J=g[B];if(!(J in N))break e;N=N[J]}g=g[g.length-1],B=N[g],T=T(B),T!=B&&T!=null&&e(N,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var N=[],B;for(B in T)Object.prototype.hasOwnProperty.call(T,B)&&N.push([B,T[B]]);return N}});var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,N){return g.call.apply(g.bind,arguments)}function f(g,T,N){return f=d,f.apply(null,arguments)}function m(g,T){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,T){function N(){}N.prototype=T.prototype,g.Z=T.prototype,g.prototype=new N,g.prototype.constructor=g,g.Ob=function(B,J,ie){for(var ye=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ye[Ye-2]=arguments[Ye];return T.prototype[J].apply(B,ye)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const T=g.length;if(T>0){const N=Array(T);for(let B=0;B<T;B++)N[B]=g[B];return N}return[]}function w(g,T){for(let B=1;B<arguments.length;B++){const J=arguments[B];var N=typeof J;if(N=N!="object"?N:J?Array.isArray(J)?"array":N:"null",N=="array"||N=="object"&&typeof J.length=="number"){N=g.length||0;const ie=J.length||0;g.length=N+ie;for(let ye=0;ye<ie;ye++)g[N+ye]=J[ye]}else g.push(J)}}class E{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(g){l.setTimeout(()=>{throw g},0)}function k(){var g=R;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class M{constructor(){this.h=this.g=null}add(T,N){const B=C.get();B.set(T,N),this.h?this.h.next=B:this.g=B,this.h=B}}var C=new E(()=>new j,g=>g.reset());class j{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,R=new M,O=()=>{const g=Promise.resolve(void 0);P=()=>{g.then(V)}};function V(){for(var g;g=k();){try{g.h.call(g.g)}catch(N){S(N)}var T=C;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}z=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};l.addEventListener("test",N,T),l.removeEventListener("test",N,T)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function _e(g,T){L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(_e,L),_e.prototype.init=function(g,T){const N=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(N=="mouseover"?T=g.fromElement:N=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(g,T,N,B,J){this.listener=g,this.proxy=null,this.src=T,this.type=N,this.capture=!!B,this.ha=J,this.key=++W,this.da=this.fa=!1}function $(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function se(g,T,N){for(const B in g)T.call(N,g[B],B,g)}function ve(g,T){for(const N in g)T.call(void 0,g[N],N,g)}function H(g){const T={};for(const N in g)T[N]=g[N];return T}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,T){let N,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(N in B)g[N]=B[N];for(let ie=0;ie<K.length;ie++)N=K[ie],Object.prototype.hasOwnProperty.call(B,N)&&(g[N]=B[N])}}function de(g){this.src=g,this.g={},this.h=0}de.prototype.add=function(g,T,N,B,J){const ie=g.toString();g=this.g[ie],g||(g=this.g[ie]=[],this.h++);const ye=Ie(g,T,B,J);return ye>-1?(T=g[ye],N||(T.fa=!1)):(T=new re(T,this.src,ie,!!B,J),T.fa=N,g.push(T)),T};function ge(g,T){const N=T.type;if(N in g.g){var B=g.g[N],J=Array.prototype.indexOf.call(B,T,void 0),ie;(ie=J>=0)&&Array.prototype.splice.call(B,J,1),ie&&($(T),g.g[N].length==0&&(delete g.g[N],g.h--))}}function Ie(g,T,N,B){for(let J=0;J<g.length;++J){const ie=g[J];if(!ie.da&&ie.listener==T&&ie.capture==!!N&&ie.ha==B)return J}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Ve={};function Z(g,T,N,B,J){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)Z(g,T[ie],N,B,J);return null}return N=Li(N),g&&g[we]?g.J(T,N,c(B)?!!B.capture:!1,J):Ae(g,T,N,!1,B,J)}function Ae(g,T,N,B,J,ie){if(!T)throw Error("Invalid event type");const ye=c(J)?!!J.capture:!!J;let Ye=Vt(g);if(Ye||(g[Ee]=Ye=new de(g)),N=Ye.add(T,N,B,ye,ie),N.proxy)return N;if(B=Be(),N.proxy=B,B.src=g,B.listener=N,g.addEventListener)F||(J=ye),J===void 0&&(J=!1),g.addEventListener(T.toString(),B,J);else if(g.attachEvent)g.attachEvent(Xe(T.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Be(){function g(N){return T.call(g.src,g.listener,N)}const T=tn;return g}function me(g,T,N,B,J){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)me(g,T[ie],N,B,J);else B=c(B)?!!B.capture:!!B,N=Li(N),g&&g[we]?(g=g.i,ie=String(T).toString(),ie in g.g&&(T=g.g[ie],N=Ie(T,N,B,J),N>-1&&($(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete g.g[ie],g.h--)))):g&&(g=Vt(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Ie(T,N,B,J)),(N=g>-1?T[g]:null)&&Kt(N))}function Kt(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[we])ge(T.i,g);else{var N=g.type,B=g.proxy;T.removeEventListener?T.removeEventListener(N,B,g.capture):T.detachEvent?T.detachEvent(Xe(N),B):T.addListener&&T.removeListener&&T.removeListener(B),(N=Vt(T))?(ge(N,g),N.h==0&&(N.src=null,T[Ee]=null)):$(g)}}}function Xe(g){return g in Ve?Ve[g]:Ve[g]="on"+g}function tn(g,T){if(g.da)g=!0;else{T=new _e(T,this);const N=g.listener,B=g.ha||g.src;g.fa&&Kt(g),g=N.call(B,T)}return g}function Vt(g){return g=g[Ee],g instanceof de?g:null}var Sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Li(g){return typeof g=="function"?g:(g[Sn]||(g[Sn]=function(T){return g.handleEvent(T)}),g[Sn])}function mt(){q.call(this),this.i=new de(this),this.M=this,this.G=null}p(mt,q),mt.prototype[we]=!0,mt.prototype.removeEventListener=function(g,T,N,B){me(this,g,T,N,B)};function nn(g,T){var N,B=g.G;if(B)for(N=[];B;B=B.G)N.push(B);if(g=g.M,B=T.type||T,typeof T=="string")T=new L(T,g);else if(T instanceof L)T.target=T.target||g;else{var J=T;T=new L(B,g),oe(T,J)}J=!0;let ie,ye;if(N)for(ye=N.length-1;ye>=0;ye--)ie=T.g=N[ye],J=fa(ie,B,!0,T)&&J;if(ie=T.g=g,J=fa(ie,B,!0,T)&&J,J=fa(ie,B,!1,T)&&J,N)for(ye=0;ye<N.length;ye++)ie=T.g=N[ye],J=fa(ie,B,!1,T)&&J}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const N=g.g[T];for(let B=0;B<N.length;B++)$(N[B]);delete g.g[T],g.h--}}this.G=null},mt.prototype.J=function(g,T,N,B){return this.i.add(String(g),T,!1,N,B)},mt.prototype.K=function(g,T,N,B){return this.i.add(String(g),T,!0,N,B)};function fa(g,T,N,B){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let ie=0;ie<T.length;++ie){const ye=T[ie];if(ye&&!ye.da&&ye.capture==N){const Ye=ye.listener,rn=ye.ha||ye.src;ye.fa&&ge(g.i,ye),J=Ye.call(rn,B)!==!1&&J}}return J&&!B.defaultPrevented}function Kn(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Vi(g){g.g=Kn(()=>{g.g=null,g.i&&(g.i=!1,Vi(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Yn extends q{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(g){q.call(this),this.h=g,this.g={}}p(Ja,q);var ha=[];function _l(g){se(g.g,function(T,N){this.g.hasOwnProperty(N)&&Kt(T)},g),g.g={}}Ja.prototype.N=function(){Ja.Z.N.call(this),_l(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=l.JSON.stringify,wl=l.JSON.parse,Ui=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function El(){}function Fi(){}var Fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){L.call(this,"d")}p(Tn,L);function br(){L.call(this,"c")}p(br,L);var Bt={},Yc=null;function ma(){return Yc=Yc||new mt}Bt.Ia="serverreachability";function qr(g){L.call(this,Bt.Ia,g)}p(qr,L);function mi(g){const T=ma();nn(T,new qr(T))}Bt.STAT_EVENT="statevent";function es(g,T){L.call(this,Bt.STAT_EVENT,g),this.stat=T}p(es,L);function Yt(g){const T=ma();nn(T,new es(T,g))}Bt.Ja="timingevent";function $r(g,T){L.call(this,Bt.Ja,g),this.size=T}p($r,L);function Fe(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function fn(g,T,N,B,J,ie){g.info(function(){if(g.g)if(ie){var ye="",Ye=ie.split("&");for(let dt=0;dt<Ye.length;dt++){var rn=Ye[dt].split("=");if(rn.length>1){const Ut=rn[0];rn=rn[1];const bi=Ut.split("_");ye=bi.length>=2&&bi[1]=="type"?ye+(Ut+"="+rn+"&"):ye+(Ut+"=redacted&")}}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+T+`
`+N+`
`+ye})}function jn(g,T,N,B,J,ie,ye){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+T+`
`+N+`
`+ie+" "+ye})}function xr(g,T,N,B){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+cr(g,N)+(B?" "+B:"")})}function Mt(g,T){g.info(function(){return"TIMEOUT: "+T})}pt.prototype.info=function(){};function cr(g,T){if(!g.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(g=0;g<ie.length;g++)if(Array.isArray(ie[g])){var N=ie[g];if(!(N.length<2)){var B=N[1];if(Array.isArray(B)&&!(B.length<1)){var J=B[0];if(J!="noop"&&J!="stop"&&J!="close")for(let ye=1;ye<B.length;ye++)B[ye]=""}}}}return Bi(ie)}catch{return T}}var pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xn;function pa(){}p(pa,El),pa.prototype.g=function(){return new XMLHttpRequest},Xn=new pa;function Qn(g){return encodeURIComponent(String(g))}function cf(g){var T=1;g=g.split(":");const N=[];for(;T>0&&g.length;)N.push(g.shift()),T--;return g.length&&N.push(g.join(":")),N}function qi(g,T,N,B){this.j=g,this.i=T,this.l=N,this.S=B||1,this.V=new Ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var hn={},zn={};function ga(g,T,N){g.M=1,g.A=Sl(pn(T)),g.u=N,g.R=!0,Wc(g,null)}function Wc(g,T){g.F=Date.now(),ya(g),g.B=pn(g.A);var N=g.B,B=g.S;Array.isArray(B)||(B=[String(B)]),Jc(N.i,"t",B),g.C=0,N=g.j.L,g.h=new $i,g.g=Sp(g.j,N?T:null,!g.u),g.P>0&&(g.O=new Yn(f(g.Y,g,g.g),g.P)),T=g.V,N=g.g,B=g.ba;var J="readystatechange";Array.isArray(J)||(J&&(ha[0]=J.toString()),J=ha);for(let ie=0;ie<J.length;ie++){const ye=Z(N,J[ie],B||T.handleEvent,!1,T.h||T);if(!ye)break;T.g[ye.key]=ye}T=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),mi(),fn(g.i,g.v,g.B,g.l,g.S,g.u)}qi.prototype.ba=function(g){g=g.target;const T=this.O;T&&Ki(g)==3?T.j():this.Y(g)},qi.prototype.Y=function(g){try{if(g==this.g)e:{const Ye=Ki(this.g),rn=this.g.ya(),dt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Zn(this.g)))){this.K||Ye!=4||rn==7||(rn==8||dt<=0?mi(3):mi(2)),va(this);var T=this.g.ca();this.X=T;var N=vb(this);if(this.o=T==200,jn(this.i,this.v,this.B,this.l,this.S,Ye,T),this.o){if(this.U&&!this.L){t:{if(this.g){var B,J=this.g;if((B=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var ie=B;break t}}ie=null}if(g=ie)xr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,g);else{this.o=!1,this.m=3,Yt(12),Hr(this),gi(this);break e}}if(this.R){g=!0;let Ut;for(;!this.K&&this.C<N.length;)if(Ut=dp(this,N),Ut==zn){Ye==4&&(this.m=4,Yt(14),g=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==hn){this.m=4,Yt(15),xr(this.i,this.l,N,"[Invalid Chunk]"),g=!1;break}else xr(this.i,this.l,Ut,null),ba(this,Ut);if(up(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||N.length!=0||this.h.h||(this.m=1,Yt(16),g=!1),this.o=this.o&&g,!g)xr(this.i,this.l,N,"[Invalid Chunked Response]"),Hr(this),gi(this);else if(N.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Sf(ye),ye.P=!0,Yt(11))}}else xr(this.i,this.l,N,null),ba(this,N);Ye==4&&Hr(this),this.o&&!this.K&&(Ye==4?xp(this.j,this):(this.o=!1,ya(this)))}else ns(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),Hr(this),gi(this)}}}catch{}};function vb(g){if(!up(g))return g.g.la();const T=Zn(g.g);if(T==="")return"";let N="";const B=T.length,J=Ki(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Hr(g),gi(g),"";g.h.i=new l.TextDecoder}for(let ie=0;ie<B;ie++)g.h.h=!0,N+=g.h.i.decode(T[ie],{stream:!(J&&ie==B-1)});return T.length=0,g.h.g+=N,g.C=0,g.h.g}function up(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function dp(g,T){var N=g.C,B=T.indexOf(`
`,N);return B==-1?zn:(N=Number(T.substring(N,B)),isNaN(N)?hn:(B+=1,B+N>T.length?zn:(T=T.slice(B,B+N),g.C=B+N,T)))}qi.prototype.cancel=function(){this.K=!0,Hr(this)};function ya(g){g.T=Date.now()+g.H,Xc(g,g.H)}function Xc(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Fe(f(g.aa,g),T)}function va(g){g.D&&(l.clearTimeout(g.D),g.D=null)}qi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(mi(),Yt(17)),Hr(this),this.m=2,gi(this)):Xc(this,this.T-g)};function gi(g){g.j.I==0||g.K||xp(g.j,g)}function Hr(g){va(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,_l(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function ba(g,T){try{var N=g.j;if(N.I!=0&&(N.g==g||_a(N.h,g))){if(!g.L&&_a(N.h,g)&&N.I==3){try{var B=N.Ba.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<g.F)iu(N),uo(N);else break e;Ol(N),Yt(18)}}else N.xa=J[1],0<N.xa-N.K&&J[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Fe(f(N.Va,N),6e3));xa(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ia(N,11)}else if((g.L||N.g==g)&&iu(N),!U(T))for(J=N.Ba.g.parse(T),T=0;T<J.length;T++){let dt=J[T];const Ut=dt[0];if(!(Ut<=N.K))if(N.K=Ut,dt=dt[1],N.I==2)if(dt[0]=="c"){N.M=dt[1],N.ba=dt[2];const bi=dt[3];bi!=null&&(N.ka=bi,N.j.info("VER="+N.ka));const ka=dt[4];ka!=null&&(N.za=ka,N.j.info("SVER="+N.za));const Yi=dt[5];Yi!=null&&typeof Yi=="number"&&Yi>0&&(B=1.5*Yi,N.O=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const Wi=g.g;if(Wi){const Pl=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var ie=B.h;ie.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ff(ie,ie.h),ie.h=null))}if(B.G){const au=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(B.wa=au,gt(B.J,B.G,au))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-g.F,N.j.info("Handshake RTT: "+N.T+"ms")),B=N;var ye=g;if(B.na=Ep(B,B.L?B.ba:null,B.W),ye.L){hf(B.h,ye);var Ye=ye,rn=B.O;rn&&(Ye.H=rn),Ye.D&&(va(Ye),ya(Ye)),B.g=ye}else vp(B);N.i.length>0&&Aa(N)}else dt[0]!="stop"&&dt[0]!="close"||Ia(N,7);else N.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Ia(N,7):wf(N):dt[0]!="noop"&&N.l&&N.l.qa(dt),N.A=0)}}mi(4)}catch{}}var mn=class{constructor(g,T){this.g=g,this.map=T}};function uf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function df(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function xa(g){return g.h?1:g.g?g.g.size:0}function _a(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function ff(g,T){g.g?g.g.add(T):g.h=T}function hf(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}uf.prototype.cancel=function(){if(this.i=mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function mf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const N of g.g.values())T=T.concat(N.G);return T}return x(g.i)}var fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(g,T){if(g){g=g.split("&");for(let N=0;N<g.length;N++){const B=g[N].indexOf("=");let J,ie=null;B>=0?(J=g[N].substring(0,B),ie=g[N].substring(B+1)):J=g[N],T(J,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Gr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Gr?(this.l=g.l,Ln(this,g.j),this.o=g.o,this.g=g.g,ro(this,g.u),this.h=g.h,pf(this,gp(g.i)),this.m=g.m):g&&(T=String(g).match(fp))?(this.l=!1,Ln(this,T[1]||"",!0),this.o=wa(T[2]||""),this.g=wa(T[3]||"",!0),ro(this,T[4]),this.h=wa(T[5]||"",!0),pf(this,T[6]||"",!0),this.m=wa(T[7]||"")):(this.l=!1,this.i=new ao(null,this.l))}Gr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Tl(T,Zc,!0),":");var N=this.g;return(N||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Tl(T,Zc,!0),"@"),g.push(Qn(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&g.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(Tl(N,N.charAt(0)=="/"?gf:hp,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",Tl(N,mp)),g.join("")},Gr.prototype.resolve=function(g){const T=pn(this);let N=!!g.j;N?Ln(T,g.j):N=!!g.o,N?T.o=g.o:N=!!g.g,N?T.g=g.g:N=g.u!=null;var B=g.h;if(N)ro(T,g.u);else if(N=!!g.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var J=T.h.lastIndexOf("/");J!=-1&&(B=T.h.slice(0,J+1)+B)}if(J=B,J==".."||J==".")B="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){B=J.lastIndexOf("/",0)==0,J=J.split("/");const ie=[];for(let ye=0;ye<J.length;){const Ye=J[ye++];Ye=="."?B&&ye==J.length&&ie.push(""):Ye==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),B&&ye==J.length&&ie.push("")):(ie.push(Ye),B=!0)}B=ie.join("/")}else B=J}return N?T.h=B:N=g.i.toString()!=="",N?pf(T,gp(g.i)):N=!!g.m,N&&(T.m=g.m),T};function pn(g){return new Gr(g)}function Ln(g,T,N){g.j=N?wa(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function ro(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function pf(g,T,N){T instanceof ao?(g.i=T,eu(g.i,g.l)):(N||(T=Tl(T,io)),g.i=new ao(T,g.l))}function gt(g,T,N){g.i.set(T,N)}function Sl(g){return gt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function wa(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Tl(g,T,N){return typeof g=="string"?(g=encodeURI(g).replace(T,Cr),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Cr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Zc=/[#\/\?@]/g,hp=/[#\?:]/g,gf=/[#\?]/g,io=/[#\?@]/g,mp=/#/g;function ao(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Nr(g){g.g||(g.g=new Map,g.h=0,g.i&&Qc(g.i,function(T,N){g.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=ao.prototype,t.add=function(g,T){Nr(this),this.i=null,g=so(this,g);let N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(T),this.h+=1,this};function pp(g,T){Nr(g),T=so(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function yf(g,T){return Nr(g),T=so(g,T),g.g.has(T)}t.forEach=function(g,T){Nr(this),this.g.forEach(function(N,B){N.forEach(function(J){g.call(T,J,B,this)},this)},this)};function vf(g,T){Nr(g);let N=[];if(typeof T=="string")yf(g,T)&&(N=N.concat(g.g.get(so(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)N=N.concat(g[T]);return N}t.set=function(g,T){return Nr(this),this.i=null,g=so(this,g),yf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=vf(this,g),g.length>0?String(g[0]):T):T};function Jc(g,T,N){pp(g,T),N.length>0&&(g.i=null,g.g.set(so(g,T),x(N)),g.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let B=0;B<T.length;B++){var N=T[B];const J=Qn(N);N=vf(this,N);for(let ie=0;ie<N.length;ie++){let ye=J;N[ie]!==""&&(ye+="="+Qn(N[ie])),g.push(ye)}}return this.i=g.join("&")};function gp(g){const T=new ao;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function so(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function eu(g,T){T&&!g.j&&(Nr(g),g.i=null,g.g.forEach(function(N,B){const J=B.toLowerCase();B!=J&&(pp(this,B),Jc(this,J,N))},g)),g.j=T}function Hi(g,T){const N=new pt;if(l.Image){const B=new Image;B.onload=m(yi,N,"TestLoadImage: loaded",!0,T,B),B.onerror=m(yi,N,"TestLoadImage: error",!1,T,B),B.onabort=m(yi,N,"TestLoadImage: abort",!1,T,B),B.ontimeout=m(yi,N,"TestLoadImage: timeout",!1,T,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else T(!1)}function bf(g,T){const N=new pt,B=new AbortController,J=setTimeout(()=>{B.abort(),yi(N,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:B.signal}).then(ie=>{clearTimeout(J),ie.ok?yi(N,"TestPingServer: ok",!0,T):yi(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),yi(N,"TestPingServer: error",!1,T)})}function yi(g,T,N,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(N)}catch{}}function oo(){this.g=new Ui}function Ea(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Ea,El),Ea.prototype.g=function(){return new Al(this.i,this.h)};function Al(g,T){mt.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Al,mt),t=Al.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Gi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function tu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?lo(this):Gi(this),this.readyState==3&&tu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,lo(this))},t.Na=function(g){this.g&&(this.response=g,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Gi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=T.next();return g.join(`\r
`)};function Gi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function vi(g){let T="";return se(g,function(N,B){T+=B,T+=":",T+=N,T+=`\r
`}),T}function Il(g,T,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=vi(N),typeof g=="string"?N!=null&&Qn(N):gt(g,T,N))}function Tt(g){mt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Tt,mt);var Sa=/^https?$/i,xf=["POST","PUT"];t=Tt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ie){kl(this,ie);return}if(g=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)N.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ie of B.keys())N.set(ie,B.get(ie));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(xf,T,void 0)>=0)||B||J||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of N)this.g.setRequestHeader(ie,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ie){kl(this,ie)}};function kl(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,_f(g),ts(g)}function _f(g){g.A||(g.A=!0,nn(g,"complete"),nn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,nn(this,"complete"),nn(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Cl(this):this.Xa())},t.Xa=function(){Cl(this)};function Cl(g){if(g.h&&typeof s<"u"){if(g.v&&Ki(g)==4)setTimeout(g.Ca.bind(g),0);else if(nn(g,"readystatechange"),Ki(g)==4){g.h=!1;try{const ie=g.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var B;if(B=ie===0){let ye=String(g.D).match(fp)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),B=!Sa.test(ye?ye.toLowerCase():"")}N=B}if(N)nn(g,"complete"),nn(g,"success");else{g.o=6;try{var J=Ki(g)>2?g.g.statusText:""}catch{J=""}g.l=J+" ["+g.ca()+"]",_f(g)}}finally{ts(g)}}}}function ts(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const N=g.g;g.g=null,T||nn(g,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ki(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),wl(T)}};function Zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(g){const T={};g=(g.g&&Ki(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(U(g[B]))continue;var N=cf(g[B]);const J=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=T[J]||[];T[J]=ie,ie.push(N)}ve(T,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(g,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||T}function co(g){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,g),this.Za=Ta("retryDelaySeedMs",1e4,g),this.Ta=Ta("forwardChannelMaxRetries",2,g),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new uf(g&&g.concurrentRequestLimit),this.Ba=new oo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=co.prototype,t.ka=8,t.I=1,t.connect=function(g,T,N,B){Yt(0),this.W=g,this.H=T||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.J=Ep(this,null,this.W),Aa(this)};function wf(g){if(nu(g),g.I==3){var T=g.V++,N=pn(g.J);if(gt(N,"SID",g.M),gt(N,"RID",T),gt(N,"TYPE","terminate"),Nl(g,N),T=new qi(g,g.j,T),T.M=2,T.A=Sl(pn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=T.A,N=!0),N||(T.g=Sp(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ya(T)}wp(g)}function uo(g){g.g&&(Sf(g),g.g.cancel(),g.g=null)}function nu(g){uo(g),g.v&&(l.clearTimeout(g.v),g.v=null),iu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Aa(g){if(!df(g.h)&&!g.m){g.m=!0;var T=g.Ea;P||O(),z||(P(),z=!0),R.add(T,g),g.D=0}}function ru(g,T){return xa(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Fe(f(g.Ea,g,T),_p(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const J=new qi(this,this.j,g);let ie=this.o;if(this.U&&(ie?(ie=H(ie),oe(ie,this.U)):ie=this.U),this.u!==null||this.R||(J.J=ie,ie=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=yp(this,J,T),N=pn(this.J),gt(N,"RID",g),gt(N,"CVER",22),this.G&&gt(N,"X-HTTP-Session-Id",this.G),Nl(this,N),ie&&(this.R?T="headers="+Qn(vi(ie))+"&"+T:this.u&&Il(N,this.u,ie)),ff(this.h,J),this.Ra&&gt(N,"TYPE","init"),this.S?(gt(N,"$req",T),gt(N,"SID","null"),J.U=!0,ga(J,N,null)):ga(J,N,T),this.I=2}}else this.I==3&&(g?Ef(this,g):this.i.length==0||df(this.h)||Ef(this))};function Ef(g,T){var N;T?N=T.l:N=g.V++;const B=pn(g.J);gt(B,"SID",g.M),gt(B,"RID",N),gt(B,"AID",g.K),Nl(g,B),g.u&&g.o&&Il(B,g.u,g.o),N=new qi(g,g.j,N,g.D+1),g.u===null&&(N.J=g.o),T&&(g.i=T.G.concat(g.i)),T=yp(g,N,1e3),N.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ff(g.h,N),ga(N,B,T)}function Nl(g,T){g.H&&se(g.H,function(N,B){gt(T,B,N)}),g.l&&se({},function(N,B){gt(T,B,N)})}function yp(g,T,N){N=Math.min(g.i.length,N);const B=g.l?f(g.l.Ka,g.l,g):null;e:{var J=g.i;let Ye=-1;for(;;){const rn=["count="+N];Ye==-1?N>0?(Ye=J[0].g,rn.push("ofs="+Ye)):Ye=0:rn.push("ofs="+Ye);let dt=!0;for(let Ut=0;Ut<N;Ut++){var ie=J[Ut].g;const bi=J[Ut].map;if(ie-=Ye,ie<0)Ye=Math.max(0,J[Ut].g-100),dt=!1;else try{ie="req"+ie+"_"||"";try{var ye=bi instanceof Map?bi:Object.entries(bi);for(const[ka,Yi]of ye){let Wi=Yi;c(Yi)&&(Wi=Bi(Yi)),rn.push(ie+ka+"="+encodeURIComponent(Wi))}}catch(ka){throw rn.push(ie+"type="+encodeURIComponent("_badmap")),ka}}catch{B&&B(bi)}}if(dt){ye=rn.join("&");break e}}ye=void 0}return g=g.i.splice(0,N),T.G=g,ye}function vp(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;P||O(),z||(P(),z=!0),R.add(T,g),g.A=0}}function Ol(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Fe(f(g.Da,g),_p(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,bp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Fe(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),uo(this),bp(this))};function Sf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function bp(g){g.g=new qi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=pn(g.na);gt(T,"RID","rpc"),gt(T,"SID",g.M),gt(T,"AID",g.K),gt(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&gt(T,"TO",g.ia),gt(T,"TYPE","xmlhttp"),Nl(g,T),g.u&&g.o&&Il(T,g.u,g.o),g.O&&(g.g.H=g.O);var N=g.g;g=g.ba,N.M=1,N.A=Sl(pn(T)),N.u=null,N.R=!0,Wc(N,g)}t.Va=function(){this.C!=null&&(this.C=null,uo(this),Ol(this),Yt(19))};function iu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function xp(g,T){var N=null;if(g.g==T){iu(g),Sf(g),g.g=null;var B=2}else if(_a(g.h,T))N=T.G,hf(g.h,T),B=1;else return;if(g.I!=0){if(T.o)if(B==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var J=g.D;B=ma(),nn(B,new $r(B,N)),Aa(g)}else vp(g);else if(J=T.m,J==3||J==0&&T.X>0||!(B==1&&ru(g,T)||B==2&&Ol(g)))switch(N&&N.length>0&&(T=g.h,T.i=T.i.concat(N)),J){case 1:Ia(g,5);break;case 4:Ia(g,10);break;case 3:Ia(g,6);break;default:Ia(g,2)}}}function _p(g,T){let N=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(N*=2),N*T}function Ia(g,T){if(g.j.info("Error code "+T),T==2){var N=f(g.bb,g),B=g.Ua;const J=!B;B=new Gr(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(B,"https"),Sl(B),J?Hi(B.toString(),N):bf(B.toString(),N)}else Yt(2);g.I=0,g.l&&g.l.pa(T),wp(g),nu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function wp(g){if(g.I=0,g.ja=[],g.l){const T=mf(g.h);(T.length!=0||g.i.length!=0)&&(w(g.ja,T),w(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function Ep(g,T,N){var B=N instanceof Gr?pn(N):new Gr(N);if(B.g!="")T&&(B.g=T+"."+B.g),ro(B,B.u);else{var J=l.location;B=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const ie=new Gr(null);B&&Ln(ie,B),T&&(ie.g=T),J&&ro(ie,J),N&&(ie.h=N),B=ie}return N=g.G,T=g.wa,N&&T&&gt(B,N,T),gt(B,"VER",g.ka),Nl(g,B),B}function Sp(g,T,N){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Tt(new Ea({ab:N})):new Tt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}t=Tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fo(){}fo.prototype.g=function(g,T){return new _r(g,T)};function _r(g,T){mt.call(this),this.g=new co(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!U(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new rs(this)}p(_r,mt),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){wf(this.g)},_r.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.v&&(N={},N.__data__=Bi(g),g=N);T.i.push(new mn(T.Ya++,g)),T.I==3&&Aa(T)},_r.prototype.N=function(){this.g.l=null,delete this.j,wf(this.g),delete this.g,_r.Z.N.call(this)};function Ap(g){Tn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const N in T){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(Ap,Tn);function Ip(){br.call(this),this.status=1}p(Ip,br);function rs(g){this.g=g}p(rs,Tp),rs.prototype.ra=function(){nn(this.g,"a")},rs.prototype.qa=function(g){nn(this.g,new Ap(g))},rs.prototype.pa=function(g){nn(this.g,new Ip)},rs.prototype.oa=function(){nn(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,s4=function(){return new fo},a4=function(){return ma()},i4=Bt,Nw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,h0=pi,Wn.COMPLETE="complete",r4=Wn,Fi.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Sh=Fi,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,n4=Tt}).apply(typeof Rg<"u"?Rg:typeof self<"u"?self:typeof window<"u"?window:{});const uN="@firebase/firestore",dN="4.9.3";let hr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let Gd="12.7.0";const Ac=new pS("@firebase/firestore");function Gu(){return Ac.logLevel}function pe(t,...e){if(Ac.logLevel<=it.DEBUG){const n=e.map(kS);Ac.debug(`Firestore (${Gd}): ${t}`,...n)}}function ln(t,...e){if(Ac.logLevel<=it.ERROR){const n=e.map(kS);Ac.error(`Firestore (${Gd}): ${t}`,...n)}}function Gh(t,...e){if(Ac.logLevel<=it.WARN){const n=e.map(kS);Ac.warn(`Firestore (${Gd}): ${t}`,...n)}}function kS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o4(t,r,n)}function o4(t,e,n){let r=`FIRESTORE (${Gd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ln(r),new Error(r)}function je(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||o4(e,i,r)}function Me(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class el{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class nG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class iG{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new el;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new el,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new el)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new nG(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class aG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ea(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Ow(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return k1(i)===k1(s)?Ge(i,s):k1(i)?1:-1}return Ge(t.length,e.length)}const cG=55296,uG=57343;function k1(t){const e=t.charCodeAt(0);return e>=cG&&e<=uG}function dd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function l4(t){return t+"\0"}const hN="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Da.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):Ow(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jo.fromString(e.substring(4,e.length-2))}}class ht extends Da{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const dG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Da{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return dG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hN}static keyField(){return new Wt([hN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function c4(t,e,n){if(!n)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fG(t,e,n,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mN(t){if(!Se.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pN(t){if(Se.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rv(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nm(t,e){if(!u4(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xe(ue.INVALID_ARGUMENT,n);return!0}const gN=-62135596800,yN=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yN);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gN)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yN}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nm(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:wn("string",_t._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new _t(0,0))}static max(){return new Le(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fd=-1;class L0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Pw(t){return t.fields.find((e=>e.kind===2))}function Ql(t){return t.fields.filter((e=>e.kind!==2))}L0.UNKNOWN_ID=-1;class m0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Kh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Kh(0,ui.min())}}function d4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new ui(i,Se.empty(),e)}function f4(t){return new ui(t.readTime,t.key,fd)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(Le.min(),Se.empty(),fd)}static max(){return new ui(Le.max(),Se.empty(),fd)}}function NS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==h4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ti="SimpleDb";class iv{static open(e,n,r,i){try{return new iv(n,e.transaction(i,r))}catch(s){throw new Rh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new el,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Rh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=OS(r.target.error);this.S.reject(new Rh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(ti,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new mG(n)}}class tl{static delete(e){return pe(ti,"Removing database:",e),rc(dz().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!vz())return!1;if(tl.F())return!0;const e=Cn(),n=tl.M(e),r=0<n&&n<10,i=p4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,tl.M(Cn())===12.2&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(ti,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Rh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new xe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new xe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Rh(e,l))},i.onupgradeneeded=s=>{pe(ti,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{pe(ti,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=iv.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(pe(ti,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function p4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class hG{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return rc(this.U.delete())}}class Rh extends xe{constructor(e,n){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ml(t){return t.name==="IndexedDbTransactionError"}class mG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pe(ti,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe(ti,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rc(r)}add(e){return pe(ti,"ADD",this.store.name,e,e),rc(this.store.add(e))}get(e){return rc(this.store.get(e)).next((n=>(n===void 0&&(n=null),pe(ti,"GET",this.store.name,e,n),n)))}delete(e){return pe(ti,"DELETE",this.store.name,e),rc(this.store.delete(e))}count(){return pe(ti,"COUNT",this.store.name),rc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){pe(ti,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=s=>{const l=OS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new hG(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const m=f.catch((p=>(d.done(),Q.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function rc(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=OS(r.target.error);n(i)}}))}let vN=!1;function OS(t){const e=tl.M(Cn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vN||(vN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Mh="IndexBackfiller";class pG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(Mh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pe(Mh,`Documents written: ${n}`)}catch(n){ml(n)?pe(Mh,"Ignoring IndexedDB error during index backfill: ",n):await hl(n)}await this.re(6e4)}))}}class gG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return pe(Mh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(pe(Mh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=f4(s);NS(l,r)>0&&(r=l)})),new ui(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class zr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zr.ce=-1;const mc=-1;function av(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function g4(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const V0="";function yr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bN(e)),e=yG(t.get(n),e);return bN(e)}function yG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case V0:n+="";break;default:n+=s}}return n}function bN(t){return t+V0+""}function Va(t){const e=t.length;if(je(e>=2,64408,{path:t}),e===2)return je(t.charAt(0)===V0&&t.charAt(1)==="",56145,{path:t}),ht.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(V0,s);switch((l<0||l>n)&&Ce(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Ce(61167,{path:t})}s=l+2}return new ht(r)}const Zl="remoteDocuments",Om="owner",Du="owner",Wh="mutationQueues",vG="userId",Ji="mutations",xN="batchId",lc="userMutationsIndex",_N=["userId","batchId"];function p0(t,e){return[t,yr(e)]}function y4(t,e,n){return[t,yr(e),n]}const bG={},hd="documentMutations",B0="remoteDocumentsV14",xG=["prefixPath","collectionGroup","readTime","documentId"],g0="documentKeyIndex",_G=["prefixPath","collectionGroup","documentId"],v4="collectionGroupIndex",wG=["collectionGroup","readTime","prefixPath","documentId"],Xh="remoteDocumentGlobal",Rw="remoteDocumentGlobalKey",md="targets",b4="queryTargetsIndex",EG=["canonicalId","targetId"],pd="targetDocuments",SG=["targetId","path"],PS="documentTargetsIndex",TG=["path","targetId"],U0="targetGlobalKey",pc="targetGlobal",Qh="collectionParents",AG=["collectionId","parent"],gd="clientMetadata",IG="clientId",sv="bundles",kG="bundleId",ov="namedQueries",CG="name",RS="indexConfiguration",NG="indexId",Mw="collectionGroupIndex",OG="collectionGroup",Dh="indexState",PG=["indexId","uid"],x4="sequenceNumberIndex",RG=["uid","sequenceNumber"],jh="indexEntries",MG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_4="documentKeyIndex",DG=["indexId","uid","orderedDocumentKey"],lv="documentOverlays",jG=["userId","collectionPath","documentId"],Dw="collectionPathOverlayIndex",zG=["userId","collectionPath","largestBatchId"],w4="collectionGroupOverlayIndex",LG=["userId","collectionGroup","largestBatchId"],MS="globals",VG="name",E4=[Wh,Ji,hd,Zl,md,Om,pc,pd,gd,Xh,Qh,sv,ov],BG=[...E4,lv],S4=[Wh,Ji,hd,B0,md,Om,pc,pd,gd,Xh,Qh,sv,ov,lv],T4=S4,DS=[...T4,RS,Dh,jh],UG=DS,A4=[...DS,MS],FG=A4;class jw extends m4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function On(t,e){const n=Me(t);return tl.O(n.le,e)}function wN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Rt{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mg(this.root,e,this.comparator,!0)}}class Mg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Et{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EN(this.data.getIterator())}getIteratorFrom(e){return new EN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class EN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ju(t){return t.hasNext()?t.getNext():void 0}class Lr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Lr([])}unionWith(e){let n=new Et(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class k4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new k4("Invalid base64 string: "+s):s}})(e);return new un(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const qG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=qG.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}const C4="server_timestamp",N4="__type__",O4="__previous_value__",P4="__local_write_time__";function jS(t){return(t?.mapValue?.fields||{})[N4]?.stringValue===C4}function cv(t){const e=t.mapValue.fields[O4];return jS(e)?cv(e):e}function Zh(t){const e=zs(t.mapValue.fields[P4].timestampValue);return new _t(e.seconds,e.nanos)}class $G{constructor(e,n,r,i,s,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const F0="(default)";class Ic{constructor(e,n){this.projectId=e,this.database=n||F0}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===F0}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}const zS="__type__",R4="__max__",Yo={mapValue:{fields:{__type__:{stringValue:R4}}}},LS="__vector__",yd="value",y0={nullValue:"NULL_VALUE"};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jS(t)?4:M4(t)?9007199254740991:uv(t)?10:11:Ce(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zh(t).isEqual(Zh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=zs(i.timestampValue),c=zs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=$t(i.doubleValue),c=$t(s.doubleValue);return l===c?Yh(l)===Yh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return dd(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(wN(l)!==wN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ya(l[d],c[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Jh(t,e){return(t.values||[]).find((n=>Ya(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=$t(s.integerValue||s.doubleValue),d=$t(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(Zh(t),Zh(e));case 5:return Ow(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Ls(s),d=Ls(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ge(c[f],d[f]);if(m!==0)return m}return Ge(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ge($t(s.latitude),$t(l.latitude));return c!==0?c:Ge($t(s.longitude),$t(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TN(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[yd]?.arrayValue,m=d[yd]?.arrayValue,p=Ge(f?.values?.length||0,m?.values?.length||0);return p!==0?p:TN(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Yo.mapValue&&l===Yo.mapValue)return 0;if(s===Yo.mapValue)return 1;if(l===Yo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const b=Ow(d[p],m[p]);if(b!==0)return b;const x=al(c[d[p]],f[m[p]]);if(x!==0)return x}return Ge(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function SN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=zs(t),r=zs(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function TN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=al(n[i],r[i]);if(s)return s}return Ge(n.length,r.length)}function vd(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ls(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${zw(n.fields[l])}`;return i+"}"})(t.mapValue):Ce(61005,{value:t})}function v0(t){switch(il(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cv(t);return e?16+v0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+v0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return pl(r.fields,((s,l)=>{i+=s.length+v0(l)})),i})(t.mapValue);default:throw Ce(13486,{value:t})}}function em(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lw(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function AN(t){return!!t&&"nullValue"in t}function IN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b0(t){return!!t&&"mapValue"in t}function uv(t){return(t?.mapValue?.fields||{})[zS]?.stringValue===LS}function zh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zh(t.arrayValue.values[n]);return e}return{...t}}function M4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===R4}const D4={mapValue:{fields:{[zS]:{stringValue:LS},[yd]:{arrayValue:{}}}}};function HG(t){return"nullValue"in t?y0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?em(Ic.empty(),Se.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?uv(t)?D4:{mapValue:{}}:Ce(35942,{value:t})}function GG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?em(Ic.empty(),Se.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?D4:"mapValue"in t?uv(t)?{mapValue:{}}:Yo:Ce(61959,{value:t})}function kN(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function CN(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!b0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=zh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());b0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];b0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new pr(zh(this.value))}}function j4(t){const e=[];return pl(t.fields,((n,r)=>{const i=new Wt([n]);if(b0(r)){const s=j4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Lr(e)}class en{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Le.min(),Le.min(),Le.min(),pr.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,Le.min(),Le.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Le.min(),Le.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bd{constructor(e,n){this.position=e,this.inclusive=n}}function NN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=al(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ON(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ya(t.position[n],e.position[n]))return!1;return!0}class q0{constructor(e,n="asc"){this.field=e,this.dir=n}}function KG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class z4{}class at extends z4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YG(e,n,r):n==="array-contains"?new QG(e,r):n==="in"?new q4(e,r):n==="not-in"?new ZG(e,r):n==="array-contains-any"?new JG(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WG(e,r):new XG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wt extends z4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wt(e,n)}matches(e){return xd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xd(t){return t.op==="and"}function Vw(t){return t.op==="or"}function VS(t){return L4(t)&&xd(t)}function L4(t){for(const e of t.filters)if(e instanceof wt)return!1;return!0}function Bw(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+vd(t.value);if(VS(t))return t.filters.map((e=>Bw(e))).join(",");{const e=t.filters.map((n=>Bw(n))).join(",");return`${t.op}(${e})`}}function V4(t,e){return t instanceof at?(function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Ya(r.value,i.value)})(t,e):t instanceof wt?(function(r,i){return i instanceof wt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&V4(l,i.filters[c])),!0):!1})(t,e):void Ce(19439)}function B4(t,e){const n=t.filters.concat(e);return wt.create(n,t.op)}function U4(t){return t instanceof at?(function(n){return`${n.field.canonicalString()} ${n.op} ${vd(n.value)}`})(t):t instanceof wt?(function(n){return n.op.toString()+" {"+n.getFilters().map(U4).join(" ,")+"}"})(t):"Filter"}class YG extends at{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class WG extends at{constructor(e,n){super(e,"in",n),this.keys=F4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XG extends at{constructor(e,n){super(e,"not-in",n),this.keys=F4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F4(t,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class QG extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&Jh(n.arrayValue,this.value)}}class q4 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jh(this.value.arrayValue,n)}}class ZG extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jh(this.value.arrayValue,n)}}class JG extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jh(this.value.arrayValue,r)))}}class eK{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function Uw(t,e=null,n=[],r=[],i=null,s=null,l=null){return new eK(t,e,n,r,i,s,l)}function kc(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Bw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vd(r))).join(",")),e.Te=n}return e.Te}function Pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ON(t.startAt,e.startAt)&&ON(t.endAt,e.endAt)}function $0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function H0(t,e){return t.filters.filter((n=>n instanceof at&&n.field.isEqual(e)))}function PN(t,e,n){let r=y0,i=!0;for(const s of H0(t,e)){let l=y0,c=!0;switch(s.op){case"<":case"<=":l=HG(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=y0}kN({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];kN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function RN(t,e,n){let r=Yo,i=!0;for(const s of H0(t,e)){let l=Yo,c=!0;switch(s.op){case">=":case">":l=GG(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Yo}CN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];CN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class Rm{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $4(t,e,n,r,i,s,l,c){return new Rm(t,e,n,r,i,s,l,c)}function dv(t){return new Rm(t)}function MN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H4(t){return t.collectionGroup!==null}function Lh(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Et(Wt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new q0(s,r))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new q0(Wt.keyField(),r))}return e.Ie}function oi(t){const e=Me(t);return e.Ee||(e.Ee=tK(e,Lh(t))),e.Ee}function tK(t,e){if(t.limitType==="F")return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new q0(i.field,s)}));const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fw(t,e){const n=t.filters.concat([e]);return new Rm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qw(t,e,n){return new Rm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fv(t,e){return Pm(oi(t),oi(e))&&t.limitType===e.limitType}function G4(t){return`${kc(oi(t))}|lt:${t.limitType}`}function Ku(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>U4(i))).join(", ")}]`),av(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>vd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>vd(i))).join(",")),`Target(${r})`})(oi(t))}; limitType=${t.limitType})`}function Mm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Lh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=NN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Lh(r),i)||r.endAt&&!(function(l,c,d){const f=NN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Lh(r),i))})(t,e)}function K4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y4(t){return(e,n)=>{let r=!1;for(const i of Lh(t)){const s=nK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nK(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?al(d,f):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return I4(this.inner)}size(){return this.innerSize}}const rK=new Rt(Se.comparator);function ii(){return rK}const W4=new Rt(Se.comparator);function Th(...t){let e=W4;for(const n of t)e=e.insert(n.key,n);return e}function X4(t){let e=W4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ba(){return Vh()}function Q4(){return Vh()}function Vh(){return new Ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const iK=new Rt(Se.comparator),aK=new Et(Se.comparator);function Je(...t){let e=aK;for(const n of t)e=e.add(n);return e}const sK=new Et(Ge);function BS(){return sK}function US(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function Z4(t){return{integerValue:""+t}}function oK(t,e){return g4(e)?Z4(e):US(t,e)}class hv{constructor(){this._=void 0}}function lK(t,e,n){return t instanceof nm?(function(i,s){const l={fields:{[N4]:{stringValue:C4},[P4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jS(s)&&(s=cv(s)),s&&(l.fields[O4]=s),{mapValue:l}})(n,e):t instanceof _d?e5(t,e):t instanceof wd?t5(t,e):(function(i,s){const l=J4(i,s),c=DN(l)+DN(i.Ae);return Lw(l)&&Lw(i.Ae)?Z4(c):US(i.serializer,c)})(t,e)}function cK(t,e,n){return t instanceof _d?e5(t,e):t instanceof wd?t5(t,e):n}function J4(t,e){return t instanceof rm?(function(r){return Lw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class nm extends hv{}class _d extends hv{constructor(e){super(),this.elements=e}}function e5(t,e){const n=n5(e);for(const r of t.elements)n.some((i=>Ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class wd extends hv{constructor(e){super(),this.elements=e}}function t5(t,e){let n=n5(e);for(const r of t.elements)n=n.filter((i=>!Ya(i,r)));return{arrayValue:{values:n}}}class rm extends hv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DN(t){return $t(t.integerValue||t.doubleValue)}function n5(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class uK{constructor(e,n){this.field=e,this.transform=n}}function dK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof _d&&i instanceof _d||r instanceof wd&&i instanceof wd?dd(r.elements,i.elements,Ya):r instanceof rm&&i instanceof rm?Ya(r.Ae,i.Ae):r instanceof nm&&i instanceof nm})(t.transform,e.transform)}class fK{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mv{}function r5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pv(t.key,gr.none()):new Kd(t.key,t.data,gr.none());{const n=t.data,r=pr.empty();let i=new Et(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ws(t.key,r,new Lr(i.toArray()),gr.none())}}function hK(t,e,n){t instanceof Kd?(function(i,s,l){const c=i.value.clone(),d=zN(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ws?(function(i,s,l){if(!x0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=zN(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(i5(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Bh(t,e,n,r){return t instanceof Kd?(function(s,l,c,d){if(!x0(s.precondition,l))return c;const f=s.value.clone(),m=LN(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ws?(function(s,l,c,d){if(!x0(s.precondition,l))return c;const f=LN(s.fieldTransforms,d,l),m=l.data;return m.setAll(i5(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return x0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function mK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=J4(r.transform,i||null);s!=null&&(n===null&&(n=pr.empty()),n.set(r.field,s))}return n||null}function jN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dd(r,i,((s,l)=>dK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends mv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends mv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function zN(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,cK(l,c,n[i]))}return r}function LN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,lK(s,l,e))}return r}class pv extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a5 extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=r5(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,((n,r)=>jN(n,r)))&&dd(this.baseMutations,e.baseMutations,((n,r)=>jN(n,r)))}}class qS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return iK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new qS(e,n,r,i)}}class $S{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pK{constructor(e,n){this.count=e,this.unchangedNames=n}}var xn,ot;function gK(t){switch(t){case ue.OK:return Ce(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function s5(t){if(t===void 0)return ln("GRPC error has no .code"),ue.UNKNOWN;switch(t){case xn.OK:return ue.OK;case xn.CANCELLED:return ue.CANCELLED;case xn.UNKNOWN:return ue.UNKNOWN;case xn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case xn.INTERNAL:return ue.INTERNAL;case xn.UNAVAILABLE:return ue.UNAVAILABLE;case xn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case xn.NOT_FOUND:return ue.NOT_FOUND;case xn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case xn.ABORTED:return ue.ABORTED;case xn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case xn.DATA_LOSS:return ue.DATA_LOSS;default:return Ce(39323,{code:t})}}(ot=xn||(xn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function yK(){return new TextEncoder}const vK=new Jo([4294967295,4294967295],0);function VN(t){const e=yK().encode(t),n=new t4;return n.update(e),new Uint8Array(n.digest())}function BN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jo([n,r],0),new Jo([i,s],0)]}class HS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jo.fromNumber(r)));return i.compare(vK)===1&&(i=new Jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VN(e),[r,i]=BN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new HS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=VN(e),[r,i]=BN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dm(Le.min(),i,new Rt(Ge),ii(),Je())}}class jm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jm(r,n,Je(),Je(),Je())}}class _0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class o5{constructor(e,n){this.targetId=e,this.Ce=n}}class l5{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UN{constructor(){this.ve=0,this.Fe=FN(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:s})}})),new jm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Dg(),this.He=Dg(),this.Ye=new Rt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if($0(s))if(r===0){const l=new Se(s.path);this.et(n,l,en.newNoDocument(l,Le.min()))}else je(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Ls(r).toUint8Array()}catch(d){if(d instanceof k4)return Gh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new HS(l,i,s)}catch(d){return Gh(d instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&$0(c.target)){const d=new Se(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,en.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Je();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Dm(e,n,this.Ye,this.je,r);return this.je=ii(),this.Je=Dg(),this.He=Dg(),this.Ye=new Rt(Ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dg(){return new Rt(Se.comparator)}function FN(){return new Rt(Se.comparator)}const xK={asc:"ASCENDING",desc:"DESCENDING"},_K={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wK={and:"AND",or:"OR"};class EK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $w(t,e){return t.useProto3Json||av(e)?e:{value:e}}function Ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SK(t,e){return Ed(t,e.toTimestamp())}function Tr(t){return je(!!t,49232),Le.fromTimestamp((function(n){const r=zs(n);return new _t(r.seconds,r.nanos)})(t))}function GS(t,e){return Hw(t,e).canonicalString()}function Hw(t,e){const n=(function(i){return new ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function u5(t){const e=ht.fromString(t);return je(b5(e),10190,{key:e.toString()}),e}function G0(t,e){return GS(t.databaseId,e.path)}function gc(t,e){const n=u5(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(h5(n))}function d5(t,e){return GS(t.databaseId,e)}function f5(t){const e=u5(t);return e.length===4?ht.emptyPath():h5(e)}function Gw(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h5(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qN(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function TK(t,e,n){const r=gc(t,e.name),i=Tr(e.updateTime),s=e.createTime?Tr(e.createTime):Le.min(),l=new pr({mapValue:{fields:e.fields}}),c=en.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function AK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ce(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(je(m===void 0||typeof m=="string",58123),un.fromBase64String(m||"")):(je(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),un.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?ue.UNKNOWN:s5(f.code);return new xe(m,f.message||"")})(l);n=new l5(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gc(t,r.document.name),s=Tr(r.document.updateTime),l=r.document.createTime?Tr(r.document.createTime):Le.min(),c=new pr({mapValue:{fields:r.document.fields}}),d=en.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new _0(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gc(t,r.document),s=r.readTime?Tr(r.readTime):Le.min(),l=en.newNoDocument(i,s),c=r.removedTargetIds||[];n=new _0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gc(t,r.document),s=r.removedTargetIds||[];n=new _0([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new pK(i,s),c=r.targetId;n=new o5(c,l)}}return n}function K0(t,e){let n;if(e instanceof Kd)n={update:qN(t,e.key,e.value)};else if(e instanceof pv)n={delete:G0(t,e.key)};else if(e instanceof Ws)n={update:qN(t,e.key,e.data),updateMask:PK(e.fieldMask)};else{if(!(e instanceof a5))return Ce(16599,{Vt:e.type});n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof nm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _d)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:SK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)})(t,e.precondition)),n}function Kw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?gr.updateTime(Tr(s.updateTime)):s.exists!==void 0?gr.exists(s.exists):gr.none()})(e.currentDocument):gr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)je(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new nm;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new _d(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new wd(m)}else"increment"in c?d=new rm(l,c.increment):Ce(16584,{proto:c});const f=Wt.fromServerFormat(c.fieldPath);return new uK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=gc(t,e.update.name),s=new pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Lr(f.map((m=>Wt.fromServerFormat(m))))})(e.updateMask);return new Ws(i,s,l,n,r)}return new Kd(i,s,n,r)}if(e.delete){const i=gc(t,e.delete);return new pv(i,n)}if(e.verify){const i=gc(t,e.verify);return new a5(i,n)}return Ce(1463,{proto:e})}function IK(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Tr(i.updateTime):Tr(s);return l.isEqual(Le.min())&&(l=Tr(s)),new fK(l,i.transformResults||[])})(n,e)))):[]}function m5(t,e){return{documents:[d5(t,e.path)]}}function p5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d5(t,i);const s=(function(f){if(f.length!==0)return v5(wt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(b){return{field:Yu(b.field),direction:CK(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=$w(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function g5(t){let e=f5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=y5(p);return b instanceof wt&&VS(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(w){return new q0(Wu(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,av(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(p){const b=!!p.before,x=p.values||[];return new bd(x,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const b=!p.before,x=p.values||[];return new bd(x,b)})(n.endAt)),$4(e,i,l,s,c,"F",d,f)}function kK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wu(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wu(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wu(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wu(n.unaryFilter.field);return at.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return at.create(Wu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wt.create(n.compositeFilter.filters.map((r=>y5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function CK(t){return xK[t]}function NK(t){return _K[t]}function OK(t){return wK[t]}function Yu(t){return{fieldPath:t.canonicalString()}}function Wu(t){return Wt.fromServerFormat(t.fieldPath)}function v5(t){return t instanceof at?(function(n){if(n.op==="=="){if(IN(n.value))return{unaryFilter:{field:Yu(n.field),op:"IS_NAN"}};if(AN(n.value))return{unaryFilter:{field:Yu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IN(n.value))return{unaryFilter:{field:Yu(n.field),op:"IS_NOT_NAN"}};if(AN(n.value))return{unaryFilter:{field:Yu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(n.field),op:NK(n.op),value:n.value}}})(t):t instanceof wt?(function(n){const r=n.getFilters().map((i=>v5(i)));return r.length===1?r[0]:{compositeFilter:{op:OK(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function PK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function b5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class As{constructor(e,n,r,i,s=Le.min(),l=Le.min(),c=un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x5{constructor(e){this.yt=e}}function RK(t,e){let n;if(e.document)n=TK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Se.fromSegments(e.noDocument.path),i=Nc(e.noDocument.readTime);n=en.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce(56709);{const r=Se.fromSegments(e.unknownDocument.path),i=Nc(e.unknownDocument.version);n=en.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new _t(i[0],i[1]);return Le.fromTimestamp(s)})(e.readTime)),n}function $N(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Y0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:G0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Ed(s,l.version.toTimestamp()),createTime:Ed(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cc(e.version)};else{if(!e.isUnknownDocument())return Ce(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Cc(e.version)}}return r}function Y0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Cc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nc(t){const e=new _t(t.seconds,t.nanoseconds);return Le.fromTimestamp(e)}function ic(t,e){const n=(e.baseMutations||[]).map((s=>Kw(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Kw(t.yt,s))),i=_t.fromMillis(e.localWriteTimeMs);return new FS(e.batchId,i,n,r)}function Ih(t){const e=Nc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Nc(t.lastLimboFreeSnapshotVersion):Le.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return je(l===1,1966,{count:l}),oi(dv(f5(s.documents[0])))})(t.query):(function(s){return oi(g5(s))})(t.query),new As(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,un.fromBase64String(t.resumeToken))}function _5(t,e){const n=Cc(e.snapshotVersion),r=Cc(e.lastLimboFreeSnapshotVersion);let i;i=$0(e.target)?m5(t.yt,e.target):p5(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function w5(t){const e=g5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qw(e,e.limit,"L"):e}function C1(t,e){return new $S(e.largestBatchId,Kw(t.yt,e.overlayMutation))}function HN(t,e){const n=e.path.lastSegment();return[t,yr(e.path.popLast()),n]}function GN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Cc(r.readTime),documentKey:yr(r.documentKey.path),largestBatchId:r.largestBatchId}}class MK{getBundleMetadata(e,n){return KN(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Nc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return KN(e).put((function(i){return{bundleId:i.id,createTime:Cc(Tr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return YN(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:w5(s.bundledQuery),readTime:Nc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return YN(e).put((function(i){return{name:i.name,readTime:Cc(Tr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function KN(t){return On(t,sv)}function YN(t){return On(t,ov)}class gv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new gv(e,r)}getOverlay(e,n){return uh(e).get(HN(this.userId,n)).next((r=>r?C1(this.serializer,r):null))}getOverlays(e,n){const r=Ba();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new $S(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(yr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(uh(e).Z(Dw,c))})),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ba(),s=yr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uh(e).J(Dw,l).next((c=>{for(const d of c){const f=C1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ba();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uh(e).ee({index:w4,range:c},((d,f,m)=>{const p=C1(this.serializer,f);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return uh(e).put((function(i,s,l){const[c,d,f]=HN(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:K0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function uh(t){return On(t,lv)}class DK{bt(e){return On(e,MS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?un.fromUint8Array(r):un.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class ac{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt($t(e.integerValue));else if("doubleValue"in e){const r=$t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Yh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=zs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ls(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?M4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):uv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=yd,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt($t(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Se.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ac.Kt=new ac;const zu=255;function jK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function WN(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=jK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class zK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=WN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=WN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(zu),this.sn(255)}_n(){this.an(zu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===zu?(this.sn(zu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===zu?(this.an(zu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class VK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class dh{constructor(){this.cn=new zK,this.ln=new LK(this.cn),this.hn=new VK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class sc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new sc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:w0(this.En),directionalValue:w0(this.dn),orderedDocumentKey:w0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function jo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=XN(t.En,e.En),n!==0?n:(n=XN(t.dn,e.dn),n!==0?n:Se.comparator(t.In,e.In)))}function XN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function w0(t){return yz()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function QN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class ZN{constructor(e){this.mn=new Et(((n,r)=>Wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(je(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Pw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ql(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Et(Wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new m0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new m0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new m0(r.field,r.dir==="asc"?0:1)));return new L0(L0.UNKNOWN_ID,this.collectionId,n,Kh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function E5(t){if(je(t instanceof at||t instanceof wt,20012),t instanceof at){if(t instanceof q4){const n=t.value.arrayValue?.values?.map((r=>at.create(t.field,"==",r)))||[];return wt.create(n,"or")}return t}const e=t.filters.map((n=>E5(n)));return wt.create(e,t.op)}function BK(t){if(t.getFilters().length===0)return[];const e=Xw(E5(t));return je(S5(e),7391),Yw(e)||Ww(e)?[e]:e.getFilters()}function Yw(t){return t instanceof at}function Ww(t){return t instanceof wt&&VS(t)}function S5(t){return Yw(t)||Ww(t)||(function(n){if(n instanceof wt&&Vw(n)){for(const r of n.getFilters())if(!Yw(r)&&!Ww(r))return!1;return!0}return!1})(t)}function Xw(t){if(je(t instanceof at||t instanceof wt,34018),t instanceof at)return t;if(t.filters.length===1)return Xw(t.filters[0]);const e=t.filters.map((r=>Xw(r)));let n=wt.create(e,t.op);return n=W0(n),S5(n)?n:(je(n instanceof wt,64498),je(xd(n),40251),je(n.filters.length>1,57927),n.filters.reduce(((r,i)=>KS(r,i))))}function KS(t,e){let n;return je(t instanceof at||t instanceof wt,38388),je(e instanceof at||e instanceof wt,25473),n=t instanceof at?e instanceof at?(function(i,s){return wt.create([i,s],"and")})(t,e):JN(t,e):e instanceof at?JN(e,t):(function(i,s){if(je(i.filters.length>0&&s.filters.length>0,48005),xd(i)&&xd(s))return B4(i,s.getFilters());const l=Vw(i)?i:s,c=Vw(i)?s:i,d=l.filters.map((f=>KS(f,c)));return wt.create(d,"or")})(t,e),W0(n)}function JN(t,e){if(xd(e))return B4(e,t.getFilters());{const n=e.filters.map((r=>KS(t,r)));return wt.create(n,"or")}}function W0(t){if(je(t instanceof at||t instanceof wt,11850),t instanceof at)return t;const e=t.getFilters();if(e.length===1)return W0(e[0]);if(L4(t))return t;const n=e.map((i=>W0(i))),r=[];return n.forEach((i=>{i instanceof at?r.push(i):i instanceof wt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:wt.create(r,t.op)}class UK{constructor(){this.Cn=new YS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ui.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class YS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(ht.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(ht.comparator)).toArray()}}const eO="IndexedDbIndexManager",jg=new Uint8Array(0);class FK{constructor(e,n){this.databaseId=n,this.vn=new YS,this.Fn=new Ys((r=>kc(r)),((r,i)=>Pm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:yr(i)};return tO(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[l4(n),""],!1,!0);return tO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Va(l.parent))}return r}))}addFieldIndex(e,n){const r=fh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Vu(e);return s.next((c=>{l.put(GN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=fh(e),i=Vu(e),s=Lu(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=fh(e),r=Lu(e),i=Vu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new ZN(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Lu(e);let i=!0;const s=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=Je();const c=[];return Q.forEach(s,((d,f)=>{pe(eO,`Using index ${(function(C){return`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map((j=>`${j.fieldPath}:${j.kind}`)).join(",")}`})(d)} to execute ${kc(n)}`);const m=(function(C,j){const P=Pw(j);if(P===void 0)return null;for(const z of H0(C,P.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(f,d),p=(function(C,j){const P=new Map;for(const z of Ql(j))for(const R of H0(C,z.fieldPath))switch(R.op){case"==":case"in":P.set(z.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return P.set(z.fieldPath.canonicalString(),R.value),Array.from(P.values())}return null})(f,d),b=(function(C,j){const P=[];let z=!0;for(const R of Ql(j)){const O=R.kind===0?PN(C,R.fieldPath,C.startAt):RN(C,R.fieldPath,C.startAt);P.push(O.value),z&&(z=O.inclusive)}return new bd(P,z)})(f,d),x=(function(C,j){const P=[];let z=!0;for(const R of Ql(j)){const O=R.kind===0?RN(C,R.fieldPath,C.endAt):PN(C,R.fieldPath,C.endAt);P.push(O.value),z&&(z=O.inclusive)}return new bd(P,z)})(f,d),w=this.On(d,f,b),E=this.On(d,f,x),S=this.Nn(d,f,p),k=this.Bn(d.indexId,m,w,b.inclusive,E,x.inclusive,S);return Q.forEach(k,(M=>r.Y(M,n.limit).next((C=>{C.forEach((j=>{const P=Se.fromSegments(j.documentKey);l.has(P)||(l=l.add(P),c.push(P))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=BK(wt.create(e.filters,"and")).map((r=>Uw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const b=n?this.Ln(n[p/f]):jg,x=this.kn(e,b,r[p%f],i),w=this.qn(e,b,s[p%f],l),E=c.map((S=>this.kn(e,b,S,!0)));m.push(...this.createRange(x,w,E))}return m}kn(e,n,r,i){const s=new sc(e,Se.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new sc(e,Se.empty(),n,r);return i?s.An():s}xn(e,n){const r=new ZN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new Et(Wt.comparator),m=!1;for(const p of d.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:f=f.add(b.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new dh;for(const i of Ql(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);ac.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new dh;return ac.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new dh;return ac.Kt.Dt(em(this.databaseId,n),r.Pn((function(s){const l=Ql(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new dh);let s=0;for(const l of Ql(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&tm(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);ac.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new dh;d.seed(c.un()),ac.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof at&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=fh(e),i=Vu(e);return(n?r.J(Mw,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return Q.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const b=p?new Kh(p.sequenceNumber,new ui(Nc(p.readTime),new Se(Va(p.documentKey)),p.largestBatchId)):Kh.empty(),x=m.fields.map((([w,E])=>new m0(Wt.fromServerFormat(w),E)));return new L0(m.indexId,m.collectionGroup,x,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ge(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=fh(e),s=Vu(e);return this.Gn(e).next((l=>i.J(Mw,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>s.put(GN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?Q.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,n,r,i){return Lu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Lu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Lu(e);let s=new Et(jo);return i.ee({index:_4,range:IDBKeyRange.only([r.indexId,this.uid,w0(this.$n(r,n))])},((l,c)=>{s=s.add(new sc(r.indexId,n,QN(c.arrayValue),QN(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Et(jo);const i=this.Qn(n,e);if(i==null)return r;const s=Pw(n);if(s!=null){const l=e.data.field(s.fieldPath);if(tm(l))for(const c of l.arrayValue.values||[])r=r.add(new sc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new sc(n.indexId,e.key,jg,i));return r}Jn(e,n,r,i,s){pe(eO,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,b){const x=d.getIterator(),w=f.getIterator();let E=ju(x),S=ju(w);for(;E||S;){let k=!1,M=!1;if(E&&S){const C=m(E,S);C<0?M=!0:C>0&&(k=!0)}else E!=null?M=!0:k=!0;k?(p(S),S=ju(w)):M?(b(E),E=ju(x)):(E=ju(x),S=ju(w))}})(i,s,jo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return Vu(e).ee({index:x4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>jo(l,c))).filter(((l,c,d)=>!c||jo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=jo(l,e),d=jo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,jg,Se.empty()),d=i[l+1].Vn(this.uid,jg,Se.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return jo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nO)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ce(44426))))).next(nO)}}function tO(t){return On(t,Qh)}function Lu(t){return On(t,jh)}function fh(t){return On(t,RS)}function Vu(t){return On(t,Dh)}function nO(t){je(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;NS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ui(e.readTime,e.documentKey,n)}const rO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T5=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function A5(t,e,n){const r=t.store(Ji),i=t.store(hd),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(d.next((()=>{je(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=y4(e,m.key.path,n.batchId);s.push(i.delete(p)),f.push(m.key)}return Q.waitFor(s).next((()=>f))}function X0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce(14731);e=t.noDocument}return JSON.stringify(e).length}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(T5,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class yv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){je(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new yv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).ee({index:lc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Xu(e),l=zo(e);return l.add({}).next((c=>{je(typeof c=="number",49019);const d=new FS(c,n,r,i),f=(function(x,w,E){const S=E.baseMutations.map((M=>K0(x.yt,M))),k=E.mutations.map((M=>K0(x.yt,M)));return{userId:w,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:k}})(this.serializer,this.userId,d),m=[];let p=new Et(((b,x)=>Ge(b.canonicalString(),x.canonicalString())));for(const b of i){const x=y4(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(f)),m.push(s.put(x,bG))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return zo(e).get(n).next((r=>r?(je(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ic(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return zo(e).ee({index:lc,range:i},((l,c,d)=>{c.userId===this.userId&&(je(c.batchId>=r,47524,{tr:r}),s=ic(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=mc;return zo(e).ee({index:lc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,mc],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).J(lc,n).next((r=>r.map((i=>ic(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=p0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Xu(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,b=Va(m);if(f===this.userId&&n.path.isEqual(b))return zo(e).get(p).next((x=>{if(!x)throw Ce(61480,{nr:l,batchId:p});je(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),s.push(ic(this.serializer,x))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ge);const i=[];return n.forEach((s=>{const l=p0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Xu(e).ee({range:c},((f,m,p)=>{const[b,x,w]=f,E=Va(x);b===this.userId&&s.path.isEqual(E)?r=r.add(w):p.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=p0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new Et(Ge);return Xu(e).ee({range:l},((d,f,m)=>{const[p,b,x]=d,w=Va(b);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(c=c.add(x)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(zo(e).get(s).next((l=>{if(l===null)throw Ce(35274,{batchId:s});je(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(ic(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return A5(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Xu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Va(s[1]);i.push(d)}else c.done()})).next((()=>{je(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return I5(e,this.userId,n)}_r(e){return k5(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:mc,lastStreamToken:""}))}}function I5(t,e,n){const r=p0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Xu(t).ee({range:s,X:!0},((c,d,f)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function zo(t){return On(t,Ji)}function Xu(t){return On(t,hd)}function k5(t){return On(t,Wh)}class Oc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oc(0)}static cr(){return new Oc(-1)}}class qK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Oc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Le.fromTimestamp(new _t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Bu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(je(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Bu(e).ee(((l,c)=>{const d=Ih(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Bu(e).ee(((r,i)=>{const s=Ih(i);n(s)}))}lr(e){return iO(e).get(U0).next((n=>(je(n!==null,2888),n)))}hr(e,n){return iO(e).put(U0,n)}Pr(e,n){return Bu(e).put(_5(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Bu(e).ee({range:i,index:b4},((l,c,d)=>{const f=Ih(c);Pm(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Go(e);return n.forEach((l=>{const c=yr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Go(e);return Q.forEach(n,(s=>{const l=yr(s.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Go(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Go(e);let s=Je();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Va(l[1]),m=new Se(f);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=yr(n.path),i=IDBKeyRange.bound([r],[l4(r)],!1,!0);let s=0;return Go(e).ee({index:PS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Bu(e).get(n).next((r=>r?Ih(r):null))}}function Bu(t){return On(t,md)}function iO(t){return On(t,pc)}function Go(t){return On(t,pd)}const aO="LruGarbageCollector",C5=1048576;function sO([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class $K{constructor(e){this.Ir=e,this.buffer=new Et(sO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(aO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?pe(aO,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class HK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(zr.ce);const r=new $K(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(rO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Gu()<=it.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function O5(t,e){return new HK(t,e)}class GK{constructor(e,n){this.db=e,this.garbageCollector=O5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return zg(e,r)}removeReference(e,n,r){return zg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zg(e,n)}br(e,n){return(function(i,s){let l=!1;return k5(i).te((c=>I5(i,c,s).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Le.min()),Go(e).delete((function(p){return[0,yr(p.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zg(e,n)}Sr(e,n){const r=Go(e);let i,s=zr.ce;return r.ee({index:PS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==zr.ce&&n(new Se(Va(i)),s),s=f,i=d):s=zr.ce})).next((()=>{s!==zr.ce&&n(new Se(Va(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zg(t,e){return Go(t).put((function(r,i){return{targetId:0,path:yr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class P5{constructor(){this.changes=new Ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yl(e).put(r)}removeEntry(e,n,r){return Yl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Y0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=en.newInvalidDocument(n);return Yl(e).ee({index:g0,range:IDBKeyRange.only(hh(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:en.newInvalidDocument(n)};return Yl(e).ee({index:g0,range:IDBKeyRange.only(hh(n))},((i,s)=>{r={document:this.Cr(n,s),size:X0(s)}})).next((()=>r))}getEntries(e,n){let r=ii();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ii(),i=new Rt(Se.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,X0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Et(cO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(hh(i.first()),hh(i.last())),l=i.getIterator();let c=l.getNext();return Yl(e).ee({index:g0,range:s},((d,f,m)=>{const p=Se.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&cO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(hh(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),Y0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=ii();for(const p of f){const b=this.Cr(Se.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(Mm(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=ii();const l=lO(n,r),c=lO(n,ui.max());return Yl(e).ee({index:v4,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(Se.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new YK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return oO(e).get(Rw).next((n=>(je(!!n,20021),n)))}Dr(e,n){return oO(e).put(Rw,n)}Cr(e,n){if(n){const r=RK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Le.min())))return r}return en.newInvalidDocument(e)}}function R5(t){return new KK(t)}class YK extends P5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ys((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Et(((s,l)=>Ge(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=$N(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=X0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=$N(this.Nr.serializer,l.convertToNoDocument(Le.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function oO(t){return On(t,Xh)}function Yl(t){return On(t,B0)}function hh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lO(t,e){const n=e.documentKey.path.toArray();return[t,Y0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ge(n[s],r[s]),i)return i;return i=Ge(n.length,r.length),i||(i=Ge(n[n.length-2],r[r.length-2]),i||Ge(n[n.length-1],r[r.length-1]))}class WK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class M5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Bh(r.mutation,i,Lr.empty(),_t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=Ba();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Th();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ii();const l=Vh(),c=(function(){return Vh()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ws)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Bh(m.mutation,f,m.mutation.getFieldMask(),_t.now())):l.set(f.key,Lr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new WK(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Vh();let i=new Rt(((l,c)=>l-c)),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Lr.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||Je()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=Q4();m.forEach((b=>{if(!s.has(b)){const x=r5(n.get(b),r.get(b));x!==null&&p.set(b,x),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Ba());let c=fd,d=s;return l.next((f=>Q.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,Je()))).next((m=>({batchId:c,changes:X4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let i=Th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Th();return this.indexManager.getCollectionParents(e,s).next((c=>Q.forEach(c,(d=>{const f=(function(p,b){return new Rm(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))}));let c=Th();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&Bh(m.mutation,f,Lr.empty(),_t.now()),Mm(n,f)&&(c=c.insert(d,f))})),c}))}}class XK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:w5(i.bundledQuery),readTime:Tr(i.readTime)}})(n)),Q.resolve()}}class QK{constructor(){this.overlays=new Rt(Se.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ba(),s=n.length+1,l=new Se(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Ba(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ba(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new $S(n,r));let s=this.qr.get(n);s===void 0&&(s=Je(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class ZK{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class WS{constructor(){this.Qr=new Et(Fn.$r),this.Ur=new Et(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Se(new ht([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ht([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=Je();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}class JK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Fn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new FS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Fn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?mc:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ge);return n.forEach((i=>{const s=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const l=new Fn(new Se(s),0);let c=new Et(Ge);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eY{constructor(e){this.ri=e,this.docs=(function(){return new Rt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ii();const l=n.path,c=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||NS(f4(m),r)<=0||(i.has(m.key)||Mm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tY(this)}getSize(e){return Q.resolve(this.size)}}class tY extends P5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class nY{constructor(e){this.persistence=e,this.si=new Ys((n=>kc(n)),Pm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new WS,this.targetCount=0,this.ai=Oc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(s).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class XS{constructor(e,n){this.ui={},this.overlays={},this.ci=new zr(0),this.li=!1,this.li=!0,this.hi=new ZK,this.referenceDelegate=e(this),this.Pi=new nY(this),this.indexManager=new UK,this.remoteDocumentCache=(function(i){return new eY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new x5(n),this.Ii=new XK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new rY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rY extends m4{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Ri=new WS,this.Vi=null}static mi(e){return new vv(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Se.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Q0{constructor(e,n){this.persistence=e,this.pi=new Ys((r=>yr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=O5(this,n)}static mi(e,n){return new Q0(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=v0(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iY{constructor(e){this.serializer=e}k(e,n,r,i){const s=new iv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Om)})(e),(function(d){d.createObjectStore(Wh,{keyPath:vG}),d.createObjectStore(Ji,{keyPath:xN,autoIncrement:!0}).createIndex(lc,_N,{unique:!0}),d.createObjectStore(hd)})(e),uO(e),(function(d){d.createObjectStore(Zl)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(pd),d.deleteObjectStore(md),d.deleteObjectStore(pc)})(e),uO(e)),l=l.next((()=>(function(d){const f=d.store(pc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return f.put(U0,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(Ji).J().next((p=>{d.deleteObjectStore(Ji),d.createObjectStore(Ji,{keyPath:xN,autoIncrement:!0}).createIndex(lc,_N,{unique:!0});const b=f.store(Ji),x=p.map((w=>b.put(w)));return Q.waitFor(x)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(gd,{keyPath:IG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Xh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(sv,{keyPath:kG})})(e),(function(d){d.createObjectStore(ov,{keyPath:CG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(lv,{keyPath:jG});f.createIndex(Dw,zG,{unique:!1}),f.createIndex(w4,LG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(B0,{keyPath:xG});f.createIndex(g0,_G),f.createIndex(v4,wG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Zl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(RS,{keyPath:NG,autoIncrement:!0}).createIndex(Mw,OG,{unique:!1}),d.createObjectStore(Dh,{keyPath:PG}).createIndex(x4,RG,{unique:!1}),d.createObjectStore(jh,{keyPath:MG}).createIndex(_4,DG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Dh).clear()})).next((()=>{n.objectStore(jh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(MS,{keyPath:VG})})(e)}))),r<18&&i>=18&&yz()&&(l=l.next((()=>{n.objectStore(Dh).clear()})).next((()=>{n.objectStore(jh).clear()}))),l}wi(e){let n=0;return e.store(Zl).ee(((r,i)=>{n+=X0(i)})).next((()=>{const r={byteSize:n};return e.store(Xh).put(Rw,r)}))}yi(e){const n=e.store(Wh),r=e.store(Ji);return n.J().next((i=>Q.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,mc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(lc,l).next((c=>Q.forEach(c,(d=>{je(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=ic(this.serializer,d);return A5(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(pd),r=e.store(Zl);return e.store(pc).get(U0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new ht(l),f=(function(p){return[0,yr(p)]})(d);s.push(n.get(f).next((m=>m?Q.resolve():(p=>n.put({targetId:0,path:yr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(s)))}))}bi(e,n){e.createObjectStore(Qh,{keyPath:AG});const r=n.store(Qh),i=new YS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:yr(d)})}};return n.store(Zl).ee({X:!0},((l,c)=>{const d=new ht(l);return s(d.popLast())})).next((()=>n.store(hd).ee({X:!0},(([l,c,d],f)=>{const m=Va(c);return s(m.popLast())}))))}Di(e){const n=e.store(md);return n.ee(((r,i)=>{const s=Ih(i),l=_5(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Zl),i=[];return r.ee(((s,l)=>{const c=n.store(B0),d=(function(p){return p.document?new Se(ht.fromString(p.document.name).popFirst(5)):p.noDocument?Se.fromSegments(p.noDocument.path):p.unknownDocument?Se.fromSegments(p.unknownDocument.path):Ce(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(Ji),i=R5(this.serializer),s=new XS(vv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??Je();ic(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const m=new hr(f),p=gv.wt(this.serializer,m),b=s.getIndexManager(m),x=yv.wt(m,this.serializer,b,s.referenceDelegate);return new M5(i,x,p,b).recalculateAndSaveOverlaysForDocumentKeys(new jw(n,zr.ce),d).next()}))}))}}function uO(t){t.createObjectStore(pd,{keyPath:SG}).createIndex(PS,TG,{unique:!0}),t.createObjectStore(md,{keyPath:"targetId"}).createIndex(b4,EG,{unique:!0}),t.createObjectStore(pc)}const Lo="IndexedDbPersistence",N1=18e5,O1=5e3,P1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aY="main";class QS{constructor(e,n,r,i,s,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!QS.v())throw new xe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GK(this,i),this.$i=n+aY,this.serializer=new x5(d),this.Ui=new tl(this.$i,this.Ni,new iY(this.serializer)),this.hi=new DK,this.Pi=new qK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R5(this.serializer),this.Ii=new MK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&ln(Lo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ue.FAILED_PRECONDITION,P1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new zr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ml(e))return pe(Lo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Lo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return mh(e).get(Du).next((n=>Q.resolve(this.es(n))))}ts(e){return Lg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,N1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=On(n,gd);return r.J().next((i=>{const s=this.ss(i,N1),l=i.filter((c=>s.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):mh(e).get(Du).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,O1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new xe(ue.FAILED_PRECONDITION,P1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lg(e).J().next((r=>this.ss(r,O1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pe(Lo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Om,gd],(e=>{const n=new jw(e,zr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Lg(e).J().next((n=>this.ss(n,N1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return yv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe(Lo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?FG:d===17?A4:d===16?UG:d===15?DS:d===14?T4:d===13?S4:d===12?BG:d===11?E4:void Ce(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new jw(c,this.ci?this.ci.next():zr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new xe(ue.FAILED_PRECONDITION,h4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return mh(e).get(Du).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,O1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new xe(ue.FAILED_PRECONDITION,P1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mh(e).put(Du,n)}static v(){return tl.v()}Zi(e){const n=mh(e);return n.get(Du).next((r=>this.es(r)?(pe(Lo,"Releasing primary lease."),n.delete(Du)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ln(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;gz()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return pe(Lo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ln(Lo,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ln("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mh(t){return On(t,Om)}function Lg(t){return On(t,gd)}function D5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ZS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ZS(e,n.fromCache,r,i)}}class sY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class j5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gz()?8:p4(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new sY;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gu()<=it.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Gu()<=it.DEBUG&&pe("QueryEngine","Query:",Ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gu()<=it.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):Q.resolve())}ys(e,n){if(MN(n))return Q.resolve(null);let r=oi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=qw(n,null,"F"),r=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Je(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,qw(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return MN(n)||i.isEqual(Le.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Q.resolve(null):(Gu()<=it.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ku(n)),this.vs(e,l,n,d4(i,fd)).next((c=>c)))}))}Ds(e,n){let r=new Et(Y4(e));return n.forEach(((i,s)=>{Mm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Gu()<=it.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ku(n)),this.ps.getDocumentsMatchingQuery(e,n,ui.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const JS="LocalStore",oY=3e8;class lY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Rt(Ge),this.xs=new Ys((s=>kc(s)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function z5(t,e,n,r){return new lY(t,e,n,r)}async function L5(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=Je();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function cY(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,b=p.keys();let x=Q.resolve();return b.forEach((w=>{x=x.next((()=>m.getEntry(d,w))).next((E=>{const S=f.docVersions.get(w);je(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function V5(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function uY(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let x=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(p,x),(function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=oY?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,x,m)&&c.push(n.Pi.updateTargetData(s,x))}));let d=ii(),f=Je();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(dY(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Le.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Q.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function dY(t,e,n){let r=Je(),i=Je();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ii();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):pe(JS,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function fY(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=mc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Z0(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new As(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Sd(t,e,n){const r=Me(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ml(l))throw l;pe(JS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Qw(t,e,n){const r=Me(t);let i=Le.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=Me(d),b=p.xs.get(m);return b!==void 0?Q.resolve(p.Ms.get(b)):p.Pi.getTargetData(f,m)})(r,l,oi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Le.min(),n?s:Je()))).next((c=>(F5(r,K4(e),c),{documents:c,Qs:s})))))}function B5(t,e){const n=Me(t),r=Me(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function U5(t,e){const n=Me(t),r=n.Os.get(e)||Le.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,d4(r,fd),Number.MAX_SAFE_INTEGER))).then((i=>(F5(n,e,i),i)))}function F5(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const q5="firestore_clients";function dO(t,e){return`${q5}_${t}_${e}`}const $5="firestore_mutations";function fO(t,e,n){let r=`${$5}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const H5="firestore_targets";function R1(t,e){return`${H5}_${t}_${e}`}const ja="SharedClientState";class J0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new xe(i.error.code,i.error.message))),l?new J0(e,n,i.state,s):(ln(ja,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new xe(r.error.code,r.error.message))),s?new Uh(e,r.state,i):(ln(ja,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=BS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=g4(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new ey(e,s):(ln(ja,`Failed to parse client data for instance '${e}': ${n}`),null)}}class eT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new eT(n.clientId,n.onlineState):(ln(ja,`Failed to parse online state: ${e}`),null)}}class Zw{constructor(){this.activeTargetIds=BS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Rt(Ge),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=dO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Zw),this.ro=new RegExp(`^${q5}_${l}_([^_]*)$`),this.io=new RegExp(`^${$5}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${H5}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(dO(this.persistenceKey,r));if(i){const s=ey.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(R1(this.persistenceKey,e));if(i){const s=Uh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(R1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pe(ja,"READ",e,n),n}setItem(e,n){pe(ja,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){pe(ja,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(pe(ja,"EVENT",n.key,n.newValue),n.key===this.eo)return void ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=zr.ce;if(s!=null)try{const c=JSON.parse(s);je(typeof c=="number",30636,{So:s}),l=c}catch(c){ln(ja,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==zr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new J0(this.currentUser,e,n,r),s=fO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=fO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=R1(this.persistenceKey,e),s=new Uh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return ey.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return J0.Ws(new hr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Uh.Ws(i,n)}uo(e){return eT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(ja,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=BS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class G5{constructor(){this.Mo=new Zw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hY{Oo(e){}shutdown(){}}const hO="ConnectivityMonitor";class mO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(hO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(hO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vg=null;function Jw(){return Vg===null?Vg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vg++,"0x"+Vg.toString(16)}const D1="RestConnection",mY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===F0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Jw(),c=this.zo(e,n.toUriEncodedString());pe(D1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),m=qd(f);return this.Jo(e,c,d,r,m).then((p=>(pe(D1,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Gh(D1,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=mY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class gY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dr="WebChannelConnection";class yY extends pY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Jw();return new Promise(((c,d)=>{const f=new n4;f.setWithCredentials(!0),f.listenOnce(r4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case h0.NO_ERROR:const p=f.getResponseJson();pe(dr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case h0.TIMEOUT:pe(dr,`RPC '${e}' ${l} timed out`),d(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const b=f.getStatus();if(pe(dr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x?.error;if(w&&w.status&&w.message){const E=(function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN})(w.status);d(new xe(E,w.message))}else d(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(dr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);pe(dr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Jw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s4(),c=a4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");pe(dr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let b=!1,x=!1;const w=new gY({Yo:S=>{x?pe(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(pe(dr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),pe(dr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,k,M)=>{S.listen(k,(C=>{try{M(C)}catch(j){setTimeout((()=>{throw j}),0)}}))};return E(p,Sh.EventType.OPEN,(()=>{x||(pe(dr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(p,Sh.EventType.CLOSE,(()=>{x||(x=!0,pe(dr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),E(p,Sh.EventType.ERROR,(S=>{x||(x=!0,Gh(dr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),E(p,Sh.EventType.MESSAGE,(S=>{if(!x){const k=S.data[0];je(!!k,16349);const M=k,C=M?.error||M[0]?.error;if(C){pe(dr,`RPC '${e}' stream ${i} received error:`,C);const j=C.status;let P=(function(O){const V=xn[O];if(V!==void 0)return s5(V)})(j),z=C.message;P===void 0&&(P=ue.INTERNAL,z="Unknown error status: "+j+" with message "+C.message),x=!0,w.a_(new xe(P,z)),p.close()}else pe(dr,`RPC '${e}' stream ${i} received:`,k),w.u_(k)}})),E(c,i4.STAT_EVENT,(S=>{S.stat===Nw.PROXY?pe(dr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Nw.NOPROXY&&pe(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function K5(){return typeof window<"u"?window:null}function E0(){return typeof document<"u"?document:null}function bv(t){return new EK(t,!0)}class Y5{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pO="PersistentStream";class W5{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(pO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(pO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vY extends W5{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Tr(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gw(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=$0(d)?{documents:m5(s,d)}:{query:p5(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=c5(s,l.resumeToken);const f=$w(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=Ed(s,l.snapshotVersion.toTimestamp());const f=$w(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=kK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gw(this.serializer),n.removeTarget=e,this.q_(n)}}class bY extends W5{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IK(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>K0(this.serializer,r)))};this.q_(n)}}class xY{}class _Y extends xY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Hw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(ue.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Hw(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ln(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pc="RemoteStore";class EY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Fc(this)&&(pe(Pc,"Restarting streams for network reachability change."),await(async function(d){const f=Me(d);f.Ea.add(4),await zm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await xv(f)})(this))}))})),this.Ra=new wY(r,i)}}async function xv(t){if(Fc(t))for(const e of t.da)await e(!0)}async function zm(t){for(const e of t.da)await e(!1)}function _v(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rT(n)?nT(n):Wd(n).O_()&&tT(n,e))}function Td(t,e){const n=Me(t),r=Wd(n);n.Ia.delete(e),r.O_()&&X5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fc(n)&&n.Ra.set("Unknown"))}function tT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wd(t).Y_(e)}function X5(t,e){t.Va.Ue(e),Wd(t).Z_(e)}function nT(t){t.Va=new bK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wd(t).start(),t.Ra.ua()}function rT(t){return Fc(t)&&!Wd(t).x_()&&t.Ia.size>0}function Fc(t){return Me(t).Ea.size===0}function Q5(t){t.Va=void 0}async function SY(t){t.Ra.set("Online")}async function TY(t){t.Ia.forEach(((e,n)=>{tT(t,e)}))}async function AY(t,e){Q5(t),rT(t)?(t.Ra.ha(e),nT(t)):t.Ra.set("Unknown")}async function IY(t,e,n){if(t.Ra.set("Online"),e instanceof l5&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){pe(Pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ty(t,r)}else if(e instanceof _0?t.Va.Ze(e):e instanceof o5?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await V5(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(un.EMPTY_BYTE_STRING,m.snapshotVersion)),X5(s,d);const p=new As(m.target,d,f,m.sequenceNumber);tT(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){pe(Pc,"Failed to raise snapshot:",r),await ty(t,r)}}async function ty(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await zm(t),t.Ra.set("Offline"),n||(n=()=>V5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Pc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xv(t)}))}function Z5(t,e){return e().catch((n=>ty(t,n,e)))}async function Yd(t){const e=Me(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mc;for(;kY(e);)try{const i=await fY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,CY(e,i)}catch(i){await ty(e,i)}J5(e)&&e3(e)}function kY(t){return Fc(t)&&t.Ta.length<10}function CY(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function J5(t){return Fc(t)&&!sl(t).x_()&&t.Ta.length>0}function e3(t){sl(t).start()}async function NY(t){sl(t).ra()}async function OY(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function PY(t,e,n){const r=t.Ta.shift(),i=qS.from(r,e,n);await Z5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Yd(t)}async function RY(t,e){e&&sl(t).X_&&await(async function(r,i){if((function(l){return gK(l)&&l!==ue.ABORTED})(i.code)){const s=r.Ta.shift();sl(r).B_(),await Z5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Yd(r)}})(t,e),J5(t)&&e3(t)}async function gO(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),pe(Pc,"RemoteStore received new credentials");const r=Fc(n);n.Ea.add(3),await zm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xv(n)}async function eE(t,e){const n=Me(t);e?(n.Ea.delete(2),await xv(n)):e||(n.Ea.add(2),await zm(n),n.Ra.set("Unknown"))}function Wd(t){return t.ma||(t.ma=(function(n,r,i){const s=Me(n);return s.sa(),new vY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:SY.bind(null,t),t_:TY.bind(null,t),r_:AY.bind(null,t),H_:IY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rT(t)?nT(t):t.Ra.set("Unknown")):(await t.ma.stop(),Q5(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const s=Me(n);return s.sa(),new bY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NY.bind(null,t),r_:RY.bind(null,t),ta:OY.bind(null,t),na:PY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Pc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class iT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new iT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aT(t,e){if(ln("AsyncQueue",`${e}: ${t}`),ml(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class rd{static emptySet(e){return new rd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Th(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class yO{constructor(){this.ga=new Rt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ad{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ad(e,n,rd.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class MY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DY{constructor(){this.queries=vO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Me(n),s=i.queries;i.queries=vO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function vO(){return new Ys((t=>G4(t)),fv)}async function jY(t,e){const n=Me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new MY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=aT(l,`Initialization of query '${Ku(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&sT(n)}async function zY(t,e){const n=Me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LY(t,e){const n=Me(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&sT(n)}function VY(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function sT(t){t.Ca.forEach((e=>{e.next()}))}var tE,bO;(bO=tE||(tE={})).Ma="default",bO.Cache="cache";class BY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tE.Cache}}class t3{constructor(e){this.key=e}}class n3{constructor(e){this.key=e}}class UY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=Y4(e),this.tu=new rd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),x=Mm(this.query,p)?p:null,w=!!b&&this.mutatedKeys.has(b.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;b&&x?b.data.isEqual(x.data)?w!==E&&(r.track({type:3,doc:x}),S=!0):this.su(b,x)||(r.track({type:2,doc:x}),S=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!b&&x?(r.track({type:0,doc:x}),S=!0):b&&!x&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(c=!0)),S&&(x?(l=l.add(x),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(x,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:S})}};return E(x)-E(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Ad(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new n3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new t3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ad.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class FY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qY{constructor(e){this.key=e,this.hu=!1}}class $Y{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ys((c=>G4(c)),fv),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(Se.comparator),this.Au=new Map,this.Ru=new WS,this.Vu={},this.mu=new Map,this.fu=Oc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HY(t,e,n=!0){const r=wv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await r3(r,e,n,!0),i}async function GY(t,e){const n=wv(t);await r3(n,e,!0,!1)}async function r3(t,e,n,r){const i=await Z0(t.localStore,oi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await oT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&_v(t.remoteStore,i),c}async function oT(t,e,n,r,i){t.pu=(p,b,x)=>(async function(E,S,k,M){let C=S.view.ru(k);C.Cs&&(C=await Qw(E.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,C))));const j=M&&M.targetChanges.get(S.targetId),P=M&&M.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(C,E.isPrimaryClient,j,P);return nE(E,S.targetId,z.au),z.snapshot})(t,p,b,x);const s=await Qw(t.localStore,e,!0),l=new UY(e,s.Qs),c=l.ru(s.documents),d=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);nE(t,n,f.au);const m=new FY(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function KY(t,e,n){const r=Me(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!fv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Td(r.remoteStore,i.targetId),Id(r,i.targetId)})).catch(hl)):(Id(r,i.targetId),await Sd(r.localStore,i.targetId,!0))}async function YY(t,e){const n=Me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Td(n.remoteStore,r.targetId))}async function WY(t,e,n){const r=dT(t);try{const i=await(function(l,c){const d=Me(l),f=_t.now(),m=c.reduce(((x,w)=>x.add(w.key)),Je());let p,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=ii(),E=Je();return d.Ns.getEntries(x,m).next((S=>{w=S,w.forEach(((k,M)=>{M.isValidDocument()||(E=E.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,w))).next((S=>{p=S;const k=[];for(const M of c){const C=mK(M,p.get(M.key).overlayedDocument);C!=null&&k.push(new Ws(M.key,C,j4(C.value.mapValue),gr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,k,c)})).next((S=>{b=S;const k=S.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(x,S.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:X4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Rt(Ge)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await gl(r,i.changes),await Yd(r.remoteStore)}catch(i){const s=aT(i,"Failed to persist write");n.reject(s)}}async function i3(t,e){const n=Me(t);try{const r=await uY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?je(l.hu,14607):i.removedDocuments.size>0&&(je(l.hu,42227),l.hu=!1))})),await gl(n,r,e)}catch(r){await hl(r)}}function xO(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Me(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(c)&&(f=!0)})),f&&sT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XY(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Rt(Se.comparator);l=l.insert(s,en.newNoDocument(s,Le.min()));const c=Je().add(s),d=new Dm(Le.min(),new Map,new Rt(Ge),l,c);await i3(r,d),r.du=r.du.remove(s),r.Au.delete(e),uT(r)}else await Sd(r.localStore,e,!1).then((()=>Id(r,e,n))).catch(hl)}async function QY(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await cY(n.localStore,e);cT(n,r,null),lT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gl(n,i)}catch(i){await hl(i)}}async function ZY(t,e,n){const r=Me(t);try{const i=await(function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(je(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);cT(r,e,n),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gl(r,i)}catch(i){await hl(i)}}function lT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cT(t,e,n){const r=Me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Id(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||a3(t,r)}))}function a3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Td(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uT(t))}function nE(t,e,n){for(const r of n)r instanceof t3?(t.Ru.addReference(r.key,e),JY(t,r)):r instanceof n3?(pe(Xd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||a3(t,r.key)):Ce(19791,{wu:r})}function JY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(Xd,"New document in limbo: "+n),t.Eu.add(r),uT(t))}function uT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(ht.fromString(e)),r=t.fu.next();t.Au.set(r,new qY(n)),t.du=t.du.insert(n,r),_v(t.remoteStore,new As(oi(dv(n.path)),r,"TargetPurposeLimboResolution",zr.ce))}}async function gl(t,e,n){const r=Me(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=ZS.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(f,(b=>Q.forEach(b.Es,(x=>m.persistence.referenceDelegate.addReference(p,b.targetId,x))).next((()=>Q.forEach(b.ds,(x=>m.persistence.referenceDelegate.removeReference(p,b.targetId,x)))))))))}catch(p){if(!ml(p))throw p;pe(JS,"Failed to update sequence numbers: "+p)}for(const p of f){const b=p.targetId;if(!p.fromCache){const x=m.Ms.get(b),w=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function eW(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){pe(Xd,"User change. New user:",e.toKey());const r=await L5(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new xe(ue.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gl(n,r.Ls)}}function tW(t,e){const n=Me(t),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let i=Je();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function nW(t,e){const n=Me(t),r=await Qw(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&nE(n,e.targetId,i.au),i}async function rW(t,e){const n=Me(t);return U5(n.localStore,e).then((r=>gl(n,r)))}async function iW(t,e,n,r){const i=Me(t),s=await(function(c,d){const f=Me(c),m=Me(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,d).next((b=>b?f.localDocuments.getDocuments(p,b):Q.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Yd(i.remoteStore):n==="acknowledged"||n==="rejected"?(cT(i,e,r||null),lT(i,e),(function(c,d){Me(Me(c).mutationQueue).ir(d)})(i.localStore,e)):Ce(6720,"Unknown batchState",{Su:n}),await gl(i,s)):pe(Xd,"Cannot apply mutation batch with id: "+e)}async function aW(t,e){const n=Me(t);if(wv(n),dT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await _O(n,r.toArray());n.gu=!0,await eE(n.remoteStore,!0);for(const s of i)_v(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Id(n,l),Sd(n.localStore,l,!0)))),Td(n.remoteStore,l)})),await i,await _O(n,r),(function(l){const c=Me(l);c.Au.forEach(((d,f)=>{Td(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Rt(Se.comparator)})(n),n.gu=!1,await eE(n.remoteStore,!1)}}async function _O(t,e,n){const r=Me(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await Z0(r.localStore,oi(d[0]));for(const f of d){const m=r.Tu.get(f),p=await nW(r,m);p.snapshot&&s.push(p.snapshot)}}else{const f=await B5(r.localStore,l);c=await Z0(r.localStore,f),await oT(r,s3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function s3(t){return $4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sW(t){return(function(n){return Me(Me(n).persistence).Ts()})(Me(t).localStore)}async function oW(t,e,n,r){const i=Me(t);if(i.gu)return void pe(Xd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await U5(i.localStore,K4(s[0])),c=Dm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",un.EMPTY_BYTE_STRING);await gl(i,l,c);break}case"rejected":await Sd(i.localStore,e,!0),Id(i,e,r);break;default:Ce(64155,n)}}async function lW(t,e,n){const r=wv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(Xd,"Adding an already active target "+i);continue}const s=await B5(r.localStore,i),l=await Z0(r.localStore,s);await oT(r,s3(s),l.targetId,!1,l.resumeToken),_v(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await Sd(r.localStore,i,!1).then((()=>{Td(r.remoteStore,i),Id(r,i)})).catch(hl)}}function wv(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XY.bind(null,e),e.Pu.H_=LY.bind(null,e.eventManager),e.Pu.yu=VY.bind(null,e.eventManager),e}function dT(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZY.bind(null,e),e}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z5(this.persistence,new j5,e.initialUser,this.serializer)}Cu(e){return new XS(vv.mi,this.serializer)}Du(e){return new G5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class cW extends im{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Q0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new N5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new XS((r=>Q0.mi(r,n)),this.serializer)}}class o3 extends im{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await dT(this.xu.syncEngine),await Yd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return z5(this.persistence,new j5,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new N5(r,e.asyncQueue,n)}Mu(e,n){const r=new gG(n,this.persistence);return new pG(e.asyncQueue,r)}Cu(e){const n=D5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new QS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,K5(),E0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new G5}}class uW extends o3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof M1&&(this.sharedClientState.syncEngine={Co:iW.bind(null,n),vo:oW.bind(null,n),Fo:lW.bind(null,n),Ts:sW.bind(null,n),Do:rW.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await aW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=K5();if(!M1.v(n))throw new xe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=D5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new M1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eW.bind(null,this.syncEngine),await eE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DY})()}createDatastore(e){const n=bv(e.databaseInfo.databaseId),r=(function(s){return new yY(s)})(e.databaseInfo);return(function(s,l,c,d){return new _Y(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new EY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>xO(this.syncEngine,n,0)),(function(){return mO.v()?new mO:new hY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,m){const p=new $Y(i,s,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Me(n);pe(Pc,"RemoteStore shutting down."),r.Ea.add(5),await zm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class dW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ol="FirestoreClient";class fW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=CS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{pe(ol,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(ol,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function j1(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await L5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function wO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hW(t);pe(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>gO(e.remoteStore,i))),t._onlineComponents=e}async function hW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ol,"Using user provided OfflineComponentProvider");try{await j1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Gh("Error using user provided cache. Falling back to memory cache: "+n),await j1(t,new im)}}else pe(ol,"Using default OfflineComponentProvider"),await j1(t,new cW(void 0));return t._offlineComponents}async function l3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ol,"Using user provided OnlineComponentProvider"),await wO(t,t._uninitializedComponentsProvider._online)):(pe(ol,"Using default OnlineComponentProvider"),await wO(t,new am))),t._onlineComponents}function mW(t){return l3(t).then((e=>e.syncEngine))}async function EO(t){const e=await l3(t),n=e.eventManager;return n.onListen=HY.bind(null,e.syncEngine),n.onUnlisten=KY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YY.bind(null,e.syncEngine),n}function c3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const SO=new Map;const pW="firestore.googleapis.com",TO=!0;class AO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pW,this.ssl=TO}else this.host=e.host,this.ssl=e.ssl??TO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C5)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rG;switch(r.type){case"firstParty":return new sG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=SO.get(n);r&&(pe("ComponentProvider","Removing Datastore"),SO.delete(n),r.terminate())})(this),Promise.resolve()}}class Qd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qd(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nm(n,cn._jsonSchema))return new cn(e,r||null,new Se(ht.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:wn("string",cn._jsonSchemaVersion),referencePath:wn("string")};class nl extends Qd{constructor(e,n,r){super(e,n,dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Se(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function IO(t,e,...n){if(t=Nn(t),c4("collection","path",e),t instanceof fT){const r=ht.fromString(e,...n);return pN(r),new nl(t,null,r)}{if(!(t instanceof cn||t instanceof nl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return pN(r),new nl(t.firestore,null,r)}}function id(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=CS.newId()),c4("doc","path",e),t instanceof fT){const r=ht.fromString(e,...n);return mN(r),new cn(t,null,new Se(r))}{if(!(t instanceof cn||t instanceof nl))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return mN(r),new cn(t.firestore,t instanceof nl?t.converter:null,new Se(r))}}const kO="AsyncQueue";class CO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y5(this,"async_queue_retry"),this._c=()=>{const r=E0();r&&pe(kO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=E0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=E0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new el;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;pe(kO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ln("INTERNAL UNHANDLED ERROR: ",NO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=iT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:NO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function OO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Rc extends fT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CO(e),this._firestoreClient=void 0,await e}}}function gW(t,e,n){n||(n=F0);const r=yS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Ec(s,e))return i;throw new xe(ue.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new xe(ue.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C5)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&qd(e.host)&&mz(e.host),r.initialize({options:e,instanceIdentifier:n})}function u3(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yW(t),t._firestoreClient}function yW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new $G(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(un.fromBase64String(e))}catch(n){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nm(e,Oi._jsonSchema))return Oi.fromBase64String(e.bytes)}}Oi._jsonSchemaVersion="firestore/bytes/1.0",Oi._jsonSchema={type:wn("string",Oi._jsonSchemaVersion),bytes:wn("string")};class Ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hT{constructor(e){this._methodName=e}}class qa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qa._jsonSchemaVersion}}static fromJSON(e){if(Nm(e,qa._jsonSchema))return new qa(e.latitude,e.longitude)}}qa._jsonSchemaVersion="firestore/geoPoint/1.0",qa._jsonSchema={type:wn("string",qa._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class $a{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nm(e,$a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $a(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$a._jsonSchemaVersion="firestore/vectorValue/1.0",$a._jsonSchema={type:wn("string",$a._jsonSchemaVersion),vectorValues:wn("object")};const vW=/^__.*__$/;class bW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}class d3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function f3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class mT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ny(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(f3(this.Ac)&&vW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bv(e)}Cc(e,n,r,i=!1){return new mT({Ac:e,methodName:n,Dc:r,path:Wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(t){const e=t._freezeSettings(),n=bv(t._databaseId);return new xW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h3(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);pT("Data must be an object, but it was:",l,r);const c=m3(r,l);let d,f;if(s.merge)d=new Lr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=rE(e,p,n);if(!l.contains(b))throw new xe(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);g3(m,b)||m.push(b)}d=new Lr(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new bW(new pr(c),d,f)}class Tv extends hT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tv}}function _W(t,e,n,r){const i=t.Cc(1,e,n);pT("Data must be an object, but it was:",i,r);const s=[],l=pr.empty();pl(r,((d,f)=>{const m=gT(e,d,n);f=Nn(f);const p=i.yc(m);if(f instanceof Tv)s.push(m);else{const b=Lm(f,p);b!=null&&(s.push(m),l.set(m,b))}}));const c=new Lr(s);return new d3(l,c,i.fieldTransforms)}function wW(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[rE(e,r,n)],d=[i];if(s.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(rE(e,s[b])),d.push(s[b+1]);const f=[],m=pr.empty();for(let b=c.length-1;b>=0;--b)if(!g3(f,c[b])){const x=c[b];let w=d[b];w=Nn(w);const E=l.yc(x);if(w instanceof Tv)f.push(x);else{const S=Lm(w,E);S!=null&&(f.push(x),m.set(x,S))}}const p=new Lr(f);return new d3(m,p,l.fieldTransforms)}function EW(t,e,n,r=!1){return Lm(n,t.Cc(r?4:3,e))}function Lm(t,e){if(p3(t=Nn(t)))return pT("Unsupported field value:",e,t),m3(t,e);if(t instanceof hT)return(function(r,i){if(!f3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=Lm(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:Ed(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ed(i.serializer,s)}}if(r instanceof qa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:c5(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:GS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return(function(l,c){return{mapValue:{fields:{[zS]:{stringValue:LS},[yd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return US(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${rv(r)}`)})(t,e)}function m3(t,e){const n={};return I4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(t,((r,i)=>{const s=Lm(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function p3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof qa||t instanceof Oi||t instanceof cn||t instanceof hT||t instanceof $a)}function pT(t,e,n){if(!p3(n)||!u4(n)){const r=rv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rE(t,e,n){if((e=Nn(e))instanceof Ev)return e._internalPath;if(typeof e=="string")return gT(t,e);throw ny("Field path arguments must be of type string or ",t,!1,void 0,n)}const SW=new RegExp("[~\\*/\\[\\]]");function gT(t,e,n){if(e.search(SW)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ev(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ny(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new xe(ue.INVALID_ARGUMENT,c+t+d)}function g3(t,e){return t.some((n=>n.isEqual(e)))}class y3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TW extends y3{data(){return super.data()}}function v3(t,e){return typeof e=="string"?gT(t,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}function AW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yT{}class IW extends yT{}function kW(t,e,...n){let r=[];e instanceof yT&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof bT)).length,c=s.filter((d=>d instanceof vT)).length;if(l>1||l>0&&c>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class vT extends IW{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vT(e,n,r)}_apply(e){const n=this._parse(e);return b3(e._query,n),new Qd(e.firestore,e.converter,Fw(e._query,n))}_parse(e){const n=Sv(e.firestore);return(function(s,l,c,d,f,m,p){let b;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){RO(p,m);const w=[];for(const E of p)w.push(PO(d,s,E));b={arrayValue:{values:w}}}else b=PO(d,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||RO(p,m),b=EW(c,l,p,m==="in"||m==="not-in");return at.create(f,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bT extends yT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bT(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const d of c)b3(l,d),l=Fw(l,d)})(e._query,n),new Qd(e.firestore,e.converter,Fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PO(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H4(e)&&n.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!Se.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return em(t,new Se(r))}if(n instanceof cn)return em(t,n._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rv(n)}.`)}function RO(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b3(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CW{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[yd].arrayValue?.values?.map((r=>$t(r.doubleValue)));return new $a(n)}convertGeoPoint(e){return new qa($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zh(e));default:return null}}convertTimestamp(e){const n=zs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);je(b5(r),9688,{name:e});const i=new Ic(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function x3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends y3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yc._jsonSchemaVersion="firestore/documentSnapshot/1.0",yc._jsonSchema={type:wn("string",yc._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class S0 extends yc{data(e={}){return super.data(e)}}class ad{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new S0(this._firestore,this._userDataWriter,r.key,r,new kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new S0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new kh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new S0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new kh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:NW(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ad._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}ad._jsonSchemaVersion="firestore/querySnapshot/1.0",ad._jsonSchema={type:wn("string",ad._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class _3 extends CW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function MO(t,e,n){t=Ns(t,cn);const r=Ns(t.firestore,Rc),i=x3(t.converter,e,n);return Av(r,[h3(Sv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function w3(t,e,n,...r){t=Ns(t,cn);const i=Ns(t.firestore,Rc),s=Sv(i);let l;return l=typeof(e=Nn(e))=="string"||e instanceof Ev?wW(s,"updateDoc",t._key,e,n,r):_W(s,"updateDoc",t._key,e),Av(i,[l.toMutation(t._key,gr.exists(!0))])}function OW(t){return Av(Ns(t.firestore,Rc),[new pv(t._key,gr.none())])}function PW(t,e){const n=Ns(t.firestore,Rc),r=id(t),i=x3(t.converter,e);return Av(n,[h3(Sv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then((()=>r))}function E3(t,...e){t=Nn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||OO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OO(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof cn)l=Ns(t.firestore,Rc),c=dv(t._key.path),s={next:d=>{e[r]&&e[r](RW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ns(t,Qd);l=Ns(d.firestore,Rc),c=d._query;const f=new _3(l);s={next:m=>{e[r]&&e[r](new ad(l,f,d,m))},error:e[r+1],complete:e[r+2]},AW(t._query)}return(function(f,m,p,b){const x=new dW(b),w=new BY(m,x,p);return f.asyncQueue.enqueueAndForget((async()=>jY(await EO(f),w))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>zY(await EO(f),w)))}})(u3(l),c,i,s)}function Av(t,e){return(function(r,i){const s=new el;return r.asyncQueue.enqueueAndForget((async()=>WY(await mW(r),i,s))),s.promise})(u3(t),e)}function RW(t,e,n){const r=n.docs.get(e._key),i=new _3(t);return new yc(t,i,e._key,r,new kh(n.hasPendingWrites,n.fromCache),e.converter)}class MW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=LW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function DW(t){return new MW(t)}class jW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=am.provider,this._offlineComponentProvider={build:n=>new o3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class zW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=am.provider,this._offlineComponentProvider={build:n=>new uW(n,e?.cacheSizeBytes)}}}function LW(t){return new jW(t?.forceOwnership)}function VW(){return new zW}(function(e,n=!0){(function(i){Gd=i})($d),cd(new Sc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Rc(new iG(r.getProvider("auth-internal")),new oG(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Zo(uN,dN,e),Zo(uN,dN,"esm2020")})();const BW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"605463352120",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},S3=_z(BW),Bg=ZH(S3),UW=new _s,cc=gW(S3,{localCache:DW({tabManager:VW()})}),T3=A.createContext(void 0),FW=({children:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState(!0);A.useEffect(()=>{const c=U$(Bg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await L$(Bg,Hz),await oH(Bg,UW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await F$(Bg)}catch(c){console.error("Error signing out",c)}};return y.jsx(T3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:!r&&t})},Vm=()=>{const t=A.useContext(T3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const qW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$W=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),DO=t=>{const e=$W(t);return e.charAt(0).toUpperCase()+e.slice(1)},A3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),HW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var GW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KW=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>A.createElement("svg",{ref:d,...GW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A3("lucide",i),...!s&&!HW(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>A.createElement(f,m)),...Array.isArray(s)?s:[s]]));const ke=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(KW,{ref:s,iconNode:e,className:A3(`lucide-${qW(DO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=DO(t),n};const YW=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ry=ke("arrow-down-left",YW);const WW=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],iE=ke("arrow-down-right",WW);const XW=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],QW=ke("arrow-up-left",XW);const ZW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kd=ke("arrow-up-right",ZW);const JW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eX=ke("book-open",JW);const tX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nX=ke("briefcase",tX);const rX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],xT=ke("calculator",rX);const iX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],I3=ke("calendar-clock",iX);const aX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],k3=ke("calendar",aX);const sX=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],oX=ke("car",sX);const lX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],cX=ke("chart-pie",lX);const uX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C3=ke("check",uX);const dX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fX=ke("chevron-down",dX);const hX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mX=ke("chevron-left",hX);const pX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N3=ke("chevron-right",pX);const gX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],jO=ke("circle-arrow-down",gX);const yX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],zO=ke("circle-arrow-up",yX);const vX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LO=ke("circle-check-big",vX);const bX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],xX=ke("circle-pause",bX);const _X=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wX=ke("circle-play",_X);const EX=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],SX=ke("coffee",EX);const TX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],O3=ke("dollar-sign",TX);const AX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],P3=ke("ellipsis",AX);const IX=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],kX=ke("flame",IX);const CX=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],aE=ke("folder-kanban",CX);const NX=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],OX=ke("gamepad-2",NX);const PX=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],RX=ke("gift",PX);const MX=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],DX=ke("heart",MX);const jX=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],zX=ke("hourglass",jX);const LX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],VX=ke("house",LX);const BX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],UX=ke("info",BX);const FX=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],iy=ke("landmark",FX);const qX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$X=ke("layers",qX);const HX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GX=ke("layout-dashboard",HX);const KX=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VO=ke("list",KX);const YX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WX=ke("log-out",YX);const XX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],QX=ke("menu",XX);const ZX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],JX=ke("moon",ZX);const eQ=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],tQ=ke("mouse-pointer-click",eQ);const nQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rQ=ke("pen",nQ);const iQ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],aQ=ke("percent",iQ);const sQ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Bm=ke("piggy-bank",sQ);const oQ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],lQ=ke("plane",oQ);const cQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Os=ke("plus",cQ);const uQ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],dQ=ke("receipt",uQ);const fQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hQ=ke("refresh-cw",fQ);const mQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],pQ=ke("rocket",mQ);const gQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yQ=ke("rotate-ccw",gQ);const vQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bQ=ke("save",vQ);const xQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BO=ke("search",xQ);const _Q=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R3=ke("settings",_Q);const wQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EQ=ke("shield",wQ);const SQ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],TQ=ke("smartphone",SQ);const AQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],IQ=ke("smile",AQ);const kQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],CQ=ke("star",kQ);const NQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OQ=ke("sun",NQ);const PQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vc=ke("target",PQ);const RQ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],MQ=ke("text-align-start",RQ);const DQ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],z1=ke("toggle-left",DQ);const jQ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],L1=ke("toggle-right",jQ);const zQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ps=ke("trash-2",zQ);const LQ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],M3=ke("trending-down",LQ);const VQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],D3=ke("trending-up",VQ);const BQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],UQ=ke("user",BQ);const FQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Iv=ke("wallet",FQ);const qQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sm=ke("x",qQ);const $Q=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HQ=ke("zap",$Q);function j3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=j3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=j3(t))&&(r&&(r+=" "),r+=e);return r}const GQ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},KQ=(t,e)=>({classGroupId:t,validator:e}),z3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ay="-",UO=[],YQ="arbitrary..",WQ=t=>{const e=QQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return XQ(l);const c=l.split(ay),d=c[0]===""&&c.length>1?1:0;return L3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?GQ(f,d):d:f||UO}return n[l]||UO}}},L3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=L3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(ay):t.slice(e).join(ay),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},XQ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?YQ+r:void 0})(),QQ=t=>{const{theme:e,classGroups:n}=t;return ZQ(n,e)},ZQ=(t,e)=>{const n=z3();for(const r in t){const i=t[r];_T(i,n,r,e)}return n},_T=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];JQ(l,e,n,r)}},JQ=(t,e,n,r)=>{if(typeof t=="string"){eZ(t,e,n);return}if(typeof t=="function"){tZ(t,e,n,r);return}nZ(t,e,n,r)},eZ=(t,e,n)=>{const r=t===""?e:V3(e,t);r.classGroupId=n},tZ=(t,e,n,r)=>{if(rZ(t)){_T(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(KQ(n,t))},nZ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];_T(d,V3(e,c),n,r)}},V3=(t,e)=>{let n=t;const r=e.split(ay),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=z3(),n.nextPart.set(l,c)),n=c}return n},rZ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,iZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},sE="!",FO=":",aZ=[],qO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),sZ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const m=i.length;for(let E=0;E<m;E++){const S=i[E];if(l===0&&c===0){if(S===FO){s.push(i.slice(d,E)),d=E+1;continue}if(S==="/"){f=E;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const p=s.length===0?i:i.slice(d);let b=p,x=!1;p.endsWith(sE)?(b=p.slice(0,-1),x=!0):p.startsWith(sE)&&(b=p.slice(1),x=!0);const w=f&&f>d?f-d:void 0;return qO(s,x,b,w)};if(e){const i=e+FO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):qO(aZ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},oZ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},lZ=t=>({cache:iZ(t.cacheSize),parseClassName:sZ(t),sortModifiers:oZ(t),...WQ(t)}),cZ=/\s+/,uZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(cZ);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:b,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:E}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let S=!!E,k=r(S?w.substring(0,E):w);if(!k){if(!S){d=m+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=m+(d.length>0?" "+d:d);continue}S=!1}const M=b.length===0?"":b.length===1?b[0]:s(b).join(":"),C=x?M+sE:M,j=C+k;if(l.indexOf(j)>-1)continue;l.push(j);const P=i(k,S);for(let z=0;z<P.length;++z){const R=P[z];l.push(C+R)}d=m+(d.length>0?" "+d:d)}return d},dZ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=B3(n))&&(i&&(i+=" "),i+=r);return i},B3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=B3(t[r]))&&(n&&(n+=" "),n+=e);return n},fZ=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((m,p)=>p(m),t());return n=lZ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=uZ(d,n);return i(d,m),m};return s=l,(...d)=>s(dZ(...d))},hZ=[],In=t=>{const e=n=>n[t]||hZ;return e.isThemeGetter=!0,e},U3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mZ=/^\d+\/\d+$/,pZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uu=t=>mZ.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Vo=t=>!!t&&Number.isInteger(Number(t)),V1=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),bs=t=>pZ.test(t),xZ=()=>!0,_Z=t=>gZ.test(t)&&!yZ.test(t),q3=()=>!1,wZ=t=>vZ.test(t),EZ=t=>bZ.test(t),SZ=t=>!Pe(t)&&!Re(t),TZ=t=>Zd(t,G3,q3),Pe=t=>U3.test(t),Wl=t=>Zd(t,K3,_Z),B1=t=>Zd(t,NZ,Ze),$O=t=>Zd(t,$3,q3),AZ=t=>Zd(t,H3,EZ),Ug=t=>Zd(t,Y3,wZ),Re=t=>F3.test(t),ph=t=>Jd(t,K3),IZ=t=>Jd(t,OZ),HO=t=>Jd(t,$3),kZ=t=>Jd(t,G3),CZ=t=>Jd(t,H3),Fg=t=>Jd(t,Y3,!0),Zd=(t,e,n)=>{const r=U3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Jd=(t,e,n=!1)=>{const r=F3.exec(t);return r?r[1]?e(r[1]):n:!1},$3=t=>t==="position"||t==="percentage",H3=t=>t==="image"||t==="url",G3=t=>t==="length"||t==="size"||t==="bg-size",K3=t=>t==="length",NZ=t=>t==="number",OZ=t=>t==="family-name",Y3=t=>t==="shadow",PZ=()=>{const t=In("color"),e=In("font"),n=In("text"),r=In("font-weight"),i=In("tracking"),s=In("leading"),l=In("breakpoint"),c=In("container"),d=In("spacing"),f=In("radius"),m=In("shadow"),p=In("inset-shadow"),b=In("text-shadow"),x=In("drop-shadow"),w=In("blur"),E=In("perspective"),S=In("aspect"),k=In("ease"),M=In("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),Re,Pe],z=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[Re,Pe,d],V=()=>[Uu,"full","auto",...O()],q=()=>[Vo,"none","subgrid",Re,Pe],L=()=>["auto",{span:["full",Vo,Re,Pe]},Vo,Re,Pe],F=()=>[Vo,"auto",Re,Pe],U=()=>["auto","min","max","fr",Re,Pe],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...O()],re=()=>[Uu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],$=()=>[t,Re,Pe],se=()=>[...j(),HO,$O,{position:[Re,Pe]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",kZ,TZ,{size:[Re,Pe]}],K=()=>[V1,ph,Wl],oe=()=>["","none","full",f,Re,Pe],de=()=>["",Ze,ph,Wl],ge=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ze,V1,HO,$O],Ve=()=>["","none",w,Re,Pe],Z=()=>["none",Ze,Re,Pe],Ae=()=>["none",Ze,Re,Pe],Be=()=>[Ze,Re,Pe],me=()=>[Uu,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[xZ],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[SZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",Ze],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uu,Pe,Re,S]}],container:["container"],columns:[{columns:[Ze,Pe,Re,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",Re,Pe]}],basis:[{basis:[Uu,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,Uu,"auto","initial","none",Pe]}],grow:[{grow:["",Ze,Re,Pe]}],shrink:[{shrink:["",Ze,Re,Pe]}],order:[{order:[Vo,"first","last","none",Re,Pe]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,ph,Wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,B1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",V1,Pe]}],"font-family":[{font:[IZ,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Re,Pe]}],"line-clamp":[{"line-clamp":[Ze,"none",Re,B1]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Re,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Re,Wl]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ze,"auto",Re,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,Re,Pe],radial:["",Re,Pe],conic:[Vo,Re,Pe]},CZ,AZ]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Re,Pe]}],"outline-w":[{outline:["",Ze,ph,Wl]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",m,Fg,Ug]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",p,Fg,Ug]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ze,Wl]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,Fg,Ug]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ze,Re,Pe]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Re,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Pe]}],filter:[{filter:["","none",Re,Pe]}],blur:[{blur:Ve()}],brightness:[{brightness:[Ze,Re,Pe]}],contrast:[{contrast:[Ze,Re,Pe]}],"drop-shadow":[{"drop-shadow":["","none",x,Fg,Ug]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ze,Re,Pe]}],"hue-rotate":[{"hue-rotate":[Ze,Re,Pe]}],invert:[{invert:["",Ze,Re,Pe]}],saturate:[{saturate:[Ze,Re,Pe]}],sepia:[{sepia:["",Ze,Re,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Pe]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Re,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Re,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Re,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Re,Pe]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Re,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Re,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Re,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Re,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Re,Pe]}],ease:[{ease:["linear","initial",k,Re,Pe]}],delay:[{delay:[Ze,Re,Pe]}],animate:[{animate:["none",M,Re,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Re,Pe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Re,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Pe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ze,ph,Wl,B1]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RZ=fZ(PZ),MZ=()=>{const[t,e]=A.useState(navigator.onLine);return A.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t},DZ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=sz(),s=[{to:"/",icon:GX,label:"Dashboard"},{to:"/expenses",icon:Iv,label:"Gastos"},{to:"/income",icon:dQ,label:"Ingresos"},{to:"/goals",icon:vc,label:"Metas"},{to:"/funds",icon:Bm,label:"Fondos"},{to:"/credits",icon:iy,label:"Crditos"},{to:"/projects",icon:aE,label:"Proyectos"},{to:"/projections",icon:xT,label:"Proyecciones"}],l=MZ();return y.jsxs(y.Fragment,{children:[t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:e}),y.jsxs("aside",{className:Te("fixed md:static inset-y-0 left-0 z-40 w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[y.jsxs("div",{className:"p-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-500 font-mono tracking-wider",children:"VAULTLY"}),y.jsx("p",{className:"text-[10px] text-zinc-400 font-medium",children:"Personal Finance v2.0"})]}),y.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:y.jsx(sm,{size:20})})]}),y.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2",children:s.map(c=>y.jsxs(rz,{to:c.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:d})=>RZ(Te("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",d?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[y.jsx(c.icon,{size:22,className:Te("transition-colors md:w-[18px] md:h-[18px]",({isActive:d})=>d?"text-emerald-400 dark:text-emerald-600":"group-hover:text-emerald-500")}),y.jsx("span",{className:"text-base md:text-sm",children:c.label})]},c.to))}),y.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2",children:[y.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-emerald-500 transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[y.jsx(R3,{size:22,className:"md:w-[18px] md:h-[18px]"}),y.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),y.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-emerald-500 transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[y.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?y.jsx(JX,{size:18}):y.jsx(OQ,{size:18})]}),y.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-[10px] justify-center tracking-widest uppercase pt-1",children:[y.jsx("div",{className:Te("w-1.5 h-1.5 rounded-full animate-pulse transition-colors duration-500",l?"bg-emerald-500":"bg-red-500")}),y.jsx("span",{children:l?"Online":"Offline"})]})]})]})]})},W3=A.createContext(void 0),jZ=({children:t})=>{const{user:e}=Vm(),[n,r]=A.useState("$"),[i,s]=A.useState(!1),[l,c]=A.useState(!0);A.useEffect(()=>{const m=localStorage.getItem("vault_has_seen_onboarding"),p=localStorage.getItem("vault_currency");if(m&&s(JSON.parse(m)),p&&r(JSON.parse(p)),!e){c(!1);return}const b=id(cc,"users",e.uid,"settings","general"),x=E3(b,w=>{if(w.exists()){const E=w.data();E.currency&&(r(E.currency),localStorage.setItem("vault_currency",JSON.stringify(E.currency))),E.hasSeenOnboarding===!0&&(s(!0),localStorage.setItem("vault_has_seen_onboarding","true"))}c(!1)},w=>{console.error("Error fetching settings",w),c(!1)});return()=>x()},[e]);const d=m=>{if(!e)return;const p=id(cc,"users",e.uid,"settings","general");w3(p,{currency:m}).catch(()=>{MO(p,{currency:m},{merge:!0})}),r(m)},f=async m=>{if(s(m),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(m)),!e)return;const p=id(cc,"users",e.uid,"settings","general");try{await MO(p,{hasSeenOnboarding:m},{merge:!0})}catch(b){console.error("Failed to sync onboarding to DB",b)}};return y.jsx(W3.Provider,{value:{currency:n,setCurrency:d,hasSeenOnboarding:i,setHasSeenOnboarding:f,loading:l},children:t})},vr=()=>{const t=A.useContext(W3);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t};function zZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const LZ=t=>{switch(t){case"success":return UZ;case"info":return qZ;case"warning":return FZ;case"error":return $Z;default:return null}},VZ=Array(12).fill(0),BZ=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},VZ.map((n,r)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UZ=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FZ=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qZ=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$Z=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HZ=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GZ=()=>{const[t,e]=be.useState(document.hidden);return be.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let oE=1;class KZ{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:oE++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],be.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(WZ(f)&&!f.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(f instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:b,...w})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,x=typeof m=="object"&&!be.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...x})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||oE++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jr=new KZ,YZ=(t,e)=>{const n=e?.id||oE++;return jr.addToast({title:t,...e,id:n}),n},WZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",XZ=YZ,QZ=()=>jr.toasts,ZZ=()=>jr.getActiveToasts(),Lt=Object.assign(XZ,{success:jr.success,info:jr.info,warning:jr.warning,error:jr.error,custom:jr.custom,message:jr.message,promise:jr.promise,dismiss:jr.dismiss,loading:jr.loading},{getHistory:QZ,getToasts:ZZ});zZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qg(t){return t.label!==void 0}const JZ=3,eJ="24px",tJ="16px",GO=4e3,nJ=356,rJ=14,iJ=45,aJ=200;function Ra(...t){return t.filter(Boolean).join(" ")}function sJ(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const oJ=t=>{var e,n,r,i,s,l,c,d,f;const{invert:m,toast:p,unstyled:b,interacting:x,setHeights:w,visibleToasts:E,heights:S,index:k,toasts:M,expanded:C,removeToast:j,defaultRichColors:P,closeButton:z,style:R,cancelButtonStyle:O,actionButtonStyle:V,className:q="",descriptionClassName:L="",duration:F,position:U,gap:_e,expandByDefault:we,classNames:W,icons:re,closeButtonAriaLabel:$="Close toast"}=t,[se,ve]=be.useState(null),[H,K]=be.useState(null),[oe,de]=be.useState(!1),[ge,Ie]=be.useState(!1),[Ee,Ve]=be.useState(!1),[Z,Ae]=be.useState(!1),[Be,me]=be.useState(!1),[Kt,Xe]=be.useState(0),[tn,Vt]=be.useState(0),Sn=be.useRef(p.duration||F||GO),Li=be.useRef(null),mt=be.useRef(null),nn=k===0,fa=k+1<=E,Kn=p.type,Vi=p.dismissible!==!1,Yn=p.className||"",Ja=p.descriptionClassName||"",ha=be.useMemo(()=>S.findIndex(Fe=>Fe.toastId===p.id)||0,[S,p.id]),_l=be.useMemo(()=>{var Fe;return(Fe=p.closeButton)!=null?Fe:z},[p.closeButton,z]),Bi=be.useMemo(()=>p.duration||F||GO,[p.duration,F]),wl=be.useRef(0),Ui=be.useRef(0),El=be.useRef(0),Fi=be.useRef(null),[Fr,Tn]=U.split("-"),br=be.useMemo(()=>S.reduce((Fe,pt,fn)=>fn>=ha?Fe:Fe+pt.height,0),[S,ha]),Bt=GZ(),Yc=p.invert||m,ma=Kn==="loading";Ui.current=be.useMemo(()=>ha*_e+br,[ha,br]),be.useEffect(()=>{Sn.current=Bi},[Bi]),be.useEffect(()=>{de(!0)},[]),be.useEffect(()=>{const Fe=mt.current;if(Fe){const pt=Fe.getBoundingClientRect().height;return Vt(pt),w(fn=>[{toastId:p.id,height:pt,position:p.position},...fn]),()=>w(fn=>fn.filter(jn=>jn.toastId!==p.id))}},[w,p.id]),be.useLayoutEffect(()=>{if(!oe)return;const Fe=mt.current,pt=Fe.style.height;Fe.style.height="auto";const fn=Fe.getBoundingClientRect().height;Fe.style.height=pt,Vt(fn),w(jn=>jn.find(Mt=>Mt.toastId===p.id)?jn.map(Mt=>Mt.toastId===p.id?{...Mt,height:fn}:Mt):[{toastId:p.id,height:fn,position:p.position},...jn])},[oe,p.title,p.description,w,p.id,p.jsx,p.action,p.cancel]);const qr=be.useCallback(()=>{Ie(!0),Xe(Ui.current),w(Fe=>Fe.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{j(p)},aJ)},[p,j,w,Ui]);be.useEffect(()=>{if(p.promise&&Kn==="loading"||p.duration===1/0||p.type==="loading")return;let Fe;return C||x||Bt?(()=>{if(El.current<wl.current){const jn=new Date().getTime()-wl.current;Sn.current=Sn.current-jn}El.current=new Date().getTime()})():Sn.current!==1/0&&(wl.current=new Date().getTime(),Fe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),qr()},Sn.current)),()=>clearTimeout(Fe)},[C,x,p,Kn,Bt,qr]),be.useEffect(()=>{p.delete&&(qr(),p.onDismiss==null||p.onDismiss.call(p,p))},[qr,p.delete]);function mi(){var Fe;if(re?.loading){var pt;return be.createElement("div",{className:Ra(W?.loader,p==null||(pt=p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Kn==="loading"},re.loading)}return be.createElement(BZ,{className:Ra(W?.loader,p==null||(Fe=p.classNames)==null?void 0:Fe.loader),visible:Kn==="loading"})}const es=p.icon||re?.[Kn]||LZ(Kn);var Yt,$r;return be.createElement("li",{tabIndex:0,ref:mt,className:Ra(q,Yn,W?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,W?.default,W?.[Kn],p==null||(n=p.classNames)==null?void 0:n[Kn]),"data-sonner-toast":"","data-rich-colors":(Yt=p.richColors)!=null?Yt:P,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":oe,"data-promise":!!p.promise,"data-swiped":Be,"data-removed":ge,"data-visible":fa,"data-y-position":Fr,"data-x-position":Tn,"data-index":k,"data-front":nn,"data-swiping":Ee,"data-dismissible":Vi,"data-type":Kn,"data-invert":Yc,"data-swipe-out":Z,"data-swipe-direction":H,"data-expanded":!!(C||we&&oe),"data-testid":p.testId,style:{"--index":k,"--toasts-before":k,"--z-index":M.length-k,"--offset":`${ge?Kt:Ui.current}px`,"--initial-height":we?"auto":`${tn}px`,...R,...p.style},onDragEnd:()=>{Ve(!1),ve(null),Fi.current=null},onPointerDown:Fe=>{Fe.button!==2&&(ma||!Vi||(Li.current=new Date,Xe(Ui.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(Ve(!0),Fi.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,pt,fn;if(Z||!Vi)return;Fi.current=null;const jn=Number(((Fe=mt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xr=Number(((pt=mt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mt=new Date().getTime()-((fn=Li.current)==null?void 0:fn.getTime()),cr=se==="x"?jn:xr,pi=Math.abs(cr)/Mt;if(Math.abs(cr)>=iJ||pi>.11){Xe(Ui.current),p.onDismiss==null||p.onDismiss.call(p,p),K(se==="x"?jn>0?"right":"left":xr>0?"down":"up"),qr(),Ae(!0);return}else{var Wn,Xn;(Wn=mt.current)==null||Wn.style.setProperty("--swipe-amount-x","0px"),(Xn=mt.current)==null||Xn.style.setProperty("--swipe-amount-y","0px")}me(!1),Ve(!1),ve(null)},onPointerMove:Fe=>{var pt,fn,jn;if(!Fi.current||!Vi||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Mt=Fe.clientY-Fi.current.y,cr=Fe.clientX-Fi.current.x;var pi;const Wn=(pi=t.swipeDirections)!=null?pi:sJ(U);!se&&(Math.abs(cr)>1||Math.abs(Mt)>1)&&ve(Math.abs(cr)>Math.abs(Mt)?"x":"y");let Xn={x:0,y:0};const pa=Qn=>1/(1.5+Math.abs(Qn)/20);if(se==="y"){if(Wn.includes("top")||Wn.includes("bottom"))if(Wn.includes("top")&&Mt<0||Wn.includes("bottom")&&Mt>0)Xn.y=Mt;else{const Qn=Mt*pa(Mt);Xn.y=Math.abs(Qn)<Math.abs(Mt)?Qn:Mt}}else if(se==="x"&&(Wn.includes("left")||Wn.includes("right")))if(Wn.includes("left")&&cr<0||Wn.includes("right")&&cr>0)Xn.x=cr;else{const Qn=cr*pa(cr);Xn.x=Math.abs(Qn)<Math.abs(cr)?Qn:cr}(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&me(!0),(fn=mt.current)==null||fn.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(jn=mt.current)==null||jn.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},_l&&!p.jsx&&Kn!=="loading"?be.createElement("button",{"aria-label":$,"data-disabled":ma,"data-close-button":!0,onClick:ma||!Vi?()=>{}:()=>{qr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ra(W?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},($r=re?.close)!=null?$r:HZ):null,(Kn||p.icon||p.promise)&&p.icon!==null&&(re?.[Kn]!==null||p.icon)?be.createElement("div",{"data-icon":"",className:Ra(W?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mi():null,p.type!=="loading"?es:null):null,be.createElement("div",{"data-content":"",className:Ra(W?.content,p==null||(s=p.classNames)==null?void 0:s.content)},be.createElement("div",{"data-title":"",className:Ra(W?.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?be.createElement("div",{"data-description":"",className:Ra(L,Ja,W?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),be.isValidElement(p.cancel)?p.cancel:p.cancel&&qg(p.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Fe=>{qg(p.cancel)&&Vi&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Fe),qr())},className:Ra(W?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,be.isValidElement(p.action)?p.action:p.action&&qg(p.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:Fe=>{qg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Fe),!Fe.defaultPrevented&&qr())},className:Ra(W?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function KO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lJ(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?tJ:eJ;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const X3=be.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:b="light",richColors:x,duration:w,style:E,visibleToasts:S=JZ,toastOptions:k,dir:M=KO(),gap:C=rJ,icons:j,containerAriaLabel:P="Notifications"}=e,[z,R]=be.useState([]),O=be.useMemo(()=>r?z.filter(oe=>oe.toasterId===r):z.filter(oe=>!oe.toasterId),[z,r]),V=be.useMemo(()=>Array.from(new Set([s].concat(O.filter(oe=>oe.position).map(oe=>oe.position)))),[O,s]),[q,L]=be.useState([]),[F,U]=be.useState(!1),[_e,we]=be.useState(!1),[W,re]=be.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=be.useRef(null),se=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=be.useRef(null),H=be.useRef(!1),K=be.useCallback(oe=>{R(de=>{var ge;return(ge=de.find(Ie=>Ie.id===oe.id))!=null&&ge.delete||jr.dismiss(oe.id),de.filter(({id:Ie})=>Ie!==oe.id)})},[]);return be.useEffect(()=>jr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{R(de=>de.map(ge=>ge.id===oe.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{yF.flushSync(()=>{R(de=>{const ge=de.findIndex(Ie=>Ie.id===oe.id);return ge!==-1?[...de.slice(0,ge),{...de[ge],...oe},...de.slice(ge+1)]:[oe,...de]})})})}),[z]),be.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:de})=>{re(de?"dark":"light")})}catch{oe.addListener(({matches:ge})=>{try{re(ge?"dark":"light")}catch(Ie){console.error(Ie)}})}},[b]),be.useEffect(()=>{z.length<=1&&U(!1)},[z]),be.useEffect(()=>{const oe=de=>{var ge;if(l.every(Ve=>de[Ve]||de.code===Ve)){var Ee;U(!0),(Ee=$.current)==null||Ee.focus()}de.code==="Escape"&&(document.activeElement===$.current||(ge=$.current)!=null&&ge.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),be.useEffect(()=>{if($.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,H.current=!1)}},[$.current]),be.createElement("section",{ref:n,"aria-label":`${P} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((oe,de)=>{var ge;const[Ie,Ee]=oe.split("-");return O.length?be.createElement("ol",{key:oe,dir:M==="auto"?KO():M,tabIndex:-1,ref:$,className:f,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":Ie,"data-x-position":Ee,style:{"--front-toast-height":`${((ge=q[0])==null?void 0:ge.height)||0}px`,"--width":`${nJ}px`,"--gap":`${C}px`,...E,...lJ(m,p)},onBlur:Ve=>{H.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&(H.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||H.current||(H.current=!0,ve.current=Ve.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{_e||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||we(!0)},onPointerUp:()=>we(!1)},O.filter(Ve=>!Ve.position&&de===0||Ve.position===oe).map((Ve,Z)=>{var Ae,Be;return be.createElement(oJ,{key:Ve.id,icons:j,index:Z,toast:Ve,defaultRichColors:x,duration:(Ae=k?.duration)!=null?Ae:w,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Be=k?.closeButton)!=null?Be:d,interacting:_e,position:oe,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(me=>me.position==Ve.position),heights:q.filter(me=>me.position==Ve.position),setHeights:L,expandByDefault:c,gap:C,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),yl=t=>{const[e,n]=A.useState([]),[r,i]=A.useState(!0),{user:s}=Vm();return A.useEffect(()=>{if(!s){n([]),i(!1);return}const f=IO(cc,"users",s.uid,t),m=kW(f),p=E3(m,b=>{const x=[];b.forEach(w=>{x.push({id:w.id,...w.data()})}),n(x),i(!1)},b=>{console.error(`Error fetching ${t}:`,b),b.code==="permission-denied"?Lt.error(`Sin permisos para leer ${t}`):Lt.error(`Error de sincronizacin (${t})`),i(!1)});return()=>p()},[s,t]),{data:e,add:async f=>{if(s)try{const m=IO(cc,"users",s.uid,t),{id:p,...b}=f;await PW(m,b)}catch(m){throw console.error(`Error adding to ${t}:`,m),m.code==="permission-denied"?Lt.error("Error de permisos. No se pudo guardar."):Lt.error("Error al guardar datos."),m}},remove:async f=>{if(s)try{const m=id(cc,"users",s.uid,t,f);await OW(m)}catch(m){throw console.error(`Error removing from ${t}:`,m),m.code==="permission-denied"?Lt.error("Error de permisos. No se pudo eliminar."):Lt.error("Error al eliminar datos."),m}},update:async(f,m)=>{if(s)try{const p=id(cc,"users",s.uid,t,f);await w3(p,m)}catch(p){throw console.error(`Error updating ${t}:`,p),p.code==="permission-denied"?Lt.error("Error de permisos. No se pudo actualizar."):Lt.error("Error al actualizar datos."),p}},loading:r}},Cd=t=>{const{data:e,add:n,remove:r,loading:i}=yl("categories"),s=A.useRef(!1),l=e.filter(p=>p.type===t).map(p=>p.name),c=Array.from(new Set(l)).sort(),d=t==="income"?["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"]:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"];return A.useEffect(()=>{if(i||s.current)return;if(!e.some(b=>b.type===t)){s.current=!0;const b=`vault_categories_${t}`,x=window.localStorage.getItem(b);let w=[];if(x)try{const E=JSON.parse(x);Array.isArray(E)&&E.length>0&&(w=E,console.log(`Migrating ${t} categories from LocalStorage to Firestore...`))}catch(E){console.error("Error parsing local categories",E)}w.length===0&&(w=d,console.log(`Seeding default ${t} categories to Firestore...`)),w.forEach(E=>{n({name:E,type:t})})}},[i,e,t]),{categories:c,addCategory:p=>{c.includes(p)||n({name:p,type:t})},removeCategory:p=>{e.filter(x=>x.name===p&&x.type===t).forEach(x=>{x.id&&r(x.id)})}}},Ar=t=>{const{data:e,add:n,remove:r,update:i}=yl("transactions"),s=p=>{n(p)},l=p=>{r(p)},c=(p,b)=>{e.filter(w=>w.category===p).forEach(w=>{i(w.id,{category:b})})},d=t?e.filter(p=>p.type===t):e,f=d.reduce((p,b)=>p+b.amount,0);return{transactions:d,addTransaction:s,deleteTransaction:l,total:f,getByCategory:()=>{const p=d.reduce((b,x)=>{const w=x.category||"Sin Categora";return b[w]=(b[w]||0)+x.amount,b},{});return Object.entries(p).map(([b,x])=>({name:b,value:x}))},allTransactions:e,updateCategory:c}},kv=()=>{const{data:t,add:e,remove:n,update:r}=yl("scheduled_transactions"),{addTransaction:i}=Ar();return{scheduled:t,addScheduled:d=>{e({...d,active:!0,createdAt:new Date().toISOString()}),Lt.success("Transaccin programada creada")},deleteScheduled:n,toggleActive:(d,f)=>{r(d,{active:!f}),Lt.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();t.forEach(m=>{if(!m.active)return;const p=m.lastProcessedDate?new Date(m.lastProcessedDate):null,b=p&&p.getMonth()===d.getMonth()&&p.getFullYear()===d.getFullYear();if(f>=m.dayOfMonth&&!b&&(i({type:m.type,amount:m.amount,category:m.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${m.description}`}),r(m.id,{lastProcessedDate:d.toISOString().split("T")[0]}),Lt.info(`Transaccin recurrente procesada: ${m.description}`)),!b){const x=m.dayOfMonth-f;x>0&&x<=2&&Lt.warning(`Prximo vencimiento: ${m.description} ($${m.amount})`,{description:`Vence el da ${m.dayOfMonth}`,duration:5e3})}})}}},Q3=()=>{const{data:t,add:e,remove:n}=yl("transaction_presets");return{presets:t,addPreset:i=>{if(t.length>=10){Lt.error("Lmite de 10 atajos alcanzado");return}e(i),Lt.success("Atajo creado")},deletePreset:n}},Ha=({isOpen:t,onClose:e,title:n,children:r})=>(A.useEffect(()=>{const i=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[t,e]),t?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-zinc-900/60 backdrop-blur-sm transition-opacity",onClick:e}),y.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-md border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),y.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:y.jsx(sm,{size:20})})]}),y.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:r})]})]}):null),cJ=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r}=vr(),{themeStyle:i,setThemeStyle:s}=sz(),{logout:l,user:c}=Vm(),{categories:d,addCategory:f,removeCategory:m}=Cd("income"),{categories:p,addCategory:b,removeCategory:x}=Cd("expense"),{updateCategory:w}=Ar(),{scheduled:E,toggleActive:S,deleteScheduled:k}=kv(),{presets:M,addPreset:C,deletePreset:j}=Q3(),[P,z]=A.useState("general"),[R,O]=A.useState("expense"),[V,q]=A.useState(""),[L,F]=A.useState(""),[U,_e]=A.useState(""),[we,W]=A.useState(""),[re,$]=A.useState("expense"),se=["$","","","","COP","MXN","ARS","S/"],ve=()=>{V.trim()&&(R==="income"?f(V):b(V),q(""))},H=K=>{confirm(`Eliminar categora "${K}"? Las transacciones pasarn a "Desconocido".`)&&(R==="income"?m(K):x(K),w(K,"Desconocido"))};return y.jsx(Ha,{isOpen:t,onClose:e,title:"Configuracin",children:y.jsxs("div",{className:"flex flex-col h-[55vh] md:h-[500px]",children:[y.jsxs("div",{className:"flex gap-4 border-b border-zinc-200 dark:border-zinc-800 mb-4 overflow-x-auto shrink-0",children:[y.jsx("button",{onClick:()=>z("general"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="general"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"General"}),y.jsx("button",{onClick:()=>z("categories"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="categories"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Categoras"}),y.jsx("button",{onClick:()=>z("scheduled"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="scheduled"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Programados"}),y.jsx("button",{onClick:()=>z("presets"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="presets"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Atajos"})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pr-1",children:[P==="general"&&y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3 flex items-center gap-2",children:[y.jsx(UQ,{size:16}),"Cuenta"]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[c&&y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:c.photoURL||`https://ui-avatars.com/api/?name=${c.displayName}`,alt:"User",className:"w-12 h-12 rounded-full bg-zinc-800"}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("p",{className:"text-sm font-medium text-zinc-900 dark:text-white truncate",children:c.displayName}),y.jsx("p",{className:"text-xs text-zinc-500 truncate",children:c.email})]})]}),y.jsxs("button",{onClick:()=>{l(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/20 transition-all font-medium text-sm",children:[y.jsx(WX,{size:16}),"Cerrar Sesin"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Moneda Principal"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:se.map(K=>y.jsx("button",{onClick:()=>r(K),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===K?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"}`,children:K},K))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Estilo Visual"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"classic",name:"Clsico",color:"bg-stone-500"},{id:"sepia",name:"Sepia (Eye Care)",color:"bg-orange-500"},{id:"ocean",name:"Ocano",color:"bg-slate-500"},{id:"midnight",name:"Medianoche",color:"bg-indigo-500"},{id:"bloom",name:"Bloom Flower",color:"bg-rose-500"},{id:"royal",name:"Royal Purple",color:"bg-purple-500"}].map(K=>y.jsxs("button",{onClick:()=>s(K.id),className:`p-3 rounded-xl border-2 flex items-center gap-3 transition-all ${i===K.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 ring-1 ring-emerald-500":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full ${K.color}`}),y.jsx("span",{className:`text-sm font-medium ${i===K.id?"text-emerald-700 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"}`,children:K.name})]},K.id))})]})]}),P==="categories"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-lg mb-4",children:[y.jsx("button",{onClick:()=>O("expense"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${R==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),y.jsx("button",{onClick:()=>O("income"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${R==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("input",{type:"text",placeholder:"Nueva categora...",value:V,onChange:K=>q(K.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-emerald-500 transition-colors",onKeyDown:K=>K.key==="Enter"&&ve()}),y.jsx("button",{onClick:ve,className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors",children:y.jsx(Os,{size:20})})]}),y.jsx("div",{className:"space-y-2",children:(R==="income"?d:p).map(K=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-100 dark:hover:border-zinc-800 group transition-colors",children:[y.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:K}),y.jsx("button",{onClick:()=>H(K),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",title:"Eliminar y mover gastos a 'Desconocido'",children:y.jsx(Ps,{size:16})})]},K))})]}),P==="scheduled"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gestiona tus ingresos y gastos recurrentes automticos."}),E.length===0?y.jsxs("div",{className:"text-center py-10 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[y.jsx(I3,{className:"mx-auto text-zinc-400 mb-2",size:32}),y.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:"No hay reglas programadas"})]}):y.jsx("div",{className:"space-y-3",children:E.map(K=>y.jsxs("div",{className:`p-4 rounded-xl border transition-all ${K.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-100 dark:bg-zinc-900/30 border-zinc-200 dark:border-zinc-800 opacity-70"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-bold uppercase px-2 py-0.5 rounded-full ${K.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:K.type==="income"?"Ingreso":"Gasto"}),y.jsxs("span",{className:"text-xs text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md",children:["Da ",K.dayOfMonth]})]}),y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:K.description||"Sin descripcin"}),y.jsxs("p",{className:"text-sm text-zinc-500",children:[K.category,"  ",n,K.amount.toFixed(2)]})]}),y.jsx("button",{onClick:()=>k(K.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar regla permanentemente",children:y.jsx(Ps,{size:18})})]}),y.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("span",{className:"text-xs text-zinc-400",children:K.lastProcessedDate?`ltima vez: ${K.lastProcessedDate}`:"Nunca ejecutado"}),y.jsx("button",{onClick:()=>S(K.id,K.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${K.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:K.active?y.jsxs(y.Fragment,{children:[y.jsx(xX,{size:14})," Pausar"]}):y.jsxs(y.Fragment,{children:[y.jsx(wX,{size:14})," Reactivar"]})})]})]},K.id))})]}),P==="presets"&&y.jsxs("div",{className:"space-y-4 pb-2",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold mb-2 flex items-center gap-2 text-zinc-500 uppercase tracking-wider",children:[y.jsx(Os,{size:14})," Nuevo Atajo"]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:L,onChange:K=>F(K.target.value)}),y.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:U,onChange:K=>_e(K.target.value)})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none bg-no-repeat",value:re,onChange:K=>{$(K.target.value),W("")},children:[y.jsx("option",{value:"expense",children:"Gasto"}),y.jsx("option",{value:"income",children:"Ingreso"})]}),y.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:we,onChange:K=>W(K.target.value),children:[y.jsx("option",{value:"",children:"Categora..."}),(re==="expense"?p:d).map(K=>y.jsx("option",{value:K,children:K},K))]})]}),y.jsx("button",{disabled:!L||!we,onClick:()=>{C({label:L,amount:U?Number(U):void 0,category:we,type:re}),F(""),_e("")},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-1",children:"Agregar Botn"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.map(K=>y.jsxs("div",{className:"p-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm truncate",children:K.label}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[K.amount?`${n}${K.amount}`:"-","  ",K.category]})]}),y.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 flex items-center justify-center bg-rose-50 dark:bg-rose-900/20 translate-x-full group-hover:translate-x-0 transition-transform cursor-pointer",onClick:()=>j(K.id),children:y.jsx(Ps,{size:16,className:"text-rose-500"})})]},K.id)),M.length===0&&y.jsxs("div",{className:"col-span-2 text-center py-6 text-zinc-400 text-sm border border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl",children:[y.jsx(tQ,{className:"mx-auto mb-2 opacity-50"}),"Crea botones rpidos para tus gastos frecuentes"]})]})]})]})]})})},uJ=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(!1),[i,s]=A.useState("expense"),[l,c]=A.useState(""),[d,f]=A.useState(""),[m,p]=A.useState(""),{addTransaction:b}=Ar(),{categories:x}=Cd("expense"),{categories:w}=Cd("income"),{currency:E}=vr(),{presets:S}=Q3();A.useEffect(()=>{t&&(f(""),c(""),p(""),s("expense"))},[t]);const k=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},300)},M=()=>{const j=Number(l);!j||j<=0||(b({amount:j,type:i,category:d||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(i==="expense"?"Gasto Rpido":"Ingreso Rpido")}),k())};if(!t&&!n)return y.jsx("button",{onClick:()=>e(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:y.jsx(Os,{size:32,strokeWidth:2.5})});const C=i==="expense"?x:w;return y.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[y.jsx("div",{className:Te("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",n?"opacity-0":"opacity-100"),onClick:k}),y.jsxs("div",{className:Te("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",n?"translate-y-full":"translate-y-0"),children:[y.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:k,children:y.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),y.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[y.jsx("button",{onClick:k,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:y.jsx(fX,{size:28})}),y.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),y.jsx("div",{className:"w-10"})," "]}),y.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[S.length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),y.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:S.map(j=>y.jsxs("button",{onClick:()=>{j.amount&&c(j.amount.toString()),s(j.type),f(j.category),p(j.label)},className:Te("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95",d===j.category&&i===j.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[y.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${j.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:j.type==="expense"?y.jsx(ry,{size:16}):y.jsx(kd,{size:16})}),y.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:j.label}),j.amount&&y.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[E,j.amount]})]},j.id))})]}),y.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[y.jsxs("button",{onClick:()=>s("expense"),className:Te("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[y.jsx(ry,{size:20,strokeWidth:2.5})," Gasto"]}),y.jsxs("button",{onClick:()=>s("income"),className:Te("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",y.jsx(kd,{size:20,strokeWidth:2.5})]})]}),y.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[y.jsx("span",{className:Te("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",l?"opacity-100":"opacity-30"),children:E}),y.jsx("input",{type:"number",inputMode:"decimal",value:l,onChange:j=>c(j.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[C.map(j=>y.jsx("button",{onClick:()=>f(j),className:Te("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",d===j?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:j},j)),y.jsx("button",{onClick:()=>f("Otros"),className:Te("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",d==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),y.jsx("div",{className:"mb-8",children:y.jsx("input",{type:"text",value:m,onChange:j=>p(j.target.value),placeholder:i==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),y.jsxs("button",{onClick:M,disabled:!l,className:Te("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",l?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[y.jsx(C3,{size:28,strokeWidth:3}),l?"Confirmar":"Ingresa un monto"]})]})]})]})},Z3=A.createContext(void 0),dJ=({children:t})=>{const{data:e,add:n,remove:r,update:i}=yl("projects"),s=p=>{const b={...p,status:"planning",startDate:(()=>{const x=new Date;return`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`})(),transactions:[]};n(b)},l=(p,b)=>{i(p,b)},c=p=>{r(p)},d=(p,b)=>{const x=e.find(S=>S.id===p);if(!x)return;const w={...b,id:crypto.randomUUID(),projectId:p},E=x.transactions||[];i(p,{transactions:[w,...E]})},f=(p,b)=>{const x=e.find(S=>S.id===p);if(!x)return;const E=(x.transactions||[]).filter(S=>S.id!==b);i(p,{transactions:E})},m=p=>{const b=p.transactions||[],x=b.filter(C=>C.type==="income").reduce((C,j)=>C+j.amount,0),w=b.filter(C=>C.type==="expense").reduce((C,j)=>C+j.amount,0),E=x-w,S=p.targetBudget||p.budget||0,k=S>0?w/S*100:0,M=S>0?E/S*100:0;return{totalIncome:x,totalExpenses:w,currentBalance:E,percentConsumed:k,percentFunded:M}};return y.jsx(Z3.Provider,{value:{projects:e,addProject:s,updateProject:l,deleteProject:c,addProjectTransaction:d,deleteProjectTransaction:f,getProjectStats:m},children:t})},J3=()=>{const t=A.useContext(Z3);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},fJ=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=vr(),[n,r]=A.useState(0),[i,s]=A.useState(!t);if(t&&!i)return null;const l=[{title:"La Hermandad del Ahorro",icon:y.jsx(EQ,{size:48,className:"text-zinc-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),y.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[y.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:y.jsx(Iv,{size:48,className:"text-emerald-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),y.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[y.jsxs("li",{children:["Usa el botn ",y.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),y.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),y.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:y.jsx(HQ,{size:48,className:"text-yellow-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),y.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[y.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),y.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:y.jsx($X,{size:48,className:"text-blue-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:y.jsx(zX,{size:48,className:"text-cyan-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",y.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),y.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),y.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:y.jsx(pQ,{size:48,className:"text-rose-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[y.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",y.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",y.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",y.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),y.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[y.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),y.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),y.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),y.jsx("div",{className:"min-h-[160px]",children:l[n].content}),y.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),y.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&y.jsx(N3,{size:16})]})]})]})]})})},hJ=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(!1),{processScheduledTransactions:i}=kv();return A.useEffect(()=>{i()},[i]),y.jsx(jj,{children:y.jsx(jZ,{children:y.jsx(dJ,{children:y.jsxs("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300",children:[y.jsx("button",{className:"lg:hidden fixed top-4 right-4 z-50 p-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg shadow-lg",onClick:()=>e(!t),children:t?y.jsx(sm,{size:20}):y.jsx(QX,{size:20})}),y.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:y.jsx(DZ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>e(!1)}),y.jsx("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:y.jsx(Zj,{})}),y.jsx(uJ,{}),y.jsx(cJ,{isOpen:n,onClose:()=>r(!1)}),y.jsx(fJ,{}),y.jsx(X3,{position:"top-center"})]})})})})},Um=()=>{const{data:t,add:e,remove:n,update:r}=yl("goals"),i=E=>{const S={...E,currentAmount:0,history:[]};e(S)},s=(E,S)=>{r(E,S)},l=E=>{n(E)},c=(E,S,k)=>{const M=t.find(z=>z.id===E);if(!M)return;const C=new Date().toISOString().split("T")[0],j={id:crypto.randomUUID(),date:C,amount:S,type:"deposit",note:k||"Contribucin manual"},P=M.history?[...M.history,j]:[j];r(E,{currentAmount:(M.currentAmount||0)+S,lastContributionDate:C,history:P})},d=(E,S,k)=>{const M=t.find(z=>z.id===E);if(!M)return;const C=new Date().toISOString().split("T")[0],j={id:crypto.randomUUID(),date:C,amount:S,type:"withdrawal",note:k||"Retiro de fondos"},P=M.history?[...M.history,j]:[j];r(E,{currentAmount:Math.max(0,(M.currentAmount||0)-S),history:P})},f=(E,S)=>{c(E,S,"Cuota Mensual")},m=E=>{if(!E.deadline)return 0;const S=new Date,k=new Date(E.deadline),M=E.targetAmount-E.currentAmount;if(M<=0)return 0;const C=k.getFullYear()-S.getFullYear(),j=k.getMonth()-S.getMonth();let P=C*12+j;return P<1&&(P=1),M/P},p=E=>{const k=b(E,new Date),M=m(E);return k>=M-1},b=(E,S)=>{if(!E.history)return 0;const k=S.getMonth(),M=S.getFullYear();return E.history.reduce((C,j)=>{const[P,z]=j.date.split("-").map(Number);return P===M&&z-1===k?j.type==="deposit"?C+j.amount:C-j.amount:C},0)};return{goals:t,addGoal:i,updateGoal:s,deleteGoal:l,contributeToGoal:f,addContribution:c,withdraw:d,getMonthlyQuota:m,isGoalPaidThisMonth:p,getTotalSavingsAtDate:E=>t.reduce((S,k)=>{if(!k.history||k.history.length===0)return S;const M=new Date(E.getFullYear(),E.getMonth()+1,0),C=k.history.reduce((j,P)=>new Date(P.date)<=M?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return S+Math.max(0,C)},0),getMonthsRemaining:E=>{if(!E.deadline)return 0;const S=new Date,k=new Date(E.deadline),M=k.getFullYear()-S.getFullYear(),C=k.getMonth()-S.getMonth();return Math.max(0,M*12+C)}}},Fm=()=>{const{data:t,add:e,remove:n,update:r}=yl("funds");return{funds:t,addFund:c=>{const d={currentAmount:0,history:[],...c};e(d)},deleteFund:c=>{n(c)},addTransaction:(c,d,f,m)=>{const p=t.find(E=>E.id===c);if(!p)return;const b={id:crypto.randomUUID(),fundId:c,date:new Date().toISOString().split("T")[0],amount:d,type:f,note:m},x=f==="deposit"?p.currentAmount+d:p.currentAmount-d,w=p.history?[b,...p.history]:[b];r(c,{currentAmount:Math.max(0,x),history:w})}}},qm=()=>{const{allTransactions:t}=Ar(),{goals:e}=Um(),{funds:n}=Fm(),{selectedDate:r}=Bd(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),m=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),p=m.filter(k=>k.type==="income").reduce((k,M)=>k+M.amount,0),b=m.filter(k=>k.type==="expense").reduce((k,M)=>k+M.amount,0),w=(e||[]).reduce((k,M)=>{if(!M.history)return k;const C=M.history.reduce((j,P)=>new Date(P.date+"T12:00:00")<=d?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return k+Math.max(0,C)},0),S=(n||[]).reduce((k,M)=>{if(!M.history)return k;const C=M.history.reduce((j,P)=>new Date(P.date+"T12:00:00")<=d?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return k+Math.max(0,C)},0);return p-b-(w+S)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},Cv=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=Bd(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return y.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:y.jsx(mX,{size:16})}),y.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[y.jsx(k3,{size:16,className:"text-zinc-400"}),y.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),y.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:y.jsx(N3,{size:16})}),!l&&y.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},mJ=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=Um(),{funds:s,addTransaction:l}=Fm(),{total:c}=Ar("income"),{total:d}=Ar("expense"),{currency:f}=vr(),m=n.reduce((C,j)=>C+(j.currentAmount||0),0),p=s.reduce((C,j)=>C+j.currentAmount,0),b=c-d-(m+p),[x,w]=A.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[E,S]=A.useState(""),k=(C,j,P,z)=>{w({active:!0,type:C,targetId:j,targetName:P,targetType:z}),S("")},M=()=>{const C=Number(E);if(!(!C||C<=0)){if(x.type==="withdraw")if(x.targetType==="goal"){const j=n.find(P=>P.id===x.targetId);if(!j||j.currentAmount<C)return Lt.error("Fondos insuficientes en la meta.");i(x.targetId,C)}else{const j=s.find(P=>P.id===x.targetId);if(!j||j.currentAmount<C)return Lt.error("Fondos insuficientes en el fondo.");l(x.targetId,C,"withdraw","Retiro desde Gestin")}else{if(b<C)return Lt.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);x.targetType==="goal"?r(x.targetId,C,"Ingreso desde Gestin"):l(x.targetId,C,"deposit","Ingreso desde Gestin")}w({...x,active:!1})}};return y.jsx(Ha,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:x.active?y.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[y.jsx("button",{onClick:()=>w({...x,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[x.type==="deposit"?"Ingresar en":"Retirar de"," ",x.targetName]}),y.jsx("p",{className:"text-sm text-zinc-500",children:x.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${x.targetType==="goal"?"meta":"fondo"}: ${f}${x.targetType==="goal"?n.find(C=>C.id===x.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(C=>C.id===x.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:E,onChange:C=>S(C.target.value),onKeyDown:C=>C.key==="Enter"&&M()})]}),y.jsx("button",{onClick:M,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${x.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):y.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(vc,{size:14})," Metas de Ahorro"]}),n.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,C.currentAmount.toFixed(2)," ",y.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,C.targetAmount.toLocaleString()]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",C.id,C.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx(jO,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",C.id,C.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(zO,{size:18})})]})]},C.id))]}),y.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(Bm,{size:14})," Fondos Independientes"]}),s.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,C.currentAmount.toFixed(2)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",C.id,C.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx(jO,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",C.id,C.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(zO,{size:18})})]})]},C.id))]})]})})},pJ=({isOpen:t,onClose:e})=>{const{allTransactions:n}=Ar(),{selectedDate:r}=Bd(),{currency:i}=vr(),s=A.useMemo(()=>[...n].sort((x,w)=>new Date(w.date).getTime()-new Date(x.date).getTime()),[n]),[l,c]=A.useState(""),f=s.filter(x=>x.description.toLowerCase().includes(l.toLowerCase())||x.category.toLowerCase().includes(l.toLowerCase())).filter(x=>{const[w,E]=x.date.split("-").map(Number);return E===r.getMonth()+1&&w===r.getFullYear()}),m=f.filter(x=>x.type==="income").reduce((x,w)=>x+w.amount,0),p=f.filter(x=>x.type==="expense").reduce((x,w)=>x+w.amount,0),b=m-p;return y.jsx(Ha,{isOpen:t,onClose:e,title:"Libro Contable",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(Cv,{})}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-2 border-b border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Ingresos"}),y.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold",children:["+",i,m.toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Balance"}),y.jsxs("p",{className:`font-mono font-bold ${b>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"}`,children:[b>=0?"+":"",i,Math.abs(b).toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Gastos"}),y.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold",children:["-",i,p.toFixed(2)]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx(BO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),y.jsx("input",{type:"text",placeholder:"Buscar transaccin...",className:"w-full bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-300 dark:focus:border-zinc-700",value:l,onChange:x=>c(x.target.value)})]}),y.jsx("div",{className:"space-y-2 min-h-[300px]",children:f.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-400 opacity-60",children:[y.jsx(BO,{size:48,className:"mb-4"}),y.jsx("p",{className:"italic text-sm",children:"No hay movimientos que coincidan."})]}):f.map(x=>y.jsxs("div",{className:"group flex items-center justify-between p-3 bg-zinc-50/50 dark:bg-zinc-900/30 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-all border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:[y.jsxs("div",{className:"flex items-center gap-3.5",children:[y.jsx("div",{className:Te("w-10 h-10 rounded-full flex items-center justify-center shadow-sm",x.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:x.type==="income"?y.jsx(iE,{size:18}):y.jsx(QW,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 leading-tight",children:x.description||"Sin descripcin"}),y.jsxs("div",{className:"flex gap-2 text-[11px] text-zinc-500 mt-0.5 font-medium uppercase tracking-wide",children:[y.jsx("span",{children:new Date(x.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),y.jsx("span",{className:"opacity-50",children:""}),y.jsx("span",{children:x.category})]})]})]}),y.jsxs("span",{className:Te("font-mono font-bold text-sm tracking-tight",x.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[x.type==="income"?"+":"-",i,x.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},x.id))})]})})},gJ=()=>{const{selectedDate:t}=Bd(),{transactions:e}=Ar(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=Um(),{funds:c}=Fm(),{currency:d}=vr(),[f,m]=A.useState(!1),[p,b]=A.useState(!1),x=e.filter(z=>{const[R,O]=z.date.split("-").map(Number);return O===t.getMonth()+1&&R===t.getFullYear()}),w=x.filter(z=>z.type==="income").reduce((z,R)=>z+R.amount,0),E=x.filter(z=>z.type==="expense").reduce((z,R)=>z+R.amount,0),S=r(t),k=c.reduce((z,R)=>z+R.currentAmount,0),M=S+k,C=z=>{const R=i(z),O=s(z);return R?y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),y.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",O.toFixed(2)]}),y.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:j}=qm(),P=[{label:"Saldo Disponible",amount:j,icon:Iv,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:M,icon:vc,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:w,icon:D3,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:E,icon:M3,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>b(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:y.jsx(eX,{size:20})}),y.jsx(Cv,{})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map(z=>y.jsxs("div",{onClick:()=>{z.label==="Ahorro Total"&&m(!0)},className:`${z.bg} border ${z.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${z.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[z.label,z.label==="Ahorro Total"&&y.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),y.jsx(z.icon,{size:20,className:z.color})]}),y.jsxs("p",{className:`text-3xl font-mono font-bold ${z.color}`,children:[d,z.amount.toFixed(2)]})]},z.label))}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[y.jsx(vc,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?y.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):y.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(z=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:y.jsx(vc,{size:20})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:z.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[l(z)," meses restantes"]})]})]}),C(z)]},z.id)),n.length>3&&y.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[y.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",y.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",y.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),y.jsx(mJ,{isOpen:f,onClose:()=>m(!1)}),y.jsx(pJ,{isOpen:p,onClose:()=>b(!1)})]})},e6=({type:t,onSubmit:e,categories:n,onAddCategory:r})=>{const{currency:i}=vr(),{addScheduled:s}=kv(),[l,c]=A.useState(""),[d,f]=A.useState(n[0]||""),[m,p]=A.useState(""),[b,x]=A.useState(new Date().toISOString().split("T")[0]),[w,E]=A.useState(!1),[S,k]=A.useState(new Date().getDate()),[M,C]=A.useState(!1),[j,P]=A.useState(""),z=O=>{O.preventDefault(),!(!l||!d)&&(w?s({type:t,amount:Number(l),category:d,description:m,dayOfMonth:Number(S)}):e({amount:Number(l),type:t,category:d,description:m,date:b}),c(""),p(""),E(!1))},R=()=>{j.trim()&&(r(j.trim()),f(j.trim()),P(""),C(!1))};return y.jsxs("form",{onSubmit:z,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[y.jsxs("h3",{className:Te("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[y.jsx(Os,{size:20}),w?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:i}),y.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:l,onChange:O=>c(O.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),y.jsxs("div",{className:Te("p-4 rounded-xl border transition-all duration-300",w?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>E(!w),children:[y.jsx("div",{className:Te("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",w?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:y.jsx("div",{className:Te("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",w?"translate-x-5":"translate-x-0")})}),y.jsx("div",{className:"flex flex-col",children:y.jsx("span",{className:Te("text-sm font-bold transition-colors",w?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:w?"Transaccin Recurrente":"Pago nico"})})]}),w&&y.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[y.jsx("div",{className:"text-right mr-2",children:y.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),y.jsxs("div",{className:"relative",children:[y.jsx(I3,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),y.jsx("input",{type:"number",min:"1",max:"31",value:S,onChange:O=>k(Number(O.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),w&&y.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[y.jsx(yQ,{size:14,className:"mt-0.5"}),y.jsxs("p",{children:["Se agregar automticamente cada da ",y.jsx("strong",{children:S})," del mes. Te avisaremos 2 das antes."]})]})]}),!w&&y.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[y.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),y.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:b,onChange:O=>x(O.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:M?y.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[y.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:j,onChange:O=>P(O.target.value),onKeyDown:O=>O.key==="Enter"&&(O.preventDefault(),R())}),y.jsx("button",{type:"button",onClick:R,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:y.jsx(Os,{size:20})}),y.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):y.jsxs(y.Fragment,{children:[n.map(O=>y.jsx("button",{type:"button",onClick:()=>f(O),className:Te("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",d===O?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:O},O)),y.jsxs("button",{type:"button",onClick:()=>C(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[y.jsx(Os,{size:12})," Nueva"]})]})})]}),y.jsxs("div",{className:"relative",children:[y.jsx(MQ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),y.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:O=>p(O.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),y.jsxs("button",{type:"submit",className:Te("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[y.jsx(bQ,{size:20}),w?"Programar Recurrencia":"Guardar Transaccin"]})]})},t6=({transactions:t,onDelete:e})=>t.length===0?y.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):y.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),y.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(n=>y.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:n.date}),y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="income"?y.jsx(kd,{size:16,className:"text-emerald-600"}):y.jsx(ry,{size:16,className:"text-rose-600"}),y.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[n.description,n.isRecurring&&y.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:n.category||"General"})}),y.jsxs("td",{className:Te("px-6 py-4 text-right font-mono font-bold text-base",n.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[n.type==="expense"?"-":"+","$",n.amount.toFixed(2)]}),y.jsx("td",{className:"px-6 py-4 text-center",children:y.jsx("button",{onClick:()=>e(n.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:y.jsx(Ps,{size:18})})})]},n.id))})]})})});var yJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wT(t){if(typeof t!="string")return!1;var e=yJ;return e.includes(t)}var vJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bJ=new Set(vJ);function n6(t){return typeof t!="string"?!1:bJ.has(t)}function r6(t){return typeof t=="string"&&t.startsWith("data-")}function ll(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(n6(n)||r6(n))&&(e[n]=t[n]);return e}function ET(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ll(e)}return typeof t=="object"&&!Array.isArray(t)?ll(t):null}function Ri(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(n6(n)||r6(n)||wT(n))&&(e[n]=t[n]);return e}var xJ=["children","width","height","viewBox","className","style","title","desc"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function _J(t,e){if(t==null)return{};var n,r,i=wJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i6=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,m=_J(t,xJ),p=s||{width:r,height:i,x:0,y:0},b=Te("recharts-surface",l);return A.createElement("svg",lE({},Ri(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),EJ=["children","className"];function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function SJ(t,e){if(t==null)return{};var n,r,i=TJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vs=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=SJ(t,EJ),s=Te("recharts-layer",r);return A.createElement("g",cE({className:s},Ri(i),{ref:e}),n)}),AJ=A.createContext(null);function Pt(t){return function(){return t}}const a6=Math.cos,sy=Math.sin,ua=Math.sqrt,oy=Math.PI,Nv=2*oy,uE=Math.PI,dE=2*uE,Jl=1e-6,IJ=dE-Jl;function s6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return s6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class CJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?s6:kJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Jl)if(!(Math.abs(p*d-f*m)>Jl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,w=i-c,E=d*d+f*f,S=x*x+w*w,k=Math.sqrt(E),M=Math.sqrt(b),C=s*Math.tan((uE-Math.acos((E+b-S)/(2*k*M)))/2),j=C/M,P=C/k;Math.abs(j-1)>Jl&&this._append`L${e+j*m},${n+j*p}`,this._append`A${s},${s},0,0,${+(p*x>m*w)},${this._x1=e+P*d},${this._y1=n+P*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Jl||Math.abs(this._y1-m)>Jl)&&this._append`L${f},${m}`,r&&(b<0&&(b=b%dE+dE),b>IJ?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:b>Jl&&this._append`A${r},${r},0,${+(b>=uE)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ST(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new CJ(e)}function TT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function o6(t){this._context=t}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ov(t){return new o6(t)}function l6(t){return t[0]}function c6(t){return t[1]}function u6(t,e){var n=Pt(!0),r=null,i=Ov,s=null,l=ST(c);t=typeof t=="function"?t:t===void 0?l6:Pt(t),e=typeof e=="function"?e:e===void 0?c6:Pt(e);function c(d){var f,m=(d=TT(d)).length,p,b=!1,x;for(r==null&&(s=i(x=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,f,d),+e(p,f,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Pt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Pt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Pt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function $g(t,e,n){var r=null,i=Pt(!0),s=null,l=Ov,c=null,d=ST(f);t=typeof t=="function"?t:t===void 0?l6:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?c6:Pt(+n);function f(p){var b,x,w,E=(p=TT(p)).length,S,k=!1,M,C=new Array(E),j=new Array(E);for(s==null&&(c=l(M=d())),b=0;b<=E;++b){if(!(b<E&&i(S=p[b],b,p))===k)if(k=!k)x=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=b-1;w>=x;--w)c.point(C[w],j[w]);c.lineEnd(),c.areaEnd()}k&&(C[b]=+t(S,b,p),j[b]=+e(S,b,p),c.point(r?+r(S,b,p):C[b],n?+n(S,b,p):j[b]))}if(M)return c=null,M+""||null}function m(){return u6().defined(i).curve(l).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Pt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Pt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Pt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Pt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Pt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Pt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Pt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class d6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NJ(t){return new d6(t,!0)}function OJ(t){return new d6(t,!1)}const AT={draw(t,e){const n=ua(e/oy);t.moveTo(n,0),t.arc(0,0,n,0,Nv)}},PJ={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},f6=ua(1/3),RJ=f6*2,MJ={draw(t,e){const n=ua(e/RJ),r=n*f6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},DJ={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},jJ=.8908130915292852,h6=sy(oy/10)/sy(7*oy/10),zJ=sy(Nv/10)*h6,LJ=-a6(Nv/10)*h6,VJ={draw(t,e){const n=ua(e*jJ),r=zJ*n,i=LJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Nv*s/5,c=a6(l),d=sy(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},U1=ua(3),BJ={draw(t,e){const n=-ua(e/(U1*3));t.moveTo(0,n*2),t.lineTo(-U1*n,-n),t.lineTo(U1*n,-n),t.closePath()}},ki=-.5,Ci=ua(3)/2,fE=1/ua(12),UJ=(fE/2+1)*3,FJ={draw(t,e){const n=ua(e/UJ),r=n/2,i=n*fE,s=r,l=n*fE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(ki*r-Ci*i,Ci*r+ki*i),t.lineTo(ki*s-Ci*l,Ci*s+ki*l),t.lineTo(ki*c-Ci*d,Ci*c+ki*d),t.lineTo(ki*r+Ci*i,ki*i-Ci*r),t.lineTo(ki*s+Ci*l,ki*l-Ci*s),t.lineTo(ki*c+Ci*d,ki*d-Ci*c),t.closePath()}};function qJ(t,e){let n=null,r=ST(i);t=typeof t=="function"?t:Pt(t||AT),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Pt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ly(){}function cy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $J(t){return new m6(t)}function p6(t){this._context=t}p6.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HJ(t){return new p6(t)}function g6(t){this._context=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GJ(t){return new g6(t)}function y6(t){this._context=t}y6.prototype={areaStart:ly,areaEnd:ly,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function KJ(t){return new y6(t)}function YO(t){return t<0?-1:1}function WO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(YO(s)+YO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function XO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function F1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function uy(t){this._context=t}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,XO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,XO(this,n=WO(this,t,e)),n);break;default:F1(this,this._t0,n=WO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function v6(t){this._context=new b6(t)}(v6.prototype=Object.create(uy.prototype)).point=function(t,e){uy.prototype.point.call(this,e,t)};function b6(t){this._context=t}b6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function YJ(t){return new uy(t)}function WJ(t){return new v6(t)}function x6(t){this._context=t}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QO(t),i=QO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function XJ(t){return new x6(t)}function Pv(t,e){this._context=t,this._t=e}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function QJ(t){return new Pv(t,.5)}function ZJ(t){return new Pv(t,0)}function JJ(t){return new Pv(t,1)}function Mc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function eee(t,e){return t[e]}function tee(t){const e=[];return e.key=t,e}function nee(){var t=Pt([]),e=hE,n=Mc,r=eee;function i(s){var l=Array.from(t.apply(this,arguments),tee),c,d=l.length,f=-1,m;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,s)]).data=p;for(c=0,m=TT(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Pt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?hE:typeof s=="function"?s:Pt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Mc,i):n},i}function ree(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Mc(t,e)}}function iee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Mc(t,e)}}function aee(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,x=(p-b)/2,w=0;w<c;++w){var E=t[e[w]],S=E[r][1]||0,k=E[r-1][1]||0;x+=S-k}d+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Mc(t,e)}}var q1={},$1={},ZO;function see(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})($1)),$1}var H1={},JO;function _6(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(H1)),H1}var G1={},eP;function IT(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(G1)),G1}var K1={},Y1={},tP;function oee(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Y1)),Y1}var nP;function kT(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oee(),n=IT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(K1)),K1}var rP;function CT(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),n=_6(),r=IT(),i=kT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=s})(q1)),q1}var W1,iP;function lee(){return iP||(iP=1,W1=CT().get),W1}var cee=lee();const Nd=Za(cee);var uee=4;function Wo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Jt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+Wo(c)+s:i+s},"")}var ai=t=>t===0?0:t>0?1:-1,Wa=t=>typeof t=="number"&&t!=+t,Bs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ue=t=>(typeof t=="number"||t instanceof Number)&&!Wa(t),Xa=t=>Ue(t)||typeof t=="string",dee=0,om=t=>{var e=++dee;return"".concat(t||"").concat(e)},oa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&typeof e!="string")return r;var s;if(Bs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Wa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},w6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function sr(t,e,n){return Ue(t)&&Ue(e)?Wo(t+n*(e-t)):e}function fee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Nd(r,e))===n)}var $n=t=>t===null||typeof t>"u",$m=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function hee(t){return t!=null}function Hm(){}var mee=["type","size","sizeType"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vee(t,e){if(t==null)return{};var n,r,i=bee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E6={symbolCircle:AT,symbolCross:PJ,symbolDiamond:MJ,symbolSquare:DJ,symbolStar:VJ,symbolTriangle:BJ,symbolWye:FJ},xee=Math.PI/180,_ee=t=>{var e="symbol".concat($m(t));return E6[e]||AT},wee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*xee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Eee=(t,e)=>{E6["symbol".concat($m(t))]=e},S6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=vee(t,mee),s=sP(sP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=_ee(l),x=qJ().type(b).size(wee(n,r,l)),w=x();if(w!==null)return w},{className:d,cx:f,cy:m}=s,p=Ri(s);return Ue(f)&&Ue(m)&&Ue(n)?A.createElement("path",mE({},p,{className:Te("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};S6.registerSymbol=Eee;var T6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,See=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{wT(i)&&(r[i]=(s=>n[i](n,s)))}),r},Tee=(t,e,n)=>r=>(t(e,n,r),null),NT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];wT(i)&&typeof s=="function"&&(r||(r={}),r[i]=Tee(s,e,n))}),r};function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ji(t,e){var n=Aee({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var X1={},Q1={},lP;function Nee(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Q1)),Q1}var Z1={},cP;function A6(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Z1)),Z1}var J1={},e_={},t_={},uP;function Oee(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(t_)),t_}var dP;function OT(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(e_)),e_}var n_={},fP;function Pee(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(n_)),n_}var hP;function Ree(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OT(),n=Pee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(J1)),J1}var r_={},i_={},mP;function Mee(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(i_)),i_}var a_={},s_={},o_={},l_={},pP;function I6(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(l_)),l_}var c_={},gP;function k6(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(c_)),c_}var u_={},yP;function C6(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(u_)),u_}var vP;function Dee(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I6(),n=k6(),r=C6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function x(w,E,S,k,M,C){const j=b(w,E,S,k,M,C);return j!==void 0?!!j:s(w,E,x,C)},new Map)}function s(m,p,b,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,x);case"function":return Object.keys(p).length>0?s(m,{...p},b,x):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,x){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,x);if(p instanceof Map)return c(m,p,b,x);if(p instanceof Set)return f(m,p,b,x);const w=Object.keys(p);if(m==null||n.isPrimitive(m))return w.length===0;if(w.length===0)return!0;if(x?.has(p))return x.get(p)===m;x?.set(p,m);try{for(let E=0;E<w.length;E++){const S=w[E];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!b(m[S],p[S],S,m,p,x))return!1}return!0}finally{x?.delete(p)}}function c(m,p,b,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,E]of p.entries()){const S=m.get(w);if(b(S,E,w,m,p,x)===!1)return!1}return!0}function d(m,p,b,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let E=0;E<p.length;E++){const S=p[E];let k=!1;for(let M=0;M<m.length;M++){if(w.has(M))continue;const C=m[M];let j=!1;if(b(C,S,E,m,p,x)&&(j=!0),j){w.add(M),k=!0;break}}if(!k)return!1}return!0}function f(m,p,b,x){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,x):!1}t.isMatchWith=i,t.isSetMatch=f})(o_)),o_}var bP;function N6(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dee();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(s_)),s_}var d_={},f_={},h_={},xP;function jee(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(h_)),h_}var m_={},_P;function O6(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(m_)),m_}var p_={},wP;function P6(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",w="[object Error]",E="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",j="[object BigUint64Array]",P="[object Int8Array]",z="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=V,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=R,t.int8ArrayTag=P,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(p_)),p_}var g_={},EP;function zee(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(g_)),g_}var SP;function R6(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jee(),n=O6(),r=P6(),i=k6(),s=zee();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,x=new Map,w=void 0){const E=w?.(m,p,b,x);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const S=new Array(m.length);x.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,x,w);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;x.set(m,S);for(const[k,M]of m)S.set(k,c(M,k,b,x,w));return S}if(m instanceof Set){const S=new Set;x.set(m,S);for(const k of m)S.add(c(k,void 0,b,x,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,x,w);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,S),d(S,m,b,x,w),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return x.set(m,S),d(S,m,b,x,w),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof Error){const S=new m.constructor;return x.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,b,x,w),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof Number){const S=new Number(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof String){const S=new String(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return x.set(m,S),d(S,m,b,x,w),S}return m}function d(m,p,b=m,x,w){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const k=E[S],M=Object.getOwnPropertyDescriptor(m,k);(M==null||M.writable)&&(m[k]=c(p[k],k,b,x,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(f_)),f_}var TP;function Lee(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(d_)),d_}var AP;function Vee(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=Lee();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(a_)),a_}var y_={},v_={},b_={},IP;function Bee(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6(),n=P6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=s?.(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(b_)),b_}var kP;function Uee(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(v_)),v_}var x_={},__={},CP;function M6(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(__)),__}var w_={},NP;function Fee(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(w_)),w_}var OP;function qee(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6(),n=M6(),r=Fee(),i=kT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(x_)),x_}var PP;function $ee(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=IT(),r=Uee(),i=CT(),s=qee();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(y_)),y_}var RP;function Hee(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A6(),n=Mee(),r=Vee(),i=$ee();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(r_)),r_}var MP;function Gee(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nee(),n=A6(),r=Ree(),i=Hee();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(X1)),X1}var E_,DP;function Kee(){return DP||(DP=1,E_=Gee().uniqBy),E_}var Yee=Kee();const jP=Za(Yee);function Wee(t,e,n){return e===!0?jP(t,n):typeof e=="function"?jP(t,e):t}var S_={exports:{}},T_={},A_={exports:{}},I_={};var zP;function Xee(){if(zP)return I_;zP=1;var t=Vd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var x=b(),w=r({inst:{value:x,getSnapshot:b}}),E=w[0].inst,S=w[1];return s(function(){E.value=x,E.getSnapshot=b,d(E)&&S({inst:E})},[p,x,b]),i(function(){return d(E)&&S({inst:E}),p(function(){d(E)&&S({inst:E})})},[p]),l(x),x}function d(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function f(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return I_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,I_}var LP;function Qee(){return LP||(LP=1,A_.exports=Xee()),A_.exports}var VP;function Zee(){if(VP)return T_;VP=1;var t=Vd(),e=Qee();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return T_.useSyncExternalStoreWithSelector=function(f,m,p,b,x){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function k(z){if(!M){if(M=!0,C=z,z=b(z),x!==void 0&&E.hasValue){var R=E.value;if(x(R,z))return j=R}return j=z}if(R=j,r(C,z))return R;var O=b(z);return x!==void 0&&x(R,O)?(C=z,R):(C=z,j=O)}var M=!1,C,j,P=p===void 0?null:p;return[function(){return k(m())},P===null?void 0:function(){return k(P())}]},[m,p,b,x]);var S=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},T_}var BP;function Jee(){return BP||(BP=1,S_.exports=Zee()),S_.exports}var ete=Jee(),PT=A.createContext(null),tte=t=>t,dn=()=>{var t=A.useContext(PT);return t?t.store.dispatch:tte},T0=()=>{},nte=()=>T0,rte=(t,e)=>t===e;function $e(t){var e=A.useContext(PT);return ete.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:nte,e?e.store.getState:T0,e?e.store.getState:T0,e?t:T0,rte)}function ite(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ate(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ste(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var UP=t=>Array.isArray(t)?t:[t];function ote(t){const e=Array.isArray(t[0])?t[0]:t;return ste(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function lte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var cte=class{constructor(t){this.value=t}deref(){return this.value}},ute=typeof WeakRef<"u"?WeakRef:cte,dte=0,FP=1;function Hg(){return{s:dte,v:void 0,o:null,p:null}}function D6(t,e={}){let n=Hg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let p=0,b=d;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const E=w.get(x);E===void 0?(c=Hg(),w.set(x,c)):c=E}else{let w=c.p;w===null&&(c.p=w=new Map);const E=w.get(x);E===void 0?(c=Hg(),w.set(x,c)):c=E}}const f=c;let m;if(c.s===FP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new ute(m):m}return f.s=FP,f.v=m,m}return l.clearCache=()=>{n=Hg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function fte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),ite(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:b=[],argsMemoize:x=D6,argsMemoizeOptions:w=[]}=m,E=UP(b),S=UP(w),k=ote(i),M=p(function(){return s++,f.apply(null,arguments)},...E),C=x(function(){l++;const P=lte(k,arguments);return c=M.apply(null,P),c},...S);return Object.assign(C,{resultFunc:f,memoizedResultFunc:M,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var le=fte(D6),hte=Object.assign((t,e=le)=>{ate(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>hte}),k_={},C_={},N_={},qP;function mte(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(N_)),N_}var O_={},P_={},$P;function j6(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(P_)),P_}var HP;function pte(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(O_)),O_}var GP;function gte(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mte(),n=pte(),r=kT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,w)=>{let E=x;for(let S=0;S<w.length&&E!=null;++S)E=E[w[S]];return E},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:p.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(x.criteria[E],w.criteria[E],c[E]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(C_)),C_}var R_={},KP;function yte(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(R_)),R_}var M_={},YP;function z6(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6(),n=OT(),r=I6(),i=C6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(M_)),M_}var WP;function vte(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte(),n=yte(),r=z6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(k_)),k_}var D_,XP;function bte(){return XP||(XP=1,D_=vte().sortBy),D_}var xte=bte();const Rv=Za(xte);var L6=t=>t.legend.settings,_te=t=>t.legend.size,wte=t=>t.legend.payload;le([wte,L6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Rv(r,n):r});var Gg=1;function Ete(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Gg||Math.abs(l.left-e.left)>Gg||Math.abs(l.top-e.top)>Gg||Math.abs(l.width-e.width)>Gg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function rr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ste=typeof Symbol=="function"&&Symbol.observable||"@@observable",QP=Ste,j_=()=>Math.random().toString(36).substring(7).split("").join("."),Tte={INIT:`@@redux/INIT${j_()}`,REPLACE:`@@redux/REPLACE${j_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${j_()}`},dy=Tte;function RT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function V6(t,e,n){if(typeof t!="function")throw new Error(rr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(V6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,k)=>{l.set(k,S)}))}function m(){if(d)throw new Error(rr(3));return i}function p(S){if(typeof S!="function")throw new Error(rr(4));if(d)throw new Error(rr(5));let k=!0;f();const M=c++;return l.set(M,S),function(){if(k){if(d)throw new Error(rr(6));k=!1,f(),l.delete(M),s=null}}}function b(S){if(!RT(S))throw new Error(rr(7));if(typeof S.type>"u")throw new Error(rr(8));if(typeof S.type!="string")throw new Error(rr(17));if(d)throw new Error(rr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(M=>{M()}),S}function x(S){if(typeof S!="function")throw new Error(rr(10));r=S,b({type:dy.REPLACE})}function w(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(rr(11));function M(){const j=k;j.next&&j.next(m())}return M(),{unsubscribe:S(M)}},[QP](){return this}}}return b({type:dy.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:x,[QP]:w}}function Ate(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:dy.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:dy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function B6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{Ate(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],x=l[p],w=b(x,c);if(typeof w>"u")throw c&&c.type,new Error(rr(14));f[p]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function fy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ite(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(rr(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=fy(...c)(i.dispatch),{...i,dispatch:s}}}function U6(t){return RT(t)&&"type"in t&&typeof t.type=="string"}var F6=Symbol.for("immer-nothing"),ZP=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var si=Object,Od=si.getPrototypeOf,hy="constructor",Mv="prototype",pE="configurable",my="enumerable",A0="writable",lm="value",Us=t=>!!t&&!!t[Ir];function la(t){return t?q6(t)||jv(t)||!!t[ZP]||!!t[hy]?.[ZP]||zv(t)||Lv(t):!1}var kte=si[Mv][hy].toString(),JP=new WeakMap;function q6(t){if(!t||!MT(t))return!1;const e=Od(t);if(e===null||e===si[Mv])return!0;const n=si.hasOwnProperty.call(e,hy)&&e[hy];if(n===Object)return!0;if(!Qu(n))return!1;let r=JP.get(n);return r===void 0&&(r=Function.toString.call(n),JP.set(n,r)),r===kte}function Dv(t,e,n=!0){Gm(t)===0?(n?Reflect.ownKeys(t):si.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gm(t){const e=t[Ir];return e?e.type_:jv(t)?1:zv(t)?2:Lv(t)?3:0}var eR=(t,e,n=Gm(t))=>n===2?t.has(e):si[Mv].hasOwnProperty.call(t,e),gE=(t,e,n=Gm(t))=>n===2?t.get(e):t[e],py=(t,e,n,r=Gm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Cte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var jv=Array.isArray,zv=t=>t instanceof Map,Lv=t=>t instanceof Set,MT=t=>typeof t=="object",Qu=t=>typeof t=="function",z_=t=>typeof t=="boolean";function Nte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var xs=t=>t.copy_||t.base_,DT=t=>t.modified_?t.copy_:t.base_;function yE(t,e){if(zv(t))return new Map(t);if(Lv(t))return new Set(t);if(jv(t))return Array[Mv].slice.call(t);const n=q6(t);if(e===!0||e==="class_only"&&!n){const r=si.getOwnPropertyDescriptors(t);delete r[Ir];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[A0]===!1&&(c[A0]=!0,c[pE]=!0),(c.get||c.set)&&(r[l]={[pE]:!0,[A0]:!0,[my]:c[my],[lm]:t[l]})}return si.create(Od(t),r)}else{const r=Od(t);if(r!==null&&n)return{...t};const i=si.create(r);return si.assign(i,t)}}function jT(t,e=!1){return Vv(t)||Us(t)||!la(t)||(Gm(t)>1&&si.defineProperties(t,{set:Kg,add:Kg,clear:Kg,delete:Kg}),si.freeze(t),e&&Dv(t,(n,r)=>{jT(r,!0)},!1)),t}function Ote(){ta(2)}var Kg={[lm]:Ote};function Vv(t){return t===null||!MT(t)?!0:si.isFrozen(t)}var gy="MapSet",vE="Patches",tR="ArrayMethods",$6={};function Dc(t){const e=$6[t];return e||ta(0,t),e}var nR=t=>!!$6[t],cm,H6=()=>cm,Pte=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nR(gy)?Dc(gy):void 0,arrayMethodsPlugin_:nR(tR)?Dc(tR):void 0});function rR(t,e){e&&(t.patchPlugin_=Dc(vE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bE(t){xE(t),t.drafts_.forEach(Rte),t.drafts_=null}function xE(t){t===cm&&(cm=t.parent_)}var iR=t=>cm=Pte(cm,t);function Rte(t){const e=t[Ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ir].modified_&&(bE(e),ta(4)),la(t)&&(t=sR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ir].base_,t,e)}else t=sR(e,n);return Mte(e,t,!0),bE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F6?t:void 0}function sR(t,e){if(Vv(e))return e;const n=e[Ir];if(!n)return yy(e,t.handledSet_,t);if(!Bv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Y6(n,t)}return n.copy_}function Mte(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jT(e,n)}function G6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Bv=(t,e)=>t.scope_===e,Dte=[];function K6(t,e,n,r){const i=xs(t),s=t.type_;if(r!==void 0&&gE(i,r,s)===e){py(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Dv(i,(d,f)=>{if(Us(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=t.draftLocations_.get(e)??Dte;for(const c of l)py(i,c,n,s)}function jte(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Bv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=DT(s);K6(t,s.draft_??s,l,n),Y6(s,i)})}function Y6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}G6(t)}}function zte(t,e,n){const{scope_:r}=t;if(Us(n)){const i=n[Ir];Bv(i,r)&&i.callbacks_.push(function(){I0(t);const l=DT(i);K6(t,n,l,e)})}else la(n)&&t.callbacks_.push(function(){const s=xs(t);t.type_===3?s.has(n)&&yy(n,r.handledSet_,r):gE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&yy(gE(t.copy_,e,t.type_),r.handledSet_,r)})}function yy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Us(t)||e.has(t)||!la(t)||Vv(t)||(e.add(t),Dv(t,(r,i)=>{if(Us(i)){const s=i[Ir];if(Bv(s,n)){const l=DT(s);py(t,r,l,t.type_),G6(s)}}else la(i)&&yy(i,e,n)})),t}function Lte(t,e){const n=jv(t),r={type_:n?1:0,scope_:e?e.scope_:H6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=vy;n&&(i=[r],s=um);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var vy={get(t,e){if(e===Ir)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=xs(t);if(!eR(i,e,t.type_))return Vte(t,i,e);const s=i[e];if(t.finalized_||!la(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Nte(e))return s;if(s===L_(t.base_,e)){I0(t);const l=t.type_===1?+e:e,c=wE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in xs(t)},ownKeys(t){return Reflect.ownKeys(xs(t))},set(t,e,n){const r=W6(xs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=L_(xs(t),e),s=i?.[Ir];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Cte(n,i)&&(n!==void 0||eR(t.base_,e,t.type_)))return!0;I0(t),_E(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),zte(t,e,n)),!0},deleteProperty(t,e){return I0(t),L_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),_E(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[A0]:!0,[pE]:t.type_!==1||e!=="length",[my]:r[my],[lm]:n[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return Od(t.base_)},setPrototypeOf(){ta(12)}},um={};for(let t in vy){let e=vy[t];um[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}um.deleteProperty=function(t,e){return um.set.call(this,t,e,void 0)};um.set=function(t,e,n){return vy.set.call(this,t[0],e,n,t[0])};function L_(t,e){const n=t[Ir];return(n?xs(n):t)[e]}function Vte(t,e,n){const r=W6(e,n);return r?lm in r?r[lm]:r.get?.call(t.draft_):void 0}function W6(t,e){if(!(e in t))return;let n=Od(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Od(n)}}function _E(t){t.modified_||(t.modified_=!0,t.parent_&&_E(t.parent_))}function I0(t){t.copy_||(t.assigned_=new Map,t.copy_=yE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Qu(n)&&!Qu(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}Qu(r)||ta(6),i!==void 0&&!Qu(i)&&ta(7);let s;if(la(n)){const l=iR(this),c=wE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?bE(l):xE(l)}return rR(l,i),aR(s,l)}else if(!n||!MT(n)){if(s=r(n),s===void 0&&(s=n),s===F6&&(s=void 0),this.autoFreeze_&&jT(s,!0),i){const l=[],c=[];Dc(vE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else ta(1,n)},this.produceWithPatches=(n,r)=>{if(Qu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},z_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),z_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),z_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){la(e)||ta(8),Us(e)&&(e=sa(e));const n=iR(this),r=wE(n,e,void 0);return r[Ir].isManual_=!0,xE(n),r}finishDraft(e,n){const r=e&&e[Ir];(!r||!r.isManual_)&&ta(9);const{scope_:i}=r;return rR(i,n),aR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Dc(vE).applyPatches_;return Us(e)?i(e,n):this.produce(e,s=>i(s,n))}};function wE(t,e,n,r){const[i,s]=zv(e)?Dc(gy).proxyMap_(e,n):Lv(e)?Dc(gy).proxySet_(e,n):Lte(e,n);return(n?.scope_??H6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?jte(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function sa(t){return Us(t)||ta(10,t),X6(t)}function X6(t){if(!la(t)||Vv(t))return t;const e=t[Ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=yE(t,!0);return Dv(n,(i,s)=>{py(n,i,X6(s))},r),e&&(e.finalized_=!1),n}var Ute=new Bte,Q6=Ute.produce;function Z6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Fte=Z6(),qte=Z6,$te=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fy:fy.apply(null,arguments)};function Mi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(li(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>U6(r)&&r.type===t,n}var J6=class Ch extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ch.prototype)}static get[Symbol.species](){return Ch}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ch(...e[0].concat(this)):new Ch(...e.concat(this))}};function oR(t){return la(t)?Q6(t,()=>{}):t}function Yg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Hte(t){return typeof t=="boolean"}var Gte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new J6;return n&&(Hte(n)?l.push(Fte):l.push(qte(n.extraArgument))),l},eL="RTK_autoBatch",qt=()=>t=>({payload:t,meta:{[eL]:!0}}),lR=t=>e=>{setTimeout(e,t)},tL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lR(10):t.type==="callback"?t.queueNotification:lR(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[eL],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},Kte=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new J6(t);return r&&i.push(tL(typeof r=="object"?r:void 0)),i};function Yte(t){const e=Gte(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(RT(n))c=B6(n);else throw new Error(li(1));let d;typeof r=="function"?d=r(e):d=e();let f=fy;i&&(f=$te({trace:!1,...typeof i=="object"&&i}));const m=Ite(...d),p=Kte(m);let b=typeof l=="function"?l(p):p();const x=f(...b);return V6(c,s,x)}function nL(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(li(28));if(c in e)throw new Error(li(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Wte(t){return typeof t=="function"}function Xte(t,e){let[n,r,i]=nL(e),s;if(Wte(t))s=()=>oR(t());else{const c=oR(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Us(m)){const x=p(m,d);return x===void 0?m:x}else{if(la(m))return Q6(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var Qte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Zte=(t=21)=>{let e="",n=t;for(;n--;)e+=Qte[Math.random()*64|0];return e},Jte=Symbol.for("rtk-slice-createasyncthunk");function ene(t,e){return`${t}/${e}`}function tne({creators:t}={}){const e=t?.asyncThunk?.[Jte];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(li(11));const l=(typeof r.reducers=="function"?r.reducers(rne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,j){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(li(12));if(P in d.sliceCaseReducersByType)throw new Error(li(13));return d.sliceCaseReducersByType[P]=j,f},addMatcher(C,j){return d.sliceMatchers.push({matcher:C,reducer:j}),f},exposeAction(C,j){return d.actionCreators[C]=j,f},exposeCaseReducer(C,j){return d.sliceCaseReducersByName[C]=j,f}};c.forEach(C=>{const j=l[C],P={reducerName:C,type:ene(i,C),createNotation:typeof r.reducers=="function"};ane(j)?one(P,j,f,e):ine(P,j,f)});function m(){const[C={},j=[],P=void 0]=typeof r.extraReducers=="function"?nL(r.extraReducers):[r.extraReducers],z={...C,...d.sliceCaseReducersByType};return Xte(r.initialState,R=>{for(let O in z)R.addCase(O,z[O]);for(let O of d.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of j)R.addMatcher(O.matcher,O.reducer);P&&R.addDefaultCase(P)})}const p=C=>C,b=new Map,x=new WeakMap;let w;function E(C,j){return w||(w=m()),w(C,j)}function S(){return w||(w=m()),w.getInitialState()}function k(C,j=!1){function P(R){let O=R[C];return typeof O>"u"&&j&&(O=Yg(x,P,S)),O}function z(R=p){const O=Yg(b,j,()=>new WeakMap);return Yg(O,R,()=>{const V={};for(const[q,L]of Object.entries(r.selectors??{}))V[q]=nne(L,R,()=>Yg(x,R,S),j);return V})}return{reducerPath:C,getSelectors:z,get selectors(){return z(P)},selectSlice:P}}const M={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...k(s),injectInto(C,{reducerPath:j,...P}={}){const z=j??s;return C.inject({reducerPath:z,reducer:E},P),{...M,...k(z,!0)}}};return M}}function nne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Ur=tne();function rne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ine({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!sne(r))throw new Error(li(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Mi(t,l):Mi(t))}function ane(t){return t._reducerDefinitionType==="asyncThunk"}function sne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function one({type:t,reducerName:e},n,r,i){if(!i)throw new Error(li(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Wg,pending:c||Wg,rejected:d||Wg,settled:f||Wg})}function Wg(){}var lne="task",rL="listener",iL="completed",zT="cancelled",cne=`task-${zT}`,une=`task-${iL}`,EE=`${rL}-${zT}`,dne=`${rL}-${iL}`,Uv=class{constructor(t){this.code=t,this.message=`${lne} ${zT} (reason: ${t})`}name="TaskAbortError";message},LT=(t,e)=>{if(typeof t!="function")throw new TypeError(li(32))},by=()=>{},aL=(t,e=by)=>(t.catch(e),t),sL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),bc=t=>{if(t.aborted)throw new Uv(t.reason)};function oL(t,e){let n=by;return new Promise((r,i)=>{const s=()=>i(new Uv(t.reason));if(t.aborted){s();return}n=sL(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=by})}var fne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Uv?"cancelled":"rejected",error:n}}finally{e?.()}},xy=t=>e=>aL(oL(t,e).then(n=>(bc(t),n))),lL=t=>{const e=xy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sd}=Object,cR={},Fv="listenerMiddleware",hne=(t,e)=>{const n=r=>sL(t,()=>r.abort(t.reason));return(r,i)=>{LT(r);const s=new AbortController;n(s);const l=fne(async()=>{bc(t),bc(s.signal);const c=await r({pause:xy(s.signal),delay:lL(s.signal),signal:s.signal});return bc(s.signal),c},()=>s.abort(une));return i?.autoJoin&&e.push(l.catch(by)),{result:xy(t)(l),cancel(){s.abort(cne)}}}},mne=(t,e)=>{const n=async(r,i)=>{bc(e);let s=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await oL(e,Promise.race(c));return bc(e),d}finally{s()}};return(r,i)=>aL(n(r,i))},cL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Mi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(li(21));return LT(s),{predicate:i,type:e,effect:s}},uL=sd(t=>{const{type:e,predicate:n,effect:r}=cL(t);return{id:Zte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(li(22))}}},{withTypes:()=>uL}),uR=(t,e)=>{const{type:n,effect:r,predicate:i}=cL(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},SE=t=>{t.pending.forEach(e=>{e.abort(EE)})},pne=(t,e)=>()=>{for(const n of e.keys())SE(n);t.clear()},dR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},dL=sd(Mi(`${Fv}/add`),{withTypes:()=>dL}),gne=Mi(`${Fv}/removeAll`),fL=sd(Mi(`${Fv}/remove`),{withTypes:()=>fL}),yne=(...t)=>{console.error(`${Fv}/error`,...t)},Km=(t={})=>{const e=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},i=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:s,onError:l=yne}=t;LT(l);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&SE(x)}),d=x=>{const w=uR(e,x)??uL(x);return c(w)};sd(d,{withTypes:()=>d});const f=x=>{const w=uR(e,x);return w&&(w.unsubscribe(),x.cancelActive&&SE(w)),!!w};sd(f,{withTypes:()=>f});const m=async(x,w,E,S)=>{const k=new AbortController,M=mne(d,k.signal),C=[];try{x.pending.add(k),r(x),await Promise.resolve(x.effect(w,sd({},E,{getOriginalState:S,condition:(j,P)=>M(j,P).then(Boolean),take:M,delay:lL(k.signal),pause:xy(k.signal),extra:s,signal:k.signal,fork:hne(k.signal,C),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((j,P,z)=>{j!==k&&(j.abort(EE),z.delete(j))})},cancel:()=>{k.abort(EE),x.pending.delete(k)},throwIfCancelled:()=>{bc(k.signal)}})))}catch(j){j instanceof Uv||dR(l,j,{raisedBy:"effect"})}finally{await Promise.all(C),k.abort(dne),i(x),x.pending.delete(k)}},p=pne(e,n);return{middleware:x=>w=>E=>{if(!U6(E))return w(E);if(dL.match(E))return d(E.payload);if(gne.match(E)){p();return}if(fL.match(E))return f(E.payload);let S=x.getState();const k=()=>{if(S===cR)throw new Error(li(23));return S};let M;try{if(M=w(E),e.size>0){const C=x.getState(),j=Array.from(e.values());for(const P of j){let z=!1;try{z=P.predicate(E,C,S)}catch(R){z=!1,dR(l,R,{raisedBy:"predicate"})}z&&m(P,E,x,k)}}}finally{S=cR}return M},startListening:d,stopListening:f,clearListeners:p}};function li(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hL=Ur({name:"chartLayout",initialState:vne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:bne,setLayout:xne,setChartSize:_ne,setScale:wne}=hL.actions,Ene=hL.reducer;function mL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Xt(t){return Number.isFinite(t)}function cl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lr(t,e,n){return $n(t)||$n(e)?n:Xa(e)?Nd(t,e,n):typeof e=="function"?e(t):n}var Ine=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Ue(t[s]))return Zu(Zu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Ue(t[l]))return Zu(Zu({},t),{},{[l]:t[l]+(i||0)})}return t},qc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",hR=1e-4,kne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-hR,s=Math.max(r[0],r[1])+hR,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Cne=(t,e)=>{if(!e||e.length!==2||!Ue(e[0])||!Ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(i[0]=n),(!Ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Nne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var m=f[1],p=f[0],b=Wa(m)?p:m;b>=0?(f[0]=s,f[1]=s+b,s=m):(f[0]=l,f[1]=l+b,l=m)}}}},One=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=Wa(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},Pne={sign:Nne,expand:ree,none:Mc,silhouette:iee,wiggle:aee,positive:One},Rne=(t,e,n)=>{var r,i=(r=Pne[n])!==null&&r!==void 0?r:Mc,s=nee().keys(e).value((c,d)=>Number(lr(c,d,0))).order(hE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,m)=>{var p=lr(t[m],e[d],0);Array.isArray(p)&&p.length===2&&Ue(p[0])&&Ue(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function Mne(t){return t==null?void 0:String(t)}var mR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=lr(s,e.dataKey,e.scale.domain()[l]);return $n(c)?null:e.scale(c)-i/2+r},Dne=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jne=t=>{var e=t.flat(2).filter(Ue);return[Math.min(...e),Math.max(...e)]},zne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Lne=(t,e,n)=>{if(t!=null)return zne(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var m=mL(f,e,n),p=jne(m);return!Xt(p[0])||!Xt(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},pR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Rv(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function yR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Zu(Zu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function pL(t,e){if(t)return String(t);if(typeof e=="string")return e}var Vne=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Bne=(t,e)=>e==="centric"?t.angle:t.radius,Xs=t=>t.layout.width,Qs=t=>t.layout.height,Une=t=>t.layout.scale,gL=t=>t.layout.margin,qv=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),$v=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Fne="data-recharts-item-index",qne="data-recharts-item-id",Ym=60;function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kne=t=>t.brush.height;function Yne(t){var e=$v(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function Wne(t){var e=$v(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function Xne(t){var e=qv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Qne(t){var e=qv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=le([Xs,Qs,gL,Kne,Yne,Wne,Xne,Qne,L6,_te],(t,e,n,r,i,s,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Xg(Xg({},p),m),x=b.bottom;b.bottom+=r,b=Ine(b,d,f);var w=t-b.left-b.right,E=e-b.top-b.bottom;return Xg(Xg({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(E,0)})}),Zne=le(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),VT=le(Xs,Qs,(t,e)=>({x:0,y:0,width:t,height:e})),Jne=A.createContext(null),hi=()=>A.useContext(Jne)!=null,Hv=t=>t.brush,Gv=le([Hv,Hn,gL],(t,e,n)=>({height:t.height,x:Ue(t.x)?t.x:e.left,y:Ue(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ue(t.width)?t.width:e.width})),V_={},B_={},U_={},bR;function ere(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},w=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{w(),l=void 0,c=null},S=()=>{m()},k=function(...M){if(i?.aborted)return;l=this,c=M;const C=b==null;x(),d&&C&&m()};return k.schedule=x,k.cancel=E,k.flush=S,i?.addEventListener("abort",E,{once:!0}),k}t.debounce=e})(U_)),U_}var xR;function tre(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ere();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),x=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},w=()=>(b.flush(),m);return x.cancel=b.cancel,x.flush=w,x}t.debounce=n})(B_)),B_}var _R;function nre(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(V_)),V_}var F_,wR;function rre(){return wR||(wR=1,F_=nre().throttle),F_}var ire=rre();const are=Za(ire);var ER=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},yL=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Bs(r)?t:Number(r),d=Bs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},sre={width:0,height:0,overflow:"visible"},ore={width:0,overflowX:"visible"},lre={height:0,overflowY:"visible"},cre={},ure=t=>{var{width:e,height:n}=t,r=Bs(e),i=Bs(n);return r&&i?sre:r?ore:i?lre:cre};function dre(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(null,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vL=A.createContext({width:-1,height:-1});function pre(t){return cl(t.width)&&cl(t.height)}function bL(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return pre(i)?A.createElement(vL.Provider,{value:i},e):null}var BT=()=>A.useContext(vL),gre=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:b,onResize:x,style:w={}}=t,E=A.useRef(null),S=A.useRef();S.current=x,A.useImperativeHandle(e,()=>E.current);var[k,M]=A.useState({containerWidth:r.width,containerHeight:r.height}),C=A.useCallback((O,V)=>{M(q=>{var L=Math.round(O),F=Math.round(V);return q.containerWidth===L&&q.containerHeight===F?q:{containerWidth:L,containerHeight:F}})},[]);A.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Hm;var O=F=>{var U,{width:_e,height:we}=F[0].contentRect;C(_e,we),(U=S.current)===null||U===void 0||U.call(S,_e,we)};m>0&&(O=are(O,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(O),{width:q,height:L}=E.current.getBoundingClientRect();return C(q,L),V.observe(E.current),()=>{V.disconnect()}},[C,m]);var{containerWidth:j,containerHeight:P}=k;ER(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:R}=yL(j,P,{width:i,height:s,aspect:n,maxHeight:d});return ER(z!=null&&z>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,R,i,s,l,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:Te("recharts-responsive-container",b),style:TR(TR({},w),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},A.createElement("div",{style:ure({width:i,height:s})},A.createElement(bL,{width:z,height:R},f)))}),xL=A.forwardRef((t,e)=>{var n=BT();if(cl(n.width)&&cl(n.height))return t.children;var{width:r,height:i}=dre({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=yL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ue(s)&&Ue(l)?A.createElement(bL,{width:s,height:l},t.children):A.createElement(gre,TE({},t,{width:r,height:i,ref:e}))});function _L(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Kv=()=>{var t,e=hi(),n=$e(Zne),r=$e(Gv),i=(t=$e(Hv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vre=()=>{var t;return(t=$e(Hn))!==null&&t!==void 0?t:yre},bre=()=>$e(Xs),xre=()=>$e(Qs),St=t=>t.layout.layoutType,Wm=()=>$e(St),_re=()=>{var t=Wm();return t!==void 0},Yv=t=>{var e=dn(),n=hi(),{width:r,height:i}=t,s=BT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),A.useEffect(()=>{!n&&cl(l)&&cl(c)&&e(_ne({width:l,height:c}))},[e,n,l,c]),null},wL=Symbol.for("immer-nothing"),AR=Symbol.for("immer-draftable"),di=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var dm=Object.getPrototypeOf;function Pd(t){return!!t&&!!t[di]}function jc(t){return t?EL(t)||Array.isArray(t)||!!t[AR]||!!t.constructor?.[AR]||Xm(t)||Xv(t):!1}var wre=Object.prototype.constructor.toString(),IR=new WeakMap;function EL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=IR.get(n);return r===void 0&&(r=Function.toString.call(n),IR.set(n,r)),r===wre}function wy(t,e,n=!0){Wv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Wv(t){const e=t[di];return e?e.type_:Array.isArray(t)?1:Xm(t)?2:Xv(t)?3:0}function AE(t,e){return Wv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function SL(t,e,n){const r=Wv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ere(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Xm(t){return t instanceof Map}function Xv(t){return t instanceof Set}function ec(t){return t.copy_||t.base_}function IE(t,e){if(Xm(t))return new Map(t);if(Xv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=EL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[di];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(dm(t),r)}else{const r=dm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function UT(t,e=!1){return Qv(t)||Pd(t)||!jc(t)||(Wv(t)>1&&Object.defineProperties(t,{set:Qg,add:Qg,clear:Qg,delete:Qg}),Object.freeze(t),e&&Object.values(t).forEach(n=>UT(n,!0))),t}function Sre(){na(2)}var Qg={value:Sre};function Qv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Tre={};function zc(t){const e=Tre[t];return e||na(0,t),e}var fm;function TL(){return fm}function Are(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kR(t,e){e&&(zc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kE(t){CE(t),t.drafts_.forEach(Ire),t.drafts_=null}function CE(t){t===fm&&(fm=t.parent_)}function CR(t){return fm=Are(fm,t)}function Ire(t){const e=t[di];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[di].modified_&&(kE(e),na(4)),jc(t)&&(t=Ey(e,t),e.parent_||Sy(e,t)),e.patches_&&zc("Patches").generateReplacementPatches_(n[di].base_,t,e.patches_,e.inversePatches_)):t=Ey(e,n,[]),kE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==wL?t:void 0}function Ey(t,e,n){if(Qv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[di];if(!i)return wy(e,(s,l)=>OR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Sy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),wy(l,(d,f)=>OR(t,i,s,d,f,n,c),r),Sy(t,s,!1),n&&t.patches_&&zc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function OR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Qv(i);if(!(c&&!l)){if(Pd(i)){const d=s&&e&&e.type_!==3&&!AE(e.assigned_,r)?s.concat(r):void 0,f=Ey(t,i,d);if(SL(n,r,f),Pd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(jc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Ey(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Xm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sy(t,i)}}}function Sy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&UT(e,n)}function kre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:TL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=FT;n&&(i=[r],s=hm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var FT={get(t,e){if(e===di)return t;const n=ec(t);if(!AE(n,e))return Cre(t,n,e);const r=n[e];return t.finalized_||!jc(r)?r:r===q_(t.base_,e)?($_(t),t.copy_[e]=OE(r,t)):r},has(t,e){return e in ec(t)},ownKeys(t){return Reflect.ownKeys(ec(t))},set(t,e,n){const r=AL(ec(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=q_(ec(t),e),s=i?.[di];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ere(n,i)&&(n!==void 0||AE(t.base_,e)))return!0;$_(t),NE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return q_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,$_(t),NE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ec(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return dm(t.base_)},setPrototypeOf(){na(12)}},hm={};wy(FT,(t,e)=>{hm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hm.deleteProperty=function(t,e){return hm.set.call(this,t,e,void 0)};hm.set=function(t,e,n){return FT.set.call(this,t[0],e,n,t[0])};function q_(t,e){const n=t[di];return(n?ec(n):t)[e]}function Cre(t,e,n){const r=AL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function AL(t,e){if(!(e in t))return;let n=dm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dm(n)}}function NE(t){t.modified_||(t.modified_=!0,t.parent_&&NE(t.parent_))}function $_(t){t.copy_||(t.copy_=IE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&na(6),r!==void 0&&typeof r!="function"&&na(7);let i;if(jc(e)){const s=CR(this),l=OE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?kE(s):CE(s)}return kR(s,r),NR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===wL&&(i=void 0),this.autoFreeze_&&UT(i,!0),r){const s=[],l=[];zc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){jc(t)||na(8),Pd(t)&&(t=Ore(t));const e=CR(this),n=OE(t,void 0);return n[di].isManual_=!0,CE(e),n}finishDraft(t,e){const n=t&&t[di];(!n||!n.isManual_)&&na(9);const{scope_:r}=n;return kR(r,e),NR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=zc("Patches").applyPatches_;return Pd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function OE(t,e){const n=Xm(t)?zc("MapSet").proxyMap_(t,e):Xv(t)?zc("MapSet").proxySet_(t,e):kre(t,e);return(e?e.scope_:TL()).drafts_.push(n),n}function Ore(t){return Pd(t)||na(10,t),IL(t)}function IL(t){if(!jc(t)||Qv(t))return t;const e=t[di];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=IE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=IE(t,!0);return wy(n,(i,s)=>{SL(n,i,IL(s))},r),e&&(e.finalized_=!1),n}var Pre=new Nre;Pre.produce;var Rre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kL=Ur({name:"legend",initialState:Rre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=sa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:qt()},removeLegendPayload:{reducer(t,e){var n=sa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:qt()}}}),{setLegendSize:Nye,setLegendSettings:Oye,addLegendPayload:Mre,replaceLegendPayload:Dre,removeLegendPayload:jre}=kL.actions,zre=kL.reducer;function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ure(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var Fre=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,x=()=>{if(s&&s.length){var P={padding:0,margin:0},z=(c?Rv(s,c):s).map((R,O)=>{if(R.type==="none")return null;var V=R.formatter||l||Ure,{value:q,name:L}=R,F=q,U=L;if(V){var _e=V(q,L,R,O,s);if(Array.isArray(_e))[F,U]=_e;else if(_e!=null)F=_e;else return null}var we=H_({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:we},Xa(U)?A.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Xa(U)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},F),A.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:P},z)}return null},w=H_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=H_({margin:0},i),S=!$n(m),k=S?m:"",M=Te("recharts-default-tooltip",d),C=Te("recharts-tooltip-label",f);S&&p&&s!==void 0&&s!==null&&(k=p(m,s));var j=b?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",PE({className:M,style:w},j),A.createElement("p",{className:C,style:E},A.isValidElement(k)?k:"".concat(k)),x())},gh="recharts-tooltip-wrapper",qre={visibility:"hidden"};function $re(t){var{coordinate:e,translateX:n,translateY:r}=t;return Te(gh,{["".concat(gh,"-right")]:Ue(n)&&e&&Ue(e.x)&&n>=e.x,["".concat(gh,"-left")]:Ue(n)&&e&&Ue(e.x)&&n<e.x,["".concat(gh,"-bottom")]:Ue(r)&&e&&Ue(e.y)&&r>=e.y,["".concat(gh,"-top")]:Ue(r)&&e&&Ue(e.y)&&r<e.y})}function RR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&Ue(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=d[r];if(b==null)return 0;if(l[r]){var x=m,w=b;return x<w?Math.max(p,b):Math.max(m,b)}if(f==null)return 0;var E=p+c,S=b+f;return E>S?Math.max(m,b):Math.max(p,b)}function Hre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Gre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=RR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=RR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Hre({translateX:m,translateY:p,useTranslate3d:c})):f=qre,{cssProperties:f,cssClasses:$re({translateX:m,translateY:p,coordinate:n})}}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){RE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RE(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wre extends A.PureComponent{constructor(){super(...arguments),RE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),RE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:w,lastBoundingBox:E,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:M,cssProperties:C}=Gre({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:x}),j=k?{}:Zg(Zg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=Zg(Zg({},j),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:S},s)}}var CL=()=>{var t;return(t=$e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zR={curveBasisClosed:HJ,curveBasisOpen:GJ,curveBasis:$J,curveBumpX:NJ,curveBumpY:OJ,curveLinearClosed:KJ,curveLinear:Ov,curveMonotoneX:YJ,curveMonotoneY:WJ,curveNatural:XJ,curveStep:QJ,curveStepAfter:JJ,curveStepBefore:ZJ},Ty=t=>Xt(t.x)&&Xt(t.y),LR=t=>t.base!=null&&Ty(t.base)&&Ty(t),yh=t=>t.x,vh=t=>t.y,Jre=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($m(t));return(n==="curveMonotone"||n==="curveBump")&&e?zR["".concat(n).concat(e==="vertical"?"Y":"X")]:zR[n]||Ov},eie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=Jre(e,i),c=s?n.filter(Ty):n,d;if(Array.isArray(r)){var f=n.map((x,w)=>jR(jR({},x),{},{base:r[w]}));i==="vertical"?d=$g().y(vh).x1(yh).x0(x=>x.base.x):d=$g().x(yh).y1(vh).y0(x=>x.base.y);var m=d.defined(LR).curve(l),p=s?f.filter(LR):f;return m(p)}i==="vertical"&&Ue(r)?d=$g().y(vh).x1(yh).x0(r):Ue(r)?d=$g().x(yh).y1(vh).y0(r):d=u6().x(yh).y(vh);var b=d.defined(Ty).curve(l);return b(c)},NL=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Wm();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?eie(l):r;return A.createElement("path",ME({},ll(t),See(t),{className:Te("recharts-curve",e),d:c===null?void 0:c,ref:i}))},tie=["x","y","top","left","width","height","className"];function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(null,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=aie(t,"string");return typeof e=="symbol"?e:e+""}function aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sie(t,e){if(t==null)return{};var n,r,i=oie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lie=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),cie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=sie(t,tie),f=nie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ue(e)||!Ue(n)||!Ue(s)||!Ue(l)||!Ue(r)||!Ue(i)?null:A.createElement("path",DE({},Ri(f),{className:Te("recharts-cross",c),d:lie(e,n,s,l,r,i)}))};function uie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function die(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),OL=(t,e,n)=>t.map(r=>"".concat(mie(r)," ").concat(e,"ms ").concat(n)).join(","),pie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),mm=(t,e)=>Object.keys(e).reduce((n,r)=>UR(UR({},n),{},{[r]:t(r,e[r])}),{});function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=(t,e,n)=>t+(e-t)*n,jE=t=>{var{from:e,to:n}=t;return e!==n},PL=(t,e,n)=>{var r=mm((i,s)=>{if(jE(s)){var[l,c]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:c})}return s},e);return n<1?mm((i,s)=>jE(s)&&r[i]!=null?kn(kn({},s),{},{velocity:Ay(s.velocity,r[i].velocity,n),from:Ay(s.from,r[i].from,n)}):s,e):PL(t,r,n-1)};function bie(t,e,n,r,i,s){var l,c=r.reduce((b,x)=>kn(kn({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>mm((b,x)=>x.from,c),f=()=>!Object.values(c).filter(jE).length,m=null,p=b=>{l||(l=b);var x=b-l,w=x/n.dt;c=PL(n,c,w),i(kn(kn(kn({},t),e),d())),l=b,f()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function xie(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,b)=>{var x=t[b],w=e[b];return x==null||w==null?p:kn(kn({},p),{},{[b]:[x,w]})},{}),f,m=p=>{f||(f=p);var b=(p-f)/r,x=mm((E,S)=>Ay(...S,n(b)),d);if(s(kn(kn(kn({},t),e),x)),b<1)c=l.setTimeout(m);else{var w=mm((E,S)=>Ay(...S,n(1)),d);s(kn(kn(kn({},t),e),w))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const _ie=(t,e,n,r,i,s)=>{var l=pie(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?bie(t,e,n,l,i,s):xie(t,e,n,r,l,i,s)};var Iy=1e-4,RL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ML=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),qR=(t,e)=>n=>{var r=RL(t,e);return ML(r,n)},wie=(t,e)=>n=>{var r=RL(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return ML(i,n)},Eie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Sie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Eie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Tie=(t,e,n,r)=>{var i=qR(t,n),s=qR(e,r),l=wie(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,b=0;b<8;++b){var x=i(p)-m,w=l(p);if(Math.abs(x-m)<Iy||w<Iy)return s(p);p=c(p-x/w)}return s(p)};return d.isStepper=!1,d},$R=function(){return Tie(...Sie(...arguments))},Aie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Iy&&Math.abs(p)<Iy?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},Iie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $R(t);case"spring":return Aie();default:if(t.split("(")[0]==="cubic-bezier")return $R(t)}return typeof t=="function"?t:null};function kie(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Cie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Nie(){return kie(new Cie)}var Oie=A.createContext(Nie);function Pie(t,e){var n=A.useContext(Oie);return A.useMemo(()=>e??n(t),[t,e,n])}var Rie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zv={isSsr:Rie()},Mie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HR={t:0},G_={t:1};function qT(t){var e=ji(t,Mie),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=n==="auto"?!Zv.isSsr:n,p=Pie(e.animationId,e.animationManager),[b,x]=A.useState(m?HR:G_),w=A.useRef(null);return A.useEffect(()=>{m||x(G_)},[m]),A.useEffect(()=>{if(!m||!r)return Hm;var E=_ie(HR,G_,Iie(s),i,x,p.getTimeoutController()),S=()=>{w.current=E()};return p.start([d,l,S,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,s,l,d,c,p]),f(b.t)}function $T(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(om(e)),r=A.useRef(t);return r.current!==t&&(n.current=om(e),r.current=t),n.current}var Die=["radius"],jie=["radius"],GR,KR,YR,WR,XR,QR,ZR,JR,eM,tM;function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function iM(t,e){if(t==null)return{};var n,r,i=Bie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ma(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var aM=(t,e,n,r,i)=>{var s=Wo(n),l=Wo(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],x=0,w=4;x<w;x++)b[x]=i[x]>c?c:i[x];p=Jt(GR||(GR=Ma(["M",",",""])),t,e+d*b[0]),b[0]>0&&(p+=Jt(KR||(KR=Ma(["A ",",",",0,0,",",",",",""])),b[0],b[0],m,t+f*b[0],e)),p+=Jt(YR||(YR=Ma(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(p+=Jt(WR||(WR=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],m,t+n,e+d*b[1])),p+=Jt(XR||(XR=Ma(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(p+=Jt(QR||(QR=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],m,t+n-f*b[2],e+r)),p+=Jt(ZR||(ZR=Ma(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(p+=Jt(JR||(JR=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],m,t,e+r-d*b[3])),p+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);p=Jt(eM||(eM=Ma(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,m,t+f*E,e,t+n-f*E,e,E,E,m,t+n,e+d*E,t+n,e+r-d*E,E,E,m,t+n-f*E,e+r,t+f*E,e+r,E,E,m,t,e+r-d*E)}else p=Jt(tM||(tM=Ma(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},sM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DL=t=>{var e=ji(t,sM),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:E}=e,S=A.useRef(c),k=A.useRef(d),M=A.useRef(s),C=A.useRef(l),j=A.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),P=$T(j,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var z=Te("recharts-rectangle",m);if(!E){var R=Ri(e),{radius:O}=R,V=iM(R,Die);return A.createElement("path",ky({},V,{x:Wo(s),y:Wo(l),width:Wo(c),height:Wo(d),radius:typeof f=="number"?f:void 0,className:z,d:aM(s,l,c,d,f)}))}var q=S.current,L=k.current,F=M.current,U=C.current,_e="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),W=OL(["strokeDasharray"],b,typeof p=="string"?p:sM.animationEasing);return A.createElement(qT,{animationId:P,key:P,canBegin:r>0,duration:b,easing:p,isActive:E,begin:x},re=>{var $=sr(q,c,re),se=sr(L,d,re),ve=sr(F,s,re),H=sr(U,l,re);n.current&&(S.current=$,k.current=se,M.current=ve,C.current=H);var K;w?re>0?K={transition:W,strokeDasharray:we}:K={strokeDasharray:_e}:K={strokeDasharray:we};var oe=Ri(e),{radius:de}=oe,ge=iM(oe,jie);return A.createElement("path",ky({},ge,{radius:typeof f=="number"?f:void 0,className:z,d:aM(ve,H,$,se,f),ref:n,style:rM(rM({},K),e.style)}))})};function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){Uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=qie(t,"string");return typeof e=="symbol"?e:e+""}function qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cy=Math.PI/180,$ie=t=>t*180/Math.PI,or=(t,e,n,r)=>({x:t+Math.cos(-Cy*r)*n,y:e+Math.sin(-Cy*r)*n}),Hie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Gie=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Kie=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=Gie({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:$ie(d),angleInRadian:d}},Yie=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Wie=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},Xie=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Kie({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Yie(e),m=s,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?lM(lM({},e),{},{radius:i,angle:Wie(m,e)}):null};function jL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=or(e,n,r,i),c=or(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var cM,uM,dM,fM,hM,mM,pM;function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function uc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Qie=(t,e)=>{var n=ai(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Cy,p=d?i:i+s*m,b=or(e,n,f,p),x=or(e,n,r,p),w=d?i-s*m:i,E=or(e,n,f*Math.cos(m*Cy),w);return{center:b,circleTangency:x,lineTangency:E,theta:m}},zL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=Qie(s,l),d=s+c,f=or(e,n,i,s),m=or(e,n,i,d),p=Jt(cM||(cM=uc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),m.x,m.y);if(r>0){var b=or(e,n,r,s),x=or(e,n,r,d);p+=Jt(uM||(uM=uc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else p+=Jt(dM||(dM=uc(["L ",","," Z"])),e,n);return p},Zie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=ai(f-d),{circleTangency:p,lineTangency:b,theta:x}=Jg({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:E,theta:S}=Jg({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-x-S;if(k<0)return l?Jt(fM||(fM=uc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):zL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var M=Jt(hM||(hM=uc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(m<0),p.x,p.y,i,i,+(k>180),+(m<0),w.x,w.y,s,s,+(m<0),E.x,E.y);if(r>0){var{circleTangency:C,lineTangency:j,theta:P}=Jg({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:z,lineTangency:R,theta:O}=Jg({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=c?Math.abs(d-f):Math.abs(d-f)-P-O;if(V<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+=Jt(mM||(mM=uc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(m<0),z.x,z.y,r,r,+(V>180),+(m>0),C.x,C.y,s,s,+(m<0),j.x,j.y)}else M+=Jt(pM||(pM=uc(["L",",","Z"])),e,n);return M},Jie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LL=t=>{var e=ji(t,Jie),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(s<i||f===m)return null;var b=Te("recharts-sector",p),x=s-i,w=oa(l,x,0,!0),E;return w>0&&Math.abs(f-m)<360?E=Zie({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=zL({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),A.createElement("path",zE({},Ri(e),{className:b,d:E}))};function eae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(T6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=or(r,i,s,c),f=or(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return jL(e)}}var K_={},Y_={},W_={},gM;function tae(){return gM||(gM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(W_)),W_}var yM;function nae(){return yM||(yM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Y_)),Y_}var vM;function rae(){return vM||(vM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z6(),n=nae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(K_)),K_}var X_,bM;function iae(){return bM||(bM=1,X_=rae().range),X_}var aae=iae();const VL=Za(aae);function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HT(t){let e,n,r;t.length!==2?(e=rl,n=(c,d)=>rl(t(c),d),r=(c,d)=>t(c)-d):(e=t===rl||t===sae?t:oae,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function oae(){return 0}function BL(t){return t===null?NaN:+t}function*lae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cae=HT(rl),Qm=cae.right;HT(BL).center;class xM extends Map{constructor(e,n=fae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_M(this,e))}has(e){return super.has(_M(this,e))}set(e,n){return super.set(uae(this,e),n)}delete(e){return super.delete(dae(this,e))}}function _M({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hae(t=rl){if(t===rl)return UL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function UL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mae=Math.sqrt(50),pae=Math.sqrt(10),gae=Math.sqrt(2);function Ny(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=mae?10:s>=pae?5:s>=gae?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Ny(t,e,n*2):[c,d,f]}function LE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Ny(e,t,n):Ny(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function VE(t,e,n){return e=+e,t=+t,n=+n,Ny(t,e,n)[2]}function BE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?VE(e,t,n):VE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function FL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?UL:hae(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*p/d+b)),w=Math.min(r,Math.floor(e+(d-f)*p/d+b));FL(t,e,x,w,i)}const s=t[e];let l=n,c=r;for(bh(t,n,e),i(t[r],s)>0&&bh(t,n,r);l<c;){for(bh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?bh(t,n,c):(++c,bh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function bh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yae(t,e,n){if(t=Float64Array.from(lae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return EM(t);if(e>=1)return wM(t);var r,i=(r-1)*e,s=Math.floor(i),l=wM(FL(t,s).subarray(0,s+1)),c=EM(t.subarray(s+1));return l+(c-l)*(i-s)}}function vae(t,e,n=BL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function bae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const UE=Symbol("implicit");function GT(){var t=new xM,e=[],n=[],r=UE;function i(s){let l=t.get(s);if(l===void 0){if(r!==UE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new xM;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GT(e,n).unknown(r)},zi.apply(i,arguments),i}function KT(){var t=GT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var b=e().length,x=i<r,w=x?i:r,E=x?r:i;s=(E-w)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),w+=(E-w-s*(b-d))*m,l=s*(1-d),c&&(w=Math.round(w),l=Math.round(l));var S=bae(b).map(function(k){return w+s*k});return n(x?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return KT(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},zi.apply(p(),arguments)}function qL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qL(e())},t}function xae(){return qL(KT.apply(null,arguments).paddingInner(1))}function YT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $L(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zm(){}var pm=.7,Oy=1/pm,od="\\s*([+-]?\\d+)\\s*",gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ae=/^#([0-9a-f]{3,8})$/,wae=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),Eae=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),Sae=new RegExp(`^rgba\\(${od},${od},${od},${gm}\\)$`),Tae=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${gm}\\)$`),Aae=new RegExp(`^hsl\\(${gm},${Ga},${Ga}\\)$`),Iae=new RegExp(`^hsla\\(${gm},${Ga},${Ga},${gm}\\)$`),SM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YT(Zm,ym,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TM,formatHex:TM,formatHex8:kae,formatHsl:Cae,formatRgb:AM,toString:AM});function TM(){return this.rgb().formatHex()}function kae(){return this.rgb().formatHex8()}function Cae(){return HL(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function ym(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_ae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IM(e):n===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?e0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?e0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wae.exec(t))?new Vr(e[1],e[2],e[3],1):(e=Eae.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sae.exec(t))?e0(e[1],e[2],e[3],e[4]):(e=Tae.exec(t))?e0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Aae.exec(t))?NM(e[1],e[2]/100,e[3]/100,1):(e=Iae.exec(t))?NM(e[1],e[2]/100,e[3]/100,e[4]):SM.hasOwnProperty(t)?IM(SM[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function IM(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function e0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vr(t,e,n,r)}function Nae(t){return t instanceof Zm||(t=ym(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function FE(t,e,n,r){return arguments.length===1?Nae(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}YT(Vr,FE,$L(Zm,{brighter(t){return t=t==null?Oy:Math.pow(Oy,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pm:Math.pow(pm,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(xc(this.r),xc(this.g),xc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kM,formatHex:kM,formatHex8:Oae,formatRgb:CM,toString:CM}));function kM(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function Oae(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function CM(){const t=Py(this.opacity);return`${t===1?"rgb(":"rgba("}${xc(this.r)}, ${xc(this.g)}, ${xc(this.b)}${t===1?")":`, ${t})`}`}function Py(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dc(t){return t=xc(t),(t<16?"0":"")+t.toString(16)}function NM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function HL(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof Zm||(t=ym(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new ra(l,c,d,t.opacity)}function Pae(t,e,n,r){return arguments.length===1?HL(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}YT(ra,Pae,$L(Zm,{brighter(t){return t=t==null?Oy:Math.pow(Oy,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pm:Math.pow(pm,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vr(Q_(t>=240?t-240:t+120,i,r),Q_(t,i,r),Q_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(OM(this.h),t0(this.s),t0(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Py(this.opacity);return`${t===1?"hsl(":"hsla("}${OM(this.h)}, ${t0(this.s)*100}%, ${t0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OM(t){return t=(t||0)%360,t<0?t+360:t}function t0(t){return Math.max(0,Math.min(1,t||0))}function Q_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WT=t=>()=>t;function Rae(t,e){return function(n){return t+n*e}}function Mae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dae(t){return(t=+t)==1?GL:function(e,n){return n-e?Mae(e,n,t):WT(isNaN(e)?n:e)}}function GL(t,e){var n=e-t;return n?Rae(t,n):WT(isNaN(t)?e:t)}const PM=(function t(e){var n=Dae(e);function r(i,s){var l=n((i=FE(i)).r,(s=FE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=GL(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function jae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function zae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ef(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function Vae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ry(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z_=new RegExp(qE.source,"g");function Uae(t){return function(){return t}}function Fae(t){return function(e){return t(e)+""}}function qae(t,e){var n=qE.lastIndex=Z_.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=qE.exec(t))&&(i=Z_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Ry(r,i)})),n=Z_.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?Fae(d[0].x):Uae(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?WT(e):(n==="number"?Ry:n==="string"?(r=ym(e))?(e=r,PM):qae:e instanceof ym?PM:e instanceof Date?Vae:zae(e)?jae:Array.isArray(e)?Lae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bae:Ry)(t,e)}function XT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $ae(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function Hae(t){return function(){return t}}function My(t){return+t}var RM=[0,1];function Sr(t){return t}function $E(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hae(isNaN(e)?NaN:.5)}function Gae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kae(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=$E(i,r),s=n(l,s)):(r=$E(r,i),s=n(s,l)),function(c){return s(r(c))}}function Yae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=$E(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Qm(t,c,1,r)-1;return s[d](i[d](c))}}function Jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jv(){var t=RM,e=RM,n=ef,r,i,s,l=Sr,c,d,f;function m(){var b=Math.min(t.length,e.length);return l!==Sr&&(l=Gae(t[0],t[b-1])),c=b>2?Yae:Kae,d=f=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((f||(f=c(e,t.map(r),Ry)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,My),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=XT,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Sr,m()):l!==Sr},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,x){return r=b,i=x,m()}}function QT(){return Jv()(Sr,Sr)}function Wae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=Dy(Math.abs(t)),t?t[1]:NaN}function Xae(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Qae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vm(t){if(!(e=Zae.exec(t)))throw new Error("invalid format: "+t);var e;return new ZT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vm.prototype=ZT.prototype;function ZT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var KL;function ese(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(KL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Dy(t,Math.max(0,e+s-1))[0]}function MM(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MM(t*100,e),r:MM,s:ese,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jM(t){return t}var zM=Array.prototype.map,LM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tse(t){var e=t.grouping===void 0||t.thousands===void 0?jM:Xae(zM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?jM:Qae(zM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=vm(p);var b=p.fill,x=p.align,w=p.sign,E=p.symbol,S=p.zero,k=p.width,M=p.comma,C=p.precision,j=p.trim,P=p.type;P==="n"?(M=!0,P="g"):DM[P]||(C===void 0&&(C=12),j=!0,P="g"),(S||b==="0"&&x==="=")&&(S=!0,b="0",x="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=E==="$"?r:/[%p]/.test(P)?l:"",O=DM[P],V=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function q(L){var F=z,U=R,_e,we,W;if(P==="c")U=O(L)+U,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?d:O(Math.abs(L),C),j&&(L=Jae(L)),re&&+L==0&&w!=="+"&&(re=!1),F=(re?w==="("?w:c:w==="-"||w==="("?"":w)+F,U=(P==="s"?LM[8+KL/3]:"")+U+(re&&w==="("?")":""),V){for(_e=-1,we=L.length;++_e<we;)if(W=L.charCodeAt(_e),48>W||W>57){U=(W===46?i+L.slice(_e+1):L.slice(_e))+U,L=L.slice(0,_e);break}}}M&&!S&&(L=e(L,1/0));var $=F.length+L.length+U.length,se=$<k?new Array(k-$+1).join(b):"";switch(M&&S&&(L=e(se+L,se.length?k-U.length:1/0),se=""),x){case"<":L=F+L+U+se;break;case"=":L=F+se+L+U;break;case"^":L=se.slice(0,$=se.length>>1)+F+L+U+se.slice($);break;default:L=se+F+L+U;break}return s(L)}return q.toString=function(){return p+""},q}function m(p,b){var x=f((p=vm(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Rd(b)/3)))*3,E=Math.pow(10,-w),S=LM[8+w/3];return function(k){return x(E*k)+S}}return{format:f,formatPrefix:m}}var n0,JT,YL;nse({thousands:",",grouping:[3],currency:["$",""]});function nse(t){return n0=tse(t),JT=n0.format,YL=n0.formatPrefix,n0}function rse(t){return Math.max(0,-Rd(Math.abs(t)))}function ise(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function ase(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function WL(t,e,n,r){var i=BE(t,e,n),s;switch(r=vm(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=ise(i,l))&&(r.precision=s),YL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ase(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=rse(i))&&(r.precision=s-(r.type==="%")*2);break}}return JT(r)}function vl(t){var e=t.domain;return t.ticks=function(n){var r=e();return LE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return WL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);m-- >0;){if(f=VE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function XL(){var t=QT();return t.copy=function(){return Jm(t,XL())},zi.apply(t,arguments),vl(t)}function QL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,My),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return QL(t).unknown(e)},t=arguments.length?Array.from(t,My):[0,1],vl(n)}function ZL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function VM(t){return Math.log(t)}function BM(t){return Math.exp(t)}function sse(t){return-Math.log(-t)}function ose(t){return-Math.exp(-t)}function lse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cse(t){return t===10?lse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function use(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UM(t){return(e,n)=>-t(-e,n)}function eA(t){const e=t(VM,BM),n=e.domain;let r=10,i,s;function l(){return i=use(r),s=cse(r),n()[0]<0?(i=UM(i),s=UM(s),t(sse,ose)):t(VM,BM),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let b=i(f),x=i(m),w,E;const S=c==null?10:+c;let k=[];if(!(r%1)&&x-b<S){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(w=1;w<r;++w)if(E=b<0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}}else for(;b<=x;++b)for(w=r-1;w>=1;--w)if(E=b>0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}k.length*2<S&&(k=LE(f,m,S))}else k=LE(b,x,Math.min(x-b,S)).map(s);return p?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=vm(d)).precision==null&&(d.trim=!0),d=JT(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(ZL(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function JL(){const t=eA(Jv()).domain([1,10]);return t.copy=()=>Jm(t,JL()).base(t.base()),zi.apply(t,arguments),t}function FM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tA(t){var e=1,n=t(FM(e),qM(e));return n.constant=function(r){return arguments.length?t(FM(e=+r),qM(e)):e},vl(n)}function eV(){var t=tA(Jv());return t.copy=function(){return Jm(t,eV()).constant(t.constant())},zi.apply(t,arguments)}function $M(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fse(t){return t<0?-t*t:t*t}function nA(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(dse,fse):t($M(n),$M(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},vl(e)}function rA(){var t=nA(Jv());return t.copy=function(){return Jm(t,rA()).exponent(t.exponent())},zi.apply(t,arguments),t}function hse(){return rA.apply(null,arguments).exponent(.5)}function HM(t){return Math.sign(t)*t*t}function mse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tV(){var t=QT(),e=[0,1],n=!1,r;function i(s){var l=mse(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(HM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,My)).map(HM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),vl(i)}function nV(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=vae(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Qm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(rl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return nV().domain(t).range(e).unknown(r)},zi.apply(s,arguments)}function rV(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Qm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return rV().domain([t,e]).range(i).unknown(s)},zi.apply(vl(l),arguments)}function iV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Qm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return iV().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const J_=new Date,ew=new Date;function Pn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Pn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(J_.setTime(+s),ew.setTime(+l),t(J_),t(ew),Math.floor(n(J_,ew))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const jy=Pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jy);jy.range;const Is=1e3,Pi=Is*60,ks=Pi*60,Fs=ks*24,iA=Fs*7,GM=Fs*30,tw=Fs*365,fc=Pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCSeconds());fc.range;const aA=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getMinutes());aA.range;const sA=Pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCMinutes());sA.range;const oA=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is-t.getMinutes()*Pi)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getHours());oA.range;const lA=Pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCHours());lA.range;const ep=Pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/Fs,t=>t.getDate()-1);ep.range;const eb=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);eb.range;const aV=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));aV.range;function $c(t){return Pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/iA)}const tb=$c(0),zy=$c(1),pse=$c(2),gse=$c(3),Md=$c(4),yse=$c(5),vse=$c(6);tb.range;zy.range;pse.range;gse.range;Md.range;yse.range;vse.range;function Hc(t){return Pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iA)}const nb=Hc(0),Ly=Hc(1),bse=Hc(2),xse=Hc(3),Dd=Hc(4),_se=Hc(5),wse=Hc(6);nb.range;Ly.range;bse.range;xse.range;Dd.range;_se.range;wse.range;const cA=Pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cA.range;const uA=Pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uA.range;const qs=Pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qs.range;const $s=Pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$s.range;function sV(t,e,n,r,i,s){const l=[[fc,1,Is],[fc,5,5*Is],[fc,15,15*Is],[fc,30,30*Is],[s,1,Pi],[s,5,5*Pi],[s,15,15*Pi],[s,30,30*Pi],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[r,1,Fs],[r,2,2*Fs],[n,1,iA],[e,1,GM],[e,3,3*GM],[t,1,tw]];function c(f,m,p){const b=m<f;b&&([f,m]=[m,f]);const x=p&&typeof p.range=="function"?p:d(f,m,p),w=x?x.range(f,+m+1):[];return b?w.reverse():w}function d(f,m,p){const b=Math.abs(m-f)/p,x=HT(([,,S])=>S).right(l,b);if(x===l.length)return t.every(BE(f/tw,m/tw,p));if(x===0)return jy.every(Math.max(BE(f,m,p),1));const[w,E]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return w.every(E)}return[c,d]}const[Ese,Sse]=sV($s,uA,nb,aV,lA,sA),[Tse,Ase]=sV(qs,cA,tb,ep,oA,aA);function nw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ise(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=_h(i),m=wh(i),p=_h(s),b=wh(s),x=_h(l),w=wh(l),E=_h(c),S=wh(c),k=_h(d),M=wh(d),C={a:re,A:$,b:se,B:ve,c:null,d:ZM,e:ZM,f:Xse,g:soe,G:loe,H:Kse,I:Yse,j:Wse,L:oV,m:Qse,M:Zse,p:H,q:K,Q:tD,s:nD,S:Jse,u:eoe,U:toe,V:noe,w:roe,W:ioe,x:null,X:null,y:aoe,Y:ooe,Z:coe,"%":eD},j={a:oe,A:de,b:ge,B:Ie,c:null,d:JM,e:JM,f:hoe,g:Eoe,G:Toe,H:uoe,I:doe,j:foe,L:cV,m:moe,M:poe,p:Ee,q:Ve,Q:tD,s:nD,S:goe,u:yoe,U:voe,V:boe,w:xoe,W:_oe,x:null,X:null,y:woe,Y:Soe,Z:Aoe,"%":eD},P={a:q,A:L,b:F,B:U,c:_e,d:XM,e:XM,f:qse,g:WM,G:YM,H:QM,I:QM,j:Vse,L:Fse,m:Lse,M:Bse,p:V,q:zse,Q:Hse,s:Gse,S:Use,u:Pse,U:Rse,V:Mse,w:Ose,W:Dse,x:we,X:W,y:WM,Y:YM,Z:jse,"%":$se};C.x=z(n,C),C.X=z(r,C),C.c=z(e,C),j.x=z(n,j),j.X=z(r,j),j.c=z(e,j);function z(Z,Ae){return function(Be){var me=[],Kt=-1,Xe=0,tn=Z.length,Vt,Sn,Li;for(Be instanceof Date||(Be=new Date(+Be));++Kt<tn;)Z.charCodeAt(Kt)===37&&(me.push(Z.slice(Xe,Kt)),(Sn=KM[Vt=Z.charAt(++Kt)])!=null?Vt=Z.charAt(++Kt):Sn=Vt==="e"?" ":"0",(Li=Ae[Vt])&&(Vt=Li(Be,Sn)),me.push(Vt),Xe=Kt+1);return me.push(Z.slice(Xe,Kt)),me.join("")}}function R(Z,Ae){return function(Be){var me=xh(1900,void 0,1),Kt=O(me,Z,Be+="",0),Xe,tn;if(Kt!=Be.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ae&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Xe=rw(xh(me.y,0,1)),tn=Xe.getUTCDay(),Xe=tn>4||tn===0?Ly.ceil(Xe):Ly(Xe),Xe=eb.offset(Xe,(me.V-1)*7),me.y=Xe.getUTCFullYear(),me.m=Xe.getUTCMonth(),me.d=Xe.getUTCDate()+(me.w+6)%7):(Xe=nw(xh(me.y,0,1)),tn=Xe.getDay(),Xe=tn>4||tn===0?zy.ceil(Xe):zy(Xe),Xe=ep.offset(Xe,(me.V-1)*7),me.y=Xe.getFullYear(),me.m=Xe.getMonth(),me.d=Xe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),tn="Z"in me?rw(xh(me.y,0,1)).getUTCDay():nw(xh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(tn+5)%7:me.w+me.U*7-(tn+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,rw(me)):nw(me)}}function O(Z,Ae,Be,me){for(var Kt=0,Xe=Ae.length,tn=Be.length,Vt,Sn;Kt<Xe;){if(me>=tn)return-1;if(Vt=Ae.charCodeAt(Kt++),Vt===37){if(Vt=Ae.charAt(Kt++),Sn=P[Vt in KM?Ae.charAt(Kt++):Vt],!Sn||(me=Sn(Z,Be,me))<0)return-1}else if(Vt!=Be.charCodeAt(me++))return-1}return me}function V(Z,Ae,Be){var me=f.exec(Ae.slice(Be));return me?(Z.p=m.get(me[0].toLowerCase()),Be+me[0].length):-1}function q(Z,Ae,Be){var me=x.exec(Ae.slice(Be));return me?(Z.w=w.get(me[0].toLowerCase()),Be+me[0].length):-1}function L(Z,Ae,Be){var me=p.exec(Ae.slice(Be));return me?(Z.w=b.get(me[0].toLowerCase()),Be+me[0].length):-1}function F(Z,Ae,Be){var me=k.exec(Ae.slice(Be));return me?(Z.m=M.get(me[0].toLowerCase()),Be+me[0].length):-1}function U(Z,Ae,Be){var me=E.exec(Ae.slice(Be));return me?(Z.m=S.get(me[0].toLowerCase()),Be+me[0].length):-1}function _e(Z,Ae,Be){return O(Z,e,Ae,Be)}function we(Z,Ae,Be){return O(Z,n,Ae,Be)}function W(Z,Ae,Be){return O(Z,r,Ae,Be)}function re(Z){return l[Z.getDay()]}function $(Z){return s[Z.getDay()]}function se(Z){return d[Z.getMonth()]}function ve(Z){return c[Z.getMonth()]}function H(Z){return i[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function oe(Z){return l[Z.getUTCDay()]}function de(Z){return s[Z.getUTCDay()]}function ge(Z){return d[Z.getUTCMonth()]}function Ie(Z){return c[Z.getUTCMonth()]}function Ee(Z){return i[+(Z.getUTCHours()>=12)]}function Ve(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ae=z(Z+="",C);return Ae.toString=function(){return Z},Ae},parse:function(Z){var Ae=R(Z+="",!1);return Ae.toString=function(){return Z},Ae},utcFormat:function(Z){var Ae=z(Z+="",j);return Ae.toString=function(){return Z},Ae},utcParse:function(Z){var Ae=R(Z+="",!0);return Ae.toString=function(){return Z},Ae}}}var KM={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,kse=/^%/,Cse=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Nse(t){return t.replace(Cse,"\\$&")}function _h(t){return new RegExp("^(?:"+t.map(Nse).join("|")+")","i")}function wh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ose(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Pse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Rse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YM(t,e,n){var r=Gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WM(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Lse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XM(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vse(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function QM(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Bse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Use(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fse(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function qse(t,e,n){var r=Gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $se(t,e,n){var r=kse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hse(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gse(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ZM(t,e){return ut(t.getDate(),e,2)}function Kse(t,e){return ut(t.getHours(),e,2)}function Yse(t,e){return ut(t.getHours()%12||12,e,2)}function Wse(t,e){return ut(1+ep.count(qs(t),t),e,3)}function oV(t,e){return ut(t.getMilliseconds(),e,3)}function Xse(t,e){return oV(t,e)+"000"}function Qse(t,e){return ut(t.getMonth()+1,e,2)}function Zse(t,e){return ut(t.getMinutes(),e,2)}function Jse(t,e){return ut(t.getSeconds(),e,2)}function eoe(t){var e=t.getDay();return e===0?7:e}function toe(t,e){return ut(tb.count(qs(t)-1,t),e,2)}function lV(t){var e=t.getDay();return e>=4||e===0?Md(t):Md.ceil(t)}function noe(t,e){return t=lV(t),ut(Md.count(qs(t),t)+(qs(t).getDay()===4),e,2)}function roe(t){return t.getDay()}function ioe(t,e){return ut(zy.count(qs(t)-1,t),e,2)}function aoe(t,e){return ut(t.getFullYear()%100,e,2)}function soe(t,e){return t=lV(t),ut(t.getFullYear()%100,e,2)}function ooe(t,e){return ut(t.getFullYear()%1e4,e,4)}function loe(t,e){var n=t.getDay();return t=n>=4||n===0?Md(t):Md.ceil(t),ut(t.getFullYear()%1e4,e,4)}function coe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function JM(t,e){return ut(t.getUTCDate(),e,2)}function uoe(t,e){return ut(t.getUTCHours(),e,2)}function doe(t,e){return ut(t.getUTCHours()%12||12,e,2)}function foe(t,e){return ut(1+eb.count($s(t),t),e,3)}function cV(t,e){return ut(t.getUTCMilliseconds(),e,3)}function hoe(t,e){return cV(t,e)+"000"}function moe(t,e){return ut(t.getUTCMonth()+1,e,2)}function poe(t,e){return ut(t.getUTCMinutes(),e,2)}function goe(t,e){return ut(t.getUTCSeconds(),e,2)}function yoe(t){var e=t.getUTCDay();return e===0?7:e}function voe(t,e){return ut(nb.count($s(t)-1,t),e,2)}function uV(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function boe(t,e){return t=uV(t),ut(Dd.count($s(t),t)+($s(t).getUTCDay()===4),e,2)}function xoe(t){return t.getUTCDay()}function _oe(t,e){return ut(Ly.count($s(t)-1,t),e,2)}function woe(t,e){return ut(t.getUTCFullYear()%100,e,2)}function Eoe(t,e){return t=uV(t),ut(t.getUTCFullYear()%100,e,2)}function Soe(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function Toe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function Aoe(){return"+0000"}function eD(){return"%"}function tD(t){return+t}function nD(t){return Math.floor(+t/1e3)}var Fu,dV,fV;Ioe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ioe(t){return Fu=Ise(t),dV=Fu.format,Fu.parse,fV=Fu.utcFormat,Fu.utcParse,Fu}function koe(t){return new Date(t)}function Coe(t){return t instanceof Date?+t:+new Date(+t)}function dA(t,e,n,r,i,s,l,c,d,f){var m=QT(),p=m.invert,b=m.domain,x=f(".%L"),w=f(":%S"),E=f("%I:%M"),S=f("%I %p"),k=f("%a %d"),M=f("%b %d"),C=f("%B"),j=f("%Y");function P(z){return(d(z)<z?x:c(z)<z?w:l(z)<z?E:s(z)<z?S:r(z)<z?i(z)<z?k:M:n(z)<z?C:j)(z)}return m.invert=function(z){return new Date(p(z))},m.domain=function(z){return arguments.length?b(Array.from(z,Coe)):b().map(koe)},m.ticks=function(z){var R=b();return t(R[0],R[R.length-1],z??10)},m.tickFormat=function(z,R){return R==null?P:f(R)},m.nice=function(z){var R=b();return(!z||typeof z.range!="function")&&(z=e(R[0],R[R.length-1],z??10)),z?b(ZL(R,z)):m},m.copy=function(){return Jm(m,dA(t,e,n,r,i,s,l,c,d,f))},m}function Noe(){return zi.apply(dA(Tse,Ase,qs,cA,tb,ep,oA,aA,fc,dV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ooe(){return zi.apply(dA(Ese,Sse,$s,uA,nb,eb,lA,sA,fc,fV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rb(){var t=0,e=1,n,r,i,s,l=Sr,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(b){var x,w;return arguments.length?([x,w]=b,l=p(x,w),f):[l(0),l(1)]}}return f.range=m(ef),f.rangeRound=m(XT),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function bl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hV(){var t=vl(rb()(Sr));return t.copy=function(){return bl(t,hV())},Zs.apply(t,arguments)}function mV(){var t=eA(rb()).domain([1,10]);return t.copy=function(){return bl(t,mV()).base(t.base())},Zs.apply(t,arguments)}function pV(){var t=tA(rb());return t.copy=function(){return bl(t,pV()).constant(t.constant())},Zs.apply(t,arguments)}function fA(){var t=nA(rb());return t.copy=function(){return bl(t,fA()).exponent(t.exponent())},Zs.apply(t,arguments)}function Poe(){return fA.apply(null,arguments).exponent(.5)}function gV(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>yae(t,s/r))},n.copy=function(){return gV(e).domain(t)},Zs.apply(n,arguments)}function ib(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Sr,m,p=!1,b;function x(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:d),f(p?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(p=!!E,x):p},x.interpolator=function(E){return arguments.length?(f=E,x):f};function w(E){return function(S){var k,M,C;return arguments.length?([k,M,C]=S,f=$ae(E,[k,M,C]),x):[f(0),f(.5),f(1)]}}return x.range=w(ef),x.rangeRound=w(XT),x.unknown=function(E){return arguments.length?(b=E,x):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function yV(){var t=vl(ib()(Sr));return t.copy=function(){return bl(t,yV())},Zs.apply(t,arguments)}function vV(){var t=eA(ib()).domain([.1,1,10]);return t.copy=function(){return bl(t,vV()).base(t.base())},Zs.apply(t,arguments)}function bV(){var t=tA(ib());return t.copy=function(){return bl(t,bV()).constant(t.constant())},Zs.apply(t,arguments)}function hA(){var t=nA(ib());return t.copy=function(){return bl(t,hA()).exponent(t.exponent())},Zs.apply(t,arguments)}function Roe(){return hA.apply(null,arguments).exponent(.5)}const Nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:KT,scaleDiverging:yV,scaleDivergingLog:vV,scaleDivergingPow:hA,scaleDivergingSqrt:Roe,scaleDivergingSymlog:bV,scaleIdentity:QL,scaleImplicit:UE,scaleLinear:XL,scaleLog:JL,scaleOrdinal:GT,scalePoint:xae,scalePow:rA,scaleQuantile:nV,scaleQuantize:rV,scaleRadial:tV,scaleSequential:hV,scaleSequentialLog:mV,scaleSequentialPow:fA,scaleSequentialQuantile:gV,scaleSequentialSqrt:Poe,scaleSequentialSymlog:pV,scaleSqrt:hse,scaleSymlog:eV,scaleThreshold:iV,scaleTime:Noe,scaleUtc:Ooe,tickFormat:WL},Symbol.toStringTag,{value:"Module"}));var Js=t=>t.chartData,xV=le([Js],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),_V=(t,e,n,r)=>r?xV(t):Js(t),Moe=(t,e,n)=>n?xV(t):Js(t);function ul(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xt(e)&&Xt(n))return!0}return!1}function rD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function wV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Xt(n))i=n;else if(typeof n=="function")return;if(Xt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ul(l))return l}}function Doe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ul(r))return rD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ue(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&pR.test(i)){var d=pR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Ue(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&gR.test(s)){var m=gR.exec(s);if(m==null||m[1]==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e?.[1];var b=[l,c];if(ul(b))return e==null?b:rD(b,e,n)}}}var tf=1e9,joe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pA,Ht=!0,Di="[DecimalError] ",_c=Di+"Invalid argument: ",mA=Di+"Exponent out of range: ",nf=Math.floor,tc=Math.pow,zoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,qn=1e7,zt=7,EV=9007199254740991,Vy=nf(EV/zt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return Rs(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return Ot(Rs(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return En(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ri))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(ri)?new r(0):(Ht=!1,e=Rs(bm(n,s),bm(t,s),s),Ht=!0,Ot(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AV(e,t):SV(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Ht=!1,e=Rs(n,t,0,1).times(t),Ht=!0,n.minus(e)):Ot(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return TV(this)};Ne.naturalLogarithm=Ne.ln=function(){return bm(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SV(e,t):AV(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_c+t);if(e=En(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Di+"NaN")}for(t=En(c),Ht=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Ua(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Rs(c,s,l+2)).times(.5),Ua(s.d).slice(0,l)===(e=Ua(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ot(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Ht=!0,Ot(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,s,l,c,d,f,m=this,p=m.constructor,b=m.d,x=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,f=x.length,d<f&&(s=b,b=x,x=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+x[r]*b[i-r-1]+e,s[i--]=c%qn|0,e=c/qn|0;s[i]=(s[i]+e)%qn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ht?Ot(t,p.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qa(t,0,tf),e===void 0?e=r.rounding:Qa(e,0,8),Ot(n,t+En(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Lc(r,!0):(Qa(t,0,tf),e===void 0?e=i.rounding:Qa(e,0,8),r=Ot(new i(r),t+1,e),n=Lc(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Lc(i):(Qa(t,0,tf),e===void 0?e=s.rounding:Qa(e,0,8),r=Ot(new s(i),t+En(i)+1,e),n=Lc(r.abs(),!1,t+En(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),En(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ri);if(c=new d(c),!c.s){if(t.s<1)throw Error(Di+"Infinity");return c}if(c.eq(ri))return c;if(r=d.precision,t.eq(ri))return Ot(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=EV){for(i=new d(ri),e=Math.ceil(r/zt+4),Ht=!1;n%2&&(i=i.times(c),aD(i.d,e)),n=nf(n/2),n!==0;)c=c.times(c),aD(c.d,e);return Ht=!0,t.s<0?new d(ri).div(i):Ot(i,r)}}else if(s<0)throw Error(Di+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ht=!1,i=t.times(bm(c,r+f)),Ht=!0,i=TV(i),i.s=s,i};Ne.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=En(i),r=Lc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Qa(t,1,tf),e===void 0?e=s.rounding:Qa(e,0,8),i=Ot(new s(i),t,e),n=En(i),r=Lc(i,t<=n||n<=s.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qa(t,1,tf),e===void 0?e=r.rounding:Qa(e,0,8)),Ot(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=En(t),n=t.constructor;return Lc(t,e<=n.toExpNeg||e>=n.toExpPos)};function SV(t,e){var n,r,i,s,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ht?Ot(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/zt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/qn|0,d[s]%=qn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Ht?Ot(e,p):e}function Qa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(_c+t)}function Ua(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(s+=Uo(n)),s+=r;l=t[e],r=l+"",n=zt-r.length,n&&(s+=Uo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Rs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%qn|0,l=s/qn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*qn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,m,p,b,x,w,E,S,k,M,C,j,P,z,R,O,V=r.constructor,q=r.s==i.s?1:-1,L=r.d,F=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Di+"Division by zero");for(d=r.e-i.e,R=F.length,P=L.length,x=new V(q),w=x.d=[],f=0;F[f]==(L[f]||0);)++f;if(F[f]>(L[f]||0)&&--d,s==null?M=s=V.precision:l?M=s+(En(r)-En(i))+1:M=s,M<0)return new V(0);if(M=M/zt+2|0,f=0,R==1)for(m=0,F=F[0],M++;(f<P||m)&&M--;f++)C=m*qn+(L[f]||0),w[f]=C/F|0,m=C%F|0;else{for(m=qn/(F[0]+1)|0,m>1&&(F=t(F,m),L=t(L,m),R=F.length,P=L.length),j=R,E=L.slice(0,R),S=E.length;S<R;)E[S++]=0;O=F.slice(),O.unshift(0),z=F[0],F[1]>=qn/2&&++z;do m=0,c=e(F,E,R,S),c<0?(k=E[0],R!=S&&(k=k*qn+(E[1]||0)),m=k/z|0,m>1?(m>=qn&&(m=qn-1),p=t(F,m),b=p.length,S=E.length,c=e(p,E,b,S),c==1&&(m--,n(p,R<b?O:F,b))):(m==0&&(c=m=1),p=F.slice()),b=p.length,b<S&&p.unshift(0),n(E,p,S),c==-1&&(S=E.length,c=e(F,E,R,S),c<1&&(m++,n(E,R<S?O:F,S))),S=E.length):c===0&&(m++,E=[0]),w[f++]=m,c&&E[0]?E[S++]=L[j]||0:(E=[L[j]],S=1);while((j++<P||E[0]!==void 0)&&M--)}return w[0]||w.shift(),x.e=d,Ot(x,l?s+En(x)+1:s)}})();function TV(t,e){var n,r,i,s,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(En(t)>16)throw Error(mA+En(t));if(!t.s)return new m(ri);for(Ht=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(tc(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new m(ri),m.precision=c;;){if(i=Ot(i.times(t),c),n=n.times(++d),l=s.plus(Rs(i,n,c)),Ua(l.d).slice(0,c)===Ua(s.d).slice(0,c)){for(;f--;)s=Ot(s.times(s),c);return m.precision=p,e==null?(Ht=!0,Ot(s,p)):s}s=l}}function En(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function iw(t,e,n){if(e>t.LN10.sd())throw Ht=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Uo(t){for(var e="";t--;)e+="0";return e}function bm(t,e){var n,r,i,s,l,c,d,f,m,p=1,b=10,x=t,w=x.d,E=x.constructor,S=E.precision;if(x.s<1)throw Error(Di+(x.s?"NaN":"-Infinity"));if(x.eq(ri))return new E(0);if(e==null?(Ht=!1,f=S):f=e,x.eq(10))return e==null&&(Ht=!0),iw(E,f);if(f+=b,E.precision=f,n=Ua(w),r=n.charAt(0),s=En(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Ua(x.d),r=n.charAt(0),p++;s=En(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return d=iw(E,f+2,S).times(s+""),x=bm(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(Ht=!0,Ot(x,S)):x;for(c=l=x=Rs(x.minus(ri),x.plus(ri),f),m=Ot(x.times(x),f),i=3;;){if(l=Ot(l.times(m),f),d=c.plus(Rs(l,new E(i),f)),Ua(d.d).slice(0,f)===Ua(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(iw(E,f+2,S).times(s+""))),c=Rs(c,new E(p),f),E.precision=S,e==null?(Ht=!0,Ot(c,S)):c;c=d,i+=2}}function iD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Vy||t.e<-Vy))throw Error(mA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,s,l,c,d,f,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=zt,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/zt),s=p.length,m>=s)return t;for(f=s=p[m],l=1;s>=10;s/=10)l++;r%=zt,i=r-zt+l}if(n!==void 0&&(s=tc(10,l-i-1),c=f/s%10|0,d=e<0||p[m+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/tc(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=En(t),p.length=1,e=e-s-1,p[0]=tc(10,(zt-e%zt)%zt),t.e=nf(-e/zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=tc(10,zt-r),p[m]=i>0?(f/tc(10,l-i)%tc(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==qn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=qn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Ht&&(t.e>Vy||t.e<-Vy))throw Error(mA+En(t));return t}function AV(t,e){var n,r,i,s,l,c,d,f,m,p,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Ht?Ot(e,x):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(x/zt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=qn-1;--d[s],d[i]+=qn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Ht?Ot(e,x):e):new b(0)}function Lc(t,e,n){var r,i=En(t),s=Ua(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Uo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Uo(-i-1)+s,n&&(r=n-l)>0&&(s+=Uo(r))):i>=l?(s+=Uo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Uo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Uo(r))),t.s<0?"-"+s:s}function aD(t,e){if(t.length>e)return t.length=e,!0}function IV(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_c+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return iD(l,s.toString())}else if(typeof s!="string")throw Error(_c+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,zoe.test(s))iD(l,s);else throw Error(_c+s)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IV,i.config=i.set=Loe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Loe(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(_c+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_c+n+": "+r);return this}var pA=IV(joe);ri=new pA(1);const xt=pA;var Voe=t=>t,kV={},CV=t=>t===kV,sD=t=>function e(){return arguments.length===0||arguments.length===1&&CV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},NV=(t,e)=>t===1?e:sD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==kV).length;return s>=t?e(...r):NV(t-s,sD(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>CV(m)?c.shift():m);return e(...f,...c)}))}),Boe=t=>NV(t.length,t),HE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Uoe=Boe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Foe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Voe;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function OV(t){var e;return t===0?e=1:e=Math.floor(new xt(t).abs().log(10).toNumber())+1,e}function PV(t,e,n){for(var r=new xt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var RV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},MV=(t,e,n)=>{if(t.lte(0))return new xt(0);var r=OV(t.toNumber()),i=new xt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new xt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new xt(d.toNumber()):new xt(Math.ceil(d.toNumber()))},qoe=(t,e,n)=>{var r=new xt(1),i=new xt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new xt(10).pow(OV(t)-1),i=new xt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new xt(Math.floor(t)))}else t===0?i=new xt(Math.floor((e-1)/2)):n||(i=new xt(Math.floor(t)));var l=Math.floor((e-1)/2),c=Foe(Uoe(d=>i.add(new xt(d-l).mul(r)).toNumber()),HE);return c(0,e)},DV=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var l=MV(new xt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new xt(0):(c=new xt(e).add(n).div(2),c=c.sub(new xt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new xt(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?DV(e,n,r,i,s+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new xt(d).mul(l)),tickMax:c.add(new xt(f).mul(l))})},$oe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=RV([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...HE(0,i-1).map(()=>1/0)]:[...HE(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return qoe(c,i,s);var{step:m,tickMin:p,tickMax:b}=DV(c,d,l,s,0),x=PV(p,b.add(new xt(.1).mul(m)),m);return n>r?x.reverse():x},Hoe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=RV([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=MV(new xt(c).sub(l).div(d-1),s,0),m=[...PV(new xt(l),new xt(c),f),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},jV=t=>t.rootProps.maxBarSize,Goe=t=>t.rootProps.barGap,zV=t=>t.rootProps.barCategoryGap,Koe=t=>t.rootProps.barSize,ab=t=>t.rootProps.stackOffset,LV=t=>t.rootProps.reverseStackOrder,gA=t=>t.options.chartName,yA=t=>t.rootProps.syncId,VV=t=>t.rootProps.syncMethod,vA=t=>t.options.eventEmitter,Br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ws={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Yoe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:ws.reversed,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:ws.type,unit:void 0},Woe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:ni.type,unit:void 0},Xoe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ws.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qoe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:"category",unit:void 0},bA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Xoe:Yoe,xA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Qoe:Woe,ob=t=>t.polarOptions,_A=le([Xs,Qs,Hn],Hie),BV=le([ob,_A],(t,e)=>{if(t!=null)return oa(t.innerRadius,e,0)}),UV=le([ob,_A],(t,e)=>{if(t!=null)return oa(t.outerRadius,e,e*.8)}),Zoe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},FV=le([ob],Zoe);le([bA,FV],sb);var qV=le([_A,BV,UV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([xA,qV],sb);var $V=le([St,ob,BV,UV,Xs,Qs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:oa(l,i,i/2),cy:oa(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Rn=(t,e)=>e,lb=(t,e,n)=>n;function wA(t){return t?.id}function HV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=wA(c);f.forEach((p,b)=>{var x=s==null||i?b:String(lr(p,s,null)),w=lr(p,c.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[m]:w}),l.set(x,E)})}}),Array.from(l.values())}function cb(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ub=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function db(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Joe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Mn=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},rf=t=>t.tooltip.settings.axisId;function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GE=[0,"auto"],Bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GV=(t,e)=>t.cartesianAxis.xAxis[e],eo=(t,e)=>{var n=GV(t,e);return n??Bn},Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ym},KV=(t,e)=>t.cartesianAxis.yAxis[e],to=(t,e)=>{var n=KV(t,e);return n??Un},rle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},EA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??rle},kr=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);case"zAxis":return EA(t,n);case"angleAxis":return bA(t,n);case"radiusAxis":return xA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ile=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tp=(t,e,n)=>{switch(e){case"xAxis":return eo(t,n);case"yAxis":return to(t,n);case"angleAxis":return bA(t,n);case"radiusAxis":return xA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},YV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function WV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var SA=t=>t.graphicalItems.cartesianItems,ale=le([Rn,lb],WV),XV=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),np=le([SA,kr,ale],XV,{memoizeOptions:{resultEqualityCheck:db}}),QV=le([np],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(cb)),ZV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),sle=le([np],ZV),JV=t=>t.map(e=>e.data).filter(Boolean).flat(1),ole=le([np],JV,{memoizeOptions:{resultEqualityCheck:db}}),e9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},TA=le([ole,_V],e9),t9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:lr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:lr(i,r)}))):t.map(r=>({value:r})),fb=le([TA,kr,np],t9);function n9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function k0(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(Xt(e))return e}}function lD(t){if(Array.isArray(t)){var e=[k0(t[0]),k0(t[1])];return ul(e)?e:void 0}var n=k0(t);if(n!=null)return[n,n]}function Hs(t){return t.map(k0).filter(hee)}function lle(t,e,n){return!n||typeof e!="number"||Wa(e)?[]:n.length?Hs(n.flatMap(r=>{var i=lr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Xt(s)||!Xt(l)))return[e-s,e+l]})):[]}var Dn=t=>{var e=Mn(t),n=rf(t);return tp(t,e,n)},rp=le([Dn],t=>t?.dataKey),cle=le([QV,_V,Dn],HV),r9=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,m=f.map(wA);return[c,{stackedData:Rne(t,m,n),graphicalItems:f}]}))},KE=le([cle,QV,ab,LV],r9),i9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=Lne(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},ule=le([kr],t=>t.allowDataOverflow),AA=t=>{var e;if(t==null||!("domain"in t))return GE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Hs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:GE},a9=le([kr],AA),s9=le([a9,ule],wV),dle=le([KE,Js,Rn,s9],i9,{memoizeOptions:{resultEqualityCheck:ub}}),IA=t=>t.errorBars,fle=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>n9(n,r)),Uy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},o9=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>n9(i,k)),b=lr(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),x=lle(c,b,p);if(x.length>=2){var w=Math.min(...x),E=Math.max(...x);(s==null||w<s)&&(s=w),(l==null||E>l)&&(l=E)}var S=lD(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=lD(lr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Xt(s)&&Xt(l))return[s,l]},hle=le([TA,kr,sle,IA,Rn],o9,{memoizeOptions:{resultEqualityCheck:ub}});function mle(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var ple=(t,e,n)=>{var r=t.map(mle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&w6(r))?VL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},l9=t=>t.referenceElements.dots,af=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gle=le([l9,Rn,lb],af),c9=t=>t.referenceElements.areas,yle=le([c9,Rn,lb],af),u9=t=>t.referenceElements.lines,vle=le([u9,Rn,lb],af),d9=(t,e)=>{if(t!=null){var n=Hs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ble=le(gle,Rn,d9),f9=(t,e)=>{if(t!=null){var n=Hs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xle=le([yle,Rn],f9);function _le(t){var e;if(t.x!=null)return Hs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Hs(n)}function wle(t){var e;if(t.y!=null)return Hs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Hs(n)}var h9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?_le(r):wle(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ele=le([vle,Rn],h9),Sle=le(ble,Ele,xle,(t,e,n)=>Uy(t,n,e)),m9=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?Uy(r,s,i):Uy(s,i);return Doe(e,f,t.allowDataOverflow)},Tle=le([kr,a9,s9,dle,hle,Sle,St,Rn],m9,{memoizeOptions:{resultEqualityCheck:ub}}),Ale=[0,1],p9=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=qc(e,s);if(f&&c==null){var m;return VL(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?ple(r,t,f):i==="expand"?Ale:l}},kA=le([kr,St,TA,fb,ab,Rn,Tle],p9),g9=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat($m(s));return c in Nh?c:"point"}}},ip=le([kr,St,YV,gA,Rn],g9);function Ile(t){if(t!=null){if(t in Nh)return Nh[t]();var e="scale".concat($m(t));if(e in Nh)return Nh[e]()}}function CA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Ile(e);if(i!=null){var s=i.domain(n).range(r);return kne(s),s}}}var y9=(t,e,n)=>{var r=AA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(t))return $oe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ul(t))return Hoe(t,e.tickCount,e.allowDecimals)}},NA=le([kA,tp,ip],y9),v9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ul(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},kle=le([kr,kA,NA,Rn],v9),Cle=le(fb,kr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Hs(t.map(p=>p.value))).sort((p,b)=>p-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var m=f-d;n=Math.min(n,m)}}return n/l}}),b9=le(Cle,St,zV,Hn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Xt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=oa(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Nle=(t,e,n)=>{var r=eo(t,e);return r==null||typeof r.padding!="string"?0:b9(t,"xAxis",e,n,r.padding)},Ole=(t,e,n)=>{var r=to(t,e);return r==null||typeof r.padding!="string"?0:b9(t,"yAxis",e,n,r.padding)},Ple=le(eo,Nle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Rle=le(to,Ole,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Mle=le([Hn,Ple,Gv,Hv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Dle=le([Hn,St,Rle,Gv,Hv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ap=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Mle(t,n,r);case"yAxis":return Dle(t,n,r);case"zAxis":return(i=EA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return FV(t);case"radiusAxis":return qV(t,n);default:return}},x9=le([kr,ap],sb),hb=le([kr,ip,kle,x9],CA);le([np,IA,Rn],fle);function _9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var mb=(t,e)=>e,pb=(t,e,n)=>n,jle=le(qv,mb,pb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_9)),zle=le($v,mb,pb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(_9)),w9=(t,e)=>({width:t.width,height:e.height}),Lle=(t,e)=>{var n=typeof e.width=="number"?e.width:Ym;return{width:n,height:t.height}},E9=le(Hn,eo,w9),Vle=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ble=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ule=le(Qs,Hn,jle,mb,pb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=w9(e,c);l==null&&(l=Vle(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),Fle=le(Xs,Hn,zle,mb,pb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=Lle(e,c);l==null&&(l=Ble(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),qle=(t,e)=>{var n=eo(t,e);if(n!=null)return Ule(t,n.orientation,n.mirror)},$le=le([Hn,eo,qle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Hle=(t,e)=>{var n=to(t,e);if(n!=null)return Fle(t,n.orientation,n.mirror)},Gle=le([Hn,to,Hle,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),S9=le(Hn,to,(t,e)=>{var n=typeof e.width=="number"?e.width:Ym;return{width:n,height:t.height}}),cD=(t,e,n)=>{switch(e){case"xAxis":return E9(t,n).width;case"yAxis":return S9(t,n).height;default:return}},T9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=qc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&w6(d))return d}},OA=le([St,fb,kr,Rn],T9),A9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=qc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},PA=le([St,fb,tp,Rn],A9);le([St,ile,ip,hb,OA,PA,ap,NA,Rn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=qc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var Kle=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=qc(t,d),{type:m,ticks:p,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&s!=null&&s.length>=2?ai(s[0]-s[1])*2*w:w;var E=p||i;if(E){var S=E.map((k,M)=>{var C=l?l.indexOf(k):k;return{index:M,coordinate:r(C)+w,value:k,offset:w}});return S.filter(k=>Xt(k.coordinate))}return f&&c?c.map((k,M)=>({coordinate:r(k)+w,value:k,index:M,offset:w})).filter(k=>Xt(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,M)=>({coordinate:r(k)+w,value:l?l[k]:k,index:M,offset:w}))}},I9=le([St,tp,ip,hb,NA,ap,OA,PA,Rn],Kle),Yle=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=qc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?ai(r[0]-r[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},jd=le([St,tp,hb,ap,OA,PA,Rn],Yle),zd=le(kr,hb,(t,e)=>{if(!(t==null||e==null))return By(By({},t),{},{scale:e})}),Wle=le([kr,ip,kA,x9],CA);le((t,e,n)=>EA(t,n),Wle,(t,e)=>{if(!(t==null||e==null))return By(By({},t),{},{scale:e})});var Xle=le([St,qv,$v],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k9=t=>t.options.defaultTooltipEventType,C9=t=>t.options.validateTooltipEventTypes;function N9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function RA(t,e){var n=k9(t),r=C9(t);return N9(e,n,r)}function Qle(t){return $e(e=>RA(e,t))}var O9=(t,e)=>{var n,r=Number(e);if(!(Wa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Zle=t=>t.tooltip.settings,Ko={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Jle={itemInteraction:{click:Ko,hover:Ko},axisInteraction:{click:Ko,hover:Ko},keyboardInteraction:Ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P9=Ur({name:"tooltip",initialState:Jle,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=sa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:qt()},removeTooltipEntrySettings:{reducer(t,e){var n=sa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:ece,replaceTooltipEntrySettings:tce,removeTooltipEntrySettings:nce,setTooltipSettingsState:rce,setActiveMouseOverItemIndex:R9,mouseLeaveItem:ice,mouseLeaveChart:M9,setActiveClickItemIndex:ace,setMouseOverAxisIndex:D9,setMouseClickAxisIndex:sce,setSyncInteraction:YE,setKeyboardInteraction:WE}=P9.actions,oce=P9.reducer;function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function fce(t){return t.index!=null}var j9=(t,e,n,r)=>{if(e==null)return Ko;var i=dce(t,e,n);if(i==null)return Ko;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(fce(i)){if(s)return r0(r0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return r0(r0({},Ko),{},{coordinate:i.coordinate})};function hce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function mce(t,e){var n=hce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function pce(t,e,n){if(n==null||e==null)return!0;var r=lr(t,e);return r==null||!ul(n)?!0:mce(r,n)}var MA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Xt(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||pce(f,n,r)?String(d):null},z9=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=i?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:m.coordinate}}},L9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},sp=t=>t.options.tooltipPayloadSearcher,sf=t=>t.tooltip;function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bce(t,e){return t??e}var V9=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((b,x)=>{var w,{dataDefinedOnItem:E,settings:S}=x,k=bce(E,c),M=Array.isArray(k)?mL(k,f,m):k,C=(w=S?.dataKey)!==null&&w!==void 0?w:r,j=S?.nameKey,P;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?P=fee(M,r,i):P=s(M,e,d,j),Array.isArray(P))P.forEach(R=>{var O=fD(fD({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(yR({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:lr(R.payload,R.dataKey),name:R.name}))});else{var z;b.push(yR({tooltipEntrySettings:S,dataKey:C,payload:P,value:lr(P,C),name:(z=lr(P,j))!==null&&z!==void 0?z:S?.name}))}return b},p)}},DA=le([Dn,St,YV,gA,Mn],g9),xce=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_ce=le([Mn,rf],WV),of=le([xce,Dn,_ce],XV,{memoizeOptions:{resultEqualityCheck:db}}),wce=le([of],t=>t.filter(cb)),Ece=le([of],JV,{memoizeOptions:{resultEqualityCheck:db}}),lf=le([Ece,Js],e9),Sce=le([wce,Js,Dn],HV),jA=le([lf,Dn,of],t9),B9=le([Dn],AA),Tce=le([Dn],t=>t.allowDataOverflow),U9=le([B9,Tce],wV),Ace=le([of],t=>t.filter(cb)),Ice=le([Sce,Ace,ab,LV],r9),kce=le([Ice,Js,Mn,U9],i9),Cce=le([of],ZV),Nce=le([lf,Dn,Cce,IA,Mn],o9,{memoizeOptions:{resultEqualityCheck:ub}}),Oce=le([l9,Mn,rf],af),Pce=le([Oce,Mn],d9),Rce=le([c9,Mn,rf],af),Mce=le([Rce,Mn],f9),Dce=le([u9,Mn,rf],af),jce=le([Dce,Mn],h9),zce=le([Pce,jce,Mce],Uy),Lce=le([Dn,B9,U9,kce,Nce,zce,St,Mn],m9),op=le([Dn,St,lf,jA,ab,Mn,Lce],p9),Vce=le([op,Dn,DA],y9),Bce=le([Dn,op,Vce,Mn],v9),F9=t=>{var e=Mn(t),n=rf(t),r=!1;return ap(t,e,n,r)},q9=le([Dn,F9],sb),$9=le([Dn,DA,Bce,q9],CA),Uce=le([St,jA,Dn,Mn],T9),Fce=le([St,jA,Dn,Mn],A9),qce=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=qc(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?ai(i[0]-i[1])*2*p:p,f&&l?l.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:s?s[b]:b,index:x,offset:p}))}}},no=le([St,Dn,DA,$9,F9,Uce,Fce,Mn],qce),zA=le([k9,C9,Zle],(t,e,n)=>N9(n.shared,t,e)),H9=t=>t.tooltip.settings.trigger,LA=t=>t.tooltip.settings.defaultIndex,lp=le([sf,zA,H9,LA],j9),Ld=le([lp,lf,rp,op],MA),G9=le([no,Ld],O9),K9=le([lp],t=>{if(t)return t.dataKey});le([lp],t=>{if(t)return t.graphicalItemId});var Y9=le([sf,zA,H9,LA],L9),$ce=le([Xs,Qs,St,Hn,no,LA,Y9,sp],z9),Hce=le([lp,$ce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Gce=le([lp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Kce=le([Y9,Ld,Js,rp,G9,sp,zA],V9);le([Kce],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce=()=>$e(Dn),Zce=()=>{var t=Qce(),e=$e(no),n=$e($9);return _y(!t||!n?void 0:mD(mD({},t),{},{scale:n}),e)};function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return(e=eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},rue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return qu(qu(qu({},r),or(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return qu(qu(qu({},r),or(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function iue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var W9=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,m,p,b,x=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,w=(m=n[c])===null||m===void 0?void 0:m.coordinate,E=c>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(x==null||w==null||E==null))if(ai(w-x)!==ai(E-w)){var k=[];if(ai(E-w)===ai(i[1]-i[0])){S=E;var M=w+i[1]-i[0];k[0]=Math.min(M,(M+x)/2),k[1]=Math.max(M,(M+x)/2)}else{S=x;var C=E+i[1]-i[0];k[0]=Math.min(w,(C+w)/2),k[1]=Math.max(w,(C+w)/2)}var j=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>j[0]&&t<=j[1]||t>=k[0]&&t<=k[1]){var P;return(P=n[c])===null||P===void 0?void 0:P.index}}else{var z=Math.min(x,E),R=Math.max(x,E);if(t>(z+w)/2&&t<=(R+w)/2){var O;return(O=n[c])===null||O===void 0?void 0:O.index}}}else if(e)for(var V=0;V<l;V++){var q=e[V];if(q!=null){var L=e[V+1],F=e[V-1];if(V===0&&L!=null&&t<=(q.coordinate+L.coordinate)/2||V===l-1&&F!=null&&t>(q.coordinate+F.coordinate)/2||V>0&&V<l-1&&F!=null&&L!=null&&t>(q.coordinate+F.coordinate)/2&&t<=(q.coordinate+L.coordinate)/2)return q.index}}return-1},aue=()=>$e(gA),VA=(t,e)=>e,X9=(t,e,n)=>n,BA=(t,e,n,r)=>r,sue=le(no,t=>Rv(t,e=>e.coordinate)),UA=le([sf,VA,X9,BA],j9),FA=le([UA,lf,rp,op],MA),oue=(t,e,n)=>{if(e!=null){var r=sf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Q9=le([sf,VA,X9,BA],L9),Fy=le([Xs,Qs,St,Hn,no,BA,Q9,sp],z9),lue=le([UA,Fy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Z9=le([no,FA],O9),cue=le([Q9,FA,Js,rp,Z9,sp,VA],V9),uue=le([UA,FA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),due=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&iue(t,l)){var c=Vne(t,e),d=W9(c,s,i,n,r),f=nue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},fue=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=Xie(t,n);if(c){var d=Bne(c,e),f=W9(d,l,s,r,i),m=rue(e,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},hue=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?due(t,e,r,i,s,l,c):fue(t,e,n,r,i,s,l)},mue=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),pue=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Br)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Joe}});function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return(e=yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=vue(t,"string");return typeof e=="symbol"?e:e+""}function vue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bue={},xue={zIndexMap:Object.values(Br).reduce((t,e)=>yD(yD({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),bue)},_ue=new Set(Object.values(Br));function wue(t){return _ue.has(t)}var J9=Ur({name:"zIndex",initialState:xue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!wue(n)&&delete t.zIndexMap[n])},prepare:qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:qt()}}}),{registerZIndexPortal:Eue,unregisterZIndexPortal:Sue,registerZIndexPortalElement:Tue,unregisterZIndexPortalElement:Aue}=J9.actions,Iue=J9.reducer;function xl(t){var{zIndex:e,children:n}=t,r=_re(),i=r&&e!==void 0&&e!==0,s=hi(),l=dn();A.useLayoutEffect(()=>i?(l(Eue({zIndex:e})),()=>{l(Sue({zIndex:e}))}):Hm,[l,e,i]);var c=$e(d=>mue(d,e,s));return i?c?mS.createPortal(n,c):null:n}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function Pue(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,b=r,x=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,E,S;if(m==="ScatterChart")w=p,E=cie,S=Br.cursorLine;else if(m==="BarChart")w=uie(c,p,s,l),E=DL,S=Br.cursorRectangle;else if(c==="radial"&&T6(p)){var{cx:k,cy:M,radius:C,startAngle:j,endAngle:P}=jL(p);w={cx:k,cy:M,startAngle:j,endAngle:P,innerRadius:C,outerRadius:C},E=LL,S=Br.cursorLine}else w={points:eae(c,p,s)},E=NL,S=Br.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,R=i0(i0(i0(i0({stroke:"#ccc",pointerEvents:"none"},s),w),ET(d)),{},{payload:b,payloadIndex:x,className:Te("recharts-tooltip-cursor",z)});return A.createElement(xl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},A.createElement(Oue,{cursor:d,cursorComp:E,cursorProps:R}))}function Rue(t){var e=Zce(),n=vre(),r=Wm(),i=aue();return e==null||n==null||r==null||i==null?null:A.createElement(Pue,XE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var e8=A.createContext(null),Mue=()=>A.useContext(e8),aw={exports:{}},bD;function Due(){return bD||(bD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||d,b),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,w=new Array(x);b<x;b++)w[b]=p[b].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,b,x,w){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],k=arguments.length,M,C;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,b),!0;case 5:return S.fn.call(S.context,m,p,b,x),!0;case 6:return S.fn.call(S.context,m,p,b,x,w),!0}for(C=1,M=new Array(k-1);C<k;C++)M[C-1]=arguments[C];S.fn.apply(S.context,M)}else{var j=S.length,P;for(C=0;C<j;C++)switch(S[C].once&&this.removeListener(f,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,m);break;case 3:S[C].fn.call(S[C].context,m,p);break;case 4:S[C].fn.call(S[C].context,m,p,b);break;default:if(!M)for(P=1,M=new Array(k-1);P<k;P++)M[P-1]=arguments[P];S[C].fn.apply(S[C].context,M)}}return!0},c.prototype.on=function(f,m,p){return s(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return s(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,b){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!b||w.once)&&(!p||w.context===p)&&l(this,x);else{for(var E=0,S=[],k=w.length;E<k;E++)(w[E].fn!==m||b&&!w[E].once||p&&w[E].context!==p)&&S.push(w[E]);S.length?this._events[x]=S.length===1?S[0]:S:l(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(aw)),aw.exports}var jue=Due();const zue=Za(jue);var xm=new zue,QE="recharts.syncEvent.tooltip",xD="recharts.syncEvent.brush";function Lue(t,e){if(e){var n=Number.parseInt(e,10);if(!Wa(n))return t?.[n]}}var Vue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},t8=Ur({name:"options",initialState:Vue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Bue=t8.reducer,{createEventEmitter:Uue}=t8.actions;function Fue(t){return t.tooltip.syncInteraction}var que={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},n8=Ur({name:"chartData",initialState:que,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:_D,setDataStartEndIndexes:$ue,setComputedData:Pye}=n8.actions,Hue=n8.reducer,Gue=["x","y"];function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Wue(t,"string");return typeof e=="symbol"?e:e+""}function Wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t,e){if(t==null)return{};var n,r,i=Que(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Que(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zue(){var t=$e(yA),e=$e(vA),n=dn(),r=$e(VV),i=$e(no),s=Wm(),l=Kv(),c=$e(d=>d.rootProps.className);A.useEffect(()=>{if(t==null)return Hm;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:w,y:E}=x,S=Xue(x,Gue),{x:k,y:M,width:C,height:j}=m.payload.sourceViewBox,P=$u($u({},S),{},{x:l.x+(C?(w-k)/C:0)*l.width,y:l.y+(j?(E-M)/j:0)*l.height});n($u($u({},m),{},{payload:$u($u({},m.payload),{},{coordinate:P})}))}else n(m);return}if(i!=null){var z;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=r(i,R);z=i[O]}else r==="value"&&(z=i.find(W=>String(W.value)===m.payload.label));var{coordinate:V}=m.payload;if(z==null||m.payload.active===!1||V==null||l==null){n(YE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:L}=V,F=Math.min(q,l.x+l.width),U=Math.min(L,l.y+l.height),_e={x:s==="horizontal"?z.coordinate:F,y:s==="horizontal"?U:z.coordinate},we=YE({active:m.payload.active,coordinate:_e,dataKey:m.payload.dataKey,index:String(z.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(we)}}};return xm.on(QE,d),()=>{xm.off(QE,d)}},[c,n,e,t,r,i,s,l])}function Jue(){var t=$e(yA),e=$e(vA),n=dn();A.useEffect(()=>{if(t==null)return Hm;var r=(i,s,l)=>{e!==l&&t===i&&n($ue(s))};return xm.on(xD,r),()=>{xm.off(xD,r)}},[n,e,t])}function ede(){var t=dn();A.useEffect(()=>{t(Uue())},[t]),Zue(),Jue()}function tde(t,e,n,r,i,s){var l=$e(x=>oue(x,t,e)),c=$e(vA),d=$e(yA),f=$e(VV),m=$e(Fue),p=m?.active,b=Kv();A.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=YE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});xm.emit(QE,d,x,c)}},[p,n,l,i,r,c,d,f,s,b])}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){nde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nde(t,e,n){return(e=rde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rde(t){var e=ide(t,"string");return typeof e=="symbol"?e:e+""}function ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ade(t){return t.dataKey}function sde(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(Fre,e)}var TD=[],ode={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function r8(t){var e,n,r=ji(t,ode),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:b,position:x,reverseDirection:w,useTranslate3d:E,wrapperStyle:S,cursor:k,shared:M,trigger:C,defaultIndex:j,portal:P,axisId:z}=r,R=dn(),O=typeof j=="number"?String(j):j;A.useEffect(()=>{R(rce({shared:M,trigger:C,axisId:z,active:i,defaultIndex:O}))},[R,M,C,z,i,O]);var V=Kv(),q=CL(),L=Qle(M),{activeIndex:F,isActive:U}=(e=$e(Ee=>uue(Ee,L,C,O)))!==null&&e!==void 0?e:{},_e=$e(Ee=>cue(Ee,L,C,O)),we=$e(Ee=>Z9(Ee,L,C,O)),W=$e(Ee=>lue(Ee,L,C,O)),re=_e,$=Mue(),se=(n=i??U)!==null&&n!==void 0?n:!1,[ve,H]=Ete([re,se]),K=L==="axis"?we:void 0;tde(L,C,W,K,F,se);var oe=P??$;if(oe==null||V==null||L==null)return null;var de=re??TD;se||(de=TD),f&&de.length&&(de=Wee(de.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||r.includeHidden)),b,ade));var ge=de.length>0,Ie=A.createElement(Wre,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:se,coordinate:W,hasPayload:ge,offset:p,position:x,reverseDirection:w,useTranslate3d:E,viewBox:V,wrapperStyle:S,lastBoundingBox:ve,innerRef:H,hasPortalFromProps:!!P},sde(d,SD(SD({},r),{},{payload:de,label:K,active:se,activeIndex:F,coordinate:W,accessibilityLayer:q})));return A.createElement(A.Fragment,null,mS.createPortal(Ie,oe),se&&A.createElement(Rue,{cursor:k,tooltipEventType:L,coordinate:W,payload:de,index:F}))}var gb=t=>null;gb.displayName="Cell";function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dde{constructor(e){lde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gde={cacheSize:2e3,enableCache:!0},i8=fde({},gde),ID=new dde(i8.cacheSize),yde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kD="recharts_measurement_span";function vde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var CD=(t,e)=>{try{var n=document.getElementById(kD);n||(n=document.createElement("span"),n.setAttribute("id",kD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,yde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zv.isSsr)return{width:0,height:0};if(!i8.enableCache)return CD(e,n);var r=vde(e,n),i=ID.get(r);if(i)return i;var s=CD(e,n);return ID.set(r,s),s},a8;function bde(t,e,n){return(e=xde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xde(t){var e=_de(t,"string");return typeof e=="symbol"?e:e+""}function _de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ND=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ede=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tde=["cm","mm","pt","pc","in","Q","px"];function Ade(t){return Tde.includes(t)}var Ju="NaN";function Ide(t,e){return t*Sde[e]}class ir{static parse(e){var n,[,r,i]=(n=Ede.exec(e))!==null&&n!==void 0?n:[];return r==null?ir.NaN:new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Wa(e)&&(this.unit=""),n!==""&&!wde.test(n)&&(this.num=NaN,this.unit=""),Ade(n)&&(this.num=Ide(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wa(this.num)}}a8=ir;bde(ir,"NaN",new a8(NaN,""));function s8(t){if(t==null||t.includes(Ju))return Ju;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ND.exec(e))!==null&&n!==void 0?n:[],l=ir.parse(r??""),c=ir.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Ju;e=e.replace(ND,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,b]=(f=OD.exec(e))!==null&&f!==void 0?f:[],x=ir.parse(m??""),w=ir.parse(b??""),E=p==="+"?x.add(w):x.subtract(w);if(E.isNaN())return Ju;e=e.replace(OD,E.toString())}return e}var PD=/\(([^()]*)\)/;function kde(t){for(var e=t,n;(n=PD.exec(e))!=null;){var[,r]=n;e=e.replace(PD,s8(r))}return e}function Cde(t){var e=t.replace(/\s+/g,"");return e=kde(e),e=s8(e),e}function Nde(t){try{return Cde(t)}catch{return Ju}}function sw(t){var e=Nde(t.slice(5,-1));return e===Ju?"":e}var Ode=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Pde=["dx","dy","angle","className","breakAll"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function RD(t,e){if(t==null)return{};var n,r,i=Rde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o8=/[ \f\n\r\t\v\u2028\u2029]+/,l8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(o8));var s=i.map(c=>({word:c,width:Fh(c,r).width})),l=n?0:Fh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Mde(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var c8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),u8=t=>t.reduce((e,n)=>e.width>n.width?e:n),Dde="",MD=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=l8({breakAll:n,style:r,children:d+Dde});if(!f)return[!1,[]];var m=c8(f.wordsWithComputedWidth,s,l,c),p=m.length>i||u8(m).width>Number(s);return[p,m]},jde=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=Ue(s),m=String(l),p=c8(e,r,n,i);if(!f||i)return p;var b=p.length>s||u8(p).width>Number(r);if(!b)return p;for(var x=0,w=m.length-1,E=0,S;x<=w&&E<=m.length-1;){var k=Math.floor((x+w)/2),M=k-1,[C,j]=MD(m,M,d,c,s,r,n,i),[P]=MD(m,k,d,c,s,r,n,i);if(!C&&!P&&(x=k+1),C&&P&&(w=k-1),!C&&P){S=j;break}E++}return S||p},DD=t=>{var e=$n(t)?[]:t.toString().split(o8);return[{words:e,width:void 0}]},zde=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Zv.isSsr){var c,d,f=l8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return DD(r);return jde({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return DD(r)},d8="#808080",Lde={angle:0,breakAll:!1,capHeight:"0.71em",fill:d8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},qA=A.forwardRef((t,e)=>{var n=ji(t,Lde),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=RD(n,Ode),b=A.useMemo(()=>zde({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:x,dy:w,angle:E,className:S,breakAll:k}=p,M=RD(p,Pde);if(!Xa(r)||!Xa(i)||b.length===0)return null;var C=Number(r)+(Ue(x)?x:0),j=Number(i)+(Ue(w)?w:0);if(!Xt(C)||!Xt(j))return null;var P;switch(m){case"start":P=sw("calc(".concat(l,")"));break;case"middle":P=sw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=sw("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var R=b[0].width,{width:O}=p;z.push("scale(".concat(Ue(O)&&Ue(R)?O/R:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(C,", ").concat(j,")")),z.length&&(M.transform=z.join(" ")),A.createElement("text",ZE({},Ri(M),{ref:e,x:C,y:j,className:Te("recharts-text",S),textAnchor:f,fill:c.includes("url")?d8:c}),b.map((V,q)=>{var L=V.words.join(k?"":" ");return A.createElement("tspan",{x:C,dy:q===0?P:s,key:"".concat(L,"-").concat(q)},L)}))});qA.displayName="Text";var Vde=["labelRef"],Bde=["content"];function jD(t,e){if(t==null)return{};var n,r,i=Ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(null,arguments)}var f8=A.createContext(null),Hde=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return A.createElement(f8.Provider,{value:d},c)},h8=()=>{var t=A.useContext(f8),e=Kv();return t||_L(e)},Gde=A.createContext(null),Kde=()=>{var t=A.useContext(Gde),e=$e($V);return t||e},Yde=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},$A=t=>t!=null&&typeof t=="function",Wde=(t,e)=>{var n=ai(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Xde=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:b,clockWise:x}=i,w=(f+m)/2,E=Wde(p,b),S=E>=0?1:-1,k,M;switch(e){case"insideStart":k=p+S*s,M=x;break;case"insideEnd":k=b-S*s,M=!x;break;case"end":k=b+S*s,M=x;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var C=or(c,d,w,k),j=or(c,d,w,k+(M?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(j.x,",").concat(j.y),z=$n(t.id)?om("recharts-radial-line-"):t.id;return A.createElement("text",Es({},r,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:z,d:P})),A.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Qde=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=or(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x,y:w}=or(r,i,b,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},JE=t=>"cx"in t&&Ue(t.cx),Zde=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!JE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,b=l+(d-f)/2,x=(p+b)/2,w=(d+f)/2,E=p+d/2,S=m>=0?1:-1,k=S*r,M=S>0?"end":"start",C=S>0?"start":"end",j=d>=0?1:-1,P=j*r,z=j>0?"end":"start",R=j>0?"start":"end";if(i==="top"){var O={x:p+d/2,y:c-k,textAnchor:"middle",verticalAnchor:M};return on(on({},O),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var V={x:b+f/2,y:c+m+k,textAnchor:"middle",verticalAnchor:C};return on(on({},V),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(i==="left"){var q={x:x-P,y:c+m/2,textAnchor:z,verticalAnchor:"middle"};return on(on({},q),s?{width:Math.max(q.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:x+w+P,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return on(on({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var F=s?{width:w,height:m}:{};return i==="insideLeft"?on({x:x+P,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},F):i==="insideRight"?on({x:x+w-P,y:c+m/2,textAnchor:z,verticalAnchor:"middle"},F):i==="insideTop"?on({x:p+d/2,y:c+k,textAnchor:"middle",verticalAnchor:C},F):i==="insideBottom"?on({x:b+f/2,y:c+m-k,textAnchor:"middle",verticalAnchor:M},F):i==="insideTopLeft"?on({x:p+P,y:c+k,textAnchor:R,verticalAnchor:C},F):i==="insideTopRight"?on({x:p+d-P,y:c+k,textAnchor:z,verticalAnchor:C},F):i==="insideBottomLeft"?on({x:b+P,y:c+m-k,textAnchor:R,verticalAnchor:M},F):i==="insideBottomRight"?on({x:b+f-P,y:c+m-k,textAnchor:z,verticalAnchor:M},F):i&&typeof i=="object"&&(Ue(i.x)||Bs(i.x))&&(Ue(i.y)||Bs(i.y))?on({x:l+oa(i.x,w),y:c+oa(i.y,m),textAnchor:"end",verticalAnchor:"end"},F):on({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Jde={angle:0,offset:5,zIndex:Br.label,position:"middle",textBreakAll:!1};function Fo(t){var e=ji(t,Jde),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=Kde(),p=h8(),b=r==="center"?p:m??p,x,w,E;if(n==null?x=b:JE(n)?x=n:x=_L(n),!x||$n(i)&&$n(s)&&!A.isValidElement(l)&&typeof l!="function")return null;var S=on(on({},e),{},{viewBox:x});if(A.isValidElement(l)){var{labelRef:k}=S,M=jD(S,Vde);return A.cloneElement(l,M)}if(typeof l=="function"){var{content:C}=S,j=jD(S,Bde);if(w=A.createElement(l,j),A.isValidElement(w))return w}else w=Yde(e);var P=Ri(e);if(JE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Xde(e,r,w,P,x);E=Qde(x,e.offset,e.position)}else E=Zde(e,x);return A.createElement(xl,{zIndex:e.zIndex},A.createElement(qA,Es({ref:f,className:Te("recharts-label",c)},P,E,{textAnchor:Mde(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:d}),w))}Fo.displayName="Label";var efe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Fo,Es({key:"label-implicit"},r)):Xa(t)?A.createElement(Fo,Es({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Fo?A.cloneElement(t,on({key:"label-implicit"},r)):A.createElement(Fo,Es({key:"label-implicit",content:t},r)):$A(t)?A.createElement(Fo,Es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Fo,Es({},t,{key:"label-implicit"},r)):null};function tfe(t){var{label:e,labelRef:n}=t,r=h8();return efe(e,r,n)||null}var ow={},lw={},LD;function nfe(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(lw)),lw}var cw={},VD;function rfe(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(cw)),cw}var BD;function ife(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nfe(),n=rfe(),r=OT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(ow)),ow}var uw,UD;function afe(){return UD||(UD=1,uw=ife().last),uw}var sfe=afe();const ofe=Za(sfe);var lfe=["valueAccessor"],cfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function FD(t,e){if(t==null)return{};var n,r,i=ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dfe=t=>Array.isArray(t.value)?ofe(t.value):t.value,m8=A.createContext(void 0),ffe=m8.Provider,p8=A.createContext(void 0);p8.Provider;function hfe(){return A.useContext(m8)}function mfe(){return A.useContext(p8)}function C0(t){var{valueAccessor:e=dfe}=t,n=FD(t,lfe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=FD(n,cfe),f=hfe(),m=mfe(),p=f||m;return!p||!p.length?null:A.createElement(xl,{zIndex:c??Br.label},A.createElement(Vs,{className:"recharts-label-list"},p.map((b,x)=>{var w,E=$n(r)?e(b,x):lr(b&&b.payload,r),S=$n(s)?{}:{id:"".concat(s,"-").concat(x)};return A.createElement(Fo,qy({key:"label-".concat(x)},Ri(b),d,S,{fill:(w=n.fill)!==null&&w!==void 0?w:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}C0.displayName="LabelList";function pfe(t){var{label:e}=t;return e?e===!0?A.createElement(C0,{key:"labelList-implicit"}):A.isValidElement(e)||$A(e)?A.createElement(C0,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(C0,qy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var gfe={radiusAxis:{},angleAxis:{}},g8=Ur({name:"polarAxis",initialState:gfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Rye,removeRadiusAxis:Mye,addAngleAxis:Dye,removeAngleAxis:jye}=g8.actions,yfe=g8.reducer,dw={exports:{}},Ct={};var qD;function vfe(){if(qD)return Ct;qD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return S}}case e:return S}}}return Ct.ContextConsumer=s,Ct.ContextProvider=l,Ct.Element=t,Ct.ForwardRef=c,Ct.Fragment=n,Ct.Lazy=p,Ct.Memo=m,Ct.Portal=e,Ct.Profiler=i,Ct.StrictMode=r,Ct.Suspense=d,Ct.SuspenseList=f,Ct.isContextConsumer=function(E){return w(E)===s},Ct.isContextProvider=function(E){return w(E)===l},Ct.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ct.isForwardRef=function(E){return w(E)===c},Ct.isFragment=function(E){return w(E)===n},Ct.isLazy=function(E){return w(E)===p},Ct.isMemo=function(E){return w(E)===m},Ct.isPortal=function(E){return w(E)===e},Ct.isProfiler=function(E){return w(E)===i},Ct.isStrictMode=function(E){return w(E)===r},Ct.isSuspense=function(E){return w(E)===d},Ct.isSuspenseList=function(E){return w(E)===f},Ct.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},Ct.typeOf=w,Ct}var $D;function bfe(){return $D||($D=1,dw.exports=vfe()),dw.exports}var xfe=bfe(),HD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",GD=null,fw=null,y8=t=>{if(t===GD&&Array.isArray(fw))return fw;var e=[];return A.Children.forEach(t,n=>{$n(n)||(xfe.isFragment(n)?e=e.concat(y8(n.props.children)):e.push(n))}),fw=e,GD=t,e};function _fe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>HD(i)):r=[HD(e)],y8(t).forEach(i=>{var s=Nd(i,"type.displayName")||Nd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var hw={},KD;function wfe(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(hw)),hw}var mw,YD;function Efe(){return YD||(YD=1,mw=wfe().isPlainObject),mw}var Sfe=Efe();const Tfe=Za(Sfe);var WD,XD,QD,ZD,JD;function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=kfe(t,"string");return typeof e=="symbol"?e:e+""}function kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function Eh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var nj=(t,e,n,r,i)=>{var s=n-r,l;return l=Jt(WD||(WD=Eh(["M ",",",""])),t,e),l+=Jt(XD||(XD=Eh(["L ",",",""])),t+n,e),l+=Jt(QD||(QD=Eh(["L ",",",""])),t+n-s/2,e+i),l+=Jt(ZD||(ZD=Eh(["L ",",",""])),t+n-s/2-r,e+i),l+=Jt(JD||(JD=Eh(["L ",","," Z"])),t,e),l},Cfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nfe=t=>{var e=ji(t,Cfe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,b=A.useRef(null),[x,w]=A.useState(-1),E=A.useRef(i),S=A.useRef(s),k=A.useRef(l),M=A.useRef(n),C=A.useRef(r),j=$T(t,"trapezoid-");if(A.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var _e=b.current.getTotalLength();_e&&w(_e)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var P=Te("recharts-trapezoid",c);if(!p)return A.createElement("g",null,A.createElement("path",$y({},Ri(e),{className:P,d:nj(n,r,i,s,l)})));var z=E.current,R=S.current,O=k.current,V=M.current,q=C.current,L="0px ".concat(x===-1?1:x,"px"),F="".concat(x,"px 0px"),U=OL(["strokeDasharray"],f,d);return A.createElement(qT,{animationId:j,key:j,canBegin:x>0,duration:f,easing:d,isActive:p,begin:m},_e=>{var we=sr(z,i,_e),W=sr(R,s,_e),re=sr(O,l,_e),$=sr(V,n,_e),se=sr(q,r,_e);b.current&&(E.current=we,S.current=W,k.current=re,M.current=$,C.current=se);var ve=_e>0?{transition:U,strokeDasharray:F}:{strokeDasharray:L};return A.createElement("path",$y({},Ri(e),{className:P,d:nj($,se,we,W,re),ref:b,style:tj(tj({},ve),e.style)}))})},Ofe=["option","shapeType","activeClassName"];function Pfe(t,e){if(t==null)return{};var n,r,i=Rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(n),!0).forEach(function(r){Mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mfe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=jfe(t,"string");return typeof e=="symbol"?e:e+""}function jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){return Hy(Hy({},e),t)}function Lfe(t,e){return t==="symbols"}function ij(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(DL,n);case"trapezoid":return A.createElement(Nfe,n);case"sector":return A.createElement(LL,n);case"symbols":if(Lfe(e))return A.createElement(S6,n);break;case"curve":return A.createElement(NL,n);default:return null}}function Vfe(t){return A.isValidElement(t)?t.props:t}function Bfe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Pfe(t,Ofe),s;if(A.isValidElement(e))s=A.cloneElement(e,Hy(Hy({},i),Vfe(e)));else if(typeof e=="function")s=e(i,i.index);else if(Tfe(e)&&typeof e!="boolean"){var l=zfe(e,i);s=A.createElement(ij,{shapeType:n,elementProps:l})}else{var c=i;s=A.createElement(ij,{shapeType:n,elementProps:c})}return i.isActive?A.createElement(Vs,{className:r},s):s}var v8=(t,e,n)=>{var r=dn();return(i,s)=>l=>{t?.(i,s,l),r(R9({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},b8=t=>{var e=dn();return(n,r)=>i=>{t?.(n,r,i),e(ice())}},x8=(t,e,n)=>{var r=dn();return(i,s)=>l=>{t?.(i,s,l),r(ace({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Ufe(t){var{tooltipEntrySettings:e}=t,n=dn(),r=hi(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(ece(e)):i.current!==e&&n(tce({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(nce(i.current)),i.current=null)},[n]),null}function Ffe(t){var{legendPayload:e}=t,n=dn(),r=hi(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Mre(e)):i.current!==e&&n(Dre({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(jre(i.current)),i.current=null)},[n]),null}var pw,qfe=()=>{var[t]=A.useState(()=>om("uid-"));return t},$fe=(pw=RU.useId)!==null&&pw!==void 0?pw:qfe;function Hfe(t,e){var n=$fe();return e||(t?"".concat(t,"-").concat(n):n)}var Gfe=A.createContext(void 0),Kfe=t=>{var{id:e,type:n,children:r}=t,i=Hfe("recharts-".concat(n),e);return A.createElement(Gfe.Provider,{value:i},r(i))},Yfe={cartesianItems:[],polarItems:[]},_8=Ur({name:"graphicalItems",initialState:Yfe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=sa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=sa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:qt()},removePolarGraphicalItem:{reducer(t,e){var n=sa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:qt()}}}),{addCartesianGraphicalItem:Wfe,replaceCartesianGraphicalItem:Xfe,removeCartesianGraphicalItem:Qfe,addPolarGraphicalItem:zye,removePolarGraphicalItem:Lye}=_8.actions,Zfe=_8.reducer,Jfe=t=>{var e=dn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Wfe(t)):n.current!==t&&e(Xfe({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(Qfe(n.current)),n.current=null)},[e]),null},ehe=A.memo(Jfe);function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){the(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e,n){return(e=nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return typeof e=="symbol"?e:e+""}function rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w8=0,ihe={xAxis:{},yAxis:{},zAxis:{}},E8=Ur({name:"cartesianAxis",initialState:ihe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=sj(sj({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:ahe,replaceXAxis:she,removeXAxis:ohe,addYAxis:lhe,replaceYAxis:che,removeYAxis:uhe,addZAxis:Vye,replaceZAxis:Bye,removeZAxis:Uye,updateYAxisWidth:dhe}=E8.actions,fhe=E8.reducer,hhe=le([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),mhe=le([hhe,Xs,Qs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),S8=()=>$e(mhe),oj=(t,e,n)=>{var r=n??t;if(!$n(r))return oa(r,e,0)},phe=(t,e,n)=>{var r={},i=t.filter(cb),s=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(l).map(f=>{var[m,p]=f,b=p.map(w=>w.dataKey),x=oj(e,n,p[0].barSize);return{stackId:m,dataKeys:b,barSize:x}}),d=s.map(f=>{var m=[f.dataKey].filter(b=>b!=null),p=oj(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bhe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=oa(t,n,0,!0),c,d=[];if(Xt(r[0].barSize)){var f=!1,m=n/s,p=r.reduce((k,M)=>k+(M.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(f=!0,m*=.9,p=s*m);var b=(n-p)/2>>0,x={offset:b-l,size:0};c=r.reduce((k,M)=>{var C,j={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:x.offset+x.size+l,size:f?m:(C=M.barSize)!==null&&C!==void 0?C:0}},P=[...k,j];return x=P[P.length-1].position,P},d)}else{var w=oa(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var E=(n-2*w-(s-1)*l)/s;E>1&&(E>>=0);var S=Xt(i)?Math.min(E,i):E;c=r.reduce((k,M,C)=>[...k,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(E+l)*C+(E-S)/2,size:S}}],d)}return c}}var xhe=(t,e,n,r,i,s,l)=>{var c=$n(l)?e:l,d=bhe(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>a0(a0({},f),{},{position:a0(a0({},f.position),{},{offset:f.position.offset-i/2})}))),d},_he=(t,e)=>{var n=wA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function whe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Xt(t.zIndex)?t.zIndex:e}var Ehe=t=>{var{chartData:e}=t,n=dn(),r=hi();return A.useEffect(()=>r?()=>{}:(n(_D(e)),()=>{n(_D(void 0))}),[e,n,r]),null},cj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},T8=Ur({name:"brush",initialState:cj,reducers:{setBrushSettings(t,e){return e.payload==null?cj:e.payload}}}),{setBrushSettings:Fye}=T8.actions,She=T8.reducer;function The(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HA{static create(e){return new HA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}The(HA,"EPS",1e-4);function khe(t){return(t%180+180)%180}var Che=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=khe(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Nhe={dots:[],areas:[],lines:[]},A8=Ur({name:"referenceElements",initialState:Nhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=sa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=sa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=sa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:qye,removeDot:$ye,addArea:Hye,removeArea:Gye,addLine:Kye,removeLine:Yye}=A8.actions,Ohe=A8.reducer,Phe=A.createContext(void 0),Rhe=t=>{var{children:e}=t,[n]=A.useState("".concat(om("recharts"),"-clip")),r=S8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return A.createElement(Phe.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function I8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Mhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Che(r,n)}function Dhe(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function _m(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function jhe(t,e){return I8(t,e+1)}function zhe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var w=r?.[d];if(w===void 0)return{v:I8(r,f)};var E=d,S,k=()=>(S===void 0&&(S=n(w,E)),S),M=w.coordinate,C=d===0||_m(t,M,k,m,c);C||(d=0,m=l,f+=1),C&&(m=M+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=p(),b)return b.v;return[]}function Lhe(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var m=(l-1)%f,p=c,b=!0,x=function(){var M=r[w],C=w,j,P=()=>(j===void 0&&(j=n(M,C)),j),z=M.coordinate,R=w===m||_m(t,z,P,p,d);if(!R)return b=!1,1;R&&(p=z+t*(P()/2+i))},w=m;w<l&&!x();w+=f);if(b){for(var E=[],S=m;S<l;S+=f)E.push(r[S]);return E}}return[]}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return(e=Bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bhe(t){var e=Uhe(t,"string");return typeof e=="symbol"?e:e+""}function Uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fhe(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var x=s[b],w,E=()=>(w===void 0&&(w=n(x,b)),w);if(b===l-1){var S=t*(x.coordinate+t*E()/2-d);s[b]=x=fr(fr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else s[b]=x=fr(fr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=_m(t,x.tickCoord,E,c,d);k&&(d=x.tickCoord-t*(E()/2+i),s[b]=fr(fr({},x),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function qhe(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var m=r[c-1],p=n(m,c-1),b=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=fr(fr({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var x=_m(t,m.tickCoord,()=>p,d,f);x&&(f=m.tickCoord-t*(p/2+i),l[c-1]=fr(fr({},m),{},{isShow:!0}))}}for(var w=s?c-1:c,E=function(M){var C=l[M],j,P=()=>(j===void 0&&(j=n(C,M)),j);if(M===0){var z=t*(C.coordinate-t*P()/2-d);l[M]=C=fr(fr({},C),{},{tickCoord:z<0?C.coordinate-z*t:C.coordinate})}else l[M]=C=fr(fr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var R=_m(t,C.tickCoord,P,d,f);R&&(d=C.tickCoord+t*(P()/2+i),l[M]=fr(fr({},C),{},{isShow:!0}))}},S=0;S<w;S++)E(S);return l}function $he(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Ue(d)||Zv.isSsr){var b;return(b=jhe(i,Ue(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",E=m&&w==="width"?Fh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(C,j)=>{var P=typeof f=="function"?f(C.value,j):C.value;return w==="width"?Mhe(Fh(P,{fontSize:e,letterSpacing:n}),E,p):Fh(P,{fontSize:e,letterSpacing:n})[w]},k=i.length>=2?ai(i[1].coordinate-i[0].coordinate):1,M=Dhe(s,k,w);return d==="equidistantPreserveStart"?zhe(k,M,S,i,l):d==="equidistantPreserveEnd"?Lhe(k,M,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=qhe(k,M,S,i,l,d==="preserveStartEnd"):x=Fhe(k,M,S,i,l),x.filter(C=>C.isShow))}var Hhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},Ghe=["axisLine","width","height","className","hide","ticks","axisType"];function Khe(t,e){if(t==null)return{};var n,r,i=Yhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(null,arguments)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Br.axis};function Zhe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=_n(_n(_n({},d),ll(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=_n(_n({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=_n(_n({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",Vc({},f,{className:Te("recharts-cartesian-axis-line",Nd(c,"className"))}))}function Jhe(t,e,n,r,i,s,l,c,d){var f,m,p,b,x,w,E=c?-1:1,S=t.tickSize||l,k=Ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,b=n+ +!c*i,p=b-E*S,w=p-E*d,x=k;break;case"left":p=b=t.coordinate,m=e+ +!c*r,f=m-E*S,x=f-E*d,w=k;break;case"right":p=b=t.coordinate,m=e+ +c*r,f=m+E*S,x=f+E*d,w=k;break;default:f=m=t.coordinate,b=n+ +c*i,p=b+E*S,w=p+E*d,x=k;break}return{line:{x1:f,y1:p,x2:m,y2:b},tick:{x,y:w}}}function eme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function tme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function nme(t){var{option:e,tickProps:n,value:r}=t,i,s=Te(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,_n(_n({},n),{},{className:s}));else if(typeof e=="function")i=e(_n(_n({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Te(l,e?.className)),i=A.createElement(qA,Vc({},n,{className:l}),r)}return i}var rme=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:b,y:x,width:w,height:E,tickSize:S,tickMargin:k,fontSize:M,letterSpacing:C,getTicksConfig:j,events:P,axisType:z}=t,R=$he(_n(_n({},j),{},{ticks:n}),M,C),O=eme(m,p),V=tme(m,p),q=ll(j),L=ET(r),F={};typeof i=="object"&&(F=i);var U=_n(_n({},q),{},{fill:"none"},F),_e=R.map(re=>_n({entry:re},Jhe(re,b,x,w,E,m,S,p,k))),we=_e.map(re=>{var{entry:$,line:se}=re;return A.createElement(Vs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&A.createElement("line",Vc({},U,se,{className:Te("recharts-cartesian-axis-tick-line",Nd(i,"className"))})))}),W=_e.map((re,$)=>{var{entry:se,tick:ve}=re,H=_n(_n(_n(_n({textAnchor:O,verticalAnchor:V},q),{},{stroke:"none",fill:s},L),ve),{},{index:$,payload:se,visibleTicksCount:R.length,tickFormatter:l,padding:d},f);return A.createElement(Vs,Vc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},NT(P,se,$)),r&&A.createElement(nme,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(se.value,$):se.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&A.createElement(xl,{zIndex:Br.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),we.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},we))}),ime=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=Khe(t,Ghe),[m,p]=A.useState(""),[b,x]=A.useState(""),w=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Hhe({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=A.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var M=k[0];if(M){var C=window.getComputedStyle(M),j=C.fontSize,P=C.letterSpacing;(j!==m||P!==b)&&(p(j),x(P))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(xl,{zIndex:t.zIndex},A.createElement(Vs,{className:Te("recharts-cartesian-axis",s)},A.createElement(Zhe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ll(t)}),A.createElement(rme,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(Hde,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(tfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),GA=A.forwardRef((t,e)=>{var n=ji(t,wc);return A.createElement(ime,Vc({},n,{ref:e}))});GA.displayName="CartesianAxis";var ame={},k8=Ur({name:"errorBars",initialState:ame,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Wye,replaceErrorBar:Xye,removeErrorBar:Qye}=k8.actions,sme=k8.reducer,ome=["children"];function lme(t,e){if(t==null)return{};var n,r,i=cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ume={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dme=A.createContext(ume);function fme(t){var{children:e}=t,n=lme(t,ome);return A.createElement(dme.Provider,{value:n},e)}function C8(t,e){var n,r,i=$e(f=>eo(f,t)),s=$e(f=>to(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Bn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function hme(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=S8(),{needClipX:s,needClipY:l,needClip:c}=C8(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?d:d-m/2,y:l?f:f-p/2,width:s?m:m*2,height:l?p:p*2}))}var gw={exports:{}},yw={};var fj;function mme(){if(fj)return yw;fj=1;var t=Vd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return yw.useSyncExternalStoreWithSelector=function(d,f,m,p,b){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function S(P){if(!k){if(k=!0,M=P,P=p(P),b!==void 0&&w.hasValue){var z=w.value;if(b(z,P))return C=z}return C=P}if(z=C,n(M,P))return z;var R=p(P);return b!==void 0&&b(z,R)?(M=P,z):(M=P,C=R)}var k=!1,M,C,j=m===void 0?null:m;return[function(){return S(f())},j===null?void 0:function(){return S(j())}]},[f,m,p,b]);var E=r(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},yw}var hj;function pme(){return hj||(hj=1,gw.exports=mme()),gw.exports}pme();function gme(t){t()}function yme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){gme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var mj={notify(){},get:()=>[]};function vme(t,e){let n,r=mj,i=0,s=!1;function l(E){m();const S=r.subscribe(E);let k=!1;return()=>{k||(k=!0,S(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return s}function m(){i++,n||(n=t.subscribe(d),r=yme())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mj)}function b(){s||(s=!0,m())}function x(){s&&(s=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return w}var bme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xme=bme(),_me=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wme=_me(),Eme=()=>xme||wme?A.useLayoutEffect:A.useEffect,Sme=Eme();function pj(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Tme(t,e){if(pj(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!pj(t[n[i]],e[n[i]]))return!1;return!0}var Ame=Symbol.for("react-redux-context"),Ime=typeof globalThis<"u"?globalThis:{};function kme(){if(!A.createContext)return{};const t=Ime[Ame]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Cme=kme();function Nme(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const d=vme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);Sme(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Cme;return A.createElement(c.Provider,{value:s},e)}var Ome=Nme,Pme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Rme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function KA(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Pme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Tme(t[r],e[r]))return!1}else if(!Rme(t[r],e[r]))return!1;return!0}function Gc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:w8}function Kc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:w8}var Mme="Invariant failed";function Dme(t,e){throw new Error(Mme)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function Gy(t){return A.createElement(Bfe,eS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var jme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ue(e))return e;var s=Ue(r)||$n(r);return s?e(r,i):(s||Dme(),n)}},zme=(t,e,n)=>n,Lme=(t,e)=>e,cp=le([SA,Lme],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Vme=le([cp],t=>t?.maxBarSize),Bme=(t,e,n,r)=>r,Ume=le([St,SA,Gc,Kc,zme],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Fme=(t,e,n)=>{var r=St(t),i=Gc(t,e),s=Kc(t,e);if(!(i==null||s==null))return r==="horizontal"?KE(t,"yAxis",s,n):KE(t,"xAxis",i,n)},qme=(t,e)=>{var n=St(t),r=Gc(t,e),i=Kc(t,e);if(!(r==null||i==null))return n==="horizontal"?cD(t,"xAxis",r):cD(t,"yAxis",i)},$me=le([Ume,Koe,qme],phe),Hme=(t,e,n)=>{var r,i,s=cp(t,e);if(s!=null){var l=Gc(t,e),c=Kc(t,e);if(!(l==null||c==null)){var d=St(t),f=jV(t),{maxBarSize:m}=s,p=$n(m)?f:m,b,x;return d==="horizontal"?(b=zd(t,"xAxis",l,n),x=jd(t,"xAxis",l,n)):(b=zd(t,"yAxis",c,n),x=jd(t,"yAxis",c,n)),(r=(i=_y(b,x,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},N8=(t,e,n)=>{var r=St(t),i=Gc(t,e),s=Kc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=zd(t,"xAxis",i,n),c=jd(t,"xAxis",i,n)):(l=zd(t,"yAxis",s,n),c=jd(t,"yAxis",s,n)),_y(l,c)}},Gme=le([$me,jV,Goe,zV,Hme,N8,Vme],xhe),Kme=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return zd(t,"xAxis",r,n)},Yme=(t,e,n)=>{var r=Kc(t,e);if(r!=null)return zd(t,"yAxis",r,n)},Wme=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return jd(t,"xAxis",r,n)},Xme=(t,e,n)=>{var r=Kc(t,e);if(r!=null)return jd(t,"yAxis",r,n)},Qme=le([Gme,cp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Zme=le([Fme,cp],_he),Jme=le([Hn,VT,Kme,Yme,Wme,Xme,Qme,St,Moe,N8,Zme,cp,Bme],(t,e,n,r,i,s,l,c,d,f,m,p,b)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:E}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:S}=p,k;if(S!=null&&S.length>0?k=S:k=x?.slice(w,E+1),k!=null)return kpe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:k,offset:t,cells:b,dataStartIndex:w})}}),epe=["index"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function tpe(t,e){if(t==null)return{};var n,r,i=npe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function npe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O8=A.createContext(void 0),rpe=t=>{var e=A.useContext(O8);if(e!=null)return e.stackId;if(t!=null)return Mne(t)},ipe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ape=t=>{var e=A.useContext(O8);if(e!=null){var{stackId:n}=e;return"url(#".concat(ipe(n,t),")")}},spe=t=>{var{index:e}=t,n=tpe(t,epe),r=ape(e);return A.createElement(Vs,tS({className:"recharts-bar-stack-layer",clipPath:r},n))},ope=["onMouseEnter","onMouseLeave","onClick"],lpe=["value","background","tooltipPosition"],cpe=["id"],upe=["onMouseEnter","onClick","onMouseLeave"];function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(null,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=hpe(t,"string");return typeof e=="symbol"?e:e+""}function hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ky(t,e){if(t==null)return{};var n,r,i=mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ppe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:pL(n,e),payload:t}]},gpe=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:pL(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return A.createElement(Ufe,{tooltipEntrySettings:m})});function ype(t){var e=$e(Ld),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Ky(s,ope),m=v8(l,r,s.id),p=b8(c),b=x8(d,r,s.id);if(!i||n==null)return null;var x=ET(i);return A.createElement(xl,{zIndex:whe(i,Br.barBackground)},n.map((w,E)=>{var{value:S,background:k,tooltipPosition:M}=w,C=Ky(w,lpe);if(!k)return null;var j=m(w,E),P=p(w,E),z=b(w,E),R=Er(Er(Er(Er(Er({option:i,isActive:String(E)===e},C),{},{fill:"#eee"},k),x),NT(f,w,E)),{},{onMouseEnter:j,onMouseLeave:P,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(Gy,Gs({key:"background-bar-".concat(E)},R))}))}function vpe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Er(Er({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return A.createElement(ffe,{value:e?i:void 0},n)}function bpe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=$e(Ld),d=$e(K9),f=n&&String(s)===c&&(d==null||l===d),m=f?n:e;return f?A.createElement(xl,{zIndex:Br.activeBar},A.createElement(Gy,Gs({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))):A.createElement(Gy,Gs({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))}function xpe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return A.createElement(Gy,Gs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function _pe(t){var e,{data:n,props:r}=t,i=(e=ll(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Ky(i,cpe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:b}=r,x=Ky(r,upe),w=v8(m,d,s),E=b8(b),S=x8(p,d,s);return n?A.createElement(A.Fragment,null,n.map((k,M)=>A.createElement(spe,Gs({index:M,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(M),className:"recharts-bar-rectangle"},NT(x,k,M),{onMouseEnter:w(k,M),onMouseLeave:E(k,M),onClick:S(k,M)}),f?A.createElement(bpe,{shape:c,activeBar:f,baseProps:l,entry:k,index:M,dataKey:d}):A.createElement(xpe,{shape:c,baseProps:l,entry:k,index:M,dataKey:d})))):null}function wpe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,b=$T(e,"recharts-bar-"),[x,w]=A.useState(!1),E=!x,S=A.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),k=A.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return A.createElement(vpe,{showLabels:E,rects:r},A.createElement(qT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:k,key:b},M=>{var C=M===1?r:r?.map((j,P)=>{var z=p&&p[P];if(z)return Er(Er({},j),{},{x:sr(z.x,j.x,M),y:sr(z.y,j.y,M),width:sr(z.width,j.width,M),height:sr(z.height,j.height,M)});if(i==="horizontal"){var R=sr(0,j.height,M),O=sr(j.stackedBarStart,j.y,M);return Er(Er({},j),{},{y:O,height:R})}var V=sr(0,j.width,M),q=sr(j.stackedBarStart,j.x,M);return Er(Er({},j),{},{width:V,x:q})});return M>0&&(n.current=C??null),C==null?null:A.createElement(Vs,null,A.createElement(_pe,{props:e,data:C}))}),A.createElement(pfe,{label:e.label}),e.children)}function Epe(t){var e=A.useRef(null);return A.createElement(wpe,{previousRectanglesRef:e,props:t})}var P8=0,Spe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:lr(t,e)}};class Tpe extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Te("recharts-bar",i),p=f;return A.createElement(Vs,{className:m,id:f},c&&A.createElement("defs",null,A.createElement(hme,{clipPathId:p,xAxisId:s,yAxisId:l})),A.createElement(Vs,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},A.createElement(ype,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),A.createElement(Epe,this.props)))}}var Ape={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:P8,xAxisId:0,yAxisId:0,zIndex:Br.bar};function Ipe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=C8(e,n),b=Wm(),x=hi(),w=_fe(t.children,gb),E=$e(M=>Jme(M,t.id,x,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=E?.[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,A.createElement(fme,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Spe,errorBarOffset:S},A.createElement(Tpe,Gs({},t,{layout:b,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function kpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:b,cells:x,parentViewBox:w,dataStartIndex:E}=t,S=e==="horizontal"?c:l,k=m?S.scale.domain():null,M=Dne({numericAxis:S}),C=S.scale(M);return p.map((j,P)=>{var z,R,O,V,q,L;if(m){var F=m[P+E];if(F==null)return null;z=Cne(F,k)}else z=lr(j,n),Array.isArray(z)||(z=[M,z]);var U=jme(r,P8)(z[1],P);if(e==="horizontal"){var _e,[we,W]=[c.scale(z[0]),c.scale(z[1])];R=mR({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:j,index:P}),O=(_e=W??we)!==null&&_e!==void 0?_e:void 0,V=i.size;var re=we-W;if(q=Wa(re)?0:re,L={x:R,y:b.top,width:V,height:b.height},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var $=ai(q||U)*(Math.abs(U)-Math.abs(q));O-=$,q+=$}}else{var[se,ve]=[l.scale(z[0]),l.scale(z[1])];if(R=se,O=mR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:j,index:P}),V=ve-se,q=i.size,L={x:b.left,y:O,width:b.width,height:q},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var H=ai(V||U)*(Math.abs(U)-Math.abs(V));V+=H}}if(R==null||O==null||V==null||q==null)return null;var K=Er(Er({},j),{},{stackedBarStart:C,x:R,y:O,width:V,height:q,value:m?z:z[1],payload:j,background:L,tooltipPosition:{x:R+V/2,y:O+q/2},parentViewBox:w},x&&x[P]&&x[P].props);return K}).filter(Boolean)}function Cpe(t){var e=ji(t,Ape),n=rpe(e.stackId),r=hi();return A.createElement(Kfe,{id:e.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Ffe,{legendPayload:ppe(e)}),A.createElement(gpe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),A.createElement(ehe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),A.createElement(xl,{zIndex:e.zIndex},A.createElement(Ipe,Gs({},e,{id:i})))))}var YA=A.memo(Cpe,KA);YA.displayName="Bar";var Npe=["domain","range"],Ope=["domain","range"];function yj(t,e){if(t==null)return{};var n,r,i=Ppe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ppe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vj(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function R8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=yj(t,Npe),{domain:s,range:l}=e,c=yj(e,Ope);return!vj(n,s)||!vj(r,l)?!1:KA(i,c)}var Rpe=["dangerouslySetInnerHTML","ticks","scale"],Mpe=["id","scale"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function bj(t,e){if(t==null)return{};var n,r,i=Dpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jpe(t){var e=dn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(ahe(t)):n.current!==t&&e(she({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(ohe(n.current)),n.current=null)},[e]),null}var zpe=t=>{var{xAxisId:e,className:n}=t,r=$e(VT),i=hi(),s="xAxis",l=$e(k=>I9(k,s,e,i)),c=$e(k=>E9(k,e)),d=$e(k=>$le(k,e)),f=$e(k=>GV(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:b}=t,x=bj(t,Rpe),{id:w,scale:E}=f,S=bj(f,Mpe);return A.createElement(GA,nS({},x,S,{x:d.x,y:d.y,width:c.width,height:c.height,className:Te("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Lpe={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:Bn.allowDecimals,allowDuplicatedCategory:Bn.allowDuplicatedCategory,angle:Bn.angle,axisLine:wc.axisLine,height:Bn.height,hide:!1,includeHidden:Bn.includeHidden,interval:Bn.interval,minTickGap:Bn.minTickGap,mirror:Bn.mirror,orientation:Bn.orientation,padding:Bn.padding,reversed:Bn.reversed,scale:Bn.scale,tick:Bn.tick,tickCount:Bn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Bn.type,xAxisId:0},Vpe=t=>{var e=ji(t,Lpe);return A.createElement(A.Fragment,null,A.createElement(jpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(zpe,e))},WA=A.memo(Vpe,R8);WA.displayName="XAxis";var Bpe=["dangerouslySetInnerHTML","ticks","scale"],Upe=["id","scale"];function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(null,arguments)}function xj(t,e){if(t==null)return{};var n,r,i=Fpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qpe(t){var e=dn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(lhe(t)):n.current!==t&&e(che({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(uhe(n.current)),n.current=null)},[e]),null}var $pe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=A.useRef(null),l=A.useRef(null),c=$e(VT),d=hi(),f=dn(),m="yAxis",p=$e(z=>S9(z,e)),b=$e(z=>Gle(z,e)),x=$e(z=>I9(z,m,e,d)),w=$e(z=>KV(z,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!p||$A(i)||A.isValidElement(i)||w==null)){var z=s.current;if(z){var R=z.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&f(dhe({id:e,width:R}))}}},[x,p,f,i,e,r,w]),p==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:k}=t,M=xj(t,Bpe),{id:C,scale:j}=w,P=xj(w,Upe);return A.createElement(GA,rS({},M,P,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Te("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x,axisType:m}))},Hpe={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:wc.axisLine,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Un.type,width:Un.width,yAxisId:0},Gpe=t=>{var e=ji(t,Hpe);return A.createElement(A.Fragment,null,A.createElement(qpe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement($pe,e))},M8=A.memo(Gpe,R8);M8.displayName="YAxis";var Kpe=(t,e)=>e,XA=le([Kpe,St,$V,Mn,q9,no,sue,Hn],hue),QA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},D8=Mi("mouseClick"),j8=Km();j8.startListening({actionCreator:D8,effect:(t,e)=>{var n=t.payload,r=XA(e.getState(),QA(n));r?.activeIndex!=null&&e.dispatch(sce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var iS=Mi("mouseMove"),z8=Km(),s0=null;z8.startListening({actionCreator:iS,effect:(t,e)=>{var n=t.payload;s0!==null&&cancelAnimationFrame(s0);var r=QA(n);s0=requestAnimationFrame(()=>{var i=e.getState(),s=RA(i,i.tooltip.settings.shared);if(s==="axis"){var l=XA(i,r);l?.activeIndex!=null?e.dispatch(D9({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(M9())}s0=null})}});function Ype(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var _j={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},L8=Ur({name:"rootProps",initialState:_j,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:_j.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Wpe=L8.reducer,{updateOptions:Xpe}=L8.actions,V8=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Zye}=V8.actions,Qpe=V8.reducer,B8=Mi("keyDown"),U8=Mi("focus"),ZA=Km();ZA.startListening({actionCreator:B8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=MA(i,lf(n),rp(n),op(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=no(n);if(s==="Enter"){var f=Fy(n,"axis","hover",String(i.index));e.dispatch(WE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=Xle(n),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,x=c+b*p;if(!(d==null||x>=d.length||x<0)){var w=Fy(n,"axis","hover",String(x));e.dispatch(WE({active:!0,activeIndex:x.toString(),activeCoordinate:w}))}}}}}});ZA.startListening({actionCreator:U8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Fy(n,"axis","hover",String(s));e.dispatch(WE({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ni=Mi("externalEvent"),F8=Km(),vw=new Map;F8.startListening({actionCreator:Ni,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=vw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:Hce(c),activeDataKey:K9(c),activeIndex:Ld(c),activeLabel:G9(c),activeTooltipIndex:Ld(c),isTooltipActive:Gce(c)};n(d,r)}finally{vw.delete(i)}});vw.set(i,l)}}});var Zpe=le([sf],t=>t.tooltipItemPayloads),Jpe=le([Zpe,sp,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),q8=Mi("touchMove"),$8=Km();$8.startListening({actionCreator:q8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=RA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=XA(r,QA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(D9({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(Fne),p=(c=f.getAttribute(qne))!==null&&c!==void 0?c:void 0,b=of(r).find(E=>E.id===p);if(m==null||b==null||p==null)return;var{dataKey:x}=b,w=Jpe(r,m,p);e.dispatch(R9({activeDataKey:x,activeIndex:m,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var ege=B6({brush:She,cartesianAxis:fhe,chartData:Hue,errorBars:sme,graphicalItems:Zfe,layout:Ene,legend:zre,options:Bue,polarAxis:yfe,polarOptions:Qpe,referenceElements:Ohe,rootProps:Wpe,tooltip:oce,zIndex:Iue}),tge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Yte({reducer:ege,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([j8.middleware,z8.middleware,ZA.middleware,F8.middleware,$8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(tL({type:"raf"}))},devTools:{serialize:{replacer:Ype},name:"recharts-".concat(n)}})};function nge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=hi(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=tge(e,r));var l=PT;return A.createElement(Ome,{context:l,store:s.current},n)}function rge(t){var{layout:e,margin:n}=t,r=dn(),i=hi();return A.useEffect(()=>{i||(r(xne(e)),r(bne(n)))},[r,i,e,n]),null}var ige=A.memo(rge,KA);function age(t){var e=dn();return A.useEffect(()=>{e(Xpe(t))},[e,t]),null}function wj(t){var{zIndex:e,isPanorama:n}=t,r=A.useRef(null),i=dn();return A.useLayoutEffect(()=>(r.current&&i(Tue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Aue({zIndex:e,isPanorama:n}))}),[i,e,n]),A.createElement("g",{tabIndex:-1,ref:r})}function Ej(t){var{children:e,isPanorama:n}=t,r=$e(pue);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(wj,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>A.createElement(wj,{key:l,zIndex:l,isPanorama:n})))}var sge=["children"];function oge(t,e){if(t==null)return{};var n,r,i=lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(null,arguments)}var cge={width:"100%",height:"100%",display:"block"},uge=A.forwardRef((t,e)=>{var n=bre(),r=xre(),i=CL();if(!cl(n)||!cl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),A.createElement(i6,Yy({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:cge,ref:e}),s)}),dge=t=>{var{children:e}=t,n=$e(Gv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return A.createElement(i6,{width:r,height:i,x:l,y:s},e)},Sj=A.forwardRef((t,e)=>{var{children:n}=t,r=oge(t,sge),i=hi();return i?A.createElement(dge,null,A.createElement(Ej,{isPanorama:!0},n)):A.createElement(uge,Yy({ref:e},r),A.createElement(Ej,{isPanorama:!1},n))});function fge(){var t=dn(),[e,n]=A.useState(null),r=$e(Une);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Xt(s)&&s!==r&&t(wne(s))}},[e,t,r]),n}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mge(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(null,arguments)}var yge=()=>(ede(),null);function Wy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var vge=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[s,l]=A.useState({containerWidth:Wy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Wy((r=t.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,m)=>{l(p=>{var b=Math.round(f),x=Math.round(m);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),d=A.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var b=w=>{var{width:E,height:S}=w[0].contentRect;c(E,S)},x=new ResizeObserver(b);x.observe(f),i.current=x}},[e,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(Yv,{width:s.containerWidth,height:s.containerHeight}),A.createElement("div",Bc({ref:d},t)))}),bge=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=A.useState({containerWidth:Wy(n),containerHeight:Wy(r)}),l=A.useCallback((d,f)=>{s(m=>{var p=Math.round(d),b=Math.round(f);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return A.createElement(A.Fragment,null,A.createElement(Yv,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Bc({ref:c},t)))}),xge=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Yv,{width:n,height:r}),A.createElement("div",Bc({ref:e},t)))}),_ge=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return Bs(n)||Bs(r)?A.createElement(bge,Bc({},t,{ref:e})):A.createElement(xge,Bc({},t,{ref:e}))});function wge(t){return t===!0?vge:_ge}var Ege=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:w,onTouchStart:E,style:S,width:k,responsive:M,dispatchTouchEvents:C=!0}=t,j=A.useRef(null),P=dn(),[z,R]=A.useState(null),[O,V]=A.useState(null),q=fge(),L=BT(),F=L?.width>0?L.width:k,U=L?.height>0?L.height:i,_e=A.useCallback(Z=>{q(Z),typeof e=="function"&&e(Z),R(Z),V(Z),Z!=null&&(j.current=Z)},[q,e,R,V]),we=A.useCallback(Z=>{P(D8(Z)),P(Ni({handler:s,reactEvent:Z}))},[P,s]),W=A.useCallback(Z=>{P(iS(Z)),P(Ni({handler:f,reactEvent:Z}))},[P,f]),re=A.useCallback(Z=>{P(M9()),P(Ni({handler:m,reactEvent:Z}))},[P,m]),$=A.useCallback(Z=>{P(iS(Z)),P(Ni({handler:p,reactEvent:Z}))},[P,p]),se=A.useCallback(()=>{P(U8())},[P]),ve=A.useCallback(Z=>{P(B8(Z.key))},[P]),H=A.useCallback(Z=>{P(Ni({handler:l,reactEvent:Z}))},[P,l]),K=A.useCallback(Z=>{P(Ni({handler:c,reactEvent:Z}))},[P,c]),oe=A.useCallback(Z=>{P(Ni({handler:d,reactEvent:Z}))},[P,d]),de=A.useCallback(Z=>{P(Ni({handler:b,reactEvent:Z}))},[P,b]),ge=A.useCallback(Z=>{P(Ni({handler:E,reactEvent:Z}))},[P,E]),Ie=A.useCallback(Z=>{C&&P(q8(Z)),P(Ni({handler:w,reactEvent:Z}))},[P,C,w]),Ee=A.useCallback(Z=>{P(Ni({handler:x,reactEvent:Z}))},[P,x]),Ve=wge(M);return A.createElement(e8.Provider,{value:z},A.createElement(AJ.Provider,{value:O},A.createElement(Ve,{width:F??S?.width,height:U??S?.height,className:Te("recharts-wrapper",r),style:hge({position:"relative",cursor:"default",width:F,height:U},S),onClick:we,onContextMenu:H,onDoubleClick:K,onFocus:se,onKeyDown:ve,onMouseDown:oe,onMouseEnter:W,onMouseLeave:re,onMouseMove:$,onMouseUp:de,onTouchEnd:Ee,onTouchMove:Ie,onTouchStart:ge,ref:_e},A.createElement(yge,null),n)))}),Sge=["width","height","responsive","children","className","style","compact","title","desc"];function Tge(t,e){if(t==null)return{};var n,r,i=Age(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ige=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:m}=t,p=Tge(t,Sge),b=ll(p);return d?A.createElement(A.Fragment,null,A.createElement(Yv,{width:n,height:r}),A.createElement(Sj,{otherAttributes:b,title:f,desc:m},s)):A.createElement(Ege,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(Sj,{otherAttributes:b,title:f,desc:m,ref:e},A.createElement(Rhe,null,s)))});function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(null,arguments)}var kge={top:5,right:5,bottom:5,left:5},Cge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:kge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Nge=A.forwardRef(function(e,n){var r,i=ji(e.categoricalChartProps,Cge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(nge,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},A.createElement(Ehe,{chartData:f.data}),A.createElement(ige,{layout:i.layout,margin:i.margin}),A.createElement(age,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Ige,aS({},i,{ref:n})))}),Oge=["axis","item"],H8=A.forwardRef((t,e)=>A.createElement(Nge,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oge,tooltipPayloadSearcher:Lue,categoricalChartProps:t,ref:e}));const G8=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=vr(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?y.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:y.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[y.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),y.jsx("div",{className:"h-48 w-full mb-6",children:y.jsx(xL,{width:"100%",height:"100%",children:y.jsxs(H8,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[y.jsx(WA,{type:"number",hide:!0}),y.jsx(M8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),y.jsx(r8,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),y.jsx(YA,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>y.jsx(gb,{fill:i[l%i.length]},`cell-${l}`))})]})})}),y.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return y.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),y.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},Pge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ar("expense"),{categories:r,addCategory:i}=Cd("expense"),{selectedDate:s}=Bd(),{currency:l}=vr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const x=b.category||"Sin Categora";return p[x]=(p[x]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(Cv,{}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(e6,{type:"expense",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(t6,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(G8,{data:f(),total:d})})})]})]})},Rge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ar("income"),{categories:r,addCategory:i}=Cd("income"),{selectedDate:s}=Bd(),{currency:l}=vr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const x=b.category||"Sin Categora";return p[x]=(p[x]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(Cv,{}),y.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(e6,{type:"income",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(t6,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(G8,{data:f(),total:d})})})]})]})},Mge=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,isGoalPaidThisMonth:i,addContribution:s,withdraw:l,getMonthlyQuota:c,updateGoal:d}=Um(),{total:f}=Ar("income"),{total:m}=Ar("expense"),{currency:p}=vr(),b=t.reduce(($,se)=>$+(se.currentAmount||0),0),x=f-m-b,[w,E]=A.useState({name:"",targetAmount:"",deadline:"",icon:""}),S=w.deadline?new Date(w.deadline):null,k=S?Math.max(1,(S.getFullYear()-new Date().getFullYear())*12+(S.getMonth()-new Date().getMonth())):0,M=w.targetAmount&&k>0?Number(w.targetAmount)/k:0,[C,j]=A.useState({open:!1,title:"",message:""}),[P,z]=A.useState({open:!1,type:"deposit",goalId:"",goalName:""}),[R,O]=A.useState(""),[V,q]=A.useState({open:!1,goalId:""}),[L,F]=A.useState({name:"",targetAmount:"",deadline:"",icon:""}),U=$=>{q({open:!0,goalId:$.id}),F({name:$.name,targetAmount:$.targetAmount.toString(),deadline:$.deadline||"",icon:$.icon||""})},_e=()=>{!L.name||!L.targetAmount||!L.deadline||(d(V.goalId,{name:L.name,targetAmount:Number(L.targetAmount),deadline:L.deadline,icon:L.icon}),q({open:!1,goalId:""}))},we=()=>{const $=Number(R);if(!(!$||$<=0)){if(P.type==="withdraw"){const se=t.find(ve=>ve.id===P.goalId);if(!se||se.currentAmount<$){alert("No hay suficientes fondos ahorrados en esta meta para retirar esa cantidad.");return}l(P.goalId,$)}else{if(x<$){alert(`No tienes saldo disponible suficiente (${p}${x.toFixed(2)})`);return}s(P.goalId,$,"Ingreso Extra")}z({...P,open:!1})}},W=($,se,ve)=>{x>=se?r($,se):j({open:!0,title:"Saldo Insuficiente",message:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["No tienes saldo disponible suficiente para pagar la cuota de ",y.jsx("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:ve}),"."]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg border border-rose-100 dark:border-rose-900/30 space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Saldo Disponible:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,x.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Cuota Necesaria:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,se.toFixed(2)]})]}),y.jsxs("div",{className:"border-t border-rose-200 dark:border-rose-800/50 pt-2 mt-2 flex justify-between text-sm font-bold",children:[y.jsx("span",{className:"text-rose-900 dark:text-rose-200",children:"Faltante:"}),y.jsxs("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:["-",p,(se-x).toFixed(2)]})]})]})]})})},re=$=>{$.preventDefault(),!(!w.name||!w.targetAmount||!w.deadline)&&(e({name:w.name,targetAmount:Number(w.targetAmount),deadline:w.deadline,startDate:new Date().toISOString().split("T")[0],icon:w.icon||""}),E({name:"",targetAmount:"",deadline:"",icon:""}))};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Calculadora de Metas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Planifica tus compras y objetivos de ahorro"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-1 space-y-6",children:y.jsxs("form",{onSubmit:re,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl space-y-4 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-2",children:[y.jsx(xT,{size:18}),"Simular Meta"]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Objetivo"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Coche Nuevo",value:w.name,onChange:$=>E({...w,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:w.targetAmount,onChange:$=>{const se=$.target.value;/^\d*\.?\d*$/.test(se)&&E({...w,targetAmount:se})}})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:w.deadline,onChange:$=>E({...w,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono (Emoji)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 text-center text-lg",placeholder:"",value:w.icon,onChange:$=>E({...w,icon:$.target.value}),maxLength:2})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg text-center border border-zinc-200 dark:border-zinc-800 border-dashed mt-4",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase mb-1",children:"Ahorro Mensual Sugerido"}),y.jsxs("p",{className:"text-2xl font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:[p,isFinite(M)?M.toFixed(2):"0.00"]}),k>0&&y.jsxs("p",{className:"text-[10px] text-zinc-400 mt-1",children:["Durante ~",k," meses"]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Meta"})]})}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-300 flex items-center gap-2",children:[y.jsx(vc,{size:18}),"Metas"]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length===0?y.jsx("div",{className:"col-span-full bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500",children:"No hay metas definidas."})}):t.map($=>{const se=i($),ve=c($),H=$.currentAmount/$.targetAmount*100;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-5 rounded-xl group relative shadow-sm dark:shadow-none flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-2xl mb-1 block",children:$.icon||""}),y.jsx("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg",children:$.name}),y.jsxs("p",{className:"text-[10px] text-zinc-400",children:["Vence: ",$.deadline||"Sin fecha"]})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>U($),className:"text-zinc-400 hover:text-blue-500 transition-colors p-1",title:"Editar meta",children:y.jsx(rQ,{size:16})}),y.jsx("button",{onClick:()=>n($.id),className:"text-zinc-400 hover:text-rose-500 transition-colors p-1",title:"Eliminar meta",children:y.jsx(Ps,{size:16})})]})]}),y.jsxs("div",{className:"mt-4 space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-xs text-zinc-500",children:[y.jsx("span",{children:"Progreso Total"}),y.jsxs("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[H.toFixed(1),"%"]})]}),y.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden border border-zinc-200 dark:border-zinc-700/50",children:y.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 relative",style:{width:`${Math.min(H,100)}%`},children:H>=20&&y.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})})}),y.jsx("div",{className:"text-center py-2",children:y.jsx("p",{className:"text-xs italic text-zinc-400",children:H>=100?"Meta alcanzada! ":H>=75?"Ya casi ests ah! ":H>=50?"Ms de la mitad! ":H>=25?"Buen progreso, sigue as! ":"Todo viaje empieza con un paso! "})}),y.jsxs("div",{className:"flex justify-between text-xs mt-1 border-t border-dashed border-zinc-200 dark:border-zinc-800 pt-2",children:[y.jsxs("span",{className:"text-zinc-400 font-mono",children:[p,$.currentAmount.toFixed(2)]}),y.jsxs("span",{className:"text-zinc-400 font-mono",children:["/ ",p,$.targetAmount.toLocaleString()]})]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500",children:"Cuota Mensual"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200",children:[p,ve.toFixed(2)]})]}),se?y.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs font-bold rounded-lg border border-emerald-200 dark:border-emerald-800/50",children:"Pagado este mes!"}):y.jsx("button",{onClick:()=>W($.id,ve,$.name),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm shadow-emerald-900/20",children:"Pagar Cuota"})]}),se&&y.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-right italic",children:"Suma al saldo de Ahorro"})]})]},$.id)})})]})]}),y.jsx(Ha,{isOpen:C.open,onClose:()=>j({...C,open:!1}),title:C.title,children:C.message}),y.jsx(Ha,{isOpen:P.open,onClose:()=>z({...P,open:!1}),title:P.type==="deposit"?"Ingresar Fondos Extra":"Retirar Fondos",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:P.type==="deposit"?"Aade dinero extra a esta meta desde tu saldo disponible.":"Mueve dinero de esta meta de vuelta a tu saldo disponible."}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:R,onChange:$=>O($.target.value)})]}),y.jsx("div",{className:"pt-2",children:y.jsx("button",{onClick:we,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${P.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:P.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})})]})}),y.jsx(Ha,{isOpen:V.open,onClose:()=>q({...V,open:!1}),title:"Editar Meta",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.name,onChange:$=>F({...L,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.targetAmount,onChange:$=>F({...L,targetAmount:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.deadline,onChange:$=>F({...L,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.icon,onChange:$=>F({...L,icon:$.target.value}),maxLength:2})]}),y.jsx("button",{onClick:_e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors mt-4",children:"Guardar Cambios"})]})})]})},Dge=({project:t,onClose:e})=>{const{currency:n}=vr(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=J3(),{currentBalance:d}=qm(),{addTransaction:f}=Ar(),[m,p]=A.useState("overview"),b=c(t),[x,w]=A.useState({amount:"",description:"",type:"expense"}),[E,S]=A.useState(!1),k=P=>{P.preventDefault();const z=Number(x.amount);if(!(z<=0)){if(x.type==="income"){if(z>d){Lt.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:z,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:z,description:x.description,type:x.type,date:(()=>{const R=new Date;return`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`})()}),w({amount:"",description:"",type:"expense"}),S(!1)}},M=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},C=A.useMemo(()=>t.transactions.slice(0,7).reverse().map(P=>({name:new Date(P.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:P.type==="income"?P.amount:-P.amount})),[t.transactions]),j=()=>{const P={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:P[t.status]})};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),y.jsx("span",{onClick:j,className:Te("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),y.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),y.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:y.jsx(sm,{size:24})})]}),y.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[y.jsxs("button",{onClick:()=>p("overview"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(cX,{size:16})," Resumen"]}),y.jsxs("button",{onClick:()=>p("ledger"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(VO,{size:16})," Movimientos"]}),y.jsxs("button",{onClick:()=>p("settings"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(R3,{size:16})," Configuracin"]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[m==="overview"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),y.jsxs("p",{className:Te("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[y.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),C.length>0?y.jsx(xL,{width:"100%",height:"100%",children:y.jsxs(H8,{data:C,children:[y.jsx(WA,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(r8,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),y.jsx(YA,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:C.map((P,z)=>y.jsx(gb,{fill:P.amount>=0?"#10b981":"#f43f5e"},`cell-${z}`))})]})}):y.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),m==="ledger"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>{w(P=>({...P,type:"income"})),S(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(iE,{size:18})," Inyectar Fondos"]}),y.jsxs("button",{onClick:()=>{w(P=>({...P,type:"expense"})),S(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(kd,{size:18})," Registrar Gasto"]})]}),E&&y.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:x.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),y.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-zinc-400 hover:text-zinc-600",children:y.jsx(sm,{size:16})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.description,onChange:P=>w({...x,description:P.target.value})}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),y.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.amount,onChange:P=>w({...x,amount:P.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),y.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?y.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[y.jsx(VO,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(P=>y.jsxs("div",{className:Te("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:Te("w-10 h-10 rounded-full flex items-center justify-center",P.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:P.type==="income"?y.jsx(iE,{size:18}):y.jsx(kd,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:P.description}),y.jsx("p",{className:"text-xs text-zinc-500",children:new Date(P.date).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:Te("font-mono font-bold",P.type==="income"?"text-emerald-600":"text-rose-600"),children:[P.type==="income"?"+":"-",n,P.amount.toFixed(2)]}),y.jsx("button",{onClick:()=>l(t.id,P.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:y.jsx(Ps,{size:16})})]})]},P.id))})]}),m==="settings"&&y.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(P=>y.jsx("button",{onClick:()=>r(t.id,{status:P}),className:Te("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===P?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),y.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[y.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),y.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),y.jsxs("button",{onClick:M,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[y.jsx(Ps,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},jge=()=>{const{projects:t,addProject:e,updateProject:n,getProjectStats:r}=J3(),{currency:i}=vr(),[s,l]=A.useState(!1),[c,d]=A.useState(null),[f,m]=A.useState({name:"",targetBudget:"",deadline:"",description:""}),p=w=>{w.preventDefault(),e({name:f.name,targetBudget:Number(f.targetBudget),deadline:f.deadline,description:f.description}),m({name:"",targetBudget:"",deadline:"",description:""}),l(!1)},b=w=>{switch(w){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},x=(w,E)=>{w.stopPropagation();const S={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(E.id,{status:S[E.status]})};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),y.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Os,{size:18}),y.jsx("span",{children:"Nuevo Proyecto"})]})]}),s&&y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[y.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:"Iniciar Nuevo Proyecto"}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),y.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.name,onChange:w=>m({...f,name:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),y.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.targetBudget,onChange:w=>m({...f,targetBudget:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.deadline,onChange:w=>m({...f,deadline:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),y.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.description,onChange:w=>m({...f,description:w.target.value})})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:"Crear Proyecto"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(w=>{const E=r(w);return y.jsx("div",{onClick:()=>d(w),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"flex justify-between items-start mb-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:y.jsx(aE,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:w.name}),y.jsx("span",{onClick:S=>x(S,w),className:Te("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",b(w.status)),title:"Clic para cambiar estado",children:w.status==="planning"?"Planificacin":w.status==="active"?"En Curso":w.status==="completed"?"Completado":w.status==="paused"?"Pausado":"Cancelado"})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),y.jsxs("p",{className:Te("font-mono font-bold text-lg",E.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[i,E.currentBalance.toLocaleString()]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[i,E.totalExpenses.toLocaleString()]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[y.jsx("span",{className:"text-zinc-500",children:E.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),y.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[E.totalExpenses>0?E.percentConsumed.toFixed(0):E.percentFunded.toFixed(0),"%"]})]}),y.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:Te("h-full transition-all duration-500",(E.totalExpenses>0?E.percentConsumed:E.percentFunded)>100?"bg-rose-500":((E.totalExpenses>0?E.percentConsumed:E.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(E.totalExpenses>0?E.percentConsumed:E.percentFunded,100)}%`}})})]})]})]})},w.id)}),t.length===0&&!s&&y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(aE,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),c&&y.jsx(Dge,{project:t.find(w=>w.id===c.id)||c,onClose:()=>d(null)})]})},bw={gift:RX,money:O3,heart:DX,phoenix:kX,piggy:Bm,wallet:Iv,star:CQ,smile:IQ,briefcase:nX,car:oX,plane:lQ,home:VX,coffee:SX,game:OX,phone:TQ,other:P3},zge=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r}=Fm(),{currency:i}=vr(),[s,l]=A.useState(!1),[c,d]=A.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[f,m]=A.useState({open:!1,type:"deposit",fundId:""}),[p,b]=A.useState(""),[x,w]=A.useState(""),E=P=>{P.preventDefault(),c.name&&(e(c),d({name:"",icon:"piggy",description:"",color:"emerald"}),l(!1))},{currentBalance:S}=qm(),k=P=>{P.preventDefault();const z=Number(p);if(!(!z||z<=0)){if(f.type==="deposit"&&z>S){Lt.error(`Fondos insuficientes. Solo tienes ${i}${S.toLocaleString()} disponibles.`);return}r(f.fundId,z,f.type,x),m({...f,open:!1}),b(""),w("")}},M=(P,z)=>{m({open:!0,type:P,fundId:z})},C=P=>{const z=bw[P]||P3;return y.jsx(z,{size:24})},j=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),y.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[y.jsx(Os,{size:20})," Nuevo Fondo"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(Bm,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(P=>{const z=j.find(R=>R.id===P.color)?.class||j[0].class;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:Te("p-3 rounded-xl transition-colors",z),children:C(P.icon)}),y.jsx("button",{onClick:()=>n(P.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(Ps,{size:18})})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:P.name}),P.description&&y.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:P.description}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[i,P.currentAmount.toLocaleString()]})]}),y.jsxs("div",{className:"flex gap-2 mt-6",children:[y.jsxs("button",{onClick:()=>M("deposit",P.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[y.jsx(ry,{size:16})," Ingresar"]}),y.jsxs("button",{onClick:()=>M("withdraw",P.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[y.jsx(kd,{size:16})," Retirar"]})]})]},P.id)})}),y.jsx(Ha,{isOpen:s,onClose:()=>l(!1),title:"Crear Nuevo Fondo",children:y.jsxs("form",{onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:c.name,onChange:P=>d({...c,name:P.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(bw).map(P=>{const z=bw[P];return y.jsx("button",{type:"button",onClick:()=>d({...c,icon:P}),className:Te("p-2 rounded-md flex items-center justify-center transition-all",c.icon===P?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:y.jsx(z,{size:20})},P)})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),y.jsx("div",{className:"flex gap-2",children:j.map(P=>y.jsx("button",{type:"button",onClick:()=>d({...c,color:P.id}),className:Te("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",P.class.split(" ")[1],c.color===P.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:c.color===P.id&&y.jsx(C3,{size:14,className:"text-current"})},P.id))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:c.description,onChange:P=>d({...c,description:P.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Fondo"})]})}),y.jsx(Ha,{isOpen:f.open,onClose:()=>m({...f,open:!1}),title:f.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:i}),y.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:p,onChange:P=>b(P.target.value)})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:f.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:x,onChange:P=>w(P.target.value)})]}),y.jsxs("button",{type:"submit",className:Te("w-full py-2 rounded-lg font-medium text-white transition-colors",f.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",f.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},K8=()=>{const{data:t,add:e,remove:n,update:r}=yl("credits");return{credits:t,addCredit:d=>{e({...d,payments:[]})},deleteCredit:d=>{n(d)},addPayment:async(d,f,m)=>{const p=t.find(C=>C.id===d);if(!p){Lt.error("Error: Crdito no encontrado");return}const b={id:crypto.randomUUID(),creditId:d,date:new Date().toISOString().split("T")[0],amount:Number(f),note:m||""},x=p.payments?[b,...p.payments]:[b],w=x.reduce((C,j)=>C+j.amount,0),E=p.interestRate/100/12;let S=0,k=0;if(p.interestRate===0)S=p.principal/p.term,k=p.principal;else{const C=Number(p.principal),j=Number(p.term);S=C*E*Math.pow(1+E,j)/(Math.pow(1+E,j)-1),k=S*j}const M=w>=k-1?"paid":"active";try{await r(d,{payments:x,status:M})}catch(C){console.error("Failed to update credit payment",C),Lt.error("Error al guardar el historial del pago")}},getCreditStatus:d=>{const m=(d.payments||[]).reduce((E,S)=>E+S.amount,0),p=d.interestRate/100/12;let b=0,x=0;d.interestRate===0?(b=d.principal/d.term,x=d.principal):(b=d.principal*p*Math.pow(1+p,d.term)/(Math.pow(1+p,d.term)-1),x=b*d.term);const w=Math.max(0,x-m);return{totalPaid:m,totalToPay:x,remainingBalance:w,quota:b,progress:m/x*100}}}},Y8=6048e5,Lge=864e5,Aj=Symbol.for("constructDateFrom");function dl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Aj in t?t[Aj](e):t instanceof Date?new t.constructor(e):new Date(e)}function da(t,e){return dl(e||t,t)}let Vge={};function yb(){return Vge}function wm(t,e){const n=yb(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=da(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Xy(t,e){return wm(t,{...e,weekStartsOn:1})}function W8(t,e){const n=da(t,e?.in),r=n.getFullYear(),i=dl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Xy(i),l=dl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Xy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Ij(t){const e=da(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Bge(t,...e){const n=dl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function kj(t,e){const n=da(t,e?.in);return n.setHours(0,0,0,0),n}function Uge(t,e,n){const[r,i]=Bge(n?.in,t,e),s=kj(r),l=kj(i),c=+s-Ij(s),d=+l-Ij(l);return Math.round((c-d)/Lge)}function Fge(t,e){const n=W8(t,e),r=dl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xy(r)}function qge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $ge(t){return!(!qge(t)&&typeof t!="number"||isNaN(+da(t)))}function Hge(t,e){const n=da(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Gge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kge=(t,e,n)=>{let r;const i=Gge[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ld(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Yge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qge={date:ld({formats:Yge,defaultWidth:"full"}),time:ld({formats:Wge,defaultWidth:"full"}),dateTime:ld({formats:Xge,defaultWidth:"full"})},Zge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jge=(t,e,n,r)=>Zge[t];function za(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const e0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},o0e={ordinalNumber:s0e,era:za({values:e0e,defaultWidth:"wide"}),quarter:za({values:t0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:za({values:n0e,defaultWidth:"wide"}),day:za({values:r0e,defaultWidth:"wide"}),dayPeriod:za({values:i0e,defaultWidth:"wide",formattingValues:a0e,defaultFormattingWidth:"wide"})};function La(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?c0e(c,p=>p.test(l)):l0e(c,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(l.length);return{value:f,rest:m}}}function l0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function c0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function X8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const u0e=/^(\d+)(th|st|nd|rd)?/i,d0e=/\d+/i,f0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h0e={any:[/^b/i,/^(a|c)/i]},m0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p0e={any:[/1/i,/2/i,/3/i,/4/i]},g0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w0e={ordinalNumber:X8({matchPattern:u0e,parsePattern:d0e,valueCallback:t=>parseInt(t,10)}),era:La({matchPatterns:f0e,defaultMatchWidth:"wide",parsePatterns:h0e,defaultParseWidth:"any"}),quarter:La({matchPatterns:m0e,defaultMatchWidth:"wide",parsePatterns:p0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:La({matchPatterns:g0e,defaultMatchWidth:"wide",parsePatterns:y0e,defaultParseWidth:"any"}),day:La({matchPatterns:v0e,defaultMatchWidth:"wide",parsePatterns:b0e,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:x0e,defaultMatchWidth:"any",parsePatterns:_0e,defaultParseWidth:"any"})},E0e={code:"en-US",formatDistance:Kge,formatLong:Qge,formatRelative:Jge,localize:o0e,match:w0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S0e(t,e){const n=da(t,e?.in);return Uge(n,Hge(n))+1}function T0e(t,e){const n=da(t,e?.in),r=+Xy(n)-+Fge(n);return Math.round(r/Y8)+1}function Q8(t,e){const n=da(t,e?.in),r=n.getFullYear(),i=yb(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=dl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=wm(l,e),d=dl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=wm(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function A0e(t,e){const n=yb(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Q8(t,e),s=dl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),wm(s,e)}function I0e(t,e){const n=da(t,e?.in),r=+wm(n,e)-+A0e(n,e);return Math.round(r/Y8)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Bo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},Hu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cj={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Bo.y(t,e)},Y:function(t,e,n,r){const i=Q8(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return bt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):bt(s,e.length)},R:function(t,e){const n=W8(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Bo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=I0e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=T0e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Bo.d(t,e)},D:function(t,e,n){const r=S0e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Hu.noon:r===0?i=Hu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Hu.evening:r>=12?i=Hu.afternoon:r>=4?i=Hu.morning:i=Hu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Bo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Bo.s(t,e)},S:function(t,e){return Bo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Oj(r);case"XXXX":case"XX":return nc(r);default:return nc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Oj(r);case"xxxx":case"xx":return nc(r);default:return nc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Nj(r,":");default:return"GMT"+nc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Nj(r,":");default:return"GMT"+nc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return bt(r,e.length)},T:function(t,e,n){return bt(+t,e.length)}};function Nj(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+bt(s,2)}function Oj(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):nc(t,e)}function nc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),s=bt(r%60,2);return n+i+e+s}const Pj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Z8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},k0e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Pj(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Pj(r,e)).replace("{{time}}",Z8(i,e))},C0e={p:Z8,P:k0e},N0e=/^D+$/,O0e=/^Y+$/,P0e=["D","DD","YY","YYYY"];function R0e(t){return N0e.test(t)}function M0e(t){return O0e.test(t)}function D0e(t,e,n){const r=j0e(t,e,n);if(console.warn(r),P0e.includes(t))throw new RangeError(r)}function j0e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const z0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V0e=/^'([^]*?)'?$/,B0e=/''/g,U0e=/[a-zA-Z]/;function F0e(t,e,n){const r=yb(),i=n?.locale??r.locale??E0e,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=da(t,n?.in);if(!$ge(c))throw new RangeError("Invalid time value");let d=e.match(L0e).map(m=>{const p=m[0];if(p==="p"||p==="P"){const b=C0e[p];return b(m,i.formatLong)}return m}).join("").match(z0e).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:q0e(m)};if(Cj[p])return{isToken:!0,value:m};if(p.match(U0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&M0e(p)||!n?.useAdditionalDayOfYearTokens&&R0e(p))&&D0e(p,e,String(t));const b=Cj[p[0]];return b(c,p,i.localize,f)}).join("")}function q0e(t){const e=t.match(V0e);return e?e[1].replace(B0e,"'"):t}const $0e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},H0e=(t,e,n)=>{let r;const i=$0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},G0e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},K0e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Y0e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W0e={date:ld({formats:G0e,defaultWidth:"full"}),time:ld({formats:K0e,defaultWidth:"full"}),dateTime:ld({formats:Y0e,defaultWidth:"full"})},X0e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Q0e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Z0e=(t,e,n,r)=>e.getHours()!==1?Q0e[t]:X0e[t],J0e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},eye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},tye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},nye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},rye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},iye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},aye=(t,e)=>Number(t)+"",sye={ordinalNumber:aye,era:za({values:J0e,defaultWidth:"wide"}),quarter:za({values:eye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:za({values:tye,defaultWidth:"wide"}),day:za({values:nye,defaultWidth:"wide"}),dayPeriod:za({values:rye,defaultWidth:"wide",formattingValues:iye,defaultFormattingWidth:"wide"})},oye=/^(\d+)()?/i,lye=/\d+/i,cye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},uye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},dye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},fye={any:[/1/i,/2/i,/3/i,/4/i]},hye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},mye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},pye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},gye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},yye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},vye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},bye={ordinalNumber:X8({matchPattern:oye,parsePattern:lye,valueCallback:function(t){return parseInt(t,10)}}),era:La({matchPatterns:cye,defaultMatchWidth:"wide",parsePatterns:uye,defaultParseWidth:"any"}),quarter:La({matchPatterns:dye,defaultMatchWidth:"wide",parsePatterns:fye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:La({matchPatterns:hye,defaultMatchWidth:"wide",parsePatterns:mye,defaultParseWidth:"any"}),day:La({matchPatterns:pye,defaultMatchWidth:"wide",parsePatterns:gye,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:yye,defaultMatchWidth:"any",parsePatterns:vye,defaultParseWidth:"any"})},xye={code:"es",formatDistance:H0e,formatLong:W0e,formatRelative:Z0e,localize:sye,match:bye,options:{weekStartsOn:1,firstWeekContainsDate:1}},_ye=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i}=K8(),{currency:s}=vr(),{addTransaction:l}=Ar(),{currentBalance:c}=qm(),[d,f]=A.useState(!1),[m,p]=A.useState({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),[b,x]=A.useState({open:!1,creditId:""}),[w,E]=A.useState(""),S=C=>{C.preventDefault();const j=Number(m.principal),P=Number(m.interestRate),z=Number(m.term);!m.name||j<=0||z<=0||(e({name:m.name,principal:j,interestRate:P,term:z,startDate:m.startDate,status:"active"}),f(!1),p({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),Lt.success("Crdito creado exitosamente"))},k=C=>{C.preventDefault();const j=Number(w);if(j<=0)return;if(j>c){Lt.error(`Saldo insuficiente. Tu saldo disponible es ${s}${c.toLocaleString()}`,{description:"Reduce tus gastos o libera fondos de ahorro."});return}r(b.creditId,j);const P=t.find(z=>z.id===b.creditId);l({amount:j,type:"expense",category:"Deudas",description:`Pago Crdito: ${P?.name||"Desconocido"}`,date:new Date().toISOString().split("T")[0]}),x({open:!1,creditId:""}),E(""),Lt.success("Pago registrado correctamente y descontado del saldo")},M=(C,j,P)=>{if(j===0)return C/P;const z=j/100/12;return C*z*Math.pow(1+z,P)/(Math.pow(1+z,P)-1)};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Crditos y Deudas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestiona tus prstamos y planifica tus pagos"})]}),y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Os,{size:18}),y.jsx("span",{children:"Nuevo Crdito"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(iy,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Crditos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Registra un prstamo personal, hipoteca o tarjeta de crdito para llevar el control de tus pagos."})]}):t.map(C=>{const j=i(C),P=j.totalPaid/j.totalToPay*100,z=M(C.principal,C.interestRate,C.term),R=new Date(C.startDate);return R.setMonth(R.getMonth()+(C.payments?.length||0)+1),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:y.jsx(iy,{size:24})}),y.jsxs("div",{className:"flex gap-2",children:[C.status==="paid"&&y.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded-full flex items-center gap-1",children:[y.jsx(LO,{size:12})," PAGADO"]}),y.jsx("button",{onClick:()=>n(C.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(Ps,{size:18})})]})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:C.name}),y.jsxs("div",{className:"flex gap-4 text-sm text-zinc-500 mb-6",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(O3,{size:14})," ",s,C.principal.toLocaleString()]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(aQ,{size:14})," ",C.interestRate,"% Anual"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(k3,{size:14})," ",C.term," Meses"]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Deuda Restante"}),y.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[s,j.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsx("div",{className:"relative h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(P,100)}%`}})}),y.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[y.jsxs("span",{children:["Pagado: ",s,j.totalPaid.toLocaleString()]}),y.jsxs("span",{children:["Total: ",s,j.totalToPay.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),C.status==="active"&&y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Cuota Mensual"}),y.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[s,z.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Prx. Pago"}),y.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:F0e(R,"dd MMM yyyy",{locale:xye})})]})]}),y.jsxs("button",{onClick:()=>{x({open:!0,creditId:C.id}),E(z.toFixed(2))},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[y.jsx(LO,{size:16})," Registrar Pago"]})]})]},C.id)})}),y.jsx(Ha,{isOpen:d,onClose:()=>f(!1),title:"Registrar Nuevo Crdito",children:y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Nombre del Crdito"}),y.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Auto, Hipoteca",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.name,onChange:C=>p({...m,name:C.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto Prestado (",s,")"]}),y.jsx("input",{required:!0,type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.principal,onChange:C=>p({...m,principal:C.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Tasa Inters Anual (%)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.interestRate,onChange:C=>p({...m,interestRate:C.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Plazo (Meses)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12, 24, 36",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.term,onChange:C=>p({...m,term:C.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Fecha Inicio"}),y.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.startDate,onChange:C=>p({...m,startDate:C.target.value})})]})]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg mt-4",children:[y.jsx("p",{className:"text-xs text-rose-600 dark:text-rose-400 font-bold uppercase mb-1",children:"Resumen"}),y.jsxs("div",{className:"flex justify-between text-sm text-rose-800 dark:text-rose-200",children:[y.jsx("span",{children:"Cuota Estimada:"}),y.jsx("span",{className:"font-bold",children:m.principal&&m.term?`${s}${M(Number(m.principal),Number(m.interestRate),Number(m.term)).toLocaleString(void 0,{maximumFractionDigits:2})} / mes`:"-"})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Crear Crdito"})]})}),y.jsx(Ha,{isOpen:b.open,onClose:()=>x({open:!1,creditId:""}),title:"Registrar Pago",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500",children:"Registrar un pago reducir tu deuda restante. Asegrate de incluir intereses si aplica."}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",s,")"]}),y.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-emerald-500 dark:text-white",value:w,onChange:C=>E(C.target.value)})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Confirmar Pago"})]})})]})},wye=()=>{const{transactions:t}=Ar(),{credits:e}=K8(),{funds:n}=Fm(),{goals:r,getMonthlyQuota:i}=Um(),{scheduled:s}=kv(),{currency:l}=vr(),c=new Date,{availableBalance:d}=qm(),f=n.reduce(($,se)=>$+se.currentAmount,0),m=t.filter($=>{const se=new Date($.date+"T12:00:00");return se.getMonth()===c.getMonth()&&se.getFullYear()===c.getFullYear()}),p=m.filter($=>$.type==="income").reduce(($,se)=>$+se.amount,0),b=m.filter($=>$.type==="expense").reduce(($,se)=>$+se.amount,0),x=A.useMemo(()=>{const $={};return m.filter(se=>se.type==="expense").forEach(se=>{$[se.category]=($[se.category]||0)+se.amount}),$},[m]),[w,E]=A.useState(""),[S,k]=A.useState({}),[M,C]=A.useState(new Set),[j,P]=A.useState(new Set),[z,R]=A.useState({}),[O,V]=A.useState(!0),[q,L]=A.useState(!1),[F,U]=A.useState(!0),we=(()=>{let $=0;O?($=d,q&&($+=f)):$=0;const se=Number(w)||0;let ve=0;F&&s.filter(Z=>Z.type==="income"&&Z.active).forEach(Z=>{const Ae=Z.lastProcessedDate?new Date(Z.lastProcessedDate+"T12:00:00"):null;Ae&&Ae.getMonth()===c.getMonth()&&Ae.getFullYear()===c.getFullYear()||(ve+=Z.amount)});let H=0,K=0;F&&s.filter(Z=>Z.type==="expense"&&Z.active).forEach(Z=>{const Ae=Z.lastProcessedDate?new Date(Z.lastProcessedDate+"T12:00:00"):null;Ae&&Ae.getMonth()===c.getMonth()&&Ae.getFullYear()===c.getFullYear()||(K+=Z.amount)});const oe=[];Object.keys(x).forEach(Z=>{const Ae=x[Z],Be=S[Z]?Number(S[Z]):Ae,me=Math.max(Ae,Be);H+=me,oe.push({category:Z,real:Ae,projected:Be,diff:me-Ae})});let de=0;e.filter(Z=>Z.status==="active"&&M.has(Z.id)).forEach(Z=>{const Ae=Z.principal*(1+Z.interestRate/100)/Z.term;de+=Ae});let ge=0;r.filter(Z=>j.has(Z.id)).forEach(Z=>{const Ae=i(Z);ge+=Ae});let Ie=0;Object.values(z).forEach(Z=>{Ie+=Number(Z)||0});const Ee=H-b,Ve=O?$+se+ve-Ee-K-de-ge-Ie:p+se+ve-(b+Ee+K+de+ge+Ie);return{baseBalance:$,incomeMonthReal:p,extraInc:se,scheduledIncome:ve,expenseMonthReal:b,totalProjectedExpenses:H,scheduledExpenses:K,totalCreditSimulated:de,totalGoalSimulated:ge,totalFundSimulated:Ie,finalBalance:Ve,categoryComparisons:oe}})(),W=$=>{const se=new Set(M);se.has($)?se.delete($):se.add($),C(se)},re=$=>{const se=new Set(j);se.has($)?se.delete($):se.add($),P(se)};return y.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[y.jsx(xT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),y.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula el cierre de mes. Juega con los nmeros, lo que pasa aqu se queda aqu."})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[y.jsxs("button",{onClick:()=>V(!O),className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",O?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[O?y.jsx(L1,{size:18}):y.jsx(z1,{size:18}),O?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),y.jsxs("button",{onClick:()=>{O||V(!0),L(!q)},className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",q?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[q?y.jsx(L1,{size:18}):y.jsx(z1,{size:18}),"Incluir Ahorros (Fondos)"]}),y.jsxs("button",{onClick:()=>U(!F),className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",F?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[F?y.jsx(L1,{size:18}):y.jsx(z1,{size:18}),"Auto-sumar Programados"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[y.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:O?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),y.jsx("div",{className:"flex items-end gap-2",children:y.jsxs("p",{className:Te("text-4xl font-black",we.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,we.baseBalance.toFixed(2)]})}),O&&!q&&y.jsxs("p",{className:"text-[10px] text-amber-500 font-bold mt-1 flex items-center gap-1",children:[y.jsx(UX,{size:10})," Excluyendo fondos (",l,f,")"]})]}),y.jsxs("div",{className:Te("p-6 rounded-3xl shadow-xl border transition-colors",we.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[y.jsx("h2",{className:Te("text-sm font-bold uppercase tracking-wider mb-2",we.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),y.jsxs("p",{className:Te("text-4xl font-black",we.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,we.finalBalance.toFixed(2)]}),y.jsx("p",{className:"text-xs mt-2 opacity-80",children:we.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(D3,{size:20,className:"text-emerald-500"})," Ingresos"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Reales del Mes"}),y.jsxs("span",{className:"font-bold",children:[l,p]})]}),F&&we.scheduledIncome>0&&y.jsxs("div",{className:"flex justify-between items-center text-sm text-blue-500",children:[y.jsx("span",{children:"+ Programados Pendientes"}),y.jsxs("span",{className:"font-bold",children:[l,we.scheduledIncome]})]}),y.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase mb-2",children:"Ingreso Extra Esperado"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border-none rounded-xl pl-8 py-3 font-bold text-right outline-none focus:ring-2 focus:ring-emerald-500/20",placeholder:"0",value:w,onChange:$=>E($.target.value)})]})]})]}),y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[y.jsx(Bm,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map($=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:$.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-bold",children:$.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,$.currentAmount]})]}),y.jsxs("div",{className:"w-24 relative",children:[y.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:z[$.id]||"",onChange:se=>R({...z,[$.id]:se.target.value})})]})]},$.id)),n.length===0&&y.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(M3,{size:20,className:"text-rose-500"})," Presupuesto de Gastos"]}),F&&we.scheduledExpenses>0&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[y.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),y.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,we.scheduledExpenses]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[y.jsx("div",{className:"col-span-4",children:"Categora"}),y.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),y.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),y.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),y.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:we.categoryComparisons.map($=>y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[y.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:$.category,children:$.category}),y.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,$.real]}),y.jsx("div",{className:"col-span-3 relative",children:y.jsx("input",{type:"number",className:Te("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(S[$.category])||0)<$.real&&S[$.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:$.real.toString(),value:S[$.category]||"",onChange:se=>k({...S,[$.category]:se.target.value})})}),y.jsxs("div",{className:Te("col-span-2 text-right text-xs font-bold",$.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,$.diff)]})]},$.category))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(iy,{size:14})," Simular Crditos"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter($=>$.status==="active").map($=>{const se=$.principal*(1+$.interestRate/100)/$.term,ve=M.has($.id);return y.jsxs("button",{onClick:()=>W($.id),className:Te("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",ve?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Te("w-4 h-4 rounded-full border flex items-center justify-center",ve?"border-rose-600 bg-rose-600":"border-zinc-400"),children:ve&&y.jsx(Rj,{size:10,className:"text-white"})}),$.name," (",l,se.toFixed(0),")"]},$.id)}),e.filter($=>$.status==="active").length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(vc,{size:14})," Simular Metas"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map($=>{const se=i($),ve=j.has($.id);return y.jsxs("button",{onClick:()=>re($.id),className:Te("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",ve?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Te("w-4 h-4 rounded-full border flex items-center justify-center",ve?"border-purple-600 bg-purple-600":"border-zinc-400"),children:ve&&y.jsx(Rj,{size:10,className:"text-white"})}),$.name," (",l,se.toFixed(0),")"]},$.id)}),r.length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),y.jsx("div",{className:"flex justify-end pt-8",children:y.jsxs("button",{onClick:()=>{E(""),k({}),C(new Set),P(new Set),R({}),Lt.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[y.jsx(hQ,{size:20}),"Reiniciar Simulacin"]})})]})},Rj=({size:t,className:e})=>y.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}),Eye=()=>{const{signInWithGoogle:t,user:e}=Vm(),n=cS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):y.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-8",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-8 h-8 text-emerald-500",children:y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),y.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Vaultly"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"Tu terminal financiera personal"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("button",{onClick:r,className:"w-full bg-white hover:bg-zinc-200 text-zinc-900 font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-3 transition-colors",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),y.jsx("p",{className:"text-xs text-zinc-500",children:"Al continuar, accedes a tu espacio seguro en el dispositivo. No almacenamos datos en la nube (an)."})]})]})})},Sye=()=>{const{user:t,loading:e}=Vm();return e?y.jsx("div",{className:"h-screen bg-zinc-950 flex items-center justify-center text-emerald-500",children:"Cargando..."}):t?y.jsx(Zj,{}):y.jsx(Qj,{to:"/login",replace:!0})};function Tye(){return y.jsx(FW,{children:y.jsx(vF,{children:y.jsxs(lF,{children:[y.jsxs(L7,{children:[y.jsx(ei,{path:"/login",element:y.jsx(Eye,{})}),y.jsx(ei,{element:y.jsx(Sye,{}),children:y.jsxs(ei,{path:"/",element:y.jsx(hJ,{}),children:[y.jsx(ei,{index:!0,element:y.jsx(gJ,{})}),y.jsx(ei,{path:"expenses",element:y.jsx(Pge,{})}),y.jsx(ei,{path:"income",element:y.jsx(Rge,{})}),y.jsx(ei,{path:"goals",element:y.jsx(Mge,{})}),y.jsx(ei,{path:"funds",element:y.jsx(zge,{})}),y.jsx(ei,{path:"credits",element:y.jsx(_ye,{})}),y.jsx(ei,{path:"projections",element:y.jsx(wye,{})}),y.jsx(ei,{path:"projects",element:y.jsx(jge,{})}),y.jsx(ei,{path:"*",element:y.jsx(Qj,{to:"/",replace:!0})})]})})]}),y.jsx(X3,{richColors:!0,position:"top-center"})]})})})}VU.createRoot(document.getElementById("root")).render(y.jsx(A.StrictMode,{children:y.jsx(jj,{children:y.jsx(Tye,{})})}));
