function zU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m1={exports:{}},ch={};var AC;function LU(){if(AC)return ch;AC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return ch.Fragment=e,ch.jsx=n,ch.jsxs=n,ch}var IC;function VU(){return IC||(IC=1,m1.exports=LU()),m1.exports}var y=VU(),p1={exports:{}},Ke={};var kC;function BU(){if(kC)return Ke;kC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(H,K,oe){this.props=H,this.context=K,this.refs=S,this.updater=oe||w}k.prototype.isReactComponent={},k.prototype.setState=function(H,K){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,K,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=k.prototype;function C(H,K,oe){this.props=H,this.context=K,this.refs=S,this.updater=oe||w}var j=C.prototype=new M;j.constructor=C,E(j,k.prototype),j.isPureReactComponent=!0;var P=Array.isArray;function z(){}var R={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(H,K,oe){var de=oe.ref;return{$$typeof:t,type:H,key:K,ref:de!==void 0?de:null,props:oe}}function q(H,K){return V(H.type,K,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var K={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return K[oe]})}var U=/\/+/g;function _e(H,K){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):K.toString(36)}function we(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(K){H.status==="pending"&&(H.status="fulfilled",H.value=K)},function(K){H.status==="pending"&&(H.status="rejected",H.reason=K)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function W(H,K,oe,de,ge){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(ke){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case t:case e:Ee=!0;break;case m:return Ee=H._init,W(Ee(H._payload),K,oe,de,ge)}}if(Ee)return ge=ge(H),Ee=de===""?"."+_e(H,0):de,P(ge)?(oe="",Ee!=null&&(oe=Ee.replace(U,"$&/")+"/"),W(ge,K,oe,"",function(Ae){return Ae})):ge!=null&&(L(ge)&&(ge=q(ge,oe+(ge.key==null||H&&H.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+Ee)),K.push(ge)),1;Ee=0;var Ve=de===""?".":de+":";if(P(H))for(var Z=0;Z<H.length;Z++)de=H[Z],ke=Ve+_e(de,Z),Ee+=W(de,K,oe,ke,ge);else if(Z=x(H),typeof Z=="function")for(H=Z.call(H),Z=0;!(de=H.next()).done;)de=de.value,ke=Ve+_e(de,Z++),Ee+=W(de,K,oe,ke,ge);else if(ke==="object"){if(typeof H.then=="function")return W(we(H),K,oe,de,ge);throw K=String(H),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function re(H,K,oe){if(H==null)return H;var de=[],ge=0;return W(H,de,"","",function(ke){return K.call(oe,ke,ge++)}),de}function $(H){if(H._status===-1){var K=H._result;K=K(),K.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=K)}if(H._status===1)return H._result.default;throw H._result}var se=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:re,forEach:function(H,K,oe){re(H,function(){K.apply(this,arguments)},oe)},count:function(H){var K=0;return re(H,function(){K++}),K},toArray:function(H){return re(H,function(K){return K})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ke.Activity=p,Ke.Children=ve,Ke.Component=k,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=C,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},Ke.cache=function(H){return function(){return H.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(H,K,oe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var de=E({},H.props),ge=H.key;if(K!=null)for(ke in K.key!==void 0&&(ge=""+K.key),K)!O.call(K,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&K.ref===void 0||(de[ke]=K[ke]);var ke=arguments.length-2;if(ke===1)de.children=oe;else if(1<ke){for(var Ee=Array(ke),Ve=0;Ve<ke;Ve++)Ee[Ve]=arguments[Ve+2];de.children=Ee}return V(H.type,ge,de)},Ke.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ke.createElement=function(H,K,oe){var de,ge={},ke=null;if(K!=null)for(de in K.key!==void 0&&(ke=""+K.key),K)O.call(K,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ge[de]=K[de]);var Ee=arguments.length-2;if(Ee===1)ge.children=oe;else if(1<Ee){for(var Ve=Array(Ee),Z=0;Z<Ee;Z++)Ve[Z]=arguments[Z+2];ge.children=Ve}if(H&&H.defaultProps)for(de in Ee=H.defaultProps,Ee)ge[de]===void 0&&(ge[de]=Ee[de]);return V(H,ke,ge)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:c,render:H}},Ke.isValidElement=L,Ke.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:$}},Ke.memo=function(H,K){return{$$typeof:f,type:H,compare:K===void 0?null:K}},Ke.startTransition=function(H){var K=R.T,oe={};R.T=oe;try{var de=H(),ge=R.S;ge!==null&&ge(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(z,se)}catch(ke){se(ke)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),R.T=K}},Ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ke.use=function(H){return R.H.use(H)},Ke.useActionState=function(H,K,oe){return R.H.useActionState(H,K,oe)},Ke.useCallback=function(H,K){return R.H.useCallback(H,K)},Ke.useContext=function(H){return R.H.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H,K){return R.H.useDeferredValue(H,K)},Ke.useEffect=function(H,K){return R.H.useEffect(H,K)},Ke.useEffectEvent=function(H){return R.H.useEffectEvent(H)},Ke.useId=function(){return R.H.useId()},Ke.useImperativeHandle=function(H,K,oe){return R.H.useImperativeHandle(H,K,oe)},Ke.useInsertionEffect=function(H,K){return R.H.useInsertionEffect(H,K)},Ke.useLayoutEffect=function(H,K){return R.H.useLayoutEffect(H,K)},Ke.useMemo=function(H,K){return R.H.useMemo(H,K)},Ke.useOptimistic=function(H,K){return R.H.useOptimistic(H,K)},Ke.useReducer=function(H,K,oe){return R.H.useReducer(H,K,oe)},Ke.useRef=function(H){return R.H.useRef(H)},Ke.useState=function(H){return R.H.useState(H)},Ke.useSyncExternalStore=function(H,K,oe){return R.H.useSyncExternalStore(H,K,oe)},Ke.useTransition=function(){return R.H.useTransition()},Ke.version="19.2.3",Ke}var CC;function Bd(){return CC||(CC=1,p1.exports=BU()),p1.exports}var T=Bd();const be=Ja(T),UU=zU({__proto__:null,default:be},[T]);var g1={exports:{}},uh={},y1={exports:{}},v1={};var NC;function FU(){return NC||(NC=1,(function(t){function e(W,re){var $=W.length;W.push(re);e:for(;0<$;){var se=$-1>>>1,ve=W[se];if(0<i(ve,re))W[se]=re,W[$]=ve,$=se;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],$=W.pop();if($!==re){W[0]=$;e:for(var se=0,ve=W.length,H=ve>>>1;se<H;){var K=2*(se+1)-1,oe=W[K],de=K+1,ge=W[de];if(0>i(oe,$))de<ve&&0>i(ge,oe)?(W[se]=ge,W[de]=$,se=de):(W[se]=oe,W[K]=$,se=K);else if(de<ve&&0>i(ge,$))W[se]=ge,W[de]=$,se=de;else break e}}return re}function i(W,re){var $=W.sortIndex-re.sortIndex;return $!==0?$:W.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,b=3,x=!1,w=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function j(W){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=W)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function P(W){if(E=!1,j(W),!w)if(n(d)!==null)w=!0,z||(z=!0,F());else{var re=n(f);re!==null&&we(P,re.startTime-W)}}var z=!1,R=-1,O=5,V=-1;function q(){return S?!0:!(t.unstable_now()-V<O)}function L(){if(S=!1,z){var W=t.unstable_now();V=W;var re=!0;try{e:{w=!1,E&&(E=!1,M(R),R=-1),x=!0;var $=b;try{t:{for(j(W),p=n(d);p!==null&&!(p.expirationTime>W&&q());){var se=p.callback;if(typeof se=="function"){p.callback=null,b=p.priorityLevel;var ve=se(p.expirationTime<=W);if(W=t.unstable_now(),typeof ve=="function"){p.callback=ve,j(W),re=!0;break t}p===n(d)&&r(d),j(W)}else r(d);p=n(d)}if(p!==null)re=!0;else{var H=n(f);H!==null&&we(P,H.startTime-W),re=!1}}break e}finally{p=null,b=$,x=!1}re=void 0}}finally{re?F():z=!1}}}var F;if(typeof C=="function")F=function(){C(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,_e=U.port2;U.port1.onmessage=L,F=function(){_e.postMessage(null)}}else F=function(){k(L,0)};function we(W,re){R=k(function(){W(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var $=b;b=re;try{return W()}finally{b=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=b;b=W;try{return re()}finally{b=$}},t.unstable_scheduleCallback=function(W,re,$){var se=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?se+$:se):$=se,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,W={id:m++,callback:re,priorityLevel:W,startTime:$,expirationTime:ve,sortIndex:-1},$>se?(W.sortIndex=$,e(f,W),n(d)===null&&W===n(f)&&(E?(M(R),R=-1):E=!0,we(P,$-se))):(W.sortIndex=ve,e(d,W),w||x||(w=!0,z||(z=!0,F()))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var re=b;return function(){var $=b;b=re;try{return W.apply(this,arguments)}finally{b=$}}}})(v1)),v1}var OC;function qU(){return OC||(OC=1,y1.exports=FU()),y1.exports}var b1={exports:{}},dr={};var PC;function $U(){if(PC)return dr;PC=1;var t=Bd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,m)},dr.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},dr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},dr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},dr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},dr.requestFormReset=function(d){r.d.r(d)},dr.unstable_batchedUpdates=function(d,f){return d(f)},dr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},dr.version="19.2.3",dr}var RC;function Uj(){if(RC)return b1.exports;RC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b1.exports=$U(),b1.exports}var MC;function HU(){if(MC)return uh;MC=1;var t=qU(),e=Bd(),n=Uj();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return d(v),a;if(_===h)return d(v),o;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=_;else{for(var I=!1,D=v.child;D;){if(D===u){I=!0,u=v,h=_;break}if(D===h){I=!0,h=v,u=_;break}D=D.sibling}if(!I){for(D=_.child;D;){if(D===u){I=!0,u=_,h=v;break}if(D===h){I=!0,h=_,u=v;break}D=D.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function _e(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case C:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case j:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:_e(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return _e(a(o))}catch{}}return null}var we=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},se=[],ve=-1;function H(a){return{current:a}}function K(a){0>ve||(a.current=se[ve],se[ve]=null,ve--)}function oe(a,o){ve++,se[ve]=a.current,a.current=o}var de=H(null),ge=H(null),ke=H(null),Ee=H(null);function Ve(a,o){switch(oe(ke,o),oe(ge,a),oe(de,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Wk(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Wk(o),a=Xk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(de),oe(de,a)}function Z(){K(de),K(ge),K(ke)}function Ae(a){a.memoizedState!==null&&oe(Ee,a);var o=de.current,u=Xk(o,a.type);o!==u&&(oe(ge,a),oe(de,u))}function Be(a){ge.current===a&&(K(de),K(ge)),Ee.current===a&&(K(Ee),ah._currentValue=$)}var me,Kt;function Xe(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",Kt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+Kt}var tn=!1;function Vt(a,o){if(!a||tn)return"";tn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var ne=ae}Reflect.construct(a,[],he)}else{try{he.call()}catch(ae){ne=ae}a.call(he.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),I=_[0],D=_[1];if(I&&D){var G=I.split(`
`),te=D.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===te.length)for(h=G.length-1,v=te.length-1;1<=h&&0<=v&&G[h]!==te[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==te[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==te[v]){var ce=`
`+G[h].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=h&&0<=v);break}}}finally{tn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Xe(u):""}function Sn(a,o){switch(a.tag){case 26:case 27:case 5:return Xe(a.type);case 16:return Xe("Lazy");case 13:return a.child!==o&&o!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Vt(a.type,!1);case 11:return Vt(a.type.render,!1);case 1:return Vt(a.type,!0);case 31:return Xe("Activity");default:return""}}function Vi(a){try{var o="",u=null;do o+=Sn(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var mt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,ha=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,Bi=t.unstable_requestPaint,Yn=t.unstable_now,es=t.unstable_getCurrentPriorityLevel,ma=t.unstable_ImmediatePriority,El=t.unstable_UserBlockingPriority,Ui=t.unstable_NormalPriority,Sl=t.unstable_LowPriority,Fi=t.unstable_IdlePriority,Tl=t.log,qi=t.unstable_setDisableYieldValue,qr=null,Tn=null;function xr(a){if(typeof Tl=="function"&&qi(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(qr,a)}catch{}}var Bt=Math.clz32?Math.clz32:$r,Xc=Math.log,pa=Math.LN2;function $r(a){return a>>>=0,a===0?32:31-(Xc(a)/pa|0)|0}var pi=256,ts=262144,Yt=4194304;function Hr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fe(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,_=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~_,h!==0?v=Hr(h):(I&=D,I!==0?v=Hr(I):u||(u=D&~a,u!==0&&(v=Hr(u))))):(D=h&~_,D!==0?v=Hr(D):I!==0?v=Hr(I):u||(u=h&~a,u!==0&&(v=Hr(u)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:v}function pt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function fn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function _r(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Dt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ur(a,o,u,h,v,_){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,G=a.expirationTimes,te=a.hiddenUpdates;for(u=I&~u;0<u;){var ce=31-Bt(u),he=1<<ce;D[ce]=0,G[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var ae=ne[ce];ae!==null&&(ae.lane&=-536870913)}u&=~he}h!==0&&gi(a,h,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(I&~o))}function gi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Bt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Wn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Bt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function Xn(a,o){var u=o&-o;return u=(u&42)!==0?1:ga(u),(u&(a.suspendedLanes|o))!==0?0:u}function ga(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function df(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:bC(a.type))}function $i(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var Hi=Math.random().toString(36).slice(2),hn="__reactFiber$"+Hi,zn="__reactProps$"+Hi,ya="__reactContainer$"+Hi,Qc="__reactEvents$"+Hi,xb="__reactListeners$"+Hi,fp="__reactHandles$"+Hi,hp="__reactResources$"+Hi,va="__reactMarker$"+Hi;function Zc(a){delete a[hn],delete a[zn],delete a[Qc],delete a[xb],delete a[fp]}function ba(a){var o=a[hn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ya]||u[hn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=rC(a);a!==null;){if(u=a[hn])return u;a=rC(a)}return o}a=u,u=a.parentNode}return null}function yi(a){if(a=a[hn]||a[ya]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Gr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function xa(a){var o=a[hp];return o||(o=a[hp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function mn(a){a[va]=!0}var ff=new Set,hf={};function _a(a,o){wa(a,o),wa(a+"Capture",o)}function wa(a,o){for(hf[a]=o,a=0;a<o.length;a++)ff.add(o[a])}var mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pf={},gf={};function mp(a){return mt.call(gf,a)?!0:mt.call(pf,a)?!1:mf.test(a)?gf[a]=!0:(pf[a]=!0,!1)}function Jc(a,o,u){if(mp(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Kr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function pn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ao(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,_.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function gt(a){if(!a._valueTracker){var o=ao(a)?"checked":"value";a._valueTracker=yf(a,o,""+a[o])}}function Al(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=ao(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Ea(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Il=/[\n"\\]/g;function Nr(a){return a.replace(Il,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function eu(a,o,u,h,v,_,I,D){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?vf(a,I,Ln(o)):u!=null?vf(a,I,Ln(u)):h!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+Ln(D):a.removeAttribute("name")}function pp(a,o,u,h,v,_,I,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){gt(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,D||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),gt(a)}function vf(a,o,u){o==="number"&&Ea(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function so(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function gp(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function oo(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(we(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),gt(a)}function Or(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var yp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||yp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function xf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&bf(a,v,h)}else for(var _ in o)o.hasOwnProperty(_)&&bf(a,_,o[_])}function tu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(a){return lo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gi(){}var _f=null;function vi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var co=null,Sa=null;function kl(a){var o=yi(a);if(o&&(a=o.stateNode)){var u=a[zn]||null;e:switch(a=o.stateNode,o.type){case"input":if(eu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[zn]||null;if(!v)throw Error(r(90));eu(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Al(h)}break e;case"textarea":gp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&so(a,!!u.multiple,o,!1)}}}var ru=!1;function uo(a,o,u){if(ru)return a(o,u);ru=!0;try{var h=a(o);return h}finally{if(ru=!1,(co!==null||Sa!==null)&&(dg(),co&&(o=co,a=Sa,Sa=co=null,kl(o),a)))for(o=0;o<a.length;o++)kl(a[o])}}function Ki(a,o){var u=a.stateNode;if(u===null)return null;var h=u[zn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(bi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{Cl=!1}var Ta=null,wf=null,Nl=null;function Ef(){if(Nl)return Nl;var a,o=wf,u=o.length,h,v="value"in Ta?Ta.value:Ta.textContent,_=v.length;for(a=0;a<u&&o[a]===v[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===v[_-h];h++);return Nl=v.slice(a,1<h?1-h:void 0)}function Ol(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ns(){return!0}function Yi(){return!1}function Zn(a){function o(u,h,v,_,I){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ns:Yi,this.isPropagationStopped=Yi,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),o}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Zn(rs),fo=p({},rs,{view:0,detail:0}),Sf=Zn(fo),ho,iu,Ia,au=p({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ia&&(Ia&&a.type==="mousemove"?(ho=a.screenX-Ia.screenX,iu=a.screenY-Ia.screenY):iu=ho=0,Ia=a),ho)},movementY:function(a){return"movementY"in a?a.movementY:iu}}),Tf=Zn(au),Pl=p({},au,{dataTransfer:0}),bp=Zn(Pl),xp=p({},fo,{relatedTarget:0}),Rl=Zn(xp),Af=p({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),_p=Zn(Af),su=p({},rs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wp=Zn(su),Ep=p({},rs,{data:0}),ka=Zn(Ep),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Ap[a])?!!o[a]:!1}function mo(){return Ip}var wr=p({},fo,{key:function(a){if(a.key){var o=Sp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ol(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Tp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(a){return a.type==="keypress"?Ol(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ol(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),kp=Zn(wr),Cp=p({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=Zn(Cp),g=p({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),A=Zn(g),N=p({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Zn(N),J=p({},au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Zn(J),ye=p({},rs,{newState:0,oldState:0}),Ye=Zn(ye),rn=[9,13,27,32],dt=bi&&"CompositionEvent"in window,Ut=null;bi&&"documentMode"in document&&(Ut=document.documentMode);var xi=bi&&"TextEvent"in window&&!Ut,Ca=bi&&(!dt||Ut&&8<Ut&&11>=Ut),Wi=" ",Xi=!1;function Ml(a,o){switch(a){case"keyup":return rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lu=!1;function oB(a,o){switch(a){case"compositionend":return ou(o);case"keypress":return o.which!==32?null:(Xi=!0,Wi);case"textInput":return a=o.data,a===Wi&&Xi?null:a;default:return null}}function lB(a,o){if(lu)return a==="compositionend"||!dt&&Ml(a,o)?(a=Ef(),Nl=wf=Ta=null,lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ca&&o.locale!=="ko"?null:o.data;default:return null}}var cB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!cB[a.type]:o==="textarea"}function o2(a,o,u,h){co?Sa?Sa.push(h):Sa=[h]:co=h,o=vg(o,"onChange"),0<o.length&&(u=new Aa("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var If=null,kf=null;function uB(a){qk(a,0)}function Np(a){var o=Gr(a);if(Al(o))return a}function l2(a,o){if(a==="change")return o}var c2=!1;if(bi){var _b;if(bi){var wb="oninput"in document;if(!wb){var u2=document.createElement("div");u2.setAttribute("oninput","return;"),wb=typeof u2.oninput=="function"}_b=wb}else _b=!1;c2=_b&&(!document.documentMode||9<document.documentMode)}function d2(){If&&(If.detachEvent("onpropertychange",f2),kf=If=null)}function f2(a){if(a.propertyName==="value"&&Np(kf)){var o=[];o2(o,kf,a,vi(a)),uo(uB,o)}}function dB(a,o,u){a==="focusin"?(d2(),If=o,kf=u,If.attachEvent("onpropertychange",f2)):a==="focusout"&&d2()}function fB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Np(kf)}function hB(a,o){if(a==="click")return Np(o)}function mB(a,o){if(a==="input"||a==="change")return Np(o)}function pB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Yr=typeof Object.is=="function"?Object.is:pB;function Cf(a,o){if(Yr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!mt.call(o,v)||!Yr(a[v],o[v]))return!1}return!0}function h2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m2(a,o){var u=h2(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=h2(u)}}function p2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?p2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function g2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ea(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ea(a.document)}return o}function Eb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var gB=bi&&"documentMode"in document&&11>=document.documentMode,cu=null,Sb=null,Nf=null,Tb=!1;function y2(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tb||cu==null||cu!==Ea(h)||(h=cu,"selectionStart"in h&&Eb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nf&&Cf(Nf,h)||(Nf=h,h=vg(Sb,"onSelect"),0<h.length&&(o=new Aa("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=cu)))}function Dl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var uu={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionrun:Dl("Transition","TransitionRun"),transitionstart:Dl("Transition","TransitionStart"),transitioncancel:Dl("Transition","TransitionCancel"),transitionend:Dl("Transition","TransitionEnd")},Ab={},v2={};bi&&(v2=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function jl(a){if(Ab[a])return Ab[a];if(!uu[a])return a;var o=uu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in v2)return Ab[a]=o[u];return a}var b2=jl("animationend"),x2=jl("animationiteration"),_2=jl("animationstart"),yB=jl("transitionrun"),vB=jl("transitionstart"),bB=jl("transitioncancel"),w2=jl("transitionend"),E2=new Map,Ib="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ib.push("scrollEnd");function Qi(a,o){E2.set(a,o),_a(o,[a])}var Op=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],du=0,kb=0;function Pp(){for(var a=du,o=kb=du=0;o<a;){var u=_i[o];_i[o++]=null;var h=_i[o];_i[o++]=null;var v=_i[o];_i[o++]=null;var _=_i[o];if(_i[o++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}_!==0&&S2(u,v,_)}}function Rp(a,o,u,h){_i[du++]=a,_i[du++]=o,_i[du++]=u,_i[du++]=h,kb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Cb(a,o,u,h){return Rp(a,o,u,h),Mp(a)}function zl(a,o){return Rp(a,null,null,o),Mp(a)}function S2(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,_=a.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&o!==null&&(v=31-Bt(u),a=_.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),_):null}function Mp(a){if(50<Zf)throw Zf=0,Lx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var fu={};function xB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(a,o,u,h){return new xB(a,o,u,h)}function Nb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function as(a,o){var u=a.alternate;return u===null?(u=Wr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function T2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Dp(a,o,u,h,v,_){var I=0;if(h=a,typeof a=="function")Nb(a)&&(I=1);else if(typeof a=="string")I=TU(a,u,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Wr(31,u,o,v),a.elementType=V,a.lanes=_,a;case E:return Ll(u.children,v,_,o);case S:I=8,v|=24;break;case k:return a=Wr(12,u,o,v|2),a.elementType=k,a.lanes=_,a;case P:return a=Wr(13,u,o,v),a.elementType=P,a.lanes=_,a;case z:return a=Wr(19,u,o,v),a.elementType=z,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:I=10;break e;case M:I=9;break e;case j:I=11;break e;case R:I=14;break e;case O:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Wr(I,u,o,v),o.elementType=a,o.type=h,o.lanes=_,o}function Ll(a,o,u,h){return a=Wr(7,a,h,o),a.lanes=u,a}function Ob(a,o,u){return a=Wr(6,a,null,o),a.lanes=u,a}function A2(a){var o=Wr(18,null,null,0);return o.stateNode=a,o}function Pb(a,o,u){return o=Wr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var I2=new WeakMap;function wi(a,o){if(typeof a=="object"&&a!==null){var u=I2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Vi(o)},I2.set(a,o),o)}return{value:a,source:o,stack:Vi(o)}}var hu=[],mu=0,jp=null,Of=0,Ei=[],Si=0,po=null,Na=1,Oa="";function ss(a,o){hu[mu++]=Of,hu[mu++]=jp,jp=a,Of=o}function k2(a,o,u){Ei[Si++]=Na,Ei[Si++]=Oa,Ei[Si++]=po,po=a;var h=Na;a=Oa;var v=32-Bt(h)-1;h&=~(1<<v),u+=1;var _=32-Bt(o)+v;if(30<_){var I=v-v%5;_=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Na=1<<32-Bt(o)+v|u<<v|h,Oa=_+a}else Na=1<<_|u<<v|h,Oa=a}function Rb(a){a.return!==null&&(ss(a,1),k2(a,1,0))}function Mb(a){for(;a===jp;)jp=hu[--mu],hu[mu]=null,Of=hu[--mu],hu[mu]=null;for(;a===po;)po=Ei[--Si],Ei[Si]=null,Oa=Ei[--Si],Ei[Si]=null,Na=Ei[--Si],Ei[Si]=null}function C2(a,o){Ei[Si++]=Na,Ei[Si++]=Oa,Ei[Si++]=po,Na=o.id,Oa=o.overflow,po=a}var Jn=null,jt=null,st=!1,go=null,Ti=!1,Db=Error(r(519));function yo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pf(wi(o,a)),Db}function N2(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[hn]=a,o[zn]=h,u){case"dialog":tt("cancel",o),tt("close",o);break;case"iframe":case"object":case"embed":tt("load",o);break;case"video":case"audio":for(u=0;u<eh.length;u++)tt(eh[u],o);break;case"source":tt("error",o);break;case"img":case"image":case"link":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"input":tt("invalid",o),pp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":tt("invalid",o);break;case"textarea":tt("invalid",o),oo(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Kk(o.textContent,u)?(h.popover!=null&&(tt("beforetoggle",o),tt("toggle",o)),h.onScroll!=null&&tt("scroll",o),h.onScrollEnd!=null&&tt("scrollend",o),h.onClick!=null&&(o.onclick=Gi),o=!0):o=!1,o||yo(a,!0)}function O2(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Jn=Jn.return}}function pu(a){if(a!==Jn)return!1;if(!st)return O2(a),st=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Jx(a.type,a.memoizedProps)),u=!u),u&&jt&&yo(a),O2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));jt=nC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));jt=nC(a)}else o===27?(o=jt,Oo(a.type)?(a=i1,i1=null,jt=a):jt=o):jt=Jn?Ii(a.stateNode.nextSibling):null;return!0}function Vl(){jt=Jn=null,st=!1}function jb(){var a=go;return a!==null&&(Dr===null?Dr=a:Dr.push.apply(Dr,a),go=null),a}function Pf(a){go===null?go=[a]:go.push(a)}var zb=H(null),Bl=null,os=null;function vo(a,o,u){oe(zb,o._currentValue),o._currentValue=u}function ls(a){a._currentValue=zb.current,K(zb)}function Lb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Vb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var I=v.child;_=_.firstContext;e:for(;_!==null;){var D=_;_=v;for(var G=0;G<o.length;G++)if(D.context===o[G]){_.lanes|=u,D=_.alternate,D!==null&&(D.lanes|=u),Lb(_.return,u,a),h||(I=null);break e}_=D.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,_=I.alternate,_!==null&&(_.lanes|=u),Lb(I,u,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function gu(a,o,u,h){a=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var D=v.type;Yr(v.pendingProps.value,I.value)||(a!==null?a.push(D):a=[D])}}else if(v===Ee.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ah):a=[ah])}v=v.return}a!==null&&Vb(o,a,u,h),o.flags|=262144}function zp(a){for(a=a.firstContext;a!==null;){if(!Yr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ul(a){Bl=a,os=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return P2(Bl,a)}function Lp(a,o){return Bl===null&&Ul(a),P2(a,o)}function P2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},os===null){if(a===null)throw Error(r(308));os=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else os=os.next=o;return u}var _B=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},wB=t.unstable_scheduleCallback,EB=t.unstable_NormalPriority,gn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bb(){return{controller:new _B,data:new Map,refCount:0}}function Rf(a){a.refCount--,a.refCount===0&&wB(EB,function(){a.controller.abort()})}var Mf=null,Ub=0,yu=0,vu=null;function SB(a,o){if(Mf===null){var u=Mf=[];Ub=0,yu=$x(),vu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Ub++,o.then(R2,R2),o}function R2(){if(--Ub===0&&Mf!==null){vu!==null&&(vu.status="fulfilled");var a=Mf;Mf=null,yu=0,vu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function TB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var M2=W.S;W.S=function(a,o){yk=Yn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&SB(a,o),M2!==null&&M2(a,o)};var Fl=H(null);function Fb(){var a=Fl.current;return a!==null?a:Nt.pooledCache}function Vp(a,o){o===null?oe(Fl,Fl.current):oe(Fl,o.pool)}function D2(){var a=Fb();return a===null?null:{parent:gn._currentValue,pool:a}}var bu=Error(r(460)),qb=Error(r(474)),Bp=Error(r(542)),Up={then:function(){}};function j2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function z2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Gi,Gi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V2(a),a;default:if(typeof o.status=="string")o.then(Gi,Gi);else{if(a=Nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,V2(a),a}throw $l=o,bu}}function ql(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?($l=u,bu):u}}var $l=null;function L2(){if($l===null)throw Error(r(459));var a=$l;return $l=null,a}function V2(a){if(a===bu||a===Bp)throw Error(r(483))}var xu=null,Df=0;function Fp(a){var o=Df;return Df+=1,xu===null&&(xu=[]),z2(xu,a,o)}function jf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function qp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function B2(a){function o(X,Y){if(a){var ee=X.deletions;ee===null?(X.deletions=[Y],X.flags|=16):ee.push(Y)}}function u(X,Y){if(!a)return null;for(;Y!==null;)o(X,Y),Y=Y.sibling;return null}function h(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function v(X,Y){return X=as(X,Y),X.index=0,X.sibling=null,X}function _(X,Y,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<Y?(X.flags|=67108866,Y):ee):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function I(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function D(X,Y,ee,fe){return Y===null||Y.tag!==6?(Y=Ob(ee,X.mode,fe),Y.return=X,Y):(Y=v(Y,ee),Y.return=X,Y)}function G(X,Y,ee,fe){var ze=ee.type;return ze===E?ce(X,Y,ee.props.children,fe,ee.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&ql(ze)===Y.type)?(Y=v(Y,ee.props),jf(Y,ee),Y.return=X,Y):(Y=Dp(ee.type,ee.key,ee.props,null,X.mode,fe),jf(Y,ee),Y.return=X,Y)}function te(X,Y,ee,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Pb(ee,X.mode,fe),Y.return=X,Y):(Y=v(Y,ee.children||[]),Y.return=X,Y)}function ce(X,Y,ee,fe,ze){return Y===null||Y.tag!==7?(Y=Ll(ee,X.mode,fe,ze),Y.return=X,Y):(Y=v(Y,ee),Y.return=X,Y)}function he(X,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ob(""+Y,X.mode,ee),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return ee=Dp(Y.type,Y.key,Y.props,null,X.mode,ee),jf(ee,Y),ee.return=X,ee;case w:return Y=Pb(Y,X.mode,ee),Y.return=X,Y;case O:return Y=ql(Y),he(X,Y,ee)}if(we(Y)||F(Y))return Y=Ll(Y,X.mode,ee,null),Y.return=X,Y;if(typeof Y.then=="function")return he(X,Fp(Y),ee);if(Y.$$typeof===C)return he(X,Lp(X,Y),ee);qp(X,Y)}return null}function ne(X,Y,ee,fe){var ze=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ze!==null?null:D(X,Y,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===ze?G(X,Y,ee,fe):null;case w:return ee.key===ze?te(X,Y,ee,fe):null;case O:return ee=ql(ee),ne(X,Y,ee,fe)}if(we(ee)||F(ee))return ze!==null?null:ce(X,Y,ee,fe,null);if(typeof ee.then=="function")return ne(X,Y,Fp(ee),fe);if(ee.$$typeof===C)return ne(X,Y,Lp(X,ee),fe);qp(X,ee)}return null}function ae(X,Y,ee,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(ee)||null,D(Y,X,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return X=X.get(fe.key===null?ee:fe.key)||null,G(Y,X,fe,ze);case w:return X=X.get(fe.key===null?ee:fe.key)||null,te(Y,X,fe,ze);case O:return fe=ql(fe),ae(X,Y,ee,fe,ze)}if(we(fe)||F(fe))return X=X.get(ee)||null,ce(Y,X,fe,ze,null);if(typeof fe.then=="function")return ae(X,Y,ee,Fp(fe),ze);if(fe.$$typeof===C)return ae(X,Y,ee,Lp(Y,fe),ze);qp(Y,fe)}return null}function Oe(X,Y,ee,fe){for(var ze=null,lt=null,De=Y,Qe=Y=0,rt=null;De!==null&&Qe<ee.length;Qe++){De.index>Qe?(rt=De,De=null):rt=De.sibling;var ct=ne(X,De,ee[Qe],fe);if(ct===null){De===null&&(De=rt);break}a&&De&&ct.alternate===null&&o(X,De),Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct,De=rt}if(Qe===ee.length)return u(X,De),st&&ss(X,Qe),ze;if(De===null){for(;Qe<ee.length;Qe++)De=he(X,ee[Qe],fe),De!==null&&(Y=_(De,Y,Qe),lt===null?ze=De:lt.sibling=De,lt=De);return st&&ss(X,Qe),ze}for(De=h(De);Qe<ee.length;Qe++)rt=ae(De,X,Qe,ee[Qe],fe),rt!==null&&(a&&rt.alternate!==null&&De.delete(rt.key===null?Qe:rt.key),Y=_(rt,Y,Qe),lt===null?ze=rt:lt.sibling=rt,lt=rt);return a&&De.forEach(function(jo){return o(X,jo)}),st&&ss(X,Qe),ze}function qe(X,Y,ee,fe){if(ee==null)throw Error(r(151));for(var ze=null,lt=null,De=Y,Qe=Y=0,rt=null,ct=ee.next();De!==null&&!ct.done;Qe++,ct=ee.next()){De.index>Qe?(rt=De,De=null):rt=De.sibling;var jo=ne(X,De,ct.value,fe);if(jo===null){De===null&&(De=rt);break}a&&De&&jo.alternate===null&&o(X,De),Y=_(jo,Y,Qe),lt===null?ze=jo:lt.sibling=jo,lt=jo,De=rt}if(ct.done)return u(X,De),st&&ss(X,Qe),ze;if(De===null){for(;!ct.done;Qe++,ct=ee.next())ct=he(X,ct.value,fe),ct!==null&&(Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct);return st&&ss(X,Qe),ze}for(De=h(De);!ct.done;Qe++,ct=ee.next())ct=ae(De,X,Qe,ct.value,fe),ct!==null&&(a&&ct.alternate!==null&&De.delete(ct.key===null?Qe:ct.key),Y=_(ct,Y,Qe),lt===null?ze=ct:lt.sibling=ct,lt=ct);return a&&De.forEach(function(jU){return o(X,jU)}),st&&ss(X,Qe),ze}function kt(X,Y,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===E&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var ze=ee.key;Y!==null;){if(Y.key===ze){if(ze=ee.type,ze===E){if(Y.tag===7){u(X,Y.sibling),fe=v(Y,ee.props.children),fe.return=X,X=fe;break e}}else if(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&ql(ze)===Y.type){u(X,Y.sibling),fe=v(Y,ee.props),jf(fe,ee),fe.return=X,X=fe;break e}u(X,Y);break}else o(X,Y);Y=Y.sibling}ee.type===E?(fe=Ll(ee.props.children,X.mode,fe,ee.key),fe.return=X,X=fe):(fe=Dp(ee.type,ee.key,ee.props,null,X.mode,fe),jf(fe,ee),fe.return=X,X=fe)}return I(X);case w:e:{for(ze=ee.key;Y!==null;){if(Y.key===ze)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){u(X,Y.sibling),fe=v(Y,ee.children||[]),fe.return=X,X=fe;break e}else{u(X,Y);break}else o(X,Y);Y=Y.sibling}fe=Pb(ee,X.mode,fe),fe.return=X,X=fe}return I(X);case O:return ee=ql(ee),kt(X,Y,ee,fe)}if(we(ee))return Oe(X,Y,ee,fe);if(F(ee)){if(ze=F(ee),typeof ze!="function")throw Error(r(150));return ee=ze.call(ee),qe(X,Y,ee,fe)}if(typeof ee.then=="function")return kt(X,Y,Fp(ee),fe);if(ee.$$typeof===C)return kt(X,Y,Lp(X,ee),fe);qp(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(u(X,Y.sibling),fe=v(Y,ee),fe.return=X,X=fe):(u(X,Y),fe=Ob(ee,X.mode,fe),fe.return=X,X=fe),I(X)):u(X,Y)}return function(X,Y,ee,fe){try{Df=0;var ze=kt(X,Y,ee,fe);return xu=null,ze}catch(De){if(De===bu||De===Bp)throw De;var lt=Wr(29,De,null,X.mode);return lt.lanes=fe,lt.return=X,lt}}}var Hl=B2(!0),U2=B2(!1),bo=!1;function $b(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _o(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ft&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Mp(a),S2(a,null,u),o}return Rp(a,h,o,u),Mp(a)}function zf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}function Gb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=I:_=_.next=I,u=u.next}while(u!==null);_===null?v=_=o:_=_.next=o}else v=_=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Kb=!1;function Lf(){if(Kb){var a=vu;if(a!==null)throw a}}function Vf(a,o,u,h){Kb=!1;var v=a.updateQueue;bo=!1;var _=v.firstBaseUpdate,I=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var G=D,te=G.next;G.next=null,I===null?_=te:I.next=te,I=G;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==I&&(D===null?ce.firstBaseUpdate=te:D.next=te,ce.lastBaseUpdate=G))}if(_!==null){var he=v.baseState;I=0,ce=te=G=null,D=_;do{var ne=D.lane&-536870913,ae=ne!==D.lane;if(ae?(nt&ne)===ne:(h&ne)===ne){ne!==0&&ne===yu&&(Kb=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Oe=a,qe=D;ne=o;var kt=u;switch(qe.tag){case 1:if(Oe=qe.payload,typeof Oe=="function"){he=Oe.call(kt,he,ne);break e}he=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=qe.payload,ne=typeof Oe=="function"?Oe.call(kt,he,ne):Oe,ne==null)break e;he=p({},he,ne);break e;case 2:bo=!0}}ne=D.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(te=ce=ae,G=he):ce=ce.next=ae,I|=ne;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);ce===null&&(G=he),v.baseState=G,v.firstBaseUpdate=te,v.lastBaseUpdate=ce,_===null&&(v.shared.lanes=0),Ao|=I,a.lanes=I,a.memoizedState=he}}function F2(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function q2(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)F2(u[a],o)}var _u=H(null),$p=H(0);function $2(a,o){a=ys,oe($p,a),oe(_u,o),ys=a|o.baseLanes}function Yb(){oe($p,ys),oe(_u,_u.current)}function Wb(){ys=$p.current,K(_u),K($p)}var Xr=H(null),Ai=null;function wo(a){var o=a.alternate;oe(an,an.current&1),oe(Xr,a),Ai===null&&(o===null||_u.current!==null||o.memoizedState!==null)&&(Ai=a)}function Xb(a){oe(an,an.current),oe(Xr,a),Ai===null&&(Ai=a)}function H2(a){a.tag===22?(oe(an,an.current),oe(Xr,a),Ai===null&&(Ai=a)):Eo()}function Eo(){oe(an,an.current),oe(Xr,Xr.current)}function Qr(a){K(Xr),Ai===a&&(Ai=null),K(an)}var an=H(0);function Hp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||n1(u)||r1(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var cs=0,We=null,At=null,yn=null,Gp=!1,wu=!1,Gl=!1,Kp=0,Bf=0,Eu=null,AB=0;function Qt(){throw Error(r(321))}function Qb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Yr(a[u],o[u]))return!1;return!0}function Zb(a,o,u,h,v,_){return cs=_,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?kI:hx,Gl=!1,_=u(h,v),Gl=!1,wu&&(_=K2(o,u,h,v)),G2(a),_}function G2(a){W.H=qf;var o=At!==null&&At.next!==null;if(cs=0,yn=At=We=null,Gp=!1,Bf=0,Eu=null,o)throw Error(r(300));a===null||vn||(a=a.dependencies,a!==null&&zp(a)&&(vn=!0))}function K2(a,o,u,h){We=a;var v=0;do{if(wu&&(Eu=null),Bf=0,wu=!1,25<=v)throw Error(r(301));if(v+=1,yn=At=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}W.H=CI,_=o(u,h)}while(wu);return _}function IB(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?Uf(o):o,a=a.useState()[0],(At!==null?At.memoizedState:null)!==a&&(We.flags|=1024),o}function Jb(){var a=Kp!==0;return Kp=0,a}function ex(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function tx(a){if(Gp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Gp=!1}cs=0,yn=At=We=null,wu=!1,Bf=Kp=0,Eu=null}function Er(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?We.memoizedState=yn=a:yn=yn.next=a,yn}function sn(){if(At===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var o=yn===null?We.memoizedState:yn.next;if(o!==null)yn=o,At=a;else{if(a===null)throw We.alternate===null?Error(r(467)):Error(r(310));At=a,a={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},yn===null?We.memoizedState=yn=a:yn=yn.next=a}return yn}function Yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uf(a){var o=Bf;return Bf+=1,Eu===null&&(Eu=[]),a=z2(Eu,a,o),o=We,(yn===null?o.memoizedState:yn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?kI:hx),a}function Wp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Uf(a);if(a.$$typeof===C)return er(a)}throw Error(r(438,String(a)))}function nx(a){var o=null,u=We.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Yp(),We.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function us(a,o){return typeof o=="function"?o(a):o}function Xp(a){var o=sn();return rx(o,At,a)}function rx(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,_=h.pending;if(_!==null){if(v!==null){var I=v.next;v.next=_.next,_.next=I}o.baseQueue=v=_,h.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{o=v.next;var D=I=null,G=null,te=o,ce=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(nt&he)===he:(cs&he)===he){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===yu&&(ce=!0);else if((cs&ne)===ne){te=te.next,ne===yu&&(ce=!0);continue}else he={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=he,I=_):G=G.next=he,We.lanes|=ne,Ao|=ne;he=te.action,Gl&&u(_,he),_=te.hasEagerState?te.eagerState:u(_,he)}else ne={lane:he,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=ne,I=_):G=G.next=ne,We.lanes|=he,Ao|=he;te=te.next}while(te!==null&&te!==o);if(G===null?I=_:G.next=D,!Yr(_,a.memoizedState)&&(vn=!0,ce&&(u=vu,u!==null)))throw u;a.memoizedState=_,a.baseState=I,a.baseQueue=G,h.lastRenderedState=_}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function ix(a){var o=sn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,_=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do _=a(_,I.action),I=I.next;while(I!==v);Yr(_,o.memoizedState)||(vn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,h]}function Y2(a,o,u){var h=We,v=sn(),_=st;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Yr((At||v).memoizedState,u);if(I&&(v.memoizedState=u,vn=!0),v=v.queue,ox(Q2.bind(null,h,v,a),[a]),v.getSnapshot!==o||I||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,Su(9,{destroy:void 0},X2.bind(null,h,v,u,o),null),Nt===null)throw Error(r(349));_||(cs&127)!==0||W2(h,o,u)}return u}function W2(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=We.updateQueue,o===null?(o=Yp(),We.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function X2(a,o,u,h){o.value=u,o.getSnapshot=h,Z2(o)&&J2(a)}function Q2(a,o,u){return u(function(){Z2(o)&&J2(a)})}function Z2(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Yr(a,u)}catch{return!0}}function J2(a){var o=zl(a,2);o!==null&&jr(o,a,2)}function ax(a){var o=Er();if(typeof a=="function"){var u=a;if(a=u(),Gl){xr(!0);try{u()}finally{xr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},o}function eI(a,o,u,h){return a.baseState=u,rx(a,At,typeof h=="function"?h:us)}function kB(a,o,u,h,v){if(Jp(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};W.T!==null?u(!0):_.isTransition=!1,h(_),u=o.pending,u===null?(_.next=o.pending=_,tI(o,_)):(_.next=u.next,o.pending=u.next=_)}}function tI(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var _=W.T,I={};W.T=I;try{var D=u(v,h),G=W.S;G!==null&&G(I,D),nI(a,o,D)}catch(te){sx(a,o,te)}finally{_!==null&&I.types!==null&&(_.types=I.types),W.T=_}}else try{_=u(v,h),nI(a,o,_)}catch(te){sx(a,o,te)}}function nI(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){rI(a,o,h)},function(h){return sx(a,o,h)}):rI(a,o,u)}function rI(a,o,u){o.status="fulfilled",o.value=u,iI(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,tI(a,u)))}function sx(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,iI(o),o=o.next;while(o!==h)}a.action=null}function iI(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function aI(a,o){return o}function sI(a,o){if(st){var u=Nt.formState;if(u!==null){e:{var h=We;if(st){if(jt){t:{for(var v=jt,_=Ti;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ii(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){jt=Ii(v.nextSibling),h=v.data==="F!";break e}}yo(h)}h=!1}h&&(o=u[0])}}return u=Er(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aI,lastRenderedState:o},u.queue=h,u=TI.bind(null,We,h),h.dispatch=u,h=ax(!1),_=fx.bind(null,We,!1,h.queue),h=Er(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=kB.bind(null,We,v,_,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function oI(a){var o=sn();return lI(o,At,a)}function lI(a,o,u){if(o=rx(a,o,aI)[0],a=Xp(us)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Uf(o)}catch(I){throw I===bu?Bp:I}else h=o;o=sn();var v=o.queue,_=v.dispatch;return u!==o.memoizedState&&(We.flags|=2048,Su(9,{destroy:void 0},CB.bind(null,v,u),null)),[h,_,a]}function CB(a,o){a.action=o}function cI(a){var o=sn(),u=At;if(u!==null)return lI(o,u,a);sn(),o=o.memoizedState,u=sn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function Su(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=Yp(),We.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function uI(){return sn().memoizedState}function Qp(a,o,u,h){var v=Er();We.flags|=a,v.memoizedState=Su(1|o,{destroy:void 0},u,h===void 0?null:h)}function Zp(a,o,u,h){var v=sn();h=h===void 0?null:h;var _=v.memoizedState.inst;At!==null&&h!==null&&Qb(h,At.memoizedState.deps)?v.memoizedState=Su(o,_,u,h):(We.flags|=a,v.memoizedState=Su(1|o,_,u,h))}function dI(a,o){Qp(8390656,8,a,o)}function ox(a,o){Zp(2048,8,a,o)}function NB(a){We.flags|=4;var o=We.updateQueue;if(o===null)o=Yp(),We.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function fI(a){var o=sn().memoizedState;return NB({ref:o,nextImpl:a}),function(){if((ft&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function hI(a,o){return Zp(4,2,a,o)}function mI(a,o){return Zp(4,4,a,o)}function pI(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gI(a,o,u){u=u!=null?u.concat([a]):null,Zp(4,4,pI.bind(null,o,a),u)}function lx(){}function yI(a,o){var u=sn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Qb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function vI(a,o){var u=sn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Qb(o,h[1]))return h[0];if(h=a(),Gl){xr(!0);try{a()}finally{xr(!1)}}return u.memoizedState=[h,o],h}function cx(a,o,u){return u===void 0||(cs&1073741824)!==0&&(nt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=bk(),We.lanes|=a,Ao|=a,u)}function bI(a,o,u,h){return Yr(u,o)?u:_u.current!==null?(a=cx(a,u,h),Yr(a,o)||(vn=!0),a):(cs&42)===0||(cs&1073741824)!==0&&(nt&261930)===0?(vn=!0,a.memoizedState=u):(a=bk(),We.lanes|=a,Ao|=a,o)}function xI(a,o,u,h,v){var _=re.p;re.p=_!==0&&8>_?_:8;var I=W.T,D={};W.T=D,fx(a,!1,o,u);try{var G=v(),te=W.S;if(te!==null&&te(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=TB(G,h);Ff(a,o,ce,ei(a))}else Ff(a,o,h,ei(a))}catch(he){Ff(a,o,{then:function(){},status:"rejected",reason:he},ei())}finally{re.p=_,I!==null&&D.types!==null&&(I.types=D.types),W.T=I}}function OB(){}function ux(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=_I(a).queue;xI(a,v,o,$,u===null?OB:function(){return wI(a),u(h)})}function _I(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function wI(a){var o=_I(a);o.next===null&&(o=a.alternate.memoizedState),Ff(a,o.next.queue,{},ei())}function dx(){return er(ah)}function EI(){return sn().memoizedState}function SI(){return sn().memoizedState}function PB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ei();a=xo(u);var h=_o(o,a,u);h!==null&&(jr(h,o,u),zf(h,o,u)),o={cache:Bb()},a.payload=o;return}o=o.return}}function RB(a,o,u){var h=ei();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jp(a)?AI(o,u):(u=Cb(a,o,u,h),u!==null&&(jr(u,a,h),II(u,o,h)))}function TI(a,o,u){var h=ei();Ff(a,o,u,h)}function Ff(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jp(a))AI(o,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,D=_(I,u);if(v.hasEagerState=!0,v.eagerState=D,Yr(D,I))return Rp(a,o,v,0),Nt===null&&Pp(),!1}catch{}if(u=Cb(a,o,v,h),u!==null)return jr(u,a,h),II(u,o,h),!0}return!1}function fx(a,o,u,h){if(h={lane:2,revertLane:$x(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jp(a)){if(o)throw Error(r(479))}else o=Cb(a,u,h,2),o!==null&&jr(o,a,2)}function Jp(a){var o=a.alternate;return a===We||o!==null&&o===We}function AI(a,o){wu=Gp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function II(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}var qf={readContext:er,use:Wp,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};qf.useEffectEvent=Qt;var kI={readContext:er,use:Wp,useCallback:function(a,o){return Er().memoizedState=[a,o===void 0?null:o],a},useContext:er,useEffect:dI,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Qp(4194308,4,pI.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Qp(4194308,4,a,o)},useInsertionEffect:function(a,o){Qp(4,2,a,o)},useMemo:function(a,o){var u=Er();o=o===void 0?null:o;var h=a();if(Gl){xr(!0);try{a()}finally{xr(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=Er();if(u!==void 0){var v=u(o);if(Gl){xr(!0);try{u(o)}finally{xr(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=RB.bind(null,We,a),[h.memoizedState,a]},useRef:function(a){var o=Er();return a={current:a},o.memoizedState=a},useState:function(a){a=ax(a);var o=a.queue,u=TI.bind(null,We,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:lx,useDeferredValue:function(a,o){var u=Er();return cx(u,a,o)},useTransition:function(){var a=ax(!1);return a=xI.bind(null,We,a.queue,!0,!1),Er().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=We,v=Er();if(st){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Nt===null)throw Error(r(349));(nt&127)!==0||W2(h,o,u)}v.memoizedState=u;var _={value:u,getSnapshot:o};return v.queue=_,dI(Q2.bind(null,h,_,a),[a]),h.flags|=2048,Su(9,{destroy:void 0},X2.bind(null,h,_,u,o),null),u},useId:function(){var a=Er(),o=Nt.identifierPrefix;if(st){var u=Oa,h=Na;u=(h&~(1<<32-Bt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Kp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=AB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:dx,useFormState:sI,useActionState:sI,useOptimistic:function(a){var o=Er();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=fx.bind(null,We,!0,u),u.dispatch=o,[a,o]},useMemoCache:nx,useCacheRefresh:function(){return Er().memoizedState=PB.bind(null,We)},useEffectEvent:function(a){var o=Er(),u={impl:a};return o.memoizedState=u,function(){if((ft&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},hx={readContext:er,use:Wp,useCallback:yI,useContext:er,useEffect:ox,useImperativeHandle:gI,useInsertionEffect:hI,useLayoutEffect:mI,useMemo:vI,useReducer:Xp,useRef:uI,useState:function(){return Xp(us)},useDebugValue:lx,useDeferredValue:function(a,o){var u=sn();return bI(u,At.memoizedState,a,o)},useTransition:function(){var a=Xp(us)[0],o=sn().memoizedState;return[typeof a=="boolean"?a:Uf(a),o]},useSyncExternalStore:Y2,useId:EI,useHostTransitionStatus:dx,useFormState:oI,useActionState:oI,useOptimistic:function(a,o){var u=sn();return eI(u,At,a,o)},useMemoCache:nx,useCacheRefresh:SI};hx.useEffectEvent=fI;var CI={readContext:er,use:Wp,useCallback:yI,useContext:er,useEffect:ox,useImperativeHandle:gI,useInsertionEffect:hI,useLayoutEffect:mI,useMemo:vI,useReducer:ix,useRef:uI,useState:function(){return ix(us)},useDebugValue:lx,useDeferredValue:function(a,o){var u=sn();return At===null?cx(u,a,o):bI(u,At.memoizedState,a,o)},useTransition:function(){var a=ix(us)[0],o=sn().memoizedState;return[typeof a=="boolean"?a:Uf(a),o]},useSyncExternalStore:Y2,useId:EI,useHostTransitionStatus:dx,useFormState:cI,useActionState:cI,useOptimistic:function(a,o){var u=sn();return At!==null?eI(u,At,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:nx,useCacheRefresh:SI};CI.useEffectEvent=fI;function mx(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var px={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ei(),v=xo(h);v.payload=o,u!=null&&(v.callback=u),o=_o(a,v,h),o!==null&&(jr(o,a,h),zf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ei(),v=xo(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=_o(a,v,h),o!==null&&(jr(o,a,h),zf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ei(),h=xo(u);h.tag=2,o!=null&&(h.callback=o),o=_o(a,h,u),o!==null&&(jr(o,a,u),zf(o,a,u))}};function NI(a,o,u,h,v,_,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,_,I):o.prototype&&o.prototype.isPureReactComponent?!Cf(u,h)||!Cf(v,_):!0}function OI(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&px.enqueueReplaceState(o,o.state,null)}function Kl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function PI(a){Op(a)}function RI(a){console.error(a)}function MI(a){Op(a)}function eg(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function DI(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function gx(a,o,u){return u=xo(u),u.tag=3,u.payload={element:null},u.callback=function(){eg(a,o)},u}function jI(a){return a=xo(a),a.tag=3,a}function zI(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;a.payload=function(){return v(_)},a.callback=function(){DI(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){DI(o,u,h),typeof v!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function MB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&gu(o,u,v,!0),u=Xr.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?fg():u.alternate===null&&Zt===0&&(Zt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Up?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Ux(a,h,v)),!1;case 22:return u.flags|=65536,h===Up?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Ux(a,h,v)),!1}throw Error(r(435,u.tag))}return Ux(a,h,v),fg(),!1}if(st)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Db&&(a=Error(r(422),{cause:h}),Pf(wi(a,u)))):(h!==Db&&(o=Error(r(423),{cause:h}),Pf(wi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=wi(h,u),v=gx(a.stateNode,h,v),Gb(a,v),Zt!==4&&(Zt=2)),!1;var _=Error(r(520),{cause:h});if(_=wi(_,u),Qf===null?Qf=[_]:Qf.push(_),Zt!==4&&(Zt=2),o===null)return!0;h=wi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=gx(u.stateNode,h,a),Gb(u,a),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Io===null||!Io.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=jI(v),zI(v,a,u,h),Gb(u,v),!1}u=u.return}while(u!==null);return!1}var yx=Error(r(461)),vn=!1;function tr(a,o,u,h){o.child=a===null?U2(o,null,u,h):Hl(o,a.child,u,h)}function LI(a,o,u,h,v){u=u.render;var _=o.ref;if("ref"in h){var I={};for(var D in h)D!=="ref"&&(I[D]=h[D])}else I=h;return Ul(o),h=Zb(a,o,u,I,_,v),D=Jb(),a!==null&&!vn?(ex(a,o,v),ds(a,o,v)):(st&&D&&Rb(o),o.flags|=1,tr(a,o,h,v),o.child)}function VI(a,o,u,h,v){if(a===null){var _=u.type;return typeof _=="function"&&!Nb(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,BI(a,o,_,h,v)):(a=Dp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Tx(a,v)){var I=_.memoizedProps;if(u=u.compare,u=u!==null?u:Cf,u(I,h)&&a.ref===o.ref)return ds(a,o,v)}return o.flags|=1,a=as(_,h),a.ref=o.ref,a.return=o,o.child=a}function BI(a,o,u,h,v){if(a!==null){var _=a.memoizedProps;if(Cf(_,h)&&a.ref===o.ref)if(vn=!1,o.pendingProps=h=_,Tx(a,v))(a.flags&131072)!==0&&(vn=!0);else return o.lanes=a.lanes,ds(a,o,v)}return vx(a,o,u,h,v)}function UI(a,o,u,h){var v=h.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~_}else h=0,o.child=null;return FI(a,o,_,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vp(o,_!==null?_.cachePool:null),_!==null?$2(o,_):Yb(),H2(o);else return h=o.lanes=536870912,FI(a,o,_!==null?_.baseLanes|u:u,u,h)}else _!==null?(Vp(o,_.cachePool),$2(o,_),Eo(),o.memoizedState=null):(a!==null&&Vp(o,null),Yb(),Eo());return tr(a,o,v,u),o.child}function $f(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function FI(a,o,u,h,v){var _=Fb();return _=_===null?null:{parent:gn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},a!==null&&Vp(o,null),Yb(),H2(o),a!==null&&gu(a,o,h,!0),o.childLanes=v,null}function tg(a,o){return o=rg({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function qI(a,o,u){return Hl(o,a.child,null,u),a=tg(o,o.pendingProps),a.flags|=2,Qr(o),o.memoizedState=null,a}function DB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(st){if(h.mode==="hidden")return a=tg(o,h),o.lanes=536870912,$f(null,a);if(Xb(o),(a=jt)?(a=tC(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:po!==null?{id:Na,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},u=A2(a),u.return=o,o.child=u,Jn=o,jt=null)):a=null,a===null)throw yo(o);return o.lanes=536870912,null}return tg(o,h)}var _=a.memoizedState;if(_!==null){var I=_.dehydrated;if(Xb(o),v)if(o.flags&256)o.flags&=-257,o=qI(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(vn||gu(a,o,u,!1),v=(u&a.childLanes)!==0,vn||v){if(h=Nt,h!==null&&(I=Xn(h,u),I!==0&&I!==_.retryLane))throw _.retryLane=I,zl(a,I),jr(h,a,I),yx;fg(),o=qI(a,o,u)}else a=_.treeContext,jt=Ii(I.nextSibling),Jn=o,st=!0,go=null,Ti=!1,a!==null&&C2(o,a),o=tg(o,h),o.flags|=4096;return o}return a=as(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function ng(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function vx(a,o,u,h,v){return Ul(o),u=Zb(a,o,u,h,void 0,v),h=Jb(),a!==null&&!vn?(ex(a,o,v),ds(a,o,v)):(st&&h&&Rb(o),o.flags|=1,tr(a,o,u,v),o.child)}function $I(a,o,u,h,v,_){return Ul(o),o.updateQueue=null,u=K2(o,h,u,v),G2(a),h=Jb(),a!==null&&!vn?(ex(a,o,_),ds(a,o,_)):(st&&h&&Rb(o),o.flags|=1,tr(a,o,u,_),o.child)}function HI(a,o,u,h,v){if(Ul(o),o.stateNode===null){var _=fu,I=u.contextType;typeof I=="object"&&I!==null&&(_=er(I)),_=new u(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=px,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},$b(o),I=u.contextType,_.context=typeof I=="object"&&I!==null?er(I):fu,_.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(mx(o,u,I,h),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&px.enqueueReplaceState(_,_.state,null),Vf(o,h,_,v),Lf(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){_=o.stateNode;var D=o.memoizedProps,G=Kl(u,D);_.props=G;var te=_.context,ce=u.contextType;I=fu,typeof ce=="object"&&ce!==null&&(I=er(ce));var he=u.getDerivedStateFromProps;ce=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ce||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||te!==I)&&OI(o,_,h,I),bo=!1;var ne=o.memoizedState;_.state=ne,Vf(o,h,_,v),Lf(),te=o.memoizedState,D||ne!==te||bo?(typeof he=="function"&&(mx(o,u,he,h),te=o.memoizedState),(G=bo||NI(o,u,G,h,ne,te,I))?(ce||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=te),_.props=h,_.state=te,_.context=I,h=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Hb(a,o),I=o.memoizedProps,ce=Kl(u,I),_.props=ce,he=o.pendingProps,ne=_.context,te=u.contextType,G=fu,typeof te=="object"&&te!==null&&(G=er(te)),D=u.getDerivedStateFromProps,(te=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==he||ne!==G)&&OI(o,_,h,G),bo=!1,ne=o.memoizedState,_.state=ne,Vf(o,h,_,v),Lf();var ae=o.memoizedState;I!==he||ne!==ae||bo||a!==null&&a.dependencies!==null&&zp(a.dependencies)?(typeof D=="function"&&(mx(o,u,D,h),ae=o.memoizedState),(ce=bo||NI(o,u,ce,h,ne,ae,G)||a!==null&&a.dependencies!==null&&zp(a.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ae,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ae,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),_.props=h,_.state=ae,_.context=G,h=ce):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),h=!1)}return _=h,ng(a,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&h?(o.child=Hl(o,a.child,null,v),o.child=Hl(o,null,u,v)):tr(a,o,u,v),o.memoizedState=_.state,a=o.child):a=ds(a,o,v),a}function GI(a,o,u,h){return Vl(),o.flags|=256,tr(a,o,u,h),o.child}var bx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xx(a){return{baseLanes:a,cachePool:D2()}}function _x(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Jr),a}function KI(a,o,u){var h=o.pendingProps,v=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=a!==null&&a.memoizedState===null?!1:(an.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(st){if(v?wo(o):Eo(),(a=jt)?(a=tC(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:po!==null?{id:Na,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},u=A2(a),u.return=o,o.child=u,Jn=o,jt=null)):a=null,a===null)throw yo(o);return r1(a)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,v?(Eo(),v=o.mode,D=rg({mode:"hidden",children:D},v),h=Ll(h,v,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=xx(u),h.childLanes=_x(a,I,u),o.memoizedState=bx,$f(null,h)):(wo(o),wx(o,D))}var G=a.memoizedState;if(G!==null&&(D=G.dehydrated,D!==null)){if(_)o.flags&256?(wo(o),o.flags&=-257,o=Ex(a,o,u)):o.memoizedState!==null?(Eo(),o.child=a.child,o.flags|=128,o=null):(Eo(),D=h.fallback,v=o.mode,h=rg({mode:"visible",children:h.children},v),D=Ll(D,v,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,Hl(o,a.child,null,u),h=o.child,h.memoizedState=xx(u),h.childLanes=_x(a,I,u),o.memoizedState=bx,o=$f(null,h));else if(wo(o),r1(D)){if(I=D.nextSibling&&D.nextSibling.dataset,I)var te=I.dgst;I=te,h=Error(r(419)),h.stack="",h.digest=I,Pf({value:h,source:null,stack:null}),o=Ex(a,o,u)}else if(vn||gu(a,o,u,!1),I=(u&a.childLanes)!==0,vn||I){if(I=Nt,I!==null&&(h=Xn(I,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,zl(a,h),jr(I,a,h),yx;n1(D)||fg(),o=Ex(a,o,u)}else n1(D)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,jt=Ii(D.nextSibling),Jn=o,st=!0,go=null,Ti=!1,a!==null&&C2(o,a),o=wx(o,h.children),o.flags|=4096);return o}return v?(Eo(),D=h.fallback,v=o.mode,G=a.child,te=G.sibling,h=as(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,te!==null?D=as(te,D):(D=Ll(D,v,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,$f(null,h),h=o.child,D=a.child.memoizedState,D===null?D=xx(u):(v=D.cachePool,v!==null?(G=gn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=D2(),D={baseLanes:D.baseLanes|u,cachePool:v}),h.memoizedState=D,h.childLanes=_x(a,I,u),o.memoizedState=bx,$f(a.child,h)):(wo(o),u=a.child,a=u.sibling,u=as(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function wx(a,o){return o=rg({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function rg(a,o){return a=Wr(22,a,null,o),a.lanes=0,a}function Ex(a,o,u){return Hl(o,a.child,null,u),a=wx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function YI(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Lb(a.return,o,u)}function Sx(a,o,u,h,v,_){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:_}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=v,I.treeForkCount=_)}function WI(a,o,u){var h=o.pendingProps,v=h.revealOrder,_=h.tail;h=h.children;var I=an.current,D=(I&2)!==0;if(D?(I=I&1|2,o.flags|=128):I&=1,oe(an,I),tr(a,o,h,u),h=st?Of:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&YI(a,u,o);else if(a.tag===19)YI(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Hp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Sx(o,!1,v,u,_,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Sx(o,!0,u,null,_,h);break;case"together":Sx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ds(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Ao|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(gu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=as(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=as(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Tx(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&zp(a)))}function jB(a,o,u){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),vo(o,gn,a.memoizedState.cache),Vl();break;case 27:case 5:Ae(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:vo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Xb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(wo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?KI(a,o,u):(wo(o),a=ds(a,o,u),a!==null?a.sibling:null);wo(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(gu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return WI(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(an,an.current),h)break;return null;case 22:return o.lanes=0,UI(a,o,u,o.pendingProps);case 24:vo(o,gn,a.memoizedState.cache)}return ds(a,o,u)}function XI(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)vn=!0;else{if(!Tx(a,u)&&(o.flags&128)===0)return vn=!1,jB(a,o,u);vn=(a.flags&131072)!==0}else vn=!1,st&&(o.flags&1048576)!==0&&k2(o,Of,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=ql(o.elementType),o.type=a,typeof a=="function")Nb(a)?(h=Kl(a,h),o.tag=1,o=HI(null,o,a,h,u)):(o.tag=0,o=vx(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===j){o.tag=11,o=LI(null,o,a,h,u);break e}else if(v===R){o.tag=14,o=VI(null,o,a,h,u);break e}}throw o=_e(a)||a,Error(r(306,o,""))}}return o;case 0:return vx(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Kl(h,o.pendingProps),HI(a,o,h,v,u);case 3:e:{if(Ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;v=_.element,Hb(a,o),Vf(o,h,null,u);var I=o.memoizedState;if(h=I.cache,vo(o,gn,h),h!==_.cache&&Vb(o,[gn],u,!0),Lf(),h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=GI(a,o,h,u);break e}else if(h!==v){v=wi(Error(r(424)),o),Pf(v),o=GI(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,jt=Ii(a.firstChild),Jn=o,st=!0,go=null,Ti=!0,u=U2(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Vl(),h===v){o=ds(a,o,u);break e}tr(a,o,h,u)}o=o.child}return o;case 26:return ng(a,o),a===null?(u=oC(o.type,null,o.pendingProps,null))?o.memoizedState=u:st||(u=o.type,a=o.pendingProps,h=bg(ke.current).createElement(u),h[hn]=o,h[zn]=a,nr(h,u,a),mn(h),o.stateNode=h):o.memoizedState=oC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ae(o),a===null&&st&&(h=o.stateNode=iC(o.type,o.pendingProps,ke.current),Jn=o,Ti=!0,v=jt,Oo(o.type)?(i1=v,jt=Ii(h.firstChild)):jt=v),tr(a,o,o.pendingProps.children,u),ng(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&st&&((v=h=jt)&&(h=fU(h,o.type,o.pendingProps,Ti),h!==null?(o.stateNode=h,Jn=o,jt=Ii(h.firstChild),Ti=!1,v=!0):v=!1),v||yo(o)),Ae(o),v=o.type,_=o.pendingProps,I=a!==null?a.memoizedProps:null,h=_.children,Jx(v,_)?h=null:I!==null&&Jx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=Zb(a,o,IB,null,null,u),ah._currentValue=v),ng(a,o),tr(a,o,h,u),o.child;case 6:return a===null&&st&&((a=u=jt)&&(u=hU(u,o.pendingProps,Ti),u!==null?(o.stateNode=u,Jn=o,jt=null,a=!0):a=!1),a||yo(o)),null;case 13:return KI(a,o,u);case 4:return Ve(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Hl(o,null,h,u):tr(a,o,h,u),o.child;case 11:return LI(a,o,o.type,o.pendingProps,u);case 7:return tr(a,o,o.pendingProps,u),o.child;case 8:return tr(a,o,o.pendingProps.children,u),o.child;case 12:return tr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,vo(o,o.type,h.value),tr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Ul(o),v=er(v),h=h(v),o.flags|=1,tr(a,o,h,u),o.child;case 14:return VI(a,o,o.type,o.pendingProps,u);case 15:return BI(a,o,o.type,o.pendingProps,u);case 19:return WI(a,o,u);case 31:return DB(a,o,u);case 22:return UI(a,o,u,o.pendingProps);case 24:return Ul(o),h=er(gn),a===null?(v=Fb(),v===null&&(v=Nt,_=Bb(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),o.memoizedState={parent:h,cache:v},$b(o),vo(o,gn,v)):((a.lanes&u)!==0&&(Hb(a,o),Vf(o,null,null,u),Lf()),v=a.memoizedState,_=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),vo(o,gn,h)):(h=_.cache,vo(o,gn,h),h!==v.cache&&Vb(o,[gn],u,!0))),tr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function fs(a){a.flags|=4}function Ax(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Ek())a.flags|=8192;else throw $l=Up,qb}else a.flags&=-16777217}function QI(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!fC(o))if(Ek())a.flags|=8192;else throw $l=Up,qb}function ig(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?jn():536870912,a.lanes|=o,ku|=o)}function Hf(a,o){if(!st)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function zt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function zB(a,o,u){var h=o.pendingProps;switch(Mb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ls(gn),Z(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(pu(o)?fs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jb())),zt(o),null;case 26:var v=o.type,_=o.memoizedState;return a===null?(fs(o),_!==null?(zt(o),QI(o,_)):(zt(o),Ax(o,v,null,h,u))):_?_!==a.memoizedState?(fs(o),zt(o),QI(o,_)):(zt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&fs(o),zt(o),Ax(o,v,a,h,u)),null;case 27:if(Be(o),u=ke.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&fs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}a=de.current,pu(o)?N2(o):(a=iC(v,h,u),o.stateNode=a,fs(o))}return zt(o),null;case 5:if(Be(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&fs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(_=de.current,pu(o))N2(o);else{var I=bg(ke.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}_[hn]=o,_[zn]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=_;e:switch(nr(_,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&fs(o)}}return zt(o),Ax(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&fs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ke.current,pu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=Jn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[hn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Kk(a.nodeValue,u)),a||yo(o,!0)}else a=bg(a).createTextNode(h),a[hn]=o,o.stateNode=a}return zt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=pu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[hn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),a=!1}else u=jb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Qr(o),o):(Qr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return zt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=pu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[hn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),v=!1}else v=jb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Qr(o),o):(Qr(o),null)}return Qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),ig(o,o.updateQueue),zt(o),null);case 4:return Z(),a===null&&Yx(o.stateNode.containerInfo),zt(o),null;case 10:return ls(o.type),zt(o),null;case 19:if(K(an),h=o.memoizedState,h===null)return zt(o),null;if(v=(o.flags&128)!==0,_=h.rendering,_===null)if(v)Hf(h,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=Hp(a),_!==null){for(o.flags|=128,Hf(h,!1),a=_.updateQueue,o.updateQueue=a,ig(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)T2(u,a),u=u.sibling;return oe(an,an.current&1|2),st&&ss(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Yn()>cg&&(o.flags|=128,v=!0,Hf(h,!1),o.lanes=4194304)}else{if(!v)if(a=Hp(_),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,ig(o,a),Hf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!st)return zt(o),null}else 2*Yn()-h.renderingStartTime>cg&&u!==536870912&&(o.flags|=128,v=!0,Hf(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(a=h.last,a!==null?a.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Yn(),a.sibling=null,u=an.current,oe(an,v?u&1|2:u&1),st&&ss(o,h.treeForkCount),a):(zt(o),null);case 22:case 23:return Qr(o),Wb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),u=o.updateQueue,u!==null&&ig(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&K(Fl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ls(gn),zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function LB(a,o){switch(Mb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ls(gn),Z(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 31:if(o.memoizedState!==null){if(Qr(o),o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Qr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(an),null;case 4:return Z(),null;case 10:return ls(o.type),null;case 22:case 23:return Qr(o),Wb(),a!==null&&K(Fl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ls(gn),null;case 25:return null;default:return null}}function ZI(a,o){switch(Mb(o),o.tag){case 3:ls(gn),Z();break;case 26:case 27:case 5:Be(o);break;case 4:Z();break;case 31:o.memoizedState!==null&&Qr(o);break;case 13:Qr(o);break;case 19:K(an);break;case 10:ls(o.type);break;case 22:case 23:Qr(o),Wb(),a!==null&&K(Fl);break;case 24:ls(gn)}}function Gf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var _=u.create,I=u.inst;h=_(),I.destroy=h}u=u.next}while(u!==v)}}catch(D){vt(o,o.return,D)}}function So(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&a)===a){var I=h.inst,D=I.destroy;if(D!==void 0){I.destroy=void 0,v=o;var G=u,te=D;try{te()}catch(ce){vt(v,G,ce)}}}h=h.next}while(h!==_)}}catch(ce){vt(o,o.return,ce)}}function JI(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{q2(o,u)}catch(h){vt(a,a.return,h)}}}function ek(a,o,u){u.props=Kl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){vt(a,o,h)}}function Kf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){vt(a,o,v)}}function Pa(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){vt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){vt(a,o,v)}else u.current=null}function tk(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){vt(a,a.return,v)}}function Ix(a,o,u){try{var h=a.stateNode;sU(h,a.type,u,o),h[zn]=o}catch(v){vt(a,a.return,v)}}function nk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Oo(a.type)||a.tag===4}function kx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Oo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cx(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Gi));else if(h!==4&&(h===27&&Oo(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Cx(a,o,u),a=a.sibling;a!==null;)Cx(a,o,u),a=a.sibling}function ag(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Oo(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(ag(a,o,u),a=a.sibling;a!==null;)ag(a,o,u),a=a.sibling}function rk(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,h,u),o[hn]=a,o[zn]=u}catch(_){vt(a,a.return,_)}}var hs=!1,bn=!1,Nx=!1,ik=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function VB(a,o){if(a=a.containerInfo,Qx=Ag,a=g2(a),Eb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var I=0,D=-1,G=-1,te=0,ce=0,he=a,ne=null;t:for(;;){for(var ae;he!==u||v!==0&&he.nodeType!==3||(D=I+v),he!==_||h!==0&&he.nodeType!==3||(G=I+h),he.nodeType===3&&(I+=he.nodeValue.length),(ae=he.firstChild)!==null;)ne=he,he=ae;for(;;){if(he===a)break t;if(ne===u&&++te===v&&(D=I),ne===_&&++ce===h&&(G=I),(ae=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ae}u=D===-1||G===-1?null:{start:D,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Zx={focusedElem:a,selectionRange:u},Ag=!1,Vn=o;Vn!==null;)if(o=Vn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Vn=a;else for(;Vn!==null;){switch(o=Vn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=o,v=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var Oe=Kl(u.type,v);a=h.getSnapshotBeforeUpdate(Oe,_),h.__reactInternalSnapshotBeforeUpdate=a}catch(qe){vt(u,u.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)t1(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":t1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Vn=a;break}Vn=o.return}}function ak(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ps(a,u),h&4&&Gf(5,u);break;case 1:if(ps(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){vt(u,u.return,I)}else{var v=Kl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){vt(u,u.return,I)}}h&64&&JI(u),h&512&&Kf(u,u.return);break;case 3:if(ps(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{q2(a,o)}catch(I){vt(u,u.return,I)}}break;case 27:o===null&&h&4&&rk(u);case 26:case 5:ps(a,u),o===null&&h&4&&tk(u),h&512&&Kf(u,u.return);break;case 12:ps(a,u);break;case 31:ps(a,u),h&4&&lk(a,u);break;case 13:ps(a,u),h&4&&ck(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=YB.bind(null,u),mU(a,u))));break;case 22:if(h=u.memoizedState!==null||hs,!h){o=o!==null&&o.memoizedState!==null||bn,v=hs;var _=bn;hs=h,(bn=o)&&!_?gs(a,u,(u.subtreeFlags&8772)!==0):ps(a,u),hs=v,bn=_}break;case 30:break;default:ps(a,u)}}function sk(a){var o=a.alternate;o!==null&&(a.alternate=null,sk(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Zc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ft=null,Pr=!1;function ms(a,o,u){for(u=u.child;u!==null;)ok(a,o,u),u=u.sibling}function ok(a,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(qr,u)}catch{}switch(u.tag){case 26:bn||Pa(u,o),ms(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:bn||Pa(u,o);var h=Ft,v=Pr;Oo(u.type)&&(Ft=u.stateNode,Pr=!1),ms(a,o,u),nh(u.stateNode),Ft=h,Pr=v;break;case 5:bn||Pa(u,o);case 6:if(h=Ft,v=Pr,Ft=null,ms(a,o,u),Ft=h,Pr=v,Ft!==null)if(Pr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(u.stateNode)}catch(_){vt(u,o,_)}else try{Ft.removeChild(u.stateNode)}catch(_){vt(u,o,_)}break;case 18:Ft!==null&&(Pr?(a=Ft,Jk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ju(a)):Jk(Ft,u.stateNode));break;case 4:h=Ft,v=Pr,Ft=u.stateNode.containerInfo,Pr=!0,ms(a,o,u),Ft=h,Pr=v;break;case 0:case 11:case 14:case 15:So(2,u,o),bn||So(4,u,o),ms(a,o,u);break;case 1:bn||(Pa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&ek(u,o,h)),ms(a,o,u);break;case 21:ms(a,o,u);break;case 22:bn=(h=bn)||u.memoizedState!==null,ms(a,o,u),bn=h;break;default:ms(a,o,u)}}function lk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ju(a)}catch(u){vt(o,o.return,u)}}}function ck(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ju(a)}catch(u){vt(o,o.return,u)}}function BB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new ik),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new ik),o;default:throw Error(r(435,a.tag))}}function sg(a,o){var u=BB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=WB.bind(null,a,h);h.then(v,v)}})}function Rr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],_=a,I=o,D=I;e:for(;D!==null;){switch(D.tag){case 27:if(Oo(D.type)){Ft=D.stateNode,Pr=!1;break e}break;case 5:Ft=D.stateNode,Pr=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,Pr=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));ok(_,I,v),Ft=null,Pr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)uk(o,a),o=o.sibling}var Zi=null;function uk(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rr(o,a),Mr(a),h&4&&(So(3,a,a.return),Gf(3,a),So(5,a,a.return));break;case 1:Rr(o,a),Mr(a),h&512&&(bn||u===null||Pa(u,u.return)),h&64&&hs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Zi;if(Rr(o,a),Mr(a),h&512&&(bn||u===null||Pa(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[va]||_[hn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),nr(_,h,u),_[hn]=a,mn(_),h=_;break e;case"link":var I=uC("link","href",v).get(h+(u.href||""));if(I){for(var D=0;D<I.length;D++)if(_=I[D],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(D,1);break t}}_=v.createElement(h),nr(_,h,u),v.head.appendChild(_);break;case"meta":if(I=uC("meta","content",v).get(h+(u.content||""))){for(D=0;D<I.length;D++)if(_=I[D],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(D,1);break t}}_=v.createElement(h),nr(_,h,u),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[hn]=a,mn(_),h=_}a.stateNode=h}else dC(v,a.type,a.stateNode);else a.stateNode=cC(v,h,a.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?dC(v,a.type,a.stateNode):cC(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Ix(a,a.memoizedProps,u.memoizedProps)}break;case 27:Rr(o,a),Mr(a),h&512&&(bn||u===null||Pa(u,u.return)),u!==null&&h&4&&Ix(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Rr(o,a),Mr(a),h&512&&(bn||u===null||Pa(u,u.return)),a.flags&32){v=a.stateNode;try{Or(v,"")}catch(Oe){vt(a,a.return,Oe)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Ix(a,v,u!==null?u.memoizedProps:v)),h&1024&&(Nx=!0);break;case 6:if(Rr(o,a),Mr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Oe){vt(a,a.return,Oe)}}break;case 3:if(wg=null,v=Zi,Zi=xg(o.containerInfo),Rr(o,a),Zi=v,Mr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ju(o.containerInfo)}catch(Oe){vt(a,a.return,Oe)}Nx&&(Nx=!1,dk(a));break;case 4:h=Zi,Zi=xg(a.stateNode.containerInfo),Rr(o,a),Mr(a),Zi=h;break;case 12:Rr(o,a),Mr(a);break;case 31:Rr(o,a),Mr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sg(a,h)));break;case 13:Rr(o,a),Mr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(lg=Yn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sg(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,te=hs,ce=bn;if(hs=te||v,bn=ce||G,Rr(o,a),bn=ce,hs=te,Mr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||hs||bn||Yl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(_=G.stateNode,v)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{D=G.stateNode;var he=G.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Oe){vt(G,G.return,Oe)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Oe){vt(G,G.return,Oe)}}}else if(o.tag===18){if(u===null){G=o;try{var ae=G.stateNode;v?eC(ae,!0):eC(G.stateNode,!1)}catch(Oe){vt(G,G.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,sg(a,u))));break;case 19:Rr(o,a),Mr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,sg(a,h)));break;case 30:break;case 21:break;default:Rr(o,a),Mr(a)}}function Mr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(nk(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=kx(a);ag(a,_,v);break;case 5:var I=u.stateNode;u.flags&32&&(Or(I,""),u.flags&=-33);var D=kx(a);ag(a,D,I);break;case 3:case 4:var G=u.stateNode.containerInfo,te=kx(a);Cx(a,te,G);break;default:throw Error(r(161))}}catch(ce){vt(a,a.return,ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function dk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;dk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ps(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ak(a,o.alternate,o),o=o.sibling}function Yl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:So(4,o,o.return),Yl(o);break;case 1:Pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&ek(o,o.return,u),Yl(o);break;case 27:nh(o.stateNode);case 26:case 5:Pa(o,o.return),Yl(o);break;case 22:o.memoizedState===null&&Yl(o);break;case 30:Yl(o);break;default:Yl(o)}a=a.sibling}}function gs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:gs(v,_,u),Gf(4,_);break;case 1:if(gs(v,_,u),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(te){vt(h,h.return,te)}if(h=_,v=h.updateQueue,v!==null){var D=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)F2(G[v],D)}catch(te){vt(h,h.return,te)}}u&&I&64&&JI(_),Kf(_,_.return);break;case 27:rk(_);case 26:case 5:gs(v,_,u),u&&h===null&&I&4&&tk(_),Kf(_,_.return);break;case 12:gs(v,_,u);break;case 31:gs(v,_,u),u&&I&4&&lk(v,_);break;case 13:gs(v,_,u),u&&I&4&&ck(v,_);break;case 22:_.memoizedState===null&&gs(v,_,u),Kf(_,_.return);break;case 30:break;default:gs(v,_,u)}o=o.sibling}}function Ox(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Rf(u))}function Px(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rf(a))}function Ji(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fk(a,o,u,h),o=o.sibling}function fk(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(a,o,u,h),v&2048&&Gf(9,o);break;case 1:Ji(a,o,u,h);break;case 3:Ji(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rf(a)));break;case 12:if(v&2048){Ji(a,o,u,h),a=o.stateNode;try{var _=o.memoizedProps,I=_.id,D=_.onPostCommit;typeof D=="function"&&D(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){vt(o,o.return,G)}}else Ji(a,o,u,h);break;case 31:Ji(a,o,u,h);break;case 13:Ji(a,o,u,h);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?Ji(a,o,u,h):Yf(a,o):_._visibility&2?Ji(a,o,u,h):(_._visibility|=2,Tu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Ox(I,o);break;case 24:Ji(a,o,u,h),v&2048&&Px(o.alternate,o);break;default:Ji(a,o,u,h)}}function Tu(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,I=o,D=u,G=h,te=I.flags;switch(I.tag){case 0:case 11:case 15:Tu(_,I,D,G,v),Gf(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?Tu(_,I,D,G,v):Yf(_,I):(ce._visibility|=2,Tu(_,I,D,G,v)),v&&te&2048&&Ox(I.alternate,I);break;case 24:Tu(_,I,D,G,v),v&&te&2048&&Px(I.alternate,I);break;default:Tu(_,I,D,G,v)}o=o.sibling}}function Yf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Yf(u,h),v&2048&&Ox(h.alternate,h);break;case 24:Yf(u,h),v&2048&&Px(h.alternate,h);break;default:Yf(u,h)}o=o.sibling}}var Wf=8192;function Au(a,o,u){if(a.subtreeFlags&Wf)for(a=a.child;a!==null;)hk(a,o,u),a=a.sibling}function hk(a,o,u){switch(a.tag){case 26:Au(a,o,u),a.flags&Wf&&a.memoizedState!==null&&AU(u,Zi,a.memoizedState,a.memoizedProps);break;case 5:Au(a,o,u);break;case 3:case 4:var h=Zi;Zi=xg(a.stateNode.containerInfo),Au(a,o,u),Zi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Wf,Wf=16777216,Au(a,o,u),Wf=h):Au(a,o,u));break;default:Au(a,o,u)}}function mk(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Xf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,gk(h,a)}mk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pk(a),a=a.sibling}function pk(a){switch(a.tag){case 0:case 11:case 15:Xf(a),a.flags&2048&&So(9,a,a.return);break;case 3:Xf(a);break;case 12:Xf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,og(a)):Xf(a);break;default:Xf(a)}}function og(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Vn=h,gk(h,a)}mk(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:So(8,o,o.return),og(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,og(o));break;default:og(o)}a=a.sibling}}function gk(a,o){for(;Vn!==null;){var u=Vn;switch(u.tag){case 0:case 11:case 15:So(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Rf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Vn=h;else e:for(u=a;Vn!==null;){h=Vn;var v=h.sibling,_=h.return;if(sk(h),h===u){Vn=null;break e}if(v!==null){v.return=_,Vn=v;break e}Vn=_}}}var UB={getCacheForType:function(a){var o=er(gn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return er(gn).controller.signal}},FB=typeof WeakMap=="function"?WeakMap:Map,ft=0,Nt=null,et=null,nt=0,yt=0,Zr=null,To=!1,Iu=!1,Rx=!1,ys=0,Zt=0,Ao=0,Wl=0,Mx=0,Jr=0,ku=0,Qf=null,Dr=null,Dx=!1,lg=0,yk=0,cg=1/0,ug=null,Io=null,An=0,ko=null,Cu=null,vs=0,jx=0,zx=null,vk=null,Zf=0,Lx=null;function ei(){return(ft&2)!==0&&nt!==0?nt&-nt:W.T!==null?$x():df()}function bk(){if(Jr===0)if((nt&536870912)===0||st){var a=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),Jr=a}else Jr=536870912;return a=Xr.current,a!==null&&(a.flags|=32),Jr}function jr(a,o,u){(a===Nt&&(yt===2||yt===9)||a.cancelPendingCommit!==null)&&(Nu(a,0),Co(a,nt,Jr,!1)),Dt(a,u),((ft&2)===0||a!==Nt)&&(a===Nt&&((ft&2)===0&&(Wl|=u),Zt===4&&Co(a,nt,Jr,!1)),Ra(a))}function xk(a,o,u){if((ft&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||pt(a,o),v=h?HB(a,o):Bx(a,o,!0),_=h;do{if(v===0){Iu&&!h&&Co(a,o,0,!1);break}else{if(u=a.current.alternate,_&&!qB(u)){v=Bx(a,o,!1),_=!1;continue}if(v===2){if(_=o,a.errorRecoveryDisabledLanes&_)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var D=a;v=Qf;var G=D.current.memoizedState.isDehydrated;if(G&&(Nu(D,I).flags|=256),I=Bx(D,I,!1),I!==2){if(Rx&&!G){D.errorRecoveryDisabledLanes|=_,Wl|=_,v=4;break e}_=Dr,Dr=v,_!==null&&(Dr===null?Dr=_:Dr.push.apply(Dr,_))}v=I}if(_=!1,v!==2)continue}}if(v===1){Nu(a,0),Co(a,o,0,!0);break}e:{switch(h=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Co(h,o,Jr,!To);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=lg+300-Yn(),10<v)){if(Co(h,o,Jr,!To),Fe(h,0,!0)!==0)break e;vs=o,h.timeoutHandle=Qk(_k.bind(null,h,u,Dr,ug,Dx,o,Jr,Wl,ku,To,_,"Throttled",-0,0),v);break e}_k(h,u,Dr,ug,Dx,o,Jr,Wl,ku,To,_,null,-0,0)}}break}while(!0);Ra(a)}function _k(a,o,u,h,v,_,I,D,G,te,ce,he,ne,ae){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},hk(o,_,he);var Oe=(_&62914560)===_?lg-Yn():(_&4194048)===_?yk-Yn():0;if(Oe=IU(he,Oe),Oe!==null){vs=_,a.cancelPendingCommit=Oe(Ck.bind(null,a,o,_,u,h,v,I,D,G,ce,he,null,ne,ae)),Co(a,_,I,!te);return}}Ck(a,o,_,u,h,v,I,D,G)}function qB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],_=v.getSnapshot;v=v.value;try{if(!Yr(_(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Co(a,o,u,h){o&=~Mx,o&=~Wl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var _=31-Bt(v),I=1<<_;h[_]=-1,v&=~I}u!==0&&gi(a,u,o)}function dg(){return(ft&6)===0?(Jf(0),!1):!0}function Vx(){if(et!==null){if(yt===0)var a=et.return;else a=et,os=Bl=null,tx(a),xu=null,Df=0,a=et;for(;a!==null;)ZI(a.alternate,a),a=a.return;et=null}}function Nu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,cU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),vs=0,Vx(),Nt=a,et=u=as(a.current,null),nt=o,yt=0,Zr=null,To=!1,Iu=pt(a,o),Rx=!1,ku=Jr=Mx=Wl=Ao=Zt=0,Dr=Qf=null,Dx=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Bt(h),_=1<<v;o|=a[v],h&=~_}return ys=o,Pp(),u}function wk(a,o){We=null,W.H=qf,o===bu||o===Bp?(o=L2(),yt=3):o===qb?(o=L2(),yt=4):yt=o===yx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zr=o,et===null&&(Zt=1,eg(a,wi(o,a.current)))}function Ek(){var a=Xr.current;return a===null?!0:(nt&4194048)===nt?Ai===null:(nt&62914560)===nt||(nt&536870912)!==0?a===Ai:!1}function Sk(){var a=W.H;return W.H=qf,a===null?qf:a}function Tk(){var a=W.A;return W.A=UB,a}function fg(){Zt=4,To||(nt&4194048)!==nt&&Xr.current!==null||(Iu=!0),(Ao&134217727)===0&&(Wl&134217727)===0||Nt===null||Co(Nt,nt,Jr,!1)}function Bx(a,o,u){var h=ft;ft|=2;var v=Sk(),_=Tk();(Nt!==a||nt!==o)&&(ug=null,Nu(a,o)),o=!1;var I=Zt;e:do try{if(yt!==0&&et!==null){var D=et,G=Zr;switch(yt){case 8:Vx(),I=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var te=yt;if(yt=0,Zr=null,Ou(a,D,G,te),u&&Iu){I=0;break e}break;default:te=yt,yt=0,Zr=null,Ou(a,D,G,te)}}$B(),I=Zt;break}catch(ce){wk(a,ce)}while(!0);return o&&a.shellSuspendCounter++,os=Bl=null,ft=h,W.H=v,W.A=_,et===null&&(Nt=null,nt=0,Pp()),I}function $B(){for(;et!==null;)Ak(et)}function HB(a,o){var u=ft;ft|=2;var h=Sk(),v=Tk();Nt!==a||nt!==o?(ug=null,cg=Yn()+500,Nu(a,o)):Iu=pt(a,o);e:do try{if(yt!==0&&et!==null){o=et;var _=Zr;t:switch(yt){case 1:yt=0,Zr=null,Ou(a,o,_,1);break;case 2:case 9:if(j2(_)){yt=0,Zr=null,Ik(o);break}o=function(){yt!==2&&yt!==9||Nt!==a||(yt=7),Ra(a)},_.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:j2(_)?(yt=0,Zr=null,Ik(o)):(yt=0,Zr=null,Ou(a,o,_,7));break;case 5:var I=null;switch(et.tag){case 26:I=et.memoizedState;case 5:case 27:var D=et;if(I?fC(I):D.stateNode.complete){yt=0,Zr=null;var G=D.sibling;if(G!==null)et=G;else{var te=D.return;te!==null?(et=te,hg(te)):et=null}break t}}yt=0,Zr=null,Ou(a,o,_,5);break;case 6:yt=0,Zr=null,Ou(a,o,_,6);break;case 8:Vx(),Zt=6;break e;default:throw Error(r(462))}}GB();break}catch(ce){wk(a,ce)}while(!0);return os=Bl=null,W.H=h,W.A=v,ft=u,et!==null?0:(Nt=null,nt=0,Pp(),Zt)}function GB(){for(;et!==null&&!Kn();)Ak(et)}function Ak(a){var o=XI(a.alternate,a,ys);a.memoizedProps=a.pendingProps,o===null?hg(a):et=o}function Ik(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=$I(u,o,o.pendingProps,o.type,void 0,nt);break;case 11:o=$I(u,o,o.pendingProps,o.type.render,o.ref,nt);break;case 5:tx(o);default:ZI(u,o),o=et=T2(o,ys),o=XI(u,o,ys)}a.memoizedProps=a.pendingProps,o===null?hg(a):et=o}function Ou(a,o,u,h){os=Bl=null,tx(o),xu=null,Df=0;var v=o.return;try{if(MB(a,v,o,u,nt)){Zt=1,eg(a,wi(u,a.current)),et=null;return}}catch(_){if(v!==null)throw et=v,_;Zt=1,eg(a,wi(u,a.current)),et=null;return}o.flags&32768?(st||h===1?a=!0:Iu||(nt&536870912)!==0?a=!1:(To=a=!0,(h===2||h===9||h===3||h===6)&&(h=Xr.current,h!==null&&h.tag===13&&(h.flags|=16384))),kk(o,a)):hg(o)}function hg(a){var o=a;do{if((o.flags&32768)!==0){kk(o,To);return}a=o.return;var u=zB(o.alternate,o,ys);if(u!==null){et=u;return}if(o=o.sibling,o!==null){et=o;return}et=o=a}while(o!==null);Zt===0&&(Zt=5)}function kk(a,o){do{var u=LB(a.alternate,a);if(u!==null){u.flags&=32767,et=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){et=a;return}et=a=u}while(a!==null);Zt=6,et=null}function Ck(a,o,u,h,v,_,I,D,G){a.cancelPendingCommit=null;do mg();while(An!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=kb,ur(a,u,_,I,D,G),a===Nt&&(et=Nt=null,nt=0),Cu=o,ko=a,vs=u,jx=_,zx=v,vk=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,XB(Ui,function(){return Mk(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,v=re.p,re.p=2,I=ft,ft|=4;try{VB(a,o,u)}finally{ft=I,re.p=v,W.T=h}}An=1,Nk(),Ok(),Pk()}}function Nk(){if(An===1){An=0;var a=ko,o=Cu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var h=re.p;re.p=2;var v=ft;ft|=4;try{uk(o,a);var _=Zx,I=g2(a.containerInfo),D=_.focusedElem,G=_.selectionRange;if(I!==D&&D&&D.ownerDocument&&p2(D.ownerDocument.documentElement,D)){if(G!==null&&Eb(D)){var te=G.start,ce=G.end;if(ce===void 0&&(ce=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ce,D.value.length);else{var he=D.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Oe=D.textContent.length,qe=Math.min(G.start,Oe),kt=G.end===void 0?qe:Math.min(G.end,Oe);!ae.extend&&qe>kt&&(I=kt,kt=qe,qe=I);var X=m2(D,qe),Y=m2(D,kt);if(X&&Y&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var ee=he.createRange();ee.setStart(X.node,X.offset),ae.removeAllRanges(),qe>kt?(ae.addRange(ee),ae.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),ae.addRange(ee))}}}}for(he=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var fe=he[D];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Ag=!!Qx,Zx=Qx=null}finally{ft=v,re.p=h,W.T=u}}a.current=o,An=2}}function Ok(){if(An===2){An=0;var a=ko,o=Cu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var h=re.p;re.p=2;var v=ft;ft|=4;try{ak(a,o.alternate,o)}finally{ft=v,re.p=h,W.T=u}}An=3}}function Pk(){if(An===4||An===3){An=0,Bi();var a=ko,o=Cu,u=vs,h=vk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?An=5:(An=0,Cu=ko=null,Rk(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Io=null),Qn(u),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(qr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,v=re.p,re.p=2,W.T=null;try{for(var _=a.onRecoverableError,I=0;I<h.length;I++){var D=h[I];_(D.value,{componentStack:D.stack})}}finally{W.T=o,re.p=v}}(vs&3)!==0&&mg(),Ra(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Lx?Zf++:(Zf=0,Lx=a):Zf=0,Jf(0)}}function Rk(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Rf(o)))}function mg(){return Nk(),Ok(),Pk(),Mk()}function Mk(){if(An!==5)return!1;var a=ko,o=jx;jx=0;var u=Qn(vs),h=W.T,v=re.p;try{re.p=32>u?32:u,W.T=null,u=zx,zx=null;var _=ko,I=vs;if(An=0,Cu=ko=null,vs=0,(ft&6)!==0)throw Error(r(331));var D=ft;if(ft|=4,pk(_.current),fk(_,_.current,I,u),ft=D,Jf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(qr,_)}catch{}return!0}finally{re.p=v,W.T=h,Rk(a,o)}}function Dk(a,o,u){o=wi(u,o),o=gx(a.stateNode,o,2),a=_o(a,o,2),a!==null&&(Dt(a,2),Ra(a))}function vt(a,o,u){if(a.tag===3)Dk(a,a,u);else for(;o!==null;){if(o.tag===3){Dk(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Io===null||!Io.has(h))){a=wi(u,a),u=jI(2),h=_o(o,u,2),h!==null&&(zI(u,h,o,a),Dt(h,2),Ra(h));break}}o=o.return}}function Ux(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new FB;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Rx=!0,v.add(u),a=KB.bind(null,a,o,u),o.then(a,a))}function KB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Nt===a&&(nt&u)===u&&(Zt===4||Zt===3&&(nt&62914560)===nt&&300>Yn()-lg?(ft&2)===0&&Nu(a,0):Mx|=u,ku===nt&&(ku=0)),Ra(a)}function jk(a,o){o===0&&(o=jn()),a=zl(a,o),a!==null&&(Dt(a,o),Ra(a))}function YB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),jk(a,u)}function WB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),jk(a,u)}function XB(a,o){return nn(a,o)}var pg=null,Pu=null,Fx=!1,gg=!1,qx=!1,No=0;function Ra(a){a!==Pu&&a.next===null&&(Pu===null?pg=Pu=a:Pu=Pu.next=a),gg=!0,Fx||(Fx=!0,ZB())}function Jf(a,o){if(!qx&&gg){qx=!0;do for(var u=!1,h=pg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var I=h.suspendedLanes,D=h.pingedLanes;_=(1<<31-Bt(42|a)+1)-1,_&=v&~(I&~D),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,Bk(h,_))}else _=nt,_=Fe(h,h===Nt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||pt(h,_)||(u=!0,Bk(h,_));h=h.next}while(u);qx=!1}}function QB(){zk()}function zk(){gg=Fx=!1;var a=0;No!==0&&lU()&&(a=No);for(var o=Yn(),u=null,h=pg;h!==null;){var v=h.next,_=Lk(h,o);_===0?(h.next=null,u===null?pg=v:u.next=v,v===null&&(Pu=u)):(u=h,(a!==0||(_&3)!==0)&&(gg=!0)),h=v}An!==0&&An!==5||Jf(a),No!==0&&(No=0)}function Lk(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var I=31-Bt(_),D=1<<I,G=v[I];G===-1?((D&u)===0||(D&h)!==0)&&(v[I]=fn(D,o)):G<=o&&(a.expiredLanes|=D),_&=~D}if(o=Nt,u=nt,u=Fe(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(yt===2||yt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&ha(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||pt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&ha(h),Qn(u)){case 2:case 8:u=El;break;case 32:u=Ui;break;case 268435456:u=Fi;break;default:u=Ui}return h=Vk.bind(null,a),u=nn(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&ha(h),a.callbackPriority=2,a.callbackNode=null,2}function Vk(a,o){if(An!==0&&An!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(mg()&&a.callbackNode!==u)return null;var h=nt;return h=Fe(a,a===Nt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(xk(a,h,o),Lk(a,Yn()),a.callbackNode!=null&&a.callbackNode===u?Vk.bind(null,a):null)}function Bk(a,o){if(mg())return null;xk(a,o,!0)}function ZB(){uU(function(){(ft&6)!==0?nn(ma,QB):zk()})}function $x(){if(No===0){var a=yu;a===0&&(a=pi,pi<<=1,(pi&261888)===0&&(pi=256)),No=a}return No}function Uk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:nu(""+a)}function Fk(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function JB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var _=Uk((v[zn]||null).action),I=h.submitter;I&&(o=(o=I[zn]||null)?Uk(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var D=new Aa("action","action",null,h,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(No!==0){var G=I?Fk(v,I):new FormData(v);ux(u,{pending:!0,data:G,method:v.method,action:_},null,G)}}else typeof _=="function"&&(D.preventDefault(),G=I?Fk(v,I):new FormData(v),ux(u,{pending:!0,data:G,method:v.method,action:_},_,G))},currentTarget:v}]})}}for(var Hx=0;Hx<Ib.length;Hx++){var Gx=Ib[Hx],eU=Gx.toLowerCase(),tU=Gx[0].toUpperCase()+Gx.slice(1);Qi(eU,"on"+tU)}Qi(b2,"onAnimationEnd"),Qi(x2,"onAnimationIteration"),Qi(_2,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(yB,"onTransitionRun"),Qi(vB,"onTransitionStart"),Qi(bB,"onTransitionCancel"),Qi(w2,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function qk(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var I=h.length-1;0<=I;I--){var D=h[I],G=D.instance,te=D.currentTarget;if(D=D.listener,G!==_&&v.isPropagationStopped())break e;_=D,v.currentTarget=te;try{_(v)}catch(ce){Op(ce)}v.currentTarget=null,_=G}else for(I=0;I<h.length;I++){if(D=h[I],G=D.instance,te=D.currentTarget,D=D.listener,G!==_&&v.isPropagationStopped())break e;_=D,v.currentTarget=te;try{_(v)}catch(ce){Op(ce)}v.currentTarget=null,_=G}}}}function tt(a,o){var u=o[Qc];u===void 0&&(u=o[Qc]=new Set);var h=a+"__bubble";u.has(h)||($k(o,a,2,!1),u.add(h))}function Kx(a,o,u){var h=0;o&&(h|=4),$k(u,a,h,o)}var yg="_reactListening"+Math.random().toString(36).slice(2);function Yx(a){if(!a[yg]){a[yg]=!0,ff.forEach(function(u){u!=="selectionchange"&&(nU.has(u)||Kx(u,!1,a),Kx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[yg]||(o[yg]=!0,Kx("selectionchange",!1,o))}}function $k(a,o,u,h){switch(bC(o)){case 2:var v=NU;break;case 8:v=OU;break;default:v=c1}u=v.bind(null,o,u,a),v=void 0,!Cl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Wx(a,o,u,h,v){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var D=h.stateNode.containerInfo;if(D===v)break;if(I===4)for(I=h.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;D!==null;){if(I=ba(D),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){h=_=I;continue e}D=D.parentNode}}h=h.return}uo(function(){var te=_,ce=vi(u),he=[];e:{var ne=E2.get(a);if(ne!==void 0){var ae=Aa,Oe=a;switch(a){case"keypress":if(Ol(u)===0)break e;case"keydown":case"keyup":ae=kp;break;case"focusin":Oe="focus",ae=Rl;break;case"focusout":Oe="blur",ae=Rl;break;case"beforeblur":case"afterblur":ae=Rl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=A;break;case b2:case x2:case _2:ae=_p;break;case w2:ae=B;break;case"scroll":case"scrollend":ae=Sf;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=is;break;case"toggle":case"beforetoggle":ae=Ye}var qe=(o&4)!==0,kt=!qe&&(a==="scroll"||a==="scrollend"),X=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var Y=te,ee;Y!==null;){var fe=Y;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||X===null||(fe=Ki(Y,X),fe!=null&&qe.push(th(Y,fe,ee))),kt)break;Y=Y.return}0<qe.length&&(ne=new ae(ne,Oe,null,u,ce),he.push({event:ne,listeners:qe}))}}if((o&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&u!==_f&&(Oe=u.relatedTarget||u.fromElement)&&(ba(Oe)||Oe[ya]))break e;if((ae||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Oe=u.relatedTarget||u.toElement,ae=te,Oe=Oe?ba(Oe):null,Oe!==null&&(kt=s(Oe),qe=Oe.tag,Oe!==kt||qe!==5&&qe!==27&&qe!==6)&&(Oe=null)):(ae=null,Oe=te),ae!==Oe)){if(qe=Tf,fe="onMouseLeave",X="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(qe=is,fe="onPointerLeave",X="onPointerEnter",Y="pointer"),kt=ae==null?ne:Gr(ae),ee=Oe==null?ne:Gr(Oe),ne=new qe(fe,Y+"leave",ae,u,ce),ne.target=kt,ne.relatedTarget=ee,fe=null,ba(ce)===te&&(qe=new qe(X,Y+"enter",Oe,u,ce),qe.target=ee,qe.relatedTarget=kt,fe=qe),kt=fe,ae&&Oe)t:{for(qe=rU,X=ae,Y=Oe,ee=0,fe=X;fe;fe=qe(fe))ee++;fe=0;for(var ze=Y;ze;ze=qe(ze))fe++;for(;0<ee-fe;)X=qe(X),ee--;for(;0<fe-ee;)Y=qe(Y),fe--;for(;ee--;){if(X===Y||Y!==null&&X===Y.alternate){qe=X;break t}X=qe(X),Y=qe(Y)}qe=null}else qe=null;ae!==null&&Hk(he,ne,ae,qe,!1),Oe!==null&&kt!==null&&Hk(he,kt,Oe,qe,!0)}}e:{if(ne=te?Gr(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var lt=l2;else if(s2(ne))if(c2)lt=mB;else{lt=fB;var De=dB}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&tu(te.elementType)&&(lt=l2):lt=hB;if(lt&&(lt=lt(a,te))){o2(he,lt,u,ce);break e}De&&De(a,ne,te),a==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&vf(ne,"number",ne.value)}switch(De=te?Gr(te):window,a){case"focusin":(s2(De)||De.contentEditable==="true")&&(cu=De,Sb=te,Nf=null);break;case"focusout":Nf=Sb=cu=null;break;case"mousedown":Tb=!0;break;case"contextmenu":case"mouseup":case"dragend":Tb=!1,y2(he,u,ce);break;case"selectionchange":if(gB)break;case"keydown":case"keyup":y2(he,u,ce)}var Qe;if(dt)e:{switch(a){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else lu?Ml(a,u)&&(rt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(Ca&&u.locale!=="ko"&&(lu||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&lu&&(Qe=Ef()):(Ta=ce,wf="value"in Ta?Ta.value:Ta.textContent,lu=!0)),De=vg(te,rt),0<De.length&&(rt=new ka(rt,a,null,u,ce),he.push({event:rt,listeners:De}),Qe?rt.data=Qe:(Qe=ou(u),Qe!==null&&(rt.data=Qe)))),(Qe=xi?oB(a,u):lB(a,u))&&(rt=vg(te,"onBeforeInput"),0<rt.length&&(De=new ka("onBeforeInput","beforeinput",null,u,ce),he.push({event:De,listeners:rt}),De.data=Qe)),JB(he,a,te,u,ce)}qk(he,o)})}function th(a,o,u){return{instance:a,listener:o,currentTarget:u}}function vg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ki(a,u),v!=null&&h.unshift(th(a,v,_)),v=Ki(a,o),v!=null&&h.push(th(a,v,_))),a.tag===3)return h;a=a.return}return[]}function rU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Hk(a,o,u,h,v){for(var _=o._reactName,I=[];u!==null&&u!==h;){var D=u,G=D.alternate,te=D.stateNode;if(D=D.tag,G!==null&&G===h)break;D!==5&&D!==26&&D!==27||te===null||(G=te,v?(te=Ki(u,_),te!=null&&I.unshift(th(u,te,G))):v||(te=Ki(u,_),te!=null&&I.push(th(u,te,G)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var iU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function Gk(a){return(typeof a=="string"?a:""+a).replace(iU,`
`).replace(aU,"")}function Kk(a,o){return o=Gk(o),Gk(a)===o}function It(a,o,u,h,v,_){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Or(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Or(a,""+h);break;case"className":Kr(a,"class",h);break;case"tabIndex":Kr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(a,u,h);break;case"style":xf(a,h,_);break;case"data":if(o!=="object"){Kr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=nu(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&It(a,o,"name",v.name,v,null),It(a,o,"formEncType",v.formEncType,v,null),It(a,o,"formMethod",v.formMethod,v,null),It(a,o,"formTarget",v.formTarget,v,null)):(It(a,o,"encType",v.encType,v,null),It(a,o,"method",v.method,v,null),It(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=nu(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Gi);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=nu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":tt("beforetoggle",a),tt("toggle",a),Jc(a,"popover",h);break;case"xlinkActuate":pn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Jc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vp.get(u)||u,Jc(a,u,h))}}function Xx(a,o,u,h,v,_){switch(u){case"style":xf(a,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Or(a,h):(typeof h=="number"||typeof h=="bigint")&&Or(a,""+h);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),_=a[zn]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(o,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Jc(a,u,h)}}}function nr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",a),tt("load",a);var h=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var I=u[_];if(I!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,_,I,u,null)}}v&&It(a,o,"srcSet",u.srcSet,u,null),h&&It(a,o,"src",u.src,u,null);return;case"input":tt("invalid",a);var D=_=I=v=null,G=null,te=null;for(h in u)if(u.hasOwnProperty(h)){var ce=u[h];if(ce!=null)switch(h){case"name":v=ce;break;case"type":I=ce;break;case"checked":G=ce;break;case"defaultChecked":te=ce;break;case"value":_=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:It(a,o,h,ce,u,null)}}pp(a,_,D,G,te,I,v,!1);return;case"select":tt("invalid",a),h=I=_=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":_=D;break;case"defaultValue":I=D;break;case"multiple":h=D;default:It(a,o,v,D,u,null)}o=_,u=I,a.multiple=!!h,o!=null?so(a,!!h,o,!1):u!=null&&so(a,!!h,u,!0);return;case"textarea":tt("invalid",a),_=v=h=null;for(I in u)if(u.hasOwnProperty(I)&&(D=u[I],D!=null))switch(I){case"value":h=D;break;case"defaultValue":v=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:It(a,o,I,D,u,null)}oo(a,h,v,_);return;case"option":for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":It(a,o,G,h,u,null));return;case"dialog":tt("beforetoggle",a),tt("toggle",a),tt("cancel",a),tt("close",a);break;case"iframe":case"object":tt("load",a);break;case"video":case"audio":for(h=0;h<eh.length;h++)tt(eh[h],a);break;case"image":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"embed":case"source":case"link":tt("error",a),tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in u)if(u.hasOwnProperty(te)&&(h=u[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(a,o,te,h,u,null)}return;default:if(tu(o)){for(ce in u)u.hasOwnProperty(ce)&&(h=u[ce],h!==void 0&&Xx(a,o,ce,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&It(a,o,D,h,u,null))}function sU(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,I=null,D=null,G=null,te=null,ce=null;for(ae in u){var he=u[ae];if(u.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=he;default:h.hasOwnProperty(ae)||It(a,o,ae,null,h,he)}}for(var ne in h){var ae=h[ne];if(he=u[ne],h.hasOwnProperty(ne)&&(ae!=null||he!=null))switch(ne){case"type":_=ae;break;case"name":v=ae;break;case"checked":te=ae;break;case"defaultChecked":ce=ae;break;case"value":I=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==he&&It(a,o,ne,ae,h,he)}}eu(a,I,D,G,te,ce,_,v);return;case"select":ae=I=D=ne=null;for(_ in u)if(G=u[_],u.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ae=G;default:h.hasOwnProperty(_)||It(a,o,_,null,h,G)}for(v in h)if(_=h[v],G=u[v],h.hasOwnProperty(v)&&(_!=null||G!=null))switch(v){case"value":ne=_;break;case"defaultValue":D=_;break;case"multiple":I=_;default:_!==G&&It(a,o,v,_,h,G)}o=D,u=I,h=ae,ne!=null?so(a,!!u,ne,!1):!!h!=!!u&&(o!=null?so(a,!!u,o,!0):so(a,!!u,u?[]:"",!1));return;case"textarea":ae=ne=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:It(a,o,D,null,h,v)}for(I in h)if(v=h[I],_=u[I],h.hasOwnProperty(I)&&(v!=null||_!=null))switch(I){case"value":ne=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&It(a,o,I,v,h,_)}gp(a,ne,ae);return;case"option":for(var Oe in u)ne=u[Oe],u.hasOwnProperty(Oe)&&ne!=null&&!h.hasOwnProperty(Oe)&&(Oe==="selected"?a.selected=!1:It(a,o,Oe,null,h,ne));for(G in h)ne=h[G],ae=u[G],h.hasOwnProperty(G)&&ne!==ae&&(ne!=null||ae!=null)&&(G==="selected"?a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":It(a,o,G,ne,h,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in u)ne=u[qe],u.hasOwnProperty(qe)&&ne!=null&&!h.hasOwnProperty(qe)&&It(a,o,qe,null,h,ne);for(te in h)if(ne=h[te],ae=u[te],h.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:It(a,o,te,ne,h,ae)}return;default:if(tu(o)){for(var kt in u)ne=u[kt],u.hasOwnProperty(kt)&&ne!==void 0&&!h.hasOwnProperty(kt)&&Xx(a,o,kt,void 0,h,ne);for(ce in h)ne=h[ce],ae=u[ce],!h.hasOwnProperty(ce)||ne===ae||ne===void 0&&ae===void 0||Xx(a,o,ce,ne,h,ae);return}}for(var X in u)ne=u[X],u.hasOwnProperty(X)&&ne!=null&&!h.hasOwnProperty(X)&&It(a,o,X,null,h,ne);for(he in h)ne=h[he],ae=u[he],!h.hasOwnProperty(he)||ne===ae||ne==null&&ae==null||It(a,o,he,ne,h,ae)}function Yk(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],_=v.transferSize,I=v.initiatorType,D=v.duration;if(_&&D&&Yk(I)){for(I=0,D=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],te=G.startTime;if(te>D)break;var ce=G.transferSize,he=G.initiatorType;ce&&Yk(he)&&(G=G.responseEnd,I+=ce*(G<D?1:(D-te)/(G-te)))}if(--h,o+=8*(_+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Qx=null,Zx=null;function bg(a){return a.nodeType===9?a:a.ownerDocument}function Wk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xk(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Jx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var e1=null;function lU(){var a=window.event;return a&&a.type==="popstate"?a===e1?!1:(e1=a,!0):(e1=null,!1)}var Qk=typeof setTimeout=="function"?setTimeout:void 0,cU=typeof clearTimeout=="function"?clearTimeout:void 0,Zk=typeof Promise=="function"?Promise:void 0,uU=typeof queueMicrotask=="function"?queueMicrotask:typeof Zk<"u"?function(a){return Zk.resolve(null).then(a).catch(dU)}:Qk;function dU(a){setTimeout(function(){throw a})}function Oo(a){return a==="head"}function Jk(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),ju(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")nh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,nh(u);for(var _=u.firstChild;_;){var I=_.nextSibling,D=_.nodeName;_[va]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=I}}else u==="body"&&nh(a.ownerDocument.body);u=v}while(u);ju(o)}function eC(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function t1(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":t1(u),Zc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function fU(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[va])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Ii(a.nextSibling),a===null)break}return null}function hU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ii(a.nextSibling),a===null))return null;return a}function tC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ii(a.nextSibling),a===null))return null;return a}function n1(a){return a.data==="$?"||a.data==="$~"}function r1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ii(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var i1=null;function nC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ii(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function rC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function iC(a,o,u){switch(o=bg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function nh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Zc(a)}var ki=new Map,aC=new Set;function xg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var bs=re.d;re.d={f:pU,r:gU,D:yU,C:vU,L:bU,m:xU,X:wU,S:_U,M:EU};function pU(){var a=bs.f(),o=dg();return a||o}function gU(a){var o=yi(a);o!==null&&o.tag===5&&o.type==="form"?wI(o):bs.r(a)}var Ru=typeof document>"u"?null:document;function sC(a,o,u){var h=Ru;if(h&&typeof o=="string"&&o){var v=Nr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),aC.has(v)||(aC.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),nr(o,"link",a),mn(o),h.head.appendChild(o)))}}function yU(a){bs.D(a),sC("dns-prefetch",a,null)}function vU(a,o){bs.C(a,o),sC("preconnect",a,o)}function bU(a,o,u){bs.L(a,o,u);var h=Ru;if(h&&a&&o){var v='link[rel="preload"][as="'+Nr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nr(u.imageSizes)+'"]')):v+='[href="'+Nr(a)+'"]';var _=v;switch(o){case"style":_=Mu(a);break;case"script":_=Du(a)}ki.has(_)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ki.set(_,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(rh(_))||o==="script"&&h.querySelector(ih(_))||(o=h.createElement("link"),nr(o,"link",a),mn(o),h.head.appendChild(o)))}}function xU(a,o){bs.m(a,o);var u=Ru;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Nr(h)+'"][href="'+Nr(a)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Du(a)}if(!ki.has(_)&&(a=p({rel:"modulepreload",href:a},o),ki.set(_,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ih(_)))return}h=u.createElement("link"),nr(h,"link",a),mn(h),u.head.appendChild(h)}}}function _U(a,o,u){bs.S(a,o,u);var h=Ru;if(h&&a){var v=xa(h).hoistableStyles,_=Mu(a);o=o||"default";var I=v.get(_);if(!I){var D={loading:0,preload:null};if(I=h.querySelector(rh(_)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ki.get(_))&&a1(a,u);var G=I=h.createElement("link");mn(G),nr(G,"link",a),G._p=new Promise(function(te,ce){G.onload=te,G.onerror=ce}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,_g(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:D},v.set(_,I)}}}function wU(a,o){bs.X(a,o);var u=Ru;if(u&&a){var h=xa(u).hoistableScripts,v=Du(a),_=h.get(v);_||(_=u.querySelector(ih(v)),_||(a=p({src:a,async:!0},o),(o=ki.get(v))&&s1(a,o),_=u.createElement("script"),mn(_),nr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function EU(a,o){bs.M(a,o);var u=Ru;if(u&&a){var h=xa(u).hoistableScripts,v=Du(a),_=h.get(v);_||(_=u.querySelector(ih(v)),_||(a=p({src:a,async:!0,type:"module"},o),(o=ki.get(v))&&s1(a,o),_=u.createElement("script"),mn(_),nr(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function oC(a,o,u,h){var v=(v=ke.current)?xg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Mu(u.href),u=xa(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Mu(u.href);var _=xa(v).hoistableStyles,I=_.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,I),(_=v.querySelector(rh(a)))&&!_._p&&(I.instance=_,I.state.loading=5),ki.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ki.set(a,u),_||SU(v,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Du(u),u=xa(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Mu(a){return'href="'+Nr(a)+'"'}function rh(a){return'link[rel="stylesheet"]['+a+"]"}function lC(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function SU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",u),mn(o),a.head.appendChild(o))}function Du(a){return'[src="'+Nr(a)+'"]'}function ih(a){return"script[async]"+a}function cC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Nr(u.href)+'"]');if(h)return o.instance=h,mn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),mn(h),nr(h,"style",v),_g(h,u.precedence,a),o.instance=h;case"stylesheet":v=Mu(u.href);var _=a.querySelector(rh(v));if(_)return o.state.loading|=4,o.instance=_,mn(_),_;h=lC(u),(v=ki.get(v))&&a1(h,v),_=(a.ownerDocument||a).createElement("link"),mn(_);var I=_;return I._p=new Promise(function(D,G){I.onload=D,I.onerror=G}),nr(_,"link",h),o.state.loading|=4,_g(_,u.precedence,a),o.instance=_;case"script":return _=Du(u.src),(v=a.querySelector(ih(_)))?(o.instance=v,mn(v),v):(h=u,(v=ki.get(_))&&(h=p({},u),s1(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),mn(v),nr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,_g(h,u.precedence,a));return o.instance}function _g(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,I=0;I<h.length;I++){var D=h[I];if(D.dataset.precedence===o)_=D;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function a1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function s1(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var wg=null;function uC(a,o,u){if(wg===null){var h=new Map,v=wg=new Map;v.set(u,h)}else v=wg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var _=u[v];if(!(_[va]||_[hn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=a+I;var D=h.get(I);D?D.push(_):h.set(I,[_])}}return h}function dC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function TU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function AU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Mu(h.href),_=o.querySelector(rh(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Eg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=_,mn(_);return}_=o.ownerDocument||o,h=lC(h),(v=ki.get(v))&&a1(h,v),_=_.createElement("link"),mn(_);var I=_;I._p=new Promise(function(D,G){I.onload=D,I.onerror=G}),nr(_,"link",h),u.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Eg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var o1=0;function IU(a,o){return a.stylesheets&&a.count===0&&Tg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Tg(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&o1===0&&(o1=62500*oU());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Tg(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>o1?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Eg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Sg=null;function Tg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Sg=new Map,o.forEach(kU,a),Sg=null,Eg.call(a))}function kU(a,o){if(!(o.state.loading&4)){var u=Sg.get(a);if(u)var h=u.get(null);else{u=new Map,Sg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var I=v[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}v=o.instance,I=v.getAttribute("data-precedence"),_=u.get(I)||h,_===h&&u.set(null,v),u.set(I,v),this.count++,h=Eg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var ah={$$typeof:C,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function CU(a,o,u,h,v,_,I,D,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function hC(a,o,u,h,v,_,I,D,G,te,ce,he){return a=new CU(a,o,u,I,G,te,ce,he,D),o=1,_===!0&&(o|=24),_=Wr(3,null,null,o),a.current=_,_.stateNode=a,o=Bb(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:o},$b(_),a}function mC(a){return a?(a=fu,a):fu}function pC(a,o,u,h,v,_){v=mC(v),h.context===null?h.context=v:h.pendingContext=v,h=xo(o),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=_o(a,h,o),u!==null&&(jr(u,a,o),zf(u,a,o))}function gC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function l1(a,o){gC(a,o),(a=a.alternate)&&gC(a,o)}function yC(a){if(a.tag===13||a.tag===31){var o=zl(a,67108864);o!==null&&jr(o,a,67108864),l1(a,67108864)}}function vC(a){if(a.tag===13||a.tag===31){var o=ei();o=ga(o);var u=zl(a,o);u!==null&&jr(u,a,o),l1(a,o)}}var Ag=!0;function NU(a,o,u,h){var v=W.T;W.T=null;var _=re.p;try{re.p=2,c1(a,o,u,h)}finally{re.p=_,W.T=v}}function OU(a,o,u,h){var v=W.T;W.T=null;var _=re.p;try{re.p=8,c1(a,o,u,h)}finally{re.p=_,W.T=v}}function c1(a,o,u,h){if(Ag){var v=u1(h);if(v===null)Wx(a,o,h,Ig,u),xC(a,h);else if(RU(v,a,o,u,h))h.stopPropagation();else if(xC(a,h),o&4&&-1<PU.indexOf(a)){for(;v!==null;){var _=yi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Hr(_.pendingLanes);if(I!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;I;){var G=1<<31-Bt(I);D.entanglements[1]|=G,I&=~G}Ra(_),(ft&6)===0&&(cg=Yn()+500,Jf(0))}}break;case 31:case 13:D=zl(_,2),D!==null&&jr(D,_,2),dg(),l1(_,2)}if(_=u1(h),_===null&&Wx(a,o,h,Ig,u),_===v)break;v=_}v!==null&&h.stopPropagation()}else Wx(a,o,h,null,u)}}function u1(a){return a=vi(a),d1(a)}var Ig=null;function d1(a){if(Ig=null,a=ba(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ig=a,null}function bC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case ma:return 2;case El:return 8;case Ui:case Sl:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var f1=!1,Po=null,Ro=null,Mo=null,sh=new Map,oh=new Map,Do=[],PU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xC(a,o){switch(a){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":sh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(o.pointerId)}}function lh(a,o,u,h,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},o!==null&&(o=yi(o),o!==null&&yC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function RU(a,o,u,h,v){switch(o){case"focusin":return Po=lh(Po,a,o,u,h,v),!0;case"dragenter":return Ro=lh(Ro,a,o,u,h,v),!0;case"mouseover":return Mo=lh(Mo,a,o,u,h,v),!0;case"pointerover":var _=v.pointerId;return sh.set(_,lh(sh.get(_)||null,a,o,u,h,v)),!0;case"gotpointercapture":return _=v.pointerId,oh.set(_,lh(oh.get(_)||null,a,o,u,h,v)),!0}return!1}function _C(a){var o=ba(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,$i(a.priority,function(){vC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,$i(a.priority,function(){vC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=u1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);_f=h,u.target.dispatchEvent(h),_f=null}else return o=yi(u),o!==null&&yC(o),a.blockedOn=u,!1;o.shift()}return!0}function wC(a,o,u){kg(a)&&u.delete(o)}function MU(){f1=!1,Po!==null&&kg(Po)&&(Po=null),Ro!==null&&kg(Ro)&&(Ro=null),Mo!==null&&kg(Mo)&&(Mo=null),sh.forEach(wC),oh.forEach(wC)}function Cg(a,o){a.blockedOn===o&&(a.blockedOn=null,f1||(f1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MU)))}var Ng=null;function EC(a){Ng!==a&&(Ng=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ng===a&&(Ng=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(d1(h||u)===null)continue;break}var _=yi(u);_!==null&&(a.splice(o,3),o-=3,ux(_,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function ju(a){function o(G){return Cg(G,a)}Po!==null&&Cg(Po,a),Ro!==null&&Cg(Ro,a),Mo!==null&&Cg(Mo,a),sh.forEach(o),oh.forEach(o);for(var u=0;u<Do.length;u++){var h=Do[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Do.length&&(u=Do[0],u.blockedOn===null);)_C(u),u.blockedOn===null&&Do.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],_=u[h+1],I=v[zn]||null;if(typeof _=="function")I||EC(u);else if(I){var D=null;if(_&&_.hasAttribute("formAction")){if(v=_,I=_[zn]||null)D=I.formAction;else if(d1(v)!==null)continue}else D=I.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),EC(u)}}}function SC(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function h1(a){this._internalRoot=a}Og.prototype.render=h1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ei();pC(u,h,a,o,null,null)},Og.prototype.unmount=h1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;pC(a.current,2,null,a,null,null),dg(),o[ya]=null}};function Og(a){this._internalRoot=a}Og.prototype.unstable_scheduleHydration=function(a){if(a){var o=df();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Do.length&&o!==0&&o<Do[u].priority;u++);Do.splice(u,0,a),u===0&&_C(a)}};var TC=e.version;if(TC!=="19.2.3")throw Error(r(527,TC,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var DU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{qr=Pg.inject(DU),Tn=Pg}catch{}}return uh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=PI,_=RI,I=MI;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=hC(a,1,!1,null,null,u,h,null,v,_,I,SC),a[ya]=o.current,Yx(a),new h1(o)},uh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",_=PI,I=RI,D=MI,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=hC(a,1,!0,o,u??null,h,v,G,_,I,D,SC),o.context=mC(null),u=o.current,h=ei(),h=ga(h),v=xo(h),v.callback=null,_o(u,v,h),u=h,o.current.lanes=u,Dt(o,u),Ra(o),a[ya]=o.current,Yx(a),new Og(o)},uh.version="19.2.3",uh}var DC;function GU(){if(DC)return g1.exports;DC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g1.exports=HU(),g1.exports}var KU=GU();const Fj=T.createContext(void 0),qj=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return y.jsx(Fj.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},Ud=()=>{const t=T.useContext(Fj);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var jC="popstate";function YU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Fc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sw("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Gh(s))}function r(i,s){ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return XU(e,n,r,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WU(){return Math.random().toString(36).substring(2,10)}function zC(t,e){return{usr:t.state,key:t.key,idx:e}}function Sw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fc(e):e,state:n,key:e&&e.key||r||WU()}}function Gh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function XU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let S=m(),k=S==null?null:S-f;f=S,d&&d({action:c,location:E.location,delta:k})}function b(S,k){c="PUSH";let M=Sw(E.location,S,k);n&&n(M,S),f=m()+1;let C=zC(M,f),j=E.createHref(M);try{l.pushState(C,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(j)}s&&d&&d({action:c,location:E.location,delta:1})}function x(S,k){c="REPLACE";let M=Sw(E.location,S,k);n&&n(M,S),f=m();let C=zC(M,f),j=E.createHref(M);l.replaceState(C,"",j),s&&d&&d({action:c,location:E.location,delta:0})}function w(S){return QU(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(jC,p),d=S,()=>{i.removeEventListener(jC,p),d=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(S){return l.go(S)}};return E}function QU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $j(t,e,n="/"){return ZU(t,e,n,!1)}function ZU(t,e,n,r){let i=typeof e=="string"?Fc(e):e,s=js(i.pathname||"/",n);if(s==null)return null;let l=Hj(t);JU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=u7(s);c=l7(l[d],f,r)}return c}function Hj(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Gt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Os([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Hj(l.children,e,b,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:s7(p,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of Gj(l.path))s(l,c,!0,d)}),e}function Gj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Gj(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function JU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e7=/^:[\w-]+$/,t7=3,n7=2,r7=1,i7=10,a7=-2,LC=t=>t==="*";function s7(t,e){let n=t.split("/"),r=n.length;return n.some(LC)&&(r+=a7),e&&(r+=n7),n.filter(i=>!LC(i)).reduce((i,s)=>i+(e7.test(s)?t7:s===""?r7:i7),r)}function o7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l7(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=P0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=P0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Os([s,p.pathname]),pathnameBase:m7(Os([s,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(s=Os([s,p.pathnameBase]))}return l}function P0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let w=c[b]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[b];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function c7(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Kj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d7=t=>Kj.test(t);function f7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fc(t):t,s;if(n)if(d7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ui(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=VC(n.substring(1),"/"):s=VC(n,e)}else s=e;return{pathname:s,search:p7(r),hash:g7(i)}}function VC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dS(t){let e=h7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fS(t,e,n,r=!1){let i;typeof t=="string"?i=Fc(t):(i={...t},Gt(!i.pathname||!i.pathname.includes("?"),x1("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),x1("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),x1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}c=p>=0?e[p]:"/"}let d=f7(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),m7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,y7=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function v7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function b7(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wj(t,e){let n=t;if(typeof n!="string"||!Kj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Yj)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=js(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xj=["POST","PUT","PATCH","DELETE"];new Set(Xj);var x7=["GET",...Xj];new Set(x7);var Fd=T.createContext(null);Fd.displayName="DataRouter";var Jy=T.createContext(null);Jy.displayName="DataRouterState";var _7=T.createContext(!1),Qj=T.createContext({isTransitioning:!1});Qj.displayName="ViewTransition";var w7=T.createContext(new Map);w7.displayName="Fetchers";var E7=T.createContext(null);E7.displayName="Await";var hi=T.createContext(null);hi.displayName="Navigation";var Am=T.createContext(null);Am.displayName="Location";var ua=T.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var hS=T.createContext(null);hS.displayName="RouteError";var Zj="REACT_ROUTER_ERROR",S7="REDIRECT",T7="ROUTE_ERROR_RESPONSE";function A7(t){if(t.startsWith(`${Zj}:${S7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I7(t){if(t.startsWith(`${Zj}:${T7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y7(e.status,e.statusText,e.data)}catch{}}function k7(t,{relative:e}={}){Gt(qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(hi),{hash:i,pathname:s,search:l}=Im(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Os([n,s])),r.createHref({pathname:c,search:l,hash:i})}function qd(){return T.useContext(Am)!=null}function pl(){return Gt(qd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Am).location}var Jj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ez(t){T.useContext(hi).static||T.useLayoutEffect(t)}function mS(){let{isDataRoute:t}=T.useContext(ua);return t?q7():C7()}function C7(){Gt(qd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Fd),{basename:e,navigator:n}=T.useContext(hi),{matches:r}=T.useContext(ua),{pathname:i}=pl(),s=JSON.stringify(dS(r)),l=T.useRef(!1);return ez(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(ui(l.current,Jj),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=fS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Os([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}var N7=T.createContext(null);function O7(t){let e=T.useContext(ua).outlet;return T.useMemo(()=>e&&T.createElement(N7.Provider,{value:t},e),[e,t])}function Im(t,{relative:e}={}){let{matches:n}=T.useContext(ua),{pathname:r}=pl(),i=JSON.stringify(dS(n));return T.useMemo(()=>fS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function P7(t,e){return tz(t,e)}function tz(t,e,n,r,i){Gt(qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(hi),{matches:l}=T.useContext(ua),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let M=p&&p.path||"";rz(f,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=pl(),x;if(e){let M=typeof e=="string"?Fc(e):e;Gt(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=b;let w=x.pathname||"/",E=w;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=$j(t,{pathname:E});ui(p||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ui(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=z7(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Os([m,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Os([m,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,n,r,i);return e&&k?T.createElement(Am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function R7(){let t=F7(),e=v7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var M7=T.createElement(R7,null),nz=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=I7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(ua.Provider,{value:this.props.routeContext},T.createElement(hS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(D7,{error:t},e):e}};nz.contextType=_7;var _1=new WeakMap;function D7({children:t,error:e}){let{basename:n}=T.useContext(hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=A7(e.digest);if(r){let i=_1.get(e);if(i)throw i;let s=Wj(r.location,n);if(Yj&&!_1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw _1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function j7({routeContext:t,match:e,children:n}){let r=T.useContext(Fd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ua.Provider,{value:t},n)}function z7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:x}=n,w=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:b7(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,b)=>{let x,w=!1,E=null,S=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||M7,c&&(d<0&&b===0?(rz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===b&&(w=!0,S=p.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),M=()=>{let C;return x?C=E:w?C=S:p.route.Component?C=T.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=m,T.createElement(j7,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?T.createElement(nz,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):M()},null)}function pS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L7(t){let e=T.useContext(Fd);return Gt(e,pS(t)),e}function V7(t){let e=T.useContext(Jy);return Gt(e,pS(t)),e}function B7(t){let e=T.useContext(ua);return Gt(e,pS(t)),e}function gS(t){let e=B7(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function U7(){return gS("useRouteId")}function F7(){let t=T.useContext(hS),e=V7("useRouteError"),n=gS("useRouteError");return t!==void 0?t:e.errors?.[n]}function q7(){let{router:t}=L7("useNavigate"),e=gS("useNavigate"),n=T.useRef(!1);return ez(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{ui(n.current,Jj),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var BC={};function rz(t,e,n){!e&&!BC[t]&&(BC[t]=!0,ui(!1,n))}T.memo($7);function $7({routes:t,future:e,state:n,onError:r}){return tz(t,void 0,n,r,e)}function iz({to:t,replace:e,state:n,relative:r}){Gt(qd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(hi);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(ua),{pathname:l}=pl(),c=mS(),d=fS(t,dS(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function az(t){return O7(t.context)}function ti(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Gt(!qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Fc(n));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:x="default"}=n,w=T.useMemo(()=>{let E=js(f,c);return E==null?null:{location:{pathname:E,search:m,hash:p,state:b,key:x},navigationType:r}},[c,f,m,p,b,x,r]);return ui(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(hi.Provider,{value:d},T.createElement(Am.Provider,{children:e,value:w}))}function G7({children:t,location:e}){return P7(Tw(t),e)}function Tw(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Tw(r.props.children,s));return}Gt(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tw(r.props.children,s)),n.push(l)}),n}var c0="get",u0="application/x-www-form-urlencoded";function ev(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function K7(t){return ev(t)&&t.tagName.toLowerCase()==="button"}function Y7(t){return ev(t)&&t.tagName.toLowerCase()==="form"}function W7(t){return ev(t)&&t.tagName.toLowerCase()==="input"}function X7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q7(t,e){return t.button===0&&(!e||e==="_self")&&!X7(t)}var Rg=null;function Z7(){if(Rg===null)try{new FormData(document.createElement("form"),0),Rg=!1}catch{Rg=!0}return Rg}var J7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function w1(t){return t!=null&&!J7.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${u0}"`),null):t}function eF(t,e){let n,r,i,s,l;if(Y7(t)){let c=t.getAttribute("action");r=c?js(c,e):null,n=t.getAttribute("method")||c0,i=w1(t.getAttribute("enctype"))||u0,s=new FormData(t)}else if(K7(t)||W7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?js(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||c0,i=w1(t.getAttribute("formenctype"))||w1(c.getAttribute("enctype"))||u0,s=new FormData(c,t),!Z7()){let{name:f,type:m,value:p}=t;if(m==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,p)}}else{if(ev(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=c0,r=null,i=u0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tF(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&js(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iF(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await nF(s,n);return l.links?l.links():[]}return[]}));return lF(r.flat(1).filter(rF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function UC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aF(t,e,{includeHydrateFallback:n}={}){return sF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sF(t){return[...new Set(t)]}function oF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(oF(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function sz(){let t=T.useContext(Fd);return yS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cF(){let t=T.useContext(Jy);return yS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vS=T.createContext(void 0);vS.displayName="FrameworkContext";function oz(){let t=T.useContext(vS);return yS(t,"You must render this element inside a <HydratedRouter> element"),t}function uF(t,e){let n=T.useContext(vS),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(M=>{l(M.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:dh(c,x),onBlur:dh(d,w),onMouseEnter:dh(f,x),onMouseLeave:dh(m,w),onTouchStart:dh(p,x)}]:[!1,b,{}]}function dh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dF({page:t,...e}){let{router:n}=sz(),r=T.useMemo(()=>$j(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(hF,{page:t,matches:r,...e}):null}function fF(t){let{manifest:e,routeModules:n}=oz(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return iF(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function hF({page:t,matches:e,...n}){let r=pl(),{manifest:i,routeModules:s}=oz(),{basename:l}=sz(),{loaderData:c,matches:d}=cF(),f=T.useMemo(()=>UC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=T.useMemo(()=>UC(t,e,d,i,r,"assets"),[t,e,d,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(k=>{let M=i.routes[k.route.id];!M||!M.hasLoader||(!f.some(C=>C.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||M.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let S=tF(t,l,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>aF(m,i),[m,i]),x=fF(m);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function mF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pF&&(window.__reactRouterVersion="7.11.0")}catch{}function gF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=YU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(H7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var lz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cz=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w){let{basename:E,unstable_useTransitions:S}=T.useContext(hi),k=typeof f=="string"&&lz.test(f),M=Wj(f,E);f=M.to;let C=k7(f,{relative:i}),[j,P,z]=uF(r,x),R=bF(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function O(q){e&&e(q),q.defaultPrevented||R(q)}let V=T.createElement("a",{...x,...z,href:M.absoluteURL||C,onClick:M.isExternal||s?e:O,ref:mF(w,P),target:d,"data-discover":!k&&n==="render"?"true":void 0});return j&&!k?T.createElement(T.Fragment,null,V,T.createElement(dF,{page:C})):V});cz.displayName="Link";var uz=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},m){let p=Im(l,{relative:f.relative}),b=pl(),x=T.useContext(Jy),{navigator:w,basename:E}=T.useContext(hi),S=x!=null&&SF(p)&&c===!0,k=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=b.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&E&&(C=js(C,E)||C);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=M===k||!i&&M.startsWith(k)&&M.charAt(j)==="/",z=C!=null&&(C===k||!i&&C.startsWith(k)&&C.charAt(k.length)==="/"),R={isActive:P,isPending:z,isTransitioning:S},O=P?e:void 0,V;typeof r=="function"?V=r(R):V=[r,P?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(R):s;return T.createElement(cz,{...f,"aria-current":O,className:V,ref:m,style:q,to:l,viewTransition:c},typeof d=="function"?d(R):d)});uz.displayName="NavLink";var yF=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=c0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w)=>{let{unstable_useTransitions:E}=T.useContext(hi),S=wF(),k=EF(c,{relative:f}),M=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&lz.test(c),j=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,R=z?.getAttribute("formmethod")||l,O=()=>S(z||P.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});E&&n!==!1?T.startTransition(()=>O()):O()};return T.createElement("form",{ref:w,method:M,action:k,onSubmit:r?d:j,...x,"data-discover":!C&&t==="render"?"true":void 0})});yF.displayName="Form";function vF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dz(t){let e=T.useContext(Fd);return Gt(e,vF(t)),e}function bF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=mS(),m=pl(),p=Im(t,{relative:s});return T.useCallback(b=>{if(Q7(b,e)){b.preventDefault();let x=n!==void 0?n:Gh(m)===Gh(p),w=()=>f(t,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>w()):w()}},[m,f,p,n,r,e,t,i,s,l,c,d])}var xF=0,_F=()=>`__${String(++xF)}__`;function wF(){let{router:t}=dz("useSubmit"),{basename:e}=T.useContext(hi),n=U7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=eF(s,e);if(l.navigate===!1){let b=l.fetcherKey||_F();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function EF(t,{relative:e}={}){let{basename:n}=T.useContext(hi),r=T.useContext(ua);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Im(t||".",{relative:e})},l=pl();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Os([n,s.pathname])),Gh(s)}function SF(t,{relative:e}={}){let n=T.useContext(Qj);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dz("useViewTransitionState"),i=Im(t,{relative:e});if(!n.isTransitioning)return!1;let s=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return P0(i.pathname,l)!=null||P0(i.pathname,s)!=null}var bS=Uj();const TF=Ja(bS),fz=T.createContext(void 0),AF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"dark"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return y.jsx(fz.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},hz=()=>{const t=T.useContext(fz);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},IF=()=>{};var FC={};const mz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},pz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(b=64)),r.push(n[m],n[p],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new CF;const b=s<<2|c>>4;if(r.push(b),f!==64){const x=c<<4&240|f>>2;if(r.push(x),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NF=function(t){const e=mz(t);return pz.encodeByteArray(e,!0)},gz=function(t){return NF(t).replace(/\./g,"")},yz=function(t){try{return pz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OF=()=>vz().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof FC>"u")return;const t=FC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yz(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return IF()||OF()||PF()||RF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MF=t=>tv()?.emulatorHosts?.[t],bz=()=>tv()?.config,xz=t=>tv()?.[`_${t}`];class DF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function $d(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _z(t){return(await fetch(t,{credentials:"include"})).ok}const Mh={};function jF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mh))Mh[e]?t.emulator.push(e):t.prod.push(e);return t}function zF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qC=!1;function LF(t,e){if(typeof window>"u"||typeof document>"u"||!$d(window.location.host)||Mh[t]===e||Mh[t]||qC)return;Mh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=jF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{qC=!0,l()},b}function m(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=zF(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const C=b.element;c(C),m(S,E);const j=f();d(M,k),C.append(M,w,S,j),document.body.appendChild(C)}s?(w.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function wz(){const t=tv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qF(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ez(){return!wz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sz(){return!wz()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Tz(){try{return typeof indexedDB=="object"}catch{return!1}}function $F(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const HF="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HF,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,km.prototype.create)}}class km{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?GF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ws(i,c,r)}}function GF(t,e){return t.replace(KF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KF=/\{\$([^}]+)}/g;function YF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if($C(s)&&$C(l)){if(!Sc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $C(t){return t!==null&&typeof t=="object"}function Cm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WF(t,e){const n=new XF(t,e);return n.subscribe.bind(n)}class XF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=E1),i.error===void 0&&(i.error=E1),i.complete===void 0&&(i.complete=E1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function E1(){}function Nn(t){return t&&t._delegate?t._delegate:t}class Tc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zl="[DEFAULT]";let ZF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eq(e))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zl){return this.instances.has(e)}getOptions(e=Zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zl){return this.component?this.component.multipleInstances?e:Zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JF(t){return t===Zl?void 0:t}function eq(t){return t.instantiationMode==="EAGER"}class tq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const nq={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},rq=it.INFO,iq={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},aq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xS{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=aq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const sq=(t,e)=>e.some(n=>t instanceof n);let HC,GC;function oq(){return HC||(HC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lq(){return GC||(GC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Az=new WeakMap,Aw=new WeakMap,Iz=new WeakMap,S1=new WeakMap,_S=new WeakMap;function cq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Zo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Az.set(n,t)}).catch(()=>{}),_S.set(e,t),e}function uq(t){if(Aw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Aw.set(t,e)}let Iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Aw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Iz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dq(t){Iw=t(Iw)}function fq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(T1(this),e,...n);return Iz.set(r,e.sort?e.sort():[e]),Zo(r)}:lq().includes(t)?function(...e){return t.apply(T1(this),e),Zo(Az.get(this))}:function(...e){return Zo(t.apply(T1(this),e))}}function hq(t){return typeof t=="function"?fq(t):(t instanceof IDBTransaction&&uq(t),sq(t,oq())?new Proxy(t,Iw):t)}function Zo(t){if(t instanceof IDBRequest)return cq(t);if(S1.has(t))return S1.get(t);const e=hq(t);return e!==t&&(S1.set(t,e),_S.set(e,t)),e}const T1=t=>_S.get(t);function mq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Zo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Zo(l.result),d.oldVersion,d.newVersion,Zo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const pq=["get","getKey","getAll","getAllKeys","count"],gq=["put","add","delete","clear"],A1=new Map;function KC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A1.get(e))return A1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pq.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return A1.set(e,s),s}dq(t=>({...t,get:(e,n,r)=>KC(e,n)||t.get(e,n,r),has:(e,n)=>!!KC(e,n)||t.has(e,n)}));class yq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vq(t){return t.getComponent()?.type==="VERSION"}const kw="@firebase/app",YC="0.14.6";const zs=new xS("@firebase/app"),bq="@firebase/app-compat",xq="@firebase/analytics-compat",_q="@firebase/analytics",wq="@firebase/app-check-compat",Eq="@firebase/app-check",Sq="@firebase/auth",Tq="@firebase/auth-compat",Aq="@firebase/database",Iq="@firebase/data-connect",kq="@firebase/database-compat",Cq="@firebase/functions",Nq="@firebase/functions-compat",Oq="@firebase/installations",Pq="@firebase/installations-compat",Rq="@firebase/messaging",Mq="@firebase/messaging-compat",Dq="@firebase/performance",jq="@firebase/performance-compat",zq="@firebase/remote-config",Lq="@firebase/remote-config-compat",Vq="@firebase/storage",Bq="@firebase/storage-compat",Uq="@firebase/firestore",Fq="@firebase/ai",qq="@firebase/firestore-compat",$q="firebase",Hq="12.6.0";const Cw="[DEFAULT]",Gq={[kw]:"fire-core",[bq]:"fire-core-compat",[_q]:"fire-analytics",[xq]:"fire-analytics-compat",[Eq]:"fire-app-check",[wq]:"fire-app-check-compat",[Sq]:"fire-auth",[Tq]:"fire-auth-compat",[Aq]:"fire-rtdb",[Iq]:"fire-data-connect",[kq]:"fire-rtdb-compat",[Cq]:"fire-fn",[Nq]:"fire-fn-compat",[Oq]:"fire-iid",[Pq]:"fire-iid-compat",[Rq]:"fire-fcm",[Mq]:"fire-fcm-compat",[Dq]:"fire-perf",[jq]:"fire-perf-compat",[zq]:"fire-rc",[Lq]:"fire-rc-compat",[Vq]:"fire-gcs",[Bq]:"fire-gcs-compat",[Uq]:"fire-fst",[qq]:"fire-fst-compat",[Fq]:"fire-vertex","fire-js":"fire-js",[$q]:"fire-js-all"};const R0=new Map,Kq=new Map,Nw=new Map;function WC(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ud(t){const e=t.name;if(Nw.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Nw.set(e,t);for(const n of R0.values())WC(n,t);for(const n of Kq.values())WC(n,t);return!0}function wS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ta(t){return t==null?!1:t.settings!==void 0}const Yq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new km("app","Firebase",Yq);class Wq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}const Hd=Hq;function kz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=bz()),!n)throw Jo.create("no-options");const s=R0.get(i);if(s){if(Sc(n,s.options)&&Sc(r,s.config))return s;throw Jo.create("duplicate-app",{appName:i})}const l=new tq(i);for(const d of Nw.values())l.addComponent(d);const c=new Wq(n,r,l);return R0.set(i,c),c}function Xq(t=Cw){const e=R0.get(t);if(!e&&t===Cw&&bz())return kz();if(!e)throw Jo.create("no-app",{appName:t});return e}function el(t,e,n){let r=Gq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}ud(new Tc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Qq="firebase-heartbeat-database",Zq=1,Kh="firebase-heartbeat-store";let I1=null;function Cz(){return I1||(I1=mq(Qq,Zq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),I1}async function Jq(t){try{const n=(await Cz()).transaction(Kh),r=await n.objectStore(Kh).get(Nz(t));return await n.done,r}catch(e){if(e instanceof Ws)zs.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function XC(t,e){try{const r=(await Cz()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,Nz(t)),await r.done}catch(n){if(n instanceof Ws)zs.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function Nz(t){return`${t.name}!${t.options.appId}`}const e$=1024,t$=30;class n${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=QC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>t$){const i=a$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=QC(),{heartbeatsToSend:n,unsentEntries:r}=r$(this._heartbeatsCache.heartbeats),i=gz(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zs.warn(e),""}}}function QC(){return new Date().toISOString().substring(0,10)}function r$(t,e=e$){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),ZC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tz()?$F().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZC(t){return gz(JSON.stringify({version:2,heartbeats:t})).length}function a$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function s$(t){ud(new Tc("platform-logger",e=>new yq(e),"PRIVATE")),ud(new Tc("heartbeat",e=>new n$(e),"PRIVATE")),el(kw,YC,t),el(kw,YC,"esm2020"),el("fire-js","")}s$("");function Oz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o$=Oz,Pz=new km("auth","Firebase",Oz());const M0=new xS("@firebase/auth");function l$(t,...e){M0.logLevel<=it.WARN&&M0.warn(`Auth (${Hd}): ${t}`,...e)}function d0(t,...e){M0.logLevel<=it.ERROR&&M0.error(`Auth (${Hd}): ${t}`,...e)}function Ya(t,...e){throw SS(t,...e)}function sa(t,...e){return SS(t,...e)}function ES(t,e,n){const r={...o$(),[e]:n};return new km("auth","Firebase",r).create(e,{appName:t.name})}function mc(t){return ES(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ya(t,"argument-error"),ES(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function SS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Pz.create(t,...e)}function He(t,e,...n){if(!t)throw SS(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d0(e),new Error(e)}function Ls(t,e){t||Ts(e)}function Ow(){return typeof self<"u"&&self.location?.href||""}function u$(){return JC()==="http:"||JC()==="https:"}function JC(){return typeof self<"u"&&self.location?.protocol||null}function d$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u$()||UF()||"connection"in navigator)?navigator.onLine:!0}function f$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=VF()||FF()}get(){return d$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function TS(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Rz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const m$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p$=new Nm(3e4,6e4);function AS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gd(t,e,n,r,i={}){return Mz(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Cm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return BF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&$d(t.emulatorConfig.host)&&(f.credentials="include"),Rz.fetch()(await Dz(t,t.config.apiHost,n,c),f)})}async function Mz(t,e,n){t._canInitEmulator=!1;const r={...h$,...e};try{const i=new y$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Mg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mg(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Mg(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Mg(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ES(t,m,f);Ya(t,m)}}catch(i){if(i instanceof Ws)throw i;Ya(t,"network-request-failed",{message:String(i)})}}async function g$(t,e,n,r,i={}){const s=await Gd(t,e,n,r,i);return"mfaPendingCredential"in s&&Ya(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Dz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?TS(t.config,i):`${t.config.apiScheme}://${i}`;return m$.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class y${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sa(this.auth,"network-request-failed")),p$.get())})}}function Mg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sa(t,e,r);return i.customData._tokenResponse=n,i}async function v$(t,e){return Gd(t,"POST","/v1/accounts:delete",e)}async function D0(t,e){return Gd(t,"POST","/v1/accounts:lookup",e)}function Dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b$(t,e=!1){const n=Nn(t),r=await n.getIdToken(e),i=IS(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Dh(k1(i.auth_time)),issuedAtTime:Dh(k1(i.iat)),expirationTime:Dh(k1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function k1(t){return Number(t)*1e3}function IS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return d0("JWT malformed, contained fewer than 3 sections"),null;try{const i=yz(n);return i?JSON.parse(i):(d0("Failed to decode base64 JWT payload"),null)}catch(i){return d0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eN(t){const e=IS(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&x$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class _${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dh(this.lastLoginAt),this.creationTime=Dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function j0(t){const e=t.auth,n=await t.getIdToken(),r=await Yh(t,D0(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?jz(i.providerUserInfo):[],l=E$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Pw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function w$(t){const e=Nn(t);await j0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function S$(t,e){const n=await Mz(t,{},async()=>{const r=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await Dz(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&$d(t.emulatorConfig.host)&&(d.credentials="include"),Rz.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T$(t,e){return Gd(t,"POST","/v2/accounts:revokeToken",AS(t,e))}class nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=eN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await S$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new nd;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nd,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function zo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yh(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b$(this,e)}reload(){return w$(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await j0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ta(this.auth.app))return Promise.reject(mc(this.auth));const e=await this.getIdToken();return await Yh(this,v$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:E}=n;He(p&&E,e,"internal-error");const S=nd.fromJSON(this.name,E);He(typeof p=="string",e,"internal-error"),zo(r,e.name),zo(i,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof x=="boolean",e,"internal-error"),zo(s,e.name),zo(l,e.name),zo(c,e.name),zo(d,e.name),zo(f,e.name),zo(m,e.name);const k=new aa({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return w&&Array.isArray(w)&&(k.providerData=w.map(M=>({...M}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new nd;i.updateFromServerResponse(n);const s=new aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await j0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jz(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new nd;c.updateFromIdToken(r);const d=new aa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const tN=new Map;function As(t){Ls(t instanceof Function,"Expected a class definition");let e=tN.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tN.set(t,e),e)}class zz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zz.type="NONE";const nN=zz;function f0(t,e,n){return`firebase:${t}:${e}:${n}`}class rd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=f0(this.userKey,i.apiKey,s),this.fullPersistenceKey=f0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await D0(this.auth,{idToken:e}).catch(()=>{});return n?aa._fromGetAccountInfoResponse(this.auth,n,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rd(As(nN),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||As(nN);const l=f0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const b=await D0(e,{idToken:m}).catch(()=>{});if(!b)break;p=await aa._fromGetAccountInfoResponse(e,b,m)}else p=aa._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new rd(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new rd(s,e,r))}}function rN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qz(e))return"Blackberry";if($z(e))return"Webos";if(Vz(e))return"Safari";if((e.includes("chrome/")||Bz(e))&&!e.includes("edge/"))return"Chrome";if(Fz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Lz(t=Cn()){return/firefox\//i.test(t)}function Vz(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bz(t=Cn()){return/crios\//i.test(t)}function Uz(t=Cn()){return/iemobile/i.test(t)}function Fz(t=Cn()){return/android/i.test(t)}function qz(t=Cn()){return/blackberry/i.test(t)}function $z(t=Cn()){return/webos/i.test(t)}function kS(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A$(t=Cn()){return kS(t)&&!!window.navigator?.standalone}function I$(){return qF()&&document.documentMode===10}function Hz(t=Cn()){return kS(t)||Fz(t)||$z(t)||qz(t)||/windows phone/i.test(t)||Uz(t)}function Gz(t,e=[]){let n;switch(t){case"Browser":n=rN(Cn());break;case"Worker":n=`${rN(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hd}/${r}`}class k${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function C$(t,e={}){return Gd(t,"GET","/v2/passwordPolicy",AS(t,e))}const N$=6;class O${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class P${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iN(this),this.idTokenSubscription=new iN(this),this.beforeStateQueue=new k$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await D0(this,{idToken:e}),r=await aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ta(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await j0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ta(this.app))return Promise.reject(mc(this));const n=e?Nn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ta(this.app)?Promise.reject(mc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ta(this.app)?Promise.reject(mc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C$(this),n=new O$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new km("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await rd.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ta(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nv(t){return Nn(t)}class iN{constructor(e){this.auth=e,this.observer=null,this.addObserver=WF(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let CS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R$(t){CS=t}function M$(t){return CS.loadJS(t)}function D$(){return CS.gapiScript}function j$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function z$(t,e){const n=wS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sc(s,e??{}))return i;Ya(i,"already-initialized")}return n.initialize({options:e})}function L$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(As);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function V$(t,e,n){const r=nv(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Kz(e),{host:l,port:c}=B$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Sc(f,r.config.emulator)&&Sc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,$d(l)?(_z(`${s}//${l}${d}`),LF("Auth",!0)):U$()}function Kz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B$(t){const e=Kz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aN(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:aN(l)}}}function aN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Yz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function id(t,e){return g$(t,"POST","/v1/accounts:signInWithIdp",AS(t,e))}const F$="http://localhost";class Ac extends Yz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ya("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Ac(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return id(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,id(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,id(e,n)}buildRequest(){const e={requestUri:F$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cm(n)}return e}}class NS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Om extends NS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ho extends Om{constructor(){super("facebook.com")}static credential(e){return Ac._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";class ws extends Om{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ac._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";class Go extends Om{constructor(){super("github.com")}static credential(e){return Ac._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";class Ko extends Om{constructor(){super("twitter.com")}static credential(e,n){return Ac._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ko.credential(n,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";class dd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await aa._fromIdTokenResponse(e,r,i),l=sN(r);return new dd({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sN(r);return new dd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class z0 extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,z0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new z0(e,n,r,i)}}function Wz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?z0._fromErrorAndOperation(t,s,e,r):s})}async function q$(t,e,n=!1){const r=await Yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dd._forOperation(t,"link",r)}async function $$(t,e,n=!1){const{auth:r}=t;if(ta(r.app))return Promise.reject(mc(r));const i="reauthenticate";try{const s=await Yh(t,Wz(r,i,e,t),n);He(s.idToken,r,"internal-error");const l=IS(s.idToken);He(l,r,"internal-error");const{sub:c}=l;return He(t.uid===c,r,"user-mismatch"),dd._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ya(r,"user-mismatch"),s}}async function H$(t,e,n=!1){if(ta(t.app))return Promise.reject(mc(t));const r="signIn",i=await Wz(t,r,e),s=await dd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function G$(t,e){return Nn(t).setPersistence(e)}function K$(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function Y$(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function W$(t,e,n,r){return Nn(t).onAuthStateChanged(e,n,r)}function X$(t){return Nn(t).signOut()}const L0="__sak";class Xz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(L0,"1"),this.storage.removeItem(L0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q$=1e3,Z$=10;class Qz extends Xz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);I$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qz.type="LOCAL";const Zz=Qz;class Jz extends Xz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jz.type="SESSION";const e4=Jz;function J$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await J$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rv.receivers=[];function OS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class eH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=OS("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function qa(){return window}function tH(t){qa().location.href=t}function t4(){return typeof qa().WorkerGlobalScope<"u"&&typeof qa().importScripts=="function"}async function nH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rH(){return navigator?.serviceWorker?.controller||null}function iH(){return t4()?self:null}const n4="firebaseLocalStorageDb",aH=1,V0="firebaseLocalStorage",r4="fbase_key";class Pm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iv(t,e){return t.transaction([V0],e?"readwrite":"readonly").objectStore(V0)}function sH(){const t=indexedDB.deleteDatabase(n4);return new Pm(t).toPromise()}function Rw(){const t=indexedDB.open(n4,aH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(V0,{keyPath:r4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(V0)?e(r):(r.close(),await sH(),e(await Rw()))})})}async function oN(t,e,n){const r=iv(t,!0).put({[r4]:e,value:n});return new Pm(r).toPromise()}async function oH(t,e){const n=iv(t,!1).get(e),r=await new Pm(n).toPromise();return r===void 0?null:r.value}function lN(t,e){const n=iv(t,!0).delete(e);return new Pm(n).toPromise()}const lH=800,cH=3;class i4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rv._getInstance(iH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nH(),!this.activeServiceWorker)return;this.sender=new eH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rw();return await oN(e,L0,"1"),await lN(e,L0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iv(i,!1).getAll();return new Pm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i4.type="LOCAL";const uH=i4;new Nm(3e4,6e4);function a4(t,e){return e?As(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class PS extends Yz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return id(e,this._buildIdpRequest())}_linkToIdToken(e,n){return id(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return id(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dH(t){return H$(t.auth,new PS(t),t.bypassAuthState)}function fH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),$$(n,new PS(t),t.bypassAuthState)}async function hH(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),q$(n,new PS(t),t.bypassAuthState)}class s4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return fH;default:Ya(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mH=new Nm(2e3,1e4);async function pH(t,e,n){if(ta(t.app))return Promise.reject(sa(t,"operation-not-supported-in-this-environment"));const r=nv(t);c$(t,e,NS);const i=a4(r,n);return new cc(r,"signInViaPopup",e,i).executeNotNull()}class cc extends s4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=OS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mH.get())};e()}}cc.currentPopupAction=null;const gH="pendingRedirect",h0=new Map;class yH extends s4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=h0.get(this.auth._key());if(!e){try{const r=await vH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}h0.set(this.auth._key(),e)}return this.bypassAuthState||h0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vH(t,e){const n=_H(e),r=xH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bH(t,e){h0.set(t._key(),e)}function xH(t){return As(t._redirectPersistence)}function _H(t){return f0(gH,t.config.apiKey,t.name)}async function wH(t,e,n=!1){if(ta(t.app))return Promise.reject(mc(t));const r=nv(t),i=a4(r,e),l=await new yH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const EH=600*1e3;class SH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!o4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(sa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EH&&this.cachedEventUids.clear(),this.cachedEventUids.has(cN(e))}saveEventToCache(e){this.cachedEventUids.add(cN(e)),this.lastProcessedEventTime=Date.now()}}function cN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o4(t);default:return!1}}async function AH(t,e={}){return Gd(t,"GET","/v1/projects",e)}const IH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kH=/^https?/;async function CH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AH(t);for(const n of e)try{if(NH(n))return}catch{}Ya(t,"unauthorized-domain")}function NH(t){const e=Ow(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!kH.test(n))return!1;if(IH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const OH=new Nm(3e4,6e4);function uN(){const t=qa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PH(t){return new Promise((e,n)=>{function r(){uN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uN(),n(sa(t,"network-request-failed"))},timeout:OH.get()})}if(qa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qa().gapi?.load)r();else{const i=j$("iframefcb");return qa()[i]=()=>{gapi.load?r():n(sa(t,"network-request-failed"))},M$(`${D$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw m0=null,e})}let m0=null;function RH(t){return m0=m0||PH(t),m0}const MH=new Nm(5e3,15e3),DH="__/auth/iframe",jH="emulator/auth/iframe",zH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VH(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TS(e,jH):`https://${t.config.authDomain}/${DH}`,r={apiKey:e.apiKey,appName:t.name,v:Hd},i=LH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cm(r).slice(1)}`}async function BH(t){const e=await RH(t),n=qa().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:VH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=sa(t,"network-request-failed"),c=qa().setTimeout(()=>{s(l)},MH.get());function d(){qa().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const UH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FH=500,qH=600,$H="_blank",HH="http://localhost";class dN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GH(t,e,n,r=FH,i=qH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...UH,width:r.toString(),height:i.toString(),top:s,left:l},f=Cn().toLowerCase();n&&(c=Bz(f)?$H:n),Lz(f)&&(e=e||HH,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[x,w])=>`${b}${x}=${w},`,"");if(A$(f)&&c!=="_self")return KH(e||"",c),new dN(null);const p=window.open(e||"",c,m);He(p,t,"popup-blocked");try{p.focus()}catch{}return new dN(p)}function KH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const YH="__/auth/handler",WH="emulator/auth/handler",XH=encodeURIComponent("fac");async function fN(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hd,eventId:i};if(e instanceof NS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",YF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Om){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${XH}=${encodeURIComponent(d)}`:"";return`${QH(t)}?${Cm(c).slice(1)}${f}`}function QH({config:t}){return t.emulator?TS(t,WH):`https://${t.authDomain}/${YH}`}const C1="webStorageSupport";class ZH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e4,this._completeRedirectFn=wH,this._overrideRedirectResult=bH}async _openPopup(e,n,r,i){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await fN(e,n,r,Ow(),i);return GH(e,s,OS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await fN(e,n,r,Ow(),i);return tH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BH(e),r=new SH(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(C1,{type:C1},i=>{const s=i?.[0]?.[C1];s!==void 0&&n(!!s),Ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hz()||Vz()||kS()}}const JH=ZH;var hN="@firebase/auth",mN="1.12.0";class eG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nG(t){ud(new Tc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gz(t)},f=new P$(r,i,s,d);return L$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ud(new Tc("auth-internal",e=>{const n=nv(e.getProvider("auth").getImmediate());return(r=>new eG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),el(hN,mN,tG(t)),el(hN,mN,"esm2020")}const rG=300,iG=xz("authIdTokenMaxAge")||rG;let pN=null;const aG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iG)return;const i=n?.token;pN!==i&&(pN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sG(t=Xq()){const e=wS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z$(t,{popupRedirectResolver:JH,persistence:[uH,Zz,e4]}),r=xz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=aG(s.toString());Y$(n,l,()=>l(n.currentUser)),K$(n,c=>l(c))}}const i=MF("auth");return i&&V$(n,`http://${i}`),n}function oG(){return document.getElementsByTagName("head")?.[0]??document}R$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nG("Browser");var lG="firebase",cG="12.7.0";el(lG,cG,"app");var gN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tl,l4;(function(){var t;function e(R,O){function V(){}V.prototype=O.prototype,R.F=O.prototype,R.prototype=new V,R.prototype.constructor=R,R.D=function(q,L,F){for(var U=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)U[_e-2]=arguments[_e];return O.prototype[L].apply(q,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,O,V){V||(V=0);const q=Array(16);if(typeof O=="string")for(var L=0;L<16;++L)q[L]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(L=0;L<16;++L)q[L]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=R.g[0],V=R.g[1],L=R.g[2];let F=R.g[3],U;U=O+(F^V&(L^F))+q[0]+3614090360&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[2]+606105819&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[3]+3250441966&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[4]+4118548399&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[6]+2821735955&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[7]+4249261313&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[8]+1770035416&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[10]+4294925233&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[11]+2304563134&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[12]+1804603682&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[14]+2792965006&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[15]+1236535329&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(L^F&(V^L))+q[1]+4129170786&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[11]+643717713&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[0]+3921069994&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[5]+3593408605&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[15]+3634488961&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[4]+3889429448&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[9]+568446438&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[3]+4107603335&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[8]+1163531501&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[13]+2850285829&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[7]+1735328473&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[12]+2368359562&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(V^L^F)+q[5]+4294588738&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[11]+1839030562&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[14]+4259657740&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[1]+2763975236&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[7]+4139469664&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[10]+3200236656&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[13]+681279174&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[3]+3572445317&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[6]+76029189&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[9]+3654602809&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[15]+530742520&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[2]+3299628645&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(L^(V|~F))+q[0]+4096336452&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[14]+2878612391&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[5]+4237533241&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[12]+1700485571&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[10]+4293915773&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[1]+2240044497&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[8]+1873313359&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[6]+2734768916&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[13]+1309151649&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[4]+4149444226&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[2]+718787259&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[9]+3951481745&4294967295,R.g[0]=R.g[0]+O&4294967295,R.g[1]=R.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,O){O===void 0&&(O=R.length);const V=O-this.blockSize,q=this.C;let L=this.h,F=0;for(;F<O;){if(L==0)for(;F<=V;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<O;)if(q[L++]=R.charCodeAt(F++),L==this.blockSize){i(this,q),L=0;break}}else for(;F<O;)if(q[L++]=R[F++],L==this.blockSize){i(this,q),L=0;break}}this.h=L,this.o+=O},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var O=1;O<R.length-8;++O)R[O]=0;O=this.o*8;for(var V=R.length-8;V<R.length;++V)R[V]=O&255,O/=256;for(this.v(R),R=Array(16),O=0,V=0;V<4;++V)for(let q=0;q<32;q+=8)R[O++]=this.g[V]>>>q&255;return R};function s(R,O){var V=c;return Object.prototype.hasOwnProperty.call(V,R)?V[R]:V[R]=O(R)}function l(R,O){this.h=O;const V=[];let q=!0;for(let L=R.length-1;L>=0;L--){const F=R[L]|0;q&&F==O||(V[L]=F,q=!1)}this.g=V}var c={};function d(R){return-128<=R&&R<128?s(R,function(O){return new l([O|0],O<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return S(f(-R));const O=[];let V=1;for(let q=0;R>=V;q++)O[q]=R/V|0,V*=4294967296;return new l(O,0)}function m(R,O){if(R.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(R.charAt(0)=="-")return S(m(R.substring(1),O));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let q=p;for(let F=0;F<R.length;F+=8){var L=Math.min(8,R.length-F);const U=parseInt(R.substring(F,F+L),O);L<8?(L=f(Math.pow(O,L)),q=q.j(L).add(f(U))):(q=q.j(V),q=q.add(f(U)))}return q}var p=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let R=0,O=1;for(let V=0;V<this.g.length;V++){const q=this.i(V);R+=(q>=0?q:4294967296+q)*O,O*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(E(this))return"-"+S(this).toString(R);const O=f(Math.pow(R,6));var V=this;let q="";for(;;){const L=j(V,O).g;V=k(V,L.j(O));let F=((V.g.length>0?V.g[0]:V.h)>>>0).toString(R);if(V=L,w(V))return F+q;for(;F.length<6;)F="0"+F;q=F+q}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(let O=0;O<R.g.length;O++)if(R.g[O]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=k(this,R),E(R)?-1:w(R)?0:1};function S(R){const O=R.g.length,V=[];for(let q=0;q<O;q++)V[q]=~R.g[q];return new l(V,~R.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(R){const O=Math.max(this.g.length,R.g.length),V=[];let q=0;for(let L=0;L<=O;L++){let F=q+(this.i(L)&65535)+(R.i(L)&65535),U=(F>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);q=U>>>16,F&=65535,U&=65535,V[L]=U<<16|F}return new l(V,V[V.length-1]&-2147483648?-1:0)};function k(R,O){return R.add(S(O))}t.j=function(R){if(w(this)||w(R))return p;if(E(this))return E(R)?S(this).j(S(R)):S(S(this).j(R));if(E(R))return S(this.j(S(R)));if(this.l(x)<0&&R.l(x)<0)return f(this.m()*R.m());const O=this.g.length+R.g.length,V=[];for(var q=0;q<2*O;q++)V[q]=0;for(q=0;q<this.g.length;q++)for(let L=0;L<R.g.length;L++){const F=this.i(q)>>>16,U=this.i(q)&65535,_e=R.i(L)>>>16,we=R.i(L)&65535;V[2*q+2*L]+=U*we,M(V,2*q+2*L),V[2*q+2*L+1]+=F*we,M(V,2*q+2*L+1),V[2*q+2*L+1]+=U*_e,M(V,2*q+2*L+1),V[2*q+2*L+2]+=F*_e,M(V,2*q+2*L+2)}for(R=0;R<O;R++)V[R]=V[2*R+1]<<16|V[2*R];for(R=O;R<2*O;R++)V[R]=0;return new l(V,0)};function M(R,O){for(;(R[O]&65535)!=R[O];)R[O+1]+=R[O]>>>16,R[O]&=65535,O++}function C(R,O){this.g=R,this.h=O}function j(R,O){if(w(O))throw Error("division by zero");if(w(R))return new C(p,p);if(E(R))return O=j(S(R),O),new C(S(O.g),S(O.h));if(E(O))return O=j(R,S(O)),new C(S(O.g),O.h);if(R.g.length>30){if(E(R)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var V=b,q=O;q.l(R)<=0;)V=P(V),q=P(q);var L=z(V,1),F=z(q,1);for(q=z(q,2),V=z(V,2);!w(q);){var U=F.add(q);U.l(R)<=0&&(L=L.add(V),F=U),q=z(q,1),V=z(V,1)}return O=k(R,L.j(O)),new C(L,O)}for(L=p;R.l(O)>=0;){for(V=Math.max(1,Math.floor(R.m()/O.m())),q=Math.ceil(Math.log(V)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),F=f(V),U=F.j(O);E(U)||U.l(R)>0;)V-=q,F=f(V),U=F.j(O);w(F)&&(F=b),L=L.add(F),R=k(R,U)}return new C(L,R)}t.B=function(R){return j(this,R).h},t.and=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)&R.i(q);return new l(V,this.h&R.h)},t.or=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)|R.i(q);return new l(V,this.h|R.h)},t.xor=function(R){const O=Math.max(this.g.length,R.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)^R.i(q);return new l(V,this.h^R.h)};function P(R){const O=R.g.length+1,V=[];for(let q=0;q<O;q++)V[q]=R.i(q)<<1|R.i(q-1)>>>31;return new l(V,R.h)}function z(R,O){const V=O>>5;O%=32;const q=R.g.length-V,L=[];for(let F=0;F<q;F++)L[F]=O>0?R.i(F+V)>>>O|R.i(F+V+1)<<32-O:R.i(F+V);return new l(L,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,tl=l}).apply(typeof gN<"u"?gN:typeof self<"u"?self:typeof window<"u"?window:{});var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c4,Ih,u4,p0,Mw,d4,f4,h4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dg=="object"&&Dg];for(var A=0;A<g.length;++A){var N=g[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var N=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var J=g[B];if(!(J in N))break e;N=N[J]}g=g[g.length-1],B=N[g],A=A(B),A!=B&&A!=null&&e(N,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var N=[],B;for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&N.push([B,A[B]]);return N}});var s=s||{},l=this||self;function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function d(g,A,N){return g.call.apply(g.bind,arguments)}function f(g,A,N){return f=d,f.apply(null,arguments)}function m(g,A){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,A){function N(){}N.prototype=A.prototype,g.Z=A.prototype,g.prototype=new N,g.prototype.constructor=g,g.Ob=function(B,J,ie){for(var ye=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ye[Ye-2]=arguments[Ye];return A.prototype[J].apply(B,ye)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const A=g.length;if(A>0){const N=Array(A);for(let B=0;B<A;B++)N[B]=g[B];return N}return[]}function w(g,A){for(let B=1;B<arguments.length;B++){const J=arguments[B];var N=typeof J;if(N=N!="object"?N:J?Array.isArray(J)?"array":N:"null",N=="array"||N=="object"&&typeof J.length=="number"){N=g.length||0;const ie=J.length||0;g.length=N+ie;for(let ye=0;ye<ie;ye++)g[N+ye]=J[ye]}else g.push(J)}}class E{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(g){l.setTimeout(()=>{throw g},0)}function k(){var g=R;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class M{constructor(){this.h=this.g=null}add(A,N){const B=C.get();B.set(A,N),this.h?this.h.next=B:this.g=B,this.h=B}}var C=new E(()=>new j,g=>g.reset());class j{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,R=new M,O=()=>{const g=Promise.resolve(void 0);P=()=>{g.then(V)}};function V(){for(var g;g=k();){try{g.h.call(g.g)}catch(N){S(N)}var A=C;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}z=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};l.addEventListener("test",N,A),l.removeEventListener("test",N,A)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function _e(g,A){L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}p(_e,L),_e.prototype.init=function(g,A){const N=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(N=="mouseover"?A=g.fromElement:N=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),W=0;function re(g,A,N,B,J){this.listener=g,this.proxy=null,this.src=A,this.type=N,this.capture=!!B,this.ha=J,this.key=++W,this.da=this.fa=!1}function $(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function se(g,A,N){for(const B in g)A.call(N,g[B],B,g)}function ve(g,A){for(const N in g)A.call(void 0,g[N],N,g)}function H(g){const A={};for(const N in g)A[N]=g[N];return A}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,A){let N,B;for(let J=1;J<arguments.length;J++){B=arguments[J];for(N in B)g[N]=B[N];for(let ie=0;ie<K.length;ie++)N=K[ie],Object.prototype.hasOwnProperty.call(B,N)&&(g[N]=B[N])}}function de(g){this.src=g,this.g={},this.h=0}de.prototype.add=function(g,A,N,B,J){const ie=g.toString();g=this.g[ie],g||(g=this.g[ie]=[],this.h++);const ye=ke(g,A,B,J);return ye>-1?(A=g[ye],N||(A.fa=!1)):(A=new re(A,this.src,ie,!!B,J),A.fa=N,g.push(A)),A};function ge(g,A){const N=A.type;if(N in g.g){var B=g.g[N],J=Array.prototype.indexOf.call(B,A,void 0),ie;(ie=J>=0)&&Array.prototype.splice.call(B,J,1),ie&&($(A),g.g[N].length==0&&(delete g.g[N],g.h--))}}function ke(g,A,N,B){for(let J=0;J<g.length;++J){const ie=g[J];if(!ie.da&&ie.listener==A&&ie.capture==!!N&&ie.ha==B)return J}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Ve={};function Z(g,A,N,B,J){if(Array.isArray(A)){for(let ie=0;ie<A.length;ie++)Z(g,A[ie],N,B,J);return null}return N=Vi(N),g&&g[we]?g.J(A,N,c(B)?!!B.capture:!1,J):Ae(g,A,N,!1,B,J)}function Ae(g,A,N,B,J,ie){if(!A)throw Error("Invalid event type");const ye=c(J)?!!J.capture:!!J;let Ye=Vt(g);if(Ye||(g[Ee]=Ye=new de(g)),N=Ye.add(A,N,B,ye,ie),N.proxy)return N;if(B=Be(),N.proxy=B,B.src=g,B.listener=N,g.addEventListener)F||(J=ye),J===void 0&&(J=!1),g.addEventListener(A.toString(),B,J);else if(g.attachEvent)g.attachEvent(Xe(A.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Be(){function g(N){return A.call(g.src,g.listener,N)}const A=tn;return g}function me(g,A,N,B,J){if(Array.isArray(A))for(var ie=0;ie<A.length;ie++)me(g,A[ie],N,B,J);else B=c(B)?!!B.capture:!!B,N=Vi(N),g&&g[we]?(g=g.i,ie=String(A).toString(),ie in g.g&&(A=g.g[ie],N=ke(A,N,B,J),N>-1&&($(A[N]),Array.prototype.splice.call(A,N,1),A.length==0&&(delete g.g[ie],g.h--)))):g&&(g=Vt(g))&&(A=g.g[A.toString()],g=-1,A&&(g=ke(A,N,B,J)),(N=g>-1?A[g]:null)&&Kt(N))}function Kt(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[we])ge(A.i,g);else{var N=g.type,B=g.proxy;A.removeEventListener?A.removeEventListener(N,B,g.capture):A.detachEvent?A.detachEvent(Xe(N),B):A.addListener&&A.removeListener&&A.removeListener(B),(N=Vt(A))?(ge(N,g),N.h==0&&(N.src=null,A[Ee]=null)):$(g)}}}function Xe(g){return g in Ve?Ve[g]:Ve[g]="on"+g}function tn(g,A){if(g.da)g=!0;else{A=new _e(A,this);const N=g.listener,B=g.ha||g.src;g.fa&&Kt(g),g=N.call(B,A)}return g}function Vt(g){return g=g[Ee],g instanceof de?g:null}var Sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vi(g){return typeof g=="function"?g:(g[Sn]||(g[Sn]=function(A){return g.handleEvent(A)}),g[Sn])}function mt(){q.call(this),this.i=new de(this),this.M=this,this.G=null}p(mt,q),mt.prototype[we]=!0,mt.prototype.removeEventListener=function(g,A,N,B){me(this,g,A,N,B)};function nn(g,A){var N,B=g.G;if(B)for(N=[];B;B=B.G)N.push(B);if(g=g.M,B=A.type||A,typeof A=="string")A=new L(A,g);else if(A instanceof L)A.target=A.target||g;else{var J=A;A=new L(B,g),oe(A,J)}J=!0;let ie,ye;if(N)for(ye=N.length-1;ye>=0;ye--)ie=A.g=N[ye],J=ha(ie,B,!0,A)&&J;if(ie=A.g=g,J=ha(ie,B,!0,A)&&J,J=ha(ie,B,!1,A)&&J,N)for(ye=0;ye<N.length;ye++)ie=A.g=N[ye],J=ha(ie,B,!1,A)&&J}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const N=g.g[A];for(let B=0;B<N.length;B++)$(N[B]);delete g.g[A],g.h--}}this.G=null},mt.prototype.J=function(g,A,N,B){return this.i.add(String(g),A,!1,N,B)},mt.prototype.K=function(g,A,N,B){return this.i.add(String(g),A,!0,N,B)};function ha(g,A,N,B){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let J=!0;for(let ie=0;ie<A.length;++ie){const ye=A[ie];if(ye&&!ye.da&&ye.capture==N){const Ye=ye.listener,rn=ye.ha||ye.src;ye.fa&&ge(g.i,ye),J=Ye.call(rn,B)!==!1&&J}}return J&&!B.defaultPrevented}function Kn(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function Bi(g){g.g=Kn(()=>{g.g=null,g.i&&(g.i=!1,Bi(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Yn extends q{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Bi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(g){q.call(this),this.h=g,this.g={}}p(es,q);var ma=[];function El(g){se(g.g,function(A,N){this.g.hasOwnProperty(N)&&Kt(A)},g),g.g={}}es.prototype.N=function(){es.Z.N.call(this),El(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=l.JSON.stringify,Sl=l.JSON.parse,Fi=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Tl(){}function qi(){}var qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){L.call(this,"d")}p(Tn,L);function xr(){L.call(this,"c")}p(xr,L);var Bt={},Xc=null;function pa(){return Xc=Xc||new mt}Bt.Ia="serverreachability";function $r(g){L.call(this,Bt.Ia,g)}p($r,L);function pi(g){const A=pa();nn(A,new $r(A))}Bt.STAT_EVENT="statevent";function ts(g,A){L.call(this,Bt.STAT_EVENT,g),this.stat=A}p(ts,L);function Yt(g){const A=pa();nn(A,new ts(A,g))}Bt.Ja="timingevent";function Hr(g,A){L.call(this,Bt.Ja,g),this.size=A}p(Hr,L);function Fe(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function fn(g,A,N,B,J,ie){g.info(function(){if(g.g)if(ie){var ye="",Ye=ie.split("&");for(let dt=0;dt<Ye.length;dt++){var rn=Ye[dt].split("=");if(rn.length>1){const Ut=rn[0];rn=rn[1];const xi=Ut.split("_");ye=xi.length>=2&&xi[1]=="type"?ye+(Ut+"="+rn+"&"):ye+(Ut+"=redacted&")}}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+B+") [attempt "+J+"]: "+A+`
`+N+`
`+ye})}function jn(g,A,N,B,J,ie,ye){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+J+"]: "+A+`
`+N+`
`+ie+" "+ye})}function _r(g,A,N,B){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+ur(g,N)+(B?" "+B:"")})}function Dt(g,A){g.info(function(){return"TIMEOUT: "+A})}pt.prototype.info=function(){};function ur(g,A){if(!g.g)return A;if(!A)return null;try{const ie=JSON.parse(A);if(ie){for(g=0;g<ie.length;g++)if(Array.isArray(ie[g])){var N=ie[g];if(!(N.length<2)){var B=N[1];if(Array.isArray(B)&&!(B.length<1)){var J=B[0];if(J!="noop"&&J!="stop"&&J!="close")for(let ye=1;ye<B.length;ye++)B[ye]=""}}}}return Ui(ie)}catch{return A}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xn;function ga(){}p(ga,Tl),ga.prototype.g=function(){return new XMLHttpRequest},Xn=new ga;function Qn(g){return encodeURIComponent(String(g))}function df(g){var A=1;g=g.split(":");const N=[];for(;A>0&&g.length;)N.push(g.shift()),A--;return g.length&&N.push(g.join(":")),N}function $i(g,A,N,B){this.j=g,this.i=A,this.l=N,this.S=B||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var hn={},zn={};function ya(g,A,N){g.M=1,g.A=Al(pn(A)),g.u=N,g.R=!0,Qc(g,null)}function Qc(g,A){g.F=Date.now(),va(g),g.B=pn(g.A);var N=g.B,B=g.S;Array.isArray(B)||(B=[String(B)]),tu(N.i,"t",B),g.C=0,N=g.j.L,g.h=new Hi,g.g=Ap(g.j,N?A:null,!g.u),g.P>0&&(g.O=new Yn(f(g.Y,g,g.g),g.P)),A=g.V,N=g.g,B=g.ba;var J="readystatechange";Array.isArray(J)||(J&&(ma[0]=J.toString()),J=ma);for(let ie=0;ie<J.length;ie++){const ye=Z(N,J[ie],B||A.handleEvent,!1,A.h||A);if(!ye)break;A.g[ye.key]=ye}A=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),pi(),fn(g.i,g.v,g.B,g.l,g.S,g.u)}$i.prototype.ba=function(g){g=g.target;const A=this.O;A&&Yi(g)==3?A.j():this.Y(g)},$i.prototype.Y=function(g){try{if(g==this.g)e:{const Ye=Yi(this.g),rn=this.g.ya(),dt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Zn(this.g)))){this.K||Ye!=4||rn==7||(rn==8||dt<=0?pi(3):pi(2)),ba(this);var A=this.g.ca();this.X=A;var N=xb(this);if(this.o=A==200,jn(this.i,this.v,this.B,this.l,this.S,Ye,A),this.o){if(this.U&&!this.L){t:{if(this.g){var B,J=this.g;if((B=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var ie=B;break t}}ie=null}if(g=ie)_r(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xa(this,g);else{this.o=!1,this.m=3,Yt(12),Gr(this),yi(this);break e}}if(this.R){g=!0;let Ut;for(;!this.K&&this.C<N.length;)if(Ut=hp(this,N),Ut==zn){Ye==4&&(this.m=4,Yt(14),g=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==hn){this.m=4,Yt(15),_r(this.i,this.l,N,"[Invalid Chunk]"),g=!1;break}else _r(this.i,this.l,Ut,null),xa(this,Ut);if(fp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||N.length!=0||this.h.h||(this.m=1,Yt(16),g=!1),this.o=this.o&&g,!g)_r(this.i,this.l,N,"[Invalid Chunked Response]"),Gr(this),yi(this);else if(N.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Af(ye),ye.P=!0,Yt(11))}}else _r(this.i,this.l,N,null),xa(this,N);Ye==4&&Gr(this),this.o&&!this.K&&(Ye==4?wp(this.j,this):(this.o=!1,va(this)))}else rs(this.g),A==400&&N.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),Gr(this),yi(this)}}}catch{}};function xb(g){if(!fp(g))return g.g.la();const A=Zn(g.g);if(A==="")return"";let N="";const B=A.length,J=Yi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Gr(g),yi(g),"";g.h.i=new l.TextDecoder}for(let ie=0;ie<B;ie++)g.h.h=!0,N+=g.h.i.decode(A[ie],{stream:!(J&&ie==B-1)});return A.length=0,g.h.g+=N,g.C=0,g.h.g}function fp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function hp(g,A){var N=g.C,B=A.indexOf(`
`,N);return B==-1?zn:(N=Number(A.substring(N,B)),isNaN(N)?hn:(B+=1,B+N>A.length?zn:(A=A.slice(B,B+N),g.C=B+N,A)))}$i.prototype.cancel=function(){this.K=!0,Gr(this)};function va(g){g.T=Date.now()+g.H,Zc(g,g.H)}function Zc(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Fe(f(g.aa,g),A)}function ba(g){g.D&&(l.clearTimeout(g.D),g.D=null)}$i.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Dt(this.i,this.B),this.M!=2&&(pi(),Yt(17)),Gr(this),this.m=2,yi(this)):Zc(this,this.T-g)};function yi(g){g.j.I==0||g.K||wp(g.j,g)}function Gr(g){ba(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,El(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function xa(g,A){try{var N=g.j;if(N.I!=0&&(N.g==g||wa(N.h,g))){if(!g.L&&wa(N.h,g)&&N.I==3){try{var B=N.Ba.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var J=B;if(J[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<g.F)su(N),ho(N);else break e;Rl(N),Yt(18)}}else N.xa=J[1],0<N.xa-N.K&&J[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Fe(f(N.Va,N),6e3));_a(N.h)<=1&&N.ta&&(N.ta=void 0)}else ka(N,11)}else if((g.L||N.g==g)&&su(N),!U(A))for(J=N.Ba.g.parse(A),A=0;A<J.length;A++){let dt=J[A];const Ut=dt[0];if(!(Ut<=N.K))if(N.K=Ut,dt=dt[1],N.I==2)if(dt[0]=="c"){N.M=dt[1],N.ba=dt[2];const xi=dt[3];xi!=null&&(N.ka=xi,N.j.info("VER="+N.ka));const Ca=dt[4];Ca!=null&&(N.za=Ca,N.j.info("SVER="+N.za));const Wi=dt[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(B=1.5*Wi,N.O=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const Xi=g.g;if(Xi){const Ml=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var ie=B.h;ie.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(mf(ie,ie.h),ie.h=null))}if(B.G){const ou=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(B.wa=ou,gt(B.J,B.G,ou))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-g.F,N.j.info("Handshake RTT: "+N.T+"ms")),B=N;var ye=g;if(B.na=Tp(B,B.L?B.ba:null,B.W),ye.L){pf(B.h,ye);var Ye=ye,rn=B.O;rn&&(Ye.H=rn),Ye.D&&(ba(Ye),va(Ye)),B.g=ye}else xp(B);N.i.length>0&&Ia(N)}else dt[0]!="stop"&&dt[0]!="close"||ka(N,7);else N.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ka(N,7):Sf(N):dt[0]!="noop"&&N.l&&N.l.qa(dt),N.A=0)}}pi(4)}catch{}}var mn=class{constructor(g,A){this.g=g,this.map=A}};function ff(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hf(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function _a(g){return g.h?1:g.g?g.g.size:0}function wa(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function mf(g,A){g.g?g.g.add(A):g.h=A}function pf(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}ff.prototype.cancel=function(){if(this.i=gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function gf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const N of g.g.values())A=A.concat(N.G);return A}return x(g.i)}var mp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jc(g,A){if(g){g=g.split("&");for(let N=0;N<g.length;N++){const B=g[N].indexOf("=");let J,ie=null;B>=0?(J=g[N].substring(0,B),ie=g[N].substring(B+1)):J=g[N],A(J,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Kr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof Kr?(this.l=g.l,Ln(this,g.j),this.o=g.o,this.g=g.g,ao(this,g.u),this.h=g.h,yf(this,vp(g.i)),this.m=g.m):g&&(A=String(g).match(mp))?(this.l=!1,Ln(this,A[1]||"",!0),this.o=Ea(A[2]||""),this.g=Ea(A[3]||"",!0),ao(this,A[4]),this.h=Ea(A[5]||"",!0),yf(this,A[6]||"",!0),this.m=Ea(A[7]||"")):(this.l=!1,this.i=new oo(null,this.l))}Kr.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(Il(A,eu,!0),":");var N=this.g;return(N||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Il(A,eu,!0),"@"),g.push(Qn(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&g.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(Il(N,N.charAt(0)=="/"?vf:pp,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",Il(N,gp)),g.join("")},Kr.prototype.resolve=function(g){const A=pn(this);let N=!!g.j;N?Ln(A,g.j):N=!!g.o,N?A.o=g.o:N=!!g.g,N?A.g=g.g:N=g.u!=null;var B=g.h;if(N)ao(A,g.u);else if(N=!!g.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var J=A.h.lastIndexOf("/");J!=-1&&(B=A.h.slice(0,J+1)+B)}if(J=B,J==".."||J==".")B="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){B=J.lastIndexOf("/",0)==0,J=J.split("/");const ie=[];for(let ye=0;ye<J.length;){const Ye=J[ye++];Ye=="."?B&&ye==J.length&&ie.push(""):Ye==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),B&&ye==J.length&&ie.push("")):(ie.push(Ye),B=!0)}B=ie.join("/")}else B=J}return N?A.h=B:N=g.i.toString()!=="",N?yf(A,vp(g.i)):N=!!g.m,N&&(A.m=g.m),A};function pn(g){return new Kr(g)}function Ln(g,A,N){g.j=N?Ea(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function ao(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function yf(g,A,N){A instanceof oo?(g.i=A,nu(g.i,g.l)):(N||(A=Il(A,so)),g.i=new oo(A,g.l))}function gt(g,A,N){g.i.set(A,N)}function Al(g){return gt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ea(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Il(g,A,N){return typeof g=="string"?(g=encodeURI(g).replace(A,Nr),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Nr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var eu=/[#\/\?@]/g,pp=/[#\?:]/g,vf=/[#\?]/g,so=/[#\?@]/g,gp=/#/g;function oo(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Or(g){g.g||(g.g=new Map,g.h=0,g.i&&Jc(g.i,function(A,N){g.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=oo.prototype,t.add=function(g,A){Or(this),this.i=null,g=lo(this,g);let N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(A),this.h+=1,this};function yp(g,A){Or(g),A=lo(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function bf(g,A){return Or(g),A=lo(g,A),g.g.has(A)}t.forEach=function(g,A){Or(this),this.g.forEach(function(N,B){N.forEach(function(J){g.call(A,J,B,this)},this)},this)};function xf(g,A){Or(g);let N=[];if(typeof A=="string")bf(g,A)&&(N=N.concat(g.g.get(lo(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)N=N.concat(g[A]);return N}t.set=function(g,A){return Or(this),this.i=null,g=lo(this,g),bf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=xf(this,g),g.length>0?String(g[0]):A):A};function tu(g,A,N){yp(g,A),N.length>0&&(g.i=null,g.g.set(lo(g,A),x(N)),g.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let B=0;B<A.length;B++){var N=A[B];const J=Qn(N);N=xf(this,N);for(let ie=0;ie<N.length;ie++){let ye=J;N[ie]!==""&&(ye+="="+Qn(N[ie])),g.push(ye)}}return this.i=g.join("&")};function vp(g){const A=new oo;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function lo(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function nu(g,A){A&&!g.j&&(Or(g),g.i=null,g.g.forEach(function(N,B){const J=B.toLowerCase();B!=J&&(yp(this,B),tu(this,J,N))},g)),g.j=A}function Gi(g,A){const N=new pt;if(l.Image){const B=new Image;B.onload=m(vi,N,"TestLoadImage: loaded",!0,A,B),B.onerror=m(vi,N,"TestLoadImage: error",!1,A,B),B.onabort=m(vi,N,"TestLoadImage: abort",!1,A,B),B.ontimeout=m(vi,N,"TestLoadImage: timeout",!1,A,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else A(!1)}function _f(g,A){const N=new pt,B=new AbortController,J=setTimeout(()=>{B.abort(),vi(N,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:B.signal}).then(ie=>{clearTimeout(J),ie.ok?vi(N,"TestPingServer: ok",!0,A):vi(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),vi(N,"TestPingServer: error",!1,A)})}function vi(g,A,N,B,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),B(N)}catch{}}function co(){this.g=new Fi}function Sa(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Sa,Tl),Sa.prototype.g=function(){return new kl(this.i,this.h)};function kl(g,A){mt.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(kl,mt),t=kl.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,Ki(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ru(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ru(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?uo(this):Ki(this),this.readyState==3&&ru(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,uo(this))},t.Na=function(g){this.g&&(this.response=g,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Ki(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=A.next();return g.join(`\r
`)};function Ki(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let A="";return se(g,function(N,B){A+=B,A+=":",A+=N,A+=`\r
`}),A}function Cl(g,A,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=bi(N),typeof g=="string"?N!=null&&Qn(N):gt(g,A,N))}function Tt(g){mt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Tt,mt);var Ta=/^https?$/i,wf=["POST","PUT"];t=Tt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(ie){Nl(this,ie);return}if(g=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var J in B)N.set(J,B[J]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ie of B.keys())N.set(ie,B.get(ie));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(wf,A,void 0)>=0)||B||J||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of N)this.g.setRequestHeader(ie,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ie){Nl(this,ie)}};function Nl(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,Ef(g),ns(g)}function Ef(g){g.A||(g.A=!0,nn(g,"complete"),nn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,nn(this,"complete"),nn(this,"abort"),ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ol(this):this.Xa())},t.Xa=function(){Ol(this)};function Ol(g){if(g.h&&typeof s<"u"){if(g.v&&Yi(g)==4)setTimeout(g.Ca.bind(g),0);else if(nn(g,"readystatechange"),Yi(g)==4){g.h=!1;try{const ie=g.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var B;if(B=ie===0){let ye=String(g.D).match(mp)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),B=!Ta.test(ye?ye.toLowerCase():"")}N=B}if(N)nn(g,"complete"),nn(g,"success");else{g.o=6;try{var J=Yi(g)>2?g.g.statusText:""}catch{J=""}g.l=J+" ["+g.ca()+"]",Ef(g)}}finally{ns(g)}}}}function ns(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const N=g.g;g.g=null,A||nn(g,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Sl(A)}};function Zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(g){const A={};g=(g.g&&Yi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(U(g[B]))continue;var N=df(g[B]);const J=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=A[J]||[];A[J]=ie,ie.push(N)}ve(A,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(g,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||A}function fo(g){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,g),this.Za=Aa("retryDelaySeedMs",1e4,g),this.Ta=Aa("forwardChannelMaxRetries",2,g),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new ff(g&&g.concurrentRequestLimit),this.Ba=new co,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fo.prototype,t.ka=8,t.I=1,t.connect=function(g,A,N,B){Yt(0),this.W=g,this.H=A||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.J=Tp(this,null,this.W),Ia(this)};function Sf(g){if(iu(g),g.I==3){var A=g.V++,N=pn(g.J);if(gt(N,"SID",g.M),gt(N,"RID",A),gt(N,"TYPE","terminate"),Pl(g,N),A=new $i(g,g.j,A),A.M=2,A.A=Al(pn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=A.A,N=!0),N||(A.g=Ap(A.j,null),A.g.ea(A.A)),A.F=Date.now(),va(A)}Sp(g)}function ho(g){g.g&&(Af(g),g.g.cancel(),g.g=null)}function iu(g){ho(g),g.v&&(l.clearTimeout(g.v),g.v=null),su(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Ia(g){if(!hf(g.h)&&!g.m){g.m=!0;var A=g.Ea;P||O(),z||(P(),z=!0),R.add(A,g),g.D=0}}function au(g,A){return _a(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Fe(f(g.Ea,g,A),Ep(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const J=new $i(this,this.j,g);let ie=this.o;if(this.U&&(ie?(ie=H(ie),oe(ie,this.U)):ie=this.U),this.u!==null||this.R||(J.J=ie,ie=null),this.S)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,A>4096){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=bp(this,J,A),N=pn(this.J),gt(N,"RID",g),gt(N,"CVER",22),this.G&&gt(N,"X-HTTP-Session-Id",this.G),Pl(this,N),ie&&(this.R?A="headers="+Qn(bi(ie))+"&"+A:this.u&&Cl(N,this.u,ie)),mf(this.h,J),this.Ra&&gt(N,"TYPE","init"),this.S?(gt(N,"$req",A),gt(N,"SID","null"),J.U=!0,ya(J,N,null)):ya(J,N,A),this.I=2}}else this.I==3&&(g?Tf(this,g):this.i.length==0||hf(this.h)||Tf(this))};function Tf(g,A){var N;A?N=A.l:N=g.V++;const B=pn(g.J);gt(B,"SID",g.M),gt(B,"RID",N),gt(B,"AID",g.K),Pl(g,B),g.u&&g.o&&Cl(B,g.u,g.o),N=new $i(g,g.j,N,g.D+1),g.u===null&&(N.J=g.o),A&&(g.i=A.G.concat(g.i)),A=bp(g,N,1e3),N.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),mf(g.h,N),ya(N,B,A)}function Pl(g,A){g.H&&se(g.H,function(N,B){gt(A,B,N)}),g.l&&se({},function(N,B){gt(A,B,N)})}function bp(g,A,N){N=Math.min(g.i.length,N);const B=g.l?f(g.l.Ka,g.l,g):null;e:{var J=g.i;let Ye=-1;for(;;){const rn=["count="+N];Ye==-1?N>0?(Ye=J[0].g,rn.push("ofs="+Ye)):Ye=0:rn.push("ofs="+Ye);let dt=!0;for(let Ut=0;Ut<N;Ut++){var ie=J[Ut].g;const xi=J[Ut].map;if(ie-=Ye,ie<0)Ye=Math.max(0,J[Ut].g-100),dt=!1;else try{ie="req"+ie+"_"||"";try{var ye=xi instanceof Map?xi:Object.entries(xi);for(const[Ca,Wi]of ye){let Xi=Wi;c(Wi)&&(Xi=Ui(Wi)),rn.push(ie+Ca+"="+encodeURIComponent(Xi))}}catch(Ca){throw rn.push(ie+"type="+encodeURIComponent("_badmap")),Ca}}catch{B&&B(xi)}}if(dt){ye=rn.join("&");break e}}ye=void 0}return g=g.i.splice(0,N),A.G=g,ye}function xp(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;P||O(),z||(P(),z=!0),R.add(A,g),g.A=0}}function Rl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Fe(f(g.Da,g),Ep(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,_p(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Fe(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),ho(this),_p(this))};function Af(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function _p(g){g.g=new $i(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=pn(g.na);gt(A,"RID","rpc"),gt(A,"SID",g.M),gt(A,"AID",g.K),gt(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&gt(A,"TO",g.ia),gt(A,"TYPE","xmlhttp"),Pl(g,A),g.u&&g.o&&Cl(A,g.u,g.o),g.O&&(g.g.H=g.O);var N=g.g;g=g.ba,N.M=1,N.A=Al(pn(A)),N.u=null,N.R=!0,Qc(N,g)}t.Va=function(){this.C!=null&&(this.C=null,ho(this),Rl(this),Yt(19))};function su(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function wp(g,A){var N=null;if(g.g==A){su(g),Af(g),g.g=null;var B=2}else if(wa(g.h,A))N=A.G,pf(g.h,A),B=1;else return;if(g.I!=0){if(A.o)if(B==1){N=A.u?A.u.length:0,A=Date.now()-A.F;var J=g.D;B=pa(),nn(B,new Hr(B,N)),Ia(g)}else xp(g);else if(J=A.m,J==3||J==0&&A.X>0||!(B==1&&au(g,A)||B==2&&Rl(g)))switch(N&&N.length>0&&(A=g.h,A.i=A.i.concat(N)),J){case 1:ka(g,5);break;case 4:ka(g,10);break;case 3:ka(g,6);break;default:ka(g,2)}}}function Ep(g,A){let N=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(N*=2),N*A}function ka(g,A){if(g.j.info("Error code "+A),A==2){var N=f(g.bb,g),B=g.Ua;const J=!B;B=new Kr(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(B,"https"),Al(B),J?Gi(B.toString(),N):_f(B.toString(),N)}else Yt(2);g.I=0,g.l&&g.l.pa(A),Sp(g),iu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Sp(g){if(g.I=0,g.ja=[],g.l){const A=gf(g.h);(A.length!=0||g.i.length!=0)&&(w(g.ja,A),w(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function Tp(g,A,N){var B=N instanceof Kr?pn(N):new Kr(N);if(B.g!="")A&&(B.g=A+"."+B.g),ao(B,B.u);else{var J=l.location;B=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;const ie=new Kr(null);B&&Ln(ie,B),A&&(ie.g=A),J&&ao(ie,J),N&&(ie.h=N),B=ie}return N=g.G,A=g.wa,N&&A&&gt(B,N,A),gt(B,"VER",g.ka),Pl(g,B),B}function Ap(g,A,N){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new Tt(new Sa({ab:N})):new Tt(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ip(){}t=Ip.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mo(){}mo.prototype.g=function(g,A){return new wr(g,A)};function wr(g,A){mt.call(this),this.g=new fo(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!U(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new is(this)}p(wr,mt),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){Sf(this.g)},wr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.v&&(N={},N.__data__=Ui(g),g=N);A.i.push(new mn(A.Ya++,g)),A.I==3&&Ia(A)},wr.prototype.N=function(){this.g.l=null,delete this.j,Sf(this.g),delete this.g,wr.Z.N.call(this)};function kp(g){Tn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const N in A){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(kp,Tn);function Cp(){xr.call(this),this.status=1}p(Cp,xr);function is(g){this.g=g}p(is,Ip),is.prototype.ra=function(){nn(this.g,"a")},is.prototype.qa=function(g){nn(this.g,new kp(g))},is.prototype.pa=function(g){nn(this.g,new Cp)},is.prototype.oa=function(){nn(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,h4=function(){return new mo},f4=function(){return pa()},d4=Bt,Mw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,p0=gi,Wn.COMPLETE="complete",u4=Wn,qi.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ih=qi,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,c4=Tt}).apply(typeof Dg<"u"?Dg:typeof self<"u"?self:typeof window<"u"?window:{});const yN="@firebase/firestore",vN="4.9.3";let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let Kd="12.7.0";const Ic=new xS("@firebase/firestore");function Yu(){return Ic.logLevel}function pe(t,...e){if(Ic.logLevel<=it.DEBUG){const n=e.map(RS);Ic.debug(`Firestore (${Kd}): ${t}`,...n)}}function ln(t,...e){if(Ic.logLevel<=it.ERROR){const n=e.map(RS);Ic.error(`Firestore (${Kd}): ${t}`,...n)}}function Wh(t,...e){if(Ic.logLevel<=it.WARN){const n=e.map(RS);Ic.warn(`Firestore (${Kd}): ${t}`,...n)}}function RS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m4(t,r,n)}function m4(t,e,n){let r=`FIRESTORE (${Kd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ln(r),new Error(r)}function je(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m4(e,i,r)}function Me(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mr.UNAUTHENTICATED)))}shutdown(){}}class fG{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nl)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new uG(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class hG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ta(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class MS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Dw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return N1(i)===N1(s)?Ge(i,s):N1(i)?1:-1}return Ge(t.length,e.length)}const yG=55296,vG=57343;function N1(t){const e=t.charCodeAt(0);return e>=yG&&e<=vG}function fd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function p4(t){return t+"\0"}const xN="__name__";class ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ja.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ge(e.length,n.length)}static compareSegments(e,n){const r=ja.isNumericId(e),i=ja.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ja.extractNumericId(e).compare(ja.extractNumericId(n)):Dw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tl.fromString(e.substring(4,e.length-2))}}class ht extends ja{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const bG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends ja{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return bG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xN}static keyField(){return new Wt([xN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function g4(t,e,n){if(!n)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xG(t,e,n,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _N(t){if(!Se.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wN(t){if(Se.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rm(t,e){if(!y4(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xe(ue.INVALID_ARGUMENT,n);return!0}const EN=-62135596800,SN=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SN);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EN)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SN}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rm(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:wn("string",_t._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new _t(0,0))}static max(){return new Le(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hd=-1;class B0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function jw(t){return t.fields.find((e=>e.kind===2))}function Jl(t){return t.fields.filter((e=>e.kind!==2))}B0.UNKNOWN_ID=-1;class g0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xh(0,di.min())}}function v4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new di(i,Se.empty(),e)}function b4(t){return new di(t.readTime,t.key,hd)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(Le.min(),Se.empty(),hd)}static max(){return new di(Le.max(),Se.empty(),hd)}}function DS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}const x4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==x4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ni="SimpleDb";class sv{static open(e,n,r,i){try{return new sv(n,e.transaction(i,r))}catch(s){throw new jh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new nl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new jh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=jS(r.target.error);this.S.reject(new jh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(ni,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wG(n)}}class rl{static delete(e){return pe(ni,"Removing database:",e),ac(vz().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Tz())return!1;if(rl.F())return!0;const e=Cn(),n=rl.M(e),r=0<n&&n<10,i=w4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,rl.M(Cn())===12.2&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(ni,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new xe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new xe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new jh(e,l))},i.onupgradeneeded=s=>{pe(ni,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{pe(ni,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=sv.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(pe(ni,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function w4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _G{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ac(this.U.delete())}}class jh extends xe{constructor(e,n){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yl(t){return t.name==="IndexedDbTransactionError"}class wG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pe(ni,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe(ni,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ac(r)}add(e){return pe(ni,"ADD",this.store.name,e,e),ac(this.store.add(e))}get(e){return ac(this.store.get(e)).next((n=>(n===void 0&&(n=null),pe(ni,"GET",this.store.name,e,n),n)))}delete(e){return pe(ni,"DELETE",this.store.name,e),ac(this.store.delete(e))}count(){return pe(ni,"COUNT",this.store.name),ac(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){pe(ni,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=s=>{const l=jS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new _G(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const m=f.catch((p=>(d.done(),Q.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ac(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jS(r.target.error);n(i)}}))}let TN=!1;function jS(t){const e=rl.M(Cn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TN||(TN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const zh="IndexBackfiller";class EG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(zh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pe(zh,`Documents written: ${n}`)}catch(n){yl(n)?pe(zh,"Ignoring IndexedDB error during index backfill: ",n):await gl(n)}await this.re(6e4)}))}}class SG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return pe(zh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(pe(zh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=b4(s);DS(l,r)>0&&(r=l)})),new di(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lr.ce=-1;const pc=-1;function ov(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function E4(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const U0="";function vr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AN(e)),e=TG(t.get(n),e);return AN(e)}function TG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case U0:n+="";break;default:n+=s}}return n}function AN(t){return t+U0+""}function Ba(t){const e=t.length;if(je(e>=2,64408,{path:t}),e===2)return je(t.charAt(0)===U0&&t.charAt(1)==="",56145,{path:t}),ht.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(U0,s);switch((l<0||l>n)&&Ce(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Ce(61167,{path:t})}s=l+2}return new ht(r)}const ec="remoteDocuments",Mm="owner",zu="owner",Zh="mutationQueues",AG="userId",ea="mutations",IN="batchId",uc="userMutationsIndex",kN=["userId","batchId"];function y0(t,e){return[t,vr(e)]}function S4(t,e,n){return[t,vr(e),n]}const IG={},md="documentMutations",F0="remoteDocumentsV14",kG=["prefixPath","collectionGroup","readTime","documentId"],v0="documentKeyIndex",CG=["prefixPath","collectionGroup","documentId"],T4="collectionGroupIndex",NG=["collectionGroup","readTime","prefixPath","documentId"],Jh="remoteDocumentGlobal",zw="remoteDocumentGlobalKey",pd="targets",A4="queryTargetsIndex",OG=["canonicalId","targetId"],gd="targetDocuments",PG=["targetId","path"],zS="documentTargetsIndex",RG=["path","targetId"],q0="targetGlobalKey",gc="targetGlobal",em="collectionParents",MG=["collectionId","parent"],yd="clientMetadata",DG="clientId",lv="bundles",jG="bundleId",cv="namedQueries",zG="name",LS="indexConfiguration",LG="indexId",Lw="collectionGroupIndex",VG="collectionGroup",Lh="indexState",BG=["indexId","uid"],I4="sequenceNumberIndex",UG=["uid","sequenceNumber"],Vh="indexEntries",FG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],k4="documentKeyIndex",qG=["indexId","uid","orderedDocumentKey"],uv="documentOverlays",$G=["userId","collectionPath","documentId"],Vw="collectionPathOverlayIndex",HG=["userId","collectionPath","largestBatchId"],C4="collectionGroupOverlayIndex",GG=["userId","collectionGroup","largestBatchId"],VS="globals",KG="name",N4=[Zh,ea,md,ec,pd,Mm,gc,gd,yd,Jh,em,lv,cv],YG=[...N4,uv],O4=[Zh,ea,md,F0,pd,Mm,gc,gd,yd,Jh,em,lv,cv,uv],P4=O4,BS=[...P4,LS,Lh,Vh],WG=BS,R4=[...BS,VS],XG=R4;class Bw extends _4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function On(t,e){const n=Me(t);return rl.O(n.le,e)}function CN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Mt{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jg(this.root,e,this.comparator,!0)}}class jg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=s??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Et{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NN(this.data.getIterator())}getIteratorFrom(e){return new NN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class NN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lu(t){return t.hasNext()?t.getNext():void 0}class Vr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new Et(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class D4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D4("Invalid base64 string: "+s):s}})(e);return new un(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const QG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=QG.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}const j4="server_timestamp",z4="__type__",L4="__previous_value__",V4="__local_write_time__";function US(t){return(t?.mapValue?.fields||{})[z4]?.stringValue===j4}function dv(t){const e=t.mapValue.fields[L4];return US(e)?dv(e):e}function tm(t){const e=Vs(t.mapValue.fields[V4].timestampValue);return new _t(e.seconds,e.nanos)}class ZG{constructor(e,n,r,i,s,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const $0="(default)";class kc{constructor(e,n){this.projectId=e,this.database=n||$0}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===$0}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}const FS="__type__",B4="__max__",Xo={mapValue:{fields:{__type__:{stringValue:B4}}}},qS="__vector__",vd="value",b0={nullValue:"NULL_VALUE"};function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?US(t)?4:U4(t)?9007199254740991:fv(t)?10:11:Ce(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tm(t).isEqual(tm(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Vs(i.timestampValue),c=Vs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=$t(i.doubleValue),c=$t(s.doubleValue);return l===c?Qh(l)===Qh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return fd(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(CN(l)!==CN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Wa(l[d],c[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function nm(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function ll(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=$t(s.integerValue||s.doubleValue),d=$t(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return ON(t.timestampValue,e.timestampValue);case 4:return ON(tm(t),tm(e));case 5:return Dw(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Bs(s),d=Bs(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ge(c[f],d[f]);if(m!==0)return m}return Ge(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ge($t(s.latitude),$t(l.latitude));return c!==0?c:Ge($t(s.longitude),$t(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PN(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[vd]?.arrayValue,m=d[vd]?.arrayValue,p=Ge(f?.values?.length||0,m?.values?.length||0);return p!==0?p:PN(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Xo.mapValue&&l===Xo.mapValue)return 0;if(s===Xo.mapValue)return 1;if(l===Xo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const b=Dw(d[p],m[p]);if(b!==0)return b;const x=ll(c[d[p]],f[m[p]]);if(x!==0)return x}return Ge(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function ON(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Vs(t),r=Vs(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function PN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ll(n[i],r[i]);if(s)return s}return Ge(n.length,r.length)}function bd(t){return Uw(t)}function Uw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Uw(n.fields[l])}`;return i+"}"})(t.mapValue):Ce(61005,{value:t})}function x0(t){switch(ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dv(t);return e?16+x0(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+x0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vl(r.fields,((s,l)=>{i+=s.length+x0(l)})),i})(t.mapValue);default:throw Ce(13486,{value:t})}}function rm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fw(t){return!!t&&"integerValue"in t}function im(t){return!!t&&"arrayValue"in t}function RN(t){return!!t&&"nullValue"in t}function MN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _0(t){return!!t&&"mapValue"in t}function fv(t){return(t?.mapValue?.fields||{})[FS]?.stringValue===qS}function Bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return{...t}}function U4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B4}const F4={mapValue:{fields:{[FS]:{stringValue:qS},[vd]:{arrayValue:{}}}}};function JG(t){return"nullValue"in t?b0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?rm(kc.empty(),Se.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?fv(t)?F4:{mapValue:{}}:Ce(35942,{value:t})}function eK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?rm(kc.empty(),Se.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?F4:"mapValue"in t?fv(t)?{mapValue:{}}:Xo:Ce(61959,{value:t})}function DN(t,e){const n=ll(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jN(t,e){const n=ll(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Bh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new gr(Bh(this.value))}}function q4(t){const e=[];return vl(t.fields,((n,r)=>{const i=new Wt([n]);if(_0(r)){const s=q4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Vr(e)}class en{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Le.min(),Le.min(),Le.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,Le.min(),Le.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Le.min(),Le.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,n){this.position=e,this.inclusive=n}}function zN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),n.key):r=ll(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}class H0{constructor(e,n="asc"){this.field=e,this.dir=n}}function tK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $4{}class at extends $4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nK(e,n,r):n==="array-contains"?new aK(e,r):n==="in"?new X4(e,r):n==="not-in"?new sK(e,r):n==="array-contains-any"?new oK(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rK(e,r):new iK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ll(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wt extends $4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wt(e,n)}matches(e){return _d(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _d(t){return t.op==="and"}function qw(t){return t.op==="or"}function $S(t){return H4(t)&&_d(t)}function H4(t){for(const e of t.filters)if(e instanceof wt)return!1;return!0}function $w(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+bd(t.value);if($S(t))return t.filters.map((e=>$w(e))).join(",");{const e=t.filters.map((n=>$w(n))).join(",");return`${t.op}(${e})`}}function G4(t,e){return t instanceof at?(function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof wt?(function(r,i){return i instanceof wt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&G4(l,i.filters[c])),!0):!1})(t,e):void Ce(19439)}function K4(t,e){const n=t.filters.concat(e);return wt.create(n,t.op)}function Y4(t){return t instanceof at?(function(n){return`${n.field.canonicalString()} ${n.op} ${bd(n.value)}`})(t):t instanceof wt?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y4).join(" ,")+"}"})(t):"Filter"}class nK extends at{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class rK extends at{constructor(e,n){super(e,"in",n),this.keys=W4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iK extends at{constructor(e,n){super(e,"not-in",n),this.keys=W4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function W4(t,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class aK extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return im(n)&&nm(n.arrayValue,this.value)}}class X4 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nm(this.value.arrayValue,n)}}class sK extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nm(this.value.arrayValue,n)}}class oK extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!im(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nm(this.value.arrayValue,r)))}}class lK{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function Hw(t,e=null,n=[],r=[],i=null,s=null,l=null){return new lK(t,e,n,r,i,s,l)}function Cc(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$w(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ov(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bd(r))).join(",")),e.Te=n}return e.Te}function Dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LN(t.startAt,e.startAt)&&LN(t.endAt,e.endAt)}function G0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function K0(t,e){return t.filters.filter((n=>n instanceof at&&n.field.isEqual(e)))}function VN(t,e,n){let r=b0,i=!0;for(const s of K0(t,e)){let l=b0,c=!0;switch(s.op){case"<":case"<=":l=JG(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=b0}DN({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];DN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function BN(t,e,n){let r=Xo,i=!0;for(const s of K0(t,e)){let l=Xo,c=!0;switch(s.op){case">=":case">":l=eK(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Xo}jN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];jN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class jm{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q4(t,e,n,r,i,s,l,c){return new jm(t,e,n,r,i,s,l,c)}function hv(t){return new jm(t)}function UN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z4(t){return t.collectionGroup!==null}function Uh(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Et(Wt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new H0(s,r))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new H0(Wt.keyField(),r))}return e.Ie}function li(t){const e=Me(t);return e.Ee||(e.Ee=cK(e,Uh(t))),e.Ee}function cK(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new H0(i.field,s)}));const n=t.endAt?new xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xd(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gw(t,e){const n=t.filters.concat([e]);return new jm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kw(t,e,n){return new jm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mv(t,e){return Dm(li(t),li(e))&&t.limitType===e.limitType}function J4(t){return`${Cc(li(t))}|lt:${t.limitType}`}function Wu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Y4(i))).join(", ")}]`),ov(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>bd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>bd(i))).join(",")),`Target(${r})`})(li(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=zN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Uh(r),i)||r.endAt&&!(function(l,c,d){const f=zN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Uh(r),i))})(t,e)}function e5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t5(t){return(e,n)=>{let r=!1;for(const i of Uh(t)){const s=uK(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uK(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?ll(d,f):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return M4(this.inner)}size(){return this.innerSize}}const dK=new Mt(Se.comparator);function ai(){return dK}const n5=new Mt(Se.comparator);function kh(...t){let e=n5;for(const n of t)e=e.insert(n.key,n);return e}function r5(t){let e=n5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ua(){return Fh()}function i5(){return Fh()}function Fh(){return new Xs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fK=new Mt(Se.comparator),hK=new Et(Se.comparator);function Je(...t){let e=hK;for(const n of t)e=e.add(n);return e}const mK=new Et(Ge);function HS(){return mK}function GS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function a5(t){return{integerValue:""+t}}function pK(t,e){return E4(e)?a5(e):GS(t,e)}class pv{constructor(){this._=void 0}}function gK(t,e,n){return t instanceof am?(function(i,s){const l={fields:{[z4]:{stringValue:j4},[V4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&US(s)&&(s=dv(s)),s&&(l.fields[L4]=s),{mapValue:l}})(n,e):t instanceof wd?o5(t,e):t instanceof Ed?l5(t,e):(function(i,s){const l=s5(i,s),c=FN(l)+FN(i.Ae);return Fw(l)&&Fw(i.Ae)?a5(c):GS(i.serializer,c)})(t,e)}function yK(t,e,n){return t instanceof wd?o5(t,e):t instanceof Ed?l5(t,e):n}function s5(t,e){return t instanceof sm?(function(r){return Fw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class am extends pv{}class wd extends pv{constructor(e){super(),this.elements=e}}function o5(t,e){const n=c5(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ed extends pv{constructor(e){super(),this.elements=e}}function l5(t,e){let n=c5(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class sm extends pv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FN(t){return $t(t.integerValue||t.doubleValue)}function c5(t){return im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vK{constructor(e,n){this.field=e,this.transform=n}}function bK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof wd&&i instanceof wd||r instanceof Ed&&i instanceof Ed?fd(r.elements,i.elements,Wa):r instanceof sm&&i instanceof sm?Wa(r.Ae,i.Ae):r instanceof am&&i instanceof am})(t.transform,e.transform)}class xK{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gv{}function u5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yv(t.key,yr.none()):new Yd(t.key,t.data,yr.none());{const n=t.data,r=gr.empty();let i=new Et(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Qs(t.key,r,new Vr(i.toArray()),yr.none())}}function _K(t,e,n){t instanceof Yd?(function(i,s,l){const c=i.value.clone(),d=$N(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Qs?(function(i,s,l){if(!w0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=$N(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(d5(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function qh(t,e,n,r){return t instanceof Yd?(function(s,l,c,d){if(!w0(s.precondition,l))return c;const f=s.value.clone(),m=HN(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qs?(function(s,l,c,d){if(!w0(s.precondition,l))return c;const f=HN(s.fieldTransforms,d,l),m=l.data;return m.setAll(d5(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return w0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function wK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=s5(r.transform,i||null);s!=null&&(n===null&&(n=gr.empty()),n.set(r.field,s))}return n||null}function qN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fd(r,i,((s,l)=>bK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends gv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qs extends gv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function d5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $N(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,yK(l,c,n[i]))}return r}function HN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,gK(s,l,e))}return r}class yv extends gv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f5 extends gv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_K(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i5();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=u5(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&fd(this.mutations,e.mutations,((n,r)=>qN(n,r)))&&fd(this.baseMutations,e.baseMutations,((n,r)=>qN(n,r)))}}class YS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return fK})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new YS(e,n,r,i)}}class WS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EK{constructor(e,n){this.count=e,this.unchangedNames=n}}var xn,ot;function SK(t){switch(t){case ue.OK:return Ce(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function h5(t){if(t===void 0)return ln("GRPC error has no .code"),ue.UNKNOWN;switch(t){case xn.OK:return ue.OK;case xn.CANCELLED:return ue.CANCELLED;case xn.UNKNOWN:return ue.UNKNOWN;case xn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case xn.INTERNAL:return ue.INTERNAL;case xn.UNAVAILABLE:return ue.UNAVAILABLE;case xn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case xn.NOT_FOUND:return ue.NOT_FOUND;case xn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case xn.ABORTED:return ue.ABORTED;case xn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case xn.DATA_LOSS:return ue.DATA_LOSS;default:return Ce(39323,{code:t})}}(ot=xn||(xn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function TK(){return new TextEncoder}const AK=new tl([4294967295,4294967295],0);function GN(t){const e=TK().encode(t),n=new l4;return n.update(e),new Uint8Array(n.digest())}function KN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tl([n,r],0),new tl([i,s],0)]}class XS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ch(`Invalid padding: ${n}`);if(r<0)throw new Ch(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ch(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ch(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(tl.fromNumber(r)));return i.compare(AK)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GN(e),[r,i]=KN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new XS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=GN(e),[r,i]=KN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(Le.min(),i,new Mt(Ge),ai(),Je())}}class Vm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vm(r,n,Je(),Je(),Je())}}class E0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class m5{constructor(e,n){this.targetId=e,this.Ce=n}}class p5{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YN{constructor(){this.ve=0,this.Fe=WN(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:s})}})),new Vm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=zg(),this.He=zg(),this.Ye=new Mt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(G0(s))if(r===0){const l=new Se(s.path);this.et(n,l,en.newNoDocument(l,Le.min()))}else je(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Bs(r).toUint8Array()}catch(d){if(d instanceof D4)return Wh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new XS(l,i,s)}catch(d){return Wh(d instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&G0(c.target)){const d=new Se(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,en.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Je();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Lm(e,n,this.Ye,this.je,r);return this.je=ai(),this.Je=zg(),this.He=zg(),this.Ye=new Mt(Ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zg(){return new Mt(Se.comparator)}function WN(){return new Mt(Se.comparator)}const kK={asc:"ASCENDING",desc:"DESCENDING"},CK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NK={and:"AND",or:"OR"};class OK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yw(t,e){return t.useProto3Json||ov(e)?e:{value:e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PK(t,e){return Sd(t,e.toTimestamp())}function Ar(t){return je(!!t,49232),Le.fromTimestamp((function(n){const r=Vs(n);return new _t(r.seconds,r.nanos)})(t))}function QS(t,e){return Ww(t,e).canonicalString()}function Ww(t,e){const n=(function(i){return new ht(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function y5(t){const e=ht.fromString(t);return je(A5(e),10190,{key:e.toString()}),e}function Y0(t,e){return QS(t.databaseId,e.path)}function yc(t,e){const n=y5(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(x5(n))}function v5(t,e){return QS(t.databaseId,e)}function b5(t){const e=y5(t);return e.length===4?ht.emptyPath():x5(e)}function Xw(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x5(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XN(t,e,n){return{name:Y0(t,e),fields:n.value.mapValue.fields}}function RK(t,e,n){const r=yc(t,e.name),i=Ar(e.updateTime),s=e.createTime?Ar(e.createTime):Le.min(),l=new gr({mapValue:{fields:e.fields}}),c=en.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function MK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ce(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(je(m===void 0||typeof m=="string",58123),un.fromBase64String(m||"")):(je(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),un.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?ue.UNKNOWN:h5(f.code);return new xe(m,f.message||"")})(l);n=new p5(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yc(t,r.document.name),s=Ar(r.document.updateTime),l=r.document.createTime?Ar(r.document.createTime):Le.min(),c=new gr({mapValue:{fields:r.document.fields}}),d=en.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new E0(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yc(t,r.document),s=r.readTime?Ar(r.readTime):Le.min(),l=en.newNoDocument(i,s),c=r.removedTargetIds||[];n=new E0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yc(t,r.document),s=r.removedTargetIds||[];n=new E0([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new EK(i,s),c=r.targetId;n=new m5(c,l)}}return n}function W0(t,e){let n;if(e instanceof Yd)n={update:XN(t,e.key,e.value)};else if(e instanceof yv)n={delete:Y0(t,e.key)};else if(e instanceof Qs)n={update:XN(t,e.key,e.data),updateMask:BK(e.fieldMask)};else{if(!(e instanceof f5))return Ce(16599,{Vt:e.type});n={verify:Y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof am)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ed)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:PK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)})(t,e.precondition)),n}function Qw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?yr.updateTime(Ar(s.updateTime)):s.exists!==void 0?yr.exists(s.exists):yr.none()})(e.currentDocument):yr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)je(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new am;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new wd(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new Ed(m)}else"increment"in c?d=new sm(l,c.increment):Ce(16584,{proto:c});const f=Wt.fromServerFormat(c.fieldPath);return new vK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=yc(t,e.update.name),s=new gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Vr(f.map((m=>Wt.fromServerFormat(m))))})(e.updateMask);return new Qs(i,s,l,n,r)}return new Yd(i,s,n,r)}if(e.delete){const i=yc(t,e.delete);return new yv(i,n)}if(e.verify){const i=yc(t,e.verify);return new f5(i,n)}return Ce(1463,{proto:e})}function DK(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ar(i.updateTime):Ar(s);return l.isEqual(Le.min())&&(l=Ar(s)),new xK(l,i.transformResults||[])})(n,e)))):[]}function _5(t,e){return{documents:[v5(t,e.path)]}}function w5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v5(t,i);const s=(function(f){if(f.length!==0)return T5(wt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(b){return{field:Xu(b.field),direction:zK(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Yw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function E5(t){let e=b5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=S5(p);return b instanceof wt&&$S(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(w){return new H0(Qu(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,ov(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(p){const b=!!p.before,x=p.values||[];return new xd(x,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const b=!p.before,x=p.values||[];return new xd(x,b)})(n.endAt)),Q4(e,i,l,s,c,"F",d,f)}function jK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qu(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qu(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qu(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qu(n.unaryFilter.field);return at.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return at.create(Qu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wt.create(n.compositeFilter.filters.map((r=>S5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function zK(t){return kK[t]}function LK(t){return CK[t]}function VK(t){return NK[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Qu(t){return Wt.fromServerFormat(t.fieldPath)}function T5(t){return t instanceof at?(function(n){if(n.op==="=="){if(MN(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NAN"}};if(RN(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MN(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NAN"}};if(RN(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(n.field),op:LK(n.op),value:n.value}}})(t):t instanceof wt?(function(n){const r=n.getFilters().map((i=>T5(i)));return r.length===1?r[0]:{compositeFilter:{op:VK(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function BK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function A5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Is{constructor(e,n,r,i,s=Le.min(),l=Le.min(),c=un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I5{constructor(e){this.yt=e}}function UK(t,e){let n;if(e.document)n=RK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Se.fromSegments(e.noDocument.path),i=Oc(e.noDocument.readTime);n=en.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce(56709);{const r=Se.fromSegments(e.unknownDocument.path),i=Oc(e.unknownDocument.version);n=en.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new _t(i[0],i[1]);return Le.fromTimestamp(s)})(e.readTime)),n}function QN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:X0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:Y0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Sd(s,l.version.toTimestamp()),createTime:Sd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nc(e.version)};else{if(!e.isUnknownDocument())return Ce(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Nc(e.version)}}return r}function X0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oc(t){const e=new _t(t.seconds,t.nanoseconds);return Le.fromTimestamp(e)}function sc(t,e){const n=(e.baseMutations||[]).map((s=>Qw(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Qw(t.yt,s))),i=_t.fromMillis(e.localWriteTimeMs);return new KS(e.batchId,i,n,r)}function Nh(t){const e=Oc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Oc(t.lastLimboFreeSnapshotVersion):Le.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return je(l===1,1966,{count:l}),li(hv(b5(s.documents[0])))})(t.query):(function(s){return li(E5(s))})(t.query),new Is(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,un.fromBase64String(t.resumeToken))}function k5(t,e){const n=Nc(e.snapshotVersion),r=Nc(e.lastLimboFreeSnapshotVersion);let i;i=G0(e.target)?_5(t.yt,e.target):w5(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function C5(t){const e=E5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kw(e,e.limit,"L"):e}function O1(t,e){return new WS(e.largestBatchId,Qw(t.yt,e.overlayMutation))}function ZN(t,e){const n=e.path.lastSegment();return[t,vr(e.path.popLast()),n]}function JN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nc(r.readTime),documentKey:vr(r.documentKey.path),largestBatchId:r.largestBatchId}}class FK{getBundleMetadata(e,n){return eO(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Oc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return eO(e).put((function(i){return{bundleId:i.id,createTime:Nc(Ar(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return tO(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:C5(s.bundledQuery),readTime:Oc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return tO(e).put((function(i){return{name:i.name,readTime:Nc(Ar(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function eO(t){return On(t,lv)}function tO(t){return On(t,cv)}class vv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new vv(e,r)}getOverlay(e,n){return fh(e).get(ZN(this.userId,n)).next((r=>r?O1(this.serializer,r):null))}getOverlays(e,n){const r=Ua();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new WS(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(vr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(fh(e).Z(Vw,c))})),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ua(),s=vr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return fh(e).J(Vw,l).next((c=>{for(const d of c){const f=O1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ua();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return fh(e).ee({index:C4,range:c},((d,f,m)=>{const p=O1(this.serializer,f);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return fh(e).put((function(i,s,l){const[c,d,f]=ZN(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:W0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function fh(t){return On(t,uv)}class qK{bt(e){return On(e,VS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?un.fromUint8Array(r):un.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class oc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt($t(e.integerValue));else if("doubleValue"in e){const r=$t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Vs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Bs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?U4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):fv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=vd,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt($t(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Se.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}oc.Kt=new oc;const Vu=255;function $K(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function nO(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=$K(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class HK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=nO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=nO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Vu),this.sn(255)}_n(){this.an(Vu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Vu?(this.sn(Vu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Vu?(this.an(Vu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class GK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class KK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class hh{constructor(){this.cn=new HK,this.ln=new GK(this.cn),this.hn=new KK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class lc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new lc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:S0(this.En),directionalValue:S0(this.dn),orderedDocumentKey:S0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Lo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=rO(t.En,e.En),n!==0?n:(n=rO(t.dn,e.dn),n!==0?n:Se.comparator(t.In,e.In)))}function rO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function S0(t){return Sz()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function iO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class aO{constructor(e){this.mn=new Et(((n,r)=>Wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(je(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=jw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Jl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Et(Wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new g0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new g0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new g0(r.field,r.dir==="asc"?0:1)));return new B0(B0.UNKNOWN_ID,this.collectionId,n,Xh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function N5(t){if(je(t instanceof at||t instanceof wt,20012),t instanceof at){if(t instanceof X4){const n=t.value.arrayValue?.values?.map((r=>at.create(t.field,"==",r)))||[];return wt.create(n,"or")}return t}const e=t.filters.map((n=>N5(n)));return wt.create(e,t.op)}function YK(t){if(t.getFilters().length===0)return[];const e=eE(N5(t));return je(O5(e),7391),Zw(e)||Jw(e)?[e]:e.getFilters()}function Zw(t){return t instanceof at}function Jw(t){return t instanceof wt&&$S(t)}function O5(t){return Zw(t)||Jw(t)||(function(n){if(n instanceof wt&&qw(n)){for(const r of n.getFilters())if(!Zw(r)&&!Jw(r))return!1;return!0}return!1})(t)}function eE(t){if(je(t instanceof at||t instanceof wt,34018),t instanceof at)return t;if(t.filters.length===1)return eE(t.filters[0]);const e=t.filters.map((r=>eE(r)));let n=wt.create(e,t.op);return n=Q0(n),O5(n)?n:(je(n instanceof wt,64498),je(_d(n),40251),je(n.filters.length>1,57927),n.filters.reduce(((r,i)=>ZS(r,i))))}function ZS(t,e){let n;return je(t instanceof at||t instanceof wt,38388),je(e instanceof at||e instanceof wt,25473),n=t instanceof at?e instanceof at?(function(i,s){return wt.create([i,s],"and")})(t,e):sO(t,e):e instanceof at?sO(e,t):(function(i,s){if(je(i.filters.length>0&&s.filters.length>0,48005),_d(i)&&_d(s))return K4(i,s.getFilters());const l=qw(i)?i:s,c=qw(i)?s:i,d=l.filters.map((f=>ZS(f,c)));return wt.create(d,"or")})(t,e),Q0(n)}function sO(t,e){if(_d(e))return K4(e,t.getFilters());{const n=e.filters.map((r=>ZS(t,r)));return wt.create(n,"or")}}function Q0(t){if(je(t instanceof at||t instanceof wt,11850),t instanceof at)return t;const e=t.getFilters();if(e.length===1)return Q0(e[0]);if(H4(t))return t;const n=e.map((i=>Q0(i))),r=[];return n.forEach((i=>{i instanceof at?r.push(i):i instanceof wt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:wt.create(r,t.op)}class WK{constructor(){this.Cn=new JS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(di.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(ht.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(ht.comparator)).toArray()}}const oO="IndexedDbIndexManager",Lg=new Uint8Array(0);class XK{constructor(e,n){this.databaseId=n,this.vn=new JS,this.Fn=new Xs((r=>Cc(r)),((r,i)=>Dm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:vr(i)};return lO(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[p4(n),""],!1,!0);return lO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ba(l.parent))}return r}))}addFieldIndex(e,n){const r=mh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Uu(e);return s.next((c=>{l.put(JN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=mh(e),i=Uu(e),s=Bu(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=mh(e),r=Bu(e),i=Uu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new aO(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Bu(e);let i=!0;const s=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=Je();const c=[];return Q.forEach(s,((d,f)=>{pe(oO,`Using index ${(function(C){return`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map((j=>`${j.fieldPath}:${j.kind}`)).join(",")}`})(d)} to execute ${Cc(n)}`);const m=(function(C,j){const P=jw(j);if(P===void 0)return null;for(const z of K0(C,P.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(f,d),p=(function(C,j){const P=new Map;for(const z of Jl(j))for(const R of K0(C,z.fieldPath))switch(R.op){case"==":case"in":P.set(z.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return P.set(z.fieldPath.canonicalString(),R.value),Array.from(P.values())}return null})(f,d),b=(function(C,j){const P=[];let z=!0;for(const R of Jl(j)){const O=R.kind===0?VN(C,R.fieldPath,C.startAt):BN(C,R.fieldPath,C.startAt);P.push(O.value),z&&(z=O.inclusive)}return new xd(P,z)})(f,d),x=(function(C,j){const P=[];let z=!0;for(const R of Jl(j)){const O=R.kind===0?BN(C,R.fieldPath,C.endAt):VN(C,R.fieldPath,C.endAt);P.push(O.value),z&&(z=O.inclusive)}return new xd(P,z)})(f,d),w=this.On(d,f,b),E=this.On(d,f,x),S=this.Nn(d,f,p),k=this.Bn(d.indexId,m,w,b.inclusive,E,x.inclusive,S);return Q.forEach(k,(M=>r.Y(M,n.limit).next((C=>{C.forEach((j=>{const P=Se.fromSegments(j.documentKey);l.has(P)||(l=l.add(P),c.push(P))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=YK(wt.create(e.filters,"and")).map((r=>Hw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const b=n?this.Ln(n[p/f]):Lg,x=this.kn(e,b,r[p%f],i),w=this.qn(e,b,s[p%f],l),E=c.map((S=>this.kn(e,b,S,!0)));m.push(...this.createRange(x,w,E))}return m}kn(e,n,r,i){const s=new lc(e,Se.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new lc(e,Se.empty(),n,r);return i?s.An():s}xn(e,n){const r=new aO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new Et(Wt.comparator),m=!1;for(const p of d.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:f=f.add(b.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new hh;for(const i of Jl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);oc.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new hh;return oc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new hh;return oc.Kt.Dt(rm(this.databaseId,n),r.Pn((function(s){const l=Jl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new hh);let s=0;for(const l of Jl(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&im(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);oc.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new hh;d.seed(c.un()),oc.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof at&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=mh(e),i=Uu(e);return(n?r.J(Lw,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return Q.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const b=p?new Xh(p.sequenceNumber,new di(Oc(p.readTime),new Se(Ba(p.documentKey)),p.largestBatchId)):Xh.empty(),x=m.fields.map((([w,E])=>new g0(Wt.fromServerFormat(w),E)));return new B0(m.indexId,m.collectionGroup,x,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ge(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=mh(e),s=Uu(e);return this.Gn(e).next((l=>i.J(Lw,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>s.put(JN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?Q.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,n,r,i){return Bu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Bu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Bu(e);let s=new Et(Lo);return i.ee({index:k4,range:IDBKeyRange.only([r.indexId,this.uid,S0(this.$n(r,n))])},((l,c)=>{s=s.add(new lc(r.indexId,n,iO(c.arrayValue),iO(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Et(Lo);const i=this.Qn(n,e);if(i==null)return r;const s=jw(n);if(s!=null){const l=e.data.field(s.fieldPath);if(im(l))for(const c of l.arrayValue.values||[])r=r.add(new lc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new lc(n.indexId,e.key,Lg,i));return r}Jn(e,n,r,i,s){pe(oO,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,b){const x=d.getIterator(),w=f.getIterator();let E=Lu(x),S=Lu(w);for(;E||S;){let k=!1,M=!1;if(E&&S){const C=m(E,S);C<0?M=!0:C>0&&(k=!0)}else E!=null?M=!0:k=!0;k?(p(S),S=Lu(w)):M?(b(E),E=Lu(x)):(E=Lu(x),S=Lu(w))}})(i,s,Lo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return Uu(e).ee({index:I4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Lo(l,c))).filter(((l,c,d)=>!c||Lo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Lo(l,e),d=Lo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Lg,Se.empty()),d=i[l+1].Vn(this.uid,Lg,Se.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return Lo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cO)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ce(44426))))).next(cO)}}function lO(t){return On(t,em)}function Bu(t){return On(t,Vh)}function mh(t){return On(t,LS)}function Uu(t){return On(t,Lh)}function cO(t){je(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;DS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new di(e.readTime,e.documentKey,n)}const uO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P5=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function R5(t,e,n){const r=t.store(ea),i=t.store(md),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(d.next((()=>{je(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=S4(e,m.key.path,n.batchId);s.push(i.delete(p)),f.push(m.key)}return Q.waitFor(s).next((()=>f))}function Z0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce(14731);e=t.noDocument}return JSON.stringify(e).length}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(P5,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class bv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){je(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new bv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).ee({index:uc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Zu(e),l=Vo(e);return l.add({}).next((c=>{je(typeof c=="number",49019);const d=new KS(c,n,r,i),f=(function(x,w,E){const S=E.baseMutations.map((M=>W0(x.yt,M))),k=E.mutations.map((M=>W0(x.yt,M)));return{userId:w,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:k}})(this.serializer,this.userId,d),m=[];let p=new Et(((b,x)=>Ge(b.canonicalString(),x.canonicalString())));for(const b of i){const x=S4(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(f)),m.push(s.put(x,IG))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return Vo(e).get(n).next((r=>r?(je(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),sc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Vo(e).ee({index:uc,range:i},((l,c,d)=>{c.userId===this.userId&&(je(c.batchId>=r,47524,{tr:r}),s=sc(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pc;return Vo(e).ee({index:uc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,pc],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).J(uc,n).next((r=>r.map((i=>sc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=y0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Zu(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,b=Ba(m);if(f===this.userId&&n.path.isEqual(b))return Vo(e).get(p).next((x=>{if(!x)throw Ce(61480,{nr:l,batchId:p});je(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),s.push(sc(this.serializer,x))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ge);const i=[];return n.forEach((s=>{const l=y0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Zu(e).ee({range:c},((f,m,p)=>{const[b,x,w]=f,E=Ba(x);b===this.userId&&s.path.isEqual(E)?r=r.add(w):p.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=y0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new Et(Ge);return Zu(e).ee({range:l},((d,f,m)=>{const[p,b,x]=d,w=Ba(b);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(c=c.add(x)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Vo(e).get(s).next((l=>{if(l===null)throw Ce(35274,{batchId:s});je(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(sc(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return R5(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Zu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ba(s[1]);i.push(d)}else c.done()})).next((()=>{je(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return M5(e,this.userId,n)}_r(e){return D5(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:pc,lastStreamToken:""}))}}function M5(t,e,n){const r=y0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Zu(t).ee({range:s,X:!0},((c,d,f)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function Vo(t){return On(t,ea)}function Zu(t){return On(t,md)}function D5(t){return On(t,Zh)}class Pc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pc(0)}static cr(){return new Pc(-1)}}class QK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Pc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Le.fromTimestamp(new _t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Fu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(je(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Fu(e).ee(((l,c)=>{const d=Nh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Fu(e).ee(((r,i)=>{const s=Nh(i);n(s)}))}lr(e){return dO(e).get(q0).next((n=>(je(n!==null,2888),n)))}hr(e,n){return dO(e).put(q0,n)}Pr(e,n){return Fu(e).put(k5(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Cc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Fu(e).ee({range:i,index:A4},((l,c,d)=>{const f=Nh(c);Dm(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Yo(e);return n.forEach((l=>{const c=vr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Yo(e);return Q.forEach(n,(s=>{const l=vr(s.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Yo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Yo(e);let s=Je();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ba(l[1]),m=new Se(f);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=vr(n.path),i=IDBKeyRange.bound([r],[p4(r)],!1,!0);let s=0;return Yo(e).ee({index:zS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Fu(e).get(n).next((r=>r?Nh(r):null))}}function Fu(t){return On(t,pd)}function dO(t){return On(t,gc)}function Yo(t){return On(t,gd)}const fO="LruGarbageCollector",j5=1048576;function hO([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class ZK{constructor(e){this.Ir=e,this.buffer=new Et(hO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(fO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?pe(fO,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class JK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Lr.ce);const r=new ZK(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Yu()<=it.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function L5(t,e){return new JK(t,e)}class eY{constructor(e,n){this.db=e,this.garbageCollector=L5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Vg(e,r)}removeReference(e,n,r){return Vg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Vg(e,n)}br(e,n){return(function(i,s){let l=!1;return D5(i).te((c=>M5(i,c,s).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Le.min()),Yo(e).delete((function(p){return[0,vr(p.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Vg(e,n)}Sr(e,n){const r=Yo(e);let i,s=Lr.ce;return r.ee({index:zS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Lr.ce&&n(new Se(Ba(i)),s),s=f,i=d):s=Lr.ce})).next((()=>{s!==Lr.ce&&n(new Se(Ba(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vg(t,e){return Yo(t).put((function(r,i){return{targetId:0,path:vr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class V5{constructor(){this.changes=new Xs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Xl(e).put(r)}removeEntry(e,n,r){return Xl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],X0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=en.newInvalidDocument(n);return Xl(e).ee({index:v0,range:IDBKeyRange.only(ph(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:en.newInvalidDocument(n)};return Xl(e).ee({index:v0,range:IDBKeyRange.only(ph(n))},((i,s)=>{r={document:this.Cr(n,s),size:Z0(s)}})).next((()=>r))}getEntries(e,n){let r=ai();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ai(),i=new Mt(Se.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,Z0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new Et(gO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(ph(i.first()),ph(i.last())),l=i.getIterator();let c=l.getNext();return Xl(e).ee({index:v0,range:s},((d,f,m)=>{const p=Se.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&gO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(ph(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),X0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=ai();for(const p of f){const b=this.Cr(Se.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(zm(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=ai();const l=pO(n,r),c=pO(n,di.max());return Xl(e).ee({index:T4,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(Se.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new nY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return mO(e).get(zw).next((n=>(je(!!n,20021),n)))}Dr(e,n){return mO(e).put(zw,n)}Cr(e,n){if(n){const r=UK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Le.min())))return r}return en.newInvalidDocument(e)}}function B5(t){return new tY(t)}class nY extends V5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Xs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Et(((s,l)=>Ge(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=QN(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=Z0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=QN(this.Nr.serializer,l.convertToNoDocument(Le.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function mO(t){return On(t,Jh)}function Xl(t){return On(t,F0)}function ph(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pO(t,e){const n=e.documentKey.path.toArray();return[t,X0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ge(n[s],r[s]),i)return i;return i=Ge(n.length,r.length),i||(i=Ge(n[n.length-2],r[r.length-2]),i||Ge(n[n.length-1],r[r.length-1]))}class rY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class U5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&qh(r.mutation,i,Vr.empty(),_t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=Ua();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=kh();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ua();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ai();const l=Fh(),c=(function(){return Fh()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Qs)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),qh(m.mutation,f,m.mutation.getFieldMask(),_t.now())):l.set(f.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new rY(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new Mt(((l,c)=>l-c)),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Vr.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||Je()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=i5();m.forEach((b=>{if(!s.has(b)){const x=u5(n.get(b),r.get(b));x!==null&&p.set(b,x),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Ua());let c=hd,d=s;return l.next((f=>Q.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,Je()))).next((m=>({batchId:c,changes:r5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let i=kh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=kh();return this.indexManager.getCollectionParents(e,s).next((c=>Q.forEach(c,(d=>{const f=(function(p,b){return new jm(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))}));let c=kh();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&qh(m.mutation,f,Vr.empty(),_t.now()),zm(n,f)&&(c=c.insert(d,f))})),c}))}}class iY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ar(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:C5(i.bundledQuery),readTime:Ar(i.readTime)}})(n)),Q.resolve()}}class aY{constructor(){this.overlays=new Mt(Se.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ua();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ua(),s=n.length+1,l=new Se(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Ua(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ua(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new WS(n,r));let s=this.qr.get(n);s===void 0&&(s=Je(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class sY{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class eT{constructor(){this.Qr=new Et(Fn.$r),this.Ur=new Et(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Se(new ht([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ht([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=Je();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}class oY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Fn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new KS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Fn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?pc:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Ge);return n.forEach((i=>{const s=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const l=new Fn(new Se(s),0);let c=new Et(Ge);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lY{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ai();const l=n.path,c=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||DS(b4(m),r)<=0||(i.has(m.key)||zm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cY(this)}getSize(e){return Q.resolve(this.size)}}class cY extends V5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class uY{constructor(e){this.persistence=e,this.si=new Xs((n=>Cc(n)),Dm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new eT,this.targetCount=0,this.ai=Pc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(s).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class tT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lr(0),this.li=!1,this.li=!0,this.hi=new sY,this.referenceDelegate=e(this),this.Pi=new uY(this),this.indexManager=new WK,this.remoteDocumentCache=(function(i){return new lY(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new I5(n),this.Ii=new iY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new oY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new dY(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class dY extends _4{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new eT,this.Vi=null}static mi(e){return new xv(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Se.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class J0{constructor(e,n){this.persistence=e,this.pi=new Xs((r=>vr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=L5(this,n)}static mi(e,n){return new J0(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=x0(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fY{constructor(e){this.serializer=e}k(e,n,r,i){const s=new sv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Mm)})(e),(function(d){d.createObjectStore(Zh,{keyPath:AG}),d.createObjectStore(ea,{keyPath:IN,autoIncrement:!0}).createIndex(uc,kN,{unique:!0}),d.createObjectStore(md)})(e),yO(e),(function(d){d.createObjectStore(ec)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(gd),d.deleteObjectStore(pd),d.deleteObjectStore(gc)})(e),yO(e)),l=l.next((()=>(function(d){const f=d.store(gc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return f.put(q0,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(ea).J().next((p=>{d.deleteObjectStore(ea),d.createObjectStore(ea,{keyPath:IN,autoIncrement:!0}).createIndex(uc,kN,{unique:!0});const b=f.store(ea),x=p.map((w=>b.put(w)));return Q.waitFor(x)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(yd,{keyPath:DG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Jh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(lv,{keyPath:jG})})(e),(function(d){d.createObjectStore(cv,{keyPath:zG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(uv,{keyPath:$G});f.createIndex(Vw,HG,{unique:!1}),f.createIndex(C4,GG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(F0,{keyPath:kG});f.createIndex(v0,CG),f.createIndex(T4,NG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(ec)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(LS,{keyPath:LG,autoIncrement:!0}).createIndex(Lw,VG,{unique:!1}),d.createObjectStore(Lh,{keyPath:BG}).createIndex(I4,UG,{unique:!1}),d.createObjectStore(Vh,{keyPath:FG}).createIndex(k4,qG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Lh).clear()})).next((()=>{n.objectStore(Vh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(VS,{keyPath:KG})})(e)}))),r<18&&i>=18&&Sz()&&(l=l.next((()=>{n.objectStore(Lh).clear()})).next((()=>{n.objectStore(Vh).clear()}))),l}wi(e){let n=0;return e.store(ec).ee(((r,i)=>{n+=Z0(i)})).next((()=>{const r={byteSize:n};return e.store(Jh).put(zw,r)}))}yi(e){const n=e.store(Zh),r=e.store(ea);return n.J().next((i=>Q.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,pc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(uc,l).next((c=>Q.forEach(c,(d=>{je(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=sc(this.serializer,d);return R5(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(gd),r=e.store(ec);return e.store(gc).get(q0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new ht(l),f=(function(p){return[0,vr(p)]})(d);s.push(n.get(f).next((m=>m?Q.resolve():(p=>n.put({targetId:0,path:vr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(s)))}))}bi(e,n){e.createObjectStore(em,{keyPath:MG});const r=n.store(em),i=new JS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:vr(d)})}};return n.store(ec).ee({X:!0},((l,c)=>{const d=new ht(l);return s(d.popLast())})).next((()=>n.store(md).ee({X:!0},(([l,c,d],f)=>{const m=Ba(c);return s(m.popLast())}))))}Di(e){const n=e.store(pd);return n.ee(((r,i)=>{const s=Nh(i),l=k5(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(ec),i=[];return r.ee(((s,l)=>{const c=n.store(F0),d=(function(p){return p.document?new Se(ht.fromString(p.document.name).popFirst(5)):p.noDocument?Se.fromSegments(p.noDocument.path):p.unknownDocument?Se.fromSegments(p.unknownDocument.path):Ce(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(ea),i=B5(this.serializer),s=new tT(xv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??Je();sc(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const m=new mr(f),p=vv.wt(this.serializer,m),b=s.getIndexManager(m),x=bv.wt(m,this.serializer,b,s.referenceDelegate);return new U5(i,x,p,b).recalculateAndSaveOverlaysForDocumentKeys(new Bw(n,Lr.ce),d).next()}))}))}}function yO(t){t.createObjectStore(gd,{keyPath:PG}).createIndex(zS,RG,{unique:!0}),t.createObjectStore(pd,{keyPath:"targetId"}).createIndex(A4,OG,{unique:!0}),t.createObjectStore(gc)}const Bo="IndexedDbPersistence",P1=18e5,R1=5e3,M1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hY="main";class nT{constructor(e,n,r,i,s,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!nT.v())throw new xe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eY(this,i),this.$i=n+hY,this.serializer=new I5(d),this.Ui=new rl(this.$i,this.Ni,new fY(this.serializer)),this.hi=new qK,this.Pi=new QK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=B5(this.serializer),this.Ii=new FK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&ln(Bo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ue.FAILED_PRECONDITION,M1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Lr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Bg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(yl(e))return pe(Bo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Bo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return gh(e).get(zu).next((n=>Q.resolve(this.es(n))))}ts(e){return Bg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,P1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=On(n,yd);return r.J().next((i=>{const s=this.ss(i,P1),l=i.filter((c=>s.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):gh(e).get(zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new xe(ue.FAILED_PRECONDITION,M1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bg(e).J().next((r=>this.ss(r,R1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pe(Bo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Mm,yd],(e=>{const n=new Bw(e,Lr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Bg(e).J().next((n=>this.ss(n,P1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return bv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new XK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return vv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe(Bo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?XG:d===17?R4:d===16?WG:d===15?BS:d===14?P4:d===13?O4:d===12?YG:d===11?N4:void Ce(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new Bw(c,this.ci?this.ci.next():Lr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new xe(ue.FAILED_PRECONDITION,x4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return gh(e).get(zu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new xe(ue.FAILED_PRECONDITION,M1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put(zu,n)}static v(){return rl.v()}Zi(e){const n=gh(e);return n.get(zu).next((r=>this.es(r)?(pe(Bo,"Releasing primary lease."),n.delete(zu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ln(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;Ez()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return pe(Bo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ln(Bo,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ln("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(t){return On(t,Mm)}function Bg(t){return On(t,yd)}function F5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class rT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rT(e,n.fromCache,r,i)}}class mY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class q5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ez()?8:w4(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new mY;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Yu()<=it.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Yu()<=it.DEBUG&&pe("QueryEngine","Query:",Wu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Yu()<=it.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):Q.resolve())}ys(e,n){if(UN(n))return Q.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Kw(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Je(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,Kw(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return UN(n)||i.isEqual(Le.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Q.resolve(null):(Yu()<=it.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wu(n)),this.vs(e,l,n,v4(i,hd)).next((c=>c)))}))}Ds(e,n){let r=new Et(t5(e));return n.forEach(((i,s)=>{zm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Yu()<=it.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Wu(n)),this.ps.getDocumentsMatchingQuery(e,n,di.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const iT="LocalStore",pY=3e8;class gY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mt(Ge),this.xs=new Xs((s=>Cc(s)),Dm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $5(t,e,n,r){return new gY(t,e,n,r)}async function H5(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=Je();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function yY(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,b=p.keys();let x=Q.resolve();return b.forEach((w=>{x=x.next((()=>m.getEntry(d,w))).next((E=>{const S=f.docVersions.get(w);je(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function G5(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function vY(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let x=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(p,x),(function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=pY?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,x,m)&&c.push(n.Pi.updateTargetData(s,x))}));let d=ai(),f=Je();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(bY(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Le.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Q.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function bY(t,e,n){let r=Je(),i=Je();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ai();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):pe(iT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function xY(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ey(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Is(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Td(t,e,n){const r=Me(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!yl(l))throw l;pe(iT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tE(t,e,n){const r=Me(t);let i=Le.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=Me(d),b=p.xs.get(m);return b!==void 0?Q.resolve(p.Ms.get(b)):p.Pi.getTargetData(f,m)})(r,l,li(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Le.min(),n?s:Je()))).next((c=>(W5(r,e5(e),c),{documents:c,Qs:s})))))}function K5(t,e){const n=Me(t),r=Me(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function Y5(t,e){const n=Me(t),r=n.Os.get(e)||Le.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,v4(r,hd),Number.MAX_SAFE_INTEGER))).then((i=>(W5(n,e,i),i)))}function W5(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const X5="firestore_clients";function vO(t,e){return`${X5}_${t}_${e}`}const Q5="firestore_mutations";function bO(t,e,n){let r=`${Q5}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Z5="firestore_targets";function D1(t,e){return`${Z5}_${t}_${e}`}const za="SharedClientState";class ty{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new xe(i.error.code,i.error.message))),l?new ty(e,n,i.state,s):(ln(za,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $h{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new xe(r.error.code,r.error.message))),s?new $h(e,r.state,i):(ln(za,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ny{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=HS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=E4(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new ny(e,s):(ln(za,`Failed to parse client data for instance '${e}': ${n}`),null)}}class aT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new aT(n.clientId,n.onlineState):(ln(za,`Failed to parse online state: ${e}`),null)}}class nE{constructor(){this.activeTargetIds=HS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Mt(Ge),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=vO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new nE),this.ro=new RegExp(`^${X5}_${l}_([^_]*)$`),this.io=new RegExp(`^${Q5}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Z5}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(vO(this.persistenceKey,r));if(i){const s=ny.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(D1(this.persistenceKey,e));if(i){const s=$h.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(D1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pe(za,"READ",e,n),n}setItem(e,n){pe(za,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){pe(za,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(pe(za,"EVENT",n.key,n.newValue),n.key===this.eo)return void ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Lr.ce;if(s!=null)try{const c=JSON.parse(s);je(typeof c=="number",30636,{So:s}),l=c}catch(c){ln(za,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Lr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new ty(this.currentUser,e,n,r),s=bO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=bO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=D1(this.persistenceKey,e),s=new $h(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return ny.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ty.Ws(new mr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return $h.Ws(i,n)}uo(e){return aT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(za,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=HS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class J5{constructor(){this.Mo=new nE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _Y{Oo(e){}shutdown(){}}const xO="ConnectivityMonitor";class _O{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(xO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(xO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ug=null;function rE(){return Ug===null?Ug=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ug++,"0x"+Ug.toString(16)}const z1="RestConnection",wY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=rE(),c=this.zo(e,n.toUriEncodedString());pe(z1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),m=$d(f);return this.Jo(e,c,d,r,m).then((p=>(pe(z1,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Wh(z1,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=wY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class SY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fr="WebChannelConnection";class TY extends EY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=rE();return new Promise(((c,d)=>{const f=new c4;f.setWithCredentials(!0),f.listenOnce(u4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case p0.NO_ERROR:const p=f.getResponseJson();pe(fr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case p0.TIMEOUT:pe(fr,`RPC '${e}' ${l} timed out`),d(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case p0.HTTP_ERROR:const b=f.getStatus();if(pe(fr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x?.error;if(w&&w.status&&w.message){const E=(function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN})(w.status);d(new xe(E,w.message))}else d(new xe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(fr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);pe(fr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=rE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=h4(),c=f4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");pe(fr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let b=!1,x=!1;const w=new SY({Yo:S=>{x?pe(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(pe(fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),pe(fr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,k,M)=>{S.listen(k,(C=>{try{M(C)}catch(j){setTimeout((()=>{throw j}),0)}}))};return E(p,Ih.EventType.OPEN,(()=>{x||(pe(fr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(p,Ih.EventType.CLOSE,(()=>{x||(x=!0,pe(fr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),E(p,Ih.EventType.ERROR,(S=>{x||(x=!0,Wh(fr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),E(p,Ih.EventType.MESSAGE,(S=>{if(!x){const k=S.data[0];je(!!k,16349);const M=k,C=M?.error||M[0]?.error;if(C){pe(fr,`RPC '${e}' stream ${i} received error:`,C);const j=C.status;let P=(function(O){const V=xn[O];if(V!==void 0)return h5(V)})(j),z=C.message;P===void 0&&(P=ue.INTERNAL,z="Unknown error status: "+j+" with message "+C.message),x=!0,w.a_(new xe(P,z)),p.close()}else pe(fr,`RPC '${e}' stream ${i} received:`,k),w.u_(k)}})),E(c,d4.STAT_EVENT,(S=>{S.stat===Mw.PROXY?pe(fr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Mw.NOPROXY&&pe(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function e3(){return typeof window<"u"?window:null}function T0(){return typeof document<"u"?document:null}function _v(t){return new OK(t,!0)}class t3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wO="PersistentStream";class n3{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(wO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(wO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AY extends n3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Ar(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xw(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=G0(d)?{documents:_5(s,d)}:{query:w5(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=g5(s,l.resumeToken);const f=Yw(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=Sd(s,l.snapshotVersion.toTimestamp());const f=Yw(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=jK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xw(this.serializer),n.removeTarget=e,this.q_(n)}}class IY extends n3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DK(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>W0(this.serializer,r)))};this.q_(n)}}class kY{}class CY extends kY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Ww(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(ue.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Ww(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ln(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Rc="RemoteStore";class OY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{qc(this)&&(pe(Rc,"Restarting streams for network reachability change."),await(async function(d){const f=Me(d);f.Ea.add(4),await Bm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await wv(f)})(this))}))})),this.Ra=new NY(r,i)}}async function wv(t){if(qc(t))for(const e of t.da)await e(!0)}async function Bm(t){for(const e of t.da)await e(!1)}function Ev(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lT(n)?oT(n):Xd(n).O_()&&sT(n,e))}function Ad(t,e){const n=Me(t),r=Xd(n);n.Ia.delete(e),r.O_()&&r3(n,e),n.Ia.size===0&&(r.O_()?r.L_():qc(n)&&n.Ra.set("Unknown"))}function sT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xd(t).Y_(e)}function r3(t,e){t.Va.Ue(e),Xd(t).Z_(e)}function oT(t){t.Va=new IK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xd(t).start(),t.Ra.ua()}function lT(t){return qc(t)&&!Xd(t).x_()&&t.Ia.size>0}function qc(t){return Me(t).Ea.size===0}function i3(t){t.Va=void 0}async function PY(t){t.Ra.set("Online")}async function RY(t){t.Ia.forEach(((e,n)=>{sT(t,e)}))}async function MY(t,e){i3(t),lT(t)?(t.Ra.ha(e),oT(t)):t.Ra.set("Unknown")}async function DY(t,e,n){if(t.Ra.set("Online"),e instanceof p5&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){pe(Rc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ry(t,r)}else if(e instanceof E0?t.Va.Ze(e):e instanceof m5?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await G5(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(un.EMPTY_BYTE_STRING,m.snapshotVersion)),r3(s,d);const p=new Is(m.target,d,f,m.sequenceNumber);sT(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){pe(Rc,"Failed to raise snapshot:",r),await ry(t,r)}}async function ry(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Bm(t),t.Ra.set("Offline"),n||(n=()=>G5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Rc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wv(t)}))}function a3(t,e){return e().catch((n=>ry(t,n,e)))}async function Wd(t){const e=Me(t),n=cl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pc;for(;jY(e);)try{const i=await xY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,zY(e,i)}catch(i){await ry(e,i)}s3(e)&&o3(e)}function jY(t){return qc(t)&&t.Ta.length<10}function zY(t,e){t.Ta.push(e);const n=cl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function s3(t){return qc(t)&&!cl(t).x_()&&t.Ta.length>0}function o3(t){cl(t).start()}async function LY(t){cl(t).ra()}async function VY(t){const e=cl(t);for(const n of t.Ta)e.ea(n.mutations)}async function BY(t,e,n){const r=t.Ta.shift(),i=YS.from(r,e,n);await a3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Wd(t)}async function UY(t,e){e&&cl(t).X_&&await(async function(r,i){if((function(l){return SK(l)&&l!==ue.ABORTED})(i.code)){const s=r.Ta.shift();cl(r).B_(),await a3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Wd(r)}})(t,e),s3(t)&&o3(t)}async function EO(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),pe(Rc,"RemoteStore received new credentials");const r=qc(n);n.Ea.add(3),await Bm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wv(n)}async function iE(t,e){const n=Me(t);e?(n.Ea.delete(2),await wv(n)):e||(n.Ea.add(2),await Bm(n),n.Ra.set("Unknown"))}function Xd(t){return t.ma||(t.ma=(function(n,r,i){const s=Me(n);return s.sa(),new AY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:PY.bind(null,t),t_:RY.bind(null,t),r_:MY.bind(null,t),H_:DY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),lT(t)?oT(t):t.Ra.set("Unknown")):(await t.ma.stop(),i3(t))}))),t.ma}function cl(t){return t.fa||(t.fa=(function(n,r,i){const s=Me(n);return s.sa(),new IY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:LY.bind(null,t),r_:UY.bind(null,t),ta:VY.bind(null,t),na:BY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Wd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Rc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class cT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new cT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uT(t,e){if(ln("AsyncQueue",`${e}: ${t}`),yl(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class ad{static emptySet(e){return new ad(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=kh(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ad)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ad;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class SO{constructor(){this.ga=new Mt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Id{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Id(e,n,ad.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class FY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qY{constructor(){this.queries=TO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Me(n),s=i.queries;i.queries=TO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function TO(){return new Xs((t=>J4(t)),mv)}async function $Y(t,e){const n=Me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new FY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=uT(l,`Initialization of query '${Wu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&dT(n)}async function HY(t,e){const n=Me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GY(t,e){const n=Me(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&dT(n)}function KY(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function dT(t){t.Ca.forEach((e=>{e.next()}))}var aE,AO;(AO=aE||(aE={})).Ma="default",AO.Cache="cache";class YY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aE.Cache}}class l3{constructor(e){this.key=e}}class c3{constructor(e){this.key=e}}class WY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=t5(e),this.tu=new ad(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new SO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),x=zm(this.query,p)?p:null,w=!!b&&this.mutatedKeys.has(b.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;b&&x?b.data.isEqual(x.data)?w!==E&&(r.track({type:3,doc:x}),S=!0):this.su(b,x)||(r.track({type:2,doc:x}),S=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!b&&x?(r.track({type:0,doc:x}),S=!0):b&&!x&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(c=!0)),S&&(x?(l=l.add(x),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(x,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:S})}};return E(x)-E(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Id(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new c3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new l3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class XY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QY{constructor(e){this.key=e,this.hu=!1}}class ZY{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xs((c=>J4(c)),mv),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Se.comparator),this.Au=new Map,this.Ru=new eT,this.Vu={},this.mu=new Map,this.fu=Pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JY(t,e,n=!0){const r=Sv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await u3(r,e,n,!0),i}async function eW(t,e){const n=Sv(t);await u3(n,e,!0,!1)}async function u3(t,e,n,r){const i=await ey(t.localStore,li(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await fT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ev(t.remoteStore,i),c}async function fT(t,e,n,r,i){t.pu=(p,b,x)=>(async function(E,S,k,M){let C=S.view.ru(k);C.Cs&&(C=await tE(E.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,C))));const j=M&&M.targetChanges.get(S.targetId),P=M&&M.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(C,E.isPrimaryClient,j,P);return sE(E,S.targetId,z.au),z.snapshot})(t,p,b,x);const s=await tE(t.localStore,e,!0),l=new WY(e,s.Qs),c=l.ru(s.documents),d=Vm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);sE(t,n,f.au);const m=new XY(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function tW(t,e,n){const r=Me(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!mv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Td(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ad(r.remoteStore,i.targetId),kd(r,i.targetId)})).catch(gl)):(kd(r,i.targetId),await Td(r.localStore,i.targetId,!0))}async function nW(t,e){const n=Me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ad(n.remoteStore,r.targetId))}async function rW(t,e,n){const r=gT(t);try{const i=await(function(l,c){const d=Me(l),f=_t.now(),m=c.reduce(((x,w)=>x.add(w.key)),Je());let p,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=ai(),E=Je();return d.Ns.getEntries(x,m).next((S=>{w=S,w.forEach(((k,M)=>{M.isValidDocument()||(E=E.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,w))).next((S=>{p=S;const k=[];for(const M of c){const C=wK(M,p.get(M.key).overlayedDocument);C!=null&&k.push(new Qs(M.key,C,q4(C.value.mapValue),yr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,k,c)})).next((S=>{b=S;const k=S.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(x,S.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:r5(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Mt(Ge)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await bl(r,i.changes),await Wd(r.remoteStore)}catch(i){const s=uT(i,"Failed to persist write");n.reject(s)}}async function d3(t,e){const n=Me(t);try{const r=await vY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?je(l.hu,14607):i.removedDocuments.size>0&&(je(l.hu,42227),l.hu=!1))})),await bl(n,r,e)}catch(r){await gl(r)}}function IO(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Me(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(c)&&(f=!0)})),f&&dT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iW(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Mt(Se.comparator);l=l.insert(s,en.newNoDocument(s,Le.min()));const c=Je().add(s),d=new Lm(Le.min(),new Map,new Mt(Ge),l,c);await d3(r,d),r.du=r.du.remove(s),r.Au.delete(e),pT(r)}else await Td(r.localStore,e,!1).then((()=>kd(r,e,n))).catch(gl)}async function aW(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await yY(n.localStore,e);mT(n,r,null),hT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,i)}catch(i){await gl(i)}}async function sW(t,e,n){const r=Me(t);try{const i=await(function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(je(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);mT(r,e,n),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,i)}catch(i){await gl(i)}}function hT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mT(t,e,n){const r=Me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function kd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||f3(t,r)}))}function f3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ad(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),pT(t))}function sE(t,e,n){for(const r of n)r instanceof l3?(t.Ru.addReference(r.key,e),oW(t,r)):r instanceof c3?(pe(Qd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f3(t,r.key)):Ce(19791,{wu:r})}function oW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(Qd,"New document in limbo: "+n),t.Eu.add(r),pT(t))}function pT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(ht.fromString(e)),r=t.fu.next();t.Au.set(r,new QY(n)),t.du=t.du.insert(n,r),Ev(t.remoteStore,new Is(li(hv(n.path)),r,"TargetPurposeLimboResolution",Lr.ce))}}async function bl(t,e,n){const r=Me(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=rT.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(f,(b=>Q.forEach(b.Es,(x=>m.persistence.referenceDelegate.addReference(p,b.targetId,x))).next((()=>Q.forEach(b.ds,(x=>m.persistence.referenceDelegate.removeReference(p,b.targetId,x)))))))))}catch(p){if(!yl(p))throw p;pe(iT,"Failed to update sequence numbers: "+p)}for(const p of f){const b=p.targetId;if(!p.fromCache){const x=m.Ms.get(b),w=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function lW(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){pe(Qd,"User change. New user:",e.toKey());const r=await H5(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new xe(ue.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Ls)}}function cW(t,e){const n=Me(t),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let i=Je();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function uW(t,e){const n=Me(t),r=await tE(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&sE(n,e.targetId,i.au),i}async function dW(t,e){const n=Me(t);return Y5(n.localStore,e).then((r=>bl(n,r)))}async function fW(t,e,n,r){const i=Me(t),s=await(function(c,d){const f=Me(c),m=Me(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,d).next((b=>b?f.localDocuments.getDocuments(p,b):Q.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Wd(i.remoteStore):n==="acknowledged"||n==="rejected"?(mT(i,e,r||null),hT(i,e),(function(c,d){Me(Me(c).mutationQueue).ir(d)})(i.localStore,e)):Ce(6720,"Unknown batchState",{Su:n}),await bl(i,s)):pe(Qd,"Cannot apply mutation batch with id: "+e)}async function hW(t,e){const n=Me(t);if(Sv(n),gT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await kO(n,r.toArray());n.gu=!0,await iE(n.remoteStore,!0);for(const s of i)Ev(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(kd(n,l),Td(n.localStore,l,!0)))),Ad(n.remoteStore,l)})),await i,await kO(n,r),(function(l){const c=Me(l);c.Au.forEach(((d,f)=>{Ad(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Mt(Se.comparator)})(n),n.gu=!1,await iE(n.remoteStore,!1)}}async function kO(t,e,n){const r=Me(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await ey(r.localStore,li(d[0]));for(const f of d){const m=r.Tu.get(f),p=await uW(r,m);p.snapshot&&s.push(p.snapshot)}}else{const f=await K5(r.localStore,l);c=await ey(r.localStore,f),await fT(r,h3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function h3(t){return Q4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mW(t){return(function(n){return Me(Me(n).persistence).Ts()})(Me(t).localStore)}async function pW(t,e,n,r){const i=Me(t);if(i.gu)return void pe(Qd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await Y5(i.localStore,e5(s[0])),c=Lm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",un.EMPTY_BYTE_STRING);await bl(i,l,c);break}case"rejected":await Td(i.localStore,e,!0),kd(i,e,r);break;default:Ce(64155,n)}}async function gW(t,e,n){const r=Sv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(Qd,"Adding an already active target "+i);continue}const s=await K5(r.localStore,i),l=await ey(r.localStore,s);await fT(r,h3(s),l.targetId,!1,l.resumeToken),Ev(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await Td(r.localStore,i,!1).then((()=>{Ad(r.remoteStore,i),kd(r,i)})).catch(gl)}}function Sv(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iW.bind(null,e),e.Pu.H_=GY.bind(null,e.eventManager),e.Pu.yu=KY.bind(null,e.eventManager),e}function gT(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sW.bind(null,e),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $5(this.persistence,new q5,e.initialUser,this.serializer)}Cu(e){return new tT(xv.mi,this.serializer)}Du(e){return new J5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class yW extends om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof J0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new tT((r=>J0.mi(r,n)),this.serializer)}}class m3 extends om{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await gT(this.xu.syncEngine),await Wd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return $5(this.persistence,new q5,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new z5(r,e.asyncQueue,n)}Mu(e,n){const r=new SG(n,this.persistence);return new EG(e.asyncQueue,r)}Cu(e){const n=F5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new nT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,e3(),T0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new J5}}class vW extends m3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof j1&&(this.sharedClientState.syncEngine={Co:fW.bind(null,n),vo:pW.bind(null,n),Fo:gW.bind(null,n),Ts:mW.bind(null,n),Do:dW.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await hW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=e3();if(!j1.v(n))throw new xe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=F5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new j1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lW.bind(null,this.syncEngine),await iE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qY})()}createDatastore(e){const n=_v(e.databaseInfo.databaseId),r=(function(s){return new TY(s)})(e.databaseInfo);return(function(s,l,c,d){return new CY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new OY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>IO(this.syncEngine,n,0)),(function(){return _O.v()?new _O:new _Y})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,m){const p=new ZY(i,s,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Me(n);pe(Rc,"RemoteStore shutting down."),r.Ea.add(5),await Bm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};class bW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ul="FirestoreClient";class xW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=MS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{pe(ul,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(ul,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function L1(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ul,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _W(t);pe(ul,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>EO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>EO(e.remoteStore,i))),t._onlineComponents=e}async function _W(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ul,"Using user provided OfflineComponentProvider");try{await L1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Wh("Error using user provided cache. Falling back to memory cache: "+n),await L1(t,new om)}}else pe(ul,"Using default OfflineComponentProvider"),await L1(t,new yW(void 0));return t._offlineComponents}async function p3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ul,"Using user provided OnlineComponentProvider"),await CO(t,t._uninitializedComponentsProvider._online)):(pe(ul,"Using default OnlineComponentProvider"),await CO(t,new lm))),t._onlineComponents}function wW(t){return p3(t).then((e=>e.syncEngine))}async function NO(t){const e=await p3(t),n=e.eventManager;return n.onListen=JY.bind(null,e.syncEngine),n.onUnlisten=tW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nW.bind(null,e.syncEngine),n}function g3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const OO=new Map;const EW="firestore.googleapis.com",PO=!0;class RO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EW,this.ssl=PO}else this.host=e.host,this.ssl=e.ssl??PO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j5)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dG;switch(r.type){case"firstParty":return new mG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=OO.get(n);r&&(pe("ComponentProvider","Removing Datastore"),OO.delete(n),r.terminate())})(this),Promise.resolve()}}class Zd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zd(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rm(n,cn._jsonSchema))return new cn(e,r||null,new Se(ht.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:wn("string",cn._jsonSchemaVersion),referencePath:wn("string")};class il extends Zd{constructor(e,n,r){super(e,n,hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Se(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function MO(t,e,...n){if(t=Nn(t),g4("collection","path",e),t instanceof yT){const r=ht.fromString(e,...n);return wN(r),new il(t,null,r)}{if(!(t instanceof cn||t instanceof il))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return wN(r),new il(t.firestore,null,r)}}function al(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=MS.newId()),g4("doc","path",e),t instanceof yT){const r=ht.fromString(e,...n);return _N(r),new cn(t,null,new Se(r))}{if(!(t instanceof cn||t instanceof il))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return _N(r),new cn(t.firestore,t instanceof il?t.converter:null,new Se(r))}}const DO="AsyncQueue";class jO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t3(this,"async_queue_retry"),this._c=()=>{const r=T0();r&&pe(DO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=T0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=T0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new nl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;pe(DO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ln("INTERNAL UNHANDLED ERROR: ",zO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:zO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function LO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Mc extends yT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jO(e),this._firestoreClient=void 0,await e}}}function SW(t,e,n){n||(n=$0);const r=wS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Sc(s,e))return i;throw new xe(ue.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new xe(ue.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j5)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&$d(e.host)&&_z(e.host),r.initialize({options:e,instanceIdentifier:n})}function y3(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TW(t),t._firestoreClient}function TW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new ZG(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,g3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(un.fromBase64String(e))}catch(n){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rm(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:wn("string",Pi._jsonSchemaVersion),bytes:wn("string")};class Tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vT{constructor(e){this._methodName=e}}class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Rm(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:wn("string",$a._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class Ha{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rm(e,Ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ha(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ha._jsonSchemaVersion="firestore/vectorValue/1.0",Ha._jsonSchema={type:wn("string",Ha._jsonSchemaVersion),vectorValues:wn("object")};const AW=/^__.*__$/;class IW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class v3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class bT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b3(this.Ac)&&AW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_v(e)}Cc(e,n,r,i=!1){return new bT({Ac:e,methodName:n,Dc:r,path:Wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(t){const e=t._freezeSettings(),n=_v(t._databaseId);return new kW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x3(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);xT("Data must be an object, but it was:",l,r);const c=_3(r,l);let d,f;if(s.merge)d=new Vr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=oE(e,p,n);if(!l.contains(b))throw new xe(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);E3(m,b)||m.push(b)}d=new Vr(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new IW(new gr(c),d,f)}class Iv extends vT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iv}}function CW(t,e,n,r){const i=t.Cc(1,e,n);xT("Data must be an object, but it was:",i,r);const s=[],l=gr.empty();vl(r,((d,f)=>{const m=_T(e,d,n);f=Nn(f);const p=i.yc(m);if(f instanceof Iv)s.push(m);else{const b=Um(f,p);b!=null&&(s.push(m),l.set(m,b))}}));const c=new Vr(s);return new v3(l,c,i.fieldTransforms)}function NW(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[oE(e,r,n)],d=[i];if(s.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(oE(e,s[b])),d.push(s[b+1]);const f=[],m=gr.empty();for(let b=c.length-1;b>=0;--b)if(!E3(f,c[b])){const x=c[b];let w=d[b];w=Nn(w);const E=l.yc(x);if(w instanceof Iv)f.push(x);else{const S=Um(w,E);S!=null&&(f.push(x),m.set(x,S))}}const p=new Vr(f);return new v3(m,p,l.fieldTransforms)}function OW(t,e,n,r=!1){return Um(n,t.Cc(r?4:3,e))}function Um(t,e){if(w3(t=Nn(t)))return xT("Unsupported field value:",e,t),_3(t,e);if(t instanceof vT)return(function(r,i){if(!b3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=Um(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:Sd(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sd(i.serializer,s)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:g5(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ha)return(function(l,c){return{mapValue:{fields:{[FS]:{stringValue:qS},[vd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return GS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${av(r)}`)})(t,e)}function _3(t,e){const n={};return M4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((r,i)=>{const s=Um(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function w3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof $a||t instanceof Pi||t instanceof cn||t instanceof vT||t instanceof Ha)}function xT(t,e,n){if(!w3(n)||!y4(n)){const r=av(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function oE(t,e,n){if((e=Nn(e))instanceof Tv)return e._internalPath;if(typeof e=="string")return _T(t,e);throw iy("Field path arguments must be of type string or ",t,!1,void 0,n)}const PW=new RegExp("[~\\*/\\[\\]]");function _T(t,e,n){if(e.search(PW)>=0)throw iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tv(...e.split("."))._internalPath}catch{throw iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iy(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new xe(ue.INVALID_ARGUMENT,c+t+d)}function E3(t,e){return t.some((n=>n.isEqual(e)))}class S3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RW extends S3{data(){return super.data()}}function T3(t,e){return typeof e=="string"?_T(t,e):e instanceof Tv?e._internalPath:e._delegate._internalPath}function MW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wT{}class DW extends wT{}function jW(t,e,...n){let r=[];e instanceof wT&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof ST)).length,c=s.filter((d=>d instanceof ET)).length;if(l>1||l>0&&c>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class ET extends DW{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ET(e,n,r)}_apply(e){const n=this._parse(e);return A3(e._query,n),new Zd(e.firestore,e.converter,Gw(e._query,n))}_parse(e){const n=Av(e.firestore);return(function(s,l,c,d,f,m,p){let b;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){BO(p,m);const w=[];for(const E of p)w.push(VO(d,s,E));b={arrayValue:{values:w}}}else b=VO(d,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||BO(p,m),b=OW(c,l,p,m==="in"||m==="not-in");return at.create(f,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ST extends wT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ST(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const d of c)A3(l,d),l=Gw(l,d)})(e._query,n),new Zd(e.firestore,e.converter,Gw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VO(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z4(e)&&n.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!Se.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rm(t,new Se(r))}if(n instanceof cn)return rm(t,n._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(n)}.`)}function BO(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A3(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zW{convertValue(e,n="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[vd].arrayValue?.values?.map((r=>$t(r.doubleValue)));return new Ha(n)}convertGeoPoint(e){return new $a($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);je(A5(r),9688,{name:e});const i=new kc(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function I3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends S3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vc._jsonSchemaVersion="firestore/documentSnapshot/1.0",vc._jsonSchema={type:wn("string",vc._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class A0 extends vc{data(e={}){return super.data(e)}}class sd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new A0(this._firestore,this._userDataWriter,r.key,r,new Oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new A0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new A0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:LW(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=MS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}sd._jsonSchemaVersion="firestore/querySnapshot/1.0",sd._jsonSchema={type:wn("string",sd._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class k3 extends zW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function lE(t,e,n){t=Ps(t,cn);const r=Ps(t.firestore,Mc),i=I3(t.converter,e,n);return kv(r,[x3(Av(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function C3(t,e,n,...r){t=Ps(t,cn);const i=Ps(t.firestore,Mc),s=Av(i);let l;return l=typeof(e=Nn(e))=="string"||e instanceof Tv?NW(s,"updateDoc",t._key,e,n,r):CW(s,"updateDoc",t._key,e),kv(i,[l.toMutation(t._key,yr.exists(!0))])}function VW(t){return kv(Ps(t.firestore,Mc),[new yv(t._key,yr.none())])}function BW(t,e){const n=Ps(t.firestore,Mc),r=al(t),i=I3(t.converter,e);return kv(n,[x3(Av(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then((()=>r))}function TT(t,...e){t=Nn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||LO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(LO(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof cn)l=Ps(t.firestore,Mc),c=hv(t._key.path),s={next:d=>{e[r]&&e[r](UW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ps(t,Zd);l=Ps(d.firestore,Mc),c=d._query;const f=new k3(l);s={next:m=>{e[r]&&e[r](new sd(l,f,d,m))},error:e[r+1],complete:e[r+2]},MW(t._query)}return(function(f,m,p,b){const x=new bW(b),w=new YY(m,x,p);return f.asyncQueue.enqueueAndForget((async()=>$Y(await NO(f),w))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>HY(await NO(f),w)))}})(y3(l),c,i,s)}function kv(t,e){return(function(r,i){const s=new nl;return r.asyncQueue.enqueueAndForget((async()=>rW(await wW(r),i,s))),s.promise})(y3(t),e)}function UW(t,e,n){const r=n.docs.get(e._key),i=new k3(t);return new vc(t,i,e._key,r,new Oh(n.hasPendingWrites,n.fromCache),e.converter)}class FW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=GW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function qW(t){return new FW(t)}class $W{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=lm.provider,this._offlineComponentProvider={build:n=>new m3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class HW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=lm.provider,this._offlineComponentProvider={build:n=>new vW(n,e?.cacheSizeBytes)}}}function GW(t){return new $W(t?.forceOwnership)}function KW(){return new HW}(function(e,n=!0){(function(i){Kd=i})(Hd),ud(new Tc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Mc(new fG(r.getProvider("auth-internal")),new pG(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),el(yN,vN,e),el(yN,vN,"esm2020")})();const YW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"605463352120",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},N3=kz(YW),Fg=sG(N3),WW=new ws,ks=SW(N3,{localCache:qW({tabManager:KW()})}),O3=T.createContext(void 0),XW=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=W$(Fg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await G$(Fg,Zz),await pH(Fg,WW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await X$(Fg)}catch(c){console.error("Error signing out",c)}};return y.jsx(O3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},$c=()=>{const t=T.useContext(O3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},yh={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},goals:[],funds:[],credits:[],version:1,lastUpdated:Date.now()},V1={async fetchMasterDoc(t){return new Promise(e=>{const n=al(ks,"users",t,"data","master"),r=TT(n,i=>{r(),i.exists()?e(i.data()):e(null)},i=>{console.warn("Snapshot error (likely offline with no cache):",i),r(),e(null)})})},async saveMasterDoc(t,e){try{const n=al(ks,"users",t,"data","master");await lE(n,{...e,lastUpdated:Date.now()})}catch(n){throw console.error("Error saving master doc:",n),n}}};function QW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const ZW=t=>{switch(t){case"success":return tX;case"info":return rX;case"warning":return nX;case"error":return iX;default:return null}},JW=Array(12).fill(0),eX=({visible:t,className:e})=>be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},be.createElement("div",{className:"sonner-spinner"},JW.map((n,r)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tX=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nX=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rX=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iX=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aX=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sX=()=>{const[t,e]=be.useState(document.hidden);return be.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let cE=1;class oX{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:cE++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],be.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(cX(f)&&!f.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(f instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!be.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:b,...w})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,x=typeof m=="object"&&!be.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...x})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||cE++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const zr=new oX,lX=(t,e)=>{const n=e?.id||cE++;return zr.addToast({title:t,...e,id:n}),n},cX=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uX=lX,dX=()=>zr.toasts,fX=()=>zr.getActiveToasts(),Ot=Object.assign(uX,{success:zr.success,info:zr.info,warning:zr.warning,error:zr.error,custom:zr.custom,message:zr.message,promise:zr.promise,dismiss:zr.dismiss,loading:zr.loading},{getHistory:dX,getToasts:fX});QW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qg(t){return t.label!==void 0}const hX=3,mX="24px",pX="16px",UO=4e3,gX=356,yX=14,vX=45,bX=200;function Ma(...t){return t.filter(Boolean).join(" ")}function xX(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const _X=t=>{var e,n,r,i,s,l,c,d,f;const{invert:m,toast:p,unstyled:b,interacting:x,setHeights:w,visibleToasts:E,heights:S,index:k,toasts:M,expanded:C,removeToast:j,defaultRichColors:P,closeButton:z,style:R,cancelButtonStyle:O,actionButtonStyle:V,className:q="",descriptionClassName:L="",duration:F,position:U,gap:_e,expandByDefault:we,classNames:W,icons:re,closeButtonAriaLabel:$="Close toast"}=t,[se,ve]=be.useState(null),[H,K]=be.useState(null),[oe,de]=be.useState(!1),[ge,ke]=be.useState(!1),[Ee,Ve]=be.useState(!1),[Z,Ae]=be.useState(!1),[Be,me]=be.useState(!1),[Kt,Xe]=be.useState(0),[tn,Vt]=be.useState(0),Sn=be.useRef(p.duration||F||UO),Vi=be.useRef(null),mt=be.useRef(null),nn=k===0,ha=k+1<=E,Kn=p.type,Bi=p.dismissible!==!1,Yn=p.className||"",es=p.descriptionClassName||"",ma=be.useMemo(()=>S.findIndex(Fe=>Fe.toastId===p.id)||0,[S,p.id]),El=be.useMemo(()=>{var Fe;return(Fe=p.closeButton)!=null?Fe:z},[p.closeButton,z]),Ui=be.useMemo(()=>p.duration||F||UO,[p.duration,F]),Sl=be.useRef(0),Fi=be.useRef(0),Tl=be.useRef(0),qi=be.useRef(null),[qr,Tn]=U.split("-"),xr=be.useMemo(()=>S.reduce((Fe,pt,fn)=>fn>=ma?Fe:Fe+pt.height,0),[S,ma]),Bt=sX(),Xc=p.invert||m,pa=Kn==="loading";Fi.current=be.useMemo(()=>ma*_e+xr,[ma,xr]),be.useEffect(()=>{Sn.current=Ui},[Ui]),be.useEffect(()=>{de(!0)},[]),be.useEffect(()=>{const Fe=mt.current;if(Fe){const pt=Fe.getBoundingClientRect().height;return Vt(pt),w(fn=>[{toastId:p.id,height:pt,position:p.position},...fn]),()=>w(fn=>fn.filter(jn=>jn.toastId!==p.id))}},[w,p.id]),be.useLayoutEffect(()=>{if(!oe)return;const Fe=mt.current,pt=Fe.style.height;Fe.style.height="auto";const fn=Fe.getBoundingClientRect().height;Fe.style.height=pt,Vt(fn),w(jn=>jn.find(Dt=>Dt.toastId===p.id)?jn.map(Dt=>Dt.toastId===p.id?{...Dt,height:fn}:Dt):[{toastId:p.id,height:fn,position:p.position},...jn])},[oe,p.title,p.description,w,p.id,p.jsx,p.action,p.cancel]);const $r=be.useCallback(()=>{ke(!0),Xe(Fi.current),w(Fe=>Fe.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{j(p)},bX)},[p,j,w,Fi]);be.useEffect(()=>{if(p.promise&&Kn==="loading"||p.duration===1/0||p.type==="loading")return;let Fe;return C||x||Bt?(()=>{if(Tl.current<Sl.current){const jn=new Date().getTime()-Sl.current;Sn.current=Sn.current-jn}Tl.current=new Date().getTime()})():Sn.current!==1/0&&(Sl.current=new Date().getTime(),Fe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),$r()},Sn.current)),()=>clearTimeout(Fe)},[C,x,p,Kn,Bt,$r]),be.useEffect(()=>{p.delete&&($r(),p.onDismiss==null||p.onDismiss.call(p,p))},[$r,p.delete]);function pi(){var Fe;if(re?.loading){var pt;return be.createElement("div",{className:Ma(W?.loader,p==null||(pt=p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Kn==="loading"},re.loading)}return be.createElement(eX,{className:Ma(W?.loader,p==null||(Fe=p.classNames)==null?void 0:Fe.loader),visible:Kn==="loading"})}const ts=p.icon||re?.[Kn]||ZW(Kn);var Yt,Hr;return be.createElement("li",{tabIndex:0,ref:mt,className:Ma(q,Yn,W?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,W?.default,W?.[Kn],p==null||(n=p.classNames)==null?void 0:n[Kn]),"data-sonner-toast":"","data-rich-colors":(Yt=p.richColors)!=null?Yt:P,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":oe,"data-promise":!!p.promise,"data-swiped":Be,"data-removed":ge,"data-visible":ha,"data-y-position":qr,"data-x-position":Tn,"data-index":k,"data-front":nn,"data-swiping":Ee,"data-dismissible":Bi,"data-type":Kn,"data-invert":Xc,"data-swipe-out":Z,"data-swipe-direction":H,"data-expanded":!!(C||we&&oe),"data-testid":p.testId,style:{"--index":k,"--toasts-before":k,"--z-index":M.length-k,"--offset":`${ge?Kt:Fi.current}px`,"--initial-height":we?"auto":`${tn}px`,...R,...p.style},onDragEnd:()=>{Ve(!1),ve(null),qi.current=null},onPointerDown:Fe=>{Fe.button!==2&&(pa||!Bi||(Vi.current=new Date,Xe(Fi.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(Ve(!0),qi.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,pt,fn;if(Z||!Bi)return;qi.current=null;const jn=Number(((Fe=mt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_r=Number(((pt=mt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((fn=Vi.current)==null?void 0:fn.getTime()),ur=se==="x"?jn:_r,gi=Math.abs(ur)/Dt;if(Math.abs(ur)>=vX||gi>.11){Xe(Fi.current),p.onDismiss==null||p.onDismiss.call(p,p),K(se==="x"?jn>0?"right":"left":_r>0?"down":"up"),$r(),Ae(!0);return}else{var Wn,Xn;(Wn=mt.current)==null||Wn.style.setProperty("--swipe-amount-x","0px"),(Xn=mt.current)==null||Xn.style.setProperty("--swipe-amount-y","0px")}me(!1),Ve(!1),ve(null)},onPointerMove:Fe=>{var pt,fn,jn;if(!qi.current||!Bi||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Dt=Fe.clientY-qi.current.y,ur=Fe.clientX-qi.current.x;var gi;const Wn=(gi=t.swipeDirections)!=null?gi:xX(U);!se&&(Math.abs(ur)>1||Math.abs(Dt)>1)&&ve(Math.abs(ur)>Math.abs(Dt)?"x":"y");let Xn={x:0,y:0};const ga=Qn=>1/(1.5+Math.abs(Qn)/20);if(se==="y"){if(Wn.includes("top")||Wn.includes("bottom"))if(Wn.includes("top")&&Dt<0||Wn.includes("bottom")&&Dt>0)Xn.y=Dt;else{const Qn=Dt*ga(Dt);Xn.y=Math.abs(Qn)<Math.abs(Dt)?Qn:Dt}}else if(se==="x"&&(Wn.includes("left")||Wn.includes("right")))if(Wn.includes("left")&&ur<0||Wn.includes("right")&&ur>0)Xn.x=ur;else{const Qn=ur*ga(ur);Xn.x=Math.abs(Qn)<Math.abs(ur)?Qn:ur}(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&me(!0),(fn=mt.current)==null||fn.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(jn=mt.current)==null||jn.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},El&&!p.jsx&&Kn!=="loading"?be.createElement("button",{"aria-label":$,"data-disabled":pa,"data-close-button":!0,onClick:pa||!Bi?()=>{}:()=>{$r(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ma(W?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(Hr=re?.close)!=null?Hr:aX):null,(Kn||p.icon||p.promise)&&p.icon!==null&&(re?.[Kn]!==null||p.icon)?be.createElement("div",{"data-icon":"",className:Ma(W?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||pi():null,p.type!=="loading"?ts:null):null,be.createElement("div",{"data-content":"",className:Ma(W?.content,p==null||(s=p.classNames)==null?void 0:s.content)},be.createElement("div",{"data-title":"",className:Ma(W?.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?be.createElement("div",{"data-description":"",className:Ma(L,es,W?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),be.isValidElement(p.cancel)?p.cancel:p.cancel&&qg(p.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:Fe=>{qg(p.cancel)&&Bi&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Fe),$r())},className:Ma(W?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,be.isValidElement(p.action)?p.action:p.action&&qg(p.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:Fe=>{qg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Fe),!Fe.defaultPrevented&&$r())},className:Ma(W?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function FO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wX(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?pX:mX;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const P3=be.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:b="light",richColors:x,duration:w,style:E,visibleToasts:S=hX,toastOptions:k,dir:M=FO(),gap:C=yX,icons:j,containerAriaLabel:P="Notifications"}=e,[z,R]=be.useState([]),O=be.useMemo(()=>r?z.filter(oe=>oe.toasterId===r):z.filter(oe=>!oe.toasterId),[z,r]),V=be.useMemo(()=>Array.from(new Set([s].concat(O.filter(oe=>oe.position).map(oe=>oe.position)))),[O,s]),[q,L]=be.useState([]),[F,U]=be.useState(!1),[_e,we]=be.useState(!1),[W,re]=be.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=be.useRef(null),se=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=be.useRef(null),H=be.useRef(!1),K=be.useCallback(oe=>{R(de=>{var ge;return(ge=de.find(ke=>ke.id===oe.id))!=null&&ge.delete||zr.dismiss(oe.id),de.filter(({id:ke})=>ke!==oe.id)})},[]);return be.useEffect(()=>zr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{R(de=>de.map(ge=>ge.id===oe.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{TF.flushSync(()=>{R(de=>{const ge=de.findIndex(ke=>ke.id===oe.id);return ge!==-1?[...de.slice(0,ge),{...de[ge],...oe},...de.slice(ge+1)]:[oe,...de]})})})}),[z]),be.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:de})=>{re(de?"dark":"light")})}catch{oe.addListener(({matches:ge})=>{try{re(ge?"dark":"light")}catch(ke){console.error(ke)}})}},[b]),be.useEffect(()=>{z.length<=1&&U(!1)},[z]),be.useEffect(()=>{const oe=de=>{var ge;if(l.every(Ve=>de[Ve]||de.code===Ve)){var Ee;U(!0),(Ee=$.current)==null||Ee.focus()}de.code==="Escape"&&(document.activeElement===$.current||(ge=$.current)!=null&&ge.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),be.useEffect(()=>{if($.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,H.current=!1)}},[$.current]),be.createElement("section",{ref:n,"aria-label":`${P} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((oe,de)=>{var ge;const[ke,Ee]=oe.split("-");return O.length?be.createElement("ol",{key:oe,dir:M==="auto"?FO():M,tabIndex:-1,ref:$,className:f,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":ke,"data-x-position":Ee,style:{"--front-toast-height":`${((ge=q[0])==null?void 0:ge.height)||0}px`,"--width":`${gX}px`,"--gap":`${C}px`,...E,...wX(m,p)},onBlur:Ve=>{H.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&(H.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||H.current||(H.current=!0,ve.current=Ve.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{_e||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||we(!0)},onPointerUp:()=>we(!1)},O.filter(Ve=>!Ve.position&&de===0||Ve.position===oe).map((Ve,Z)=>{var Ae,Be;return be.createElement(_X,{key:Ve.id,icons:j,index:Z,toast:Ve,defaultRichColors:x,duration:(Ae=k?.duration)!=null?Ae:w,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Be=k?.closeButton)!=null?Be:d,interacting:_e,position:oe,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(me=>me.position==Ve.position),heights:q.filter(me=>me.position==Ve.position),setHeights:L,expandByDefault:c,gap:C,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),R3=T.createContext(void 0),EX=({children:t})=>{const{user:e}=$c(),[n,r]=T.useState(yh),[i,s]=T.useState(!0),[l,c]=T.useState(!1),d=T.useRef(null);T.useEffect(()=>{if(!e){r(yh),s(!1);return}(async()=>{s(!0);try{const b=await V1.fetchMasterDoc(e.uid);b?(r(b),console.log("[DataContext] Master Doc Loaded:",b)):(console.log("[DataContext] No master doc found, creating new..."),r(yh),V1.saveMasterDoc(e.uid,yh).catch(x=>{console.warn("[DataContext] Initial creation saved locally (offline?)",x)}))}catch(b){console.error("Failed to load master doc, defaulting to empty",b),Ot.warning("Modo Offline: Usando datos locales"),r(yh)}finally{s(!1)}})()},[e]);const f=p=>{e&&(c(!0),d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{try{await V1.saveMasterDoc(e.uid,p),c(!1),console.log("Auto-saved to cloud")}catch(b){console.error("Auto-save failed",b),c(!1),Ot.error("Error al guardar cambios")}},2e3))},m=p=>{r(b=>{const x={...b,...p};return f(x),x})};return y.jsx(R3.Provider,{value:{data:n,updateData:m,isLoading:i,isSaving:l},children:t})},AT=()=>{const t=T.useContext(R3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const SX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),qO=t=>{const e=TX(t);return e.charAt(0).toUpperCase()+e.slice(1)},M3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),AX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var IX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...IX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:M3("lucide",i),...!s&&!AX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>T.createElement(f,m)),...Array.isArray(s)?s:[s]]));const Ie=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(kX,{ref:s,iconNode:e,className:M3(`lucide-${SX(qO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=qO(t),n};const CX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ay=Ie("arrow-down-left",CX);const NX=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],uE=Ie("arrow-down-right",NX);const OX=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],PX=Ie("arrow-up-left",OX);const RX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Cd=Ie("arrow-up-right",RX);const MX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],DX=Ie("book-open",MX);const jX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zX=Ie("briefcase",jX);const LX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],IT=Ie("calculator",LX);const VX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],D3=Ie("calendar-clock",VX);const BX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],j3=Ie("calendar",BX);const UX=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],FX=Ie("car",UX);const qX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$X=Ie("chart-pie",qX);const HX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z3=Ie("check",HX);const GX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KX=Ie("chevron-down",GX);const YX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WX=Ie("chevron-left",YX);const XX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L3=Ie("chevron-right",XX);const QX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],$O=Ie("circle-arrow-down",QX);const ZX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],HO=Ie("circle-arrow-up",ZX);const JX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GO=Ie("circle-check-big",JX);const eQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],tQ=Ie("circle-pause",eQ);const nQ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rQ=Ie("circle-play",nQ);const iQ=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],aQ=Ie("cloud-off",iQ);const sQ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],oQ=Ie("cloud",sQ);const lQ=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],cQ=Ie("coffee",lQ);const uQ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],V3=Ie("dollar-sign",uQ);const dQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],B3=Ie("ellipsis",dQ);const fQ=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],hQ=Ie("flame",fQ);const mQ=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],dE=Ie("folder-kanban",mQ);const pQ=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],gQ=Ie("gamepad-2",pQ);const yQ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],vQ=Ie("gift",yQ);const bQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xQ=Ie("heart",bQ);const _Q=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],wQ=Ie("hourglass",_Q);const EQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SQ=Ie("house",EQ);const TQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AQ=Ie("info",TQ);const IQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],sy=Ie("landmark",IQ);const kQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CQ=Ie("layers",kQ);const NQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OQ=Ie("layout-dashboard",NQ);const PQ=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],KO=Ie("list",PQ);const RQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MQ=Ie("loader-circle",RQ);const DQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jQ=Ie("log-out",DQ);const zQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LQ=Ie("menu",zQ);const VQ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],BQ=Ie("moon",VQ);const UQ=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],FQ=Ie("mouse-pointer-click",UQ);const qQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$Q=Ie("pen",qQ);const HQ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],GQ=Ie("percent",HQ);const KQ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Fm=Ie("piggy-bank",KQ);const YQ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],WQ=Ie("plane",YQ);const XQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rs=Ie("plus",XQ);const QQ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ZQ=Ie("receipt",QQ);const JQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],U3=Ie("refresh-cw",JQ);const eZ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],tZ=Ie("rocket",eZ);const nZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],rZ=Ie("rotate-ccw",nZ);const iZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aZ=Ie("save",iZ);const sZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YO=Ie("search",sZ);const oZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F3=Ie("settings",oZ);const lZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cZ=Ie("shield",lZ);const uZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dZ=Ie("smartphone",uZ);const fZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],hZ=Ie("smile",fZ);const mZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pZ=Ie("star",mZ);const gZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yZ=Ie("sun",gZ);const vZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bc=Ie("target",vZ);const bZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],xZ=Ie("text-align-start",bZ);const _Z=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],B1=Ie("toggle-left",_Z);const wZ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],U1=Ie("toggle-right",wZ);const EZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ms=Ie("trash-2",EZ);const SZ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],q3=Ie("trending-down",SZ);const TZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$3=Ie("trending-up",TZ);const AZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IZ=Ie("user",AZ);const kZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cv=Ie("wallet",kZ);const CZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cm=Ie("x",CZ);const NZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],OZ=Ie("zap",NZ);function H3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=H3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=H3(t))&&(r&&(r+=" "),r+=e);return r}const PZ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},RZ=(t,e)=>({classGroupId:t,validator:e}),G3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),oy="-",WO=[],MZ="arbitrary..",DZ=t=>{const e=zZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return jZ(l);const c=l.split(oy),d=c[0]===""&&c.length>1?1:0;return K3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?PZ(f,d):d:f||WO}return n[l]||WO}}},K3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=K3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(oy):t.slice(e).join(oy),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},jZ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?MZ+r:void 0})(),zZ=t=>{const{theme:e,classGroups:n}=t;return LZ(n,e)},LZ=(t,e)=>{const n=G3();for(const r in t){const i=t[r];kT(i,n,r,e)}return n},kT=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];VZ(l,e,n,r)}},VZ=(t,e,n,r)=>{if(typeof t=="string"){BZ(t,e,n);return}if(typeof t=="function"){UZ(t,e,n,r);return}FZ(t,e,n,r)},BZ=(t,e,n)=>{const r=t===""?e:Y3(e,t);r.classGroupId=n},UZ=(t,e,n,r)=>{if(qZ(t)){kT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(RZ(n,t))},FZ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];kT(d,Y3(e,c),n,r)}},Y3=(t,e)=>{let n=t;const r=e.split(oy),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=G3(),n.nextPart.set(l,c)),n=c}return n},qZ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,$Z=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},fE="!",XO=":",HZ=[],QO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),GZ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const m=i.length;for(let E=0;E<m;E++){const S=i[E];if(l===0&&c===0){if(S===XO){s.push(i.slice(d,E)),d=E+1;continue}if(S==="/"){f=E;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const p=s.length===0?i:i.slice(d);let b=p,x=!1;p.endsWith(fE)?(b=p.slice(0,-1),x=!0):p.startsWith(fE)&&(b=p.slice(1),x=!0);const w=f&&f>d?f-d:void 0;return QO(s,x,b,w)};if(e){const i=e+XO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):QO(HZ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},KZ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},YZ=t=>({cache:$Z(t.cacheSize),parseClassName:GZ(t),sortModifiers:KZ(t),...DZ(t)}),WZ=/\s+/,XZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(WZ);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:b,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:E}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let S=!!E,k=r(S?w.substring(0,E):w);if(!k){if(!S){d=m+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=m+(d.length>0?" "+d:d);continue}S=!1}const M=b.length===0?"":b.length===1?b[0]:s(b).join(":"),C=x?M+fE:M,j=C+k;if(l.indexOf(j)>-1)continue;l.push(j);const P=i(k,S);for(let z=0;z<P.length;++z){const R=P[z];l.push(C+R)}d=m+(d.length>0?" "+d:d)}return d},QZ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=W3(n))&&(i&&(i+=" "),i+=r);return i},W3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=W3(t[r]))&&(n&&(n+=" "),n+=e);return n},ZZ=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((m,p)=>p(m),t());return n=YZ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=XZ(d,n);return i(d,m),m};return s=l,(...d)=>s(QZ(...d))},JZ=[],In=t=>{const e=n=>n[t]||JZ;return e.isThemeGetter=!0,e},X3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Q3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eJ=/^\d+\/\d+$/,tJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qu=t=>eJ.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Uo=t=>!!t&&Number.isInteger(Number(t)),F1=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),xs=t=>tJ.test(t),sJ=()=>!0,oJ=t=>nJ.test(t)&&!rJ.test(t),Z3=()=>!1,lJ=t=>iJ.test(t),cJ=t=>aJ.test(t),uJ=t=>!Pe(t)&&!Re(t),dJ=t=>Jd(t,t6,Z3),Pe=t=>X3.test(t),Ql=t=>Jd(t,n6,oJ),q1=t=>Jd(t,gJ,Ze),ZO=t=>Jd(t,J3,Z3),fJ=t=>Jd(t,e6,cJ),$g=t=>Jd(t,r6,lJ),Re=t=>Q3.test(t),vh=t=>ef(t,n6),hJ=t=>ef(t,yJ),JO=t=>ef(t,J3),mJ=t=>ef(t,t6),pJ=t=>ef(t,e6),Hg=t=>ef(t,r6,!0),Jd=(t,e,n)=>{const r=X3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ef=(t,e,n=!1)=>{const r=Q3.exec(t);return r?r[1]?e(r[1]):n:!1},J3=t=>t==="position"||t==="percentage",e6=t=>t==="image"||t==="url",t6=t=>t==="length"||t==="size"||t==="bg-size",n6=t=>t==="length",gJ=t=>t==="number",yJ=t=>t==="family-name",r6=t=>t==="shadow",vJ=()=>{const t=In("color"),e=In("font"),n=In("text"),r=In("font-weight"),i=In("tracking"),s=In("leading"),l=In("breakpoint"),c=In("container"),d=In("spacing"),f=In("radius"),m=In("shadow"),p=In("inset-shadow"),b=In("text-shadow"),x=In("drop-shadow"),w=In("blur"),E=In("perspective"),S=In("aspect"),k=In("ease"),M=In("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),Re,Pe],z=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[Re,Pe,d],V=()=>[qu,"full","auto",...O()],q=()=>[Uo,"none","subgrid",Re,Pe],L=()=>["auto",{span:["full",Uo,Re,Pe]},Uo,Re,Pe],F=()=>[Uo,"auto",Re,Pe],U=()=>["auto","min","max","fr",Re,Pe],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...O()],re=()=>[qu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],$=()=>[t,Re,Pe],se=()=>[...j(),JO,ZO,{position:[Re,Pe]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",mJ,dJ,{size:[Re,Pe]}],K=()=>[F1,vh,Ql],oe=()=>["","none","full",f,Re,Pe],de=()=>["",Ze,vh,Ql],ge=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Ze,F1,JO,ZO],Ve=()=>["","none",w,Re,Pe],Z=()=>["none",Ze,Re,Pe],Ae=()=>["none",Ze,Re,Pe],Be=()=>[Ze,Re,Pe],me=()=>[qu,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xs],breakpoint:[xs],color:[sJ],container:[xs],"drop-shadow":[xs],ease:["in","out","in-out"],font:[uJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xs],shadow:[xs],spacing:["px",Ze],text:[xs],"text-shadow":[xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qu,Pe,Re,S]}],container:["container"],columns:[{columns:[Ze,Pe,Re,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Uo,"auto",Re,Pe]}],basis:[{basis:[qu,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,qu,"auto","initial","none",Pe]}],grow:[{grow:["",Ze,Re,Pe]}],shrink:[{shrink:["",Ze,Re,Pe]}],order:[{order:[Uo,"first","last","none",Re,Pe]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,vh,Ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,q1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",F1,Pe]}],"font-family":[{font:[hJ,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Re,Pe]}],"line-clamp":[{"line-clamp":[Ze,"none",Re,q1]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Re,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Re,Ql]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ze,"auto",Re,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Uo,Re,Pe],radial:["",Re,Pe],conic:[Uo,Re,Pe]},pJ,fJ]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Re,Pe]}],"outline-w":[{outline:["",Ze,vh,Ql]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",m,Hg,$g]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",p,Hg,$g]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ze,Ql]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,Hg,$g]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ze,Re,Pe]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Re,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Pe]}],filter:[{filter:["","none",Re,Pe]}],blur:[{blur:Ve()}],brightness:[{brightness:[Ze,Re,Pe]}],contrast:[{contrast:[Ze,Re,Pe]}],"drop-shadow":[{"drop-shadow":["","none",x,Hg,$g]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ze,Re,Pe]}],"hue-rotate":[{"hue-rotate":[Ze,Re,Pe]}],invert:[{invert:["",Ze,Re,Pe]}],saturate:[{saturate:[Ze,Re,Pe]}],sepia:[{sepia:["",Ze,Re,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Pe]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Re,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Re,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Re,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Re,Pe]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Re,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Re,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Re,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Re,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Re,Pe]}],ease:[{ease:["linear","initial",k,Re,Pe]}],delay:[{delay:[Ze,Re,Pe]}],animate:[{animate:["none",M,Re,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Re,Pe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Re,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Pe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ze,vh,Ql,q1]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bJ=ZZ(vJ),xJ=()=>{const{user:t}=$c(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?y.jsxs("div",{className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20",children:[y.jsx(U3,{size:14,className:"animate-spin"}),y.jsx("span",{children:"Sincronizando..."})]}):y.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20",title:"Todos los datos estn seguros en la nube.",children:[y.jsx(oQ,{size:14}),y.jsx("span",{children:"Nube Activa"})]}):y.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20",title:"Sin conexin. Los cambios se guardarn en tu dispositivo y se enviarn al volver.",children:[y.jsx(aQ,{size:14}),y.jsx("span",{children:"Modo Local"})]}):null},_J=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=hz(),s=[{to:"/",icon:OQ,label:"Dashboard"},{to:"/expenses",icon:Cv,label:"Gastos"},{to:"/income",icon:ZQ,label:"Ingresos"},{to:"/goals",icon:bc,label:"Metas"},{to:"/funds",icon:Fm,label:"Fondos"},{to:"/credits",icon:sy,label:"Crditos"},{to:"/projects",icon:dE,label:"Proyectos"},{to:"/projections",icon:IT,label:"Proyecciones"}];return y.jsxs(y.Fragment,{children:[t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:e}),y.jsxs("aside",{className:Te("fixed md:static inset-y-0 left-0 z-40 w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[y.jsxs("div",{className:"p-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-500 font-mono tracking-wider",children:"VAULTLY"}),y.jsx("p",{className:"text-[10px] text-zinc-400 font-medium",children:"Personal Finance v2.0"})]}),y.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:y.jsx(cm,{size:20})})]}),y.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2",children:s.map(l=>y.jsxs(uz,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>bJ(Te("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[y.jsx(l.icon,{size:22,className:Te("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-emerald-400 dark:text-emerald-600":"group-hover:text-emerald-500")}),y.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),y.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2",children:[y.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-emerald-500 transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[y.jsx(F3,{size:22,className:"md:w-[18px] md:h-[18px]"}),y.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),y.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-emerald-500 transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[y.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?y.jsx(BQ,{size:18}):y.jsx(yZ,{size:18})]}),y.jsx("div",{className:"flex justify-center pt-1",children:y.jsx(xJ,{})})]})]})]})},i6=T.createContext(void 0),wJ=({children:t})=>{const{user:e}=$c(),[n,r]=T.useState("$"),[i,s]=T.useState(!1),[l,c]=T.useState(!0);T.useEffect(()=>{const m=localStorage.getItem("vault_has_seen_onboarding"),p=localStorage.getItem("vault_currency");if(m&&s(JSON.parse(m)),p&&r(JSON.parse(p)),!e){c(!1);return}const b=al(ks,"users",e.uid,"settings","general"),x=TT(b,w=>{if(w.exists()){const E=w.data();E.currency&&(r(E.currency),localStorage.setItem("vault_currency",JSON.stringify(E.currency))),E.hasSeenOnboarding===!0&&(s(!0),localStorage.setItem("vault_has_seen_onboarding","true"))}c(!1)},w=>{console.error("Error fetching settings",w),c(!1)});return()=>x()},[e]);const d=m=>{if(!e)return;const p=al(ks,"users",e.uid,"settings","general");C3(p,{currency:m}).catch(()=>{lE(p,{currency:m},{merge:!0})}),r(m)},f=async m=>{if(s(m),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(m)),!e)return;const p=al(ks,"users",e.uid,"settings","general");try{await lE(p,{hasSeenOnboarding:m},{merge:!0})}catch(b){console.error("Failed to sync onboarding to DB",b)}};return y.jsx(i6.Provider,{value:{currency:n,setCurrency:d,hasSeenOnboarding:i,setHasSeenOnboarding:f,loading:l},children:t})},br=()=>{const t=T.useContext(i6);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Nd=t=>{const{data:e,updateData:n}=AT(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},rr=[];for(let t=0;t<256;++t)rr.push((t+256).toString(16).slice(1));function EJ(t,e=0){return(rr[t[e+0]]+rr[t[e+1]]+rr[t[e+2]]+rr[t[e+3]]+"-"+rr[t[e+4]]+rr[t[e+5]]+"-"+rr[t[e+6]]+rr[t[e+7]]+"-"+rr[t[e+8]]+rr[t[e+9]]+"-"+rr[t[e+10]]+rr[t[e+11]]+rr[t[e+12]]+rr[t[e+13]]+rr[t[e+14]]+rr[t[e+15]]).toLowerCase()}let $1;const SJ=new Uint8Array(16);function TJ(){if(!$1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$1=crypto.getRandomValues.bind(crypto)}return $1(SJ)}const AJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eP={randomUUID:AJ};function IJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??TJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EJ(r)}function kJ(t,e,n){return eP.randomUUID&&!t?eP.randomUUID():IJ(t)}const Ir=t=>{const{data:e,updateData:n}=AT(),r=e.transactions||[],i=m=>{const p={id:kJ(),...m};n({transactions:[...r,p]})},s=m=>{const p=r.filter(b=>b.id!==m);n({transactions:p})},l=(m,p)=>{const b=r.map(x=>x.category===m?{...x,category:p}:x);n({transactions:b})},c=t?r.filter(m=>m.type===t):r,d=c.reduce((m,p)=>m+p.amount,0);return{transactions:c,addTransaction:i,deleteTransaction:s,total:d,getByCategory:()=>{const m=c.reduce((p,b)=>{const x=b.category||"Sin Categora";return p[x]=(p[x]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))},allTransactions:r,updateCategory:l}},tf=t=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,l]=T.useState(null),{user:c}=$c();return T.useEffect(()=>{if(!c){n([]),i(!1);return}i(!0);const p=MO(ks,"users",c.uid,t),b=jW(p),x=TT(b,w=>{const E=[];w.forEach(S=>{E.push({id:S.id,...S.data()})}),n(E),i(!1),l(null)},w=>{console.error(`Error fetching ${t}:`,w),l(w),w.code==="permission-denied"?Ot.error(`Sin permisos para leer ${t}`):w.code!=="unavailable"&&Ot.error(`Error de sincronizacin (${t})`),i(!1)});return()=>x()},[c,t]),{data:e,add:async p=>{if(c)try{const b=MO(ks,"users",c.uid,t),{id:x,...w}=p;await BW(b,w)}catch(b){throw console.error(`Error adding to ${t}:`,b),b.code==="permission-denied"?Ot.error("Error de permisos. No se pudo guardar."):Ot.error("Error al guardar datos. (Se reintentar cuando haya conexin)"),b}},remove:async p=>{if(c)try{const b=al(ks,"users",c.uid,t,p);await VW(b)}catch(b){throw console.error(`Error removing from ${t}:`,b),b.code==="permission-denied"?Ot.error("Error de permisos. No se pudo eliminar."):Ot.error("Error al eliminar datos."),b}},update:async(p,b)=>{if(c)try{const x=al(ks,"users",c.uid,t,p);await C3(x,b)}catch(x){throw console.error(`Error updating ${t}:`,x),x.code==="permission-denied"?Ot.error("Error de permisos. No se pudo actualizar."):Ot.error("Error al actualizar datos."),x}},loading:r,error:s}},Nv=()=>{const{data:t,add:e,remove:n,update:r}=tf("scheduled_transactions"),{addTransaction:i}=Ir();return{scheduled:t,addScheduled:d=>{e({...d,active:!0,createdAt:new Date().toISOString()}),Ot.success("Transaccin programada creada")},deleteScheduled:n,toggleActive:(d,f)=>{r(d,{active:!f}),Ot.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();t.forEach(m=>{if(!m.active)return;const p=m.lastProcessedDate?new Date(m.lastProcessedDate):null,b=p&&p.getMonth()===d.getMonth()&&p.getFullYear()===d.getFullYear();if(f>=m.dayOfMonth&&!b&&(i({type:m.type,amount:m.amount,category:m.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${m.description}`}),r(m.id,{lastProcessedDate:d.toISOString().split("T")[0]}),Ot.info(`Transaccin recurrente procesada: ${m.description}`)),!b){const x=m.dayOfMonth-f;x>0&&x<=2&&Ot.warning(`Prximo vencimiento: ${m.description} ($${m.amount})`,{description:`Vence el da ${m.dayOfMonth}`,duration:5e3})}})}}},a6=()=>{const{data:t,add:e,remove:n}=tf("transaction_presets");return{presets:t,addPreset:i=>{if(t.length>=10){Ot.error("Lmite de 10 atajos alcanzado");return}e(i),Ot.success("Atajo creado")},deletePreset:n}},Ga=({isOpen:t,onClose:e,title:n,children:r})=>(T.useEffect(()=>{const i=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[t,e]),t?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-zinc-900/60 backdrop-blur-sm transition-opacity",onClick:e}),y.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-md border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),y.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:y.jsx(cm,{size:20})})]}),y.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:r})]})]}):null),CJ=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r}=br(),{themeStyle:i,setThemeStyle:s}=hz(),{logout:l,user:c}=$c(),{categories:d,addCategory:f,removeCategory:m}=Nd("income"),{categories:p,addCategory:b,removeCategory:x}=Nd("expense"),{updateCategory:w}=Ir(),{scheduled:E,toggleActive:S,deleteScheduled:k}=Nv(),{presets:M,addPreset:C,deletePreset:j}=a6(),[P,z]=T.useState("general"),[R,O]=T.useState("expense"),[V,q]=T.useState(""),[L,F]=T.useState(""),[U,_e]=T.useState(""),[we,W]=T.useState(""),[re,$]=T.useState("expense"),se=["$","","","","COP","MXN","ARS","S/"],ve=()=>{V.trim()&&(R==="income"?f(V):b(V),q(""))},H=K=>{confirm(`Eliminar categora "${K}"? Las transacciones pasarn a "Desconocido".`)&&(R==="income"?m(K):x(K),w(K,"Desconocido"))};return y.jsx(Ga,{isOpen:t,onClose:e,title:"Configuracin",children:y.jsxs("div",{className:"flex flex-col h-[55vh] md:h-[500px] max-h-[70vh]",children:[y.jsxs("div",{className:"flex gap-4 border-b border-zinc-200 dark:border-zinc-800 mb-4 overflow-x-auto shrink-0",children:[y.jsx("button",{onClick:()=>z("general"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="general"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"General"}),y.jsx("button",{onClick:()=>z("categories"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="categories"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Categoras"}),y.jsx("button",{onClick:()=>z("scheduled"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="scheduled"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Programados"}),y.jsx("button",{onClick:()=>z("presets"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${P==="presets"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Atajos"})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pr-1",children:[P==="general"&&y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3 flex items-center gap-2",children:[y.jsx(IZ,{size:16}),"Cuenta"]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[c&&y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:c.photoURL||`https://ui-avatars.com/api/?name=${c.displayName}`,alt:"User",className:"w-12 h-12 rounded-full bg-zinc-800"}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("p",{className:"text-sm font-medium text-zinc-900 dark:text-white truncate",children:c.displayName}),y.jsx("p",{className:"text-xs text-zinc-500 truncate",children:c.email})]})]}),y.jsxs("button",{onClick:()=>{l(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/20 transition-all font-medium text-sm",children:[y.jsx(jQ,{size:16}),"Cerrar Sesin"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Moneda Principal"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:se.map(K=>y.jsx("button",{onClick:()=>r(K),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===K?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"}`,children:K},K))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Estilo Visual"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"classic",name:"Clsico",color:"bg-stone-500"},{id:"sepia",name:"Sepia (Eye Care)",color:"bg-orange-500"},{id:"ocean",name:"Ocano",color:"bg-slate-500"},{id:"midnight",name:"Medianoche",color:"bg-indigo-500"},{id:"bloom",name:"Bloom Flower",color:"bg-rose-500"},{id:"royal",name:"Royal Purple",color:"bg-purple-500"}].map(K=>y.jsxs("button",{onClick:()=>s(K.id),className:`p-3 rounded-xl border-2 flex items-center gap-3 transition-all ${i===K.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 ring-1 ring-emerald-500":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full ${K.color}`}),y.jsx("span",{className:`text-sm font-medium ${i===K.id?"text-emerald-700 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"}`,children:K.name})]},K.id))})]})]}),P==="categories"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-lg mb-4",children:[y.jsx("button",{onClick:()=>O("expense"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${R==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),y.jsx("button",{onClick:()=>O("income"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${R==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("input",{type:"text",placeholder:"Nueva categora...",value:V,onChange:K=>q(K.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-emerald-500 transition-colors",onKeyDown:K=>K.key==="Enter"&&ve()}),y.jsx("button",{onClick:ve,className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors",children:y.jsx(Rs,{size:20})})]}),y.jsx("div",{className:"space-y-2",children:(R==="income"?d:p).map(K=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-100 dark:hover:border-zinc-800 group transition-colors",children:[y.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:K}),y.jsx("button",{onClick:()=>H(K),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",title:"Eliminar y mover gastos a 'Desconocido'",children:y.jsx(Ms,{size:16})})]},K))})]}),P==="scheduled"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gestiona tus ingresos y gastos recurrentes automticos."}),E.length===0?y.jsxs("div",{className:"text-center py-10 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[y.jsx(D3,{className:"mx-auto text-zinc-400 mb-2",size:32}),y.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:"No hay reglas programadas"})]}):y.jsx("div",{className:"space-y-3",children:E.map(K=>y.jsxs("div",{className:`p-4 rounded-xl border transition-all ${K.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-100 dark:bg-zinc-900/30 border-zinc-200 dark:border-zinc-800 opacity-70"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-bold uppercase px-2 py-0.5 rounded-full ${K.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:K.type==="income"?"Ingreso":"Gasto"}),y.jsxs("span",{className:"text-xs text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md",children:["Da ",K.dayOfMonth]})]}),y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:K.description||"Sin descripcin"}),y.jsxs("p",{className:"text-sm text-zinc-500",children:[K.category,"  ",n,K.amount.toFixed(2)]})]}),y.jsx("button",{onClick:()=>k(K.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar regla permanentemente",children:y.jsx(Ms,{size:18})})]}),y.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("span",{className:"text-xs text-zinc-400",children:K.lastProcessedDate?`ltima vez: ${K.lastProcessedDate}`:"Nunca ejecutado"}),y.jsx("button",{onClick:()=>S(K.id,K.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${K.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:K.active?y.jsxs(y.Fragment,{children:[y.jsx(tQ,{size:14})," Pausar"]}):y.jsxs(y.Fragment,{children:[y.jsx(rQ,{size:14})," Reactivar"]})})]})]},K.id))})]}),P==="presets"&&y.jsxs("div",{className:"space-y-4 pb-2",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold mb-2 flex items-center gap-2 text-zinc-500 uppercase tracking-wider",children:[y.jsx(Rs,{size:14})," Nuevo Atajo"]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:L,onChange:K=>F(K.target.value)}),y.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:U,onChange:K=>_e(K.target.value)})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none bg-no-repeat",value:re,onChange:K=>{$(K.target.value),W("")},children:[y.jsx("option",{value:"expense",children:"Gasto"}),y.jsx("option",{value:"income",children:"Ingreso"})]}),y.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:we,onChange:K=>W(K.target.value),children:[y.jsx("option",{value:"",children:"Categora..."}),(re==="expense"?p:d).map(K=>y.jsx("option",{value:K,children:K},K))]})]}),y.jsx("button",{disabled:!L||!we,onClick:()=>{C({label:L,amount:U?Number(U):void 0,category:we,type:re}),F(""),_e("")},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-1",children:"Agregar Botn"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.map(K=>y.jsxs("div",{className:"p-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm truncate",children:K.label}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[K.amount?`${n}${K.amount}`:"-","  ",K.category]})]}),y.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 flex items-center justify-center bg-rose-50 dark:bg-rose-900/20 translate-x-full group-hover:translate-x-0 transition-transform cursor-pointer",onClick:()=>j(K.id),children:y.jsx(Ms,{size:16,className:"text-rose-500"})})]},K.id)),M.length===0&&y.jsxs("div",{className:"col-span-2 text-center py-6 text-zinc-400 text-sm border border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl",children:[y.jsx(FQ,{className:"mx-auto mb-2 opacity-50"}),"Crea botones rpidos para tus gastos frecuentes"]})]})]})]})]})})},NJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState("expense"),[l,c]=T.useState(""),[d,f]=T.useState(""),[m,p]=T.useState(""),{addTransaction:b}=Ir(),{categories:x}=Nd("expense"),{categories:w}=Nd("income"),{currency:E}=br(),{presets:S}=a6();T.useEffect(()=>{t&&(f(""),c(""),p(""),s("expense"))},[t]);const k=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},300)},M=()=>{const j=Number(l);!j||j<=0||(b({amount:j,type:i,category:d||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(i==="expense"?"Gasto Rpido":"Ingreso Rpido")}),k())};if(!t&&!n)return y.jsx("button",{onClick:()=>e(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:y.jsx(Rs,{size:32,strokeWidth:2.5})});const C=i==="expense"?x:w;return y.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[y.jsx("div",{className:Te("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",n?"opacity-0":"opacity-100"),onClick:k}),y.jsxs("div",{className:Te("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",n?"translate-y-full":"translate-y-0"),children:[y.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:k,children:y.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),y.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[y.jsx("button",{onClick:k,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:y.jsx(KX,{size:28})}),y.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),y.jsx("div",{className:"w-10"})," "]}),y.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[S.length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),y.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:S.map(j=>y.jsxs("button",{onClick:()=>{j.amount&&c(j.amount.toString()),s(j.type),f(j.category),p(j.label)},className:Te("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95",d===j.category&&i===j.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[y.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${j.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:j.type==="expense"?y.jsx(ay,{size:16}):y.jsx(Cd,{size:16})}),y.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:j.label}),j.amount&&y.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[E,j.amount]})]},j.id))})]}),y.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[y.jsxs("button",{onClick:()=>s("expense"),className:Te("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[y.jsx(ay,{size:20,strokeWidth:2.5})," Gasto"]}),y.jsxs("button",{onClick:()=>s("income"),className:Te("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",y.jsx(Cd,{size:20,strokeWidth:2.5})]})]}),y.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[y.jsx("span",{className:Te("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",l?"opacity-100":"opacity-30"),children:E}),y.jsx("input",{type:"number",inputMode:"decimal",value:l,onChange:j=>c(j.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[C.map(j=>y.jsx("button",{onClick:()=>f(j),className:Te("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",d===j?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:j},j)),y.jsx("button",{onClick:()=>f("Otros"),className:Te("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",d==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),y.jsx("div",{className:"mb-8",children:y.jsx("input",{type:"text",value:m,onChange:j=>p(j.target.value),placeholder:i==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),y.jsxs("button",{onClick:M,disabled:!l,className:Te("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",l?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[y.jsx(z3,{size:28,strokeWidth:3}),l?"Confirmar":"Ingresa un monto"]})]})]})]})},s6=T.createContext(void 0),OJ=({children:t})=>{const{data:e,add:n,remove:r,update:i}=tf("projects"),s=p=>{const b={...p,status:"planning",startDate:(()=>{const x=new Date;return`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`})(),transactions:[]};n(b)},l=(p,b)=>{i(p,b)},c=p=>{r(p)},d=(p,b)=>{const x=e.find(S=>S.id===p);if(!x)return;const w={...b,id:crypto.randomUUID(),projectId:p},E=x.transactions||[];i(p,{transactions:[w,...E]})},f=(p,b)=>{const x=e.find(S=>S.id===p);if(!x)return;const E=(x.transactions||[]).filter(S=>S.id!==b);i(p,{transactions:E})},m=p=>{const b=p.transactions||[],x=b.filter(C=>C.type==="income").reduce((C,j)=>C+j.amount,0),w=b.filter(C=>C.type==="expense").reduce((C,j)=>C+j.amount,0),E=x-w,S=p.targetBudget||p.budget||0,k=S>0?w/S*100:0,M=S>0?E/S*100:0;return{totalIncome:x,totalExpenses:w,currentBalance:E,percentConsumed:k,percentFunded:M}};return y.jsx(s6.Provider,{value:{projects:e,addProject:s,updateProject:l,deleteProject:c,addProjectTransaction:d,deleteProjectTransaction:f,getProjectStats:m},children:t})},o6=()=>{const t=T.useContext(s6);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},PJ=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=br(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:y.jsx(cZ,{size:48,className:"text-zinc-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),y.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[y.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:y.jsx(Cv,{size:48,className:"text-emerald-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),y.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[y.jsxs("li",{children:["Usa el botn ",y.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),y.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),y.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:y.jsx(OZ,{size:48,className:"text-yellow-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),y.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[y.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),y.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:y.jsx(CQ,{size:48,className:"text-blue-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:y.jsx(wQ,{size:48,className:"text-cyan-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",y.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),y.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),y.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:y.jsx(tZ,{size:48,className:"text-rose-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[y.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",y.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",y.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",y.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),y.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[y.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),y.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),y.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),y.jsx("div",{className:"min-h-[160px]",children:l[n].content}),y.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),y.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&y.jsx(L3,{size:16})]})]})]})]})})},RJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=Nv();return T.useEffect(()=>{i()},[i]),y.jsx(qj,{children:y.jsx(wJ,{children:y.jsx(OJ,{children:y.jsxs("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300",children:[y.jsx("button",{className:"lg:hidden fixed top-4 right-4 z-50 p-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg shadow-lg",onClick:()=>e(!t),children:t?y.jsx(cm,{size:20}):y.jsx(LQ,{size:20})}),y.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:y.jsx(_J,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>e(!1)}),y.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[y.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v2.2 - Non-Blocking Load"}),y.jsx(az,{})]}),y.jsx(NJ,{}),y.jsx(CJ,{isOpen:n,onClose:()=>r(!1)}),y.jsx(PJ,{}),y.jsx(P3,{position:"top-center"})]})})})})},qm=()=>{const{data:t,add:e,remove:n,update:r}=tf("goals"),i=E=>{const S={...E,currentAmount:0,history:[]};e(S)},s=(E,S)=>{r(E,S)},l=E=>{n(E)},c=(E,S,k)=>{const M=t.find(z=>z.id===E);if(!M)return;const C=new Date().toISOString().split("T")[0],j={id:crypto.randomUUID(),date:C,amount:S,type:"deposit",note:k||"Contribucin manual"},P=M.history?[...M.history,j]:[j];r(E,{currentAmount:(M.currentAmount||0)+S,lastContributionDate:C,history:P})},d=(E,S,k)=>{const M=t.find(z=>z.id===E);if(!M)return;const C=new Date().toISOString().split("T")[0],j={id:crypto.randomUUID(),date:C,amount:S,type:"withdrawal",note:k||"Retiro de fondos"},P=M.history?[...M.history,j]:[j];r(E,{currentAmount:Math.max(0,(M.currentAmount||0)-S),history:P})},f=(E,S)=>{c(E,S,"Cuota Mensual")},m=E=>{if(!E.deadline)return 0;const S=new Date,k=new Date(E.deadline),M=E.targetAmount-E.currentAmount;if(M<=0)return 0;const C=k.getFullYear()-S.getFullYear(),j=k.getMonth()-S.getMonth();let P=C*12+j;return P<1&&(P=1),M/P},p=E=>{const k=b(E,new Date),M=m(E);return k>=M-1},b=(E,S)=>{if(!E.history)return 0;const k=S.getMonth(),M=S.getFullYear();return E.history.reduce((C,j)=>{const[P,z]=j.date.split("-").map(Number);return P===M&&z-1===k?j.type==="deposit"?C+j.amount:C-j.amount:C},0)};return{goals:t,addGoal:i,updateGoal:s,deleteGoal:l,contributeToGoal:f,addContribution:c,withdraw:d,getMonthlyQuota:m,isGoalPaidThisMonth:p,getTotalSavingsAtDate:E=>t.reduce((S,k)=>{if(!k.history||k.history.length===0)return S;const M=new Date(E.getFullYear(),E.getMonth()+1,0),C=k.history.reduce((j,P)=>new Date(P.date)<=M?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return S+Math.max(0,C)},0),getMonthsRemaining:E=>{if(!E.deadline)return 0;const S=new Date,k=new Date(E.deadline),M=k.getFullYear()-S.getFullYear(),C=k.getMonth()-S.getMonth();return Math.max(0,M*12+C)}}},$m=()=>{const{data:t,add:e,remove:n,update:r}=tf("funds");return{funds:t,addFund:c=>{const d={currentAmount:0,history:[],...c};e(d)},deleteFund:c=>{n(c)},addTransaction:(c,d,f,m)=>{const p=t.find(E=>E.id===c);if(!p)return;const b={id:crypto.randomUUID(),fundId:c,date:new Date().toISOString().split("T")[0],amount:d,type:f,note:m},x=f==="deposit"?p.currentAmount+d:p.currentAmount-d,w=p.history?[b,...p.history]:[b];r(c,{currentAmount:Math.max(0,x),history:w})}}},Hm=()=>{const{allTransactions:t}=Ir(),{goals:e}=qm(),{funds:n}=$m(),{selectedDate:r}=Ud(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),m=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),p=m.filter(k=>k.type==="income").reduce((k,M)=>k+M.amount,0),b=m.filter(k=>k.type==="expense").reduce((k,M)=>k+M.amount,0),w=(e||[]).reduce((k,M)=>{if(!M.history)return k;const C=M.history.reduce((j,P)=>new Date(P.date+"T12:00:00")<=d?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return k+Math.max(0,C)},0),S=(n||[]).reduce((k,M)=>{if(!M.history)return k;const C=M.history.reduce((j,P)=>new Date(P.date+"T12:00:00")<=d?P.type==="deposit"?j+P.amount:j-P.amount:j,0);return k+Math.max(0,C)},0);return p-b-(w+S)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},Ov=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=Ud(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return y.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:y.jsx(WX,{size:16})}),y.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[y.jsx(j3,{size:16,className:"text-zinc-400"}),y.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),y.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:y.jsx(L3,{size:16})}),!l&&y.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},MJ=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=qm(),{funds:s,addTransaction:l}=$m(),{total:c}=Ir("income"),{total:d}=Ir("expense"),{currency:f}=br(),m=n.reduce((C,j)=>C+(j.currentAmount||0),0),p=s.reduce((C,j)=>C+j.currentAmount,0),b=c-d-(m+p),[x,w]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[E,S]=T.useState(""),k=(C,j,P,z)=>{w({active:!0,type:C,targetId:j,targetName:P,targetType:z}),S("")},M=()=>{const C=Number(E);if(!(!C||C<=0)){if(x.type==="withdraw")if(x.targetType==="goal"){const j=n.find(P=>P.id===x.targetId);if(!j||j.currentAmount<C)return Ot.error("Fondos insuficientes en la meta.");i(x.targetId,C)}else{const j=s.find(P=>P.id===x.targetId);if(!j||j.currentAmount<C)return Ot.error("Fondos insuficientes en el fondo.");l(x.targetId,C,"withdraw","Retiro desde Gestin")}else{if(b<C)return Ot.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);x.targetType==="goal"?r(x.targetId,C,"Ingreso desde Gestin"):l(x.targetId,C,"deposit","Ingreso desde Gestin")}w({...x,active:!1})}};return y.jsx(Ga,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:x.active?y.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[y.jsx("button",{onClick:()=>w({...x,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[x.type==="deposit"?"Ingresar en":"Retirar de"," ",x.targetName]}),y.jsx("p",{className:"text-sm text-zinc-500",children:x.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${x.targetType==="goal"?"meta":"fondo"}: ${f}${x.targetType==="goal"?n.find(C=>C.id===x.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(C=>C.id===x.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:E,onChange:C=>S(C.target.value),onKeyDown:C=>C.key==="Enter"&&M()})]}),y.jsx("button",{onClick:M,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${x.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):y.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(bc,{size:14})," Metas de Ahorro"]}),n.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,C.currentAmount.toFixed(2)," ",y.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,C.targetAmount.toLocaleString()]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",C.id,C.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx($O,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",C.id,C.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(HO,{size:18})})]})]},C.id))]}),y.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(Fm,{size:14})," Fondos Independientes"]}),s.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,C.currentAmount.toFixed(2)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",C.id,C.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx($O,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",C.id,C.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(HO,{size:18})})]})]},C.id))]})]})})},DJ=({isOpen:t,onClose:e})=>{const{allTransactions:n}=Ir(),{selectedDate:r}=Ud(),{currency:i}=br(),s=T.useMemo(()=>[...n].sort((x,w)=>new Date(w.date).getTime()-new Date(x.date).getTime()),[n]),[l,c]=T.useState(""),f=s.filter(x=>x.description.toLowerCase().includes(l.toLowerCase())||x.category.toLowerCase().includes(l.toLowerCase())).filter(x=>{const[w,E]=x.date.split("-").map(Number);return E===r.getMonth()+1&&w===r.getFullYear()}),m=f.filter(x=>x.type==="income").reduce((x,w)=>x+w.amount,0),p=f.filter(x=>x.type==="expense").reduce((x,w)=>x+w.amount,0),b=m-p;return y.jsx(Ga,{isOpen:t,onClose:e,title:"Libro Contable",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(Ov,{})}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-2 border-b border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Ingresos"}),y.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold",children:["+",i,m.toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Balance"}),y.jsxs("p",{className:`font-mono font-bold ${b>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"}`,children:[b>=0?"+":"",i,Math.abs(b).toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Gastos"}),y.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold",children:["-",i,p.toFixed(2)]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx(YO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),y.jsx("input",{type:"text",placeholder:"Buscar transaccin...",className:"w-full bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-300 dark:focus:border-zinc-700",value:l,onChange:x=>c(x.target.value)})]}),y.jsx("div",{className:"space-y-2 min-h-[300px]",children:f.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-400 opacity-60",children:[y.jsx(YO,{size:48,className:"mb-4"}),y.jsx("p",{className:"italic text-sm",children:"No hay movimientos que coincidan."})]}):f.map(x=>y.jsxs("div",{className:"group flex items-center justify-between p-3 bg-zinc-50/50 dark:bg-zinc-900/30 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-all border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:[y.jsxs("div",{className:"flex items-center gap-3.5",children:[y.jsx("div",{className:Te("w-10 h-10 rounded-full flex items-center justify-center shadow-sm",x.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:x.type==="income"?y.jsx(uE,{size:18}):y.jsx(PX,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 leading-tight",children:x.description||"Sin descripcin"}),y.jsxs("div",{className:"flex gap-2 text-[11px] text-zinc-500 mt-0.5 font-medium uppercase tracking-wide",children:[y.jsx("span",{children:new Date(x.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),y.jsx("span",{className:"opacity-50",children:""}),y.jsx("span",{children:x.category})]})]})]}),y.jsxs("span",{className:Te("font-mono font-bold text-sm tracking-tight",x.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[x.type==="income"?"+":"-",i,x.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},x.id))})]})})},jJ=()=>{const{selectedDate:t}=Ud(),{transactions:e}=Ir(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=qm(),{funds:c}=$m(),{currency:d}=br(),[f,m]=T.useState(!1),[p,b]=T.useState(!1),x=e.filter(z=>{const[R,O]=z.date.split("-").map(Number);return O===t.getMonth()+1&&R===t.getFullYear()}),w=x.filter(z=>z.type==="income").reduce((z,R)=>z+R.amount,0),E=x.filter(z=>z.type==="expense").reduce((z,R)=>z+R.amount,0),S=r(t),k=c.reduce((z,R)=>z+R.currentAmount,0),M=S+k,C=z=>{const R=i(z),O=s(z);return R?y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),y.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",O.toFixed(2)]}),y.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:j}=Hm(),P=[{label:"Saldo Disponible",amount:j,icon:Cv,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:M,icon:bc,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:w,icon:$3,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:E,icon:q3,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>b(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:y.jsx(DX,{size:20})}),y.jsx(Ov,{})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map(z=>y.jsxs("div",{onClick:()=>{z.label==="Ahorro Total"&&m(!0)},className:`${z.bg} border ${z.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${z.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[z.label,z.label==="Ahorro Total"&&y.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),y.jsx(z.icon,{size:20,className:z.color})]}),y.jsxs("p",{className:`text-3xl font-mono font-bold ${z.color}`,children:[d,z.amount.toFixed(2)]})]},z.label))}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[y.jsx(bc,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?y.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):y.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(z=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:y.jsx(bc,{size:20})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:z.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[l(z)," meses restantes"]})]})]}),C(z)]},z.id)),n.length>3&&y.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[y.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",y.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",y.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),y.jsx(MJ,{isOpen:f,onClose:()=>m(!1)}),y.jsx(DJ,{isOpen:p,onClose:()=>b(!1)})]})},l6=({type:t,onSubmit:e,categories:n,onAddCategory:r})=>{const{currency:i}=br(),{addScheduled:s}=Nv(),[l,c]=T.useState(""),[d,f]=T.useState(n[0]||""),[m,p]=T.useState(""),[b,x]=T.useState(new Date().toISOString().split("T")[0]),[w,E]=T.useState(!1),[S,k]=T.useState(new Date().getDate()),[M,C]=T.useState(!1),[j,P]=T.useState(""),z=O=>{O.preventDefault(),!(!l||!d)&&(w?s({type:t,amount:Number(l),category:d,description:m,dayOfMonth:Number(S)}):e({amount:Number(l),type:t,category:d,description:m,date:b}),c(""),p(""),E(!1))},R=()=>{j.trim()&&(r(j.trim()),f(j.trim()),P(""),C(!1))};return y.jsxs("form",{onSubmit:z,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[y.jsxs("h3",{className:Te("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[y.jsx(Rs,{size:20}),w?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:i}),y.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:l,onChange:O=>c(O.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),y.jsxs("div",{className:Te("p-4 rounded-xl border transition-all duration-300",w?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>E(!w),children:[y.jsx("div",{className:Te("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",w?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:y.jsx("div",{className:Te("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",w?"translate-x-5":"translate-x-0")})}),y.jsx("div",{className:"flex flex-col",children:y.jsx("span",{className:Te("text-sm font-bold transition-colors",w?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:w?"Transaccin Recurrente":"Pago nico"})})]}),w&&y.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[y.jsx("div",{className:"text-right mr-2",children:y.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),y.jsxs("div",{className:"relative",children:[y.jsx(D3,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),y.jsx("input",{type:"number",min:"1",max:"31",value:S,onChange:O=>k(Number(O.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),w&&y.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[y.jsx(rZ,{size:14,className:"mt-0.5"}),y.jsxs("p",{children:["Se agregar automticamente cada da ",y.jsx("strong",{children:S})," del mes. Te avisaremos 2 das antes."]})]})]}),!w&&y.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[y.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),y.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:b,onChange:O=>x(O.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:M?y.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[y.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:j,onChange:O=>P(O.target.value),onKeyDown:O=>O.key==="Enter"&&(O.preventDefault(),R())}),y.jsx("button",{type:"button",onClick:R,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:y.jsx(Rs,{size:20})}),y.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):y.jsxs(y.Fragment,{children:[n.map(O=>y.jsx("button",{type:"button",onClick:()=>f(O),className:Te("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",d===O?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:O},O)),y.jsxs("button",{type:"button",onClick:()=>C(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[y.jsx(Rs,{size:12})," Nueva"]})]})})]}),y.jsxs("div",{className:"relative",children:[y.jsx(xZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),y.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:O=>p(O.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),y.jsxs("button",{type:"submit",className:Te("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[y.jsx(aZ,{size:20}),w?"Programar Recurrencia":"Guardar Transaccin"]})]})},c6=({transactions:t,onDelete:e})=>t.length===0?y.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):y.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),y.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(n=>y.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:n.date}),y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="income"?y.jsx(Cd,{size:16,className:"text-emerald-600"}):y.jsx(ay,{size:16,className:"text-rose-600"}),y.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[n.description,n.isRecurring&&y.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:n.category||"General"})}),y.jsxs("td",{className:Te("px-6 py-4 text-right font-mono font-bold text-base",n.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[n.type==="expense"?"-":"+","$",n.amount.toFixed(2)]}),y.jsx("td",{className:"px-6 py-4 text-center",children:y.jsx("button",{onClick:()=>e(n.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:y.jsx(Ms,{size:18})})})]},n.id))})]})})});var zJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CT(t){if(typeof t!="string")return!1;var e=zJ;return e.includes(t)}var LJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VJ=new Set(LJ);function u6(t){return typeof t!="string"?!1:VJ.has(t)}function d6(t){return typeof t=="string"&&t.startsWith("data-")}function dl(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u6(n)||d6(n))&&(e[n]=t[n]);return e}function NT(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return dl(e)}return typeof t=="object"&&!Array.isArray(t)?dl(t):null}function Mi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u6(n)||d6(n)||CT(n))&&(e[n]=t[n]);return e}var BJ=["children","width","height","viewBox","className","style","title","desc"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(null,arguments)}function UJ(t,e){if(t==null)return{};var n,r,i=FJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f6=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,m=UJ(t,BJ),p=s||{width:r,height:i,x:0,y:0},b=Te("recharts-surface",l);return T.createElement("svg",hE({},Mi(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),qJ=["children","className"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function $J(t,e){if(t==null)return{};var n,r,i=HJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Us=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$J(t,qJ),s=Te("recharts-layer",r);return T.createElement("g",mE({className:s},Mi(i),{ref:e}),n)}),GJ=T.createContext(null);function Rt(t){return function(){return t}}const h6=Math.cos,ly=Math.sin,da=Math.sqrt,cy=Math.PI,Pv=2*cy,pE=Math.PI,gE=2*pE,tc=1e-6,KJ=gE-tc;function m6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function YJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class WJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m6:YJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>tc)if(!(Math.abs(p*d-f*m)>tc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,w=i-c,E=d*d+f*f,S=x*x+w*w,k=Math.sqrt(E),M=Math.sqrt(b),C=s*Math.tan((pE-Math.acos((E+b-S)/(2*k*M)))/2),j=C/M,P=C/k;Math.abs(j-1)>tc&&this._append`L${e+j*m},${n+j*p}`,this._append`A${s},${s},0,0,${+(p*x>m*w)},${this._x1=e+P*d},${this._y1=n+P*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>tc||Math.abs(this._y1-m)>tc)&&this._append`L${f},${m}`,r&&(b<0&&(b=b%gE+gE),b>KJ?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:b>tc&&this._append`A${r},${r},0,${+(b>=pE)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new WJ(e)}function PT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function p6(t){this._context=t}p6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rv(t){return new p6(t)}function g6(t){return t[0]}function y6(t){return t[1]}function v6(t,e){var n=Rt(!0),r=null,i=Rv,s=null,l=OT(c);t=typeof t=="function"?t:t===void 0?g6:Rt(t),e=typeof e=="function"?e:e===void 0?y6:Rt(e);function c(d){var f,m=(d=PT(d)).length,p,b=!1,x;for(r==null&&(s=i(x=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,f,d),+e(p,f,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Rt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function Gg(t,e,n){var r=null,i=Rt(!0),s=null,l=Rv,c=null,d=OT(f);t=typeof t=="function"?t:t===void 0?g6:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y6:Rt(+n);function f(p){var b,x,w,E=(p=PT(p)).length,S,k=!1,M,C=new Array(E),j=new Array(E);for(s==null&&(c=l(M=d())),b=0;b<=E;++b){if(!(b<E&&i(S=p[b],b,p))===k)if(k=!k)x=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=b-1;w>=x;--w)c.point(C[w],j[w]);c.lineEnd(),c.areaEnd()}k&&(C[b]=+t(S,b,p),j[b]=+e(S,b,p),c.point(r?+r(S,b,p):C[b],n?+n(S,b,p):j[b]))}if(M)return c=null,M+""||null}function m(){return v6().defined(i).curve(l).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Rt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Rt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Rt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Rt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Rt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class b6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function XJ(t){return new b6(t,!0)}function QJ(t){return new b6(t,!1)}const RT={draw(t,e){const n=da(e/cy);t.moveTo(n,0),t.arc(0,0,n,0,Pv)}},ZJ={draw(t,e){const n=da(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},x6=da(1/3),JJ=x6*2,eee={draw(t,e){const n=da(e/JJ),r=n*x6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tee={draw(t,e){const n=da(e),r=-n/2;t.rect(r,r,n,n)}},nee=.8908130915292852,_6=ly(cy/10)/ly(7*cy/10),ree=ly(Pv/10)*_6,iee=-h6(Pv/10)*_6,aee={draw(t,e){const n=da(e*nee),r=ree*n,i=iee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Pv*s/5,c=h6(l),d=ly(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},H1=da(3),see={draw(t,e){const n=-da(e/(H1*3));t.moveTo(0,n*2),t.lineTo(-H1*n,-n),t.lineTo(H1*n,-n),t.closePath()}},Ci=-.5,Ni=da(3)/2,yE=1/da(12),oee=(yE/2+1)*3,lee={draw(t,e){const n=da(e/oee),r=n/2,i=n*yE,s=r,l=n*yE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Ci*r-Ni*i,Ni*r+Ci*i),t.lineTo(Ci*s-Ni*l,Ni*s+Ci*l),t.lineTo(Ci*c-Ni*d,Ni*c+Ci*d),t.lineTo(Ci*r+Ni*i,Ci*i-Ni*r),t.lineTo(Ci*s+Ni*l,Ci*l-Ni*s),t.lineTo(Ci*c+Ni*d,Ci*d-Ni*c),t.closePath()}};function cee(t,e){let n=null,r=OT(i);t=typeof t=="function"?t:Rt(t||RT),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uy(){}function dy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function w6(t){this._context=t}w6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uee(t){return new w6(t)}function E6(t){this._context=t}E6.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dee(t){return new E6(t)}function S6(t){this._context=t}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fee(t){return new S6(t)}function T6(t){this._context=t}T6.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hee(t){return new T6(t)}function tP(t){return t<0?-1:1}function nP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(tP(s)+tP(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function rP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function G1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function fy(t){this._context=t}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G1(this,this._t0,rP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,G1(this,rP(this,n=nP(this,t,e)),n);break;default:G1(this,this._t0,n=nP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function A6(t){this._context=new I6(t)}(A6.prototype=Object.create(fy.prototype)).point=function(t,e){fy.prototype.point.call(this,e,t)};function I6(t){this._context=t}I6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function mee(t){return new fy(t)}function pee(t){return new A6(t)}function k6(t){this._context=t}k6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iP(t),i=iP(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iP(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function gee(t){return new k6(t)}function Mv(t,e){this._context=t,this._t=e}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yee(t){return new Mv(t,.5)}function vee(t){return new Mv(t,0)}function bee(t){return new Mv(t,1)}function Dc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xee(t,e){return t[e]}function _ee(t){const e=[];return e.key=t,e}function wee(){var t=Rt([]),e=vE,n=Dc,r=xee;function i(s){var l=Array.from(t.apply(this,arguments),_ee),c,d=l.length,f=-1,m;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,s)]).data=p;for(c=0,m=PT(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Rt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?vE:typeof s=="function"?s:Rt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Dc,i):n},i}function Eee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Dc(t,e)}}function See(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Dc(t,e)}}function Tee(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,x=(p-b)/2,w=0;w<c;++w){var E=t[e[w]],S=E[r][1]||0,k=E[r-1][1]||0;x+=S-k}d+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Dc(t,e)}}var K1={},Y1={},aP;function Aee(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Y1)),Y1}var W1={},sP;function C6(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(W1)),W1}var X1={},oP;function MT(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(X1)),X1}var Q1={},Z1={},lP;function Iee(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Z1)),Z1}var cP;function DT(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iee(),n=MT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(Q1)),Q1}var uP;function jT(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aee(),n=C6(),r=MT(),i=DT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=s})(K1)),K1}var J1,dP;function kee(){return dP||(dP=1,J1=jT().get),J1}var Cee=kee();const Od=Ja(Cee);var Nee=4;function Qo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Jt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+Qo(c)+s:i+s},"")}var si=t=>t===0?0:t>0?1:-1,Xa=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ue=t=>(typeof t=="number"||t instanceof Number)&&!Xa(t),Qa=t=>Ue(t)||typeof t=="string",Oee=0,um=t=>{var e=++Oee;return"".concat(t||"").concat(e)},la=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&typeof e!="string")return r;var s;if(Fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Xa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},N6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function or(t,e,n){return Ue(t)&&Ue(e)?Qo(t+n*(e-t)):e}function Pee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Od(r,e))===n)}var $n=t=>t===null||typeof t>"u",Gm=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Ree(t){return t!=null}function Km(){}var Mee=["type","size","sizeType"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lee(t,e){if(t==null)return{};var n,r,i=Vee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O6={symbolCircle:RT,symbolCross:ZJ,symbolDiamond:eee,symbolSquare:tee,symbolStar:aee,symbolTriangle:see,symbolWye:lee},Bee=Math.PI/180,Uee=t=>{var e="symbol".concat(Gm(t));return O6[e]||RT},Fee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Bee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qee=(t,e)=>{O6["symbol".concat(Gm(t))]=e},P6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Lee(t,Mee),s=hP(hP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=Uee(l),x=cee().type(b).size(Fee(n,r,l)),w=x();if(w!==null)return w},{className:d,cx:f,cy:m}=s,p=Mi(s);return Ue(f)&&Ue(m)&&Ue(n)?T.createElement("path",bE({},p,{className:Te("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};P6.registerSymbol=qee;var R6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,$ee=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{CT(i)&&(r[i]=(s=>n[i](n,s)))}),r},Hee=(t,e,n)=>r=>(t(e,n,r),null),zT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];CT(i)&&typeof s=="function"&&(r||(r={}),r[i]=Hee(s,e,n))}),r};function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zi(t,e){var n=Gee({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var e_={},t_={},pP;function Xee(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(t_)),t_}var n_={},gP;function M6(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(n_)),n_}var r_={},i_={},a_={},yP;function Qee(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(a_)),a_}var vP;function LT(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(i_)),i_}var s_={},bP;function Zee(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(s_)),s_}var xP;function Jee(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LT(),n=Zee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(r_)),r_}var o_={},l_={},_P;function ete(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(l_)),l_}var c_={},u_={},d_={},f_={},wP;function D6(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(f_)),f_}var h_={},EP;function j6(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(h_)),h_}var m_={},SP;function z6(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(m_)),m_}var TP;function tte(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D6(),n=j6(),r=z6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function x(w,E,S,k,M,C){const j=b(w,E,S,k,M,C);return j!==void 0?!!j:s(w,E,x,C)},new Map)}function s(m,p,b,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,x);case"function":return Object.keys(p).length>0?s(m,{...p},b,x):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,x){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,x);if(p instanceof Map)return c(m,p,b,x);if(p instanceof Set)return f(m,p,b,x);const w=Object.keys(p);if(m==null||n.isPrimitive(m))return w.length===0;if(w.length===0)return!0;if(x?.has(p))return x.get(p)===m;x?.set(p,m);try{for(let E=0;E<w.length;E++){const S=w[E];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!b(m[S],p[S],S,m,p,x))return!1}return!0}finally{x?.delete(p)}}function c(m,p,b,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,E]of p.entries()){const S=m.get(w);if(b(S,E,w,m,p,x)===!1)return!1}return!0}function d(m,p,b,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let E=0;E<p.length;E++){const S=p[E];let k=!1;for(let M=0;M<m.length;M++){if(w.has(M))continue;const C=m[M];let j=!1;if(b(C,S,E,m,p,x)&&(j=!0),j){w.add(M),k=!0;break}}if(!k)return!1}return!0}function f(m,p,b,x){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,x):!1}t.isMatchWith=i,t.isSetMatch=f})(d_)),d_}var AP;function L6(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(u_)),u_}var p_={},g_={},y_={},IP;function nte(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(y_)),y_}var v_={},kP;function V6(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(v_)),v_}var b_={},CP;function B6(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",x="[object Object]",w="[object Error]",E="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",j="[object BigUint64Array]",P="[object Int8Array]",z="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=V,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=R,t.int8ArrayTag=P,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(b_)),b_}var x_={},NP;function rte(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(x_)),x_}var OP;function U6(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nte(),n=V6(),r=B6(),i=j6(),s=rte();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,x=new Map,w=void 0){const E=w?.(m,p,b,x);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const S=new Array(m.length);x.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,x,w);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;x.set(m,S);for(const[k,M]of m)S.set(k,c(M,k,b,x,w));return S}if(m instanceof Set){const S=new Set;x.set(m,S);for(const k of m)S.add(c(k,void 0,b,x,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,x,w);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,S),d(S,m,b,x,w),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return x.set(m,S),d(S,m,b,x,w),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof Error){const S=new m.constructor;return x.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,b,x,w),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof Number){const S=new Number(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(m instanceof String){const S=new String(m.valueOf());return x.set(m,S),d(S,m,b,x,w),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return x.set(m,S),d(S,m,b,x,w),S}return m}function d(m,p,b=m,x,w){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const k=E[S],M=Object.getOwnPropertyDescriptor(m,k);(M==null||M.writable)&&(m[k]=c(p[k],k,b,x,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(g_)),g_}var PP;function ite(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(p_)),p_}var RP;function ate(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6(),n=ite();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(c_)),c_}var __={},w_={},E_={},MP;function ste(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6(),n=B6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=s?.(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(E_)),E_}var DP;function ote(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ste();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(w_)),w_}var S_={},T_={},jP;function F6(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(T_)),T_}var A_={},zP;function lte(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(A_)),A_}var LP;function cte(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C6(),n=F6(),r=lte(),i=DT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(S_)),S_}var VP;function ute(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6(),n=MT(),r=ote(),i=jT(),s=cte();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(__)),__}var BP;function dte(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6(),n=ete(),r=ate(),i=ute();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(o_)),o_}var UP;function fte(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xee(),n=M6(),r=Jee(),i=dte();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(e_)),e_}var I_,FP;function hte(){return FP||(FP=1,I_=fte().uniqBy),I_}var mte=hte();const qP=Ja(mte);function pte(t,e,n){return e===!0?qP(t,n):typeof e=="function"?qP(t,e):t}var k_={exports:{}},C_={},N_={exports:{}},O_={};var $P;function gte(){if($P)return O_;$P=1;var t=Bd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var x=b(),w=r({inst:{value:x,getSnapshot:b}}),E=w[0].inst,S=w[1];return s(function(){E.value=x,E.getSnapshot=b,d(E)&&S({inst:E})},[p,x,b]),i(function(){return d(E)&&S({inst:E}),p(function(){d(E)&&S({inst:E})})},[p]),l(x),x}function d(p){var b=p.getSnapshot;p=p.value;try{var x=b();return!n(p,x)}catch{return!0}}function f(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return O_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,O_}var HP;function yte(){return HP||(HP=1,N_.exports=gte()),N_.exports}var GP;function vte(){if(GP)return C_;GP=1;var t=Bd(),e=yte();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return C_.useSyncExternalStoreWithSelector=function(f,m,p,b,x){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function k(z){if(!M){if(M=!0,C=z,z=b(z),x!==void 0&&E.hasValue){var R=E.value;if(x(R,z))return j=R}return j=z}if(R=j,r(C,z))return R;var O=b(z);return x!==void 0&&x(R,O)?(C=z,R):(C=z,j=O)}var M=!1,C,j,P=p===void 0?null:p;return[function(){return k(m())},P===null?void 0:function(){return k(P())}]},[m,p,b,x]);var S=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},C_}var KP;function bte(){return KP||(KP=1,k_.exports=vte()),k_.exports}var xte=bte(),VT=T.createContext(null),_te=t=>t,dn=()=>{var t=T.useContext(VT);return t?t.store.dispatch:_te},I0=()=>{},wte=()=>I0,Ete=(t,e)=>t===e;function $e(t){var e=T.useContext(VT);return xte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:wte,e?e.store.getState:I0,e?e.store.getState:I0,e?t:I0,Ete)}function Ste(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Tte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Ate(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var YP=t=>Array.isArray(t)?t:[t];function Ite(t){const e=Array.isArray(t[0])?t[0]:t;return Ate(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Cte=class{constructor(t){this.value=t}deref(){return this.value}},Nte=typeof WeakRef<"u"?WeakRef:Cte,Ote=0,WP=1;function Kg(){return{s:Ote,v:void 0,o:null,p:null}}function q6(t,e={}){let n=Kg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let p=0,b=d;p<b;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const E=w.get(x);E===void 0?(c=Kg(),w.set(x,c)):c=E}else{let w=c.p;w===null&&(c.p=w=new Map);const E=w.get(x);E===void 0?(c=Kg(),w.set(x,c)):c=E}}const f=c;let m;if(c.s===WP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Nte(m):m}return f.s=WP,f.v=m,m}return l.clearCache=()=>{n=Kg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Pte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Ste(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:b=[],argsMemoize:x=q6,argsMemoizeOptions:w=[]}=m,E=YP(b),S=YP(w),k=Ite(i),M=p(function(){return s++,f.apply(null,arguments)},...E),C=x(function(){l++;const P=kte(k,arguments);return c=M.apply(null,P),c},...S);return Object.assign(C,{resultFunc:f,memoizedResultFunc:M,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var le=Pte(q6),Rte=Object.assign((t,e=le)=>{Tte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>Rte}),P_={},R_={},M_={},XP;function Mte(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(M_)),M_}var D_={},j_={},QP;function $6(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(j_)),j_}var ZP;function Dte(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(D_)),D_}var JP;function jte(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte(),n=Dte(),r=DT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,w)=>{let E=x;for(let S=0;S<w.length&&E!=null;++S)E=E[w[S]];return E},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:p.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(x.criteria[E],w.criteria[E],c[E]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(R_)),R_}var z_={},eR;function zte(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(z_)),z_}var L_={},tR;function H6(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F6(),n=LT(),r=D6(),i=z6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(L_)),L_}var nR;function Lte(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jte(),n=zte(),r=H6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(P_)),P_}var V_,rR;function Vte(){return rR||(rR=1,V_=Lte().sortBy),V_}var Bte=Vte();const Dv=Ja(Bte);var G6=t=>t.legend.settings,Ute=t=>t.legend.size,Fte=t=>t.legend.payload;le([Fte,G6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Dv(r,n):r});var Yg=1;function qte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Yg||Math.abs(l.left-e.left)>Yg||Math.abs(l.top-e.top)>Yg||Math.abs(l.width-e.width)>Yg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ir(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $te=typeof Symbol=="function"&&Symbol.observable||"@@observable",iR=$te,B_=()=>Math.random().toString(36).substring(7).split("").join("."),Hte={INIT:`@@redux/INIT${B_()}`,REPLACE:`@@redux/REPLACE${B_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${B_()}`},hy=Hte;function BT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function K6(t,e,n){if(typeof t!="function")throw new Error(ir(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(K6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,k)=>{l.set(k,S)}))}function m(){if(d)throw new Error(ir(3));return i}function p(S){if(typeof S!="function")throw new Error(ir(4));if(d)throw new Error(ir(5));let k=!0;f();const M=c++;return l.set(M,S),function(){if(k){if(d)throw new Error(ir(6));k=!1,f(),l.delete(M),s=null}}}function b(S){if(!BT(S))throw new Error(ir(7));if(typeof S.type>"u")throw new Error(ir(8));if(typeof S.type!="string")throw new Error(ir(17));if(d)throw new Error(ir(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(M=>{M()}),S}function x(S){if(typeof S!="function")throw new Error(ir(10));r=S,b({type:hy.REPLACE})}function w(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ir(11));function M(){const j=k;j.next&&j.next(m())}return M(),{unsubscribe:S(M)}},[iR](){return this}}}return b({type:hy.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:x,[iR]:w}}function Gte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hy.INIT})>"u")throw new Error(ir(12));if(typeof n(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function Y6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{Gte(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],x=l[p],w=b(x,c);if(typeof w>"u")throw c&&c.type,new Error(ir(14));f[p]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function my(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Kte(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ir(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=my(...c)(i.dispatch),{...i,dispatch:s}}}function W6(t){return BT(t)&&"type"in t&&typeof t.type=="string"}var X6=Symbol.for("immer-nothing"),aR=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oi=Object,Pd=oi.getPrototypeOf,py="constructor",jv="prototype",xE="configurable",gy="enumerable",k0="writable",dm="value",qs=t=>!!t&&!!t[kr];function ca(t){return t?Q6(t)||Lv(t)||!!t[aR]||!!t[py]?.[aR]||Vv(t)||Bv(t):!1}var Yte=oi[jv][py].toString(),sR=new WeakMap;function Q6(t){if(!t||!UT(t))return!1;const e=Pd(t);if(e===null||e===oi[jv])return!0;const n=oi.hasOwnProperty.call(e,py)&&e[py];if(n===Object)return!0;if(!Ju(n))return!1;let r=sR.get(n);return r===void 0&&(r=Function.toString.call(n),sR.set(n,r)),r===Yte}function zv(t,e,n=!0){Ym(t)===0?(n?Reflect.ownKeys(t):oi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ym(t){const e=t[kr];return e?e.type_:Lv(t)?1:Vv(t)?2:Bv(t)?3:0}var oR=(t,e,n=Ym(t))=>n===2?t.has(e):oi[jv].hasOwnProperty.call(t,e),_E=(t,e,n=Ym(t))=>n===2?t.get(e):t[e],yy=(t,e,n,r=Ym(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Wte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Lv=Array.isArray,Vv=t=>t instanceof Map,Bv=t=>t instanceof Set,UT=t=>typeof t=="object",Ju=t=>typeof t=="function",U_=t=>typeof t=="boolean";function Xte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var _s=t=>t.copy_||t.base_,FT=t=>t.modified_?t.copy_:t.base_;function wE(t,e){if(Vv(t))return new Map(t);if(Bv(t))return new Set(t);if(Lv(t))return Array[jv].slice.call(t);const n=Q6(t);if(e===!0||e==="class_only"&&!n){const r=oi.getOwnPropertyDescriptors(t);delete r[kr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[k0]===!1&&(c[k0]=!0,c[xE]=!0),(c.get||c.set)&&(r[l]={[xE]:!0,[k0]:!0,[gy]:c[gy],[dm]:t[l]})}return oi.create(Pd(t),r)}else{const r=Pd(t);if(r!==null&&n)return{...t};const i=oi.create(r);return oi.assign(i,t)}}function qT(t,e=!1){return Uv(t)||qs(t)||!ca(t)||(Ym(t)>1&&oi.defineProperties(t,{set:Wg,add:Wg,clear:Wg,delete:Wg}),oi.freeze(t),e&&zv(t,(n,r)=>{qT(r,!0)},!1)),t}function Qte(){na(2)}var Wg={[dm]:Qte};function Uv(t){return t===null||!UT(t)?!0:oi.isFrozen(t)}var vy="MapSet",EE="Patches",lR="ArrayMethods",Z6={};function jc(t){const e=Z6[t];return e||na(0,t),e}var cR=t=>!!Z6[t],fm,J6=()=>fm,Zte=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cR(vy)?jc(vy):void 0,arrayMethodsPlugin_:cR(lR)?jc(lR):void 0});function uR(t,e){e&&(t.patchPlugin_=jc(EE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function SE(t){TE(t),t.drafts_.forEach(Jte),t.drafts_=null}function TE(t){t===fm&&(fm=t.parent_)}var dR=t=>fm=Zte(fm,t);function Jte(t){const e=t[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[kr].modified_&&(SE(e),na(4)),ca(t)&&(t=hR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[kr].base_,t,e)}else t=hR(e,n);return ene(e,t,!0),SE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X6?t:void 0}function hR(t,e){if(Uv(e))return e;const n=e[kr];if(!n)return by(e,t.handledSet_,t);if(!Fv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);nL(n,t)}return n.copy_}function ene(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qT(e,n)}function eL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Fv=(t,e)=>t.scope_===e,tne=[];function tL(t,e,n,r){const i=_s(t),s=t.type_;if(r!==void 0&&_E(i,r,s)===e){yy(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;zv(i,(d,f)=>{if(qs(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=t.draftLocations_.get(e)??tne;for(const c of l)yy(i,c,n,s)}function nne(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Fv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=FT(s);tL(t,s.draft_??s,l,n),nL(s,i)})}function nL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}eL(t)}}function rne(t,e,n){const{scope_:r}=t;if(qs(n)){const i=n[kr];Fv(i,r)&&i.callbacks_.push(function(){C0(t);const l=FT(i);tL(t,n,l,e)})}else ca(n)&&t.callbacks_.push(function(){const s=_s(t);t.type_===3?s.has(n)&&by(n,r.handledSet_,r):_E(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&by(_E(t.copy_,e,t.type_),r.handledSet_,r)})}function by(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||qs(t)||e.has(t)||!ca(t)||Uv(t)||(e.add(t),zv(t,(r,i)=>{if(qs(i)){const s=i[kr];if(Fv(s,n)){const l=FT(s);yy(t,r,l,t.type_),eL(s)}}else ca(i)&&by(i,e,n)})),t}function ine(t,e){const n=Lv(t),r={type_:n?1:0,scope_:e?e.scope_:J6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=xy;n&&(i=[r],s=hm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var xy={get(t,e){if(e===kr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=_s(t);if(!oR(i,e,t.type_))return ane(t,i,e);const s=i[e];if(t.finalized_||!ca(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Xte(e))return s;if(s===F_(t.base_,e)){C0(t);const l=t.type_===1?+e:e,c=IE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in _s(t)},ownKeys(t){return Reflect.ownKeys(_s(t))},set(t,e,n){const r=rL(_s(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=F_(_s(t),e),s=i?.[kr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Wte(n,i)&&(n!==void 0||oR(t.base_,e,t.type_)))return!0;C0(t),AE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),rne(t,e,n)),!0},deleteProperty(t,e){return C0(t),F_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),AE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[k0]:!0,[xE]:t.type_!==1||e!=="length",[gy]:r[gy],[dm]:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Pd(t.base_)},setPrototypeOf(){na(12)}},hm={};for(let t in xy){let e=xy[t];hm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}hm.deleteProperty=function(t,e){return hm.set.call(this,t,e,void 0)};hm.set=function(t,e,n){return xy.set.call(this,t[0],e,n,t[0])};function F_(t,e){const n=t[kr];return(n?_s(n):t)[e]}function ane(t,e,n){const r=rL(e,n);return r?dm in r?r[dm]:r.get?.call(t.draft_):void 0}function rL(t,e){if(!(e in t))return;let n=Pd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pd(n)}}function AE(t){t.modified_||(t.modified_=!0,t.parent_&&AE(t.parent_))}function C0(t){t.copy_||(t.assigned_=new Map,t.copy_=wE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var sne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ju(n)&&!Ju(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}Ju(r)||na(6),i!==void 0&&!Ju(i)&&na(7);let s;if(ca(n)){const l=dR(this),c=IE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?SE(l):TE(l)}return uR(l,i),fR(s,l)}else if(!n||!UT(n)){if(s=r(n),s===void 0&&(s=n),s===X6&&(s=void 0),this.autoFreeze_&&qT(s,!0),i){const l=[],c=[];jc(EE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else na(1,n)},this.produceWithPatches=(n,r)=>{if(Ju(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},U_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),U_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),U_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ca(e)||na(8),qs(e)&&(e=oa(e));const n=dR(this),r=IE(n,e,void 0);return r[kr].isManual_=!0,TE(n),r}finishDraft(e,n){const r=e&&e[kr];(!r||!r.isManual_)&&na(9);const{scope_:i}=r;return uR(i,n),fR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=jc(EE).applyPatches_;return qs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function IE(t,e,n,r){const[i,s]=Vv(e)?jc(vy).proxyMap_(e,n):Bv(e)?jc(vy).proxySet_(e,n):ine(e,n);return(n?.scope_??J6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?nne(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function oa(t){return qs(t)||na(10,t),iL(t)}function iL(t){if(!ca(t)||Uv(t))return t;const e=t[kr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=wE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=wE(t,!0);return zv(n,(i,s)=>{yy(n,i,iL(s))},r),e&&(e.finalized_=!1),n}var one=new sne,aL=one.produce;function sL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var lne=sL(),cne=sL,une=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>W6(r)&&r.type===t,n}var oL=class Ph extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ph.prototype)}static get[Symbol.species](){return Ph}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ph(...e[0].concat(this)):new Ph(...e.concat(this))}};function mR(t){return ca(t)?aL(t,()=>{}):t}function Xg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function dne(t){return typeof t=="boolean"}var fne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new oL;return n&&(dne(n)?l.push(lne):l.push(cne(n.extraArgument))),l},lL="RTK_autoBatch",qt=()=>t=>({payload:t,meta:{[lL]:!0}}),pR=t=>e=>{setTimeout(e,t)},cL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pR(10):t.type==="callback"?t.queueNotification:pR(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[lL],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},hne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new oL(t);return r&&i.push(cL(typeof r=="object"?r:void 0)),i};function mne(t){const e=fne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(BT(n))c=Y6(n);else throw new Error(ci(1));let d;typeof r=="function"?d=r(e):d=e();let f=my;i&&(f=une({trace:!1,...typeof i=="object"&&i}));const m=Kte(...d),p=hne(m);let b=typeof l=="function"?l(p):p();const x=f(...b);return K6(c,s,x)}function uL(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ci(28));if(c in e)throw new Error(ci(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function pne(t){return typeof t=="function"}function gne(t,e){let[n,r,i]=uL(e),s;if(pne(t))s=()=>mR(t());else{const c=mR(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(qs(m)){const x=p(m,d);return x===void 0?m:x}else{if(ca(m))return aL(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var yne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vne=(t=21)=>{let e="",n=t;for(;n--;)e+=yne[Math.random()*64|0];return e},bne=Symbol.for("rtk-slice-createasyncthunk");function xne(t,e){return`${t}/${e}`}function _ne({creators:t}={}){const e=t?.asyncThunk?.[bne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ci(11));const l=(typeof r.reducers=="function"?r.reducers(Ene()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,j){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(ci(12));if(P in d.sliceCaseReducersByType)throw new Error(ci(13));return d.sliceCaseReducersByType[P]=j,f},addMatcher(C,j){return d.sliceMatchers.push({matcher:C,reducer:j}),f},exposeAction(C,j){return d.actionCreators[C]=j,f},exposeCaseReducer(C,j){return d.sliceCaseReducersByName[C]=j,f}};c.forEach(C=>{const j=l[C],P={reducerName:C,type:xne(i,C),createNotation:typeof r.reducers=="function"};Tne(j)?Ine(P,j,f,e):Sne(P,j,f)});function m(){const[C={},j=[],P=void 0]=typeof r.extraReducers=="function"?uL(r.extraReducers):[r.extraReducers],z={...C,...d.sliceCaseReducersByType};return gne(r.initialState,R=>{for(let O in z)R.addCase(O,z[O]);for(let O of d.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of j)R.addMatcher(O.matcher,O.reducer);P&&R.addDefaultCase(P)})}const p=C=>C,b=new Map,x=new WeakMap;let w;function E(C,j){return w||(w=m()),w(C,j)}function S(){return w||(w=m()),w.getInitialState()}function k(C,j=!1){function P(R){let O=R[C];return typeof O>"u"&&j&&(O=Xg(x,P,S)),O}function z(R=p){const O=Xg(b,j,()=>new WeakMap);return Xg(O,R,()=>{const V={};for(const[q,L]of Object.entries(r.selectors??{}))V[q]=wne(L,R,()=>Xg(x,R,S),j);return V})}return{reducerPath:C,getSelectors:z,get selectors(){return z(P)},selectSlice:P}}const M={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...k(s),injectInto(C,{reducerPath:j,...P}={}){const z=j??s;return C.inject({reducerPath:z,reducer:E},P),{...M,...k(z,!0)}}};return M}}function wne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Fr=_ne();function Ene(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Sne({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Ane(r))throw new Error(ci(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Di(t,l):Di(t))}function Tne(t){return t._reducerDefinitionType==="asyncThunk"}function Ane(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ine({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ci(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Qg,pending:c||Qg,rejected:d||Qg,settled:f||Qg})}function Qg(){}var kne="task",dL="listener",fL="completed",$T="cancelled",Cne=`task-${$T}`,Nne=`task-${fL}`,kE=`${dL}-${$T}`,One=`${dL}-${fL}`,qv=class{constructor(t){this.code=t,this.message=`${kne} ${$T} (reason: ${t})`}name="TaskAbortError";message},HT=(t,e)=>{if(typeof t!="function")throw new TypeError(ci(32))},_y=()=>{},hL=(t,e=_y)=>(t.catch(e),t),mL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),xc=t=>{if(t.aborted)throw new qv(t.reason)};function pL(t,e){let n=_y;return new Promise((r,i)=>{const s=()=>i(new qv(t.reason));if(t.aborted){s();return}n=mL(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=_y})}var Pne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qv?"cancelled":"rejected",error:n}}finally{e?.()}},wy=t=>e=>hL(pL(t,e).then(n=>(xc(t),n))),gL=t=>{const e=wy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:od}=Object,gR={},$v="listenerMiddleware",Rne=(t,e)=>{const n=r=>mL(t,()=>r.abort(t.reason));return(r,i)=>{HT(r);const s=new AbortController;n(s);const l=Pne(async()=>{xc(t),xc(s.signal);const c=await r({pause:wy(s.signal),delay:gL(s.signal),signal:s.signal});return xc(s.signal),c},()=>s.abort(Nne));return i?.autoJoin&&e.push(l.catch(_y)),{result:wy(t)(l),cancel(){s.abort(Cne)}}}},Mne=(t,e)=>{const n=async(r,i)=>{xc(e);let s=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await pL(e,Promise.race(c));return xc(e),d}finally{s()}};return(r,i)=>hL(n(r,i))},yL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ci(21));return HT(s),{predicate:i,type:e,effect:s}},vL=od(t=>{const{type:e,predicate:n,effect:r}=yL(t);return{id:vne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ci(22))}}},{withTypes:()=>vL}),yR=(t,e)=>{const{type:n,effect:r,predicate:i}=yL(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},CE=t=>{t.pending.forEach(e=>{e.abort(kE)})},Dne=(t,e)=>()=>{for(const n of e.keys())CE(n);t.clear()},vR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},bL=od(Di(`${$v}/add`),{withTypes:()=>bL}),jne=Di(`${$v}/removeAll`),xL=od(Di(`${$v}/remove`),{withTypes:()=>xL}),zne=(...t)=>{console.error(`${$v}/error`,...t)},Wm=(t={})=>{const e=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},i=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:s,onError:l=zne}=t;HT(l);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&CE(x)}),d=x=>{const w=yR(e,x)??vL(x);return c(w)};od(d,{withTypes:()=>d});const f=x=>{const w=yR(e,x);return w&&(w.unsubscribe(),x.cancelActive&&CE(w)),!!w};od(f,{withTypes:()=>f});const m=async(x,w,E,S)=>{const k=new AbortController,M=Mne(d,k.signal),C=[];try{x.pending.add(k),r(x),await Promise.resolve(x.effect(w,od({},E,{getOriginalState:S,condition:(j,P)=>M(j,P).then(Boolean),take:M,delay:gL(k.signal),pause:wy(k.signal),extra:s,signal:k.signal,fork:Rne(k.signal,C),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((j,P,z)=>{j!==k&&(j.abort(kE),z.delete(j))})},cancel:()=>{k.abort(kE),x.pending.delete(k)},throwIfCancelled:()=>{xc(k.signal)}})))}catch(j){j instanceof qv||vR(l,j,{raisedBy:"effect"})}finally{await Promise.all(C),k.abort(One),i(x),x.pending.delete(k)}},p=Dne(e,n);return{middleware:x=>w=>E=>{if(!W6(E))return w(E);if(bL.match(E))return d(E.payload);if(jne.match(E)){p();return}if(xL.match(E))return f(E.payload);let S=x.getState();const k=()=>{if(S===gR)throw new Error(ci(23));return S};let M;try{if(M=w(E),e.size>0){const C=x.getState(),j=Array.from(e.values());for(const P of j){let z=!1;try{z=P.predicate(E,C,S)}catch(R){z=!1,vR(l,R,{raisedBy:"predicate"})}z&&m(P,E,x,k)}}}finally{S=gR}return M},startListening:d,stopListening:f,clearListeners:p}};function ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Lne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_L=Fr({name:"chartLayout",initialState:Lne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Vne,setLayout:Bne,setChartSize:Une,setScale:Fne}=_L.actions,qne=_L.reducer;function wL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Xt(t){return Number.isFinite(t)}function fl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e,n){return $n(t)||$n(e)?n:Qa(e)?Od(t,e,n):typeof e=="function"?e(t):n}var Kne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Ue(t[s]))return ed(ed({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Ue(t[l]))return ed(ed({},t),{},{[l]:t[l]+(i||0)})}return t},Hc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",xR=1e-4,Yne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-xR,s=Math.max(r[0],r[1])+xR,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Wne=(t,e)=>{if(!e||e.length!==2||!Ue(e[0])||!Ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(i[0]=n),(!Ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Xne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var m=f[1],p=f[0],b=Xa(m)?p:m;b>=0?(f[0]=s,f[1]=s+b,s=m):(f[0]=l,f[1]=l+b,l=m)}}}},Qne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=Xa(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},Zne={sign:Xne,expand:Eee,none:Dc,silhouette:See,wiggle:Tee,positive:Qne},Jne=(t,e,n)=>{var r,i=(r=Zne[n])!==null&&r!==void 0?r:Dc,s=wee().keys(e).value((c,d)=>Number(cr(c,d,0))).order(vE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,m)=>{var p=cr(t[m],e[d],0);Array.isArray(p)&&p.length===2&&Ue(p[0])&&Ue(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function ere(t){return t==null?void 0:String(t)}var _R=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=cr(s,e.dataKey,e.scale.domain()[l]);return $n(c)?null:e.scale(c)-i/2+r},tre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},nre=t=>{var e=t.flat(2).filter(Ue);return[Math.min(...e),Math.max(...e)]},rre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ire=(t,e,n)=>{if(t!=null)return rre(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var m=wL(f,e,n),p=nre(m);return!Xt(p[0])||!Xt(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},wR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ER=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ey=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Dv(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function SR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return ed(ed({},e),{},{dataKey:n,payload:r,value:i,name:s})}function EL(t,e){if(t)return String(t);if(typeof e=="string")return e}var are=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},sre=(t,e)=>e==="centric"?t.angle:t.radius,Zs=t=>t.layout.width,Js=t=>t.layout.height,ore=t=>t.layout.scale,SL=t=>t.layout.margin,Hv=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Gv=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),lre="data-recharts-item-index",cre="data-recharts-item-id",Xm=60;function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return(e=dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=fre(t,"string");return typeof e=="symbol"?e:e+""}function fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hre=t=>t.brush.height;function mre(t){var e=Gv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Xm;return n+i}return n},0)}function pre(t){var e=Gv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Xm;return n+i}return n},0)}function gre(t){var e=Hv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yre(t){var e=Hv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=le([Zs,Js,SL,hre,mre,pre,gre,yre,G6,Ute],(t,e,n,r,i,s,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Zg(Zg({},p),m),x=b.bottom;b.bottom+=r,b=Kne(b,d,f);var w=t-b.left-b.right,E=e-b.top-b.bottom;return Zg(Zg({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(E,0)})}),vre=le(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GT=le(Zs,Js,(t,e)=>({x:0,y:0,width:t,height:e})),bre=T.createContext(null),mi=()=>T.useContext(bre)!=null,Kv=t=>t.brush,Yv=le([Kv,Hn,SL],(t,e,n)=>({height:t.height,x:Ue(t.x)?t.x:e.left,y:Ue(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ue(t.width)?t.width:e.width})),q_={},$_={},H_={},AR;function xre(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},w=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{w(),l=void 0,c=null},S=()=>{m()},k=function(...M){if(i?.aborted)return;l=this,c=M;const C=b==null;x(),d&&C&&m()};return k.schedule=x,k.cancel=E,k.flush=S,i?.addEventListener("abort",E,{once:!0}),k}t.debounce=e})(H_)),H_}var IR;function _re(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),x=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},w=()=>(b.flush(),m);return x.cancel=b.cancel,x.flush=w,x}t.debounce=n})($_)),$_}var kR;function wre(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_re();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(q_)),q_}var G_,CR;function Ere(){return CR||(CR=1,G_=wre().throttle),G_}var Sre=Ere();const Tre=Ja(Sre);var NR=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},TL=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Fs(r)?t:Number(r),d=Fs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},Are={width:0,height:0,overflow:"visible"},Ire={width:0,overflowX:"visible"},kre={height:0,overflowY:"visible"},Cre={},Nre=t=>{var{width:e,height:n}=t,r=Fs(e),i=Fs(n);return r&&i?Are:r?Ire:i?kre:Cre};function Ore(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AL=T.createContext({width:-1,height:-1});function Dre(t){return fl(t.width)&&fl(t.height)}function IL(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Dre(i)?T.createElement(AL.Provider,{value:i},e):null}var KT=()=>T.useContext(AL),jre=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:b,onResize:x,style:w={}}=t,E=T.useRef(null),S=T.useRef();S.current=x,T.useImperativeHandle(e,()=>E.current);var[k,M]=T.useState({containerWidth:r.width,containerHeight:r.height}),C=T.useCallback((O,V)=>{M(q=>{var L=Math.round(O),F=Math.round(V);return q.containerWidth===L&&q.containerHeight===F?q:{containerWidth:L,containerHeight:F}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Km;var O=F=>{var U,{width:_e,height:we}=F[0].contentRect;C(_e,we),(U=S.current)===null||U===void 0||U.call(S,_e,we)};m>0&&(O=Tre(O,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(O),{width:q,height:L}=E.current.getBoundingClientRect();return C(q,L),V.observe(E.current),()=>{V.disconnect()}},[C,m]);var{containerWidth:j,containerHeight:P}=k;NR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:R}=TL(j,P,{width:i,height:s,aspect:n,maxHeight:d});return NR(z!=null&&z>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,R,i,s,l,c,n),T.createElement("div",{id:p?"".concat(p):void 0,className:Te("recharts-responsive-container",b),style:PR(PR({},w),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},T.createElement("div",{style:Nre({width:i,height:s})},T.createElement(IL,{width:z,height:R},f)))}),kL=T.forwardRef((t,e)=>{var n=KT();if(fl(n.width)&&fl(n.height))return t.children;var{width:r,height:i}=Ore({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=TL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ue(s)&&Ue(l)?T.createElement(IL,{width:s,height:l},t.children):T.createElement(jre,NE({},t,{width:r,height:i,ref:e}))});function CL(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Wv=()=>{var t,e=mi(),n=$e(vre),r=$e(Yv),i=(t=$e(Kv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},zre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Lre=()=>{var t;return(t=$e(Hn))!==null&&t!==void 0?t:zre},Vre=()=>$e(Zs),Bre=()=>$e(Js),St=t=>t.layout.layoutType,Qm=()=>$e(St),Ure=()=>{var t=Qm();return t!==void 0},Xv=t=>{var e=dn(),n=mi(),{width:r,height:i}=t,s=KT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&fl(l)&&fl(c)&&e(Une({width:l,height:c}))},[e,n,l,c]),null},NL=Symbol.for("immer-nothing"),RR=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var mm=Object.getPrototypeOf;function Rd(t){return!!t&&!!t[fi]}function zc(t){return t?OL(t)||Array.isArray(t)||!!t[RR]||!!t.constructor?.[RR]||Zm(t)||Zv(t):!1}var Fre=Object.prototype.constructor.toString(),MR=new WeakMap;function OL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=MR.get(n);return r===void 0&&(r=Function.toString.call(n),MR.set(n,r)),r===Fre}function Sy(t,e,n=!0){Qv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Qv(t){const e=t[fi];return e?e.type_:Array.isArray(t)?1:Zm(t)?2:Zv(t)?3:0}function OE(t,e){return Qv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PL(t,e,n){const r=Qv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function qre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zm(t){return t instanceof Map}function Zv(t){return t instanceof Set}function nc(t){return t.copy_||t.base_}function PE(t,e){if(Zm(t))return new Map(t);if(Zv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[fi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(mm(t),r)}else{const r=mm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function YT(t,e=!1){return Jv(t)||Rd(t)||!zc(t)||(Qv(t)>1&&Object.defineProperties(t,{set:Jg,add:Jg,clear:Jg,delete:Jg}),Object.freeze(t),e&&Object.values(t).forEach(n=>YT(n,!0))),t}function $re(){ra(2)}var Jg={value:$re};function Jv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Hre={};function Lc(t){const e=Hre[t];return e||ra(0,t),e}var pm;function RL(){return pm}function Gre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DR(t,e){e&&(Lc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function RE(t){ME(t),t.drafts_.forEach(Kre),t.drafts_=null}function ME(t){t===pm&&(pm=t.parent_)}function jR(t){return pm=Gre(pm,t)}function Kre(t){const e=t[fi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fi].modified_&&(RE(e),ra(4)),zc(t)&&(t=Ty(e,t),e.parent_||Ay(e,t)),e.patches_&&Lc("Patches").generateReplacementPatches_(n[fi].base_,t,e.patches_,e.inversePatches_)):t=Ty(e,n,[]),RE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NL?t:void 0}function Ty(t,e,n){if(Jv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[fi];if(!i)return Sy(e,(s,l)=>LR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ay(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),Sy(l,(d,f)=>LR(t,i,s,d,f,n,c),r),Ay(t,s,!1),n&&t.patches_&&Lc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function LR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Jv(i);if(!(c&&!l)){if(Rd(i)){const d=s&&e&&e.type_!==3&&!OE(e.assigned_,r)?s.concat(r):void 0,f=Ty(t,i,d);if(PL(n,r,f),Rd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(zc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Ty(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Zm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ay(t,i)}}}function Ay(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&YT(e,n)}function Yre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:RL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=WT;n&&(i=[r],s=gm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var WT={get(t,e){if(e===fi)return t;const n=nc(t);if(!OE(n,e))return Wre(t,n,e);const r=n[e];return t.finalized_||!zc(r)?r:r===K_(t.base_,e)?(Y_(t),t.copy_[e]=jE(r,t)):r},has(t,e){return e in nc(t)},ownKeys(t){return Reflect.ownKeys(nc(t))},set(t,e,n){const r=ML(nc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=K_(nc(t),e),s=i?.[fi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(qre(n,i)&&(n!==void 0||OE(t.base_,e)))return!0;Y_(t),DE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return K_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Y_(t),DE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=nc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return mm(t.base_)},setPrototypeOf(){ra(12)}},gm={};Sy(WT,(t,e)=>{gm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gm.deleteProperty=function(t,e){return gm.set.call(this,t,e,void 0)};gm.set=function(t,e,n){return WT.set.call(this,t[0],e,n,t[0])};function K_(t,e){const n=t[fi];return(n?nc(n):t)[e]}function Wre(t,e,n){const r=ML(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function ML(t,e){if(!(e in t))return;let n=mm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=mm(n)}}function DE(t){t.modified_||(t.modified_=!0,t.parent_&&DE(t.parent_))}function Y_(t){t.copy_||(t.copy_=PE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&ra(6),r!==void 0&&typeof r!="function"&&ra(7);let i;if(zc(e)){const s=jR(this),l=jE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?RE(s):ME(s)}return DR(s,r),zR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===NL&&(i=void 0),this.autoFreeze_&&YT(i,!0),r){const s=[],l=[];Lc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zc(t)||ra(8),Rd(t)&&(t=Qre(t));const e=jR(this),n=jE(t,void 0);return n[fi].isManual_=!0,ME(e),n}finishDraft(t,e){const n=t&&t[fi];(!n||!n.isManual_)&&ra(9);const{scope_:r}=n;return DR(r,e),zR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Lc("Patches").applyPatches_;return Rd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function jE(t,e){const n=Zm(t)?Lc("MapSet").proxyMap_(t,e):Zv(t)?Lc("MapSet").proxySet_(t,e):Yre(t,e);return(e?e.scope_:RL()).drafts_.push(n),n}function Qre(t){return Rd(t)||ra(10,t),DL(t)}function DL(t){if(!zc(t)||Jv(t))return t;const e=t[fi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=PE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=PE(t,!0);return Sy(n,(i,s)=>{PL(n,i,DL(s))},r),e&&(e.finalized_=!1),n}var Zre=new Xre;Zre.produce;var Jre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jL=Fr({name:"legend",initialState:Jre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:qt()},removeLegendPayload:{reducer(t,e){var n=oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:qt()}}}),{setLegendSize:Xye,setLegendSettings:Qye,addLegendPayload:eie,replaceLegendPayload:tie,removeLegendPayload:nie}=jL.actions,rie=jL.reducer;function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var lie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,x=()=>{if(s&&s.length){var P={padding:0,margin:0},z=(c?Dv(s,c):s).map((R,O)=>{if(R.type==="none")return null;var V=R.formatter||l||oie,{value:q,name:L}=R,F=q,U=L;if(V){var _e=V(q,L,R,O,s);if(Array.isArray(_e))[F,U]=_e;else if(_e!=null)F=_e;else return null}var we=W_({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:we},Qa(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Qa(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},F),T.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:P},z)}return null},w=W_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=W_({margin:0},i),S=!$n(m),k=S?m:"",M=Te("recharts-default-tooltip",d),C=Te("recharts-tooltip-label",f);S&&p&&s!==void 0&&s!==null&&(k=p(m,s));var j=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",zE({className:M,style:w},j),T.createElement("p",{className:C,style:E},T.isValidElement(k)?k:"".concat(k)),x())},bh="recharts-tooltip-wrapper",cie={visibility:"hidden"};function uie(t){var{coordinate:e,translateX:n,translateY:r}=t;return Te(bh,{["".concat(bh,"-right")]:Ue(n)&&e&&Ue(e.x)&&n>=e.x,["".concat(bh,"-left")]:Ue(n)&&e&&Ue(e.x)&&n<e.x,["".concat(bh,"-bottom")]:Ue(r)&&e&&Ue(e.y)&&r>=e.y,["".concat(bh,"-top")]:Ue(r)&&e&&Ue(e.y)&&r<e.y})}function BR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&Ue(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=d[r];if(b==null)return 0;if(l[r]){var x=m,w=b;return x<w?Math.max(p,b):Math.max(m,b)}if(f==null)return 0;var E=p+c,S=b+f;return E>S?Math.max(m,b):Math.max(p,b)}function die(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=BR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=BR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=die({translateX:m,translateY:p,useTranslate3d:c})):f=cie,{cssProperties:f,cssClasses:uie({translateX:m,translateY:p,coordinate:n})}}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){LE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LE(t,e,n){return(e=hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pie extends T.PureComponent{constructor(){super(...arguments),LE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),LE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:b,viewBox:x,wrapperStyle:w,lastBoundingBox:E,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:M,cssProperties:C}=fie({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:x}),j=k?{}:e0(e0({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=e0(e0({},j),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:S},s)}}var zL=()=>{var t;return(t=$e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $R={curveBasisClosed:dee,curveBasisOpen:fee,curveBasis:uee,curveBumpX:XJ,curveBumpY:QJ,curveLinearClosed:hee,curveLinear:Rv,curveMonotoneX:mee,curveMonotoneY:pee,curveNatural:gee,curveStep:yee,curveStepAfter:bee,curveStepBefore:vee},Iy=t=>Xt(t.x)&&Xt(t.y),HR=t=>t.base!=null&&Iy(t.base)&&Iy(t),xh=t=>t.x,_h=t=>t.y,bie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gm(t));return(n==="curveMonotone"||n==="curveBump")&&e?$R["".concat(n).concat(e==="vertical"?"Y":"X")]:$R[n]||Rv},xie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=bie(e,i),c=s?n.filter(Iy):n,d;if(Array.isArray(r)){var f=n.map((x,w)=>qR(qR({},x),{},{base:r[w]}));i==="vertical"?d=Gg().y(_h).x1(xh).x0(x=>x.base.x):d=Gg().x(xh).y1(_h).y0(x=>x.base.y);var m=d.defined(HR).curve(l),p=s?f.filter(HR):f;return m(p)}i==="vertical"&&Ue(r)?d=Gg().y(_h).x1(xh).x0(r):Ue(r)?d=Gg().x(xh).y1(_h).y0(r):d=v6().x(xh).y(_h);var b=d.defined(Iy).curve(l);return b(c)},LL=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Qm();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?xie(l):r;return T.createElement("path",VE({},dl(t),$ee(t),{className:Te("recharts-curve",e),d:c===null?void 0:c,ref:i}))},_ie=["x","y","top","left","width","height","className"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(null,arguments)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aie(t,e){if(t==null)return{};var n,r,i=Iie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kie=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Cie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=Aie(t,_ie),f=wie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ue(e)||!Ue(n)||!Ue(s)||!Ue(l)||!Ue(r)||!Ue(i)?null:T.createElement("path",BE({},Mi(f),{className:Te("recharts-cross",c),d:kie(e,n,s,l,r,i)}))};function Nie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Rie(t,"string");return typeof e=="symbol"?e:e+""}function Rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VL=(t,e,n)=>t.map(r=>"".concat(Mie(r)," ").concat(e,"ms ").concat(n)).join(","),Die=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ym=(t,e)=>Object.keys(e).reduce((n,r)=>YR(YR({},n),{},{[r]:t(r,e[r])}),{});function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return(e=zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ky=(t,e,n)=>t+(e-t)*n,UE=t=>{var{from:e,to:n}=t;return e!==n},BL=(t,e,n)=>{var r=ym((i,s)=>{if(UE(s)){var[l,c]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:c})}return s},e);return n<1?ym((i,s)=>UE(s)&&r[i]!=null?kn(kn({},s),{},{velocity:ky(s.velocity,r[i].velocity,n),from:ky(s.from,r[i].from,n)}):s,e):BL(t,r,n-1)};function Vie(t,e,n,r,i,s){var l,c=r.reduce((b,x)=>kn(kn({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>ym((b,x)=>x.from,c),f=()=>!Object.values(c).filter(UE).length,m=null,p=b=>{l||(l=b);var x=b-l,w=x/n.dt;c=BL(n,c,w),i(kn(kn(kn({},t),e),d())),l=b,f()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function Bie(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,b)=>{var x=t[b],w=e[b];return x==null||w==null?p:kn(kn({},p),{},{[b]:[x,w]})},{}),f,m=p=>{f||(f=p);var b=(p-f)/r,x=ym((E,S)=>ky(...S,n(b)),d);if(s(kn(kn(kn({},t),e),x)),b<1)c=l.setTimeout(m);else{var w=ym((E,S)=>ky(...S,n(1)),d);s(kn(kn(kn({},t),e),w))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Uie=(t,e,n,r,i,s)=>{var l=Die(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?Vie(t,e,n,l,i,s):Bie(t,e,n,r,l,i,s)};var Cy=1e-4,UL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],FL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),XR=(t,e)=>n=>{var r=UL(t,e);return FL(r,n)},Fie=(t,e)=>n=>{var r=UL(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return FL(i,n)},qie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},$ie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=qie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Hie=(t,e,n,r)=>{var i=XR(t,n),s=XR(e,r),l=Fie(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,b=0;b<8;++b){var x=i(p)-m,w=l(p);if(Math.abs(x-m)<Cy||w<Cy)return s(p);p=c(p-x/w)}return s(p)};return d.isStepper=!1,d},QR=function(){return Hie(...$ie(...arguments))},Gie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Cy&&Math.abs(p)<Cy?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},Kie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QR(t);case"spring":return Gie();default:if(t.split("(")[0]==="cubic-bezier")return QR(t)}return typeof t=="function"?t:null};function Yie(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Wie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Xie(){return Yie(new Wie)}var Qie=T.createContext(Xie);function Zie(t,e){var n=T.useContext(Qie);return T.useMemo(()=>e??n(t),[t,e,n])}var Jie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eb={isSsr:Jie()},eae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZR={t:0},X_={t:1};function XT(t){var e=zi(t,eae),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=n==="auto"?!eb.isSsr:n,p=Zie(e.animationId,e.animationManager),[b,x]=T.useState(m?ZR:X_),w=T.useRef(null);return T.useEffect(()=>{m||x(X_)},[m]),T.useEffect(()=>{if(!m||!r)return Km;var E=Uie(ZR,X_,Kie(s),i,x,p.getTimeoutController()),S=()=>{w.current=E()};return p.start([d,l,S,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,s,l,d,c,p]),f(b.t)}function QT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(um(e)),r=T.useRef(t);return r.current!==t&&(n.current=um(e),r.current=t),n.current}var tae=["radius"],nae=["radius"],JR,eM,tM,nM,rM,iM,aM,sM,oM,lM;function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function dM(t,e){if(t==null)return{};var n,r,i=sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Da(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fM=(t,e,n,r,i)=>{var s=Qo(n),l=Qo(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],x=0,w=4;x<w;x++)b[x]=i[x]>c?c:i[x];p=Jt(JR||(JR=Da(["M",",",""])),t,e+d*b[0]),b[0]>0&&(p+=Jt(eM||(eM=Da(["A ",",",",0,0,",",",",",""])),b[0],b[0],m,t+f*b[0],e)),p+=Jt(tM||(tM=Da(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(p+=Jt(nM||(nM=Da(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],m,t+n,e+d*b[1])),p+=Jt(rM||(rM=Da(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(p+=Jt(iM||(iM=Da(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],m,t+n-f*b[2],e+r)),p+=Jt(aM||(aM=Da(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(p+=Jt(sM||(sM=Da(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],m,t,e+r-d*b[3])),p+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);p=Jt(oM||(oM=Da(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,m,t+f*E,e,t+n-f*E,e,E,E,m,t+n,e+d*E,t+n,e+r-d*E,E,E,m,t+n-f*E,e+r,t+f*E,e+r,E,E,m,t,e+r-d*E)}else p=Jt(lM||(lM=Da(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},hM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qL=t=>{var e=zi(t,hM),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:E}=e,S=T.useRef(c),k=T.useRef(d),M=T.useRef(s),C=T.useRef(l),j=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),P=QT(j,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var z=Te("recharts-rectangle",m);if(!E){var R=Mi(e),{radius:O}=R,V=dM(R,tae);return T.createElement("path",Ny({},V,{x:Qo(s),y:Qo(l),width:Qo(c),height:Qo(d),radius:typeof f=="number"?f:void 0,className:z,d:fM(s,l,c,d,f)}))}var q=S.current,L=k.current,F=M.current,U=C.current,_e="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),W=VL(["strokeDasharray"],b,typeof p=="string"?p:hM.animationEasing);return T.createElement(XT,{animationId:P,key:P,canBegin:r>0,duration:b,easing:p,isActive:E,begin:x},re=>{var $=or(q,c,re),se=or(L,d,re),ve=or(F,s,re),H=or(U,l,re);n.current&&(S.current=$,k.current=se,M.current=ve,C.current=H);var K;w?re>0?K={transition:W,strokeDasharray:we}:K={strokeDasharray:_e}:K={strokeDasharray:we};var oe=Mi(e),{radius:de}=oe,ge=dM(oe,nae);return T.createElement("path",Ny({},ge,{radius:typeof f=="number"?f:void 0,className:z,d:fM(ve,H,$,se,f),ref:n,style:uM(uM({},K),e.style)}))})};function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oy=Math.PI/180,uae=t=>t*180/Math.PI,lr=(t,e,n,r)=>({x:t+Math.cos(-Oy*r)*n,y:e+Math.sin(-Oy*r)*n}),dae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},hae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=fae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:uae(d),angleInRadian:d}},mae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},pae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},gae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=hae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=mae(e),m=s,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?pM(pM({},e),{},{radius:i,angle:pae(m,e)}):null};function $L(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=lr(e,n,r,i),c=lr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var gM,yM,vM,bM,xM,_M,wM;function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function dc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var yae=(t,e)=>{var n=si(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},t0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Oy,p=d?i:i+s*m,b=lr(e,n,f,p),x=lr(e,n,r,p),w=d?i-s*m:i,E=lr(e,n,f*Math.cos(m*Oy),w);return{center:b,circleTangency:x,lineTangency:E,theta:m}},HL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=yae(s,l),d=s+c,f=lr(e,n,i,s),m=lr(e,n,i,d),p=Jt(gM||(gM=dc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),m.x,m.y);if(r>0){var b=lr(e,n,r,s),x=lr(e,n,r,d);p+=Jt(yM||(yM=dc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else p+=Jt(vM||(vM=dc(["L ",","," Z"])),e,n);return p},vae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=si(f-d),{circleTangency:p,lineTangency:b,theta:x}=t0({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:E,theta:S}=t0({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-x-S;if(k<0)return l?Jt(bM||(bM=dc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):HL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var M=Jt(xM||(xM=dc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(m<0),p.x,p.y,i,i,+(k>180),+(m<0),w.x,w.y,s,s,+(m<0),E.x,E.y);if(r>0){var{circleTangency:C,lineTangency:j,theta:P}=t0({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:z,lineTangency:R,theta:O}=t0({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=c?Math.abs(d-f):Math.abs(d-f)-P-O;if(V<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+=Jt(_M||(_M=dc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(m<0),z.x,z.y,r,r,+(V>180),+(m>0),C.x,C.y,s,s,+(m<0),j.x,j.y)}else M+=Jt(wM||(wM=dc(["L",",","Z"])),e,n);return M},bae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GL=t=>{var e=zi(t,bae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(s<i||f===m)return null;var b=Te("recharts-sector",p),x=s-i,w=la(l,x,0,!0),E;return w>0&&Math.abs(f-m)<360?E=vae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=HL({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),T.createElement("path",FE({},Mi(e),{className:b,d:E}))};function xae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(R6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=lr(r,i,s,c),f=lr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return $L(e)}}var Q_={},Z_={},J_={},EM;function _ae(){return EM||(EM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(J_)),J_}var SM;function wae(){return SM||(SM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Z_)),Z_}var TM;function Eae(){return TM||(TM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6(),n=wae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(Q_)),Q_}var ew,AM;function Sae(){return AM||(AM=1,ew=Eae().range),ew}var Tae=Sae();const KL=Ja(Tae);function sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Aae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZT(t){let e,n,r;t.length!==2?(e=sl,n=(c,d)=>sl(t(c),d),r=(c,d)=>t(c)-d):(e=t===sl||t===Aae?t:Iae,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function Iae(){return 0}function YL(t){return t===null?NaN:+t}function*kae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cae=ZT(sl),Jm=Cae.right;ZT(YL).center;class IM extends Map{constructor(e,n=Pae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kM(this,e))}has(e){return super.has(kM(this,e))}set(e,n){return super.set(Nae(this,e),n)}delete(e){return super.delete(Oae(this,e))}}function kM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Nae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rae(t=sl){if(t===sl)return WL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function WL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mae=Math.sqrt(50),Dae=Math.sqrt(10),jae=Math.sqrt(2);function Py(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Mae?10:s>=Dae?5:s>=jae?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Py(t,e,n*2):[c,d,f]}function qE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Py(e,t,n):Py(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function $E(t,e,n){return e=+e,t=+t,n=+n,Py(t,e,n)[2]}function HE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$E(e,t,n):$E(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?WL:Rae(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*p/d+b)),w=Math.min(r,Math.floor(e+(d-f)*p/d+b));XL(t,e,x,w,i)}const s=t[e];let l=n,c=r;for(wh(t,n,e),i(t[r],s)>0&&wh(t,n,r);l<c;){for(wh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?wh(t,n,c):(++c,wh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function wh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zae(t,e,n){if(t=Float64Array.from(kae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return NM(t);if(e>=1)return CM(t);var r,i=(r-1)*e,s=Math.floor(i),l=CM(XL(t,s).subarray(0,s+1)),c=NM(t.subarray(s+1));return l+(c-l)*(i-s)}}function Lae(t,e,n=YL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function Vae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const GE=Symbol("implicit");function JT(){var t=new IM,e=[],n=[],r=GE;function i(s){let l=t.get(s);if(l===void 0){if(r!==GE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new IM;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return JT(e,n).unknown(r)},Li.apply(i,arguments),i}function eA(){var t=JT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var b=e().length,x=i<r,w=x?i:r,E=x?r:i;s=(E-w)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),w+=(E-w-s*(b-d))*m,l=s*(1-d),c&&(w=Math.round(w),l=Math.round(l));var S=Vae(b).map(function(k){return w+s*k});return n(x?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return eA(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Li.apply(p(),arguments)}function QL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QL(e())},t}function Bae(){return QL(eA.apply(null,arguments).paddingInner(1))}function tA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ZL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ep(){}var vm=.7,Ry=1/vm,ld="\\s*([+-]?\\d+)\\s*",bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uae=/^#([0-9a-f]{3,8})$/,Fae=new RegExp(`^rgb\\(${ld},${ld},${ld}\\)$`),qae=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),$ae=new RegExp(`^rgba\\(${ld},${ld},${ld},${bm}\\)$`),Hae=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${bm}\\)$`),Gae=new RegExp(`^hsl\\(${bm},${Ka},${Ka}\\)$`),Kae=new RegExp(`^hsla\\(${bm},${Ka},${Ka},${bm}\\)$`),OM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tA(ep,xm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PM,formatHex:PM,formatHex8:Yae,formatHsl:Wae,formatRgb:RM,toString:RM});function PM(){return this.rgb().formatHex()}function Yae(){return this.rgb().formatHex8()}function Wae(){return JL(this).formatHsl()}function RM(){return this.rgb().formatRgb()}function xm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MM(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?n0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?n0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fae.exec(t))?new Br(e[1],e[2],e[3],1):(e=qae.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$ae.exec(t))?n0(e[1],e[2],e[3],e[4]):(e=Hae.exec(t))?n0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gae.exec(t))?zM(e[1],e[2]/100,e[3]/100,1):(e=Kae.exec(t))?zM(e[1],e[2]/100,e[3]/100,e[4]):OM.hasOwnProperty(t)?MM(OM[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function MM(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function n0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function Xae(t){return t instanceof ep||(t=xm(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function KE(t,e,n,r){return arguments.length===1?Xae(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tA(Br,KE,ZL(ep,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(_c(this.r),_c(this.g),_c(this.b),My(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:Qae,formatRgb:jM,toString:jM}));function DM(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}`}function Qae(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}${fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function jM(){const t=My(this.opacity);return`${t===1?"rgb(":"rgba("}${_c(this.r)}, ${_c(this.g)}, ${_c(this.b)}${t===1?")":`, ${t})`}`}function My(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fc(t){return t=_c(t),(t<16?"0":"")+t.toString(16)}function zM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function JL(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof ep||(t=xm(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new ia(l,c,d,t.opacity)}function Zae(t,e,n,r){return arguments.length===1?JL(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tA(ia,Zae,ZL(ep,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(tw(t>=240?t-240:t+120,i,r),tw(t,i,r),tw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(LM(this.h),r0(this.s),r0(this.l),My(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=My(this.opacity);return`${t===1?"hsl(":"hsla("}${LM(this.h)}, ${r0(this.s)*100}%, ${r0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LM(t){return t=(t||0)%360,t<0?t+360:t}function r0(t){return Math.max(0,Math.min(1,t||0))}function tw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nA=t=>()=>t;function Jae(t,e){return function(n){return t+n*e}}function ese(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tse(t){return(t=+t)==1?eV:function(e,n){return n-e?ese(e,n,t):nA(isNaN(e)?n:e)}}function eV(t,e){var n=e-t;return n?Jae(t,n):nA(isNaN(t)?e:t)}const VM=(function t(e){var n=tse(e);function r(i,s){var l=n((i=KE(i)).r,(s=KE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=eV(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function nse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function rse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ise(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=nf(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function ase(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var YE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nw=new RegExp(YE.source,"g");function ose(t){return function(){return t}}function lse(t){return function(e){return t(e)+""}}function cse(t,e){var n=YE.lastIndex=nw.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=YE.exec(t))&&(i=nw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Dy(r,i)})),n=nw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?lse(d[0].x):ose(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function nf(t,e){var n=typeof e,r;return e==null||n==="boolean"?nA(e):(n==="number"?Dy:n==="string"?(r=xm(e))?(e=r,VM):cse:e instanceof xm?VM:e instanceof Date?ase:rse(e)?nse:Array.isArray(e)?ise:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sse:Dy)(t,e)}function rA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function use(t,e){e===void 0&&(e=t,t=nf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function dse(t){return function(){return t}}function jy(t){return+t}var BM=[0,1];function Tr(t){return t}function WE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dse(isNaN(e)?NaN:.5)}function fse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hse(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=WE(i,r),s=n(l,s)):(r=WE(r,i),s=n(s,l)),function(c){return s(r(c))}}function mse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=WE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Jm(t,c,1,r)-1;return s[d](i[d](c))}}function tp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tb(){var t=BM,e=BM,n=nf,r,i,s,l=Tr,c,d,f;function m(){var b=Math.min(t.length,e.length);return l!==Tr&&(l=fse(t[0],t[b-1])),c=b>2?mse:hse,d=f=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((f||(f=c(e,t.map(r),Dy)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,jy),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=rA,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Tr,m()):l!==Tr},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,x){return r=b,i=x,m()}}function iA(){return tb()(Tr,Tr)}function pse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Md(t){return t=zy(Math.abs(t)),t?t[1]:NaN}function gse(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function yse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(t){if(!(e=vse.exec(t)))throw new Error("invalid format: "+t);var e;return new aA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_m.prototype=aA.prototype;function aA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tV;function xse(t,e){var n=zy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(tV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+zy(t,Math.max(0,e+s-1))[0]}function UM(t,e){var n=zy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const FM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UM(t*100,e),r:UM,s:xse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qM(t){return t}var $M=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _se(t){var e=t.grouping===void 0||t.thousands===void 0?qM:gse($M.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?qM:yse($M.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=_m(p);var b=p.fill,x=p.align,w=p.sign,E=p.symbol,S=p.zero,k=p.width,M=p.comma,C=p.precision,j=p.trim,P=p.type;P==="n"?(M=!0,P="g"):FM[P]||(C===void 0&&(C=12),j=!0,P="g"),(S||b==="0"&&x==="=")&&(S=!0,b="0",x="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=E==="$"?r:/[%p]/.test(P)?l:"",O=FM[P],V=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function q(L){var F=z,U=R,_e,we,W;if(P==="c")U=O(L)+U,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?d:O(Math.abs(L),C),j&&(L=bse(L)),re&&+L==0&&w!=="+"&&(re=!1),F=(re?w==="("?w:c:w==="-"||w==="("?"":w)+F,U=(P==="s"?HM[8+tV/3]:"")+U+(re&&w==="("?")":""),V){for(_e=-1,we=L.length;++_e<we;)if(W=L.charCodeAt(_e),48>W||W>57){U=(W===46?i+L.slice(_e+1):L.slice(_e))+U,L=L.slice(0,_e);break}}}M&&!S&&(L=e(L,1/0));var $=F.length+L.length+U.length,se=$<k?new Array(k-$+1).join(b):"";switch(M&&S&&(L=e(se+L,se.length?k-U.length:1/0),se=""),x){case"<":L=F+L+U+se;break;case"=":L=F+se+L+U;break;case"^":L=se.slice(0,$=se.length>>1)+F+L+U+se.slice($);break;default:L=se+F+L+U;break}return s(L)}return q.toString=function(){return p+""},q}function m(p,b){var x=f((p=_m(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Md(b)/3)))*3,E=Math.pow(10,-w),S=HM[8+w/3];return function(k){return x(E*k)+S}}return{format:f,formatPrefix:m}}var i0,sA,nV;wse({thousands:",",grouping:[3],currency:["$",""]});function wse(t){return i0=_se(t),sA=i0.format,nV=i0.formatPrefix,i0}function Ese(t){return Math.max(0,-Md(Math.abs(t)))}function Sse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Md(e)/3)))*3-Md(Math.abs(t)))}function Tse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Md(e)-Md(t))+1}function rV(t,e,n,r){var i=HE(t,e,n),s;switch(r=_m(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Sse(i,l))&&(r.precision=s),nV(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Tse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Ese(i))&&(r.precision=s-(r.type==="%")*2);break}}return sA(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return qE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);m-- >0;){if(f=$E(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function iV(){var t=iA();return t.copy=function(){return tp(t,iV())},Li.apply(t,arguments),xl(t)}function aV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return aV(t).unknown(e)},t=arguments.length?Array.from(t,jy):[0,1],xl(n)}function sV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function GM(t){return Math.log(t)}function KM(t){return Math.exp(t)}function Ase(t){return-Math.log(-t)}function Ise(t){return-Math.exp(-t)}function kse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cse(t){return t===10?kse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Nse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YM(t){return(e,n)=>-t(-e,n)}function oA(t){const e=t(GM,KM),n=e.domain;let r=10,i,s;function l(){return i=Nse(r),s=Cse(r),n()[0]<0?(i=YM(i),s=YM(s),t(Ase,Ise)):t(GM,KM),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let b=i(f),x=i(m),w,E;const S=c==null?10:+c;let k=[];if(!(r%1)&&x-b<S){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(w=1;w<r;++w)if(E=b<0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}}else for(;b<=x;++b)for(w=r-1;w>=1;--w)if(E=b>0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}k.length*2<S&&(k=qE(f,m,S))}else k=qE(b,x,Math.min(x-b,S)).map(s);return p?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=_m(d)).precision==null&&(d.trim=!0),d=sA(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(sV(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function oV(){const t=oA(tb()).domain([1,10]);return t.copy=()=>tp(t,oV()).base(t.base()),Li.apply(t,arguments),t}function WM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lA(t){var e=1,n=t(WM(e),XM(e));return n.constant=function(r){return arguments.length?t(WM(e=+r),XM(e)):e},xl(n)}function lV(){var t=lA(tb());return t.copy=function(){return tp(t,lV()).constant(t.constant())},Li.apply(t,arguments)}function QM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ose(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pse(t){return t<0?-t*t:t*t}function cA(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(Ose,Pse):t(QM(n),QM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function uA(){var t=cA(tb());return t.copy=function(){return tp(t,uA()).exponent(t.exponent())},Li.apply(t,arguments),t}function Rse(){return uA.apply(null,arguments).exponent(.5)}function ZM(t){return Math.sign(t)*t*t}function Mse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cV(){var t=iA(),e=[0,1],n=!1,r;function i(s){var l=Mse(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(ZM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,jy)).map(ZM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Li.apply(i,arguments),xl(i)}function uV(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Lae(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Jm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(sl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return uV().domain(t).range(e).unknown(r)},Li.apply(s,arguments)}function dV(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Jm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return dV().domain([t,e]).range(i).unknown(s)},Li.apply(xl(l),arguments)}function fV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Jm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return fV().domain(t).range(e).unknown(n)},Li.apply(i,arguments)}const rw=new Date,iw=new Date;function Pn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Pn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(rw.setTime(+s),iw.setTime(+l),t(rw),t(iw),Math.floor(n(rw,iw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ly=Pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ly.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ly);Ly.range;const Cs=1e3,Ri=Cs*60,Ns=Ri*60,$s=Ns*24,dA=$s*7,JM=$s*30,aw=$s*365,hc=Pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCSeconds());hc.range;const fA=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getMinutes());fA.range;const hA=Pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCMinutes());hA.range;const mA=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs-t.getMinutes()*Ri)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getHours());mA.range;const pA=Pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCHours());pA.range;const np=Pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/$s,t=>t.getDate()-1);np.range;const nb=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);nb.range;const hV=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));hV.range;function Gc(t){return Pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/dA)}const rb=Gc(0),Vy=Gc(1),Dse=Gc(2),jse=Gc(3),Dd=Gc(4),zse=Gc(5),Lse=Gc(6);rb.range;Vy.range;Dse.range;jse.range;Dd.range;zse.range;Lse.range;function Kc(t){return Pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dA)}const ib=Kc(0),By=Kc(1),Vse=Kc(2),Bse=Kc(3),jd=Kc(4),Use=Kc(5),Fse=Kc(6);ib.range;By.range;Vse.range;Bse.range;jd.range;Use.range;Fse.range;const gA=Pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gA.range;const yA=Pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yA.range;const Hs=Pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Gs=Pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function mV(t,e,n,r,i,s){const l=[[hc,1,Cs],[hc,5,5*Cs],[hc,15,15*Cs],[hc,30,30*Cs],[s,1,Ri],[s,5,5*Ri],[s,15,15*Ri],[s,30,30*Ri],[i,1,Ns],[i,3,3*Ns],[i,6,6*Ns],[i,12,12*Ns],[r,1,$s],[r,2,2*$s],[n,1,dA],[e,1,JM],[e,3,3*JM],[t,1,aw]];function c(f,m,p){const b=m<f;b&&([f,m]=[m,f]);const x=p&&typeof p.range=="function"?p:d(f,m,p),w=x?x.range(f,+m+1):[];return b?w.reverse():w}function d(f,m,p){const b=Math.abs(m-f)/p,x=ZT(([,,S])=>S).right(l,b);if(x===l.length)return t.every(HE(f/aw,m/aw,p));if(x===0)return Ly.every(Math.max(HE(f,m,p),1));const[w,E]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return w.every(E)}return[c,d]}const[qse,$se]=mV(Gs,yA,ib,hV,pA,hA),[Hse,Gse]=mV(Hs,gA,rb,np,mA,fA);function sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ow(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Kse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=Sh(i),m=Th(i),p=Sh(s),b=Th(s),x=Sh(l),w=Th(l),E=Sh(c),S=Th(c),k=Sh(d),M=Th(d),C={a:re,A:$,b:se,B:ve,c:null,d:aD,e:aD,f:goe,g:Aoe,G:koe,H:hoe,I:moe,j:poe,L:pV,m:yoe,M:voe,p:H,q:K,Q:lD,s:cD,S:boe,u:xoe,U:_oe,V:woe,w:Eoe,W:Soe,x:null,X:null,y:Toe,Y:Ioe,Z:Coe,"%":oD},j={a:oe,A:de,b:ge,B:ke,c:null,d:sD,e:sD,f:Roe,g:qoe,G:Hoe,H:Noe,I:Ooe,j:Poe,L:yV,m:Moe,M:Doe,p:Ee,q:Ve,Q:lD,s:cD,S:joe,u:zoe,U:Loe,V:Voe,w:Boe,W:Uoe,x:null,X:null,y:Foe,Y:$oe,Z:Goe,"%":oD},P={a:q,A:L,b:F,B:U,c:_e,d:rD,e:rD,f:coe,g:nD,G:tD,H:iD,I:iD,j:aoe,L:loe,m:ioe,M:soe,p:V,q:roe,Q:doe,s:foe,S:ooe,u:Zse,U:Jse,V:eoe,w:Qse,W:toe,x:we,X:W,y:nD,Y:tD,Z:noe,"%":uoe};C.x=z(n,C),C.X=z(r,C),C.c=z(e,C),j.x=z(n,j),j.X=z(r,j),j.c=z(e,j);function z(Z,Ae){return function(Be){var me=[],Kt=-1,Xe=0,tn=Z.length,Vt,Sn,Vi;for(Be instanceof Date||(Be=new Date(+Be));++Kt<tn;)Z.charCodeAt(Kt)===37&&(me.push(Z.slice(Xe,Kt)),(Sn=eD[Vt=Z.charAt(++Kt)])!=null?Vt=Z.charAt(++Kt):Sn=Vt==="e"?" ":"0",(Vi=Ae[Vt])&&(Vt=Vi(Be,Sn)),me.push(Vt),Xe=Kt+1);return me.push(Z.slice(Xe,Kt)),me.join("")}}function R(Z,Ae){return function(Be){var me=Eh(1900,void 0,1),Kt=O(me,Z,Be+="",0),Xe,tn;if(Kt!=Be.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ae&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Xe=ow(Eh(me.y,0,1)),tn=Xe.getUTCDay(),Xe=tn>4||tn===0?By.ceil(Xe):By(Xe),Xe=nb.offset(Xe,(me.V-1)*7),me.y=Xe.getUTCFullYear(),me.m=Xe.getUTCMonth(),me.d=Xe.getUTCDate()+(me.w+6)%7):(Xe=sw(Eh(me.y,0,1)),tn=Xe.getDay(),Xe=tn>4||tn===0?Vy.ceil(Xe):Vy(Xe),Xe=np.offset(Xe,(me.V-1)*7),me.y=Xe.getFullYear(),me.m=Xe.getMonth(),me.d=Xe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),tn="Z"in me?ow(Eh(me.y,0,1)).getUTCDay():sw(Eh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(tn+5)%7:me.w+me.U*7-(tn+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,ow(me)):sw(me)}}function O(Z,Ae,Be,me){for(var Kt=0,Xe=Ae.length,tn=Be.length,Vt,Sn;Kt<Xe;){if(me>=tn)return-1;if(Vt=Ae.charCodeAt(Kt++),Vt===37){if(Vt=Ae.charAt(Kt++),Sn=P[Vt in eD?Ae.charAt(Kt++):Vt],!Sn||(me=Sn(Z,Be,me))<0)return-1}else if(Vt!=Be.charCodeAt(me++))return-1}return me}function V(Z,Ae,Be){var me=f.exec(Ae.slice(Be));return me?(Z.p=m.get(me[0].toLowerCase()),Be+me[0].length):-1}function q(Z,Ae,Be){var me=x.exec(Ae.slice(Be));return me?(Z.w=w.get(me[0].toLowerCase()),Be+me[0].length):-1}function L(Z,Ae,Be){var me=p.exec(Ae.slice(Be));return me?(Z.w=b.get(me[0].toLowerCase()),Be+me[0].length):-1}function F(Z,Ae,Be){var me=k.exec(Ae.slice(Be));return me?(Z.m=M.get(me[0].toLowerCase()),Be+me[0].length):-1}function U(Z,Ae,Be){var me=E.exec(Ae.slice(Be));return me?(Z.m=S.get(me[0].toLowerCase()),Be+me[0].length):-1}function _e(Z,Ae,Be){return O(Z,e,Ae,Be)}function we(Z,Ae,Be){return O(Z,n,Ae,Be)}function W(Z,Ae,Be){return O(Z,r,Ae,Be)}function re(Z){return l[Z.getDay()]}function $(Z){return s[Z.getDay()]}function se(Z){return d[Z.getMonth()]}function ve(Z){return c[Z.getMonth()]}function H(Z){return i[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function oe(Z){return l[Z.getUTCDay()]}function de(Z){return s[Z.getUTCDay()]}function ge(Z){return d[Z.getUTCMonth()]}function ke(Z){return c[Z.getUTCMonth()]}function Ee(Z){return i[+(Z.getUTCHours()>=12)]}function Ve(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ae=z(Z+="",C);return Ae.toString=function(){return Z},Ae},parse:function(Z){var Ae=R(Z+="",!1);return Ae.toString=function(){return Z},Ae},utcFormat:function(Z){var Ae=z(Z+="",j);return Ae.toString=function(){return Z},Ae},utcParse:function(Z){var Ae=R(Z+="",!0);return Ae.toString=function(){return Z},Ae}}}var eD={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,Yse=/^%/,Wse=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Xse(t){return t.replace(Wse,"\\$&")}function Sh(t){return new RegExp("^(?:"+t.map(Xse).join("|")+")","i")}function Th(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Qse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function eoe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function toe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tD(t,e,n){var r=Gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nD(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function noe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function roe(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ioe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rD(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function aoe(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iD(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function soe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ooe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function loe(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function coe(t,e,n){var r=Gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uoe(t,e,n){var r=Yse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function doe(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function foe(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aD(t,e){return ut(t.getDate(),e,2)}function hoe(t,e){return ut(t.getHours(),e,2)}function moe(t,e){return ut(t.getHours()%12||12,e,2)}function poe(t,e){return ut(1+np.count(Hs(t),t),e,3)}function pV(t,e){return ut(t.getMilliseconds(),e,3)}function goe(t,e){return pV(t,e)+"000"}function yoe(t,e){return ut(t.getMonth()+1,e,2)}function voe(t,e){return ut(t.getMinutes(),e,2)}function boe(t,e){return ut(t.getSeconds(),e,2)}function xoe(t){var e=t.getDay();return e===0?7:e}function _oe(t,e){return ut(rb.count(Hs(t)-1,t),e,2)}function gV(t){var e=t.getDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function woe(t,e){return t=gV(t),ut(Dd.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function Eoe(t){return t.getDay()}function Soe(t,e){return ut(Vy.count(Hs(t)-1,t),e,2)}function Toe(t,e){return ut(t.getFullYear()%100,e,2)}function Aoe(t,e){return t=gV(t),ut(t.getFullYear()%100,e,2)}function Ioe(t,e){return ut(t.getFullYear()%1e4,e,4)}function koe(t,e){var n=t.getDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),ut(t.getFullYear()%1e4,e,4)}function Coe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function sD(t,e){return ut(t.getUTCDate(),e,2)}function Noe(t,e){return ut(t.getUTCHours(),e,2)}function Ooe(t,e){return ut(t.getUTCHours()%12||12,e,2)}function Poe(t,e){return ut(1+nb.count(Gs(t),t),e,3)}function yV(t,e){return ut(t.getUTCMilliseconds(),e,3)}function Roe(t,e){return yV(t,e)+"000"}function Moe(t,e){return ut(t.getUTCMonth()+1,e,2)}function Doe(t,e){return ut(t.getUTCMinutes(),e,2)}function joe(t,e){return ut(t.getUTCSeconds(),e,2)}function zoe(t){var e=t.getUTCDay();return e===0?7:e}function Loe(t,e){return ut(ib.count(Gs(t)-1,t),e,2)}function vV(t){var e=t.getUTCDay();return e>=4||e===0?jd(t):jd.ceil(t)}function Voe(t,e){return t=vV(t),ut(jd.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function Boe(t){return t.getUTCDay()}function Uoe(t,e){return ut(By.count(Gs(t)-1,t),e,2)}function Foe(t,e){return ut(t.getUTCFullYear()%100,e,2)}function qoe(t,e){return t=vV(t),ut(t.getUTCFullYear()%100,e,2)}function $oe(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function Hoe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jd(t):jd.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function Goe(){return"+0000"}function oD(){return"%"}function lD(t){return+t}function cD(t){return Math.floor(+t/1e3)}var $u,bV,xV;Koe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Koe(t){return $u=Kse(t),bV=$u.format,$u.parse,xV=$u.utcFormat,$u.utcParse,$u}function Yoe(t){return new Date(t)}function Woe(t){return t instanceof Date?+t:+new Date(+t)}function vA(t,e,n,r,i,s,l,c,d,f){var m=iA(),p=m.invert,b=m.domain,x=f(".%L"),w=f(":%S"),E=f("%I:%M"),S=f("%I %p"),k=f("%a %d"),M=f("%b %d"),C=f("%B"),j=f("%Y");function P(z){return(d(z)<z?x:c(z)<z?w:l(z)<z?E:s(z)<z?S:r(z)<z?i(z)<z?k:M:n(z)<z?C:j)(z)}return m.invert=function(z){return new Date(p(z))},m.domain=function(z){return arguments.length?b(Array.from(z,Woe)):b().map(Yoe)},m.ticks=function(z){var R=b();return t(R[0],R[R.length-1],z??10)},m.tickFormat=function(z,R){return R==null?P:f(R)},m.nice=function(z){var R=b();return(!z||typeof z.range!="function")&&(z=e(R[0],R[R.length-1],z??10)),z?b(sV(R,z)):m},m.copy=function(){return tp(m,vA(t,e,n,r,i,s,l,c,d,f))},m}function Xoe(){return Li.apply(vA(Hse,Gse,Hs,gA,rb,np,mA,fA,hc,bV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qoe(){return Li.apply(vA(qse,$se,Gs,yA,ib,nb,pA,hA,hc,xV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ab(){var t=0,e=1,n,r,i,s,l=Tr,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(b){var x,w;return arguments.length?([x,w]=b,l=p(x,w),f):[l(0),l(1)]}}return f.range=m(nf),f.rangeRound=m(rA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function _l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _V(){var t=xl(ab()(Tr));return t.copy=function(){return _l(t,_V())},eo.apply(t,arguments)}function wV(){var t=oA(ab()).domain([1,10]);return t.copy=function(){return _l(t,wV()).base(t.base())},eo.apply(t,arguments)}function EV(){var t=lA(ab());return t.copy=function(){return _l(t,EV()).constant(t.constant())},eo.apply(t,arguments)}function bA(){var t=cA(ab());return t.copy=function(){return _l(t,bA()).exponent(t.exponent())},eo.apply(t,arguments)}function Zoe(){return bA.apply(null,arguments).exponent(.5)}function SV(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Jm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>zae(t,s/r))},n.copy=function(){return SV(e).domain(t)},eo.apply(n,arguments)}function sb(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Tr,m,p=!1,b;function x(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:d),f(p?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(p=!!E,x):p},x.interpolator=function(E){return arguments.length?(f=E,x):f};function w(E){return function(S){var k,M,C;return arguments.length?([k,M,C]=S,f=use(E,[k,M,C]),x):[f(0),f(.5),f(1)]}}return x.range=w(nf),x.rangeRound=w(rA),x.unknown=function(E){return arguments.length?(b=E,x):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function TV(){var t=xl(sb()(Tr));return t.copy=function(){return _l(t,TV())},eo.apply(t,arguments)}function AV(){var t=oA(sb()).domain([.1,1,10]);return t.copy=function(){return _l(t,AV()).base(t.base())},eo.apply(t,arguments)}function IV(){var t=lA(sb());return t.copy=function(){return _l(t,IV()).constant(t.constant())},eo.apply(t,arguments)}function xA(){var t=cA(sb());return t.copy=function(){return _l(t,xA()).exponent(t.exponent())},eo.apply(t,arguments)}function Joe(){return xA.apply(null,arguments).exponent(.5)}const Rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eA,scaleDiverging:TV,scaleDivergingLog:AV,scaleDivergingPow:xA,scaleDivergingSqrt:Joe,scaleDivergingSymlog:IV,scaleIdentity:aV,scaleImplicit:GE,scaleLinear:iV,scaleLog:oV,scaleOrdinal:JT,scalePoint:Bae,scalePow:uA,scaleQuantile:uV,scaleQuantize:dV,scaleRadial:cV,scaleSequential:_V,scaleSequentialLog:wV,scaleSequentialPow:bA,scaleSequentialQuantile:SV,scaleSequentialSqrt:Zoe,scaleSequentialSymlog:EV,scaleSqrt:Rse,scaleSymlog:lV,scaleThreshold:fV,scaleTime:Xoe,scaleUtc:Qoe,tickFormat:rV},Symbol.toStringTag,{value:"Module"}));var to=t=>t.chartData,kV=le([to],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),CV=(t,e,n,r)=>r?kV(t):to(t),ele=(t,e,n)=>n?kV(t):to(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xt(e)&&Xt(n))return!0}return!1}function uD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function NV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Xt(n))i=n;else if(typeof n=="function")return;if(Xt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(hl(l))return l}}function tle(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return uD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ue(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&wR.test(i)){var d=wR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Ue(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&ER.test(s)){var m=ER.exec(s);if(m==null||m[1]==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e?.[1];var b=[l,c];if(hl(b))return e==null?b:uD(b,e,n)}}}var rf=1e9,nle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wA,Ht=!0,ji="[DecimalError] ",wc=ji+"Invalid argument: ",_A=ji+"Exponent out of range: ",af=Math.floor,rc=Math.pow,rle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,qn=1e7,Lt=7,OV=9007199254740991,Uy=af(OV/Lt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Lt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return Ds(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return Pt(Ds(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return En(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ii))throw Error(ji+"NaN");if(n.s<1)throw Error(ji+(n.s?"NaN":"-Infinity"));return n.eq(ii)?new r(0):(Ht=!1,e=Ds(wm(n,s),wm(t,s),s),Ht=!0,Pt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MV(e,t):PV(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ji+"NaN");return n.s?(Ht=!1,e=Ds(n,t,0,1).times(t),Ht=!0,n.minus(e)):Pt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return RV(this)};Ne.naturalLogarithm=Ne.ln=function(){return wm(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PV(e,t):MV(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wc+t);if(e=En(i)+1,r=i.d.length-1,n=r*Lt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ji+"NaN")}for(t=En(c),Ht=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Fa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=af((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ds(c,s,l+2)).times(.5),Fa(s.d).slice(0,l)===(e=Fa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Pt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Ht=!0,Pt(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,s,l,c,d,f,m=this,p=m.constructor,b=m.d,x=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,f=x.length,d<f&&(s=b,b=x,x=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+x[r]*b[i-r-1]+e,s[i--]=c%qn|0,e=c/qn|0;s[i]=(s[i]+e)%qn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ht?Pt(t,p.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,rf),e===void 0?e=r.rounding:Za(e,0,8),Pt(n,t+En(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vc(r,!0):(Za(t,0,rf),e===void 0?e=i.rounding:Za(e,0,8),r=Pt(new i(r),t+1,e),n=Vc(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Vc(i):(Za(t,0,rf),e===void 0?e=s.rounding:Za(e,0,8),r=Pt(new s(i),t+En(i)+1,e),n=Vc(r.abs(),!1,t+En(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),En(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ii);if(c=new d(c),!c.s){if(t.s<1)throw Error(ji+"Infinity");return c}if(c.eq(ii))return c;if(r=d.precision,t.eq(ii))return Pt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=OV){for(i=new d(ii),e=Math.ceil(r/Lt+4),Ht=!1;n%2&&(i=i.times(c),fD(i.d,e)),n=af(n/2),n!==0;)c=c.times(c),fD(c.d,e);return Ht=!0,t.s<0?new d(ii).div(i):Pt(i,r)}}else if(s<0)throw Error(ji+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Ht=!1,i=t.times(wm(c,r+f)),Ht=!0,i=RV(i),i.s=s,i};Ne.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=En(i),r=Vc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,rf),e===void 0?e=s.rounding:Za(e,0,8),i=Pt(new s(i),t,e),n=En(i),r=Vc(i,t<=n||n<=s.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,rf),e===void 0?e=r.rounding:Za(e,0,8)),Pt(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=En(t),n=t.constructor;return Vc(t,e<=n.toExpNeg||e>=n.toExpPos)};function PV(t,e){var n,r,i,s,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ht?Pt(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/Lt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/qn|0,d[s]%=qn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Ht?Pt(e,p):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wc+t)}function Fa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Lt-r.length,n&&(s+=qo(n)),s+=r;l=t[e],r=l+"",n=Lt-r.length,n&&(s+=qo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ds=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%qn|0,l=s/qn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*qn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,m,p,b,x,w,E,S,k,M,C,j,P,z,R,O,V=r.constructor,q=r.s==i.s?1:-1,L=r.d,F=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(ji+"Division by zero");for(d=r.e-i.e,R=F.length,P=L.length,x=new V(q),w=x.d=[],f=0;F[f]==(L[f]||0);)++f;if(F[f]>(L[f]||0)&&--d,s==null?M=s=V.precision:l?M=s+(En(r)-En(i))+1:M=s,M<0)return new V(0);if(M=M/Lt+2|0,f=0,R==1)for(m=0,F=F[0],M++;(f<P||m)&&M--;f++)C=m*qn+(L[f]||0),w[f]=C/F|0,m=C%F|0;else{for(m=qn/(F[0]+1)|0,m>1&&(F=t(F,m),L=t(L,m),R=F.length,P=L.length),j=R,E=L.slice(0,R),S=E.length;S<R;)E[S++]=0;O=F.slice(),O.unshift(0),z=F[0],F[1]>=qn/2&&++z;do m=0,c=e(F,E,R,S),c<0?(k=E[0],R!=S&&(k=k*qn+(E[1]||0)),m=k/z|0,m>1?(m>=qn&&(m=qn-1),p=t(F,m),b=p.length,S=E.length,c=e(p,E,b,S),c==1&&(m--,n(p,R<b?O:F,b))):(m==0&&(c=m=1),p=F.slice()),b=p.length,b<S&&p.unshift(0),n(E,p,S),c==-1&&(S=E.length,c=e(F,E,R,S),c<1&&(m++,n(E,R<S?O:F,S))),S=E.length):c===0&&(m++,E=[0]),w[f++]=m,c&&E[0]?E[S++]=L[j]||0:(E=[L[j]],S=1);while((j++<P||E[0]!==void 0)&&M--)}return w[0]||w.shift(),x.e=d,Pt(x,l?s+En(x)+1:s)}})();function RV(t,e){var n,r,i,s,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(En(t)>16)throw Error(_A+En(t));if(!t.s)return new m(ii);for(Ht=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(rc(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new m(ii),m.precision=c;;){if(i=Pt(i.times(t),c),n=n.times(++d),l=s.plus(Ds(i,n,c)),Fa(l.d).slice(0,c)===Fa(s.d).slice(0,c)){for(;f--;)s=Pt(s.times(s),c);return m.precision=p,e==null?(Ht=!0,Pt(s,p)):s}s=l}}function En(t){for(var e=t.e*Lt,n=t.d[0];n>=10;n/=10)e++;return e}function lw(t,e,n){if(e>t.LN10.sd())throw Ht=!0,n&&(t.precision=n),Error(ji+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function qo(t){for(var e="";t--;)e+="0";return e}function wm(t,e){var n,r,i,s,l,c,d,f,m,p=1,b=10,x=t,w=x.d,E=x.constructor,S=E.precision;if(x.s<1)throw Error(ji+(x.s?"NaN":"-Infinity"));if(x.eq(ii))return new E(0);if(e==null?(Ht=!1,f=S):f=e,x.eq(10))return e==null&&(Ht=!0),lw(E,f);if(f+=b,E.precision=f,n=Fa(w),r=n.charAt(0),s=En(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Fa(x.d),r=n.charAt(0),p++;s=En(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return d=lw(E,f+2,S).times(s+""),x=wm(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(Ht=!0,Pt(x,S)):x;for(c=l=x=Ds(x.minus(ii),x.plus(ii),f),m=Pt(x.times(x),f),i=3;;){if(l=Pt(l.times(m),f),d=c.plus(Ds(l,new E(i),f)),Fa(d.d).slice(0,f)===Fa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(lw(E,f+2,S).times(s+""))),c=Ds(c,new E(p),f),E.precision=S,e==null?(Ht=!0,Pt(c,S)):c;c=d,i+=2}}function dD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=af(n/Lt),t.d=[],r=(n+1)%Lt,n<0&&(r+=Lt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Lt;r<i;)t.d.push(+e.slice(r,r+=Lt));e=e.slice(r),r=Lt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Uy||t.e<-Uy))throw Error(_A+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,n){var r,i,s,l,c,d,f,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Lt,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Lt),s=p.length,m>=s)return t;for(f=s=p[m],l=1;s>=10;s/=10)l++;r%=Lt,i=r-Lt+l}if(n!==void 0&&(s=rc(10,l-i-1),c=f/s%10|0,d=e<0||p[m+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/rc(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=En(t),p.length=1,e=e-s-1,p[0]=rc(10,(Lt-e%Lt)%Lt),t.e=af(-e/Lt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=rc(10,Lt-r),p[m]=i>0?(f/rc(10,l-i)%rc(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==qn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=qn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Ht&&(t.e>Uy||t.e<-Uy))throw Error(_A+En(t));return t}function MV(t,e){var n,r,i,s,l,c,d,f,m,p,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Ht?Pt(e,x):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(x/Lt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=qn-1;--d[s],d[i]+=qn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Ht?Pt(e,x):e):new b(0)}function Vc(t,e,n){var r,i=En(t),s=Fa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+qo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+qo(-i-1)+s,n&&(r=n-l)>0&&(s+=qo(r))):i>=l?(s+=qo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+qo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=qo(r))),t.s<0?"-"+s:s}function fD(t,e){if(t.length>e)return t.length=e,!0}function DV(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return dD(l,s.toString())}else if(typeof s!="string")throw Error(wc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,rle.test(s))dD(l,s);else throw Error(wc+s)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DV,i.config=i.set=ile,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ile(t){if(!t||typeof t!="object")throw Error(ji+"Object expected");var e,n,r,i=["precision",1,rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(af(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wc+n+": "+r);return this}var wA=DV(nle);ii=new wA(1);const xt=wA;var ale=t=>t,jV={},zV=t=>t===jV,hD=t=>function e(){return arguments.length===0||arguments.length===1&&zV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},LV=(t,e)=>t===1?e:hD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==jV).length;return s>=t?e(...r):LV(t-s,hD(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>zV(m)?c.shift():m);return e(...f,...c)}))}),sle=t=>LV(t.length,t),XE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ole=sle((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),lle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ale;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function VV(t){var e;return t===0?e=1:e=Math.floor(new xt(t).abs().log(10).toNumber())+1,e}function BV(t,e,n){for(var r=new xt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var UV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},FV=(t,e,n)=>{if(t.lte(0))return new xt(0);var r=VV(t.toNumber()),i=new xt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new xt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new xt(d.toNumber()):new xt(Math.ceil(d.toNumber()))},cle=(t,e,n)=>{var r=new xt(1),i=new xt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new xt(10).pow(VV(t)-1),i=new xt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new xt(Math.floor(t)))}else t===0?i=new xt(Math.floor((e-1)/2)):n||(i=new xt(Math.floor(t)));var l=Math.floor((e-1)/2),c=lle(ole(d=>i.add(new xt(d-l).mul(r)).toNumber()),XE);return c(0,e)},qV=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var l=FV(new xt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new xt(0):(c=new xt(e).add(n).div(2),c=c.sub(new xt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new xt(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?qV(e,n,r,i,s+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new xt(d).mul(l)),tickMax:c.add(new xt(f).mul(l))})},ule=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=UV([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...XE(0,i-1).map(()=>1/0)]:[...XE(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return cle(c,i,s);var{step:m,tickMin:p,tickMax:b}=qV(c,d,l,s,0),x=BV(p,b.add(new xt(.1).mul(m)),m);return n>r?x.reverse():x},dle=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=UV([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=FV(new xt(c).sub(l).div(d-1),s,0),m=[...BV(new xt(l),new xt(c),f),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},$V=t=>t.rootProps.maxBarSize,fle=t=>t.rootProps.barGap,HV=t=>t.rootProps.barCategoryGap,hle=t=>t.rootProps.barSize,ob=t=>t.rootProps.stackOffset,GV=t=>t.rootProps.reverseStackOrder,EA=t=>t.options.chartName,SA=t=>t.rootProps.syncId,KV=t=>t.rootProps.syncMethod,TA=t=>t.options.eventEmitter,Ur={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ri={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},mle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},ple={allowDataOverflow:ri.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ri.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,ticks:void 0,type:ri.type,unit:void 0},gle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yle={allowDataOverflow:ri.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ri.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,ticks:void 0,type:"category",unit:void 0},AA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?gle:mle,IA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?yle:ple,cb=t=>t.polarOptions,kA=le([Zs,Js,Hn],dae),YV=le([cb,kA],(t,e)=>{if(t!=null)return la(t.innerRadius,e,0)}),WV=le([cb,kA],(t,e)=>{if(t!=null)return la(t.outerRadius,e,e*.8)}),vle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},XV=le([cb],vle);le([AA,XV],lb);var QV=le([kA,YV,WV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([IA,QV],lb);var ZV=le([St,cb,YV,WV,Zs,Js],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:la(l,i,i/2),cy:la(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Rn=(t,e)=>e,ub=(t,e,n)=>n;function CA(t){return t?.id}function JV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=CA(c);f.forEach((p,b)=>{var x=s==null||i?b:String(cr(p,s,null)),w=cr(p,c.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[m]:w}),l.set(x,E)})}}),Array.from(l.values())}function db(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var fb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function hb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function ble(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Mn=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},sf=t=>t.tooltip.settings.axisId;function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QE=[0,"auto"],Bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},e9=(t,e)=>t.cartesianAxis.xAxis[e],no=(t,e)=>{var n=e9(t,e);return n??Bn},Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:QE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xm},t9=(t,e)=>t.cartesianAxis.yAxis[e],ro=(t,e)=>{var n=t9(t,e);return n??Un},Ele={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ele},Cr=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"zAxis":return NA(t,n);case"angleAxis":return AA(t,n);case"radiusAxis":return IA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Sle=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rp=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"angleAxis":return AA(t,n);case"radiusAxis":return IA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},n9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function r9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var OA=t=>t.graphicalItems.cartesianItems,Tle=le([Rn,ub],r9),i9=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ip=le([OA,Cr,Tle],i9,{memoizeOptions:{resultEqualityCheck:hb}}),a9=le([ip],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(db)),s9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ale=le([ip],s9),o9=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ile=le([ip],o9,{memoizeOptions:{resultEqualityCheck:hb}}),l9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},PA=le([Ile,CV],l9),c9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:cr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:cr(i,r)}))):t.map(r=>({value:r})),mb=le([PA,Cr,ip],c9);function u9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function N0(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(Xt(e))return e}}function pD(t){if(Array.isArray(t)){var e=[N0(t[0]),N0(t[1])];return hl(e)?e:void 0}var n=N0(t);if(n!=null)return[n,n]}function Ks(t){return t.map(N0).filter(Ree)}function kle(t,e,n){return!n||typeof e!="number"||Xa(e)?[]:n.length?Ks(n.flatMap(r=>{var i=cr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Xt(s)||!Xt(l)))return[e-s,e+l]})):[]}var Dn=t=>{var e=Mn(t),n=sf(t);return rp(t,e,n)},ap=le([Dn],t=>t?.dataKey),Cle=le([a9,CV,Dn],JV),d9=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,m=f.map(CA);return[c,{stackedData:Jne(t,m,n),graphicalItems:f}]}))},ZE=le([Cle,a9,ob,GV],d9),f9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=ire(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Nle=le([Cr],t=>t.allowDataOverflow),RA=t=>{var e;if(t==null||!("domain"in t))return QE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ks(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:QE},h9=le([Cr],RA),m9=le([h9,Nle],NV),Ole=le([ZE,to,Rn,m9],f9,{memoizeOptions:{resultEqualityCheck:fb}}),MA=t=>t.errorBars,Ple=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>u9(n,r)),qy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},p9=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>u9(i,k)),b=cr(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),x=kle(c,b,p);if(x.length>=2){var w=Math.min(...x),E=Math.max(...x);(s==null||w<s)&&(s=w),(l==null||E>l)&&(l=E)}var S=pD(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=pD(cr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Xt(s)&&Xt(l))return[s,l]},Rle=le([PA,Cr,Ale,MA,Rn],p9,{memoizeOptions:{resultEqualityCheck:fb}});function Mle(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var Dle=(t,e,n)=>{var r=t.map(Mle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&N6(r))?KL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},g9=t=>t.referenceElements.dots,of=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),jle=le([g9,Rn,ub],of),y9=t=>t.referenceElements.areas,zle=le([y9,Rn,ub],of),v9=t=>t.referenceElements.lines,Lle=le([v9,Rn,ub],of),b9=(t,e)=>{if(t!=null){var n=Ks(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Vle=le(jle,Rn,b9),x9=(t,e)=>{if(t!=null){var n=Ks(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ble=le([zle,Rn],x9);function Ule(t){var e;if(t.x!=null)return Ks([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ks(n)}function Fle(t){var e;if(t.y!=null)return Ks([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ks(n)}var _9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Ule(r):Fle(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qle=le([Lle,Rn],_9),$le=le(Vle,qle,Ble,(t,e,n)=>qy(t,n,e)),w9=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?qy(r,s,i):qy(s,i);return tle(e,f,t.allowDataOverflow)},Hle=le([Cr,h9,m9,Ole,Rle,$le,St,Rn],w9,{memoizeOptions:{resultEqualityCheck:fb}}),Gle=[0,1],E9=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Hc(e,s);if(f&&c==null){var m;return KL(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?Dle(r,t,f):i==="expand"?Gle:l}},DA=le([Cr,St,PA,mb,ob,Rn,Hle],E9),S9=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Gm(s));return c in Rh?c:"point"}}},sp=le([Cr,St,n9,EA,Rn],S9);function Kle(t){if(t!=null){if(t in Rh)return Rh[t]();var e="scale".concat(Gm(t));if(e in Rh)return Rh[e]()}}function jA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Kle(e);if(i!=null){var s=i.domain(n).range(r);return Yne(s),s}}}var T9=(t,e,n)=>{var r=RA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return ule(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return dle(t,e.tickCount,e.allowDecimals)}},zA=le([DA,rp,sp],T9),A9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Yle=le([Cr,DA,zA,Rn],A9),Wle=le(mb,Cr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ks(t.map(p=>p.value))).sort((p,b)=>p-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var m=f-d;n=Math.min(n,m)}}return n/l}}),I9=le(Wle,St,HV,Hn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Xt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=la(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Xle=(t,e,n)=>{var r=no(t,e);return r==null||typeof r.padding!="string"?0:I9(t,"xAxis",e,n,r.padding)},Qle=(t,e,n)=>{var r=ro(t,e);return r==null||typeof r.padding!="string"?0:I9(t,"yAxis",e,n,r.padding)},Zle=le(no,Xle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Jle=le(ro,Qle,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ece=le([Hn,Zle,Yv,Kv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),tce=le([Hn,St,Jle,Yv,Kv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),op=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ece(t,n,r);case"yAxis":return tce(t,n,r);case"zAxis":return(i=NA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return XV(t);case"radiusAxis":return QV(t,n);default:return}},k9=le([Cr,op],lb),pb=le([Cr,sp,Yle,k9],jA);le([ip,MA,Rn],Ple);function C9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var gb=(t,e)=>e,yb=(t,e,n)=>n,nce=le(Hv,gb,yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(C9)),rce=le(Gv,gb,yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(C9)),N9=(t,e)=>({width:t.width,height:e.height}),ice=(t,e)=>{var n=typeof e.width=="number"?e.width:Xm;return{width:n,height:t.height}},O9=le(Hn,no,N9),ace=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},sce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},oce=le(Js,Hn,nce,gb,yb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=N9(e,c);l==null&&(l=ace(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),lce=le(Zs,Hn,rce,gb,yb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=ice(e,c);l==null&&(l=sce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),cce=(t,e)=>{var n=no(t,e);if(n!=null)return oce(t,n.orientation,n.mirror)},uce=le([Hn,no,cce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dce=(t,e)=>{var n=ro(t,e);if(n!=null)return lce(t,n.orientation,n.mirror)},fce=le([Hn,ro,dce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),P9=le(Hn,ro,(t,e)=>{var n=typeof e.width=="number"?e.width:Xm;return{width:n,height:t.height}}),gD=(t,e,n)=>{switch(e){case"xAxis":return O9(t,n).width;case"yAxis":return P9(t,n).height;default:return}},R9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Hc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&N6(d))return d}},LA=le([St,mb,Cr,Rn],R9),M9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Hc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},VA=le([St,mb,rp,Rn],M9);le([St,Sle,sp,pb,LA,VA,op,zA,Rn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Hc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var hce=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Hc(t,d),{type:m,ticks:p,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&s!=null&&s.length>=2?si(s[0]-s[1])*2*w:w;var E=p||i;if(E){var S=E.map((k,M)=>{var C=l?l.indexOf(k):k;return{index:M,coordinate:r(C)+w,value:k,offset:w}});return S.filter(k=>Xt(k.coordinate))}return f&&c?c.map((k,M)=>({coordinate:r(k)+w,value:k,index:M,offset:w})).filter(k=>Xt(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,M)=>({coordinate:r(k)+w,value:l?l[k]:k,index:M,offset:w}))}},D9=le([St,rp,sp,pb,zA,op,LA,VA,Rn],hce),mce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Hc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?si(r[0]-r[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},zd=le([St,rp,pb,op,LA,VA,Rn],mce),Ld=le(Cr,pb,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})}),pce=le([Cr,sp,DA,k9],jA);le((t,e,n)=>NA(t,n),pce,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})});var gce=le([St,Hv,Gv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),j9=t=>t.options.defaultTooltipEventType,z9=t=>t.options.validateTooltipEventTypes;function L9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function BA(t,e){var n=j9(t),r=z9(t);return L9(e,n,r)}function yce(t){return $e(e=>BA(e,t))}var V9=(t,e)=>{var n,r=Number(e);if(!(Xa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},vce=t=>t.tooltip.settings,Wo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},bce={itemInteraction:{click:Wo,hover:Wo},axisInteraction:{click:Wo,hover:Wo},keyboardInteraction:Wo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},B9=Fr({name:"tooltip",initialState:bce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:qt()},removeTooltipEntrySettings:{reducer(t,e){var n=oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:xce,replaceTooltipEntrySettings:_ce,removeTooltipEntrySettings:wce,setTooltipSettingsState:Ece,setActiveMouseOverItemIndex:U9,mouseLeaveItem:Sce,mouseLeaveChart:F9,setActiveClickItemIndex:Tce,setMouseOverAxisIndex:q9,setMouseClickAxisIndex:Ace,setSyncInteraction:JE,setKeyboardInteraction:eS}=B9.actions,Ice=B9.reducer;function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Pce(t){return t.index!=null}var $9=(t,e,n,r)=>{if(e==null)return Wo;var i=Oce(t,e,n);if(i==null)return Wo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Pce(i)){if(s)return a0(a0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return a0(a0({},Wo),{},{coordinate:i.coordinate})};function Rce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Mce(t,e){var n=Rce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Dce(t,e,n){if(n==null||e==null)return!0;var r=cr(t,e);return r==null||!hl(n)?!0:Mce(r,n)}var UA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Xt(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||Dce(f,n,r)?String(d):null},H9=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=i?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:m.coordinate}}},G9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},lp=t=>t.options.tooltipPayloadSearcher,lf=t=>t.tooltip;function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vce(t,e){return t??e}var K9=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((b,x)=>{var w,{dataDefinedOnItem:E,settings:S}=x,k=Vce(E,c),M=Array.isArray(k)?wL(k,f,m):k,C=(w=S?.dataKey)!==null&&w!==void 0?w:r,j=S?.nameKey,P;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?P=Pee(M,r,i):P=s(M,e,d,j),Array.isArray(P))P.forEach(R=>{var O=bD(bD({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(SR({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:cr(R.payload,R.dataKey),name:R.name}))});else{var z;b.push(SR({tooltipEntrySettings:S,dataKey:C,payload:P,value:cr(P,C),name:(z=cr(P,j))!==null&&z!==void 0?z:S?.name}))}return b},p)}},FA=le([Dn,St,n9,EA,Mn],S9),Bce=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Uce=le([Mn,sf],r9),cf=le([Bce,Dn,Uce],i9,{memoizeOptions:{resultEqualityCheck:hb}}),Fce=le([cf],t=>t.filter(db)),qce=le([cf],o9,{memoizeOptions:{resultEqualityCheck:hb}}),uf=le([qce,to],l9),$ce=le([Fce,to,Dn],JV),qA=le([uf,Dn,cf],c9),Y9=le([Dn],RA),Hce=le([Dn],t=>t.allowDataOverflow),W9=le([Y9,Hce],NV),Gce=le([cf],t=>t.filter(db)),Kce=le([$ce,Gce,ob,GV],d9),Yce=le([Kce,to,Mn,W9],f9),Wce=le([cf],s9),Xce=le([uf,Dn,Wce,MA,Mn],p9,{memoizeOptions:{resultEqualityCheck:fb}}),Qce=le([g9,Mn,sf],of),Zce=le([Qce,Mn],b9),Jce=le([y9,Mn,sf],of),eue=le([Jce,Mn],x9),tue=le([v9,Mn,sf],of),nue=le([tue,Mn],_9),rue=le([Zce,nue,eue],qy),iue=le([Dn,Y9,W9,Yce,Xce,rue,St,Mn],w9),cp=le([Dn,St,uf,qA,ob,Mn,iue],E9),aue=le([cp,Dn,FA],T9),sue=le([Dn,cp,aue,Mn],A9),X9=t=>{var e=Mn(t),n=sf(t),r=!1;return op(t,e,n,r)},Q9=le([Dn,X9],lb),Z9=le([Dn,FA,sue,Q9],jA),oue=le([St,qA,Dn,Mn],R9),lue=le([St,qA,Dn,Mn],M9),cue=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Hc(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?si(i[0]-i[1])*2*p:p,f&&l?l.map((b,x)=>({coordinate:r(b)+p,value:b,index:x,offset:p})):r.domain().map((b,x)=>({coordinate:r(b)+p,value:s?s[b]:b,index:x,offset:p}))}}},io=le([St,Dn,FA,Z9,X9,oue,lue,Mn],cue),$A=le([j9,z9,vce],(t,e,n)=>L9(n.shared,t,e)),J9=t=>t.tooltip.settings.trigger,HA=t=>t.tooltip.settings.defaultIndex,up=le([lf,$A,J9,HA],$9),Vd=le([up,uf,ap,cp],UA),e8=le([io,Vd],V9),t8=le([up],t=>{if(t)return t.dataKey});le([up],t=>{if(t)return t.graphicalItemId});var n8=le([lf,$A,J9,HA],G9),uue=le([Zs,Js,St,Hn,io,HA,n8,lp],H9),due=le([up,uue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fue=le([up],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),hue=le([n8,Vd,to,ap,e8,lp,$A],K9);le([hue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return(e=pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=gue(t,"string");return typeof e=="symbol"?e:e+""}function gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yue=()=>$e(Dn),vue=()=>{var t=yue(),e=$e(io),n=$e(Z9);return Ey(!t||!n?void 0:_D(_D({},t),{},{scale:n}),e)};function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e,n){return(e=xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Eue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Hu(Hu(Hu({},r),lr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Hu(Hu(Hu({},r),lr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Sue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var r8=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,m,p,b,x=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,w=(m=n[c])===null||m===void 0?void 0:m.coordinate,E=c>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(x==null||w==null||E==null))if(si(w-x)!==si(E-w)){var k=[];if(si(E-w)===si(i[1]-i[0])){S=E;var M=w+i[1]-i[0];k[0]=Math.min(M,(M+x)/2),k[1]=Math.max(M,(M+x)/2)}else{S=x;var C=E+i[1]-i[0];k[0]=Math.min(w,(C+w)/2),k[1]=Math.max(w,(C+w)/2)}var j=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>j[0]&&t<=j[1]||t>=k[0]&&t<=k[1]){var P;return(P=n[c])===null||P===void 0?void 0:P.index}}else{var z=Math.min(x,E),R=Math.max(x,E);if(t>(z+w)/2&&t<=(R+w)/2){var O;return(O=n[c])===null||O===void 0?void 0:O.index}}}else if(e)for(var V=0;V<l;V++){var q=e[V];if(q!=null){var L=e[V+1],F=e[V-1];if(V===0&&L!=null&&t<=(q.coordinate+L.coordinate)/2||V===l-1&&F!=null&&t>(q.coordinate+F.coordinate)/2||V>0&&V<l-1&&F!=null&&L!=null&&t>(q.coordinate+F.coordinate)/2&&t<=(q.coordinate+L.coordinate)/2)return q.index}}return-1},Tue=()=>$e(EA),GA=(t,e)=>e,i8=(t,e,n)=>n,KA=(t,e,n,r)=>r,Aue=le(io,t=>Dv(t,e=>e.coordinate)),YA=le([lf,GA,i8,KA],$9),WA=le([YA,uf,ap,cp],UA),Iue=(t,e,n)=>{if(e!=null){var r=lf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a8=le([lf,GA,i8,KA],G9),$y=le([Zs,Js,St,Hn,io,KA,a8,lp],H9),kue=le([YA,$y],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),s8=le([io,WA],V9),Cue=le([a8,WA,to,ap,s8,lp,GA],K9),Nue=le([YA,WA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Oue=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Sue(t,l)){var c=are(t,e),d=r8(c,s,i,n,r),f=wue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Pue=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=gae(t,n);if(c){var d=sre(c,e),f=r8(d,l,s,r,i),m=Eue(e,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Rue=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Oue(t,e,r,i,s,l,c):Pue(t,e,n,r,i,s,l)},Mue=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Due=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ur)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ble}});function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return(e=zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vue={},Bue={zIndexMap:Object.values(Ur).reduce((t,e)=>SD(SD({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Vue)},Uue=new Set(Object.values(Ur));function Fue(t){return Uue.has(t)}var o8=Fr({name:"zIndex",initialState:Bue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Fue(n)&&delete t.zIndexMap[n])},prepare:qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:qt()}}}),{registerZIndexPortal:que,unregisterZIndexPortal:$ue,registerZIndexPortalElement:Hue,unregisterZIndexPortalElement:Gue}=o8.actions,Kue=o8.reducer;function wl(t){var{zIndex:e,children:n}=t,r=Ure(),i=r&&e!==void 0&&e!==0,s=mi(),l=dn();T.useLayoutEffect(()=>i?(l(que({zIndex:e})),()=>{l($ue({zIndex:e}))}):Km,[l,e,i]);var c=$e(d=>Mue(d,e,s));return i?c?bS.createPortal(n,c):null:n}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Xue(t,"string");return typeof e=="symbol"?e:e+""}function Xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Zue(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,b=r,x=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,E,S;if(m==="ScatterChart")w=p,E=Cie,S=Ur.cursorLine;else if(m==="BarChart")w=Nie(c,p,s,l),E=qL,S=Ur.cursorRectangle;else if(c==="radial"&&R6(p)){var{cx:k,cy:M,radius:C,startAngle:j,endAngle:P}=$L(p);w={cx:k,cy:M,startAngle:j,endAngle:P,innerRadius:C,outerRadius:C},E=GL,S=Ur.cursorLine}else w={points:xae(c,p,s)},E=LL,S=Ur.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,R=s0(s0(s0(s0({stroke:"#ccc",pointerEvents:"none"},s),w),NT(d)),{},{payload:b,payloadIndex:x,className:Te("recharts-tooltip-cursor",z)});return T.createElement(wl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},T.createElement(Que,{cursor:d,cursorComp:E,cursorProps:R}))}function Jue(t){var e=vue(),n=Lre(),r=Qm(),i=Tue();return e==null||n==null||r==null||i==null?null:T.createElement(Zue,tS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var l8=T.createContext(null),ede=()=>T.useContext(l8),cw={exports:{}},AD;function tde(){return AD||(AD=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||d,b),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,x=p.length,w=new Array(x);b<x;b++)w[b]=p[b].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,b,x,w){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],k=arguments.length,M,C;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,b),!0;case 5:return S.fn.call(S.context,m,p,b,x),!0;case 6:return S.fn.call(S.context,m,p,b,x,w),!0}for(C=1,M=new Array(k-1);C<k;C++)M[C-1]=arguments[C];S.fn.apply(S.context,M)}else{var j=S.length,P;for(C=0;C<j;C++)switch(S[C].once&&this.removeListener(f,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,m);break;case 3:S[C].fn.call(S[C].context,m,p);break;case 4:S[C].fn.call(S[C].context,m,p,b);break;default:if(!M)for(P=1,M=new Array(k-1);P<k;P++)M[P-1]=arguments[P];S[C].fn.apply(S[C].context,M)}}return!0},c.prototype.on=function(f,m,p){return s(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return s(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,b){var x=n?n+f:f;if(!this._events[x])return this;if(!m)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!b||w.once)&&(!p||w.context===p)&&l(this,x);else{for(var E=0,S=[],k=w.length;E<k;E++)(w[E].fn!==m||b&&!w[E].once||p&&w[E].context!==p)&&S.push(w[E]);S.length?this._events[x]=S.length===1?S[0]:S:l(this,x)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(cw)),cw.exports}var nde=tde();const rde=Ja(nde);var Em=new rde,nS="recharts.syncEvent.tooltip",ID="recharts.syncEvent.brush";function ide(t,e){if(e){var n=Number.parseInt(e,10);if(!Xa(n))return t?.[n]}}var ade={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},c8=Fr({name:"options",initialState:ade,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sde=c8.reducer,{createEventEmitter:ode}=c8.actions;function lde(t){return t.tooltip.syncInteraction}var cde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u8=Fr({name:"chartData",initialState:cde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:kD,setDataStartEndIndexes:ude,setComputedData:Zye}=u8.actions,dde=u8.reducer,fde=["x","y"];function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gde(t,e){if(t==null)return{};var n,r,i=yde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vde(){var t=$e(SA),e=$e(TA),n=dn(),r=$e(KV),i=$e(io),s=Qm(),l=Wv(),c=$e(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return Km;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:w,y:E}=x,S=gde(x,fde),{x:k,y:M,width:C,height:j}=m.payload.sourceViewBox,P=Gu(Gu({},S),{},{x:l.x+(C?(w-k)/C:0)*l.width,y:l.y+(j?(E-M)/j:0)*l.height});n(Gu(Gu({},m),{},{payload:Gu(Gu({},m.payload),{},{coordinate:P})}))}else n(m);return}if(i!=null){var z;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=r(i,R);z=i[O]}else r==="value"&&(z=i.find(W=>String(W.value)===m.payload.label));var{coordinate:V}=m.payload;if(z==null||m.payload.active===!1||V==null||l==null){n(JE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:L}=V,F=Math.min(q,l.x+l.width),U=Math.min(L,l.y+l.height),_e={x:s==="horizontal"?z.coordinate:F,y:s==="horizontal"?U:z.coordinate},we=JE({active:m.payload.active,coordinate:_e,dataKey:m.payload.dataKey,index:String(z.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(we)}}};return Em.on(nS,d),()=>{Em.off(nS,d)}},[c,n,e,t,r,i,s,l])}function bde(){var t=$e(SA),e=$e(TA),n=dn();T.useEffect(()=>{if(t==null)return Km;var r=(i,s,l)=>{e!==l&&t===i&&n(ude(s))};return Em.on(ID,r),()=>{Em.off(ID,r)}},[n,e,t])}function xde(){var t=dn();T.useEffect(()=>{t(ode())},[t]),vde(),bde()}function _de(t,e,n,r,i,s){var l=$e(x=>Iue(x,t,e)),c=$e(TA),d=$e(SA),f=$e(KV),m=$e(lde),p=m?.active,b=Wv();T.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=JE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Em.emit(nS,d,x,c)}},[p,n,l,i,r,c,d,f,s,b])}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tde(t){return t.dataKey}function Ade(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(lie,e)}var PD=[],Ide={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function d8(t){var e,n,r=zi(t,Ide),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:b,position:x,reverseDirection:w,useTranslate3d:E,wrapperStyle:S,cursor:k,shared:M,trigger:C,defaultIndex:j,portal:P,axisId:z}=r,R=dn(),O=typeof j=="number"?String(j):j;T.useEffect(()=>{R(Ece({shared:M,trigger:C,axisId:z,active:i,defaultIndex:O}))},[R,M,C,z,i,O]);var V=Wv(),q=zL(),L=yce(M),{activeIndex:F,isActive:U}=(e=$e(Ee=>Nue(Ee,L,C,O)))!==null&&e!==void 0?e:{},_e=$e(Ee=>Cue(Ee,L,C,O)),we=$e(Ee=>s8(Ee,L,C,O)),W=$e(Ee=>kue(Ee,L,C,O)),re=_e,$=ede(),se=(n=i??U)!==null&&n!==void 0?n:!1,[ve,H]=qte([re,se]),K=L==="axis"?we:void 0;_de(L,C,W,K,F,se);var oe=P??$;if(oe==null||V==null||L==null)return null;var de=re??PD;se||(de=PD),f&&de.length&&(de=pte(de.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||r.includeHidden)),b,Tde));var ge=de.length>0,ke=T.createElement(pie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:se,coordinate:W,hasPayload:ge,offset:p,position:x,reverseDirection:w,useTranslate3d:E,viewBox:V,wrapperStyle:S,lastBoundingBox:ve,innerRef:H,hasPortalFromProps:!!P},Ade(d,OD(OD({},r),{},{payload:de,label:K,active:se,activeIndex:F,coordinate:W,accessibilityLayer:q})));return T.createElement(T.Fragment,null,bS.createPortal(ke,oe),se&&T.createElement(Jue,{cursor:k,tooltipEventType:L,coordinate:W,payload:de,index:F}))}var vb=t=>null;vb.displayName="Cell";function kde(t,e,n){return(e=Cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ode{constructor(e){kde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Dde(t,"string");return typeof e=="symbol"?e:e+""}function Dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jde={cacheSize:2e3,enableCache:!0},f8=Pde({},jde),MD=new Ode(f8.cacheSize),zde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DD="recharts_measurement_span";function Lde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var jD=(t,e)=>{try{var n=document.getElementById(DD);n||(n=document.createElement("span"),n.setAttribute("id",DD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eb.isSsr)return{width:0,height:0};if(!f8.enableCache)return jD(e,n);var r=Lde(e,n),i=MD.get(r);if(i)return i;var s=jD(e,n);return MD.set(r,s),s},h8;function Vde(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$de={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hde=["cm","mm","pt","pc","in","Q","px"];function Gde(t){return Hde.includes(t)}var td="NaN";function Kde(t,e){return t*$de[e]}class ar{static parse(e){var n,[,r,i]=(n=qde.exec(e))!==null&&n!==void 0?n:[];return r==null?ar.NaN:new ar(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xa(e)&&(this.unit=""),n!==""&&!Fde.test(n)&&(this.num=NaN,this.unit=""),Gde(n)&&(this.num=Kde(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}h8=ar;Vde(ar,"NaN",new h8(NaN,""));function m8(t){if(t==null||t.includes(td))return td;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=zD.exec(e))!==null&&n!==void 0?n:[],l=ar.parse(r??""),c=ar.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return td;e=e.replace(zD,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,b]=(f=LD.exec(e))!==null&&f!==void 0?f:[],x=ar.parse(m??""),w=ar.parse(b??""),E=p==="+"?x.add(w):x.subtract(w);if(E.isNaN())return td;e=e.replace(LD,E.toString())}return e}var VD=/\(([^()]*)\)/;function Yde(t){for(var e=t,n;(n=VD.exec(e))!=null;){var[,r]=n;e=e.replace(VD,m8(r))}return e}function Wde(t){var e=t.replace(/\s+/g,"");return e=Yde(e),e=m8(e),e}function Xde(t){try{return Wde(t)}catch{return td}}function uw(t){var e=Xde(t.slice(5,-1));return e===td?"":e}var Qde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Zde=["dx","dy","angle","className","breakAll"];function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(null,arguments)}function BD(t,e){if(t==null)return{};var n,r,i=Jde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p8=/[ \f\n\r\t\v\u2028\u2029]+/,g8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(p8));var s=i.map(c=>({word:c,width:Hh(c,r).width})),l=n?0:Hh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function efe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var y8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),v8=t=>t.reduce((e,n)=>e.width>n.width?e:n),tfe="",UD=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=g8({breakAll:n,style:r,children:d+tfe});if(!f)return[!1,[]];var m=y8(f.wordsWithComputedWidth,s,l,c),p=m.length>i||v8(m).width>Number(s);return[p,m]},nfe=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=Ue(s),m=String(l),p=y8(e,r,n,i);if(!f||i)return p;var b=p.length>s||v8(p).width>Number(r);if(!b)return p;for(var x=0,w=m.length-1,E=0,S;x<=w&&E<=m.length-1;){var k=Math.floor((x+w)/2),M=k-1,[C,j]=UD(m,M,d,c,s,r,n,i),[P]=UD(m,k,d,c,s,r,n,i);if(!C&&!P&&(x=k+1),C&&P&&(w=k-1),!C&&P){S=j;break}E++}return S||p},FD=t=>{var e=$n(t)?[]:t.toString().split(p8);return[{words:e,width:void 0}]},rfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!eb.isSsr){var c,d,f=g8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return FD(r);return nfe({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return FD(r)},b8="#808080",ife={angle:0,breakAll:!1,capHeight:"0.71em",fill:b8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},XA=T.forwardRef((t,e)=>{var n=zi(t,ife),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=BD(n,Qde),b=T.useMemo(()=>rfe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:x,dy:w,angle:E,className:S,breakAll:k}=p,M=BD(p,Zde);if(!Qa(r)||!Qa(i)||b.length===0)return null;var C=Number(r)+(Ue(x)?x:0),j=Number(i)+(Ue(w)?w:0);if(!Xt(C)||!Xt(j))return null;var P;switch(m){case"start":P=uw("calc(".concat(l,")"));break;case"middle":P=uw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=uw("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var R=b[0].width,{width:O}=p;z.push("scale(".concat(Ue(O)&&Ue(R)?O/R:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(C,", ").concat(j,")")),z.length&&(M.transform=z.join(" ")),T.createElement("text",rS({},Mi(M),{ref:e,x:C,y:j,className:Te("recharts-text",S),textAnchor:f,fill:c.includes("url")?b8:c}),b.map((V,q)=>{var L=V.words.join(k?"":" ");return T.createElement("tspan",{x:C,dy:q===0?P:s,key:"".concat(L,"-").concat(q)},L)}))});XA.displayName="Text";var afe=["labelRef"],sfe=["content"];function qD(t,e){if(t==null)return{};var n,r,i=ofe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ofe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(null,arguments)}var x8=T.createContext(null),dfe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(x8.Provider,{value:d},c)},_8=()=>{var t=T.useContext(x8),e=Wv();return t||CL(e)},ffe=T.createContext(null),hfe=()=>{var t=T.useContext(ffe),e=$e(ZV);return t||e},mfe=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},QA=t=>t!=null&&typeof t=="function",pfe=(t,e)=>{var n=si(e-t),r=Math.min(Math.abs(e-t),360);return n*r},gfe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:b,clockWise:x}=i,w=(f+m)/2,E=pfe(p,b),S=E>=0?1:-1,k,M;switch(e){case"insideStart":k=p+S*s,M=x;break;case"insideEnd":k=b-S*s,M=!x;break;case"end":k=b+S*s,M=x;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var C=lr(c,d,w,k),j=lr(c,d,w,k+(M?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(j.x,",").concat(j.y),z=$n(t.id)?um("recharts-radial-line-"):t.id;return T.createElement("text",Ss({},r,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:z,d:P})),T.createElement("textPath",{xlinkHref:"#".concat(z)},n))},yfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=lr(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x,y:w}=lr(r,i,b,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},iS=t=>"cx"in t&&Ue(t.cx),vfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!iS(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,b=l+(d-f)/2,x=(p+b)/2,w=(d+f)/2,E=p+d/2,S=m>=0?1:-1,k=S*r,M=S>0?"end":"start",C=S>0?"start":"end",j=d>=0?1:-1,P=j*r,z=j>0?"end":"start",R=j>0?"start":"end";if(i==="top"){var O={x:p+d/2,y:c-k,textAnchor:"middle",verticalAnchor:M};return on(on({},O),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var V={x:b+f/2,y:c+m+k,textAnchor:"middle",verticalAnchor:C};return on(on({},V),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(i==="left"){var q={x:x-P,y:c+m/2,textAnchor:z,verticalAnchor:"middle"};return on(on({},q),s?{width:Math.max(q.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:x+w+P,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return on(on({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var F=s?{width:w,height:m}:{};return i==="insideLeft"?on({x:x+P,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},F):i==="insideRight"?on({x:x+w-P,y:c+m/2,textAnchor:z,verticalAnchor:"middle"},F):i==="insideTop"?on({x:p+d/2,y:c+k,textAnchor:"middle",verticalAnchor:C},F):i==="insideBottom"?on({x:b+f/2,y:c+m-k,textAnchor:"middle",verticalAnchor:M},F):i==="insideTopLeft"?on({x:p+P,y:c+k,textAnchor:R,verticalAnchor:C},F):i==="insideTopRight"?on({x:p+d-P,y:c+k,textAnchor:z,verticalAnchor:C},F):i==="insideBottomLeft"?on({x:b+P,y:c+m-k,textAnchor:R,verticalAnchor:M},F):i==="insideBottomRight"?on({x:b+f-P,y:c+m-k,textAnchor:z,verticalAnchor:M},F):i&&typeof i=="object"&&(Ue(i.x)||Fs(i.x))&&(Ue(i.y)||Fs(i.y))?on({x:l+la(i.x,w),y:c+la(i.y,m),textAnchor:"end",verticalAnchor:"end"},F):on({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},bfe={angle:0,offset:5,zIndex:Ur.label,position:"middle",textBreakAll:!1};function $o(t){var e=zi(t,bfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=hfe(),p=_8(),b=r==="center"?p:m??p,x,w,E;if(n==null?x=b:iS(n)?x=n:x=CL(n),!x||$n(i)&&$n(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var S=on(on({},e),{},{viewBox:x});if(T.isValidElement(l)){var{labelRef:k}=S,M=qD(S,afe);return T.cloneElement(l,M)}if(typeof l=="function"){var{content:C}=S,j=qD(S,sfe);if(w=T.createElement(l,j),T.isValidElement(w))return w}else w=mfe(e);var P=Mi(e);if(iS(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gfe(e,r,w,P,x);E=yfe(x,e.offset,e.position)}else E=vfe(e,x);return T.createElement(wl,{zIndex:e.zIndex},T.createElement(XA,Ss({ref:f,className:Te("recharts-label",c)},P,E,{textAnchor:efe(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:d}),w))}$o.displayName="Label";var xfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement($o,Ss({key:"label-implicit"},r)):Qa(t)?T.createElement($o,Ss({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===$o?T.cloneElement(t,on({key:"label-implicit"},r)):T.createElement($o,Ss({key:"label-implicit",content:t},r)):QA(t)?T.createElement($o,Ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement($o,Ss({},t,{key:"label-implicit"},r)):null};function _fe(t){var{label:e,labelRef:n}=t,r=_8();return xfe(e,r,n)||null}var dw={},fw={},HD;function wfe(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(fw)),fw}var hw={},GD;function Efe(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(hw)),hw}var KD;function Sfe(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wfe(),n=Efe(),r=LT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(dw)),dw}var mw,YD;function Tfe(){return YD||(YD=1,mw=Sfe().last),mw}var Afe=Tfe();const Ife=Ja(Afe);var kfe=["valueAccessor"],Cfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function WD(t,e){if(t==null)return{};var n,r,i=Nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ofe=t=>Array.isArray(t.value)?Ife(t.value):t.value,w8=T.createContext(void 0),Pfe=w8.Provider,E8=T.createContext(void 0);E8.Provider;function Rfe(){return T.useContext(w8)}function Mfe(){return T.useContext(E8)}function O0(t){var{valueAccessor:e=Ofe}=t,n=WD(t,kfe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=WD(n,Cfe),f=Rfe(),m=Mfe(),p=f||m;return!p||!p.length?null:T.createElement(wl,{zIndex:c??Ur.label},T.createElement(Us,{className:"recharts-label-list"},p.map((b,x)=>{var w,E=$n(r)?e(b,x):cr(b&&b.payload,r),S=$n(s)?{}:{id:"".concat(s,"-").concat(x)};return T.createElement($o,Hy({key:"label-".concat(x)},Mi(b),d,S,{fill:(w=n.fill)!==null&&w!==void 0?w:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}O0.displayName="LabelList";function Dfe(t){var{label:e}=t;return e?e===!0?T.createElement(O0,{key:"labelList-implicit"}):T.isValidElement(e)||QA(e)?T.createElement(O0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(O0,Hy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var jfe={radiusAxis:{},angleAxis:{}},S8=Fr({name:"polarAxis",initialState:jfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jye,removeRadiusAxis:eve,addAngleAxis:tve,removeAngleAxis:nve}=S8.actions,zfe=S8.reducer,pw={exports:{}},Ct={};var XD;function Lfe(){if(XD)return Ct;XD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return S}}case e:return S}}}return Ct.ContextConsumer=s,Ct.ContextProvider=l,Ct.Element=t,Ct.ForwardRef=c,Ct.Fragment=n,Ct.Lazy=p,Ct.Memo=m,Ct.Portal=e,Ct.Profiler=i,Ct.StrictMode=r,Ct.Suspense=d,Ct.SuspenseList=f,Ct.isContextConsumer=function(E){return w(E)===s},Ct.isContextProvider=function(E){return w(E)===l},Ct.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ct.isForwardRef=function(E){return w(E)===c},Ct.isFragment=function(E){return w(E)===n},Ct.isLazy=function(E){return w(E)===p},Ct.isMemo=function(E){return w(E)===m},Ct.isPortal=function(E){return w(E)===e},Ct.isProfiler=function(E){return w(E)===i},Ct.isStrictMode=function(E){return w(E)===r},Ct.isSuspense=function(E){return w(E)===d},Ct.isSuspenseList=function(E){return w(E)===f},Ct.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},Ct.typeOf=w,Ct}var QD;function Vfe(){return QD||(QD=1,pw.exports=Lfe()),pw.exports}var Bfe=Vfe(),ZD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",JD=null,gw=null,T8=t=>{if(t===JD&&Array.isArray(gw))return gw;var e=[];return T.Children.forEach(t,n=>{$n(n)||(Bfe.isFragment(n)?e=e.concat(T8(n.props.children)):e.push(n))}),gw=e,JD=t,e};function Ufe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>ZD(i)):r=[ZD(e)],T8(t).forEach(i=>{var s=Od(i,"type.displayName")||Od(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var yw={},ej;function Ffe(){return ej||(ej=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(yw)),yw}var vw,tj;function qfe(){return tj||(tj=1,vw=Ffe().isPlainObject),vw}var $fe=qfe();const Hfe=Ja($fe);var nj,rj,ij,aj,sj;function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function Ah(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cj=(t,e,n,r,i)=>{var s=n-r,l;return l=Jt(nj||(nj=Ah(["M ",",",""])),t,e),l+=Jt(rj||(rj=Ah(["L ",",",""])),t+n,e),l+=Jt(ij||(ij=Ah(["L ",",",""])),t+n-s/2,e+i),l+=Jt(aj||(aj=Ah(["L ",",",""])),t+n-s/2-r,e+i),l+=Jt(sj||(sj=Ah(["L ",","," Z"])),t,e),l},Wfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xfe=t=>{var e=zi(t,Wfe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,b=T.useRef(null),[x,w]=T.useState(-1),E=T.useRef(i),S=T.useRef(s),k=T.useRef(l),M=T.useRef(n),C=T.useRef(r),j=QT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var _e=b.current.getTotalLength();_e&&w(_e)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var P=Te("recharts-trapezoid",c);if(!p)return T.createElement("g",null,T.createElement("path",Gy({},Mi(e),{className:P,d:cj(n,r,i,s,l)})));var z=E.current,R=S.current,O=k.current,V=M.current,q=C.current,L="0px ".concat(x===-1?1:x,"px"),F="".concat(x,"px 0px"),U=VL(["strokeDasharray"],f,d);return T.createElement(XT,{animationId:j,key:j,canBegin:x>0,duration:f,easing:d,isActive:p,begin:m},_e=>{var we=or(z,i,_e),W=or(R,s,_e),re=or(O,l,_e),$=or(V,n,_e),se=or(q,r,_e);b.current&&(E.current=we,S.current=W,k.current=re,M.current=$,C.current=se);var ve=_e>0?{transition:U,strokeDasharray:F}:{strokeDasharray:L};return T.createElement("path",Gy({},Mi(e),{className:P,d:cj($,se,we,W,re),ref:b,style:lj(lj({},ve),e.style)}))})},Qfe=["option","shapeType","activeClassName"];function Zfe(t,e){if(t==null)return{};var n,r,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return(e=the(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rhe(t,e){return Ky(Ky({},e),t)}function ihe(t,e){return t==="symbols"}function dj(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(qL,n);case"trapezoid":return T.createElement(Xfe,n);case"sector":return T.createElement(GL,n);case"symbols":if(ihe(e))return T.createElement(P6,n);break;case"curve":return T.createElement(LL,n);default:return null}}function ahe(t){return T.isValidElement(t)?t.props:t}function she(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Zfe(t,Qfe),s;if(T.isValidElement(e))s=T.cloneElement(e,Ky(Ky({},i),ahe(e)));else if(typeof e=="function")s=e(i,i.index);else if(Hfe(e)&&typeof e!="boolean"){var l=rhe(e,i);s=T.createElement(dj,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(dj,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(Us,{className:r},s):s}var A8=(t,e,n)=>{var r=dn();return(i,s)=>l=>{t?.(i,s,l),r(U9({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},I8=t=>{var e=dn();return(n,r)=>i=>{t?.(n,r,i),e(Sce())}},k8=(t,e,n)=>{var r=dn();return(i,s)=>l=>{t?.(i,s,l),r(Tce({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ohe(t){var{tooltipEntrySettings:e}=t,n=dn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(xce(e)):i.current!==e&&n(_ce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(wce(i.current)),i.current=null)},[n]),null}function lhe(t){var{legendPayload:e}=t,n=dn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(eie(e)):i.current!==e&&n(tie({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(nie(i.current)),i.current=null)},[n]),null}var bw,che=()=>{var[t]=T.useState(()=>um("uid-"));return t},uhe=(bw=UU.useId)!==null&&bw!==void 0?bw:che;function dhe(t,e){var n=uhe();return e||(t?"".concat(t,"-").concat(n):n)}var fhe=T.createContext(void 0),hhe=t=>{var{id:e,type:n,children:r}=t,i=dhe("recharts-".concat(n),e);return T.createElement(fhe.Provider,{value:i},r(i))},mhe={cartesianItems:[],polarItems:[]},C8=Fr({name:"graphicalItems",initialState:mhe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:qt()},removePolarGraphicalItem:{reducer(t,e){var n=oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:qt()}}}),{addCartesianGraphicalItem:phe,replaceCartesianGraphicalItem:ghe,removeCartesianGraphicalItem:yhe,addPolarGraphicalItem:rve,removePolarGraphicalItem:ive}=C8.actions,vhe=C8.reducer,bhe=t=>{var e=dn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(phe(t)):n.current!==t&&e(ghe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(yhe(n.current)),n.current=null)},[e]),null},xhe=T.memo(bhe);function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N8=0,She={xAxis:{},yAxis:{},zAxis:{}},O8=Fr({name:"cartesianAxis",initialState:She,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=hj(hj({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:The,replaceXAxis:Ahe,removeXAxis:Ihe,addYAxis:khe,replaceYAxis:Che,removeYAxis:Nhe,addZAxis:ave,replaceZAxis:sve,removeZAxis:ove,updateYAxisWidth:Ohe}=O8.actions,Phe=O8.reducer,Rhe=le([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Mhe=le([Rhe,Zs,Js],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),P8=()=>$e(Mhe),mj=(t,e,n)=>{var r=n??t;if(!$n(r))return la(r,e,0)},Dhe=(t,e,n)=>{var r={},i=t.filter(db),s=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(l).map(f=>{var[m,p]=f,b=p.map(w=>w.dataKey),x=mj(e,n,p[0].barSize);return{stackId:m,dataKeys:b,barSize:x}}),d=s.map(f=>{var m=[f.dataKey].filter(b=>b!=null),p=mj(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Lhe(t,"string");return typeof e=="symbol"?e:e+""}function Lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vhe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=la(t,n,0,!0),c,d=[];if(Xt(r[0].barSize)){var f=!1,m=n/s,p=r.reduce((k,M)=>k+(M.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(f=!0,m*=.9,p=s*m);var b=(n-p)/2>>0,x={offset:b-l,size:0};c=r.reduce((k,M)=>{var C,j={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:x.offset+x.size+l,size:f?m:(C=M.barSize)!==null&&C!==void 0?C:0}},P=[...k,j];return x=P[P.length-1].position,P},d)}else{var w=la(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var E=(n-2*w-(s-1)*l)/s;E>1&&(E>>=0);var S=Xt(i)?Math.min(E,i):E;c=r.reduce((k,M,C)=>[...k,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(E+l)*C+(E-S)/2,size:S}}],d)}return c}}var Bhe=(t,e,n,r,i,s,l)=>{var c=$n(l)?e:l,d=Vhe(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>o0(o0({},f),{},{position:o0(o0({},f.position),{},{offset:f.position.offset-i/2})}))),d},Uhe=(t,e)=>{var n=CA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Fhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Xt(t.zIndex)?t.zIndex:e}var qhe=t=>{var{chartData:e}=t,n=dn(),r=mi();return T.useEffect(()=>r?()=>{}:(n(kD(e)),()=>{n(kD(void 0))}),[e,n,r]),null},gj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R8=Fr({name:"brush",initialState:gj,reducers:{setBrushSettings(t,e){return e.payload==null?gj:e.payload}}}),{setBrushSettings:lve}=R8.actions,$he=R8.reducer;function Hhe(t,e,n){return(e=Ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Khe(t,"string");return typeof e=="symbol"?e:e+""}function Khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZA{static create(e){return new ZA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Hhe(ZA,"EPS",1e-4);function Yhe(t){return(t%180+180)%180}var Whe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Yhe(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Xhe={dots:[],areas:[],lines:[]},M8=Fr({name:"referenceElements",initialState:Xhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cve,removeDot:uve,addArea:dve,removeArea:fve,addLine:hve,removeLine:mve}=M8.actions,Qhe=M8.reducer,Zhe=T.createContext(void 0),Jhe=t=>{var{children:e}=t,[n]=T.useState("".concat(um("recharts"),"-clip")),r=P8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(Zhe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function D8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function eme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Whe(r,n)}function tme(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Sm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function nme(t,e){return D8(t,e+1)}function rme(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var w=r?.[d];if(w===void 0)return{v:D8(r,f)};var E=d,S,k=()=>(S===void 0&&(S=n(w,E)),S),M=w.coordinate,C=d===0||Sm(t,M,k,m,c);C||(d=0,m=l,f+=1),C&&(m=M+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=p(),b)return b.v;return[]}function ime(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var m=(l-1)%f,p=c,b=!0,x=function(){var M=r[w],C=w,j,P=()=>(j===void 0&&(j=n(M,C)),j),z=M.coordinate,R=w===m||Sm(t,z,P,p,d);if(!R)return b=!1,1;R&&(p=z+t*(P()/2+i))},w=m;w<l&&!x();w+=f);if(b){for(var E=[],S=m;S<l;S+=f)E.push(r[S]);return E}}return[]}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e,n){return(e=sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=ome(t,"string");return typeof e=="symbol"?e:e+""}function ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lme(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var x=s[b],w,E=()=>(w===void 0&&(w=n(x,b)),w);if(b===l-1){var S=t*(x.coordinate+t*E()/2-d);s[b]=x=hr(hr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else s[b]=x=hr(hr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Sm(t,x.tickCoord,E,c,d);k&&(d=x.tickCoord-t*(E()/2+i),s[b]=hr(hr({},x),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function cme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var m=r[c-1],p=n(m,c-1),b=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=hr(hr({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var x=Sm(t,m.tickCoord,()=>p,d,f);x&&(f=m.tickCoord-t*(p/2+i),l[c-1]=hr(hr({},m),{},{isShow:!0}))}}for(var w=s?c-1:c,E=function(M){var C=l[M],j,P=()=>(j===void 0&&(j=n(C,M)),j);if(M===0){var z=t*(C.coordinate-t*P()/2-d);l[M]=C=hr(hr({},C),{},{tickCoord:z<0?C.coordinate-z*t:C.coordinate})}else l[M]=C=hr(hr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var R=Sm(t,C.tickCoord,P,d,f);R&&(d=C.tickCoord+t*(P()/2+i),l[M]=hr(hr({},C),{},{isShow:!0}))}},S=0;S<w;S++)E(S);return l}function ume(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Ue(d)||eb.isSsr){var b;return(b=nme(i,Ue(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",E=m&&w==="width"?Hh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(C,j)=>{var P=typeof f=="function"?f(C.value,j):C.value;return w==="width"?eme(Hh(P,{fontSize:e,letterSpacing:n}),E,p):Hh(P,{fontSize:e,letterSpacing:n})[w]},k=i.length>=2?si(i[1].coordinate-i[0].coordinate):1,M=tme(s,k,w);return d==="equidistantPreserveStart"?rme(k,M,S,i,l):d==="equidistantPreserveEnd"?ime(k,M,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=cme(k,M,S,i,l,d==="preserveStartEnd"):x=lme(k,M,S,i,l),x.filter(C=>C.isShow))}var dme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},fme=["axisLine","width","height","className","hide","ticks","axisType"];function hme(t,e){if(t==null)return{};var n,r,i=mme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(null,arguments)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ec={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ur.axis};function vme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=_n(_n(_n({},d),dl(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=_n(_n({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=_n(_n({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",Bc({},f,{className:Te("recharts-cartesian-axis-line",Od(c,"className"))}))}function bme(t,e,n,r,i,s,l,c,d){var f,m,p,b,x,w,E=c?-1:1,S=t.tickSize||l,k=Ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,b=n+ +!c*i,p=b-E*S,w=p-E*d,x=k;break;case"left":p=b=t.coordinate,m=e+ +!c*r,f=m-E*S,x=f-E*d,w=k;break;case"right":p=b=t.coordinate,m=e+ +c*r,f=m+E*S,x=f+E*d,w=k;break;default:f=m=t.coordinate,b=n+ +c*i,p=b+E*S,w=p+E*d,x=k;break}return{line:{x1:f,y1:p,x2:m,y2:b},tick:{x,y:w}}}function xme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function _me(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function wme(t){var{option:e,tickProps:n,value:r}=t,i,s=Te(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,_n(_n({},n),{},{className:s}));else if(typeof e=="function")i=e(_n(_n({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Te(l,e?.className)),i=T.createElement(XA,Bc({},n,{className:l}),r)}return i}var Eme=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:b,y:x,width:w,height:E,tickSize:S,tickMargin:k,fontSize:M,letterSpacing:C,getTicksConfig:j,events:P,axisType:z}=t,R=ume(_n(_n({},j),{},{ticks:n}),M,C),O=xme(m,p),V=_me(m,p),q=dl(j),L=NT(r),F={};typeof i=="object"&&(F=i);var U=_n(_n({},q),{},{fill:"none"},F),_e=R.map(re=>_n({entry:re},bme(re,b,x,w,E,m,S,p,k))),we=_e.map(re=>{var{entry:$,line:se}=re;return T.createElement(Us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&T.createElement("line",Bc({},U,se,{className:Te("recharts-cartesian-axis-tick-line",Od(i,"className"))})))}),W=_e.map((re,$)=>{var{entry:se,tick:ve}=re,H=_n(_n(_n(_n({textAnchor:O,verticalAnchor:V},q),{},{stroke:"none",fill:s},L),ve),{},{index:$,payload:se,visibleTicksCount:R.length,tickFormatter:l,padding:d},f);return T.createElement(Us,Bc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},zT(P,se,$)),r&&T.createElement(wme,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(se.value,$):se.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&T.createElement(wl,{zIndex:Ur.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),we.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},we))}),Sme=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=hme(t,fme),[m,p]=T.useState(""),[b,x]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return dme({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var M=k[0];if(M){var C=window.getComputedStyle(M),j=C.fontSize,P=C.letterSpacing;(j!==m||P!==b)&&(p(j),x(P))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(wl,{zIndex:t.zIndex},T.createElement(Us,{className:Te("recharts-cartesian-axis",s)},T.createElement(vme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:dl(t)}),T.createElement(Eme,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(dfe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(_fe,{label:t.label,labelRef:t.labelRef}),t.children)))}),JA=T.forwardRef((t,e)=>{var n=zi(t,Ec);return T.createElement(Sme,Bc({},n,{ref:e}))});JA.displayName="CartesianAxis";var Tme={},j8=Fr({name:"errorBars",initialState:Tme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:pve,replaceErrorBar:gve,removeErrorBar:yve}=j8.actions,Ame=j8.reducer,Ime=["children"];function kme(t,e){if(t==null)return{};var n,r,i=Cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ome=T.createContext(Nme);function Pme(t){var{children:e}=t,n=kme(t,Ime);return T.createElement(Ome.Provider,{value:n},e)}function z8(t,e){var n,r,i=$e(f=>no(f,t)),s=$e(f=>ro(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Bn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Un.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function Rme(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=P8(),{needClipX:s,needClipY:l,needClip:c}=z8(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-m/2,y:l?f:f-p/2,width:s?m:m*2,height:l?p:p*2}))}var xw={exports:{}},_w={};var bj;function Mme(){if(bj)return _w;bj=1;var t=Bd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return _w.useSyncExternalStoreWithSelector=function(d,f,m,p,b){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function S(P){if(!k){if(k=!0,M=P,P=p(P),b!==void 0&&w.hasValue){var z=w.value;if(b(z,P))return C=z}return C=P}if(z=C,n(M,P))return z;var R=p(P);return b!==void 0&&b(z,R)?(M=P,z):(M=P,C=R)}var k=!1,M,C,j=m===void 0?null:m;return[function(){return S(f())},j===null?void 0:function(){return S(j())}]},[f,m,p,b]);var E=r(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},_w}var xj;function Dme(){return xj||(xj=1,xw.exports=Mme()),xw.exports}Dme();function jme(t){t()}function zme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){jme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _j={notify(){},get:()=>[]};function Lme(t,e){let n,r=_j,i=0,s=!1;function l(E){m();const S=r.subscribe(E);let k=!1;return()=>{k||(k=!0,S(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return s}function m(){i++,n||(n=t.subscribe(d),r=zme())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_j)}function b(){s||(s=!0,m())}function x(){s&&(s=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return w}var Vme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bme=Vme(),Ume=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fme=Ume(),qme=()=>Bme||Fme?T.useLayoutEffect:T.useEffect,$me=qme();function wj(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hme(t,e){if(wj(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!wj(t[n[i]],e[n[i]]))return!1;return!0}var Gme=Symbol.for("react-redux-context"),Kme=typeof globalThis<"u"?globalThis:{};function Yme(){if(!T.createContext)return{};const t=Kme[Gme]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Wme=Yme();function Xme(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=Lme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);$me(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Wme;return T.createElement(c.Provider,{value:s},e)}var Qme=Xme,Zme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Jme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function e2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Zme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Hme(t[r],e[r]))return!1}else if(!Jme(t[r],e[r]))return!1;return!0}function Yc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:N8}function Wc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:N8}var epe="Invariant failed";function tpe(t,e){throw new Error(epe)}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(null,arguments)}function Yy(t){return T.createElement(she,aS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var npe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ue(e))return e;var s=Ue(r)||$n(r);return s?e(r,i):(s||tpe(),n)}},rpe=(t,e,n)=>n,ipe=(t,e)=>e,dp=le([OA,ipe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ape=le([dp],t=>t?.maxBarSize),spe=(t,e,n,r)=>r,ope=le([St,OA,Yc,Wc,rpe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),lpe=(t,e,n)=>{var r=St(t),i=Yc(t,e),s=Wc(t,e);if(!(i==null||s==null))return r==="horizontal"?ZE(t,"yAxis",s,n):ZE(t,"xAxis",i,n)},cpe=(t,e)=>{var n=St(t),r=Yc(t,e),i=Wc(t,e);if(!(r==null||i==null))return n==="horizontal"?gD(t,"xAxis",r):gD(t,"yAxis",i)},upe=le([ope,hle,cpe],Dhe),dpe=(t,e,n)=>{var r,i,s=dp(t,e);if(s!=null){var l=Yc(t,e),c=Wc(t,e);if(!(l==null||c==null)){var d=St(t),f=$V(t),{maxBarSize:m}=s,p=$n(m)?f:m,b,x;return d==="horizontal"?(b=Ld(t,"xAxis",l,n),x=zd(t,"xAxis",l,n)):(b=Ld(t,"yAxis",c,n),x=zd(t,"yAxis",c,n)),(r=(i=Ey(b,x,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},L8=(t,e,n)=>{var r=St(t),i=Yc(t,e),s=Wc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=Ld(t,"xAxis",i,n),c=zd(t,"xAxis",i,n)):(l=Ld(t,"yAxis",s,n),c=zd(t,"yAxis",s,n)),Ey(l,c)}},fpe=le([upe,$V,fle,HV,dpe,L8,ape],Bhe),hpe=(t,e,n)=>{var r=Yc(t,e);if(r!=null)return Ld(t,"xAxis",r,n)},mpe=(t,e,n)=>{var r=Wc(t,e);if(r!=null)return Ld(t,"yAxis",r,n)},ppe=(t,e,n)=>{var r=Yc(t,e);if(r!=null)return zd(t,"xAxis",r,n)},gpe=(t,e,n)=>{var r=Wc(t,e);if(r!=null)return zd(t,"yAxis",r,n)},ype=le([fpe,dp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),vpe=le([lpe,dp],Uhe),bpe=le([Hn,GT,hpe,mpe,ppe,gpe,ype,St,ele,L8,vpe,dp,spe],(t,e,n,r,i,s,l,c,d,f,m,p,b)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:E}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:S}=p,k;if(S!=null&&S.length>0?k=S:k=x?.slice(w,E+1),k!=null)return Ype({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:k,offset:t,cells:b,dataStartIndex:w})}}),xpe=["index"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function _pe(t,e){if(t==null)return{};var n,r,i=wpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V8=T.createContext(void 0),Epe=t=>{var e=T.useContext(V8);if(e!=null)return e.stackId;if(t!=null)return ere(t)},Spe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Tpe=t=>{var e=T.useContext(V8);if(e!=null){var{stackId:n}=e;return"url(#".concat(Spe(n,t),")")}},Ape=t=>{var{index:e}=t,n=_pe(t,xpe),r=Tpe(e);return T.createElement(Us,sS({className:"recharts-bar-stack-layer",clipPath:r},n))},Ipe=["onMouseEnter","onMouseLeave","onClick"],kpe=["value","background","tooltipPosition"],Cpe=["id"],Npe=["onMouseEnter","onClick","onMouseLeave"];function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(null,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Ope(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ope(t,e,n){return(e=Ppe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ppe(t){var e=Rpe(t,"string");return typeof e=="symbol"?e:e+""}function Rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wy(t,e){if(t==null)return{};var n,r,i=Mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dpe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:EL(n,e),payload:t}]},jpe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:EL(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(ohe,{tooltipEntrySettings:m})});function zpe(t){var e=$e(Vd),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Wy(s,Ipe),m=A8(l,r,s.id),p=I8(c),b=k8(d,r,s.id);if(!i||n==null)return null;var x=NT(i);return T.createElement(wl,{zIndex:Fhe(i,Ur.barBackground)},n.map((w,E)=>{var{value:S,background:k,tooltipPosition:M}=w,C=Wy(w,kpe);if(!k)return null;var j=m(w,E),P=p(w,E),z=b(w,E),R=Sr(Sr(Sr(Sr(Sr({option:i,isActive:String(E)===e},C),{},{fill:"#eee"},k),x),zT(f,w,E)),{},{onMouseEnter:j,onMouseLeave:P,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(Yy,Ys({key:"background-bar-".concat(E)},R))}))}function Lpe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Sr(Sr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(Pfe,{value:e?i:void 0},n)}function Vpe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=$e(Vd),d=$e(t8),f=n&&String(s)===c&&(d==null||l===d),m=f?n:e;return f?T.createElement(wl,{zIndex:Ur.activeBar},T.createElement(Yy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))):T.createElement(Yy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))}function Bpe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(Yy,Ys({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Upe(t){var e,{data:n,props:r}=t,i=(e=dl(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Wy(i,Cpe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:b}=r,x=Wy(r,Npe),w=A8(m,d,s),E=I8(b),S=k8(p,d,s);return n?T.createElement(T.Fragment,null,n.map((k,M)=>T.createElement(Ape,Ys({index:M,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(M),className:"recharts-bar-rectangle"},zT(x,k,M),{onMouseEnter:w(k,M),onMouseLeave:E(k,M),onClick:S(k,M)}),f?T.createElement(Vpe,{shape:c,activeBar:f,baseProps:l,entry:k,index:M,dataKey:d}):T.createElement(Bpe,{shape:c,baseProps:l,entry:k,index:M,dataKey:d})))):null}function Fpe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,b=QT(e,"recharts-bar-"),[x,w]=T.useState(!1),E=!x,S=T.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),k=T.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return T.createElement(Lpe,{showLabels:E,rects:r},T.createElement(XT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:k,key:b},M=>{var C=M===1?r:r?.map((j,P)=>{var z=p&&p[P];if(z)return Sr(Sr({},j),{},{x:or(z.x,j.x,M),y:or(z.y,j.y,M),width:or(z.width,j.width,M),height:or(z.height,j.height,M)});if(i==="horizontal"){var R=or(0,j.height,M),O=or(j.stackedBarStart,j.y,M);return Sr(Sr({},j),{},{y:O,height:R})}var V=or(0,j.width,M),q=or(j.stackedBarStart,j.x,M);return Sr(Sr({},j),{},{width:V,x:q})});return M>0&&(n.current=C??null),C==null?null:T.createElement(Us,null,T.createElement(Upe,{props:e,data:C}))}),T.createElement(Dfe,{label:e.label}),e.children)}function qpe(t){var e=T.useRef(null);return T.createElement(Fpe,{previousRectanglesRef:e,props:t})}var B8=0,$pe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:cr(t,e)}};class Hpe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Te("recharts-bar",i),p=f;return T.createElement(Us,{className:m,id:f},c&&T.createElement("defs",null,T.createElement(Rme,{clipPathId:p,xAxisId:s,yAxisId:l})),T.createElement(Us,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},T.createElement(zpe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(qpe,this.props)))}}var Gpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:B8,xAxisId:0,yAxisId:0,zIndex:Ur.bar};function Kpe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=z8(e,n),b=Qm(),x=mi(),w=Ufe(t.children,vb),E=$e(M=>bpe(M,t.id,x,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=E?.[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,T.createElement(Pme,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:$pe,errorBarOffset:S},T.createElement(Hpe,Ys({},t,{layout:b,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Ype(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:b,cells:x,parentViewBox:w,dataStartIndex:E}=t,S=e==="horizontal"?c:l,k=m?S.scale.domain():null,M=tre({numericAxis:S}),C=S.scale(M);return p.map((j,P)=>{var z,R,O,V,q,L;if(m){var F=m[P+E];if(F==null)return null;z=Wne(F,k)}else z=cr(j,n),Array.isArray(z)||(z=[M,z]);var U=npe(r,B8)(z[1],P);if(e==="horizontal"){var _e,[we,W]=[c.scale(z[0]),c.scale(z[1])];R=_R({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:j,index:P}),O=(_e=W??we)!==null&&_e!==void 0?_e:void 0,V=i.size;var re=we-W;if(q=Xa(re)?0:re,L={x:R,y:b.top,width:V,height:b.height},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var $=si(q||U)*(Math.abs(U)-Math.abs(q));O-=$,q+=$}}else{var[se,ve]=[l.scale(z[0]),l.scale(z[1])];if(R=se,O=_R({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:j,index:P}),V=ve-se,q=i.size,L={x:b.left,y:O,width:b.width,height:q},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var H=si(V||U)*(Math.abs(U)-Math.abs(V));V+=H}}if(R==null||O==null||V==null||q==null)return null;var K=Sr(Sr({},j),{},{stackedBarStart:C,x:R,y:O,width:V,height:q,value:m?z:z[1],payload:j,background:L,tooltipPosition:{x:R+V/2,y:O+q/2},parentViewBox:w},x&&x[P]&&x[P].props);return K}).filter(Boolean)}function Wpe(t){var e=zi(t,Gpe),n=Epe(e.stackId),r=mi();return T.createElement(hhe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(lhe,{legendPayload:Dpe(e)}),T.createElement(jpe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(xhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(wl,{zIndex:e.zIndex},T.createElement(Kpe,Ys({},e,{id:i})))))}var t2=T.memo(Wpe,e2);t2.displayName="Bar";var Xpe=["domain","range"],Qpe=["domain","range"];function Sj(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tj(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function U8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Sj(t,Xpe),{domain:s,range:l}=e,c=Sj(e,Qpe);return!Tj(n,s)||!Tj(r,l)?!1:e2(i,c)}var Jpe=["dangerouslySetInnerHTML","ticks","scale"],ege=["id","scale"];function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(null,arguments)}function Aj(t,e){if(t==null)return{};var n,r,i=tge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nge(t){var e=dn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(The(t)):n.current!==t&&e(Ahe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Ihe(n.current)),n.current=null)},[e]),null}var rge=t=>{var{xAxisId:e,className:n}=t,r=$e(GT),i=mi(),s="xAxis",l=$e(k=>D9(k,s,e,i)),c=$e(k=>O9(k,e)),d=$e(k=>uce(k,e)),f=$e(k=>e9(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:b}=t,x=Aj(t,Jpe),{id:w,scale:E}=f,S=Aj(f,ege);return T.createElement(JA,oS({},x,S,{x:d.x,y:d.y,width:c.width,height:c.height,className:Te("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},ige={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:Bn.allowDecimals,allowDuplicatedCategory:Bn.allowDuplicatedCategory,angle:Bn.angle,axisLine:Ec.axisLine,height:Bn.height,hide:!1,includeHidden:Bn.includeHidden,interval:Bn.interval,minTickGap:Bn.minTickGap,mirror:Bn.mirror,orientation:Bn.orientation,padding:Bn.padding,reversed:Bn.reversed,scale:Bn.scale,tick:Bn.tick,tickCount:Bn.tickCount,tickLine:Ec.tickLine,tickSize:Ec.tickSize,type:Bn.type,xAxisId:0},age=t=>{var e=zi(t,ige);return T.createElement(T.Fragment,null,T.createElement(nge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(rge,e))},n2=T.memo(age,U8);n2.displayName="XAxis";var sge=["dangerouslySetInnerHTML","ticks","scale"],oge=["id","scale"];function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function Ij(t,e){if(t==null)return{};var n,r,i=lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cge(t){var e=dn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(khe(t)):n.current!==t&&e(Che({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Nhe(n.current)),n.current=null)},[e]),null}var uge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=$e(GT),d=mi(),f=dn(),m="yAxis",p=$e(z=>P9(z,e)),b=$e(z=>fce(z,e)),x=$e(z=>D9(z,m,e,d)),w=$e(z=>t9(z,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!p||QA(i)||T.isValidElement(i)||w==null)){var z=s.current;if(z){var R=z.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&f(Ohe({id:e,width:R}))}}},[x,p,f,i,e,r,w]),p==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:k}=t,M=Ij(t,sge),{id:C,scale:j}=w,P=Ij(w,oge);return T.createElement(JA,lS({},M,P,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Te("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x,axisType:m}))},dge={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:Ec.axisLine,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:Ec.tickLine,tickSize:Ec.tickSize,type:Un.type,width:Un.width,yAxisId:0},fge=t=>{var e=zi(t,dge);return T.createElement(T.Fragment,null,T.createElement(cge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(uge,e))},F8=T.memo(fge,U8);F8.displayName="YAxis";var hge=(t,e)=>e,r2=le([hge,St,ZV,Mn,Q9,io,Aue,Hn],Rue),i2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},q8=Di("mouseClick"),$8=Wm();$8.startListening({actionCreator:q8,effect:(t,e)=>{var n=t.payload,r=r2(e.getState(),i2(n));r?.activeIndex!=null&&e.dispatch(Ace({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cS=Di("mouseMove"),H8=Wm(),l0=null;H8.startListening({actionCreator:cS,effect:(t,e)=>{var n=t.payload;l0!==null&&cancelAnimationFrame(l0);var r=i2(n);l0=requestAnimationFrame(()=>{var i=e.getState(),s=BA(i,i.tooltip.settings.shared);if(s==="axis"){var l=r2(i,r);l?.activeIndex!=null?e.dispatch(q9({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(F9())}l0=null})}});function mge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var kj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},G8=Fr({name:"rootProps",initialState:kj,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:kj.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),pge=G8.reducer,{updateOptions:gge}=G8.actions,K8=Fr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:vve}=K8.actions,yge=K8.reducer,Y8=Di("keyDown"),W8=Di("focus"),a2=Wm();a2.startListening({actionCreator:Y8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=UA(i,uf(n),ap(n),cp(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=io(n);if(s==="Enter"){var f=$y(n,"axis","hover",String(i.index));e.dispatch(eS({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=gce(n),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,x=c+b*p;if(!(d==null||x>=d.length||x<0)){var w=$y(n,"axis","hover",String(x));e.dispatch(eS({active:!0,activeIndex:x.toString(),activeCoordinate:w}))}}}}}});a2.startListening({actionCreator:W8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=$y(n,"axis","hover",String(s));e.dispatch(eS({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Oi=Di("externalEvent"),X8=Wm(),ww=new Map;X8.startListening({actionCreator:Oi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=ww.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:due(c),activeDataKey:t8(c),activeIndex:Vd(c),activeLabel:e8(c),activeTooltipIndex:Vd(c),isTooltipActive:fue(c)};n(d,r)}finally{ww.delete(i)}});ww.set(i,l)}}});var vge=le([lf],t=>t.tooltipItemPayloads),bge=le([vge,lp,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),Q8=Di("touchMove"),Z8=Wm();Z8.startListening({actionCreator:Q8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=BA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=r2(r,i2({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(q9({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(lre),p=(c=f.getAttribute(cre))!==null&&c!==void 0?c:void 0,b=cf(r).find(E=>E.id===p);if(m==null||b==null||p==null)return;var{dataKey:x}=b,w=bge(r,m,p);e.dispatch(U9({activeDataKey:x,activeIndex:m,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var xge=Y6({brush:$he,cartesianAxis:Phe,chartData:dde,errorBars:Ame,graphicalItems:vhe,layout:qne,legend:rie,options:sde,polarAxis:zfe,polarOptions:yge,referenceElements:Qhe,rootProps:pge,tooltip:Ice,zIndex:Kue}),_ge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return mne({reducer:xge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$8.middleware,H8.middleware,a2.middleware,X8.middleware,Z8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(cL({type:"raf"}))},devTools:{serialize:{replacer:mge},name:"recharts-".concat(n)}})};function wge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=mi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=_ge(e,r));var l=VT;return T.createElement(Qme,{context:l,store:s.current},n)}function Ege(t){var{layout:e,margin:n}=t,r=dn(),i=mi();return T.useEffect(()=>{i||(r(Bne(e)),r(Vne(n)))},[r,i,e,n]),null}var Sge=T.memo(Ege,e2);function Tge(t){var e=dn();return T.useEffect(()=>{e(gge(t))},[e,t]),null}function Cj(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=dn();return T.useLayoutEffect(()=>(r.current&&i(Hue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Gue({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function Nj(t){var{children:e,isPanorama:n}=t,r=$e(Due);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(Cj,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(Cj,{key:l,zIndex:l,isPanorama:n})))}var Age=["children"];function Ige(t,e){if(t==null)return{};var n,r,i=kge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(null,arguments)}var Cge={width:"100%",height:"100%",display:"block"},Nge=T.forwardRef((t,e)=>{var n=Vre(),r=Bre(),i=zL();if(!fl(n)||!fl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),T.createElement(f6,Xy({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:Cge,ref:e}),s)}),Oge=t=>{var{children:e}=t,n=$e(Yv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(f6,{width:r,height:i,x:l,y:s},e)},Oj=T.forwardRef((t,e)=>{var{children:n}=t,r=Ige(t,Age),i=mi();return i?T.createElement(Oge,null,T.createElement(Nj,{isPanorama:!0},n)):T.createElement(Nge,Xy({ref:e},r),T.createElement(Nj,{isPanorama:!1},n))});function Pge(){var t=dn(),[e,n]=T.useState(null),r=$e(ore);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Xt(s)&&s!==r&&t(Fne(s))}},[e,t,r]),n}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){Mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mge(t,e,n){return(e=Dge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(null,arguments)}var zge=()=>(xde(),null);function Qy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Lge=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Qy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Qy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,m)=>{l(p=>{var b=Math.round(f),x=Math.round(m);return p.containerWidth===b&&p.containerHeight===x?p:{containerWidth:b,containerHeight:x}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var b=w=>{var{width:E,height:S}=w[0].contentRect;c(E,S)},x=new ResizeObserver(b);x.observe(f),i.current=x}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Xv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Uc({ref:d},t)))}),Vge=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Qy(n),containerHeight:Qy(r)}),l=T.useCallback((d,f)=>{s(m=>{var p=Math.round(d),b=Math.round(f);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(Xv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Uc({ref:c},t)))}),Bge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Xv,{width:n,height:r}),T.createElement("div",Uc({ref:e},t)))}),Uge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Fs(n)||Fs(r)?T.createElement(Vge,Uc({},t,{ref:e})):T.createElement(Bge,Uc({},t,{ref:e}))});function Fge(t){return t===!0?Lge:Uge}var qge=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:x,onTouchMove:w,onTouchStart:E,style:S,width:k,responsive:M,dispatchTouchEvents:C=!0}=t,j=T.useRef(null),P=dn(),[z,R]=T.useState(null),[O,V]=T.useState(null),q=Pge(),L=KT(),F=L?.width>0?L.width:k,U=L?.height>0?L.height:i,_e=T.useCallback(Z=>{q(Z),typeof e=="function"&&e(Z),R(Z),V(Z),Z!=null&&(j.current=Z)},[q,e,R,V]),we=T.useCallback(Z=>{P(q8(Z)),P(Oi({handler:s,reactEvent:Z}))},[P,s]),W=T.useCallback(Z=>{P(cS(Z)),P(Oi({handler:f,reactEvent:Z}))},[P,f]),re=T.useCallback(Z=>{P(F9()),P(Oi({handler:m,reactEvent:Z}))},[P,m]),$=T.useCallback(Z=>{P(cS(Z)),P(Oi({handler:p,reactEvent:Z}))},[P,p]),se=T.useCallback(()=>{P(W8())},[P]),ve=T.useCallback(Z=>{P(Y8(Z.key))},[P]),H=T.useCallback(Z=>{P(Oi({handler:l,reactEvent:Z}))},[P,l]),K=T.useCallback(Z=>{P(Oi({handler:c,reactEvent:Z}))},[P,c]),oe=T.useCallback(Z=>{P(Oi({handler:d,reactEvent:Z}))},[P,d]),de=T.useCallback(Z=>{P(Oi({handler:b,reactEvent:Z}))},[P,b]),ge=T.useCallback(Z=>{P(Oi({handler:E,reactEvent:Z}))},[P,E]),ke=T.useCallback(Z=>{C&&P(Q8(Z)),P(Oi({handler:w,reactEvent:Z}))},[P,C,w]),Ee=T.useCallback(Z=>{P(Oi({handler:x,reactEvent:Z}))},[P,x]),Ve=Fge(M);return T.createElement(l8.Provider,{value:z},T.createElement(GJ.Provider,{value:O},T.createElement(Ve,{width:F??S?.width,height:U??S?.height,className:Te("recharts-wrapper",r),style:Rge({position:"relative",cursor:"default",width:F,height:U},S),onClick:we,onContextMenu:H,onDoubleClick:K,onFocus:se,onKeyDown:ve,onMouseDown:oe,onMouseEnter:W,onMouseLeave:re,onMouseMove:$,onMouseUp:de,onTouchEnd:Ee,onTouchMove:ke,onTouchStart:ge,ref:_e},T.createElement(zge,null),n)))}),$ge=["width","height","responsive","children","className","style","compact","title","desc"];function Hge(t,e){if(t==null)return{};var n,r,i=Gge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kge=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:m}=t,p=Hge(t,$ge),b=dl(p);return d?T.createElement(T.Fragment,null,T.createElement(Xv,{width:n,height:r}),T.createElement(Oj,{otherAttributes:b,title:f,desc:m},s)):T.createElement(qge,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(Oj,{otherAttributes:b,title:f,desc:m,ref:e},T.createElement(Jhe,null,s)))});function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}var Yge={top:5,right:5,bottom:5,left:5},Wge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Yge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xge=T.forwardRef(function(e,n){var r,i=zi(e.categoricalChartProps,Wge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(wge,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(qhe,{chartData:f.data}),T.createElement(Sge,{layout:i.layout,margin:i.margin}),T.createElement(Tge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(Kge,uS({},i,{ref:n})))}),Qge=["axis","item"],J8=T.forwardRef((t,e)=>T.createElement(Xge,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qge,tooltipPayloadSearcher:ide,categoricalChartProps:t,ref:e}));const eB=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=br(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?y.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:y.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[y.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),y.jsx("div",{className:"h-48 w-full mb-6",children:y.jsx(kL,{width:"100%",height:"100%",children:y.jsxs(J8,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[y.jsx(n2,{type:"number",hide:!0}),y.jsx(F8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),y.jsx(d8,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),y.jsx(t2,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>y.jsx(vb,{fill:i[l%i.length]},`cell-${l}`))})]})})}),y.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return y.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),y.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},Zge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ir("expense"),{categories:r,addCategory:i}=Nd("expense"),{selectedDate:s}=Ud(),{currency:l}=br(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const x=b.category||"Sin Categora";return p[x]=(p[x]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(Ov,{}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(l6,{type:"expense",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(c6,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(eB,{data:f(),total:d})})})]})]})},Jge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ir("income"),{categories:r,addCategory:i}=Nd("income"),{selectedDate:s}=Ud(),{currency:l}=br(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const x=b.category||"Sin Categora";return p[x]=(p[x]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(Ov,{}),y.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(l6,{type:"income",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(c6,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(eB,{data:f(),total:d})})})]})]})},e0e=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,isGoalPaidThisMonth:i,addContribution:s,withdraw:l,getMonthlyQuota:c,updateGoal:d}=qm(),{total:f}=Ir("income"),{total:m}=Ir("expense"),{currency:p}=br(),b=t.reduce(($,se)=>$+(se.currentAmount||0),0),x=f-m-b,[w,E]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),S=w.deadline?new Date(w.deadline):null,k=S?Math.max(1,(S.getFullYear()-new Date().getFullYear())*12+(S.getMonth()-new Date().getMonth())):0,M=w.targetAmount&&k>0?Number(w.targetAmount)/k:0,[C,j]=T.useState({open:!1,title:"",message:""}),[P,z]=T.useState({open:!1,type:"deposit",goalId:"",goalName:""}),[R,O]=T.useState(""),[V,q]=T.useState({open:!1,goalId:""}),[L,F]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),U=$=>{q({open:!0,goalId:$.id}),F({name:$.name,targetAmount:$.targetAmount.toString(),deadline:$.deadline||"",icon:$.icon||""})},_e=()=>{!L.name||!L.targetAmount||!L.deadline||(d(V.goalId,{name:L.name,targetAmount:Number(L.targetAmount),deadline:L.deadline,icon:L.icon}),q({open:!1,goalId:""}))},we=()=>{const $=Number(R);if(!(!$||$<=0)){if(P.type==="withdraw"){const se=t.find(ve=>ve.id===P.goalId);if(!se||se.currentAmount<$){alert("No hay suficientes fondos ahorrados en esta meta para retirar esa cantidad.");return}l(P.goalId,$)}else{if(x<$){alert(`No tienes saldo disponible suficiente (${p}${x.toFixed(2)})`);return}s(P.goalId,$,"Ingreso Extra")}z({...P,open:!1})}},W=($,se,ve)=>{x>=se?r($,se):j({open:!0,title:"Saldo Insuficiente",message:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["No tienes saldo disponible suficiente para pagar la cuota de ",y.jsx("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:ve}),"."]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg border border-rose-100 dark:border-rose-900/30 space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Saldo Disponible:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,x.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Cuota Necesaria:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,se.toFixed(2)]})]}),y.jsxs("div",{className:"border-t border-rose-200 dark:border-rose-800/50 pt-2 mt-2 flex justify-between text-sm font-bold",children:[y.jsx("span",{className:"text-rose-900 dark:text-rose-200",children:"Faltante:"}),y.jsxs("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:["-",p,(se-x).toFixed(2)]})]})]})]})})},re=$=>{$.preventDefault(),!(!w.name||!w.targetAmount||!w.deadline)&&(e({name:w.name,targetAmount:Number(w.targetAmount),deadline:w.deadline,startDate:new Date().toISOString().split("T")[0],icon:w.icon||""}),E({name:"",targetAmount:"",deadline:"",icon:""}))};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Calculadora de Metas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Planifica tus compras y objetivos de ahorro"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-1 space-y-6",children:y.jsxs("form",{onSubmit:re,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl space-y-4 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-2",children:[y.jsx(IT,{size:18}),"Simular Meta"]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Objetivo"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Coche Nuevo",value:w.name,onChange:$=>E({...w,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:w.targetAmount,onChange:$=>{const se=$.target.value;/^\d*\.?\d*$/.test(se)&&E({...w,targetAmount:se})}})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:w.deadline,onChange:$=>E({...w,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono (Emoji)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 text-center text-lg",placeholder:"",value:w.icon,onChange:$=>E({...w,icon:$.target.value}),maxLength:2})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg text-center border border-zinc-200 dark:border-zinc-800 border-dashed mt-4",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase mb-1",children:"Ahorro Mensual Sugerido"}),y.jsxs("p",{className:"text-2xl font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:[p,isFinite(M)?M.toFixed(2):"0.00"]}),k>0&&y.jsxs("p",{className:"text-[10px] text-zinc-400 mt-1",children:["Durante ~",k," meses"]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Meta"})]})}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-300 flex items-center gap-2",children:[y.jsx(bc,{size:18}),"Metas"]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length===0?y.jsx("div",{className:"col-span-full bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500",children:"No hay metas definidas."})}):t.map($=>{const se=i($),ve=c($),H=$.currentAmount/$.targetAmount*100;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-5 rounded-xl group relative shadow-sm dark:shadow-none flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-2xl mb-1 block",children:$.icon||""}),y.jsx("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg",children:$.name}),y.jsxs("p",{className:"text-[10px] text-zinc-400",children:["Vence: ",$.deadline||"Sin fecha"]})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>U($),className:"text-zinc-400 hover:text-blue-500 transition-colors p-1",title:"Editar meta",children:y.jsx($Q,{size:16})}),y.jsx("button",{onClick:()=>n($.id),className:"text-zinc-400 hover:text-rose-500 transition-colors p-1",title:"Eliminar meta",children:y.jsx(Ms,{size:16})})]})]}),y.jsxs("div",{className:"mt-4 space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-xs text-zinc-500",children:[y.jsx("span",{children:"Progreso Total"}),y.jsxs("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[H.toFixed(1),"%"]})]}),y.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden border border-zinc-200 dark:border-zinc-700/50",children:y.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 relative",style:{width:`${Math.min(H,100)}%`},children:H>=20&&y.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})})}),y.jsx("div",{className:"text-center py-2",children:y.jsx("p",{className:"text-xs italic text-zinc-400",children:H>=100?"Meta alcanzada! ":H>=75?"Ya casi ests ah! ":H>=50?"Ms de la mitad! ":H>=25?"Buen progreso, sigue as! ":"Todo viaje empieza con un paso! "})}),y.jsxs("div",{className:"flex justify-between text-xs mt-1 border-t border-dashed border-zinc-200 dark:border-zinc-800 pt-2",children:[y.jsxs("span",{className:"text-zinc-400 font-mono",children:[p,$.currentAmount.toFixed(2)]}),y.jsxs("span",{className:"text-zinc-400 font-mono",children:["/ ",p,$.targetAmount.toLocaleString()]})]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500",children:"Cuota Mensual"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200",children:[p,ve.toFixed(2)]})]}),se?y.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs font-bold rounded-lg border border-emerald-200 dark:border-emerald-800/50",children:"Pagado este mes!"}):y.jsx("button",{onClick:()=>W($.id,ve,$.name),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm shadow-emerald-900/20",children:"Pagar Cuota"})]}),se&&y.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-right italic",children:"Suma al saldo de Ahorro"})]})]},$.id)})})]})]}),y.jsx(Ga,{isOpen:C.open,onClose:()=>j({...C,open:!1}),title:C.title,children:C.message}),y.jsx(Ga,{isOpen:P.open,onClose:()=>z({...P,open:!1}),title:P.type==="deposit"?"Ingresar Fondos Extra":"Retirar Fondos",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:P.type==="deposit"?"Aade dinero extra a esta meta desde tu saldo disponible.":"Mueve dinero de esta meta de vuelta a tu saldo disponible."}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:R,onChange:$=>O($.target.value)})]}),y.jsx("div",{className:"pt-2",children:y.jsx("button",{onClick:we,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${P.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:P.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})})]})}),y.jsx(Ga,{isOpen:V.open,onClose:()=>q({...V,open:!1}),title:"Editar Meta",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.name,onChange:$=>F({...L,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.targetAmount,onChange:$=>F({...L,targetAmount:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.deadline,onChange:$=>F({...L,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.icon,onChange:$=>F({...L,icon:$.target.value}),maxLength:2})]}),y.jsx("button",{onClick:_e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors mt-4",children:"Guardar Cambios"})]})})]})},t0e=({project:t,onClose:e})=>{const{currency:n}=br(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=o6(),{currentBalance:d}=Hm(),{addTransaction:f}=Ir(),[m,p]=T.useState("overview"),b=c(t),[x,w]=T.useState({amount:"",description:"",type:"expense"}),[E,S]=T.useState(!1),k=P=>{P.preventDefault();const z=Number(x.amount);if(!(z<=0)){if(x.type==="income"){if(z>d){Ot.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:z,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:z,description:x.description,type:x.type,date:(()=>{const R=new Date;return`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`})()}),w({amount:"",description:"",type:"expense"}),S(!1)}},M=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},C=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(P=>({name:new Date(P.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:P.type==="income"?P.amount:-P.amount})),[t.transactions]),j=()=>{const P={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:P[t.status]})};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),y.jsx("span",{onClick:j,className:Te("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),y.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),y.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:y.jsx(cm,{size:24})})]}),y.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[y.jsxs("button",{onClick:()=>p("overview"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx($X,{size:16})," Resumen"]}),y.jsxs("button",{onClick:()=>p("ledger"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(KO,{size:16})," Movimientos"]}),y.jsxs("button",{onClick:()=>p("settings"),className:Te("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(F3,{size:16})," Configuracin"]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[m==="overview"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),y.jsxs("p",{className:Te("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[y.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),C.length>0?y.jsx(kL,{width:"100%",height:"100%",children:y.jsxs(J8,{data:C,children:[y.jsx(n2,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(d8,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),y.jsx(t2,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:C.map((P,z)=>y.jsx(vb,{fill:P.amount>=0?"#10b981":"#f43f5e"},`cell-${z}`))})]})}):y.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),m==="ledger"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>{w(P=>({...P,type:"income"})),S(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(uE,{size:18})," Inyectar Fondos"]}),y.jsxs("button",{onClick:()=>{w(P=>({...P,type:"expense"})),S(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(Cd,{size:18})," Registrar Gasto"]})]}),E&&y.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:x.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),y.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-zinc-400 hover:text-zinc-600",children:y.jsx(cm,{size:16})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.description,onChange:P=>w({...x,description:P.target.value})}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),y.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.amount,onChange:P=>w({...x,amount:P.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),y.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?y.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[y.jsx(KO,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(P=>y.jsxs("div",{className:Te("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:Te("w-10 h-10 rounded-full flex items-center justify-center",P.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:P.type==="income"?y.jsx(uE,{size:18}):y.jsx(Cd,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:P.description}),y.jsx("p",{className:"text-xs text-zinc-500",children:new Date(P.date).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:Te("font-mono font-bold",P.type==="income"?"text-emerald-600":"text-rose-600"),children:[P.type==="income"?"+":"-",n,P.amount.toFixed(2)]}),y.jsx("button",{onClick:()=>l(t.id,P.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:y.jsx(Ms,{size:16})})]})]},P.id))})]}),m==="settings"&&y.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(P=>y.jsx("button",{onClick:()=>r(t.id,{status:P}),className:Te("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===P?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),y.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[y.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),y.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),y.jsxs("button",{onClick:M,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[y.jsx(Ms,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},n0e=()=>{const{projects:t,addProject:e,updateProject:n,getProjectStats:r}=o6(),{currency:i}=br(),[s,l]=T.useState(!1),[c,d]=T.useState(null),[f,m]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),p=w=>{w.preventDefault(),e({name:f.name,targetBudget:Number(f.targetBudget),deadline:f.deadline,description:f.description}),m({name:"",targetBudget:"",deadline:"",description:""}),l(!1)},b=w=>{switch(w){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},x=(w,E)=>{w.stopPropagation();const S={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(E.id,{status:S[E.status]})};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),y.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Rs,{size:18}),y.jsx("span",{children:"Nuevo Proyecto"})]})]}),s&&y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[y.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:"Iniciar Nuevo Proyecto"}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),y.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.name,onChange:w=>m({...f,name:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),y.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.targetBudget,onChange:w=>m({...f,targetBudget:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.deadline,onChange:w=>m({...f,deadline:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),y.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.description,onChange:w=>m({...f,description:w.target.value})})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:"Crear Proyecto"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(w=>{const E=r(w);return y.jsx("div",{onClick:()=>d(w),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"flex justify-between items-start mb-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:y.jsx(dE,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:w.name}),y.jsx("span",{onClick:S=>x(S,w),className:Te("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",b(w.status)),title:"Clic para cambiar estado",children:w.status==="planning"?"Planificacin":w.status==="active"?"En Curso":w.status==="completed"?"Completado":w.status==="paused"?"Pausado":"Cancelado"})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),y.jsxs("p",{className:Te("font-mono font-bold text-lg",E.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[i,E.currentBalance.toLocaleString()]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[i,E.totalExpenses.toLocaleString()]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[y.jsx("span",{className:"text-zinc-500",children:E.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),y.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[E.totalExpenses>0?E.percentConsumed.toFixed(0):E.percentFunded.toFixed(0),"%"]})]}),y.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:Te("h-full transition-all duration-500",(E.totalExpenses>0?E.percentConsumed:E.percentFunded)>100?"bg-rose-500":((E.totalExpenses>0?E.percentConsumed:E.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(E.totalExpenses>0?E.percentConsumed:E.percentFunded,100)}%`}})})]})]})]})},w.id)}),t.length===0&&!s&&y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(dE,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),c&&y.jsx(t0e,{project:t.find(w=>w.id===c.id)||c,onClose:()=>d(null)})]})},Ew={gift:vQ,money:V3,heart:xQ,phoenix:hQ,piggy:Fm,wallet:Cv,star:pZ,smile:hZ,briefcase:zX,car:FX,plane:WQ,home:SQ,coffee:cQ,game:gQ,phone:dZ,other:B3},r0e=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r}=$m(),{currency:i}=br(),[s,l]=T.useState(!1),[c,d]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[f,m]=T.useState({open:!1,type:"deposit",fundId:""}),[p,b]=T.useState(""),[x,w]=T.useState(""),E=P=>{P.preventDefault(),c.name&&(e(c),d({name:"",icon:"piggy",description:"",color:"emerald"}),l(!1))},{currentBalance:S}=Hm(),k=P=>{P.preventDefault();const z=Number(p);if(!(!z||z<=0)){if(f.type==="deposit"&&z>S){Ot.error(`Fondos insuficientes. Solo tienes ${i}${S.toLocaleString()} disponibles.`);return}r(f.fundId,z,f.type,x),m({...f,open:!1}),b(""),w("")}},M=(P,z)=>{m({open:!0,type:P,fundId:z})},C=P=>{const z=Ew[P]||B3;return y.jsx(z,{size:24})},j=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),y.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[y.jsx(Rs,{size:20})," Nuevo Fondo"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(Fm,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(P=>{const z=j.find(R=>R.id===P.color)?.class||j[0].class;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:Te("p-3 rounded-xl transition-colors",z),children:C(P.icon)}),y.jsx("button",{onClick:()=>n(P.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(Ms,{size:18})})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:P.name}),P.description&&y.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:P.description}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[i,P.currentAmount.toLocaleString()]})]}),y.jsxs("div",{className:"flex gap-2 mt-6",children:[y.jsxs("button",{onClick:()=>M("deposit",P.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[y.jsx(ay,{size:16})," Ingresar"]}),y.jsxs("button",{onClick:()=>M("withdraw",P.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[y.jsx(Cd,{size:16})," Retirar"]})]})]},P.id)})}),y.jsx(Ga,{isOpen:s,onClose:()=>l(!1),title:"Crear Nuevo Fondo",children:y.jsxs("form",{onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:c.name,onChange:P=>d({...c,name:P.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(Ew).map(P=>{const z=Ew[P];return y.jsx("button",{type:"button",onClick:()=>d({...c,icon:P}),className:Te("p-2 rounded-md flex items-center justify-center transition-all",c.icon===P?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:y.jsx(z,{size:20})},P)})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),y.jsx("div",{className:"flex gap-2",children:j.map(P=>y.jsx("button",{type:"button",onClick:()=>d({...c,color:P.id}),className:Te("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",P.class.split(" ")[1],c.color===P.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:c.color===P.id&&y.jsx(z3,{size:14,className:"text-current"})},P.id))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:c.description,onChange:P=>d({...c,description:P.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Fondo"})]})}),y.jsx(Ga,{isOpen:f.open,onClose:()=>m({...f,open:!1}),title:f.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:i}),y.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:p,onChange:P=>b(P.target.value)})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:f.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:x,onChange:P=>w(P.target.value)})]}),y.jsxs("button",{type:"submit",className:Te("w-full py-2 rounded-lg font-medium text-white transition-colors",f.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",f.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},tB=()=>{const{data:t,add:e,remove:n,update:r}=tf("credits");return{credits:t,addCredit:d=>{e({...d,payments:[]})},deleteCredit:d=>{n(d)},addPayment:async(d,f,m)=>{const p=t.find(C=>C.id===d);if(!p){Ot.error("Error: Crdito no encontrado");return}const b={id:crypto.randomUUID(),creditId:d,date:new Date().toISOString().split("T")[0],amount:Number(f),note:m||""},x=p.payments?[b,...p.payments]:[b],w=x.reduce((C,j)=>C+j.amount,0),E=p.interestRate/100/12;let S=0,k=0;if(p.interestRate===0)S=p.principal/p.term,k=p.principal;else{const C=Number(p.principal),j=Number(p.term);S=C*E*Math.pow(1+E,j)/(Math.pow(1+E,j)-1),k=S*j}const M=w>=k-1?"paid":"active";try{await r(d,{payments:x,status:M})}catch(C){console.error("Failed to update credit payment",C),Ot.error("Error al guardar el historial del pago")}},getCreditStatus:d=>{const m=(d.payments||[]).reduce((E,S)=>E+S.amount,0),p=d.interestRate/100/12;let b=0,x=0;d.interestRate===0?(b=d.principal/d.term,x=d.principal):(b=d.principal*p*Math.pow(1+p,d.term)/(Math.pow(1+p,d.term)-1),x=b*d.term);const w=Math.max(0,x-m);return{totalPaid:m,totalToPay:x,remainingBalance:w,quota:b,progress:m/x*100}}}},nB=6048e5,i0e=864e5,Rj=Symbol.for("constructDateFrom");function ml(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Rj in t?t[Rj](e):t instanceof Date?new t.constructor(e):new Date(e)}function fa(t,e){return ml(e||t,t)}let a0e={};function bb(){return a0e}function Tm(t,e){const n=bb(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=fa(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Zy(t,e){return Tm(t,{...e,weekStartsOn:1})}function rB(t,e){const n=fa(t,e?.in),r=n.getFullYear(),i=ml(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Zy(i),l=ml(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Zy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Mj(t){const e=fa(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function s0e(t,...e){const n=ml.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Dj(t,e){const n=fa(t,e?.in);return n.setHours(0,0,0,0),n}function o0e(t,e,n){const[r,i]=s0e(n?.in,t,e),s=Dj(r),l=Dj(i),c=+s-Mj(s),d=+l-Mj(l);return Math.round((c-d)/i0e)}function l0e(t,e){const n=rB(t,e),r=ml(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Zy(r)}function c0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function u0e(t){return!(!c0e(t)&&typeof t!="number"||isNaN(+fa(t)))}function d0e(t,e){const n=fa(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const f0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h0e=(t,e,n)=>{let r;const i=f0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const m0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y0e={date:cd({formats:m0e,defaultWidth:"full"}),time:cd({formats:p0e,defaultWidth:"full"}),dateTime:cd({formats:g0e,defaultWidth:"full"})},v0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b0e=(t,e,n,r)=>v0e[t];function La(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const x0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},I0e={ordinalNumber:A0e,era:La({values:x0e,defaultWidth:"wide"}),quarter:La({values:_0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:La({values:w0e,defaultWidth:"wide"}),day:La({values:E0e,defaultWidth:"wide"}),dayPeriod:La({values:S0e,defaultWidth:"wide",formattingValues:T0e,defaultFormattingWidth:"wide"})};function Va(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?C0e(c,p=>p.test(l)):k0e(c,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(l.length);return{value:f,rest:m}}}function k0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function C0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const N0e=/^(\d+)(th|st|nd|rd)?/i,O0e=/\d+/i,P0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R0e={any:[/^b/i,/^(a|c)/i]},M0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},D0e={any:[/1/i,/2/i,/3/i,/4/i]},j0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F0e={ordinalNumber:iB({matchPattern:N0e,parsePattern:O0e,valueCallback:t=>parseInt(t,10)}),era:Va({matchPatterns:P0e,defaultMatchWidth:"wide",parsePatterns:R0e,defaultParseWidth:"any"}),quarter:Va({matchPatterns:M0e,defaultMatchWidth:"wide",parsePatterns:D0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Va({matchPatterns:j0e,defaultMatchWidth:"wide",parsePatterns:z0e,defaultParseWidth:"any"}),day:Va({matchPatterns:L0e,defaultMatchWidth:"wide",parsePatterns:V0e,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:B0e,defaultMatchWidth:"any",parsePatterns:U0e,defaultParseWidth:"any"})},q0e={code:"en-US",formatDistance:h0e,formatLong:y0e,formatRelative:b0e,localize:I0e,match:F0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $0e(t,e){const n=fa(t,e?.in);return o0e(n,d0e(n))+1}function H0e(t,e){const n=fa(t,e?.in),r=+Zy(n)-+l0e(n);return Math.round(r/nB)+1}function aB(t,e){const n=fa(t,e?.in),r=n.getFullYear(),i=bb(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=ml(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Tm(l,e),d=ml(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=Tm(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function G0e(t,e){const n=bb(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=aB(t,e),s=ml(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Tm(s,e)}function K0e(t,e){const n=fa(t,e?.in),r=+Tm(n,e)-+G0e(n,e);return Math.round(r/nB)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jj={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Fo.y(t,e)},Y:function(t,e,n,r){const i=aB(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return bt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):bt(s,e.length)},R:function(t,e){const n=rB(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=K0e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=H0e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fo.d(t,e)},D:function(t,e,n){const r=$0e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ku.noon:r===0?i=Ku.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ku.evening:r>=12?i=Ku.afternoon:r>=4?i=Ku.morning:i=Ku.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fo.s(t,e)},S:function(t,e){return Fo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Lj(r);case"XXXX":case"XX":return ic(r);default:return ic(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Lj(r);case"xxxx":case"xx":return ic(r);default:return ic(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zj(r,":");default:return"GMT"+ic(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zj(r,":");default:return"GMT"+ic(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return bt(r,e.length)},T:function(t,e,n){return bt(+t,e.length)}};function zj(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+bt(s,2)}function Lj(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):ic(t,e)}function ic(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),s=bt(r%60,2);return n+i+e+s}const Vj=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},sB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Y0e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Vj(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Vj(r,e)).replace("{{time}}",sB(i,e))},W0e={p:sB,P:Y0e},X0e=/^D+$/,Q0e=/^Y+$/,Z0e=["D","DD","YY","YYYY"];function J0e(t){return X0e.test(t)}function eye(t){return Q0e.test(t)}function tye(t,e,n){const r=nye(t,e,n);if(console.warn(r),Z0e.includes(t))throw new RangeError(r)}function nye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aye=/^'([^]*?)'?$/,sye=/''/g,oye=/[a-zA-Z]/;function lye(t,e,n){const r=bb(),i=n?.locale??r.locale??q0e,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=fa(t,n?.in);if(!u0e(c))throw new RangeError("Invalid time value");let d=e.match(iye).map(m=>{const p=m[0];if(p==="p"||p==="P"){const b=W0e[p];return b(m,i.formatLong)}return m}).join("").match(rye).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:cye(m)};if(jj[p])return{isToken:!0,value:m};if(p.match(oye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&eye(p)||!n?.useAdditionalDayOfYearTokens&&J0e(p))&&tye(p,e,String(t));const b=jj[p[0]];return b(c,p,i.localize,f)}).join("")}function cye(t){const e=t.match(aye);return e?e[1].replace(sye,"'"):t}const uye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},dye=(t,e,n)=>{let r;const i=uye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},fye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pye={date:cd({formats:fye,defaultWidth:"full"}),time:cd({formats:hye,defaultWidth:"full"}),dateTime:cd({formats:mye,defaultWidth:"full"})},gye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},yye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},vye=(t,e,n,r)=>e.getHours()!==1?yye[t]:gye[t],bye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},xye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},_ye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},wye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Eye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Sye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Tye=(t,e)=>Number(t)+"",Aye={ordinalNumber:Tye,era:La({values:bye,defaultWidth:"wide"}),quarter:La({values:xye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:La({values:_ye,defaultWidth:"wide"}),day:La({values:wye,defaultWidth:"wide"}),dayPeriod:La({values:Eye,defaultWidth:"wide",formattingValues:Sye,defaultFormattingWidth:"wide"})},Iye=/^(\d+)()?/i,kye=/\d+/i,Cye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Nye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Oye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Pye={any:[/1/i,/2/i,/3/i,/4/i]},Rye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Mye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Dye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},jye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},zye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Lye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Vye={ordinalNumber:iB({matchPattern:Iye,parsePattern:kye,valueCallback:function(t){return parseInt(t,10)}}),era:Va({matchPatterns:Cye,defaultMatchWidth:"wide",parsePatterns:Nye,defaultParseWidth:"any"}),quarter:Va({matchPatterns:Oye,defaultMatchWidth:"wide",parsePatterns:Pye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Va({matchPatterns:Rye,defaultMatchWidth:"wide",parsePatterns:Mye,defaultParseWidth:"any"}),day:Va({matchPatterns:Dye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:zye,defaultMatchWidth:"any",parsePatterns:Lye,defaultParseWidth:"any"})},Bye={code:"es",formatDistance:dye,formatLong:pye,formatRelative:vye,localize:Aye,match:Vye,options:{weekStartsOn:1,firstWeekContainsDate:1}},Uye=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i}=tB(),{currency:s}=br(),{addTransaction:l}=Ir(),{currentBalance:c}=Hm(),[d,f]=T.useState(!1),[m,p]=T.useState({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),[b,x]=T.useState({open:!1,creditId:""}),[w,E]=T.useState(""),S=C=>{C.preventDefault();const j=Number(m.principal),P=Number(m.interestRate),z=Number(m.term);!m.name||j<=0||z<=0||(e({name:m.name,principal:j,interestRate:P,term:z,startDate:m.startDate,status:"active"}),f(!1),p({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),Ot.success("Crdito creado exitosamente"))},k=C=>{C.preventDefault();const j=Number(w);if(j<=0)return;if(j>c){Ot.error(`Saldo insuficiente. Tu saldo disponible es ${s}${c.toLocaleString()}`,{description:"Reduce tus gastos o libera fondos de ahorro."});return}r(b.creditId,j);const P=t.find(z=>z.id===b.creditId);l({amount:j,type:"expense",category:"Deudas",description:`Pago Crdito: ${P?.name||"Desconocido"}`,date:new Date().toISOString().split("T")[0]}),x({open:!1,creditId:""}),E(""),Ot.success("Pago registrado correctamente y descontado del saldo")},M=(C,j,P)=>{if(j===0)return C/P;const z=j/100/12;return C*z*Math.pow(1+z,P)/(Math.pow(1+z,P)-1)};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Crditos y Deudas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestiona tus prstamos y planifica tus pagos"})]}),y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Rs,{size:18}),y.jsx("span",{children:"Nuevo Crdito"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(sy,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Crditos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Registra un prstamo personal, hipoteca o tarjeta de crdito para llevar el control de tus pagos."})]}):t.map(C=>{const j=i(C),P=j.totalPaid/j.totalToPay*100,z=M(C.principal,C.interestRate,C.term),R=new Date(C.startDate);return R.setMonth(R.getMonth()+(C.payments?.length||0)+1),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:y.jsx(sy,{size:24})}),y.jsxs("div",{className:"flex gap-2",children:[C.status==="paid"&&y.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded-full flex items-center gap-1",children:[y.jsx(GO,{size:12})," PAGADO"]}),y.jsx("button",{onClick:()=>n(C.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(Ms,{size:18})})]})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:C.name}),y.jsxs("div",{className:"flex gap-4 text-sm text-zinc-500 mb-6",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(V3,{size:14})," ",s,C.principal.toLocaleString()]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(GQ,{size:14})," ",C.interestRate,"% Anual"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(j3,{size:14})," ",C.term," Meses"]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Deuda Restante"}),y.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[s,j.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsx("div",{className:"relative h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(P,100)}%`}})}),y.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[y.jsxs("span",{children:["Pagado: ",s,j.totalPaid.toLocaleString()]}),y.jsxs("span",{children:["Total: ",s,j.totalToPay.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),C.status==="active"&&y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Cuota Mensual"}),y.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[s,z.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Prx. Pago"}),y.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:lye(R,"dd MMM yyyy",{locale:Bye})})]})]}),y.jsxs("button",{onClick:()=>{x({open:!0,creditId:C.id}),E(z.toFixed(2))},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[y.jsx(GO,{size:16})," Registrar Pago"]})]})]},C.id)})}),y.jsx(Ga,{isOpen:d,onClose:()=>f(!1),title:"Registrar Nuevo Crdito",children:y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Nombre del Crdito"}),y.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Auto, Hipoteca",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.name,onChange:C=>p({...m,name:C.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto Prestado (",s,")"]}),y.jsx("input",{required:!0,type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.principal,onChange:C=>p({...m,principal:C.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Tasa Inters Anual (%)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.interestRate,onChange:C=>p({...m,interestRate:C.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Plazo (Meses)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12, 24, 36",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.term,onChange:C=>p({...m,term:C.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Fecha Inicio"}),y.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.startDate,onChange:C=>p({...m,startDate:C.target.value})})]})]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg mt-4",children:[y.jsx("p",{className:"text-xs text-rose-600 dark:text-rose-400 font-bold uppercase mb-1",children:"Resumen"}),y.jsxs("div",{className:"flex justify-between text-sm text-rose-800 dark:text-rose-200",children:[y.jsx("span",{children:"Cuota Estimada:"}),y.jsx("span",{className:"font-bold",children:m.principal&&m.term?`${s}${M(Number(m.principal),Number(m.interestRate),Number(m.term)).toLocaleString(void 0,{maximumFractionDigits:2})} / mes`:"-"})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Crear Crdito"})]})}),y.jsx(Ga,{isOpen:b.open,onClose:()=>x({open:!1,creditId:""}),title:"Registrar Pago",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500",children:"Registrar un pago reducir tu deuda restante. Asegrate de incluir intereses si aplica."}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",s,")"]}),y.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-emerald-500 dark:text-white",value:w,onChange:C=>E(C.target.value)})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Confirmar Pago"})]})})]})},Fye=()=>{const{transactions:t}=Ir(),{credits:e}=tB(),{funds:n}=$m(),{goals:r,getMonthlyQuota:i}=qm(),{scheduled:s}=Nv(),{currency:l}=br(),c=new Date,{availableBalance:d}=Hm(),f=n.reduce(($,se)=>$+se.currentAmount,0),m=t.filter($=>{const se=new Date($.date+"T12:00:00");return se.getMonth()===c.getMonth()&&se.getFullYear()===c.getFullYear()}),p=m.filter($=>$.type==="income").reduce(($,se)=>$+se.amount,0),b=m.filter($=>$.type==="expense").reduce(($,se)=>$+se.amount,0),x=T.useMemo(()=>{const $={};return m.filter(se=>se.type==="expense").forEach(se=>{$[se.category]=($[se.category]||0)+se.amount}),$},[m]),[w,E]=T.useState(""),[S,k]=T.useState({}),[M,C]=T.useState(new Set),[j,P]=T.useState(new Set),[z,R]=T.useState({}),[O,V]=T.useState(!0),[q,L]=T.useState(!1),[F,U]=T.useState(!0),we=(()=>{let $=0;O?($=d,q&&($+=f)):$=0;const se=Number(w)||0;let ve=0;F&&s.filter(Z=>Z.type==="income"&&Z.active).forEach(Z=>{const Ae=Z.lastProcessedDate?new Date(Z.lastProcessedDate+"T12:00:00"):null;Ae&&Ae.getMonth()===c.getMonth()&&Ae.getFullYear()===c.getFullYear()||(ve+=Z.amount)});let H=0,K=0;F&&s.filter(Z=>Z.type==="expense"&&Z.active).forEach(Z=>{const Ae=Z.lastProcessedDate?new Date(Z.lastProcessedDate+"T12:00:00"):null;Ae&&Ae.getMonth()===c.getMonth()&&Ae.getFullYear()===c.getFullYear()||(K+=Z.amount)});const oe=[];Object.keys(x).forEach(Z=>{const Ae=x[Z],Be=S[Z]?Number(S[Z]):Ae,me=Math.max(Ae,Be);H+=me,oe.push({category:Z,real:Ae,projected:Be,diff:me-Ae})});let de=0;e.filter(Z=>Z.status==="active"&&M.has(Z.id)).forEach(Z=>{const Ae=Z.principal*(1+Z.interestRate/100)/Z.term;de+=Ae});let ge=0;r.filter(Z=>j.has(Z.id)).forEach(Z=>{const Ae=i(Z);ge+=Ae});let ke=0;Object.values(z).forEach(Z=>{ke+=Number(Z)||0});const Ee=H-b,Ve=O?$+se+ve-Ee-K-de-ge-ke:p+se+ve-(b+Ee+K+de+ge+ke);return{baseBalance:$,incomeMonthReal:p,extraInc:se,scheduledIncome:ve,expenseMonthReal:b,totalProjectedExpenses:H,scheduledExpenses:K,totalCreditSimulated:de,totalGoalSimulated:ge,totalFundSimulated:ke,finalBalance:Ve,categoryComparisons:oe}})(),W=$=>{const se=new Set(M);se.has($)?se.delete($):se.add($),C(se)},re=$=>{const se=new Set(j);se.has($)?se.delete($):se.add($),P(se)};return y.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[y.jsx(IT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),y.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula el cierre de mes. Juega con los nmeros, lo que pasa aqu se queda aqu."})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[y.jsxs("button",{onClick:()=>V(!O),className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",O?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[O?y.jsx(U1,{size:18}):y.jsx(B1,{size:18}),O?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),y.jsxs("button",{onClick:()=>{O||V(!0),L(!q)},className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",q?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[q?y.jsx(U1,{size:18}):y.jsx(B1,{size:18}),"Incluir Ahorros (Fondos)"]}),y.jsxs("button",{onClick:()=>U(!F),className:Te("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",F?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[F?y.jsx(U1,{size:18}):y.jsx(B1,{size:18}),"Auto-sumar Programados"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[y.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:O?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),y.jsx("div",{className:"flex items-end gap-2",children:y.jsxs("p",{className:Te("text-4xl font-black",we.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,we.baseBalance.toFixed(2)]})}),O&&!q&&y.jsxs("p",{className:"text-[10px] text-amber-500 font-bold mt-1 flex items-center gap-1",children:[y.jsx(AQ,{size:10})," Excluyendo fondos (",l,f,")"]})]}),y.jsxs("div",{className:Te("p-6 rounded-3xl shadow-xl border transition-colors",we.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[y.jsx("h2",{className:Te("text-sm font-bold uppercase tracking-wider mb-2",we.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),y.jsxs("p",{className:Te("text-4xl font-black",we.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,we.finalBalance.toFixed(2)]}),y.jsx("p",{className:"text-xs mt-2 opacity-80",children:we.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx($3,{size:20,className:"text-emerald-500"})," Ingresos"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Reales del Mes"}),y.jsxs("span",{className:"font-bold",children:[l,p]})]}),F&&we.scheduledIncome>0&&y.jsxs("div",{className:"flex justify-between items-center text-sm text-blue-500",children:[y.jsx("span",{children:"+ Programados Pendientes"}),y.jsxs("span",{className:"font-bold",children:[l,we.scheduledIncome]})]}),y.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase mb-2",children:"Ingreso Extra Esperado"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border-none rounded-xl pl-8 py-3 font-bold text-right outline-none focus:ring-2 focus:ring-emerald-500/20",placeholder:"0",value:w,onChange:$=>E($.target.value)})]})]})]}),y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[y.jsx(Fm,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map($=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:$.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-bold",children:$.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,$.currentAmount]})]}),y.jsxs("div",{className:"w-24 relative",children:[y.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:z[$.id]||"",onChange:se=>R({...z,[$.id]:se.target.value})})]})]},$.id)),n.length===0&&y.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(q3,{size:20,className:"text-rose-500"})," Presupuesto de Gastos"]}),F&&we.scheduledExpenses>0&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[y.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),y.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,we.scheduledExpenses]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[y.jsx("div",{className:"col-span-4",children:"Categora"}),y.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),y.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),y.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),y.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:we.categoryComparisons.map($=>y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[y.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:$.category,children:$.category}),y.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,$.real]}),y.jsx("div",{className:"col-span-3 relative",children:y.jsx("input",{type:"number",className:Te("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(S[$.category])||0)<$.real&&S[$.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:$.real.toString(),value:S[$.category]||"",onChange:se=>k({...S,[$.category]:se.target.value})})}),y.jsxs("div",{className:Te("col-span-2 text-right text-xs font-bold",$.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,$.diff)]})]},$.category))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(sy,{size:14})," Simular Crditos"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter($=>$.status==="active").map($=>{const se=$.principal*(1+$.interestRate/100)/$.term,ve=M.has($.id);return y.jsxs("button",{onClick:()=>W($.id),className:Te("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",ve?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Te("w-4 h-4 rounded-full border flex items-center justify-center",ve?"border-rose-600 bg-rose-600":"border-zinc-400"),children:ve&&y.jsx(Bj,{size:10,className:"text-white"})}),$.name," (",l,se.toFixed(0),")"]},$.id)}),e.filter($=>$.status==="active").length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(bc,{size:14})," Simular Metas"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map($=>{const se=i($),ve=j.has($.id);return y.jsxs("button",{onClick:()=>re($.id),className:Te("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",ve?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Te("w-4 h-4 rounded-full border flex items-center justify-center",ve?"border-purple-600 bg-purple-600":"border-zinc-400"),children:ve&&y.jsx(Bj,{size:10,className:"text-white"})}),$.name," (",l,se.toFixed(0),")"]},$.id)}),r.length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),y.jsx("div",{className:"flex justify-end pt-8",children:y.jsxs("button",{onClick:()=>{E(""),k({}),C(new Set),P(new Set),R({}),Ot.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[y.jsx(U3,{size:20}),"Reiniciar Simulacin"]})})]})},Bj=({size:t,className:e})=>y.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}),qye=()=>{const{signInWithGoogle:t,user:e}=$c(),n=mS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):y.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-8",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-8 h-8 text-emerald-500",children:y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),y.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Vaultly"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"Tu terminal financiera personal"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("button",{onClick:r,className:"w-full bg-white hover:bg-zinc-200 text-zinc-900 font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-3 transition-colors",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),y.jsx("p",{className:"text-xs text-zinc-500",children:"Al continuar, accedes a tu espacio seguro en el dispositivo. No almacenamos datos en la nube (an)."})]})]})})},$ye=()=>{const{user:t,loading:e}=$c(),{isLoading:n}=AT();return e||n?y.jsxs("div",{className:"h-screen bg-zinc-950 flex flex-col items-center justify-center gap-4 text-emerald-500",children:[y.jsx(MQ,{className:"animate-spin w-10 h-10"}),y.jsx("span",{className:"font-mono text-sm tracking-wider animate-pulse",children:e?"AUTENTICANDO...":"CARGANDO DATOS..."})]}):t?y.jsx(az,{}):y.jsx(iz,{to:"/login",replace:!0})};function Hye(){return y.jsx(XW,{children:y.jsx(EX,{children:y.jsx(AF,{children:y.jsxs(gF,{children:[y.jsxs(G7,{children:[y.jsx(ti,{path:"/login",element:y.jsx(qye,{})}),y.jsx(ti,{element:y.jsx($ye,{}),children:y.jsxs(ti,{path:"/",element:y.jsx(RJ,{}),children:[y.jsx(ti,{index:!0,element:y.jsx(jJ,{})}),y.jsx(ti,{path:"expenses",element:y.jsx(Zge,{})}),y.jsx(ti,{path:"income",element:y.jsx(Jge,{})}),y.jsx(ti,{path:"goals",element:y.jsx(e0e,{})}),y.jsx(ti,{path:"funds",element:y.jsx(r0e,{})}),y.jsx(ti,{path:"credits",element:y.jsx(Uye,{})}),y.jsx(ti,{path:"projections",element:y.jsx(Fye,{})}),y.jsx(ti,{path:"projects",element:y.jsx(n0e,{})}),y.jsx(ti,{path:"*",element:y.jsx(iz,{to:"/",replace:!0})})]})})]}),y.jsx(P3,{richColors:!0,position:"top-center"})]})})})})}KU.createRoot(document.getElementById("root")).render(y.jsx(T.StrictMode,{children:y.jsx(qj,{children:y.jsx(Hye,{})})}));
