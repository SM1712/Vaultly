function yU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a1={exports:{}},ih={};var mC;function vU(){if(mC)return ih;mC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var pC;function bU(){return pC||(pC=1,a1.exports=vU()),a1.exports}var g=bU(),s1={exports:{}},Xe={};var gC;function xU(){if(gC)return Xe;gC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function I($,ae,te){this.props=$,this.context=ae,this.refs=S,this.updater=te||_}I.prototype.isReactComponent={},I.prototype.setState=function($,ae){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ae,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=I.prototype;function O($,ae,te){this.props=$,this.context=ae,this.refs=S,this.updater=te||_}var D=O.prototype=new j;D.constructor=O,E(D,I.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function V(){}var P={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function z($,ae,te){var de=te.ref;return{$$typeof:t,type:$,key:ae,ref:de!==void 0?de:null,props:te}}function F($,ae){return z($.type,ae,$.props)}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function q($){var ae={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return ae[te]})}var U=/\/+/g;function be($,ae){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):ae.toString(36)}function Ie($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(V,V):($.status="pending",$.then(function(ae){$.status==="pending"&&($.status="fulfilled",$.value=ae)},function(ae){$.status==="pending"&&($.status="rejected",$.reason=ae)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Y($,ae,te,de,xe){var J=typeof $;(J==="undefined"||J==="boolean")&&($=null);var fe=!1;if($===null)fe=!0;else switch(J){case"bigint":case"string":case"number":fe=!0;break;case"object":switch($.$$typeof){case t:case e:fe=!0;break;case m:return fe=$._init,Y(fe($._payload),ae,te,de,xe)}}if(fe)return xe=xe($),fe=de===""?"."+be($,0):de,R(xe)?(te="",fe!=null&&(te=fe.replace(U,"$&/")+"/"),Y(xe,ae,te,"",function(Re){return Re})):xe!=null&&(L(xe)&&(xe=F(xe,te+(xe.key==null||$&&$.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+fe)),ae.push(xe)),1;fe=0;var Ce=de===""?".":de+":";if(R($))for(var se=0;se<$.length;se++)de=$[se],J=Ce+be(de,se),fe+=Y(de,ae,te,J,xe);else if(se=w($),typeof se=="function")for($=se.call($),se=0;!(de=$.next()).done;)de=de.value,J=Ce+be(de,se++),fe+=Y(de,ae,te,J,xe);else if(J==="object"){if(typeof $.then=="function")return Y(Ie($),ae,te,de,xe);throw ae=String($),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return fe}function re($,ae,te){if($==null)return $;var de=[],xe=0;return Y($,de,"","",function(J){return ae.call(te,J,xe++)}),de}function G($){if($._status===-1){var ae=$._result;ae=ae(),ae.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=ae)}if($._status===1)return $._result.default;throw $._result}var ye=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ae={map:re,forEach:function($,ae,te){re($,function(){ae.apply(this,arguments)},te)},count:function($){var ae=0;return re($,function(){ae++}),ae},toArray:function($){return re($,function(ae){return ae})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Xe.Activity=p,Xe.Children=Ae,Xe.Component=I,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},Xe.cache=function($){return function(){return $.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function($,ae,te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var de=E({},$.props),xe=$.key;if(ae!=null)for(J in ae.key!==void 0&&(xe=""+ae.key),ae)!C.call(ae,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ae.ref===void 0||(de[J]=ae[J]);var J=arguments.length-2;if(J===1)de.children=te;else if(1<J){for(var fe=Array(J),Ce=0;Ce<J;Ce++)fe[Ce]=arguments[Ce+2];de.children=fe}return z($.type,xe,de)},Xe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Xe.createElement=function($,ae,te){var de,xe={},J=null;if(ae!=null)for(de in ae.key!==void 0&&(J=""+ae.key),ae)C.call(ae,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=ae[de]);var fe=arguments.length-2;if(fe===1)xe.children=te;else if(1<fe){for(var Ce=Array(fe),se=0;se<fe;se++)Ce[se]=arguments[se+2];xe.children=Ce}if($&&$.defaultProps)for(de in fe=$.defaultProps,fe)xe[de]===void 0&&(xe[de]=fe[de]);return z($,J,xe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:c,render:$}},Xe.isValidElement=L,Xe.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:G}},Xe.memo=function($,ae){return{$$typeof:f,type:$,compare:ae===void 0?null:ae}},Xe.startTransition=function($){var ae=P.T,te={};P.T=te;try{var de=$(),xe=P.S;xe!==null&&xe(te,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(V,ye)}catch(J){ye(J)}finally{ae!==null&&te.types!==null&&(ae.types=te.types),P.T=ae}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function($){return P.H.use($)},Xe.useActionState=function($,ae,te){return P.H.useActionState($,ae,te)},Xe.useCallback=function($,ae){return P.H.useCallback($,ae)},Xe.useContext=function($){return P.H.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($,ae){return P.H.useDeferredValue($,ae)},Xe.useEffect=function($,ae){return P.H.useEffect($,ae)},Xe.useEffectEvent=function($){return P.H.useEffectEvent($)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function($,ae,te){return P.H.useImperativeHandle($,ae,te)},Xe.useInsertionEffect=function($,ae){return P.H.useInsertionEffect($,ae)},Xe.useLayoutEffect=function($,ae){return P.H.useLayoutEffect($,ae)},Xe.useMemo=function($,ae){return P.H.useMemo($,ae)},Xe.useOptimistic=function($,ae){return P.H.useOptimistic($,ae)},Xe.useReducer=function($,ae,te){return P.H.useReducer($,ae,te)},Xe.useRef=function($){return P.H.useRef($)},Xe.useState=function($){return P.H.useState($)},Xe.useSyncExternalStore=function($,ae,te){return P.H.useSyncExternalStore($,ae,te)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.3",Xe}var yC;function Dd(){return yC||(yC=1,s1.exports=xU()),s1.exports}var T=Dd();const Ee=ns(T),wU=yU({__proto__:null,default:Ee},[T]);var o1={exports:{}},ah={},l1={exports:{}},c1={};var vC;function _U(){return vC||(vC=1,(function(t){function e(Y,re){var G=Y.length;Y.push(re);e:for(;0<G;){var ye=G-1>>>1,Ae=Y[ye];if(0<i(Ae,re))Y[ye]=re,Y[G]=Ae,G=ye;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],G=Y.pop();if(G!==re){Y[0]=G;e:for(var ye=0,Ae=Y.length,$=Ae>>>1;ye<$;){var ae=2*(ye+1)-1,te=Y[ae],de=ae+1,xe=Y[de];if(0>i(te,G))de<Ae&&0>i(xe,te)?(Y[ye]=xe,Y[de]=G,ye=de):(Y[ye]=te,Y[ae]=G,ye=ae);else if(de<Ae&&0>i(xe,G))Y[ye]=xe,Y[de]=G,ye=de;else break e}}return re}function i(Y,re){var G=Y.sortIndex-re.sortIndex;return G!==0?G:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,b=3,w=!1,_=!1,E=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=Y)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function R(Y){if(E=!1,D(Y),!_)if(n(d)!==null)_=!0,V||(V=!0,q());else{var re=n(f);re!==null&&Ie(R,re.startTime-Y)}}var V=!1,P=-1,C=5,z=-1;function F(){return S?!0:!(t.unstable_now()-z<C)}function L(){if(S=!1,V){var Y=t.unstable_now();z=Y;var re=!0;try{e:{_=!1,E&&(E=!1,j(P),P=-1),w=!0;var G=b;try{t:{for(D(Y),p=n(d);p!==null&&!(p.expirationTime>Y&&F());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,b=p.priorityLevel;var Ae=ye(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ae=="function"){p.callback=Ae,D(Y),re=!0;break t}p===n(d)&&r(d),D(Y)}else r(d);p=n(d)}if(p!==null)re=!0;else{var $=n(f);$!==null&&Ie(R,$.startTime-Y),re=!1}}break e}finally{p=null,b=G,w=!1}re=void 0}}finally{re?q():V=!1}}}var q;if(typeof O=="function")q=function(){O(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,be=U.port2;U.port1.onmessage=L,q=function(){be.postMessage(null)}}else q=function(){I(L,0)};function Ie(Y,re){P=I(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var G=b;b=re;try{return Y()}finally{b=G}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var G=b;b=Y;try{return re()}finally{b=G}},t.unstable_scheduleCallback=function(Y,re,G){var ye=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ye+G:ye):G=ye,Y){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=G+Ae,Y={id:m++,callback:re,priorityLevel:Y,startTime:G,expirationTime:Ae,sortIndex:-1},G>ye?(Y.sortIndex=G,e(f,Y),n(d)===null&&Y===n(f)&&(E?(j(P),P=-1):E=!0,Ie(R,G-ye))):(Y.sortIndex=Ae,e(d,Y),_||w||(_=!0,V||(V=!0,q()))),Y},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Y){var re=b;return function(){var G=b;b=re;try{return Y.apply(this,arguments)}finally{b=G}}}})(c1)),c1}var bC;function EU(){return bC||(bC=1,l1.exports=_U()),l1.exports}var u1={exports:{}},fr={};var xC;function SU(){if(xC)return fr;xC=1;var t=Dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,m)},fr.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},fr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:w}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},fr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,f){return d(f)},fr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},fr.useFormStatus=function(){return l.H.useHostTransitionStatus()},fr.version="19.2.3",fr}var wC;function kD(){if(wC)return u1.exports;wC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u1.exports=SU(),u1.exports}var _C;function TU(){if(_C)return ah;_C=1;var t=EU(),e=Dd(),n=kD();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),a;if(x===h)return d(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=x;else{for(var k=!1,M=v.child;M;){if(M===u){k=!0,u=v,h=x;break}if(M===h){k=!0,h=v,u=x;break}M=M.sibling}if(!k){for(M=x.child;M;){if(M===u){k=!0,u=x,h=v;break}if(M===h){k=!0,h=x,u=v;break}M=M.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case O:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:be(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return be(a(o))}catch{}}return null}var Ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ye=[],Ae=-1;function $(a){return{current:a}}function ae(a){0>Ae||(a.current=ye[Ae],ye[Ae]=null,Ae--)}function te(a,o){Ae++,ye[Ae]=a.current,a.current=o}var de=$(null),xe=$(null),J=$(null),fe=$(null);function Ce(a,o){switch(te(J,o),te(xe,a),te(de,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?zI(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=zI(o),a=LI(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(de),te(de,a)}function se(){ae(de),ae(xe),ae(J)}function Re(a){a.memoizedState!==null&&te(fe,a);var o=de.current,u=LI(o,a.type);o!==u&&(te(xe,a),te(de,u))}function Ue(a){xe.current===a&&(ae(de),ae(xe)),fe.current===a&&(ae(fe),eh._currentValue=G)}var me,gt;function Ke(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",gt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+gt}var kt=!1;function vt(a,o){if(!a||kt)return"";kt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var ne=oe}Reflect.construct(a,[],pe)}else{try{pe.call()}catch(oe){ne=oe}a.call(pe.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(pe=a())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),k=x[0],M=x[1];if(k&&M){var H=k.split(`
`),ee=M.split(`
`);for(v=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(h===H.length||v===ee.length)for(h=H.length-1,v=ee.length-1;1<=h&&0<=v&&H[h]!==ee[v];)v--;for(;1<=h&&0<=v;h--,v--)if(H[h]!==ee[v]){if(h!==1||v!==1)do if(h--,v--,0>v||H[h]!==ee[v]){var ue=`
`+H[h].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=h&&0<=v);break}}}finally{kt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ke(u):""}function qt(a,o){switch(a.tag){case 26:case 27:case 5:return Ke(a.type);case 16:return Ke("Lazy");case 13:return a.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return vt(a.type,!1);case 11:return vt(a.type.render,!1);case 1:return vt(a.type,!0);case 31:return Ke("Activity");default:return""}}function Fe(a){try{var o="",u=null;do o+=qt(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ce=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Dn=t.unstable_shouldYield,Fi=t.unstable_requestPaint,Wn=t.unstable_now,rs=t.unstable_getCurrentPriorityLevel,pa=t.unstable_ImmediatePriority,xl=t.unstable_UserBlockingPriority,qi=t.unstable_NormalPriority,wl=t.unstable_LowPriority,$i=t.unstable_IdlePriority,_l=t.log,Hi=t.unstable_setDisableYieldValue,qr=null,Tn=null;function br(a){if(typeof _l=="function"&&Hi(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(qr,a)}catch{}}var $t=Math.clz32?Math.clz32:$r,Gc=Math.log,ga=Math.LN2;function $r(a){return a>>>=0,a===0?32:31-(Gc(a)/ga|0)|0}var gi=256,is=262144,Qt=4194304;function Hr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function $e(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,x=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~x,h!==0?v=Hr(h):(k&=M,k!==0?v=Hr(k):u||(u=M&~a,u!==0&&(v=Hr(u))))):(M=h&~x,M!==0?v=Hr(M):k!==0?v=Hr(k):u||(u=h&~a,u!==0&&(v=Hr(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function yt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function hn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var a=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),a}function xr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Vt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dr(a,o,u,h,v,x){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(u=k&~u;0<u;){var ue=31-$t(u),pe=1<<ue;M[ue]=0,H[ue]=-1;var ne=ee[ue];if(ne!==null)for(ee[ue]=null,ue=0;ue<ne.length;ue++){var oe=ne[ue];oe!==null&&(oe.lane&=-536870913)}u&=~pe}h!==0&&yi(a,h,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(k&~o))}function yi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-$t(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Xn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-$t(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function Qn(a,o){var u=o&-o;return u=(u&42)!==0?1:ya(u),(u&(a.suspendedLanes|o))!==0?0:u}function ya(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sf(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:oC(a.type))}function Gi(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var Ki=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ki,Ln="__reactProps$"+Ki,va="__reactContainer$"+Ki,Kc="__reactEvents$"+Ki,db="__reactListeners$"+Ki,lp="__reactHandles$"+Ki,cp="__reactResources$"+Ki,ba="__reactMarker$"+Ki;function Yc(a){delete a[mn],delete a[Ln],delete a[Kc],delete a[db],delete a[lp]}function xa(a){var o=a[mn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[va]||u[mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=HI(a);a!==null;){if(u=a[mn])return u;a=HI(a)}return o}a=u,u=a.parentNode}return null}function vi(a){if(a=a[mn]||a[va]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Gr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function wa(a){var o=a[cp];return o||(o=a[cp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pn(a){a[ba]=!0}var of=new Set,lf={};function _a(a,o){Ea(a,o),Ea(a+"Capture",o)}function Ea(a,o){for(lf[a]=o,a=0;a<o.length;a++)of.add(o[a])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},df={};function up(a){return ce.call(df,a)?!0:ce.call(uf,a)?!1:cf.test(a)?df[a]=!0:(uf[a]=!0,!1)}function Wc(a,o,u){if(up(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Kr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function gn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function Vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function io(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ff(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,x.call(this,k)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function bt(a){if(!a._valueTracker){var o=io(a)?"checked":"value";a._valueTracker=ff(a,o,""+a[o])}}function El(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=io(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Sa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Sl=/[\n"\\]/g;function Cr(a){return a.replace(Sl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xc(a,o,u,h,v,x,k,M){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Vn(o)):a.value!==""+Vn(o)&&(a.value=""+Vn(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?hf(a,k,Vn(o)):u!=null?hf(a,k,Vn(u)):h!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Vn(M):a.removeAttribute("name")}function dp(a,o,u,h,v,x,k,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){bt(a);return}u=u!=null?""+Vn(u):"",o=o!=null?""+Vn(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),bt(a)}function hf(a,o,u){o==="number"&&Sa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ao(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Vn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function fp(a,o,u){if(o!=null&&(o=""+Vn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Vn(u):""}function so(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Vn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),bt(a)}function Nr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||hp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function pf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&mf(a,v,h)}else for(var x in o)o.hasOwnProperty(x)&&mf(a,x,o[x])}function Qc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(a){return oo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var gf=null;function bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,Ta=null;function Tl(a){var o=vi(a);if(o&&(a=o.stateNode)){var u=a[Ln]||null;e:switch(a=o.stateNode,o.type){case"input":if(Xc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Cr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Ln]||null;if(!v)throw Error(r(90));Xc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&El(h)}break e;case"textarea":fp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ao(a,!!u.multiple,o,!1)}}}var Jc=!1;function co(a,o,u){if(Jc)return a(o,u);Jc=!0;try{var h=a(o);return h}finally{if(Jc=!1,(lo!==null||Ta!==null)&&(og(),lo&&(o=lo,a=Ta,Ta=lo=null,Tl(o),a)))for(o=0;o<a.length;o++)Tl(a[o])}}function Wi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Ln]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(xi)try{var It={};Object.defineProperty(It,"passive",{get:function(){Al=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Al=!1}var Aa=null,yf=null,kl=null;function vf(){if(kl)return kl;var a,o=yf,u=o.length,h,v="value"in Aa?Aa.value:Aa.textContent,x=v.length;for(a=0;a<u&&o[a]===v[a];a++);var k=u-a;for(h=1;h<=k&&o[u-h]===v[x-h];h++);return kl=v.slice(a,1<h?1-h:void 0)}function Il(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function as(){return!0}function Xi(){return!1}function Jn(a){function o(u,h,v,x,k){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?as:Xi,this.isPropagationStopped=Xi,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),o}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Jn(ss),uo=p({},ss,{view:0,detail:0}),bf=Jn(uo),fo,eu,Ia,tu=p({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ia&&(Ia&&a.type==="mousemove"?(fo=a.screenX-Ia.screenX,eu=a.screenY-Ia.screenY):eu=fo=0,Ia=a),fo)},movementY:function(a){return"movementY"in a?a.movementY:eu}}),xf=Jn(tu),Cl=p({},tu,{dataTransfer:0}),pp=Jn(Cl),gp=p({},uo,{relatedTarget:0}),Nl=Jn(gp),wf=p({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=Jn(wf),nu=p({},ss,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vp=Jn(nu),bp=p({},ss,{data:0}),Ca=Jn(bp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=_p[a])?!!o[a]:!1}function ho(){return Ep}var wr=p({},uo,{key:function(a){if(a.key){var o=xp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Il(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(a){return a.type==="keypress"?Il(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Il(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Sp=Jn(wr),Tp=p({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Jn(Tp),y=p({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),A=Jn(y),N=p({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Jn(N),Q=p({},tu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Jn(Q),_e=p({},ss,{newState:0,oldState:0}),Ze=Jn(_e),sn=[9,13,27,32],mt=xi&&"CompositionEvent"in window,Ht=null;xi&&"documentMode"in document&&(Ht=document.documentMode);var wi=xi&&"TextEvent"in window&&!Ht,Na=xi&&(!mt||Ht&&8<Ht&&11>=Ht),Qi=" ",Zi=!1;function Ol(a,o){switch(a){case"keyup":return sn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var iu=!1;function U8(a,o){switch(a){case"compositionend":return ru(o);case"keypress":return o.which!==32?null:(Zi=!0,Qi);case"textInput":return a=o.data,a===Qi&&Zi?null:a;default:return null}}function F8(a,o){if(iu)return a==="compositionend"||!mt&&Ol(a,o)?(a=vf(),kl=yf=Aa=null,iu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Na&&o.locale!=="ko"?null:o.data;default:return null}}var q8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!q8[a.type]:o==="textarea"}function WA(a,o,u,h){lo?Ta?Ta.push(h):Ta=[h]:lo=h,o=mg(o,"onChange"),0<o.length&&(u=new ka("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var _f=null,Ef=null;function $8(a){OI(a,0)}function Ap(a){var o=Gr(a);if(El(o))return a}function XA(a,o){if(a==="change")return o}var QA=!1;if(xi){var fb;if(xi){var hb="oninput"in document;if(!hb){var ZA=document.createElement("div");ZA.setAttribute("oninput","return;"),hb=typeof ZA.oninput=="function"}fb=hb}else fb=!1;QA=fb&&(!document.documentMode||9<document.documentMode)}function JA(){_f&&(_f.detachEvent("onpropertychange",e2),Ef=_f=null)}function e2(a){if(a.propertyName==="value"&&Ap(Ef)){var o=[];WA(o,Ef,a,bi(a)),co($8,o)}}function H8(a,o,u){a==="focusin"?(JA(),_f=o,Ef=u,_f.attachEvent("onpropertychange",e2)):a==="focusout"&&JA()}function G8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ap(Ef)}function K8(a,o){if(a==="click")return Ap(o)}function Y8(a,o){if(a==="input"||a==="change")return Ap(o)}function W8(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Yr=typeof Object.is=="function"?Object.is:W8;function Sf(a,o){if(Yr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!ce.call(o,v)||!Yr(a[v],o[v]))return!1}return!0}function t2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function n2(a,o){var u=t2(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=t2(u)}}function r2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?r2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function i2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Sa(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Sa(a.document)}return o}function mb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var X8=xi&&"documentMode"in document&&11>=document.documentMode,au=null,pb=null,Tf=null,gb=!1;function a2(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gb||au==null||au!==Sa(h)||(h=au,"selectionStart"in h&&mb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Tf&&Sf(Tf,h)||(Tf=h,h=mg(pb,"onSelect"),0<h.length&&(o=new ka("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=au)))}function Pl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var su={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},yb={},s2={};xi&&(s2=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Rl(a){if(yb[a])return yb[a];if(!su[a])return a;var o=su[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in s2)return yb[a]=o[u];return a}var o2=Rl("animationend"),l2=Rl("animationiteration"),c2=Rl("animationstart"),Q8=Rl("transitionrun"),Z8=Rl("transitionstart"),J8=Rl("transitioncancel"),u2=Rl("transitionend"),d2=new Map,vb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vb.push("scrollEnd");function Ji(a,o){d2.set(a,o),_a(o,[a])}var kp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],ou=0,bb=0;function Ip(){for(var a=ou,o=bb=ou=0;o<a;){var u=_i[o];_i[o++]=null;var h=_i[o];_i[o++]=null;var v=_i[o];_i[o++]=null;var x=_i[o];if(_i[o++]=null,h!==null&&v!==null){var k=h.pending;k===null?v.next=v:(v.next=k.next,k.next=v),h.pending=v}x!==0&&f2(u,v,x)}}function Cp(a,o,u,h){_i[ou++]=a,_i[ou++]=o,_i[ou++]=u,_i[ou++]=h,bb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function xb(a,o,u,h){return Cp(a,o,u,h),Np(a)}function jl(a,o){return Cp(a,null,null,o),Np(a)}function f2(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=a.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-$t(u),a=x.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),x):null}function Np(a){if(50<Kf)throw Kf=0,Cx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var lu={};function eB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(a,o,u,h){return new eB(a,o,u,h)}function wb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ls(a,o){var u=a.alternate;return u===null?(u=Wr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function h2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Op(a,o,u,h,v,x){var k=0;if(h=a,typeof a=="function")wb(a)&&(k=1);else if(typeof a=="string")k=aU(a,u,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Wr(31,u,o,v),a.elementType=z,a.lanes=x,a;case E:return Ml(u.children,v,x,o);case S:k=8,v|=24;break;case I:return a=Wr(12,u,o,v|2),a.elementType=I,a.lanes=x,a;case R:return a=Wr(13,u,o,v),a.elementType=R,a.lanes=x,a;case V:return a=Wr(19,u,o,v),a.elementType=V,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:k=10;break e;case j:k=9;break e;case D:k=11;break e;case P:k=14;break e;case C:k=16,h=null;break e}k=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Wr(k,u,o,v),o.elementType=a,o.type=h,o.lanes=x,o}function Ml(a,o,u,h){return a=Wr(7,a,h,o),a.lanes=u,a}function _b(a,o,u){return a=Wr(6,a,null,o),a.lanes=u,a}function m2(a){var o=Wr(18,null,null,0);return o.stateNode=a,o}function Eb(a,o,u){return o=Wr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var p2=new WeakMap;function Ei(a,o){if(typeof a=="object"&&a!==null){var u=p2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Fe(o)},p2.set(a,o),o)}return{value:a,source:o,stack:Fe(o)}}var cu=[],uu=0,Pp=null,Af=0,Si=[],Ti=0,mo=null,Oa=1,Pa="";function cs(a,o){cu[uu++]=Af,cu[uu++]=Pp,Pp=a,Af=o}function g2(a,o,u){Si[Ti++]=Oa,Si[Ti++]=Pa,Si[Ti++]=mo,mo=a;var h=Oa;a=Pa;var v=32-$t(h)-1;h&=~(1<<v),u+=1;var x=32-$t(o)+v;if(30<x){var k=v-v%5;x=(h&(1<<k)-1).toString(32),h>>=k,v-=k,Oa=1<<32-$t(o)+v|u<<v|h,Pa=x+a}else Oa=1<<x|u<<v|h,Pa=a}function Sb(a){a.return!==null&&(cs(a,1),g2(a,1,0))}function Tb(a){for(;a===Pp;)Pp=cu[--uu],cu[uu]=null,Af=cu[--uu],cu[uu]=null;for(;a===mo;)mo=Si[--Ti],Si[Ti]=null,Pa=Si[--Ti],Si[Ti]=null,Oa=Si[--Ti],Si[Ti]=null}function y2(a,o){Si[Ti++]=Oa,Si[Ti++]=Pa,Si[Ti++]=mo,Oa=o.id,Pa=o.overflow,mo=a}var er=null,Bt=null,lt=!1,po=null,Ai=!1,Ab=Error(r(519));function go(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kf(Ei(o,a)),Ab}function v2(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[mn]=a,o[Ln]=h,u){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(u=0;u<Wf.length;u++)it(Wf[u],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),dp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),so(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||MI(o.textContent,u)?(h.popover!=null&&(it("beforetoggle",o),it("toggle",o)),h.onScroll!=null&&it("scroll",o),h.onScrollEnd!=null&&it("scrollend",o),h.onClick!=null&&(o.onclick=Yi),o=!0):o=!1,o||go(a,!0)}function b2(a){for(er=a.return;er;)switch(er.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:er=er.return}}function du(a){if(a!==er)return!1;if(!lt)return b2(a),lt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||$x(a.type,a.memoizedProps)),u=!u),u&&Bt&&go(a),b2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bt=$I(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bt=$I(a)}else o===27?(o=Bt,No(a.type)?(a=Wx,Wx=null,Bt=a):Bt=o):Bt=er?Ii(a.stateNode.nextSibling):null;return!0}function Dl(){Bt=er=null,lt=!1}function kb(){var a=po;return a!==null&&(jr===null?jr=a:jr.push.apply(jr,a),po=null),a}function kf(a){po===null?po=[a]:po.push(a)}var Ib=$(null),zl=null,us=null;function yo(a,o,u){te(Ib,o._currentValue),o._currentValue=u}function ds(a){a._currentValue=Ib.current,ae(Ib)}function Cb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Nb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var k=v.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=v;for(var H=0;H<o.length;H++)if(M.context===o[H]){x.lanes|=u,M=x.alternate,M!==null&&(M.lanes|=u),Cb(x.return,u,a),h||(k=null);break e}x=M.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=u,x=k.alternate,x!==null&&(x.lanes|=u),Cb(k,u,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function fu(a,o,u,h){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var M=v.type;Yr(v.pendingProps.value,k.value)||(a!==null?a.push(M):a=[M])}}else if(v===fe.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(eh):a=[eh])}v=v.return}a!==null&&Nb(o,a,u,h),o.flags|=262144}function Rp(a){for(a=a.firstContext;a!==null;){if(!Yr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ll(a){zl=a,us=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function tr(a){return x2(zl,a)}function jp(a,o){return zl===null&&Ll(a),x2(a,o)}function x2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},us===null){if(a===null)throw Error(r(308));us=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else us=us.next=o;return u}var tB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},nB=t.unstable_scheduleCallback,rB=t.unstable_NormalPriority,yn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ob(){return{controller:new tB,data:new Map,refCount:0}}function If(a){a.refCount--,a.refCount===0&&nB(rB,function(){a.controller.abort()})}var Cf=null,Pb=0,hu=0,mu=null;function iB(a,o){if(Cf===null){var u=Cf=[];Pb=0,hu=Mx(),mu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Pb++,o.then(w2,w2),o}function w2(){if(--Pb===0&&Cf!==null){mu!==null&&(mu.status="fulfilled");var a=Cf;Cf=null,hu=0,mu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function aB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var _2=Y.S;Y.S=function(a,o){aI=Wn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iB(a,o),_2!==null&&_2(a,o)};var Vl=$(null);function Rb(){var a=Vl.current;return a!==null?a:Mt.pooledCache}function Mp(a,o){o===null?te(Vl,Vl.current):te(Vl,o.pool)}function E2(){var a=Rb();return a===null?null:{parent:yn._currentValue,pool:a}}var pu=Error(r(460)),jb=Error(r(474)),Dp=Error(r(542)),zp={then:function(){}};function S2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function T2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Yi,Yi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,k2(a),a;default:if(typeof o.status=="string")o.then(Yi,Yi);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,k2(a),a}throw Ul=o,pu}}function Bl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ul=u,pu):u}}var Ul=null;function A2(){if(Ul===null)throw Error(r(459));var a=Ul;return Ul=null,a}function k2(a){if(a===pu||a===Dp)throw Error(r(483))}var gu=null,Nf=0;function Lp(a){var o=Nf;return Nf+=1,gu===null&&(gu=[]),T2(gu,a,o)}function Of(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Vp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function I2(a){function o(W,K){if(a){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function u(W,K){if(!a)return null;for(;K!==null;)o(W,K),K=K.sibling;return null}function h(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function v(W,K){return W=ls(W,K),W.index=0,W.sibling=null,W}function x(W,K,Z){return W.index=Z,a?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function k(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function M(W,K,Z,he){return K===null||K.tag!==6?(K=_b(Z,W.mode,he),K.return=W,K):(K=v(K,Z),K.return=W,K)}function H(W,K,Z,he){var Ve=Z.type;return Ve===E?ue(W,K,Z.props.children,he,Z.key):K!==null&&(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===C&&Bl(Ve)===K.type)?(K=v(K,Z.props),Of(K,Z),K.return=W,K):(K=Op(Z.type,Z.key,Z.props,null,W.mode,he),Of(K,Z),K.return=W,K)}function ee(W,K,Z,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Eb(Z,W.mode,he),K.return=W,K):(K=v(K,Z.children||[]),K.return=W,K)}function ue(W,K,Z,he,Ve){return K===null||K.tag!==7?(K=Ml(Z,W.mode,he,Ve),K.return=W,K):(K=v(K,Z),K.return=W,K)}function pe(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=_b(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return Z=Op(K.type,K.key,K.props,null,W.mode,Z),Of(Z,K),Z.return=W,Z;case _:return K=Eb(K,W.mode,Z),K.return=W,K;case C:return K=Bl(K),pe(W,K,Z)}if(Ie(K)||q(K))return K=Ml(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return pe(W,Lp(K),Z);if(K.$$typeof===O)return pe(W,jp(W,K),Z);Vp(W,K)}return null}function ne(W,K,Z,he){var Ve=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ve!==null?null:M(W,K,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Ve?H(W,K,Z,he):null;case _:return Z.key===Ve?ee(W,K,Z,he):null;case C:return Z=Bl(Z),ne(W,K,Z,he)}if(Ie(Z)||q(Z))return Ve!==null?null:ue(W,K,Z,he,null);if(typeof Z.then=="function")return ne(W,K,Lp(Z),he);if(Z.$$typeof===O)return ne(W,K,jp(W,Z),he);Vp(W,Z)}return null}function oe(W,K,Z,he,Ve){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(Z)||null,M(K,W,""+he,Ve);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return W=W.get(he.key===null?Z:he.key)||null,H(K,W,he,Ve);case _:return W=W.get(he.key===null?Z:he.key)||null,ee(K,W,he,Ve);case C:return he=Bl(he),oe(W,K,Z,he,Ve)}if(Ie(he)||q(he))return W=W.get(Z)||null,ue(K,W,he,Ve,null);if(typeof he.then=="function")return oe(W,K,Z,Lp(he),Ve);if(he.$$typeof===O)return oe(W,K,Z,jp(K,he),Ve);Vp(K,he)}return null}function Pe(W,K,Z,he){for(var Ve=null,dt=null,ze=K,et=K=0,st=null;ze!==null&&et<Z.length;et++){ze.index>et?(st=ze,ze=null):st=ze.sibling;var ft=ne(W,ze,Z[et],he);if(ft===null){ze===null&&(ze=st);break}a&&ze&&ft.alternate===null&&o(W,ze),K=x(ft,K,et),dt===null?Ve=ft:dt.sibling=ft,dt=ft,ze=st}if(et===Z.length)return u(W,ze),lt&&cs(W,et),Ve;if(ze===null){for(;et<Z.length;et++)ze=pe(W,Z[et],he),ze!==null&&(K=x(ze,K,et),dt===null?Ve=ze:dt.sibling=ze,dt=ze);return lt&&cs(W,et),Ve}for(ze=h(ze);et<Z.length;et++)st=oe(ze,W,et,Z[et],he),st!==null&&(a&&st.alternate!==null&&ze.delete(st.key===null?et:st.key),K=x(st,K,et),dt===null?Ve=st:dt.sibling=st,dt=st);return a&&ze.forEach(function(Mo){return o(W,Mo)}),lt&&cs(W,et),Ve}function He(W,K,Z,he){if(Z==null)throw Error(r(151));for(var Ve=null,dt=null,ze=K,et=K=0,st=null,ft=Z.next();ze!==null&&!ft.done;et++,ft=Z.next()){ze.index>et?(st=ze,ze=null):st=ze.sibling;var Mo=ne(W,ze,ft.value,he);if(Mo===null){ze===null&&(ze=st);break}a&&ze&&Mo.alternate===null&&o(W,ze),K=x(Mo,K,et),dt===null?Ve=Mo:dt.sibling=Mo,dt=Mo,ze=st}if(ft.done)return u(W,ze),lt&&cs(W,et),Ve;if(ze===null){for(;!ft.done;et++,ft=Z.next())ft=pe(W,ft.value,he),ft!==null&&(K=x(ft,K,et),dt===null?Ve=ft:dt.sibling=ft,dt=ft);return lt&&cs(W,et),Ve}for(ze=h(ze);!ft.done;et++,ft=Z.next())ft=oe(ze,W,et,ft.value,he),ft!==null&&(a&&ft.alternate!==null&&ze.delete(ft.key===null?et:ft.key),K=x(ft,K,et),dt===null?Ve=ft:dt.sibling=ft,dt=ft);return a&&ze.forEach(function(gU){return o(W,gU)}),lt&&cs(W,et),Ve}function Ot(W,K,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Ve=Z.key;K!==null;){if(K.key===Ve){if(Ve=Z.type,Ve===E){if(K.tag===7){u(W,K.sibling),he=v(K,Z.props.children),he.return=W,W=he;break e}}else if(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===C&&Bl(Ve)===K.type){u(W,K.sibling),he=v(K,Z.props),Of(he,Z),he.return=W,W=he;break e}u(W,K);break}else o(W,K);K=K.sibling}Z.type===E?(he=Ml(Z.props.children,W.mode,he,Z.key),he.return=W,W=he):(he=Op(Z.type,Z.key,Z.props,null,W.mode,he),Of(he,Z),he.return=W,W=he)}return k(W);case _:e:{for(Ve=Z.key;K!==null;){if(K.key===Ve)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){u(W,K.sibling),he=v(K,Z.children||[]),he.return=W,W=he;break e}else{u(W,K);break}else o(W,K);K=K.sibling}he=Eb(Z,W.mode,he),he.return=W,W=he}return k(W);case C:return Z=Bl(Z),Ot(W,K,Z,he)}if(Ie(Z))return Pe(W,K,Z,he);if(q(Z)){if(Ve=q(Z),typeof Ve!="function")throw Error(r(150));return Z=Ve.call(Z),He(W,K,Z,he)}if(typeof Z.then=="function")return Ot(W,K,Lp(Z),he);if(Z.$$typeof===O)return Ot(W,K,jp(W,Z),he);Vp(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(u(W,K.sibling),he=v(K,Z),he.return=W,W=he):(u(W,K),he=_b(Z,W.mode,he),he.return=W,W=he),k(W)):u(W,K)}return function(W,K,Z,he){try{Nf=0;var Ve=Ot(W,K,Z,he);return gu=null,Ve}catch(ze){if(ze===pu||ze===Dp)throw ze;var dt=Wr(29,ze,null,W.mode);return dt.lanes=he,dt.return=W,dt}}}var Fl=I2(!0),C2=I2(!1),vo=!1;function Mb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Db(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function bo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xo(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(pt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Np(a),f2(a,null,u),o}return Cp(a,h,o,u),Np(a)}function Pf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Xn(a,u)}}function zb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=k:x=x.next=k,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Lb=!1;function Rf(){if(Lb){var a=mu;if(a!==null)throw a}}function jf(a,o,u,h){Lb=!1;var v=a.updateQueue;vo=!1;var x=v.firstBaseUpdate,k=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var H=M,ee=H.next;H.next=null,k===null?x=ee:k.next=ee,k=H;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==k&&(M===null?ue.firstBaseUpdate=ee:M.next=ee,ue.lastBaseUpdate=H))}if(x!==null){var pe=v.baseState;k=0,ue=ee=H=null,M=x;do{var ne=M.lane&-536870913,oe=ne!==M.lane;if(oe?(at&ne)===ne:(h&ne)===ne){ne!==0&&ne===hu&&(Lb=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Pe=a,He=M;ne=o;var Ot=u;switch(He.tag){case 1:if(Pe=He.payload,typeof Pe=="function"){pe=Pe.call(Ot,pe,ne);break e}pe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=He.payload,ne=typeof Pe=="function"?Pe.call(Ot,pe,ne):Pe,ne==null)break e;pe=p({},pe,ne);break e;case 2:vo=!0}}ne=M.callback,ne!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(ee=ue=oe,H=pe):ue=ue.next=oe,k|=ne;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);ue===null&&(H=pe),v.baseState=H,v.firstBaseUpdate=ee,v.lastBaseUpdate=ue,x===null&&(v.shared.lanes=0),To|=k,a.lanes=k,a.memoizedState=pe}}function N2(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function O2(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)N2(u[a],o)}var yu=$(null),Bp=$(0);function P2(a,o){a=xs,te(Bp,a),te(yu,o),xs=a|o.baseLanes}function Vb(){te(Bp,xs),te(yu,yu.current)}function Bb(){xs=Bp.current,ae(yu),ae(Bp)}var Xr=$(null),ki=null;function wo(a){var o=a.alternate;te(on,on.current&1),te(Xr,a),ki===null&&(o===null||yu.current!==null||o.memoizedState!==null)&&(ki=a)}function Ub(a){te(on,on.current),te(Xr,a),ki===null&&(ki=a)}function R2(a){a.tag===22?(te(on,on.current),te(Xr,a),ki===null&&(ki=a)):_o()}function _o(){te(on,on.current),te(Xr,Xr.current)}function Qr(a){ae(Xr),ki===a&&(ki=null),ae(on)}var on=$(0);function Up(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Kx(u)||Yx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fs=0,Je=null,Ct=null,vn=null,Fp=!1,vu=!1,ql=!1,qp=0,Mf=0,bu=null,sB=0;function tn(){throw Error(r(321))}function Fb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Yr(a[u],o[u]))return!1;return!0}function qb(a,o,u,h,v,x){return fs=x,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?gk:ix,ql=!1,x=u(h,v),ql=!1,vu&&(x=M2(o,u,h,v)),j2(a),x}function j2(a){Y.H=Lf;var o=Ct!==null&&Ct.next!==null;if(fs=0,vn=Ct=Je=null,Fp=!1,Mf=0,bu=null,o)throw Error(r(300));a===null||bn||(a=a.dependencies,a!==null&&Rp(a)&&(bn=!0))}function M2(a,o,u,h){Je=a;var v=0;do{if(vu&&(bu=null),Mf=0,vu=!1,25<=v)throw Error(r(301));if(v+=1,vn=Ct=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=yk,x=o(u,h)}while(vu);return x}function oB(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?Df(o):o,a=a.useState()[0],(Ct!==null?Ct.memoizedState:null)!==a&&(Je.flags|=1024),o}function $b(){var a=qp!==0;return qp=0,a}function Hb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Gb(a){if(Fp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Fp=!1}fs=0,vn=Ct=Je=null,vu=!1,Mf=qp=0,bu=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Je.memoizedState=vn=a:vn=vn.next=a,vn}function ln(){if(Ct===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var o=vn===null?Je.memoizedState:vn.next;if(o!==null)vn=o,Ct=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Ct=a,a={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},vn===null?Je.memoizedState=vn=a:vn=vn.next=a}return vn}function $p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(a){var o=Mf;return Mf+=1,bu===null&&(bu=[]),a=T2(bu,a,o),o=Je,(vn===null?o.memoizedState:vn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?gk:ix),a}function Hp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Df(a);if(a.$$typeof===O)return tr(a)}throw Error(r(438,String(a)))}function Kb(a){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=$p(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=F;return o.index++,u}function hs(a,o){return typeof o=="function"?o(a):o}function Gp(a){var o=ln();return Yb(o,Ct,a)}function Yb(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,x=h.pending;if(x!==null){if(v!==null){var k=v.next;v.next=x.next,x.next=k}o.baseQueue=v=x,h.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var M=k=null,H=null,ee=o,ue=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(at&pe)===pe:(fs&pe)===pe){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===hu&&(ue=!0);else if((fs&ne)===ne){ee=ee.next,ne===hu&&(ue=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=pe,k=x):H=H.next=pe,Je.lanes|=ne,To|=ne;pe=ee.action,ql&&u(x,pe),x=ee.hasEagerState?ee.eagerState:u(x,pe)}else ne={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=ne,k=x):H=H.next=ne,Je.lanes|=pe,To|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(H===null?k=x:H.next=M,!Yr(x,a.memoizedState)&&(bn=!0,ue&&(u=mu,u!==null)))throw u;a.memoizedState=x,a.baseState=k,a.baseQueue=H,h.lastRenderedState=x}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Wb(a){var o=ln(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do x=a(x,k.action),k=k.next;while(k!==v);Yr(x,o.memoizedState)||(bn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function D2(a,o,u){var h=Je,v=ln(),x=lt;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var k=!Yr((Ct||v).memoizedState,u);if(k&&(v.memoizedState=u,bn=!0),v=v.queue,Zb(V2.bind(null,h,v,a),[a]),v.getSnapshot!==o||k||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,xu(9,{destroy:void 0},L2.bind(null,h,v,u,o),null),Mt===null)throw Error(r(349));x||(fs&127)!==0||z2(h,o,u)}return u}function z2(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=$p(),Je.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function L2(a,o,u,h){o.value=u,o.getSnapshot=h,B2(o)&&U2(a)}function V2(a,o,u){return u(function(){B2(o)&&U2(a)})}function B2(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Yr(a,u)}catch{return!0}}function U2(a){var o=jl(a,2);o!==null&&Mr(o,a,2)}function Xb(a){var o=_r();if(typeof a=="function"){var u=a;if(a=u(),ql){br(!0);try{u()}finally{br(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:a},o}function F2(a,o,u,h){return a.baseState=u,Yb(a,Ct,typeof h=="function"?h:hs)}function lB(a,o,u,h,v){if(Wp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){x.listeners.push(k)}};Y.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,q2(o,x)):(x.next=u.next,o.pending=u.next=x)}}function q2(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var x=Y.T,k={};Y.T=k;try{var M=u(v,h),H=Y.S;H!==null&&H(k,M),$2(a,o,M)}catch(ee){Qb(a,o,ee)}finally{x!==null&&k.types!==null&&(x.types=k.types),Y.T=x}}else try{x=u(v,h),$2(a,o,x)}catch(ee){Qb(a,o,ee)}}function $2(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){H2(a,o,h)},function(h){return Qb(a,o,h)}):H2(a,o,u)}function H2(a,o,u){o.status="fulfilled",o.value=u,G2(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,q2(a,u)))}function Qb(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,G2(o),o=o.next;while(o!==h)}a.action=null}function G2(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function K2(a,o){return o}function Y2(a,o){if(lt){var u=Mt.formState;if(u!==null){e:{var h=Je;if(lt){if(Bt){t:{for(var v=Bt,x=Ai;v.nodeType!==8;){if(!x){v=null;break t}if(v=Ii(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Bt=Ii(v.nextSibling),h=v.data==="F!";break e}}go(h)}h=!1}h&&(o=u[0])}}return u=_r(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K2,lastRenderedState:o},u.queue=h,u=hk.bind(null,Je,h),h.dispatch=u,h=Xb(!1),x=rx.bind(null,Je,!1,h.queue),h=_r(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=lB.bind(null,Je,v,x,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function W2(a){var o=ln();return X2(o,Ct,a)}function X2(a,o,u){if(o=Yb(a,o,K2)[0],a=Gp(hs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Df(o)}catch(k){throw k===pu?Dp:k}else h=o;o=ln();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,xu(9,{destroy:void 0},cB.bind(null,v,u),null)),[h,x,a]}function cB(a,o){a.action=o}function Q2(a){var o=ln(),u=Ct;if(u!==null)return X2(o,u,a);ln(),o=o.memoizedState,u=ln();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function xu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Je.updateQueue,o===null&&(o=$p(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function Z2(){return ln().memoizedState}function Kp(a,o,u,h){var v=_r();Je.flags|=a,v.memoizedState=xu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Yp(a,o,u,h){var v=ln();h=h===void 0?null:h;var x=v.memoizedState.inst;Ct!==null&&h!==null&&Fb(h,Ct.memoizedState.deps)?v.memoizedState=xu(o,x,u,h):(Je.flags|=a,v.memoizedState=xu(1|o,x,u,h))}function J2(a,o){Kp(8390656,8,a,o)}function Zb(a,o){Yp(2048,8,a,o)}function uB(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=$p(),Je.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function ek(a){var o=ln().memoizedState;return uB({ref:o,nextImpl:a}),function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function tk(a,o){return Yp(4,2,a,o)}function nk(a,o){return Yp(4,4,a,o)}function rk(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function ik(a,o,u){u=u!=null?u.concat([a]):null,Yp(4,4,rk.bind(null,o,a),u)}function Jb(){}function ak(a,o){var u=ln();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Fb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function sk(a,o){var u=ln();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Fb(o,h[1]))return h[0];if(h=a(),ql){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[h,o],h}function ex(a,o,u){return u===void 0||(fs&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=oI(),Je.lanes|=a,To|=a,u)}function ok(a,o,u,h){return Yr(u,o)?u:yu.current!==null?(a=ex(a,u,h),Yr(a,o)||(bn=!0),a):(fs&42)===0||(fs&1073741824)!==0&&(at&261930)===0?(bn=!0,a.memoizedState=u):(a=oI(),Je.lanes|=a,To|=a,o)}function lk(a,o,u,h,v){var x=re.p;re.p=x!==0&&8>x?x:8;var k=Y.T,M={};Y.T=M,rx(a,!1,o,u);try{var H=v(),ee=Y.S;if(ee!==null&&ee(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=aB(H,h);zf(a,o,ue,ei(a))}else zf(a,o,h,ei(a))}catch(pe){zf(a,o,{then:function(){},status:"rejected",reason:pe},ei())}finally{re.p=x,k!==null&&M.types!==null&&(k.types=M.types),Y.T=k}}function dB(){}function tx(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=ck(a).queue;lk(a,v,o,G,u===null?dB:function(){return uk(a),u(h)})}function ck(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:G},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function uk(a){var o=ck(a);o.next===null&&(o=a.alternate.memoizedState),zf(a,o.next.queue,{},ei())}function nx(){return tr(eh)}function dk(){return ln().memoizedState}function fk(){return ln().memoizedState}function fB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ei();a=bo(u);var h=xo(o,a,u);h!==null&&(Mr(h,o,u),Pf(h,o,u)),o={cache:Ob()},a.payload=o;return}o=o.return}}function hB(a,o,u){var h=ei();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wp(a)?mk(o,u):(u=xb(a,o,u,h),u!==null&&(Mr(u,a,h),pk(u,o,h)))}function hk(a,o,u){var h=ei();zf(a,o,u,h)}function zf(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wp(a))mk(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var k=o.lastRenderedState,M=x(k,u);if(v.hasEagerState=!0,v.eagerState=M,Yr(M,k))return Cp(a,o,v,0),Mt===null&&Ip(),!1}catch{}if(u=xb(a,o,v,h),u!==null)return Mr(u,a,h),pk(u,o,h),!0}return!1}function rx(a,o,u,h){if(h={lane:2,revertLane:Mx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Wp(a)){if(o)throw Error(r(479))}else o=xb(a,u,h,2),o!==null&&Mr(o,a,2)}function Wp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function mk(a,o){vu=Fp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function pk(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Xn(a,u)}}var Lf={readContext:tr,use:Hp,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Lf.useEffectEvent=tn;var gk={readContext:tr,use:Hp,useCallback:function(a,o){return _r().memoizedState=[a,o===void 0?null:o],a},useContext:tr,useEffect:J2,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Kp(4194308,4,rk.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Kp(4194308,4,a,o)},useInsertionEffect:function(a,o){Kp(4,2,a,o)},useMemo:function(a,o){var u=_r();o=o===void 0?null:o;var h=a();if(ql){br(!0);try{a()}finally{br(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=_r();if(u!==void 0){var v=u(o);if(ql){br(!0);try{u(o)}finally{br(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=hB.bind(null,Je,a),[h.memoizedState,a]},useRef:function(a){var o=_r();return a={current:a},o.memoizedState=a},useState:function(a){a=Xb(a);var o=a.queue,u=hk.bind(null,Je,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Jb,useDeferredValue:function(a,o){var u=_r();return ex(u,a,o)},useTransition:function(){var a=Xb(!1);return a=lk.bind(null,Je,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Je,v=_r();if(lt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Mt===null)throw Error(r(349));(at&127)!==0||z2(h,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,J2(V2.bind(null,h,x,a),[a]),h.flags|=2048,xu(9,{destroy:void 0},L2.bind(null,h,x,u,o),null),u},useId:function(){var a=_r(),o=Mt.identifierPrefix;if(lt){var u=Pa,h=Oa;u=(h&~(1<<32-$t(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=qp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=sB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:nx,useFormState:Y2,useActionState:Y2,useOptimistic:function(a){var o=_r();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=rx.bind(null,Je,!0,u),u.dispatch=o,[a,o]},useMemoCache:Kb,useCacheRefresh:function(){return _r().memoizedState=fB.bind(null,Je)},useEffectEvent:function(a){var o=_r(),u={impl:a};return o.memoizedState=u,function(){if((pt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ix={readContext:tr,use:Hp,useCallback:ak,useContext:tr,useEffect:Zb,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:sk,useReducer:Gp,useRef:Z2,useState:function(){return Gp(hs)},useDebugValue:Jb,useDeferredValue:function(a,o){var u=ln();return ok(u,Ct.memoizedState,a,o)},useTransition:function(){var a=Gp(hs)[0],o=ln().memoizedState;return[typeof a=="boolean"?a:Df(a),o]},useSyncExternalStore:D2,useId:dk,useHostTransitionStatus:nx,useFormState:W2,useActionState:W2,useOptimistic:function(a,o){var u=ln();return F2(u,Ct,a,o)},useMemoCache:Kb,useCacheRefresh:fk};ix.useEffectEvent=ek;var yk={readContext:tr,use:Hp,useCallback:ak,useContext:tr,useEffect:Zb,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:sk,useReducer:Wb,useRef:Z2,useState:function(){return Wb(hs)},useDebugValue:Jb,useDeferredValue:function(a,o){var u=ln();return Ct===null?ex(u,a,o):ok(u,Ct.memoizedState,a,o)},useTransition:function(){var a=Wb(hs)[0],o=ln().memoizedState;return[typeof a=="boolean"?a:Df(a),o]},useSyncExternalStore:D2,useId:dk,useHostTransitionStatus:nx,useFormState:Q2,useActionState:Q2,useOptimistic:function(a,o){var u=ln();return Ct!==null?F2(u,Ct,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Kb,useCacheRefresh:fk};yk.useEffectEvent=ek;function ax(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var sx={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ei(),v=bo(h);v.payload=o,u!=null&&(v.callback=u),o=xo(a,v,h),o!==null&&(Mr(o,a,h),Pf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ei(),v=bo(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=xo(a,v,h),o!==null&&(Mr(o,a,h),Pf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ei(),h=bo(u);h.tag=2,o!=null&&(h.callback=o),o=xo(a,h,u),o!==null&&(Mr(o,a,u),Pf(o,a,u))}};function vk(a,o,u,h,v,x,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,k):o.prototype&&o.prototype.isPureReactComponent?!Sf(u,h)||!Sf(v,x):!0}function bk(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&sx.enqueueReplaceState(o,o.state,null)}function $l(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function xk(a){kp(a)}function wk(a){console.error(a)}function _k(a){kp(a)}function Xp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Ek(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ox(a,o,u){return u=bo(u),u.tag=3,u.payload={element:null},u.callback=function(){Xp(a,o)},u}function Sk(a){return a=bo(a),a.tag=3,a}function Tk(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;a.payload=function(){return v(x)},a.callback=function(){Ek(o,u,h)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Ek(o,u,h),typeof v!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function mB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&fu(o,u,v,!0),u=Xr.current,u!==null){switch(u.tag){case 31:case 13:return ki===null?lg():u.alternate===null&&nn===0&&(nn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===zp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Px(a,h,v)),!1;case 22:return u.flags|=65536,h===zp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Px(a,h,v)),!1}throw Error(r(435,u.tag))}return Px(a,h,v),lg(),!1}if(lt)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Ab&&(a=Error(r(422),{cause:h}),kf(Ei(a,u)))):(h!==Ab&&(o=Error(r(423),{cause:h}),kf(Ei(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Ei(h,u),v=ox(a.stateNode,h,v),zb(a,v),nn!==4&&(nn=2)),!1;var x=Error(r(520),{cause:h});if(x=Ei(x,u),Gf===null?Gf=[x]:Gf.push(x),nn!==4&&(nn=2),o===null)return!0;h=Ei(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=ox(u.stateNode,h,a),zb(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ao===null||!Ao.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Sk(v),Tk(v,a,u,h),zb(u,v),!1}u=u.return}while(u!==null);return!1}var lx=Error(r(461)),bn=!1;function nr(a,o,u,h){o.child=a===null?C2(o,null,u,h):Fl(o,a.child,u,h)}function Ak(a,o,u,h,v){u=u.render;var x=o.ref;if("ref"in h){var k={};for(var M in h)M!=="ref"&&(k[M]=h[M])}else k=h;return Ll(o),h=qb(a,o,u,k,x,v),M=$b(),a!==null&&!bn?(Hb(a,o,v),ms(a,o,v)):(lt&&M&&Sb(o),o.flags|=1,nr(a,o,h,v),o.child)}function kk(a,o,u,h,v){if(a===null){var x=u.type;return typeof x=="function"&&!wb(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,Ik(a,o,x,h,v)):(a=Op(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!gx(a,v)){var k=x.memoizedProps;if(u=u.compare,u=u!==null?u:Sf,u(k,h)&&a.ref===o.ref)return ms(a,o,v)}return o.flags|=1,a=ls(x,h),a.ref=o.ref,a.return=o,o.child=a}function Ik(a,o,u,h,v){if(a!==null){var x=a.memoizedProps;if(Sf(x,h)&&a.ref===o.ref)if(bn=!1,o.pendingProps=h=x,gx(a,v))(a.flags&131072)!==0&&(bn=!0);else return o.lanes=a.lanes,ms(a,o,v)}return cx(a,o,u,h,v)}function Ck(a,o,u,h){var v=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return Nk(a,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mp(o,x!==null?x.cachePool:null),x!==null?P2(o,x):Vb(),R2(o);else return h=o.lanes=536870912,Nk(a,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(Mp(o,x.cachePool),P2(o,x),_o(),o.memoizedState=null):(a!==null&&Mp(o,null),Vb(),_o());return nr(a,o,v,u),o.child}function Vf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Nk(a,o,u,h,v){var x=Rb();return x=x===null?null:{parent:yn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&Mp(o,null),Vb(),R2(o),a!==null&&fu(a,o,h,!0),o.childLanes=v,null}function Qp(a,o){return o=Jp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Ok(a,o,u){return Fl(o,a.child,null,u),a=Qp(o,o.pendingProps),a.flags|=2,Qr(o),o.memoizedState=null,a}function pB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(lt){if(h.mode==="hidden")return a=Qp(o,h),o.lanes=536870912,Vf(null,a);if(Ub(o),(a=Bt)?(a=qI(a,Ai),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Oa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},u=m2(a),u.return=o,o.child=u,er=o,Bt=null)):a=null,a===null)throw go(o);return o.lanes=536870912,null}return Qp(o,h)}var x=a.memoizedState;if(x!==null){var k=x.dehydrated;if(Ub(o),v)if(o.flags&256)o.flags&=-257,o=Ok(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(bn||fu(a,o,u,!1),v=(u&a.childLanes)!==0,bn||v){if(h=Mt,h!==null&&(k=Qn(h,u),k!==0&&k!==x.retryLane))throw x.retryLane=k,jl(a,k),Mr(h,a,k),lx;lg(),o=Ok(a,o,u)}else a=x.treeContext,Bt=Ii(k.nextSibling),er=o,lt=!0,po=null,Ai=!1,a!==null&&y2(o,a),o=Qp(o,h),o.flags|=4096;return o}return a=ls(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Zp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function cx(a,o,u,h,v){return Ll(o),u=qb(a,o,u,h,void 0,v),h=$b(),a!==null&&!bn?(Hb(a,o,v),ms(a,o,v)):(lt&&h&&Sb(o),o.flags|=1,nr(a,o,u,v),o.child)}function Pk(a,o,u,h,v,x){return Ll(o),o.updateQueue=null,u=M2(o,h,u,v),j2(a),h=$b(),a!==null&&!bn?(Hb(a,o,x),ms(a,o,x)):(lt&&h&&Sb(o),o.flags|=1,nr(a,o,u,x),o.child)}function Rk(a,o,u,h,v){if(Ll(o),o.stateNode===null){var x=lu,k=u.contextType;typeof k=="object"&&k!==null&&(x=tr(k)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=sx,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Mb(o),k=u.contextType,x.context=typeof k=="object"&&k!==null?tr(k):lu,x.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(ax(o,u,k,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(k=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),k!==x.state&&sx.enqueueReplaceState(x,x.state,null),jf(o,h,x,v),Rf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var M=o.memoizedProps,H=$l(u,M);x.props=H;var ee=x.context,ue=u.contextType;k=lu,typeof ue=="object"&&ue!==null&&(k=tr(ue));var pe=u.getDerivedStateFromProps;ue=typeof pe=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ee!==k)&&bk(o,x,h,k),vo=!1;var ne=o.memoizedState;x.state=ne,jf(o,h,x,v),Rf(),ee=o.memoizedState,M||ne!==ee||vo?(typeof pe=="function"&&(ax(o,u,pe,h),ee=o.memoizedState),(H=vo||vk(o,u,H,h,ne,ee,k))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),x.props=h,x.state=ee,x.context=k,h=H):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Db(a,o),k=o.memoizedProps,ue=$l(u,k),x.props=ue,pe=o.pendingProps,ne=x.context,ee=u.contextType,H=lu,typeof ee=="object"&&ee!==null&&(H=tr(ee)),M=u.getDerivedStateFromProps,(ee=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==pe||ne!==H)&&bk(o,x,h,H),vo=!1,ne=o.memoizedState,x.state=ne,jf(o,h,x,v),Rf();var oe=o.memoizedState;k!==pe||ne!==oe||vo||a!==null&&a.dependencies!==null&&Rp(a.dependencies)?(typeof M=="function"&&(ax(o,u,M,h),oe=o.memoizedState),(ue=vo||vk(o,u,ue,h,ne,oe,H)||a!==null&&a.dependencies!==null&&Rp(a.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,oe,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,oe,H)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),x.props=h,x.state=oe,x.context=H,h=ue):(typeof x.componentDidUpdate!="function"||k===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Zp(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=Fl(o,a.child,null,v),o.child=Fl(o,null,u,v)):nr(a,o,u,v),o.memoizedState=x.state,a=o.child):a=ms(a,o,v),a}function jk(a,o,u,h){return Dl(),o.flags|=256,nr(a,o,u,h),o.child}var ux={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dx(a){return{baseLanes:a,cachePool:E2()}}function fx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Jr),a}function Mk(a,o,u){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,k;if((k=x)||(k=a!==null&&a.memoizedState===null?!1:(on.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(lt){if(v?wo(o):_o(),(a=Bt)?(a=qI(a,Ai),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Oa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},u=m2(a),u.return=o,o.child=u,er=o,Bt=null)):a=null,a===null)throw go(o);return Yx(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(_o(),v=o.mode,M=Jp({mode:"hidden",children:M},v),h=Ml(h,v,u,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=dx(u),h.childLanes=fx(a,k,u),o.memoizedState=ux,Vf(null,h)):(wo(o),hx(o,M))}var H=a.memoizedState;if(H!==null&&(M=H.dehydrated,M!==null)){if(x)o.flags&256?(wo(o),o.flags&=-257,o=mx(a,o,u)):o.memoizedState!==null?(_o(),o.child=a.child,o.flags|=128,o=null):(_o(),M=h.fallback,v=o.mode,h=Jp({mode:"visible",children:h.children},v),M=Ml(M,v,u,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,Fl(o,a.child,null,u),h=o.child,h.memoizedState=dx(u),h.childLanes=fx(a,k,u),o.memoizedState=ux,o=Vf(null,h));else if(wo(o),Yx(M)){if(k=M.nextSibling&&M.nextSibling.dataset,k)var ee=k.dgst;k=ee,h=Error(r(419)),h.stack="",h.digest=k,kf({value:h,source:null,stack:null}),o=mx(a,o,u)}else if(bn||fu(a,o,u,!1),k=(u&a.childLanes)!==0,bn||k){if(k=Mt,k!==null&&(h=Qn(k,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,jl(a,h),Mr(k,a,h),lx;Kx(M)||lg(),o=mx(a,o,u)}else Kx(M)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,Bt=Ii(M.nextSibling),er=o,lt=!0,po=null,Ai=!1,a!==null&&y2(o,a),o=hx(o,h.children),o.flags|=4096);return o}return v?(_o(),M=h.fallback,v=o.mode,H=a.child,ee=H.sibling,h=ls(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?M=ls(ee,M):(M=Ml(M,v,u,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,Vf(null,h),h=o.child,M=a.child.memoizedState,M===null?M=dx(u):(v=M.cachePool,v!==null?(H=yn._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=E2(),M={baseLanes:M.baseLanes|u,cachePool:v}),h.memoizedState=M,h.childLanes=fx(a,k,u),o.memoizedState=ux,Vf(a.child,h)):(wo(o),u=a.child,a=u.sibling,u=ls(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function hx(a,o){return o=Jp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Jp(a,o){return a=Wr(22,a,null,o),a.lanes=0,a}function mx(a,o,u){return Fl(o,a.child,null,u),a=hx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Dk(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Cb(a.return,o,u)}function px(a,o,u,h,v,x){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=u,k.tailMode=v,k.treeForkCount=x)}function zk(a,o,u){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var k=on.current,M=(k&2)!==0;if(M?(k=k&1|2,o.flags|=128):k&=1,te(on,k),nr(a,o,h,u),h=lt?Af:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dk(a,u,o);else if(a.tag===19)Dk(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Up(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),px(o,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Up(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}px(o,!0,u,null,x,h);break;case"together":px(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ms(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),To|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(fu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ls(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ls(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function gx(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rp(a)))}function gB(a,o,u){switch(o.tag){case 3:Ce(o,o.stateNode.containerInfo),yo(o,yn,a.memoizedState.cache),Dl();break;case 27:case 5:Re(o);break;case 4:Ce(o,o.stateNode.containerInfo);break;case 10:yo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ub(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(wo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Mk(a,o,u):(wo(o),a=ms(a,o,u),a!==null?a.sibling:null);wo(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(fu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return zk(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(on,on.current),h)break;return null;case 22:return o.lanes=0,Ck(a,o,u,o.pendingProps);case 24:yo(o,yn,a.memoizedState.cache)}return ms(a,o,u)}function Lk(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)bn=!0;else{if(!gx(a,u)&&(o.flags&128)===0)return bn=!1,gB(a,o,u);bn=(a.flags&131072)!==0}else bn=!1,lt&&(o.flags&1048576)!==0&&g2(o,Af,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Bl(o.elementType),o.type=a,typeof a=="function")wb(a)?(h=$l(a,h),o.tag=1,o=Rk(null,o,a,h,u)):(o.tag=0,o=cx(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===D){o.tag=11,o=Ak(null,o,a,h,u);break e}else if(v===P){o.tag=14,o=kk(null,o,a,h,u);break e}}throw o=be(a)||a,Error(r(306,o,""))}}return o;case 0:return cx(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=$l(h,o.pendingProps),Rk(a,o,h,v,u);case 3:e:{if(Ce(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,Db(a,o),jf(o,h,null,u);var k=o.memoizedState;if(h=k.cache,yo(o,yn,h),h!==x.cache&&Nb(o,[yn],u,!0),Rf(),h=k.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=jk(a,o,h,u);break e}else if(h!==v){v=Ei(Error(r(424)),o),kf(v),o=jk(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Bt=Ii(a.firstChild),er=o,lt=!0,po=null,Ai=!0,u=C2(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Dl(),h===v){o=ms(a,o,u);break e}nr(a,o,h,u)}o=o.child}return o;case 26:return Zp(a,o),a===null?(u=WI(o.type,null,o.pendingProps,null))?o.memoizedState=u:lt||(u=o.type,a=o.pendingProps,h=pg(J.current).createElement(u),h[mn]=o,h[Ln]=a,rr(h,u,a),pn(h),o.stateNode=h):o.memoizedState=WI(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Re(o),a===null&&lt&&(h=o.stateNode=GI(o.type,o.pendingProps,J.current),er=o,Ai=!0,v=Bt,No(o.type)?(Wx=v,Bt=Ii(h.firstChild)):Bt=v),nr(a,o,o.pendingProps.children,u),Zp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&lt&&((v=h=Bt)&&(h=GB(h,o.type,o.pendingProps,Ai),h!==null?(o.stateNode=h,er=o,Bt=Ii(h.firstChild),Ai=!1,v=!0):v=!1),v||go(o)),Re(o),v=o.type,x=o.pendingProps,k=a!==null?a.memoizedProps:null,h=x.children,$x(v,x)?h=null:k!==null&&$x(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=qb(a,o,oB,null,null,u),eh._currentValue=v),Zp(a,o),nr(a,o,h,u),o.child;case 6:return a===null&&lt&&((a=u=Bt)&&(u=KB(u,o.pendingProps,Ai),u!==null?(o.stateNode=u,er=o,Bt=null,a=!0):a=!1),a||go(o)),null;case 13:return Mk(a,o,u);case 4:return Ce(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Fl(o,null,h,u):nr(a,o,h,u),o.child;case 11:return Ak(a,o,o.type,o.pendingProps,u);case 7:return nr(a,o,o.pendingProps,u),o.child;case 8:return nr(a,o,o.pendingProps.children,u),o.child;case 12:return nr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,yo(o,o.type,h.value),nr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Ll(o),v=tr(v),h=h(v),o.flags|=1,nr(a,o,h,u),o.child;case 14:return kk(a,o,o.type,o.pendingProps,u);case 15:return Ik(a,o,o.type,o.pendingProps,u);case 19:return zk(a,o,u);case 31:return pB(a,o,u);case 22:return Ck(a,o,u,o.pendingProps);case 24:return Ll(o),h=tr(yn),a===null?(v=Rb(),v===null&&(v=Mt,x=Ob(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:h,cache:v},Mb(o),yo(o,yn,v)):((a.lanes&u)!==0&&(Db(a,o),jf(o,null,null,u),Rf()),v=a.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),yo(o,yn,h)):(h=x.cache,yo(o,yn,h),h!==v.cache&&Nb(o,[yn],u,!0))),nr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ps(a){a.flags|=4}function yx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(dI())a.flags|=8192;else throw Ul=zp,jb}else a.flags&=-16777217}function Vk(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!eC(o))if(dI())a.flags|=8192;else throw Ul=zp,jb}function eg(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?zn():536870912,a.lanes|=o,Su|=o)}function Bf(a,o){if(!lt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ut(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function yB(a,o,u){var h=o.pendingProps;switch(Tb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ds(yn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(du(o)?ps(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kb())),Ut(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(ps(o),x!==null?(Ut(o),Vk(o,x)):(Ut(o),yx(o,v,null,h,u))):x?x!==a.memoizedState?(ps(o),Ut(o),Vk(o,x)):(Ut(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ps(o),Ut(o),yx(o,v,a,h,u)),null;case 27:if(Ue(o),u=J.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ps(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}a=de.current,du(o)?v2(o):(a=GI(v,h,u),o.stateNode=a,ps(o))}return Ut(o),null;case 5:if(Ue(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ps(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}if(x=de.current,du(o))v2(o);else{var k=pg(J.current);switch(x){case 1:x=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=k.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?k.createElement(v,{is:h.is}):k.createElement(v)}}x[mn]=o,x[Ln]=h;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)x.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=x;e:switch(rr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ps(o)}}return Ut(o),yx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ps(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=J.current,du(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=er,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[mn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||MI(a.nodeValue,u)),a||go(o,!0)}else a=pg(a).createTextNode(h),a[mn]=o,o.stateNode=a}return Ut(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=du(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[mn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),a=!1}else u=kb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Qr(o),o):(Qr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ut(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=du(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),v=!1}else v=kb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Qr(o),o):(Qr(o),null)}return Qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),eg(o,o.updateQueue),Ut(o),null);case 4:return se(),a===null&&Vx(o.stateNode.containerInfo),Ut(o),null;case 10:return ds(o.type),Ut(o),null;case 19:if(ae(on),h=o.memoizedState,h===null)return Ut(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)Bf(h,!1);else{if(nn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Up(a),x!==null){for(o.flags|=128,Bf(h,!1),a=x.updateQueue,o.updateQueue=a,eg(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)h2(u,a),u=u.sibling;return te(on,on.current&1|2),lt&&cs(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Wn()>ag&&(o.flags|=128,v=!0,Bf(h,!1),o.lanes=4194304)}else{if(!v)if(a=Up(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,eg(o,a),Bf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!lt)return Ut(o),null}else 2*Wn()-h.renderingStartTime>ag&&u!==536870912&&(o.flags|=128,v=!0,Bf(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Wn(),a.sibling=null,u=on.current,te(on,v?u&1|2:u&1),lt&&cs(o,h.treeForkCount),a):(Ut(o),null);case 22:case 23:return Qr(o),Bb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),u=o.updateQueue,u!==null&&eg(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ae(Vl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ds(yn),Ut(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function vB(a,o){switch(Tb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ds(yn),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ue(o),null;case 31:if(o.memoizedState!==null){if(Qr(o),o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Qr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ae(on),null;case 4:return se(),null;case 10:return ds(o.type),null;case 22:case 23:return Qr(o),Bb(),a!==null&&ae(Vl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ds(yn),null;case 25:return null;default:return null}}function Bk(a,o){switch(Tb(o),o.tag){case 3:ds(yn),se();break;case 26:case 27:case 5:Ue(o);break;case 4:se();break;case 31:o.memoizedState!==null&&Qr(o);break;case 13:Qr(o);break;case 19:ae(on);break;case 10:ds(o.type);break;case 22:case 23:Qr(o),Bb(),a!==null&&ae(Vl);break;case 24:ds(yn)}}function Uf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var x=u.create,k=u.inst;h=x(),k.destroy=h}u=u.next}while(u!==v)}}catch(M){wt(o,o.return,M)}}function Eo(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&a)===a){var k=h.inst,M=k.destroy;if(M!==void 0){k.destroy=void 0,v=o;var H=u,ee=M;try{ee()}catch(ue){wt(v,H,ue)}}}h=h.next}while(h!==x)}}catch(ue){wt(o,o.return,ue)}}function Uk(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{O2(o,u)}catch(h){wt(a,a.return,h)}}}function Fk(a,o,u){u.props=$l(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){wt(a,o,h)}}function Ff(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){wt(a,o,v)}}function Ra(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){wt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){wt(a,o,v)}else u.current=null}function qk(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){wt(a,a.return,v)}}function vx(a,o,u){try{var h=a.stateNode;BB(h,a.type,u,o),h[Ln]=o}catch(v){wt(a,a.return,v)}}function $k(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&No(a.type)||a.tag===4}function bx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$k(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&No(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function xx(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yi));else if(h!==4&&(h===27&&No(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(xx(a,o,u),a=a.sibling;a!==null;)xx(a,o,u),a=a.sibling}function tg(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&No(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(tg(a,o,u),a=a.sibling;a!==null;)tg(a,o,u),a=a.sibling}function Hk(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);rr(o,h,u),o[mn]=a,o[Ln]=u}catch(x){wt(a,a.return,x)}}var gs=!1,xn=!1,wx=!1,Gk=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function bB(a,o){if(a=a.containerInfo,Fx=_g,a=i2(a),mb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var k=0,M=-1,H=-1,ee=0,ue=0,pe=a,ne=null;t:for(;;){for(var oe;pe!==u||v!==0&&pe.nodeType!==3||(M=k+v),pe!==x||h!==0&&pe.nodeType!==3||(H=k+h),pe.nodeType===3&&(k+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)ne=pe,pe=oe;for(;;){if(pe===a)break t;if(ne===u&&++ee===v&&(M=k),ne===x&&++ue===h&&(H=k),(oe=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=oe}u=M===-1||H===-1?null:{start:M,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(qx={focusedElem:a,selectionRange:u},_g=!1,Bn=o;Bn!==null;)if(o=Bn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Bn=a;else for(;Bn!==null;){switch(o=Bn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var Pe=$l(u.type,v);a=h.getSnapshotBeforeUpdate(Pe,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(He){wt(u,u.return,He)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Gx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Gx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Bn=a;break}Bn=o.return}}function Kk(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:vs(a,u),h&4&&Uf(5,u);break;case 1:if(vs(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){wt(u,u.return,k)}else{var v=$l(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){wt(u,u.return,k)}}h&64&&Uk(u),h&512&&Ff(u,u.return);break;case 3:if(vs(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{O2(a,o)}catch(k){wt(u,u.return,k)}}break;case 27:o===null&&h&4&&Hk(u);case 26:case 5:vs(a,u),o===null&&h&4&&qk(u),h&512&&Ff(u,u.return);break;case 12:vs(a,u);break;case 31:vs(a,u),h&4&&Xk(a,u);break;case 13:vs(a,u),h&4&&Qk(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=IB.bind(null,u),YB(a,u))));break;case 22:if(h=u.memoizedState!==null||gs,!h){o=o!==null&&o.memoizedState!==null||xn,v=gs;var x=xn;gs=h,(xn=o)&&!x?bs(a,u,(u.subtreeFlags&8772)!==0):vs(a,u),gs=v,xn=x}break;case 30:break;default:vs(a,u)}}function Yk(a){var o=a.alternate;o!==null&&(a.alternate=null,Yk(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Yc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Gt=null,Or=!1;function ys(a,o,u){for(u=u.child;u!==null;)Wk(a,o,u),u=u.sibling}function Wk(a,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(qr,u)}catch{}switch(u.tag){case 26:xn||Ra(u,o),ys(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xn||Ra(u,o);var h=Gt,v=Or;No(u.type)&&(Gt=u.stateNode,Or=!1),ys(a,o,u),Qf(u.stateNode),Gt=h,Or=v;break;case 5:xn||Ra(u,o);case 6:if(h=Gt,v=Or,Gt=null,ys(a,o,u),Gt=h,Or=v,Gt!==null)if(Or)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(x){wt(u,o,x)}else try{Gt.removeChild(u.stateNode)}catch(x){wt(u,o,x)}break;case 18:Gt!==null&&(Or?(a=Gt,UI(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pu(a)):UI(Gt,u.stateNode));break;case 4:h=Gt,v=Or,Gt=u.stateNode.containerInfo,Or=!0,ys(a,o,u),Gt=h,Or=v;break;case 0:case 11:case 14:case 15:Eo(2,u,o),xn||Eo(4,u,o),ys(a,o,u);break;case 1:xn||(Ra(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Fk(u,o,h)),ys(a,o,u);break;case 21:ys(a,o,u);break;case 22:xn=(h=xn)||u.memoizedState!==null,ys(a,o,u),xn=h;break;default:ys(a,o,u)}}function Xk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pu(a)}catch(u){wt(o,o.return,u)}}}function Qk(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pu(a)}catch(u){wt(o,o.return,u)}}function xB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Gk),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Gk),o;default:throw Error(r(435,a.tag))}}function ng(a,o){var u=xB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=CB.bind(null,a,h);h.then(v,v)}})}function Pr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=a,k=o,M=k;e:for(;M!==null;){switch(M.tag){case 27:if(No(M.type)){Gt=M.stateNode,Or=!1;break e}break;case 5:Gt=M.stateNode,Or=!1;break e;case 3:case 4:Gt=M.stateNode.containerInfo,Or=!0;break e}M=M.return}if(Gt===null)throw Error(r(160));Wk(x,k,v),Gt=null,Or=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Zk(o,a),o=o.sibling}var ea=null;function Zk(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pr(o,a),Rr(a),h&4&&(Eo(3,a,a.return),Uf(3,a),Eo(5,a,a.return));break;case 1:Pr(o,a),Rr(a),h&512&&(xn||u===null||Ra(u,u.return)),h&64&&gs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=ea;if(Pr(o,a),Rr(a),h&512&&(xn||u===null||Ra(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[ba]||x[mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),rr(x,h,u),x[mn]=a,pn(x),h=x;break e;case"link":var k=ZI("link","href",v).get(h+(u.href||""));if(k){for(var M=0;M<k.length;M++)if(x=k[M],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(M,1);break t}}x=v.createElement(h),rr(x,h,u),v.head.appendChild(x);break;case"meta":if(k=ZI("meta","content",v).get(h+(u.content||""))){for(M=0;M<k.length;M++)if(x=k[M],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(M,1);break t}}x=v.createElement(h),rr(x,h,u),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[mn]=a,pn(x),h=x}a.stateNode=h}else JI(v,a.type,a.stateNode);else a.stateNode=QI(v,h,a.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?JI(v,a.type,a.stateNode):QI(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&vx(a,a.memoizedProps,u.memoizedProps)}break;case 27:Pr(o,a),Rr(a),h&512&&(xn||u===null||Ra(u,u.return)),u!==null&&h&4&&vx(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Pr(o,a),Rr(a),h&512&&(xn||u===null||Ra(u,u.return)),a.flags&32){v=a.stateNode;try{Nr(v,"")}catch(Pe){wt(a,a.return,Pe)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,vx(a,v,u!==null?u.memoizedProps:v)),h&1024&&(wx=!0);break;case 6:if(Pr(o,a),Rr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Pe){wt(a,a.return,Pe)}}break;case 3:if(vg=null,v=ea,ea=gg(o.containerInfo),Pr(o,a),ea=v,Rr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Pu(o.containerInfo)}catch(Pe){wt(a,a.return,Pe)}wx&&(wx=!1,Jk(a));break;case 4:h=ea,ea=gg(a.stateNode.containerInfo),Pr(o,a),Rr(a),ea=h;break;case 12:Pr(o,a),Rr(a);break;case 31:Pr(o,a),Rr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 13:Pr(o,a),Rr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ig=Wn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 22:v=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=gs,ue=xn;if(gs=ee||v,xn=ue||H,Pr(o,a),xn=ue,gs=ee,Rr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||H||gs||xn||Hl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(x=H.stateNode,v)k=x.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{M=H.stateNode;var pe=H.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Pe){wt(H,H.return,Pe)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Pe){wt(H,H.return,Pe)}}}else if(o.tag===18){if(u===null){H=o;try{var oe=H.stateNode;v?FI(oe,!0):FI(H.stateNode,!1)}catch(Pe){wt(H,H.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ng(a,u))));break;case 19:Pr(o,a),Rr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 30:break;case 21:break;default:Pr(o,a),Rr(a)}}function Rr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if($k(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=bx(a);tg(a,x,v);break;case 5:var k=u.stateNode;u.flags&32&&(Nr(k,""),u.flags&=-33);var M=bx(a);tg(a,M,k);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=bx(a);xx(a,ee,H);break;default:throw Error(r(161))}}catch(ue){wt(a,a.return,ue)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Jk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Jk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function vs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Kk(a,o.alternate,o),o=o.sibling}function Hl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Eo(4,o,o.return),Hl(o);break;case 1:Ra(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Fk(o,o.return,u),Hl(o);break;case 27:Qf(o.stateNode);case 26:case 5:Ra(o,o.return),Hl(o);break;case 22:o.memoizedState===null&&Hl(o);break;case 30:Hl(o);break;default:Hl(o)}a=a.sibling}}function bs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,x=o,k=x.flags;switch(x.tag){case 0:case 11:case 15:bs(v,x,u),Uf(4,x);break;case 1:if(bs(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){wt(h,h.return,ee)}if(h=x,v=h.updateQueue,v!==null){var M=h.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)N2(H[v],M)}catch(ee){wt(h,h.return,ee)}}u&&k&64&&Uk(x),Ff(x,x.return);break;case 27:Hk(x);case 26:case 5:bs(v,x,u),u&&h===null&&k&4&&qk(x),Ff(x,x.return);break;case 12:bs(v,x,u);break;case 31:bs(v,x,u),u&&k&4&&Xk(v,x);break;case 13:bs(v,x,u),u&&k&4&&Qk(v,x);break;case 22:x.memoizedState===null&&bs(v,x,u),Ff(x,x.return);break;case 30:break;default:bs(v,x,u)}o=o.sibling}}function _x(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&If(u))}function Ex(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a))}function ta(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eI(a,o,u,h),o=o.sibling}function eI(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,u,h),v&2048&&Uf(9,o);break;case 1:ta(a,o,u,h);break;case 3:ta(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a)));break;case 12:if(v&2048){ta(a,o,u,h),a=o.stateNode;try{var x=o.memoizedProps,k=x.id,M=x.onPostCommit;typeof M=="function"&&M(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){wt(o,o.return,H)}}else ta(a,o,u,h);break;case 31:ta(a,o,u,h);break;case 13:ta(a,o,u,h);break;case 23:break;case 22:x=o.stateNode,k=o.alternate,o.memoizedState!==null?x._visibility&2?ta(a,o,u,h):qf(a,o):x._visibility&2?ta(a,o,u,h):(x._visibility|=2,wu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&_x(k,o);break;case 24:ta(a,o,u,h),v&2048&&Ex(o.alternate,o);break;default:ta(a,o,u,h)}}function wu(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,k=o,M=u,H=h,ee=k.flags;switch(k.tag){case 0:case 11:case 15:wu(x,k,M,H,v),Uf(8,k);break;case 23:break;case 22:var ue=k.stateNode;k.memoizedState!==null?ue._visibility&2?wu(x,k,M,H,v):qf(x,k):(ue._visibility|=2,wu(x,k,M,H,v)),v&&ee&2048&&_x(k.alternate,k);break;case 24:wu(x,k,M,H,v),v&&ee&2048&&Ex(k.alternate,k);break;default:wu(x,k,M,H,v)}o=o.sibling}}function qf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:qf(u,h),v&2048&&_x(h.alternate,h);break;case 24:qf(u,h),v&2048&&Ex(h.alternate,h);break;default:qf(u,h)}o=o.sibling}}var $f=8192;function _u(a,o,u){if(a.subtreeFlags&$f)for(a=a.child;a!==null;)tI(a,o,u),a=a.sibling}function tI(a,o,u){switch(a.tag){case 26:_u(a,o,u),a.flags&$f&&a.memoizedState!==null&&sU(u,ea,a.memoizedState,a.memoizedProps);break;case 5:_u(a,o,u);break;case 3:case 4:var h=ea;ea=gg(a.stateNode.containerInfo),_u(a,o,u),ea=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=$f,$f=16777216,_u(a,o,u),$f=h):_u(a,o,u));break;default:_u(a,o,u)}}function nI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Hf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Bn=h,iI(h,a)}nI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rI(a),a=a.sibling}function rI(a){switch(a.tag){case 0:case 11:case 15:Hf(a),a.flags&2048&&Eo(9,a,a.return);break;case 3:Hf(a);break;case 12:Hf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,rg(a)):Hf(a);break;default:Hf(a)}}function rg(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Bn=h,iI(h,a)}nI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Eo(8,o,o.return),rg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,rg(o));break;default:rg(o)}a=a.sibling}}function iI(a,o){for(;Bn!==null;){var u=Bn;switch(u.tag){case 0:case 11:case 15:Eo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:If(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Bn=h;else e:for(u=a;Bn!==null;){h=Bn;var v=h.sibling,x=h.return;if(Yk(h),h===u){Bn=null;break e}if(v!==null){v.return=x,Bn=v;break e}Bn=x}}}var wB={getCacheForType:function(a){var o=tr(yn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return tr(yn).controller.signal}},_B=typeof WeakMap=="function"?WeakMap:Map,pt=0,Mt=null,rt=null,at=0,xt=0,Zr=null,So=!1,Eu=!1,Sx=!1,xs=0,nn=0,To=0,Gl=0,Tx=0,Jr=0,Su=0,Gf=null,jr=null,Ax=!1,ig=0,aI=0,ag=1/0,sg=null,Ao=null,An=0,ko=null,Tu=null,ws=0,kx=0,Ix=null,sI=null,Kf=0,Cx=null;function ei(){return(pt&2)!==0&&at!==0?at&-at:Y.T!==null?Mx():sf()}function oI(){if(Jr===0)if((at&536870912)===0||lt){var a=is;is<<=1,(is&3932160)===0&&(is=262144),Jr=a}else Jr=536870912;return a=Xr.current,a!==null&&(a.flags|=32),Jr}function Mr(a,o,u){(a===Mt&&(xt===2||xt===9)||a.cancelPendingCommit!==null)&&(Au(a,0),Io(a,at,Jr,!1)),Vt(a,u),((pt&2)===0||a!==Mt)&&(a===Mt&&((pt&2)===0&&(Gl|=u),nn===4&&Io(a,at,Jr,!1)),ja(a))}function lI(a,o,u){if((pt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||yt(a,o),v=h?TB(a,o):Ox(a,o,!0),x=h;do{if(v===0){Eu&&!h&&Io(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!EB(u)){v=Ox(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var M=a;v=Gf;var H=M.current.memoizedState.isDehydrated;if(H&&(Au(M,k).flags|=256),k=Ox(M,k,!1),k!==2){if(Sx&&!H){M.errorRecoveryDisabledLanes|=x,Gl|=x,v=4;break e}x=jr,jr=v,x!==null&&(jr===null?jr=x:jr.push.apply(jr,x))}v=k}if(x=!1,v!==2)continue}}if(v===1){Au(a,0),Io(a,o,0,!0);break}e:{switch(h=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Io(h,o,Jr,!So);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=ig+300-Wn(),10<v)){if(Io(h,o,Jr,!So),$e(h,0,!0)!==0)break e;ws=o,h.timeoutHandle=VI(cI.bind(null,h,u,jr,sg,Ax,o,Jr,Gl,Su,So,x,"Throttled",-0,0),v);break e}cI(h,u,jr,sg,Ax,o,Jr,Gl,Su,So,x,null,-0,0)}}break}while(!0);ja(a)}function cI(a,o,u,h,v,x,k,M,H,ee,ue,pe,ne,oe){if(a.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},tI(o,x,pe);var Pe=(x&62914560)===x?ig-Wn():(x&4194048)===x?aI-Wn():0;if(Pe=oU(pe,Pe),Pe!==null){ws=x,a.cancelPendingCommit=Pe(yI.bind(null,a,o,x,u,h,v,k,M,H,ue,pe,null,ne,oe)),Io(a,x,k,!ee);return}}yI(a,o,x,u,h,v,k,M,H)}function EB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!Yr(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Io(a,o,u,h){o&=~Tx,o&=~Gl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var x=31-$t(v),k=1<<x;h[x]=-1,v&=~k}u!==0&&yi(a,u,o)}function og(){return(pt&6)===0?(Yf(0),!1):!0}function Nx(){if(rt!==null){if(xt===0)var a=rt.return;else a=rt,us=zl=null,Gb(a),gu=null,Nf=0,a=rt;for(;a!==null;)Bk(a.alternate,a),a=a.return;rt=null}}function Au(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,qB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ws=0,Nx(),Mt=a,rt=u=ls(a.current,null),at=o,xt=0,Zr=null,So=!1,Eu=yt(a,o),Sx=!1,Su=Jr=Tx=Gl=To=nn=0,jr=Gf=null,Ax=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-$t(h),x=1<<v;o|=a[v],h&=~x}return xs=o,Ip(),u}function uI(a,o){Je=null,Y.H=Lf,o===pu||o===Dp?(o=A2(),xt=3):o===jb?(o=A2(),xt=4):xt=o===lx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zr=o,rt===null&&(nn=1,Xp(a,Ei(o,a.current)))}function dI(){var a=Xr.current;return a===null?!0:(at&4194048)===at?ki===null:(at&62914560)===at||(at&536870912)!==0?a===ki:!1}function fI(){var a=Y.H;return Y.H=Lf,a===null?Lf:a}function hI(){var a=Y.A;return Y.A=wB,a}function lg(){nn=4,So||(at&4194048)!==at&&Xr.current!==null||(Eu=!0),(To&134217727)===0&&(Gl&134217727)===0||Mt===null||Io(Mt,at,Jr,!1)}function Ox(a,o,u){var h=pt;pt|=2;var v=fI(),x=hI();(Mt!==a||at!==o)&&(sg=null,Au(a,o)),o=!1;var k=nn;e:do try{if(xt!==0&&rt!==null){var M=rt,H=Zr;switch(xt){case 8:Nx(),k=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var ee=xt;if(xt=0,Zr=null,ku(a,M,H,ee),u&&Eu){k=0;break e}break;default:ee=xt,xt=0,Zr=null,ku(a,M,H,ee)}}SB(),k=nn;break}catch(ue){uI(a,ue)}while(!0);return o&&a.shellSuspendCounter++,us=zl=null,pt=h,Y.H=v,Y.A=x,rt===null&&(Mt=null,at=0,Ip()),k}function SB(){for(;rt!==null;)mI(rt)}function TB(a,o){var u=pt;pt|=2;var h=fI(),v=hI();Mt!==a||at!==o?(sg=null,ag=Wn()+500,Au(a,o)):Eu=yt(a,o);e:do try{if(xt!==0&&rt!==null){o=rt;var x=Zr;t:switch(xt){case 1:xt=0,Zr=null,ku(a,o,x,1);break;case 2:case 9:if(S2(x)){xt=0,Zr=null,pI(o);break}o=function(){xt!==2&&xt!==9||Mt!==a||(xt=7),ja(a)},x.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:S2(x)?(xt=0,Zr=null,pI(o)):(xt=0,Zr=null,ku(a,o,x,7));break;case 5:var k=null;switch(rt.tag){case 26:k=rt.memoizedState;case 5:case 27:var M=rt;if(k?eC(k):M.stateNode.complete){xt=0,Zr=null;var H=M.sibling;if(H!==null)rt=H;else{var ee=M.return;ee!==null?(rt=ee,cg(ee)):rt=null}break t}}xt=0,Zr=null,ku(a,o,x,5);break;case 6:xt=0,Zr=null,ku(a,o,x,6);break;case 8:Nx(),nn=6;break e;default:throw Error(r(462))}}AB();break}catch(ue){uI(a,ue)}while(!0);return us=zl=null,Y.H=h,Y.A=v,pt=u,rt!==null?0:(Mt=null,at=0,Ip(),nn)}function AB(){for(;rt!==null&&!Dn();)mI(rt)}function mI(a){var o=Lk(a.alternate,a,xs);a.memoizedProps=a.pendingProps,o===null?cg(a):rt=o}function pI(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Pk(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=Pk(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:Gb(o);default:Bk(u,o),o=rt=h2(o,xs),o=Lk(u,o,xs)}a.memoizedProps=a.pendingProps,o===null?cg(a):rt=o}function ku(a,o,u,h){us=zl=null,Gb(o),gu=null,Nf=0;var v=o.return;try{if(mB(a,v,o,u,at)){nn=1,Xp(a,Ei(u,a.current)),rt=null;return}}catch(x){if(v!==null)throw rt=v,x;nn=1,Xp(a,Ei(u,a.current)),rt=null;return}o.flags&32768?(lt||h===1?a=!0:Eu||(at&536870912)!==0?a=!1:(So=a=!0,(h===2||h===9||h===3||h===6)&&(h=Xr.current,h!==null&&h.tag===13&&(h.flags|=16384))),gI(o,a)):cg(o)}function cg(a){var o=a;do{if((o.flags&32768)!==0){gI(o,So);return}a=o.return;var u=yB(o.alternate,o,xs);if(u!==null){rt=u;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=a}while(o!==null);nn===0&&(nn=5)}function gI(a,o){do{var u=vB(a.alternate,a);if(u!==null){u.flags&=32767,rt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){rt=a;return}rt=a=u}while(a!==null);nn=6,rt=null}function yI(a,o,u,h,v,x,k,M,H){a.cancelPendingCommit=null;do ug();while(An!==0);if((pt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=bb,dr(a,u,x,k,M,H),a===Mt&&(rt=Mt=null,at=0),Tu=o,ko=a,ws=u,kx=x,Ix=v,sI=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,NB(qi,function(){return _I(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=re.p,re.p=2,k=pt,pt|=4;try{bB(a,o,u)}finally{pt=k,re.p=v,Y.T=h}}An=1,vI(),bI(),xI()}}function vI(){if(An===1){An=0;var a=ko,o=Tu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=pt;pt|=4;try{Zk(o,a);var x=qx,k=i2(a.containerInfo),M=x.focusedElem,H=x.selectionRange;if(k!==M&&M&&M.ownerDocument&&r2(M.ownerDocument.documentElement,M)){if(H!==null&&mb(M)){var ee=H.start,ue=H.end;if(ue===void 0&&(ue=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(ue,M.value.length);else{var pe=M.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var oe=ne.getSelection(),Pe=M.textContent.length,He=Math.min(H.start,Pe),Ot=H.end===void 0?He:Math.min(H.end,Pe);!oe.extend&&He>Ot&&(k=Ot,Ot=He,He=k);var W=n2(M,He),K=n2(M,Ot);if(W&&K&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var Z=pe.createRange();Z.setStart(W.node,W.offset),oe.removeAllRanges(),He>Ot?(oe.addRange(Z),oe.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),oe.addRange(Z))}}}}for(pe=[],oe=M;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pe.length;M++){var he=pe[M];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}_g=!!Fx,qx=Fx=null}finally{pt=v,re.p=h,Y.T=u}}a.current=o,An=2}}function bI(){if(An===2){An=0;var a=ko,o=Tu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=pt;pt|=4;try{Kk(a,o.alternate,o)}finally{pt=v,re.p=h,Y.T=u}}An=3}}function xI(){if(An===4||An===3){An=0,Fi();var a=ko,o=Tu,u=ws,h=sI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?An=5:(An=0,Tu=ko=null,wI(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ao=null),Zn(u),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(qr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,v=re.p,re.p=2,Y.T=null;try{for(var x=a.onRecoverableError,k=0;k<h.length;k++){var M=h[k];x(M.value,{componentStack:M.stack})}}finally{Y.T=o,re.p=v}}(ws&3)!==0&&ug(),ja(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Cx?Kf++:(Kf=0,Cx=a):Kf=0,Yf(0)}}function wI(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,If(o)))}function ug(){return vI(),bI(),xI(),_I()}function _I(){if(An!==5)return!1;var a=ko,o=kx;kx=0;var u=Zn(ws),h=Y.T,v=re.p;try{re.p=32>u?32:u,Y.T=null,u=Ix,Ix=null;var x=ko,k=ws;if(An=0,Tu=ko=null,ws=0,(pt&6)!==0)throw Error(r(331));var M=pt;if(pt|=4,rI(x.current),eI(x,x.current,k,u),pt=M,Yf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(qr,x)}catch{}return!0}finally{re.p=v,Y.T=h,wI(a,o)}}function EI(a,o,u){o=Ei(u,o),o=ox(a.stateNode,o,2),a=xo(a,o,2),a!==null&&(Vt(a,2),ja(a))}function wt(a,o,u){if(a.tag===3)EI(a,a,u);else for(;o!==null;){if(o.tag===3){EI(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ao===null||!Ao.has(h))){a=Ei(u,a),u=Sk(2),h=xo(o,u,2),h!==null&&(Tk(u,h,o,a),Vt(h,2),ja(h));break}}o=o.return}}function Px(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new _B;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Sx=!0,v.add(u),a=kB.bind(null,a,o,u),o.then(a,a))}function kB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Mt===a&&(at&u)===u&&(nn===4||nn===3&&(at&62914560)===at&&300>Wn()-ig?(pt&2)===0&&Au(a,0):Tx|=u,Su===at&&(Su=0)),ja(a)}function SI(a,o){o===0&&(o=zn()),a=jl(a,o),a!==null&&(Vt(a,o),ja(a))}function IB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),SI(a,u)}function CB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),SI(a,u)}function NB(a,o){return Qe(a,o)}var dg=null,Iu=null,Rx=!1,fg=!1,jx=!1,Co=0;function ja(a){a!==Iu&&a.next===null&&(Iu===null?dg=Iu=a:Iu=Iu.next=a),fg=!0,Rx||(Rx=!0,PB())}function Yf(a,o){if(!jx&&fg){jx=!0;do for(var u=!1,h=dg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var k=h.suspendedLanes,M=h.pingedLanes;x=(1<<31-$t(42|a)+1)-1,x&=v&~(k&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,II(h,x))}else x=at,x=$e(h,h===Mt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||yt(h,x)||(u=!0,II(h,x));h=h.next}while(u);jx=!1}}function OB(){TI()}function TI(){fg=Rx=!1;var a=0;Co!==0&&FB()&&(a=Co);for(var o=Wn(),u=null,h=dg;h!==null;){var v=h.next,x=AI(h,o);x===0?(h.next=null,u===null?dg=v:u.next=v,v===null&&(Iu=u)):(u=h,(a!==0||(x&3)!==0)&&(fg=!0)),h=v}An!==0&&An!==5||Yf(a),Co!==0&&(Co=0)}function AI(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var k=31-$t(x),M=1<<k,H=v[k];H===-1?((M&u)===0||(M&h)!==0)&&(v[k]=hn(M,o)):H<=o&&(a.expiredLanes|=M),x&=~M}if(o=Mt,u=at,u=$e(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(xt===2||xt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Mn(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||yt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&Mn(h),Zn(u)){case 2:case 8:u=xl;break;case 32:u=qi;break;case 268435456:u=$i;break;default:u=qi}return h=kI.bind(null,a),u=Qe(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&Mn(h),a.callbackPriority=2,a.callbackNode=null,2}function kI(a,o){if(An!==0&&An!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(ug()&&a.callbackNode!==u)return null;var h=at;return h=$e(a,a===Mt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(lI(a,h,o),AI(a,Wn()),a.callbackNode!=null&&a.callbackNode===u?kI.bind(null,a):null)}function II(a,o){if(ug())return null;lI(a,o,!0)}function PB(){$B(function(){(pt&6)!==0?Qe(pa,OB):TI()})}function Mx(){if(Co===0){var a=hu;a===0&&(a=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Co=a}return Co}function CI(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zc(""+a)}function NI(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function RB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var x=CI((v[Ln]||null).action),k=h.submitter;k&&(o=(o=k[Ln]||null)?CI(o.formAction):k.getAttribute("formAction"),o!==null&&(x=o,k=null));var M=new ka("action","action",null,h,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Co!==0){var H=k?NI(v,k):new FormData(v);tx(u,{pending:!0,data:H,method:v.method,action:x},null,H)}}else typeof x=="function"&&(M.preventDefault(),H=k?NI(v,k):new FormData(v),tx(u,{pending:!0,data:H,method:v.method,action:x},x,H))},currentTarget:v}]})}}for(var Dx=0;Dx<vb.length;Dx++){var zx=vb[Dx],jB=zx.toLowerCase(),MB=zx[0].toUpperCase()+zx.slice(1);Ji(jB,"on"+MB)}Ji(o2,"onAnimationEnd"),Ji(l2,"onAnimationIteration"),Ji(c2,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Q8,"onTransitionRun"),Ji(Z8,"onTransitionStart"),Ji(J8,"onTransitionCancel"),Ji(u2,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wf));function OI(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var k=h.length-1;0<=k;k--){var M=h[k],H=M.instance,ee=M.currentTarget;if(M=M.listener,H!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ee;try{x(v)}catch(ue){kp(ue)}v.currentTarget=null,x=H}else for(k=0;k<h.length;k++){if(M=h[k],H=M.instance,ee=M.currentTarget,M=M.listener,H!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ee;try{x(v)}catch(ue){kp(ue)}v.currentTarget=null,x=H}}}}function it(a,o){var u=o[Kc];u===void 0&&(u=o[Kc]=new Set);var h=a+"__bubble";u.has(h)||(PI(o,a,2,!1),u.add(h))}function Lx(a,o,u){var h=0;o&&(h|=4),PI(u,a,h,o)}var hg="_reactListening"+Math.random().toString(36).slice(2);function Vx(a){if(!a[hg]){a[hg]=!0,of.forEach(function(u){u!=="selectionchange"&&(DB.has(u)||Lx(u,!1,a),Lx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[hg]||(o[hg]=!0,Lx("selectionchange",!1,o))}}function PI(a,o,u,h){switch(oC(o)){case 2:var v=uU;break;case 8:v=dU;break;default:v=e1}u=v.bind(null,o,u,a),v=void 0,!Al||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Bx(a,o,u,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var M=h.stateNode.containerInfo;if(M===v)break;if(k===4)for(k=h.return;k!==null;){var H=k.tag;if((H===3||H===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;M!==null;){if(k=xa(M),k===null)return;if(H=k.tag,H===5||H===6||H===26||H===27){h=x=k;continue e}M=M.parentNode}}h=h.return}co(function(){var ee=x,ue=bi(u),pe=[];e:{var ne=d2.get(a);if(ne!==void 0){var oe=ka,Pe=a;switch(a){case"keypress":if(Il(u)===0)break e;case"keydown":case"keyup":oe=Sp;break;case"focusin":Pe="focus",oe=Nl;break;case"focusout":Pe="blur",oe=Nl;break;case"beforeblur":case"afterblur":oe=Nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=A;break;case o2:case l2:case c2:oe=yp;break;case u2:oe=B;break;case"scroll":case"scrollend":oe=bf;break;case"wheel":oe=ie;break;case"copy":case"cut":case"paste":oe=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=os;break;case"toggle":case"beforetoggle":oe=Ze}var He=(o&4)!==0,Ot=!He&&(a==="scroll"||a==="scrollend"),W=He?ne!==null?ne+"Capture":null:ne;He=[];for(var K=ee,Z;K!==null;){var he=K;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||W===null||(he=Wi(K,W),he!=null&&He.push(Xf(K,he,Z))),Ot)break;K=K.return}0<He.length&&(ne=new oe(ne,Pe,null,u,ue),pe.push({event:ne,listeners:He}))}}if((o&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ne&&u!==gf&&(Pe=u.relatedTarget||u.fromElement)&&(xa(Pe)||Pe[va]))break e;if((oe||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(Pe=u.relatedTarget||u.toElement,oe=ee,Pe=Pe?xa(Pe):null,Pe!==null&&(Ot=s(Pe),He=Pe.tag,Pe!==Ot||He!==5&&He!==27&&He!==6)&&(Pe=null)):(oe=null,Pe=ee),oe!==Pe)){if(He=xf,he="onMouseLeave",W="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(He=os,he="onPointerLeave",W="onPointerEnter",K="pointer"),Ot=oe==null?ne:Gr(oe),Z=Pe==null?ne:Gr(Pe),ne=new He(he,K+"leave",oe,u,ue),ne.target=Ot,ne.relatedTarget=Z,he=null,xa(ue)===ee&&(He=new He(W,K+"enter",Pe,u,ue),He.target=Z,He.relatedTarget=Ot,he=He),Ot=he,oe&&Pe)t:{for(He=zB,W=oe,K=Pe,Z=0,he=W;he;he=He(he))Z++;he=0;for(var Ve=K;Ve;Ve=He(Ve))he++;for(;0<Z-he;)W=He(W),Z--;for(;0<he-Z;)K=He(K),he--;for(;Z--;){if(W===K||K!==null&&W===K.alternate){He=W;break t}W=He(W),K=He(K)}He=null}else He=null;oe!==null&&RI(pe,ne,oe,He,!1),Pe!==null&&Ot!==null&&RI(pe,Ot,Pe,He,!0)}}e:{if(ne=ee?Gr(ee):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var dt=XA;else if(YA(ne))if(QA)dt=Y8;else{dt=G8;var ze=H8}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Qc(ee.elementType)&&(dt=XA):dt=K8;if(dt&&(dt=dt(a,ee))){WA(pe,dt,u,ue);break e}ze&&ze(a,ne,ee),a==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&hf(ne,"number",ne.value)}switch(ze=ee?Gr(ee):window,a){case"focusin":(YA(ze)||ze.contentEditable==="true")&&(au=ze,pb=ee,Tf=null);break;case"focusout":Tf=pb=au=null;break;case"mousedown":gb=!0;break;case"contextmenu":case"mouseup":case"dragend":gb=!1,a2(pe,u,ue);break;case"selectionchange":if(X8)break;case"keydown":case"keyup":a2(pe,u,ue)}var et;if(mt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else iu?Ol(a,u)&&(st="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(Na&&u.locale!=="ko"&&(iu||st!=="onCompositionStart"?st==="onCompositionEnd"&&iu&&(et=vf()):(Aa=ue,yf="value"in Aa?Aa.value:Aa.textContent,iu=!0)),ze=mg(ee,st),0<ze.length&&(st=new Ca(st,a,null,u,ue),pe.push({event:st,listeners:ze}),et?st.data=et:(et=ru(u),et!==null&&(st.data=et)))),(et=wi?U8(a,u):F8(a,u))&&(st=mg(ee,"onBeforeInput"),0<st.length&&(ze=new Ca("onBeforeInput","beforeinput",null,u,ue),pe.push({event:ze,listeners:st}),ze.data=et)),RB(pe,a,ee,u,ue)}OI(pe,o)})}function Xf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function mg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Wi(a,u),v!=null&&h.unshift(Xf(a,v,x)),v=Wi(a,o),v!=null&&h.push(Xf(a,v,x))),a.tag===3)return h;a=a.return}return[]}function zB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function RI(a,o,u,h,v){for(var x=o._reactName,k=[];u!==null&&u!==h;){var M=u,H=M.alternate,ee=M.stateNode;if(M=M.tag,H!==null&&H===h)break;M!==5&&M!==26&&M!==27||ee===null||(H=ee,v?(ee=Wi(u,x),ee!=null&&k.unshift(Xf(u,ee,H))):v||(ee=Wi(u,x),ee!=null&&k.push(Xf(u,ee,H)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var LB=/\r\n?/g,VB=/\u0000|\uFFFD/g;function jI(a){return(typeof a=="string"?a:""+a).replace(LB,`
`).replace(VB,"")}function MI(a,o){return o=jI(o),jI(a)===o}function Nt(a,o,u,h,v,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Nr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Nr(a,""+h);break;case"className":Kr(a,"class",h);break;case"tabIndex":Kr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(a,u,h);break;case"style":pf(a,h,x);break;case"data":if(o!=="object"){Kr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Zc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Nt(a,o,"name",v.name,v,null),Nt(a,o,"formEncType",v.formEncType,v,null),Nt(a,o,"formMethod",v.formMethod,v,null),Nt(a,o,"formTarget",v.formTarget,v,null)):(Nt(a,o,"encType",v.encType,v,null),Nt(a,o,"method",v.method,v,null),Nt(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Zc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Yi);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Zc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":it("beforetoggle",a),it("toggle",a),Wc(a,"popover",h);break;case"xlinkActuate":gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":gn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":gn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":gn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":gn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Wc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mp.get(u)||u,Wc(a,u,h))}}function Ux(a,o,u,h,v,x){switch(u){case"style":pf(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Nr(a,h):(typeof h=="number"||typeof h=="bigint")&&Nr(a,""+h);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=a[Ln]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Wc(a,u,h)}}}function rr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",a),it("load",a);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var k=u[x];if(k!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Nt(a,o,x,k,u,null)}}v&&Nt(a,o,"srcSet",u.srcSet,u,null),h&&Nt(a,o,"src",u.src,u,null);return;case"input":it("invalid",a);var M=x=k=v=null,H=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var ue=u[h];if(ue!=null)switch(h){case"name":v=ue;break;case"type":k=ue;break;case"checked":H=ue;break;case"defaultChecked":ee=ue;break;case"value":x=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Nt(a,o,h,ue,u,null)}}dp(a,x,M,H,ee,k,v,!1);return;case"select":it("invalid",a),h=k=x=null;for(v in u)if(u.hasOwnProperty(v)&&(M=u[v],M!=null))switch(v){case"value":x=M;break;case"defaultValue":k=M;break;case"multiple":h=M;default:Nt(a,o,v,M,u,null)}o=x,u=k,a.multiple=!!h,o!=null?ao(a,!!h,o,!1):u!=null&&ao(a,!!h,u,!0);return;case"textarea":it("invalid",a),x=v=h=null;for(k in u)if(u.hasOwnProperty(k)&&(M=u[k],M!=null))switch(k){case"value":h=M;break;case"defaultValue":v=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Nt(a,o,k,M,u,null)}so(a,h,v,x);return;case"option":for(H in u)u.hasOwnProperty(H)&&(h=u[H],h!=null)&&(H==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Nt(a,o,H,h,u,null));return;case"dialog":it("beforetoggle",a),it("toggle",a),it("cancel",a),it("close",a);break;case"iframe":case"object":it("load",a);break;case"video":case"audio":for(h=0;h<Wf.length;h++)it(Wf[h],a);break;case"image":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"embed":case"source":case"link":it("error",a),it("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Nt(a,o,ee,h,u,null)}return;default:if(Qc(o)){for(ue in u)u.hasOwnProperty(ue)&&(h=u[ue],h!==void 0&&Ux(a,o,ue,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&Nt(a,o,M,h,u,null))}function BB(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,k=null,M=null,H=null,ee=null,ue=null;for(oe in u){var pe=u[oe];if(u.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":H=pe;default:h.hasOwnProperty(oe)||Nt(a,o,oe,null,h,pe)}}for(var ne in h){var oe=h[ne];if(pe=u[ne],h.hasOwnProperty(ne)&&(oe!=null||pe!=null))switch(ne){case"type":x=oe;break;case"name":v=oe;break;case"checked":ee=oe;break;case"defaultChecked":ue=oe;break;case"value":k=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==pe&&Nt(a,o,ne,oe,h,pe)}}Xc(a,k,M,H,ee,ue,x,v);return;case"select":oe=k=M=ne=null;for(x in u)if(H=u[x],u.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":oe=H;default:h.hasOwnProperty(x)||Nt(a,o,x,null,h,H)}for(v in h)if(x=h[v],H=u[v],h.hasOwnProperty(v)&&(x!=null||H!=null))switch(v){case"value":ne=x;break;case"defaultValue":M=x;break;case"multiple":k=x;default:x!==H&&Nt(a,o,v,x,h,H)}o=M,u=k,h=oe,ne!=null?ao(a,!!u,ne,!1):!!h!=!!u&&(o!=null?ao(a,!!u,o,!0):ao(a,!!u,u?[]:"",!1));return;case"textarea":oe=ne=null;for(M in u)if(v=u[M],u.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Nt(a,o,M,null,h,v)}for(k in h)if(v=h[k],x=u[k],h.hasOwnProperty(k)&&(v!=null||x!=null))switch(k){case"value":ne=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Nt(a,o,k,v,h,x)}fp(a,ne,oe);return;case"option":for(var Pe in u)ne=u[Pe],u.hasOwnProperty(Pe)&&ne!=null&&!h.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Nt(a,o,Pe,null,h,ne));for(H in h)ne=h[H],oe=u[H],h.hasOwnProperty(H)&&ne!==oe&&(ne!=null||oe!=null)&&(H==="selected"?a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":Nt(a,o,H,ne,h,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)ne=u[He],u.hasOwnProperty(He)&&ne!=null&&!h.hasOwnProperty(He)&&Nt(a,o,He,null,h,ne);for(ee in h)if(ne=h[ee],oe=u[ee],h.hasOwnProperty(ee)&&ne!==oe&&(ne!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:Nt(a,o,ee,ne,h,oe)}return;default:if(Qc(o)){for(var Ot in u)ne=u[Ot],u.hasOwnProperty(Ot)&&ne!==void 0&&!h.hasOwnProperty(Ot)&&Ux(a,o,Ot,void 0,h,ne);for(ue in h)ne=h[ue],oe=u[ue],!h.hasOwnProperty(ue)||ne===oe||ne===void 0&&oe===void 0||Ux(a,o,ue,ne,h,oe);return}}for(var W in u)ne=u[W],u.hasOwnProperty(W)&&ne!=null&&!h.hasOwnProperty(W)&&Nt(a,o,W,null,h,ne);for(pe in h)ne=h[pe],oe=u[pe],!h.hasOwnProperty(pe)||ne===oe||ne==null&&oe==null||Nt(a,o,pe,ne,h,oe)}function DI(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,k=v.initiatorType,M=v.duration;if(x&&M&&DI(k)){for(k=0,M=v.responseEnd,h+=1;h<u.length;h++){var H=u[h],ee=H.startTime;if(ee>M)break;var ue=H.transferSize,pe=H.initiatorType;ue&&DI(pe)&&(H=H.responseEnd,k+=ue*(H<M?1:(M-ee)/(H-ee)))}if(--h,o+=8*(x+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Fx=null,qx=null;function pg(a){return a.nodeType===9?a:a.ownerDocument}function zI(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LI(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function $x(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hx=null;function FB(){var a=window.event;return a&&a.type==="popstate"?a===Hx?!1:(Hx=a,!0):(Hx=null,!1)}var VI=typeof setTimeout=="function"?setTimeout:void 0,qB=typeof clearTimeout=="function"?clearTimeout:void 0,BI=typeof Promise=="function"?Promise:void 0,$B=typeof queueMicrotask=="function"?queueMicrotask:typeof BI<"u"?function(a){return BI.resolve(null).then(a).catch(HB)}:VI;function HB(a){setTimeout(function(){throw a})}function No(a){return a==="head"}function UI(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Pu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Qf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Qf(u);for(var x=u.firstChild;x;){var k=x.nextSibling,M=x.nodeName;x[ba]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=k}}else u==="body"&&Qf(a.ownerDocument.body);u=v}while(u);Pu(o)}function FI(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Gx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Gx(u),Yc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function GB(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ba])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ii(a.nextSibling),a===null)break}return null}function KB(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ii(a.nextSibling),a===null))return null;return a}function qI(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ii(a.nextSibling),a===null))return null;return a}function Kx(a){return a.data==="$?"||a.data==="$~"}function Yx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function YB(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ii(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Wx=null;function $I(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ii(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function HI(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function GI(a,o,u){switch(o=pg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Qf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Yc(a)}var Ci=new Map,KI=new Set;function gg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var _s=re.d;re.d={f:WB,r:XB,D:QB,C:ZB,L:JB,m:eU,X:nU,S:tU,M:rU};function WB(){var a=_s.f(),o=og();return a||o}function XB(a){var o=vi(a);o!==null&&o.tag===5&&o.type==="form"?uk(o):_s.r(a)}var Cu=typeof document>"u"?null:document;function YI(a,o,u){var h=Cu;if(h&&typeof o=="string"&&o){var v=Cr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),KI.has(v)||(KI.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),rr(o,"link",a),pn(o),h.head.appendChild(o)))}}function QB(a){_s.D(a),YI("dns-prefetch",a,null)}function ZB(a,o){_s.C(a,o),YI("preconnect",a,o)}function JB(a,o,u){_s.L(a,o,u);var h=Cu;if(h&&a&&o){var v='link[rel="preload"][as="'+Cr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Cr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Cr(u.imageSizes)+'"]')):v+='[href="'+Cr(a)+'"]';var x=v;switch(o){case"style":x=Nu(a);break;case"script":x=Ou(a)}Ci.has(x)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(x,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Zf(x))||o==="script"&&h.querySelector(Jf(x))||(o=h.createElement("link"),rr(o,"link",a),pn(o),h.head.appendChild(o)))}}function eU(a,o){_s.m(a,o);var u=Cu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Cr(h)+'"][href="'+Cr(a)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ou(a)}if(!Ci.has(x)&&(a=p({rel:"modulepreload",href:a},o),Ci.set(x,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jf(x)))return}h=u.createElement("link"),rr(h,"link",a),pn(h),u.head.appendChild(h)}}}function tU(a,o,u){_s.S(a,o,u);var h=Cu;if(h&&a){var v=wa(h).hoistableStyles,x=Nu(a);o=o||"default";var k=v.get(x);if(!k){var M={loading:0,preload:null};if(k=h.querySelector(Zf(x)))M.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(x))&&Xx(a,u);var H=k=h.createElement("link");pn(H),rr(H,"link",a),H._p=new Promise(function(ee,ue){H.onload=ee,H.onerror=ue}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,yg(k,o,h)}k={type:"stylesheet",instance:k,count:1,state:M},v.set(x,k)}}}function nU(a,o){_s.X(a,o);var u=Cu;if(u&&a){var h=wa(u).hoistableScripts,v=Ou(a),x=h.get(v);x||(x=u.querySelector(Jf(v)),x||(a=p({src:a,async:!0},o),(o=Ci.get(v))&&Qx(a,o),x=u.createElement("script"),pn(x),rr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function rU(a,o){_s.M(a,o);var u=Cu;if(u&&a){var h=wa(u).hoistableScripts,v=Ou(a),x=h.get(v);x||(x=u.querySelector(Jf(v)),x||(a=p({src:a,async:!0,type:"module"},o),(o=Ci.get(v))&&Qx(a,o),x=u.createElement("script"),pn(x),rr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function WI(a,o,u,h){var v=(v=J.current)?gg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Nu(u.href),u=wa(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Nu(u.href);var x=wa(v).hoistableStyles,k=x.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,k),(x=v.querySelector(Zf(a)))&&!x._p&&(k.instance=x,k.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),x||iU(v,a,u,k.state))),o&&h===null)throw Error(r(528,""));return k}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ou(u),u=wa(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Nu(a){return'href="'+Cr(a)+'"'}function Zf(a){return'link[rel="stylesheet"]['+a+"]"}function XI(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function iU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),rr(o,"link",u),pn(o),a.head.appendChild(o))}function Ou(a){return'[src="'+Cr(a)+'"]'}function Jf(a){return"script[async]"+a}function QI(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Cr(u.href)+'"]');if(h)return o.instance=h,pn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),pn(h),rr(h,"style",v),yg(h,u.precedence,a),o.instance=h;case"stylesheet":v=Nu(u.href);var x=a.querySelector(Zf(v));if(x)return o.state.loading|=4,o.instance=x,pn(x),x;h=XI(u),(v=Ci.get(v))&&Xx(h,v),x=(a.ownerDocument||a).createElement("link"),pn(x);var k=x;return k._p=new Promise(function(M,H){k.onload=M,k.onerror=H}),rr(x,"link",h),o.state.loading|=4,yg(x,u.precedence,a),o.instance=x;case"script":return x=Ou(u.src),(v=a.querySelector(Jf(x)))?(o.instance=v,pn(v),v):(h=u,(v=Ci.get(x))&&(h=p({},u),Qx(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),pn(v),rr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,yg(h,u.precedence,a));return o.instance}function yg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,k=0;k<h.length;k++){var M=h[k];if(M.dataset.precedence===o)x=M;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Xx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Qx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var vg=null;function ZI(a,o,u){if(vg===null){var h=new Map,v=vg=new Map;v.set(u,h)}else v=vg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var x=u[v];if(!(x[ba]||x[mn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var k=x.getAttribute(o)||"";k=a+k;var M=h.get(k);M?M.push(x):h.set(k,[x])}}return h}function JI(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function aU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function sU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Nu(h.href),x=o.querySelector(Zf(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=bg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,pn(x);return}x=o.ownerDocument||o,h=XI(h),(v=Ci.get(v))&&Xx(h,v),x=x.createElement("link"),pn(x);var k=x;k._p=new Promise(function(M,H){k.onload=M,k.onerror=H}),rr(x,"link",h),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=bg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Zx=0;function oU(a,o){return a.stylesheets&&a.count===0&&wg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&wg(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Zx===0&&(Zx=62500*UB());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&wg(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Zx?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function bg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var xg=null;function wg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,xg=new Map,o.forEach(lU,a),xg=null,bg.call(a))}function lU(a,o){if(!(o.state.loading&4)){var u=xg.get(a);if(u)var h=u.get(null);else{u=new Map,xg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var k=v[x];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),h=k)}h&&u.set(null,h)}v=o.instance,k=v.getAttribute("data-precedence"),x=u.get(k)||h,x===h&&u.set(null,v),u.set(k,v),this.count++,h=bg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var eh={$$typeof:O,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function cU(a,o,u,h,v,x,k,M,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function tC(a,o,u,h,v,x,k,M,H,ee,ue,pe){return a=new cU(a,o,u,k,H,ee,ue,pe,M),o=1,x===!0&&(o|=24),x=Wr(3,null,null,o),a.current=x,x.stateNode=a,o=Ob(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},Mb(x),a}function nC(a){return a?(a=lu,a):lu}function rC(a,o,u,h,v,x){v=nC(v),h.context===null?h.context=v:h.pendingContext=v,h=bo(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=xo(a,h,o),u!==null&&(Mr(u,a,o),Pf(u,a,o))}function iC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Jx(a,o){iC(a,o),(a=a.alternate)&&iC(a,o)}function aC(a){if(a.tag===13||a.tag===31){var o=jl(a,67108864);o!==null&&Mr(o,a,67108864),Jx(a,67108864)}}function sC(a){if(a.tag===13||a.tag===31){var o=ei();o=ya(o);var u=jl(a,o);u!==null&&Mr(u,a,o),Jx(a,o)}}var _g=!0;function uU(a,o,u,h){var v=Y.T;Y.T=null;var x=re.p;try{re.p=2,e1(a,o,u,h)}finally{re.p=x,Y.T=v}}function dU(a,o,u,h){var v=Y.T;Y.T=null;var x=re.p;try{re.p=8,e1(a,o,u,h)}finally{re.p=x,Y.T=v}}function e1(a,o,u,h){if(_g){var v=t1(h);if(v===null)Bx(a,o,h,Eg,u),lC(a,h);else if(hU(v,a,o,u,h))h.stopPropagation();else if(lC(a,h),o&4&&-1<fU.indexOf(a)){for(;v!==null;){var x=vi(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var k=Hr(x.pendingLanes);if(k!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;k;){var H=1<<31-$t(k);M.entanglements[1]|=H,k&=~H}ja(x),(pt&6)===0&&(ag=Wn()+500,Yf(0))}}break;case 31:case 13:M=jl(x,2),M!==null&&Mr(M,x,2),og(),Jx(x,2)}if(x=t1(h),x===null&&Bx(a,o,h,Eg,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else Bx(a,o,h,null,u)}}function t1(a){return a=bi(a),n1(a)}var Eg=null;function n1(a){if(Eg=null,a=xa(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Eg=a,null}function oC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case pa:return 2;case xl:return 8;case qi:case wl:return 32;case $i:return 268435456;default:return 32}default:return 32}}var r1=!1,Oo=null,Po=null,Ro=null,th=new Map,nh=new Map,jo=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lC(a,o){switch(a){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":th.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(o.pointerId)}}function rh(a,o,u,h,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=vi(o),o!==null&&aC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function hU(a,o,u,h,v){switch(o){case"focusin":return Oo=rh(Oo,a,o,u,h,v),!0;case"dragenter":return Po=rh(Po,a,o,u,h,v),!0;case"mouseover":return Ro=rh(Ro,a,o,u,h,v),!0;case"pointerover":var x=v.pointerId;return th.set(x,rh(th.get(x)||null,a,o,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,nh.set(x,rh(nh.get(x)||null,a,o,u,h,v)),!0}return!1}function cC(a){var o=xa(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Gi(a.priority,function(){sC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Gi(a.priority,function(){sC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=t1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);gf=h,u.target.dispatchEvent(h),gf=null}else return o=vi(u),o!==null&&aC(o),a.blockedOn=u,!1;o.shift()}return!0}function uC(a,o,u){Sg(a)&&u.delete(o)}function mU(){r1=!1,Oo!==null&&Sg(Oo)&&(Oo=null),Po!==null&&Sg(Po)&&(Po=null),Ro!==null&&Sg(Ro)&&(Ro=null),th.forEach(uC),nh.forEach(uC)}function Tg(a,o){a.blockedOn===o&&(a.blockedOn=null,r1||(r1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mU)))}var Ag=null;function dC(a){Ag!==a&&(Ag=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ag===a&&(Ag=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(n1(h||u)===null)continue;break}var x=vi(u);x!==null&&(a.splice(o,3),o-=3,tx(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Pu(a){function o(H){return Tg(H,a)}Oo!==null&&Tg(Oo,a),Po!==null&&Tg(Po,a),Ro!==null&&Tg(Ro,a),th.forEach(o),nh.forEach(o);for(var u=0;u<jo.length;u++){var h=jo[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<jo.length&&(u=jo[0],u.blockedOn===null);)cC(u),u.blockedOn===null&&jo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],k=v[Ln]||null;if(typeof x=="function")k||dC(u);else if(k){var M=null;if(x&&x.hasAttribute("formAction")){if(v=x,k=x[Ln]||null)M=k.formAction;else if(n1(v)!==null)continue}else M=k.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),dC(u)}}}function fC(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function i1(a){this._internalRoot=a}kg.prototype.render=i1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ei();rC(u,h,a,o,null,null)},kg.prototype.unmount=i1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;rC(a.current,2,null,a,null,null),og(),o[va]=null}};function kg(a){this._internalRoot=a}kg.prototype.unstable_scheduleHydration=function(a){if(a){var o=sf();a={blockedOn:null,target:a,priority:o};for(var u=0;u<jo.length&&o!==0&&o<jo[u].priority;u++);jo.splice(u,0,a),u===0&&cC(a)}};var hC=e.version;if(hC!=="19.2.3")throw Error(r(527,hC,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var pU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{qr=Ig.inject(pU),Tn=Ig}catch{}}return ah.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=xk,x=wk,k=_k;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=tC(a,1,!1,null,null,u,h,null,v,x,k,fC),a[va]=o.current,Vx(a),new i1(o)},ah.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",x=xk,k=wk,M=_k,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=tC(a,1,!0,o,u??null,h,v,H,x,k,M,fC),o.context=nC(null),u=o.current,h=ei(),h=ya(h),v=bo(h),v.callback=null,xo(u,v,h),u=h,o.current.lanes=u,Vt(o,u),ja(o),a[va]=o.current,Vx(a),new kg(o)},ah.version="19.2.3",ah}var EC;function AU(){if(EC)return o1.exports;EC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o1.exports=TU(),o1.exports}var kU=AU();const ID=T.createContext(void 0),CD=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return g.jsx(ID.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},zd=()=>{const t=T.useContext(ID);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var SC="popstate";function IU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Lc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),g_("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Uh(s))}function r(i,s){di(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return NU(e,n,r,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CU(){return Math.random().toString(36).substring(2,10)}function TC(t,e){return{usr:t.state,key:t.key,idx:e}}function g_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:n,key:e&&e.key||r||CU()}}function Uh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let S=m(),I=S==null?null:S-f;f=S,d&&d({action:c,location:E.location,delta:I})}function b(S,I){c="PUSH";let j=g_(E.location,S,I);n&&n(j,S),f=m()+1;let O=TC(j,f),D=E.createHref(j);try{l.pushState(O,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(D)}s&&d&&d({action:c,location:E.location,delta:1})}function w(S,I){c="REPLACE";let j=g_(E.location,S,I);n&&n(j,S),f=m();let O=TC(j,f),D=E.createHref(j);l.replaceState(O,"",D),s&&d&&d({action:c,location:E.location,delta:0})}function _(S){return OU(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(SC,p),d=S,()=>{i.removeEventListener(SC,p),d=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let I=_(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:w,go(S){return l.go(S)}};return E}function OU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ND(t,e,n="/"){return PU(t,e,n,!1)}function PU(t,e,n,r){let i=typeof e=="string"?Lc(e):e,s=Ds(i.pathname||"/",n);if(s==null)return null;let l=OD(t);RU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=$U(s);c=FU(l[d],f,r)}return c}function OD(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Xt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=js([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),OD(l.children,e,b,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:BU(p,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of PD(l.path))s(l,c,!0,d)}),e}function PD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=PD(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function RU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jU=/^:[\w-]+$/,MU=3,DU=2,zU=1,LU=10,VU=-2,AC=t=>t==="*";function BU(t,e){let n=t.split("/"),r=n.length;return n.some(AC)&&(r+=VU),e&&(r+=DU),n.filter(i=>!AC(i)).reduce((i,s)=>i+(jU.test(s)?MU:s===""?zU:LU),r)}function UU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FU(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:js([s,p.pathname]),pathnameBase:YU(js([s,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(s=js([s,p.pathnameBase]))}return l}function C0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let _=c[b]||"";l=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=c[b];return p&&!w?f[m]=void 0:f[m]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function qU(t,e=!1,n=!0){di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $U(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var RD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HU=t=>RD.test(t);function GU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lc(t):t,s;if(n)if(HU(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),di(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=kC(n.substring(1),"/"):s=kC(n,e)}else s=e;return{pathname:s,search:WU(r),hash:XU(i)}}function kC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tS(t){let e=KU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nS(t,e,n,r=!1){let i;typeof t=="string"?i=Lc(t):(i={...t},Xt(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}c=p>=0?e[p]:"/"}let d=GU(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var js=t=>t.join("/").replace(/\/\/+/g,"/"),YU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,QU=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ZU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function JU(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MD(t,e){let n=t;if(typeof n!="string"||!RD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(jD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Ds(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{di(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DD=["POST","PUT","PATCH","DELETE"];new Set(DD);var e7=["GET",...DD];new Set(e7);var Ld=T.createContext(null);Ld.displayName="DataRouter";var Xy=T.createContext(null);Xy.displayName="DataRouterState";var t7=T.createContext(!1),zD=T.createContext({isTransitioning:!1});zD.displayName="ViewTransition";var n7=T.createContext(new Map);n7.displayName="Fetchers";var r7=T.createContext(null);r7.displayName="Await";var mi=T.createContext(null);mi.displayName="Navigation";var _m=T.createContext(null);_m.displayName="Location";var fa=T.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var rS=T.createContext(null);rS.displayName="RouteError";var LD="REACT_ROUTER_ERROR",i7="REDIRECT",a7="ROUTE_ERROR_RESPONSE";function s7(t){if(t.startsWith(`${LD}:${i7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function o7(t){if(t.startsWith(`${LD}:${a7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QU(e.status,e.statusText,e.data)}catch{}}function l7(t,{relative:e}={}){Xt(Vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(mi),{hash:i,pathname:s,search:l}=Em(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:js([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Vd(){return T.useContext(_m)!=null}function fl(){return Xt(Vd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(_m).location}var VD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BD(t){T.useContext(mi).static||T.useLayoutEffect(t)}function iS(){let{isDataRoute:t}=T.useContext(fa);return t?E7():c7()}function c7(){Xt(Vd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Ld),{basename:e,navigator:n}=T.useContext(mi),{matches:r}=T.useContext(fa),{pathname:i}=fl(),s=JSON.stringify(tS(r)),l=T.useRef(!1);return BD(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(di(l.current,VD),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=nS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:js([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}var u7=T.createContext(null);function d7(t){let e=T.useContext(fa).outlet;return T.useMemo(()=>e&&T.createElement(u7.Provider,{value:t},e),[e,t])}function Em(t,{relative:e}={}){let{matches:n}=T.useContext(fa),{pathname:r}=fl(),i=JSON.stringify(tS(n));return T.useMemo(()=>nS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function f7(t,e){return UD(t,e)}function UD(t,e,n,r,i){Xt(Vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(mi),{matches:l}=T.useContext(fa),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let j=p&&p.path||"";qD(f,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=fl(),w;if(e){let j=typeof e=="string"?Lc(e):e;Xt(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),w=j}else w=b;let _=w.pathname||"/",E=_;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=ND(t,{pathname:E});di(p||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),di(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=y7(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:js([m,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:js([m,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,i);return e&&I?T.createElement(_m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},I):I}function h7(){let t=_7(),e=ZU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var m7=T.createElement(h7,null),FD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=o7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(fa.Provider,{value:this.props.routeContext},T.createElement(rS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(p7,{error:t},e):e}};FD.contextType=t7;var f1=new WeakMap;function p7({children:t,error:e}){let{basename:n}=T.useContext(mi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=s7(e.digest);if(r){let i=f1.get(e);if(i)throw i;let s=MD(r.location,n);if(jD&&!f1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw f1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function g7({routeContext:t,match:e,children:n}){let r=T.useContext(Ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(fa.Provider,{value:t},n)}function y7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Xt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:w}=n,_=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||_){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JU(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,b)=>{let w,_=!1,E=null,S=null;n&&(w=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||m7,c&&(d<0&&b===0?(qD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):d===b&&(_=!0,S=p.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,b+1)),j=()=>{let O;return w?O=E:_?O=S:p.route.Component?O=T.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,T.createElement(g7,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?T.createElement(FD,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:f}):j()},null)}function aS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v7(t){let e=T.useContext(Ld);return Xt(e,aS(t)),e}function b7(t){let e=T.useContext(Xy);return Xt(e,aS(t)),e}function x7(t){let e=T.useContext(fa);return Xt(e,aS(t)),e}function sS(t){let e=x7(t),n=e.matches[e.matches.length-1];return Xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function w7(){return sS("useRouteId")}function _7(){let t=T.useContext(rS),e=b7("useRouteError"),n=sS("useRouteError");return t!==void 0?t:e.errors?.[n]}function E7(){let{router:t}=v7("useNavigate"),e=sS("useNavigate"),n=T.useRef(!1);return BD(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{di(n.current,VD),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var IC={};function qD(t,e,n){!e&&!IC[t]&&(IC[t]=!0,di(!1,n))}T.memo(S7);function S7({routes:t,future:e,state:n,onError:r}){return UD(t,void 0,n,r,e)}function $D({to:t,replace:e,state:n,relative:r}){Xt(Vd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(mi);di(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(fa),{pathname:l}=fl(),c=iS(),d=nS(t,tS(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function HD(t){return d7(t.context)}function ti(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Xt(!Vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Lc(n));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:w="default"}=n,_=T.useMemo(()=>{let E=Ds(f,c);return E==null?null:{location:{pathname:E,search:m,hash:p,state:b,key:w},navigationType:r}},[c,f,m,p,b,w,r]);return di(_!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(mi.Provider,{value:d},T.createElement(_m.Provider,{children:e,value:_}))}function A7({children:t,location:e}){return f7(y_(t),e)}function y_(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,y_(r.props.children,s));return}Xt(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=y_(r.props.children,s)),n.push(l)}),n}var s0="get",o0="application/x-www-form-urlencoded";function Qy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function k7(t){return Qy(t)&&t.tagName.toLowerCase()==="button"}function I7(t){return Qy(t)&&t.tagName.toLowerCase()==="form"}function C7(t){return Qy(t)&&t.tagName.toLowerCase()==="input"}function N7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O7(t,e){return t.button===0&&(!e||e==="_self")&&!N7(t)}var Cg=null;function P7(){if(Cg===null)try{new FormData(document.createElement("form"),0),Cg=!1}catch{Cg=!0}return Cg}var R7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h1(t){return t!=null&&!R7.has(t)?(di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o0}"`),null):t}function j7(t,e){let n,r,i,s,l;if(I7(t)){let c=t.getAttribute("action");r=c?Ds(c,e):null,n=t.getAttribute("method")||s0,i=h1(t.getAttribute("enctype"))||o0,s=new FormData(t)}else if(k7(t)||C7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ds(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||s0,i=h1(t.getAttribute("formenctype"))||h1(c.getAttribute("enctype"))||o0,s=new FormData(c,t),!P7()){let{name:f,type:m,value:p}=t;if(m==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,p)}}else{if(Qy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=s0,r=null,i=o0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ds(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function D7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L7(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await D7(s,n);return l.links?l.links():[]}return[]}));return F7(r.flat(1).filter(z7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function V7(t,e,{includeHydrateFallback:n}={}){return B7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function B7(t){return[...new Set(t)]}function U7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(U7(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function GD(){let t=T.useContext(Ld);return oS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function q7(){let t=T.useContext(Xy);return oS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lS=T.createContext(void 0);lS.displayName="FrameworkContext";function KD(){let t=T.useContext(lS);return oS(t,"You must render this element inside a <HydratedRouter> element"),t}function $7(t,e){let n=T.useContext(lS),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=I=>{I.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:sh(c,w),onBlur:sh(d,_),onMouseEnter:sh(f,w),onMouseLeave:sh(m,_),onTouchStart:sh(p,w)}]:[!1,b,{}]}function sh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H7({page:t,...e}){let{router:n}=GD(),r=T.useMemo(()=>ND(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(K7,{page:t,matches:r,...e}):null}function G7(t){let{manifest:e,routeModules:n}=KD(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return L7(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function K7({page:t,matches:e,...n}){let r=fl(),{manifest:i,routeModules:s}=KD(),{basename:l}=GD(),{loaderData:c,matches:d}=q7(),f=T.useMemo(()=>CC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=T.useMemo(()=>CC(t,e,d,i,r,"assets"),[t,e,d,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(I=>{let j=i.routes[I.route.id];!j||!j.hasLoader||(!f.some(O=>O.route.id===I.route.id)&&I.route.id in c&&s[I.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:_.add(I.route.id))}),_.size===0)return[];let S=M7(t,l,"data");return E&&_.size>0&&S.searchParams.set("_routes",e.filter(I=>_.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>V7(m,i),[m,i]),w=G7(m);return T.createElement(T.Fragment,null,p.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:E})=>T.createElement("link",{key:_,nonce:n.nonce,...E})))}function Y7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W7&&(window.__reactRouterVersion="7.11.0")}catch{}function X7({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=IU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(T7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...w},_){let{basename:E,unstable_useTransitions:S}=T.useContext(mi),I=typeof f=="string"&&YD.test(f),j=MD(f,E);f=j.to;let O=l7(f,{relative:i}),[D,R,V]=$7(r,w),P=J7(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function C(F){e&&e(F),F.defaultPrevented||P(F)}let z=T.createElement("a",{...w,...V,href:j.absoluteURL||O,onClick:j.isExternal||s?e:C,ref:Y7(_,R),target:d,"data-discover":!I&&n==="render"?"true":void 0});return D&&!I?T.createElement(T.Fragment,null,z,T.createElement(H7,{page:O})):z});WD.displayName="Link";var XD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},m){let p=Em(l,{relative:f.relative}),b=fl(),w=T.useContext(Xy),{navigator:_,basename:E}=T.useContext(mi),S=w!=null&&iF(p)&&c===!0,I=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,j=b.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(j=j.toLowerCase(),O=O?O.toLowerCase():null,I=I.toLowerCase()),O&&E&&(O=Ds(O,E)||O);const D=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let R=j===I||!i&&j.startsWith(I)&&j.charAt(D)==="/",V=O!=null&&(O===I||!i&&O.startsWith(I)&&O.charAt(I.length)==="/"),P={isActive:R,isPending:V,isTransitioning:S},C=R?e:void 0,z;typeof r=="function"?z=r(P):z=[r,R?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(P):s;return T.createElement(WD,{...f,"aria-current":C,className:z,ref:m,style:F,to:l,viewTransition:c},typeof d=="function"?d(P):d)});XD.displayName="NavLink";var Q7=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=s0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...w},_)=>{let{unstable_useTransitions:E}=T.useContext(mi),S=nF(),I=rF(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&YD.test(c),D=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let V=R.nativeEvent.submitter,P=V?.getAttribute("formmethod")||l,C=()=>S(V||R.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});E&&n!==!1?T.startTransition(()=>C()):C()};return T.createElement("form",{ref:_,method:j,action:I,onSubmit:r?d:D,...w,"data-discover":!O&&t==="render"?"true":void 0})});Q7.displayName="Form";function Z7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(t){let e=T.useContext(Ld);return Xt(e,Z7(t)),e}function J7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=iS(),m=fl(),p=Em(t,{relative:s});return T.useCallback(b=>{if(O7(b,e)){b.preventDefault();let w=n!==void 0?n:Uh(m)===Uh(p),_=()=>f(t,{replace:w,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>_()):_()}},[m,f,p,n,r,e,t,i,s,l,c,d])}var eF=0,tF=()=>`__${String(++eF)}__`;function nF(){let{router:t}=QD("useSubmit"),{basename:e}=T.useContext(mi),n=w7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=j7(s,e);if(l.navigate===!1){let b=l.fetcherKey||tF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function rF(t,{relative:e}={}){let{basename:n}=T.useContext(mi),r=T.useContext(fa);Xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Em(t||".",{relative:e})},l=fl();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:js([n,s.pathname])),Uh(s)}function iF(t,{relative:e}={}){let n=T.useContext(zD);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QD("useViewTransitionState"),i=Em(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return C0(i.pathname,l)!=null||C0(i.pathname,s)!=null}var cS=kD();const aF=ns(cS),ZD=T.createContext(void 0),sF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"light"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return g.jsx(ZD.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},JD=()=>{const t=T.useContext(ZD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},oF=()=>{};var NC={};const ez=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},tz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(b=64)),r.push(n[m],n[p],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ez(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new cF;const b=s<<2|c>>4;if(r.push(b),f!==64){const w=c<<4&240|f>>2;if(r.push(w),p!==64){const _=f<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uF=function(t){const e=ez(t);return tz.encodeByteArray(e,!0)},nz=function(t){return uF(t).replace(/\./g,"")},rz=function(t){try{return tz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dF=()=>iz().__FIREBASE_DEFAULTS__,fF=()=>{if(typeof process>"u"||typeof NC>"u")return;const t=NC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rz(t[1]);return e&&JSON.parse(e)},Zy=()=>{try{return oF()||dF()||fF()||hF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mF=t=>Zy()?.emulatorHosts?.[t],az=()=>Zy()?.config,sz=t=>Zy()?.[`_${t}`];class pF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Bd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oz(t){return(await fetch(t,{credentials:"include"})).ok}const Ih={};function gF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?t.emulator.push(e):t.prod.push(e);return t}function yF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OC=!1;function vF(t,e){if(typeof window>"u"||typeof document>"u"||!Bd(window.location.host)||Ih[t]===e||Ih[t]||OC)return;Ih[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=gF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{OC=!0,l()},b}function m(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=yF(r),w=n("text"),_=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),I=n("preprendIcon"),j=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;c(O),m(S,E);const D=f();d(j,I),O.append(j,_,S,D),document.body.appendChild(O)}s?(_.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function lz(){const t=Zy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _F(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EF(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cz(){return!lz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uz(){return!lz()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function dz(){try{return typeof indexedDB=="object"}catch{return!1}}function SF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const TF="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TF,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sm.prototype.create)}}class Sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?AF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ws(i,c,r)}}function AF(t,e){return t.replace(kF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kF=/\{\$([^}]+)}/g;function IF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(PC(s)&&PC(l)){if(!wc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PC(t){return t!==null&&typeof t=="object"}function Tm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function CF(t,e){const n=new NF(t,e);return n.subscribe.bind(n)}class NF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m1),i.error===void 0&&(i.error=m1),i.complete===void 0&&(i.complete=m1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m1(){}function Ur(t){return t&&t._delegate?t._delegate:t}class _c{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wl="[DEFAULT]";let PF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jF(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RF(t){return t===Wl?void 0:t}function jF(t){return t.instantiationMode==="EAGER"}class MF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const DF={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},zF=ot.INFO,LF={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uS{constructor(e){this.name=e,this._logLevel=zF,this._logHandler=VF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const BF=(t,e)=>e.some(n=>t instanceof n);let RC,jC;function UF(){return RC||(RC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FF(){return jC||(jC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fz=new WeakMap,v_=new WeakMap,hz=new WeakMap,p1=new WeakMap,dS=new WeakMap;function qF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Qo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&fz.set(n,t)}).catch(()=>{}),dS.set(e,t),e}function $F(t){if(v_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});v_.set(t,e)}let b_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HF(t){b_=t(b_)}function GF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(g1(this),e,...n);return hz.set(r,e.sort?e.sort():[e]),Qo(r)}:FF().includes(t)?function(...e){return t.apply(g1(this),e),Qo(fz.get(this))}:function(...e){return Qo(t.apply(g1(this),e))}}function KF(t){return typeof t=="function"?GF(t):(t instanceof IDBTransaction&&$F(t),BF(t,UF())?new Proxy(t,b_):t)}function Qo(t){if(t instanceof IDBRequest)return qF(t);if(p1.has(t))return p1.get(t);const e=KF(t);return e!==t&&(p1.set(t,e),dS.set(e,t)),e}const g1=t=>dS.get(t);function YF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Qo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qo(l.result),d.oldVersion,d.newVersion,Qo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WF=["get","getKey","getAll","getAllKeys","count"],XF=["put","add","delete","clear"],y1=new Map;function MC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y1.get(e))return y1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return y1.set(e,s),s}HF(t=>({...t,get:(e,n,r)=>MC(e,n)||t.get(e,n,r),has:(e,n)=>!!MC(e,n)||t.has(e,n)}));class QF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZF(t){return t.getComponent()?.type==="VERSION"}const x_="@firebase/app",DC="0.14.6";const zs=new uS("@firebase/app"),JF="@firebase/app-compat",eq="@firebase/analytics-compat",tq="@firebase/analytics",nq="@firebase/app-check-compat",rq="@firebase/app-check",iq="@firebase/auth",aq="@firebase/auth-compat",sq="@firebase/database",oq="@firebase/data-connect",lq="@firebase/database-compat",cq="@firebase/functions",uq="@firebase/functions-compat",dq="@firebase/installations",fq="@firebase/installations-compat",hq="@firebase/messaging",mq="@firebase/messaging-compat",pq="@firebase/performance",gq="@firebase/performance-compat",yq="@firebase/remote-config",vq="@firebase/remote-config-compat",bq="@firebase/storage",xq="@firebase/storage-compat",wq="@firebase/firestore",_q="@firebase/ai",Eq="@firebase/firestore-compat",Sq="firebase",Tq="12.6.0";const w_="[DEFAULT]",Aq={[x_]:"fire-core",[JF]:"fire-core-compat",[tq]:"fire-analytics",[eq]:"fire-analytics-compat",[rq]:"fire-app-check",[nq]:"fire-app-check-compat",[iq]:"fire-auth",[aq]:"fire-auth-compat",[sq]:"fire-rtdb",[oq]:"fire-data-connect",[lq]:"fire-rtdb-compat",[cq]:"fire-fn",[uq]:"fire-fn-compat",[dq]:"fire-iid",[fq]:"fire-iid-compat",[hq]:"fire-fcm",[mq]:"fire-fcm-compat",[pq]:"fire-perf",[gq]:"fire-perf-compat",[yq]:"fire-rc",[vq]:"fire-rc-compat",[bq]:"fire-gcs",[xq]:"fire-gcs-compat",[wq]:"fire-fst",[Eq]:"fire-fst-compat",[_q]:"fire-vertex","fire-js":"fire-js",[Sq]:"fire-js-all"};const N0=new Map,kq=new Map,__=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sd(t){const e=t.name;if(__.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,t);for(const n of N0.values())zC(n,t);for(const n of kq.values())zC(n,t);return!0}function fS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t==null?!1:t.settings!==void 0}const Iq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new Sm("app","Firebase",Iq);class Cq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}const Ud=Tq;function mz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:w_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=az()),!n)throw Zo.create("no-options");const s=N0.get(i);if(s){if(wc(n,s.options)&&wc(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}const l=new MF(i);for(const d of __.values())l.addComponent(d);const c=new Cq(n,r,l);return N0.set(i,c),c}function Nq(t=w_){const e=N0.get(t);if(!e&&t===w_&&az())return mz();if(!e)throw Zo.create("no-app",{appName:t});return e}function Jo(t,e,n){let r=Aq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}sd(new _c(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Oq="firebase-heartbeat-database",Pq=1,Fh="firebase-heartbeat-store";let v1=null;function pz(){return v1||(v1=YF(Oq,Pq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),v1}async function Rq(t){try{const n=(await pz()).transaction(Fh),r=await n.objectStore(Fh).get(gz(t));return await n.done,r}catch(e){if(e instanceof Ws)zs.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function LC(t,e){try{const r=(await pz()).transaction(Fh,"readwrite");await r.objectStore(Fh).put(e,gz(t)),await r.done}catch(n){if(n instanceof Ws)zs.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function gz(t){return`${t.name}!${t.options.appId}`}const jq=1024,Mq=30;class Dq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=VC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Mq){const i=Vq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VC(),{heartbeatsToSend:n,unsentEntries:r}=zq(this._heartbeatsCache.heartbeats),i=nz(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zs.warn(e),""}}}function VC(){return new Date().toISOString().substring(0,10)}function zq(t,e=jq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),BC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dz()?SF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BC(t){return nz(JSON.stringify({version:2,heartbeats:t})).length}function Vq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Bq(t){sd(new _c("platform-logger",e=>new QF(e),"PRIVATE")),sd(new _c("heartbeat",e=>new Dq(e),"PRIVATE")),Jo(x_,DC,t),Jo(x_,DC,"esm2020"),Jo("fire-js","")}Bq("");function yz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uq=yz,vz=new Sm("auth","Firebase",yz());const O0=new uS("@firebase/auth");function Fq(t,...e){O0.logLevel<=ot.WARN&&O0.warn(`Auth (${Ud}): ${t}`,...e)}function l0(t,...e){O0.logLevel<=ot.ERROR&&O0.error(`Auth (${Ud}): ${t}`,...e)}function Qa(t,...e){throw mS(t,...e)}function la(t,...e){return mS(t,...e)}function hS(t,e,n){const r={...Uq(),[e]:n};return new Sm("auth","Firebase",r).create(e,{appName:t.name})}function dc(t){return hS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qa(t,"argument-error"),hS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vz.create(t,...e)}function Ye(t,e,...n){if(!t)throw mS(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw l0(e),new Error(e)}function Ls(t,e){t||Cs(e)}function E_(){return typeof self<"u"&&self.location?.href||""}function $q(){return UC()==="http:"||UC()==="https:"}function UC(){return typeof self<"u"&&self.location?.protocol||null}function Hq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($q()||wF()||"connection"in navigator)?navigator.onLine:!0}function Gq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Am{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=bF()||_F()}get(){return Hq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pS(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class bz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Yq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wq=new Am(3e4,6e4);function gS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fd(t,e,n,r,i={}){return xz(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Tm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return xF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Bd(t.emulatorConfig.host)&&(f.credentials="include"),bz.fetch()(await wz(t,t.config.apiHost,n,c),f)})}async function xz(t,e,n){t._canInitEmulator=!1;const r={...Kq,...e};try{const i=new Qq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ng(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ng(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ng(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ng(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hS(t,m,f);Qa(t,m)}}catch(i){if(i instanceof Ws)throw i;Qa(t,"network-request-failed",{message:String(i)})}}async function Xq(t,e,n,r,i={}){const s=await Fd(t,e,n,r,i);return"mfaPendingCredential"in s&&Qa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function wz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?pS(t.config,i):`${t.config.apiScheme}://${i}`;return Yq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class Qq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),Wq.get())})}}function Ng(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}async function Zq(t,e){return Fd(t,"POST","/v1/accounts:delete",e)}async function P0(t,e){return Fd(t,"POST","/v1/accounts:lookup",e)}function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jq(t,e=!1){const n=Ur(t),r=await n.getIdToken(e),i=yS(r);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Ch(b1(i.auth_time)),issuedAtTime:Ch(b1(i.iat)),expirationTime:Ch(b1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function b1(t){return Number(t)*1e3}function yS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return l0("JWT malformed, contained fewer than 3 sections"),null;try{const i=rz(n);return i?JSON.parse(i):(l0("Failed to decode base64 JWT payload"),null)}catch(i){return l0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FC(t){const e=yS(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&e$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class t${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class S_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function R0(t){const e=t.auth,n=await t.getIdToken(),r=await qh(t,P0(e,{idToken:n}));Ye(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?_z(i.providerUserInfo):[],l=r$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function n$(t){const e=Ur(t);await R0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _z(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function i$(t,e){const n=await xz(t,{},async()=>{const r=Tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await wz(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Bd(t.emulatorConfig.host)&&(d.credentials="include"),bz.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a$(t,e){return Fd(t,"POST","/v2/accounts:revokeToken",gS(t,e))}class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=FC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Zu;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ye(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function Do(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new t$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new S_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qh(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jq(this,e)}reload(){return n$(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await R0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(dc(this.auth));const e=await this.getIdToken();return await qh(this,Zq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=n;Ye(p&&E,e,"internal-error");const S=Zu.fromJSON(this.name,E);Ye(typeof p=="string",e,"internal-error"),Do(r,e.name),Do(i,e.name),Ye(typeof b=="boolean",e,"internal-error"),Ye(typeof w=="boolean",e,"internal-error"),Do(s,e.name),Do(l,e.name),Do(c,e.name),Do(d,e.name),Do(f,e.name),Do(m,e.name);const I=new oa({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return _&&Array.isArray(_)&&(I.providerData=_.map(j=>({...j}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zu;i.updateFromServerResponse(n);const s=new oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await R0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_z(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Zu;c.updateFromIdToken(r);const d=new oa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const qC=new Map;function Ns(t){Ls(t instanceof Function,"Expected a class definition");let e=qC.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qC.set(t,e),e)}class Ez{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ez.type="NONE";const $C=Ez;function c0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=c0(this.userKey,i.apiKey,s),this.fullPersistenceKey=c0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await P0(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ju(Ns($C),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ns($C);const l=c0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const b=await P0(e,{idToken:m}).catch(()=>{});if(!b)break;p=await oa._fromGetAccountInfoResponse(e,b,m)}else p=oa._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Ju(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Ju(s,e,r))}}function HC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cz(e))return"Blackberry";if(Nz(e))return"Webos";if(Tz(e))return"Safari";if((e.includes("chrome/")||Az(e))&&!e.includes("edge/"))return"Chrome";if(Iz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Sz(t=Cn()){return/firefox\//i.test(t)}function Tz(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Az(t=Cn()){return/crios\//i.test(t)}function kz(t=Cn()){return/iemobile/i.test(t)}function Iz(t=Cn()){return/android/i.test(t)}function Cz(t=Cn()){return/blackberry/i.test(t)}function Nz(t=Cn()){return/webos/i.test(t)}function vS(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s$(t=Cn()){return vS(t)&&!!window.navigator?.standalone}function o$(){return EF()&&document.documentMode===10}function Oz(t=Cn()){return vS(t)||Iz(t)||Nz(t)||Cz(t)||/windows phone/i.test(t)||kz(t)}function Pz(t,e=[]){let n;switch(t){case"Browser":n=HC(Cn());break;case"Worker":n=`${HC(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ud}/${r}`}class l${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function c$(t,e={}){return Fd(t,"GET","/v2/passwordPolicy",gS(t,e))}const u$=6;class d${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class f${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GC(this),this.idTokenSubscription=new GC(this),this.beforeStateQueue=new l$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await P0(this,{idToken:e}),r=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ra(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await R0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(dc(this));const n=e?Ur(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(dc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(dc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c$(this),n=new d$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Fq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jy(t){return Ur(t)}class GC{constructor(e){this.auth=e,this.observer=null,this.addObserver=CF(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h$(t){bS=t}function m$(t){return bS.loadJS(t)}function p$(){return bS.gapiScript}function g$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function y$(t,e){const n=fS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wc(s,e??{}))return i;Qa(i,"already-initialized")}return n.initialize({options:e})}function v$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function b$(t,e,n){const r=Jy(t);Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Rz(e),{host:l,port:c}=x$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ye(wc(f,r.config.emulator)&&wc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Bd(l)?(oz(`${s}//${l}${d}`),vF("Auth",!0)):w$()}function Rz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x$(t){const e=Rz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:KC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:KC(l)}}}function KC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class jz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function ed(t,e){return Xq(t,"POST","/v1/accounts:signInWithIdp",gS(t,e))}const _$="http://localhost";class Ec extends jz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Ec(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:_$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tm(n)}return e}}class xS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class km extends xS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $o extends km{constructor(){super("facebook.com")}static credential(e){return Ec._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.FACEBOOK_SIGN_IN_METHOD="facebook.com";$o.PROVIDER_ID="facebook.com";class As extends km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ec._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class Ho extends km{constructor(){super("github.com")}static credential(e){return Ec._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";class Go extends km{constructor(){super("twitter.com")}static credential(e,n){return Ec._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";class od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oa._fromIdTokenResponse(e,r,i),l=YC(r);return new od({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=YC(r);return new od({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function YC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class j0 extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,j0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new j0(e,n,r,i)}}function Mz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?j0._fromErrorAndOperation(t,s,e,r):s})}async function E$(t,e,n=!1){const r=await qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return od._forOperation(t,"link",r)}async function S$(t,e,n=!1){const{auth:r}=t;if(ra(r.app))return Promise.reject(dc(r));const i="reauthenticate";try{const s=await qh(t,Mz(r,i,e,t),n);Ye(s.idToken,r,"internal-error");const l=yS(s.idToken);Ye(l,r,"internal-error");const{sub:c}=l;return Ye(t.uid===c,r,"user-mismatch"),od._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qa(r,"user-mismatch"),s}}async function T$(t,e,n=!1){if(ra(t.app))return Promise.reject(dc(t));const r="signIn",i=await Mz(t,r,e),s=await od._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function A$(t,e){return Ur(t).setPersistence(e)}function k$(t,e,n,r){return Ur(t).onIdTokenChanged(e,n,r)}function I$(t,e,n){return Ur(t).beforeAuthStateChanged(e,n)}function C$(t,e,n,r){return Ur(t).onAuthStateChanged(e,n,r)}function N$(t){return Ur(t).signOut()}const M0="__sak";class Dz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(M0,"1"),this.storage.removeItem(M0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const O$=1e3,P$=10;class zz extends Dz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);o$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zz.type="LOCAL";const Lz=zz;class Vz extends Dz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vz.type="SESSION";const Bz=Vz;function R$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await R$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ev.receivers=[];function wS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class j${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=wS("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function $a(){return window}function M$(t){$a().location.href=t}function Uz(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function D$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z$(){return navigator?.serviceWorker?.controller||null}function L$(){return Uz()?self:null}const Fz="firebaseLocalStorageDb",V$=1,D0="firebaseLocalStorage",qz="fbase_key";class Im{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tv(t,e){return t.transaction([D0],e?"readwrite":"readonly").objectStore(D0)}function B$(){const t=indexedDB.deleteDatabase(Fz);return new Im(t).toPromise()}function T_(){const t=indexedDB.open(Fz,V$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(D0,{keyPath:qz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(D0)?e(r):(r.close(),await B$(),e(await T_()))})})}async function WC(t,e,n){const r=tv(t,!0).put({[qz]:e,value:n});return new Im(r).toPromise()}async function U$(t,e){const n=tv(t,!1).get(e),r=await new Im(n).toPromise();return r===void 0?null:r.value}function XC(t,e){const n=tv(t,!0).delete(e);return new Im(n).toPromise()}const F$=800,q$=3;class $z{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ev._getInstance(L$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D$(),!this.activeServiceWorker)return;this.sender=new j$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T_();return await WC(e,M0,"1"),await XC(e,M0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tv(i,!1).getAll();return new Im(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$z.type="LOCAL";const $$=$z;new Am(3e4,6e4);function Hz(t,e){return e?Ns(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _S extends jz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H$(t){return T$(t.auth,new _S(t),t.bypassAuthState)}function G$(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),S$(n,new _S(t),t.bypassAuthState)}async function K$(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),E$(n,new _S(t),t.bypassAuthState)}class Gz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H$;case"linkViaPopup":case"linkViaRedirect":return K$;case"reauthViaPopup":case"reauthViaRedirect":return G$;default:Qa(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y$=new Am(2e3,1e4);async function W$(t,e,n){if(ra(t.app))return Promise.reject(la(t,"operation-not-supported-in-this-environment"));const r=Jy(t);qq(t,e,xS);const i=Hz(r,n);return new sc(r,"signInViaPopup",e,i).executeNotNull()}class sc extends Gz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=wS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y$.get())};e()}}sc.currentPopupAction=null;const X$="pendingRedirect",u0=new Map;class Q$ extends Gz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=u0.get(this.auth._key());if(!e){try{const r=await Z$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}u0.set(this.auth._key(),e)}return this.bypassAuthState||u0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z$(t,e){const n=tH(e),r=eH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J$(t,e){u0.set(t._key(),e)}function eH(t){return Ns(t._redirectPersistence)}function tH(t){return c0(X$,t.config.apiKey,t.name)}async function nH(t,e,n=!1){if(ra(t.app))return Promise.reject(dc(t));const r=Jy(t),i=Hz(r,e),l=await new Q$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const rH=600*1e3;class iH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Kz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(la(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(QC(e))}saveEventToCache(e){this.cachedEventUids.add(QC(e)),this.lastProcessedEventTime=Date.now()}}function QC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kz(t);default:return!1}}async function sH(t,e={}){return Fd(t,"GET","/v1/projects",e)}const oH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lH=/^https?/;async function cH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sH(t);for(const n of e)try{if(uH(n))return}catch{}Qa(t,"unauthorized-domain")}function uH(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lH.test(n))return!1;if(oH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dH=new Am(3e4,6e4);function ZC(){const t=$a().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fH(t){return new Promise((e,n)=>{function r(){ZC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZC(),n(la(t,"network-request-failed"))},timeout:dH.get()})}if($a().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($a().gapi?.load)r();else{const i=g$("iframefcb");return $a()[i]=()=>{gapi.load?r():n(la(t,"network-request-failed"))},m$(`${p$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw d0=null,e})}let d0=null;function hH(t){return d0=d0||fH(t),d0}const mH=new Am(5e3,15e3),pH="__/auth/iframe",gH="emulator/auth/iframe",yH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bH(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pS(e,gH):`https://${t.config.authDomain}/${pH}`,r={apiKey:e.apiKey,appName:t.name,v:Ud},i=vH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tm(r).slice(1)}`}async function xH(t){const e=await hH(t),n=$a().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:bH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=la(t,"network-request-failed"),c=$a().setTimeout(()=>{s(l)},mH.get());function d(){$a().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const wH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_H=500,EH=600,SH="_blank",TH="http://localhost";class JC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AH(t,e,n,r=_H,i=EH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...wH,width:r.toString(),height:i.toString(),top:s,left:l},f=Cn().toLowerCase();n&&(c=Az(f)?SH:n),Sz(f)&&(e=e||TH,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[w,_])=>`${b}${w}=${_},`,"");if(s$(f)&&c!=="_self")return kH(e||"",c),new JC(null);const p=window.open(e||"",c,m);Ye(p,t,"popup-blocked");try{p.focus()}catch{}return new JC(p)}function kH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const IH="__/auth/handler",CH="emulator/auth/handler",NH=encodeURIComponent("fac");async function eN(t,e,n,r,i,s){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ud,eventId:i};if(e instanceof xS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",IF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof km){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${NH}=${encodeURIComponent(d)}`:"";return`${OH(t)}?${Tm(c).slice(1)}${f}`}function OH({config:t}){return t.emulator?pS(t,CH):`https://${t.authDomain}/${IH}`}const x1="webStorageSupport";class PH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bz,this._completeRedirectFn=nH,this._overrideRedirectResult=J$}async _openPopup(e,n,r,i){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await eN(e,n,r,E_(),i);return AH(e,s,wS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await eN(e,n,r,E_(),i);return M$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xH(e),r=new iH(e);return n.register("authEvent",i=>(Ye(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x1,{type:x1},i=>{const s=i?.[0]?.[x1];s!==void 0&&n(!!s),Qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Oz()||Tz()||vS()}}const RH=PH;var tN="@firebase/auth",nN="1.12.0";class jH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DH(t){sd(new _c("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pz(t)},f=new f$(r,i,s,d);return v$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sd(new _c("auth-internal",e=>{const n=Jy(e.getProvider("auth").getImmediate());return(r=>new jH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jo(tN,nN,MH(t)),Jo(tN,nN,"esm2020")}const zH=300,LH=sz("authIdTokenMaxAge")||zH;let rN=null;const VH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LH)return;const i=n?.token;rN!==i&&(rN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BH(t=Nq()){const e=fS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y$(t,{popupRedirectResolver:RH,persistence:[$$,Lz,Bz]}),r=sz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=VH(s.toString());I$(n,l,()=>l(n.currentUser)),k$(n,c=>l(c))}}const i=mF("auth");return i&&b$(n,`http://${i}`),n}function UH(){return document.getElementsByTagName("head")?.[0]??document}h$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DH("Browser");var FH="firebase",qH="12.7.0";Jo(FH,qH,"app");var iN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var el,Yz;(function(){var t;function e(P,C){function z(){}z.prototype=C.prototype,P.F=C.prototype,P.prototype=new z,P.prototype.constructor=P,P.D=function(F,L,q){for(var U=Array(arguments.length-2),be=2;be<arguments.length;be++)U[be-2]=arguments[be];return C.prototype[L].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,z){z||(z=0);const F=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)F[L]=C.charCodeAt(z++)|C.charCodeAt(z++)<<8|C.charCodeAt(z++)<<16|C.charCodeAt(z++)<<24;else for(L=0;L<16;++L)F[L]=C[z++]|C[z++]<<8|C[z++]<<16|C[z++]<<24;C=P.g[0],z=P.g[1],L=P.g[2];let q=P.g[3],U;U=C+(q^z&(L^q))+F[0]+3614090360&4294967295,C=z+(U<<7&4294967295|U>>>25),U=q+(L^C&(z^L))+F[1]+3905402710&4294967295,q=C+(U<<12&4294967295|U>>>20),U=L+(z^q&(C^z))+F[2]+606105819&4294967295,L=q+(U<<17&4294967295|U>>>15),U=z+(C^L&(q^C))+F[3]+3250441966&4294967295,z=L+(U<<22&4294967295|U>>>10),U=C+(q^z&(L^q))+F[4]+4118548399&4294967295,C=z+(U<<7&4294967295|U>>>25),U=q+(L^C&(z^L))+F[5]+1200080426&4294967295,q=C+(U<<12&4294967295|U>>>20),U=L+(z^q&(C^z))+F[6]+2821735955&4294967295,L=q+(U<<17&4294967295|U>>>15),U=z+(C^L&(q^C))+F[7]+4249261313&4294967295,z=L+(U<<22&4294967295|U>>>10),U=C+(q^z&(L^q))+F[8]+1770035416&4294967295,C=z+(U<<7&4294967295|U>>>25),U=q+(L^C&(z^L))+F[9]+2336552879&4294967295,q=C+(U<<12&4294967295|U>>>20),U=L+(z^q&(C^z))+F[10]+4294925233&4294967295,L=q+(U<<17&4294967295|U>>>15),U=z+(C^L&(q^C))+F[11]+2304563134&4294967295,z=L+(U<<22&4294967295|U>>>10),U=C+(q^z&(L^q))+F[12]+1804603682&4294967295,C=z+(U<<7&4294967295|U>>>25),U=q+(L^C&(z^L))+F[13]+4254626195&4294967295,q=C+(U<<12&4294967295|U>>>20),U=L+(z^q&(C^z))+F[14]+2792965006&4294967295,L=q+(U<<17&4294967295|U>>>15),U=z+(C^L&(q^C))+F[15]+1236535329&4294967295,z=L+(U<<22&4294967295|U>>>10),U=C+(L^q&(z^L))+F[1]+4129170786&4294967295,C=z+(U<<5&4294967295|U>>>27),U=q+(z^L&(C^z))+F[6]+3225465664&4294967295,q=C+(U<<9&4294967295|U>>>23),U=L+(C^z&(q^C))+F[11]+643717713&4294967295,L=q+(U<<14&4294967295|U>>>18),U=z+(q^C&(L^q))+F[0]+3921069994&4294967295,z=L+(U<<20&4294967295|U>>>12),U=C+(L^q&(z^L))+F[5]+3593408605&4294967295,C=z+(U<<5&4294967295|U>>>27),U=q+(z^L&(C^z))+F[10]+38016083&4294967295,q=C+(U<<9&4294967295|U>>>23),U=L+(C^z&(q^C))+F[15]+3634488961&4294967295,L=q+(U<<14&4294967295|U>>>18),U=z+(q^C&(L^q))+F[4]+3889429448&4294967295,z=L+(U<<20&4294967295|U>>>12),U=C+(L^q&(z^L))+F[9]+568446438&4294967295,C=z+(U<<5&4294967295|U>>>27),U=q+(z^L&(C^z))+F[14]+3275163606&4294967295,q=C+(U<<9&4294967295|U>>>23),U=L+(C^z&(q^C))+F[3]+4107603335&4294967295,L=q+(U<<14&4294967295|U>>>18),U=z+(q^C&(L^q))+F[8]+1163531501&4294967295,z=L+(U<<20&4294967295|U>>>12),U=C+(L^q&(z^L))+F[13]+2850285829&4294967295,C=z+(U<<5&4294967295|U>>>27),U=q+(z^L&(C^z))+F[2]+4243563512&4294967295,q=C+(U<<9&4294967295|U>>>23),U=L+(C^z&(q^C))+F[7]+1735328473&4294967295,L=q+(U<<14&4294967295|U>>>18),U=z+(q^C&(L^q))+F[12]+2368359562&4294967295,z=L+(U<<20&4294967295|U>>>12),U=C+(z^L^q)+F[5]+4294588738&4294967295,C=z+(U<<4&4294967295|U>>>28),U=q+(C^z^L)+F[8]+2272392833&4294967295,q=C+(U<<11&4294967295|U>>>21),U=L+(q^C^z)+F[11]+1839030562&4294967295,L=q+(U<<16&4294967295|U>>>16),U=z+(L^q^C)+F[14]+4259657740&4294967295,z=L+(U<<23&4294967295|U>>>9),U=C+(z^L^q)+F[1]+2763975236&4294967295,C=z+(U<<4&4294967295|U>>>28),U=q+(C^z^L)+F[4]+1272893353&4294967295,q=C+(U<<11&4294967295|U>>>21),U=L+(q^C^z)+F[7]+4139469664&4294967295,L=q+(U<<16&4294967295|U>>>16),U=z+(L^q^C)+F[10]+3200236656&4294967295,z=L+(U<<23&4294967295|U>>>9),U=C+(z^L^q)+F[13]+681279174&4294967295,C=z+(U<<4&4294967295|U>>>28),U=q+(C^z^L)+F[0]+3936430074&4294967295,q=C+(U<<11&4294967295|U>>>21),U=L+(q^C^z)+F[3]+3572445317&4294967295,L=q+(U<<16&4294967295|U>>>16),U=z+(L^q^C)+F[6]+76029189&4294967295,z=L+(U<<23&4294967295|U>>>9),U=C+(z^L^q)+F[9]+3654602809&4294967295,C=z+(U<<4&4294967295|U>>>28),U=q+(C^z^L)+F[12]+3873151461&4294967295,q=C+(U<<11&4294967295|U>>>21),U=L+(q^C^z)+F[15]+530742520&4294967295,L=q+(U<<16&4294967295|U>>>16),U=z+(L^q^C)+F[2]+3299628645&4294967295,z=L+(U<<23&4294967295|U>>>9),U=C+(L^(z|~q))+F[0]+4096336452&4294967295,C=z+(U<<6&4294967295|U>>>26),U=q+(z^(C|~L))+F[7]+1126891415&4294967295,q=C+(U<<10&4294967295|U>>>22),U=L+(C^(q|~z))+F[14]+2878612391&4294967295,L=q+(U<<15&4294967295|U>>>17),U=z+(q^(L|~C))+F[5]+4237533241&4294967295,z=L+(U<<21&4294967295|U>>>11),U=C+(L^(z|~q))+F[12]+1700485571&4294967295,C=z+(U<<6&4294967295|U>>>26),U=q+(z^(C|~L))+F[3]+2399980690&4294967295,q=C+(U<<10&4294967295|U>>>22),U=L+(C^(q|~z))+F[10]+4293915773&4294967295,L=q+(U<<15&4294967295|U>>>17),U=z+(q^(L|~C))+F[1]+2240044497&4294967295,z=L+(U<<21&4294967295|U>>>11),U=C+(L^(z|~q))+F[8]+1873313359&4294967295,C=z+(U<<6&4294967295|U>>>26),U=q+(z^(C|~L))+F[15]+4264355552&4294967295,q=C+(U<<10&4294967295|U>>>22),U=L+(C^(q|~z))+F[6]+2734768916&4294967295,L=q+(U<<15&4294967295|U>>>17),U=z+(q^(L|~C))+F[13]+1309151649&4294967295,z=L+(U<<21&4294967295|U>>>11),U=C+(L^(z|~q))+F[4]+4149444226&4294967295,C=z+(U<<6&4294967295|U>>>26),U=q+(z^(C|~L))+F[11]+3174756917&4294967295,q=C+(U<<10&4294967295|U>>>22),U=L+(C^(q|~z))+F[2]+718787259&4294967295,L=q+(U<<15&4294967295|U>>>17),U=z+(q^(L|~C))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+q&4294967295}r.prototype.v=function(P,C){C===void 0&&(C=P.length);const z=C-this.blockSize,F=this.C;let L=this.h,q=0;for(;q<C;){if(L==0)for(;q<=z;)i(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<C;)if(F[L++]=P.charCodeAt(q++),L==this.blockSize){i(this,F),L=0;break}}else for(;q<C;)if(F[L++]=P[q++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;C=this.o*8;for(var z=P.length-8;z<P.length;++z)P[z]=C&255,C/=256;for(this.v(P),P=Array(16),C=0,z=0;z<4;++z)for(let F=0;F<32;F+=8)P[C++]=this.g[z]>>>F&255;return P};function s(P,C){var z=c;return Object.prototype.hasOwnProperty.call(z,P)?z[P]:z[P]=C(P)}function l(P,C){this.h=C;const z=[];let F=!0;for(let L=P.length-1;L>=0;L--){const q=P[L]|0;F&&q==C||(z[L]=q,F=!1)}this.g=z}var c={};function d(P){return-128<=P&&P<128?s(P,function(C){return new l([C|0],C<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(f(-P));const C=[];let z=1;for(let F=0;P>=z;F++)C[F]=P/z|0,z*=4294967296;return new l(C,0)}function m(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return S(m(P.substring(1),C));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=f(Math.pow(C,8));let F=p;for(let q=0;q<P.length;q+=8){var L=Math.min(8,P.length-q);const U=parseInt(P.substring(q,q+L),C);L<8?(L=f(Math.pow(C,L)),F=F.j(L).add(f(U))):(F=F.j(z),F=F.add(f(U)))}return F}var p=d(0),b=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let P=0,C=1;for(let z=0;z<this.g.length;z++){const F=this.i(z);P+=(F>=0?F:4294967296+F)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(E(this))return"-"+S(this).toString(P);const C=f(Math.pow(P,6));var z=this;let F="";for(;;){const L=D(z,C).g;z=I(z,L.j(C));let q=((z.g.length>0?z.g[0]:z.h)>>>0).toString(P);if(z=L,_(z))return q+F;for(;q.length<6;)q="0"+q;F=q+F}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(let C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=I(this,P),E(P)?-1:_(P)?0:1};function S(P){const C=P.g.length,z=[];for(let F=0;F<C;F++)z[F]=~P.g[F];return new l(z,~P.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(P){const C=Math.max(this.g.length,P.g.length),z=[];let F=0;for(let L=0;L<=C;L++){let q=F+(this.i(L)&65535)+(P.i(L)&65535),U=(q>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);F=U>>>16,q&=65535,U&=65535,z[L]=U<<16|q}return new l(z,z[z.length-1]&-2147483648?-1:0)};function I(P,C){return P.add(S(C))}t.j=function(P){if(_(this)||_(P))return p;if(E(this))return E(P)?S(this).j(S(P)):S(S(this).j(P));if(E(P))return S(this.j(S(P)));if(this.l(w)<0&&P.l(w)<0)return f(this.m()*P.m());const C=this.g.length+P.g.length,z=[];for(var F=0;F<2*C;F++)z[F]=0;for(F=0;F<this.g.length;F++)for(let L=0;L<P.g.length;L++){const q=this.i(F)>>>16,U=this.i(F)&65535,be=P.i(L)>>>16,Ie=P.i(L)&65535;z[2*F+2*L]+=U*Ie,j(z,2*F+2*L),z[2*F+2*L+1]+=q*Ie,j(z,2*F+2*L+1),z[2*F+2*L+1]+=U*be,j(z,2*F+2*L+1),z[2*F+2*L+2]+=q*be,j(z,2*F+2*L+2)}for(P=0;P<C;P++)z[P]=z[2*P+1]<<16|z[2*P];for(P=C;P<2*C;P++)z[P]=0;return new l(z,0)};function j(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function O(P,C){this.g=P,this.h=C}function D(P,C){if(_(C))throw Error("division by zero");if(_(P))return new O(p,p);if(E(P))return C=D(S(P),C),new O(S(C.g),S(C.h));if(E(C))return C=D(P,S(C)),new O(S(C.g),C.h);if(P.g.length>30){if(E(P)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var z=b,F=C;F.l(P)<=0;)z=R(z),F=R(F);var L=V(z,1),q=V(F,1);for(F=V(F,2),z=V(z,2);!_(F);){var U=q.add(F);U.l(P)<=0&&(L=L.add(z),q=U),F=V(F,1),z=V(z,1)}return C=I(P,L.j(C)),new O(L,C)}for(L=p;P.l(C)>=0;){for(z=Math.max(1,Math.floor(P.m()/C.m())),F=Math.ceil(Math.log(z)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),q=f(z),U=q.j(C);E(U)||U.l(P)>0;)z-=F,q=f(z),U=q.j(C);_(q)&&(q=b),L=L.add(q),P=I(P,U)}return new O(L,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const C=Math.max(this.g.length,P.g.length),z=[];for(let F=0;F<C;F++)z[F]=this.i(F)&P.i(F);return new l(z,this.h&P.h)},t.or=function(P){const C=Math.max(this.g.length,P.g.length),z=[];for(let F=0;F<C;F++)z[F]=this.i(F)|P.i(F);return new l(z,this.h|P.h)},t.xor=function(P){const C=Math.max(this.g.length,P.g.length),z=[];for(let F=0;F<C;F++)z[F]=this.i(F)^P.i(F);return new l(z,this.h^P.h)};function R(P){const C=P.g.length+1,z=[];for(let F=0;F<C;F++)z[F]=P.i(F)<<1|P.i(F-1)>>>31;return new l(z,P.h)}function V(P,C){const z=C>>5;C%=32;const F=P.g.length-z,L=[];for(let q=0;q<F;q++)L[q]=C>0?P.i(q+z)>>>C|P.i(q+z+1)<<32-C:P.i(q+z);return new l(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Yz=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,el=l}).apply(typeof iN<"u"?iN:typeof self<"u"?self:typeof window<"u"?window:{});var Og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wz,wh,Xz,f0,A_,Qz,Zz,Jz;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Og=="object"&&Og];for(var A=0;A<y.length;++A){var N=y[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var N=r;y=y.split(".");for(var B=0;B<y.length-1;B++){var Q=y[B];if(!(Q in N))break e;N=N[Q]}y=y[y.length-1],B=N[y],A=A(B),A!=B&&A!=null&&e(N,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var N=[],B;for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&N.push([B,A[B]]);return N}});var s=s||{},l=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,N){return y.call.apply(y.bind,arguments)}function f(y,A,N){return f=d,f.apply(null,arguments)}function m(y,A){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),y.apply(this,B)}}function p(y,A){function N(){}N.prototype=A.prototype,y.Z=A.prototype,y.prototype=new N,y.prototype.constructor=y,y.Ob=function(B,Q,ie){for(var _e=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)_e[Ze-2]=arguments[Ze];return A.prototype[Q].apply(B,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const A=y.length;if(A>0){const N=Array(A);for(let B=0;B<A;B++)N[B]=y[B];return N}return[]}function _(y,A){for(let B=1;B<arguments.length;B++){const Q=arguments[B];var N=typeof Q;if(N=N!="object"?N:Q?Array.isArray(Q)?"array":N:"null",N=="array"||N=="object"&&typeof Q.length=="number"){N=y.length||0;const ie=Q.length||0;y.length=N+ie;for(let _e=0;_e<ie;_e++)y[N+_e]=Q[_e]}else y.push(Q)}}class E{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(y){l.setTimeout(()=>{throw y},0)}function I(){var y=P;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,N){const B=O.get();B.set(A,N),this.h?this.h.next=B:this.g=B,this.h=B}}var O=new E(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let R,V=!1,P=new j,C=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(z)}};function z(){for(var y;y=I();){try{y.h.call(y.g)}catch(N){S(N)}var A=O;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}V=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};l.addEventListener("test",N,A),l.removeEventListener("test",N,A)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function be(y,A){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}p(be,L),be.prototype.init=function(y,A){const N=this.type=y.type,B=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(N=="mouseover"?A=y.fromElement:N=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(y,A,N,B,Q){this.listener=y,this.proxy=null,this.src=A,this.type=N,this.capture=!!B,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function G(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,A,N){for(const B in y)A.call(N,y[B],B,y)}function Ae(y,A){for(const N in y)A.call(void 0,y[N],N,y)}function $(y){const A={};for(const N in y)A[N]=y[N];return A}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(y,A){let N,B;for(let Q=1;Q<arguments.length;Q++){B=arguments[Q];for(N in B)y[N]=B[N];for(let ie=0;ie<ae.length;ie++)N=ae[ie],Object.prototype.hasOwnProperty.call(B,N)&&(y[N]=B[N])}}function de(y){this.src=y,this.g={},this.h=0}de.prototype.add=function(y,A,N,B,Q){const ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);const _e=J(y,A,B,Q);return _e>-1?(A=y[_e],N||(A.fa=!1)):(A=new re(A,this.src,ie,!!B,Q),A.fa=N,y.push(A)),A};function xe(y,A){const N=A.type;if(N in y.g){var B=y.g[N],Q=Array.prototype.indexOf.call(B,A,void 0),ie;(ie=Q>=0)&&Array.prototype.splice.call(B,Q,1),ie&&(G(A),y.g[N].length==0&&(delete y.g[N],y.h--))}}function J(y,A,N,B){for(let Q=0;Q<y.length;++Q){const ie=y[Q];if(!ie.da&&ie.listener==A&&ie.capture==!!N&&ie.ha==B)return Q}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(y,A,N,B,Q){if(Array.isArray(A)){for(let ie=0;ie<A.length;ie++)se(y,A[ie],N,B,Q);return null}return N=Fe(N),y&&y[Ie]?y.J(A,N,c(B)?!!B.capture:!1,Q):Re(y,A,N,!1,B,Q)}function Re(y,A,N,B,Q,ie){if(!A)throw Error("Invalid event type");const _e=c(Q)?!!Q.capture:!!Q;let Ze=vt(y);if(Ze||(y[fe]=Ze=new de(y)),N=Ze.add(A,N,B,_e,ie),N.proxy)return N;if(B=Ue(),N.proxy=B,B.src=y,B.listener=N,y.addEventListener)q||(Q=_e),Q===void 0&&(Q=!1),y.addEventListener(A.toString(),B,Q);else if(y.attachEvent)y.attachEvent(Ke(A.toString()),B);else if(y.addListener&&y.removeListener)y.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ue(){function y(N){return A.call(y.src,y.listener,N)}const A=kt;return y}function me(y,A,N,B,Q){if(Array.isArray(A))for(var ie=0;ie<A.length;ie++)me(y,A[ie],N,B,Q);else B=c(B)?!!B.capture:!!B,N=Fe(N),y&&y[Ie]?(y=y.i,ie=String(A).toString(),ie in y.g&&(A=y.g[ie],N=J(A,N,B,Q),N>-1&&(G(A[N]),Array.prototype.splice.call(A,N,1),A.length==0&&(delete y.g[ie],y.h--)))):y&&(y=vt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=J(A,N,B,Q)),(N=y>-1?A[y]:null)&&gt(N))}function gt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Ie])xe(A.i,y);else{var N=y.type,B=y.proxy;A.removeEventListener?A.removeEventListener(N,B,y.capture):A.detachEvent?A.detachEvent(Ke(N),B):A.addListener&&A.removeListener&&A.removeListener(B),(N=vt(A))?(xe(N,y),N.h==0&&(N.src=null,A[fe]=null)):G(y)}}}function Ke(y){return y in Ce?Ce[y]:Ce[y]="on"+y}function kt(y,A){if(y.da)y=!0;else{A=new be(A,this);const N=y.listener,B=y.ha||y.src;y.fa&&gt(y),y=N.call(B,A)}return y}function vt(y){return y=y[fe],y instanceof de?y:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(y){return typeof y=="function"?y:(y[qt]||(y[qt]=function(A){return y.handleEvent(A)}),y[qt])}function ce(){F.call(this),this.i=new de(this),this.M=this,this.G=null}p(ce,F),ce.prototype[Ie]=!0,ce.prototype.removeEventListener=function(y,A,N,B){me(this,y,A,N,B)};function Qe(y,A){var N,B=y.G;if(B)for(N=[];B;B=B.G)N.push(B);if(y=y.M,B=A.type||A,typeof A=="string")A=new L(A,y);else if(A instanceof L)A.target=A.target||y;else{var Q=A;A=new L(B,y),te(A,Q)}Q=!0;let ie,_e;if(N)for(_e=N.length-1;_e>=0;_e--)ie=A.g=N[_e],Q=Mn(ie,B,!0,A)&&Q;if(ie=A.g=y,Q=Mn(ie,B,!0,A)&&Q,Q=Mn(ie,B,!1,A)&&Q,N)for(_e=0;_e<N.length;_e++)ie=A.g=N[_e],Q=Mn(ie,B,!1,A)&&Q}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const N=y.g[A];for(let B=0;B<N.length;B++)G(N[B]);delete y.g[A],y.h--}}this.G=null},ce.prototype.J=function(y,A,N,B){return this.i.add(String(y),A,!1,N,B)},ce.prototype.K=function(y,A,N,B){return this.i.add(String(y),A,!0,N,B)};function Mn(y,A,N,B){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let Q=!0;for(let ie=0;ie<A.length;++ie){const _e=A[ie];if(_e&&!_e.da&&_e.capture==N){const Ze=_e.listener,sn=_e.ha||_e.src;_e.fa&&xe(y.i,_e),Q=Ze.call(sn,B)!==!1&&Q}}return Q&&!B.defaultPrevented}function Dn(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(y,A||0)}function Fi(y){y.g=Dn(()=>{y.g=null,y.i&&(y.i=!1,Fi(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Wn extends F{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(y){F.call(this),this.h=y,this.g={}}p(rs,F);var pa=[];function xl(y){ye(y.g,function(A,N){this.g.hasOwnProperty(N)&&gt(A)},y),y.g={}}rs.prototype.N=function(){rs.Z.N.call(this),xl(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=l.JSON.stringify,wl=l.JSON.parse,$i=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function _l(){}function Hi(){}var qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){L.call(this,"d")}p(Tn,L);function br(){L.call(this,"c")}p(br,L);var $t={},Gc=null;function ga(){return Gc=Gc||new ce}$t.Ia="serverreachability";function $r(y){L.call(this,$t.Ia,y)}p($r,L);function gi(y){const A=ga();Qe(A,new $r(A))}$t.STAT_EVENT="statevent";function is(y,A){L.call(this,$t.STAT_EVENT,y),this.stat=A}p(is,L);function Qt(y){const A=ga();Qe(A,new is(A,y))}$t.Ja="timingevent";function Hr(y,A){L.call(this,$t.Ja,y),this.size=A}p(Hr,L);function $e(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},A)}function yt(){this.g=!0}yt.prototype.ua=function(){this.g=!1};function hn(y,A,N,B,Q,ie){y.info(function(){if(y.g)if(ie){var _e="",Ze=ie.split("&");for(let mt=0;mt<Ze.length;mt++){var sn=Ze[mt].split("=");if(sn.length>1){const Ht=sn[0];sn=sn[1];const wi=Ht.split("_");_e=wi.length>=2&&wi[1]=="type"?_e+(Ht+"="+sn+"&"):_e+(Ht+"=redacted&")}}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+B+") [attempt "+Q+"]: "+A+`
`+N+`
`+_e})}function zn(y,A,N,B,Q,ie,_e){y.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Q+"]: "+A+`
`+N+`
`+ie+" "+_e})}function xr(y,A,N,B){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+dr(y,N)+(B?" "+B:"")})}function Vt(y,A){y.info(function(){return"TIMEOUT: "+A})}yt.prototype.info=function(){};function dr(y,A){if(!y.g)return A;if(!A)return null;try{const ie=JSON.parse(A);if(ie){for(y=0;y<ie.length;y++)if(Array.isArray(ie[y])){var N=ie[y];if(!(N.length<2)){var B=N[1];if(Array.isArray(B)&&!(B.length<1)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let _e=1;_e<B.length;_e++)B[_e]=""}}}}return qi(ie)}catch{return A}}var yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qn;function ya(){}p(ya,_l),ya.prototype.g=function(){return new XMLHttpRequest},Qn=new ya;function Zn(y){return encodeURIComponent(String(y))}function sf(y){var A=1;y=y.split(":");const N=[];for(;A>0&&y.length;)N.push(y.shift()),A--;return y.length&&N.push(y.join(":")),N}function Gi(y,A,N,B){this.j=y,this.i=A,this.l=N,this.S=B||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var mn={},Ln={};function va(y,A,N){y.M=1,y.A=El(gn(A)),y.u=N,y.R=!0,Kc(y,null)}function Kc(y,A){y.F=Date.now(),ba(y),y.B=gn(y.A);var N=y.B,B=y.S;Array.isArray(B)||(B=[String(B)]),Qc(N.i,"t",B),y.C=0,N=y.j.L,y.h=new Ki,y.g=_p(y.j,N?A:null,!y.u),y.P>0&&(y.O=new Wn(f(y.Y,y,y.g),y.P)),A=y.V,N=y.g,B=y.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(pa[0]=Q.toString()),Q=pa);for(let ie=0;ie<Q.length;ie++){const _e=se(N,Q[ie],B||A.handleEvent,!1,A.h||A);if(!_e)break;A.g[_e.key]=_e}A=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),gi(),hn(y.i,y.v,y.B,y.l,y.S,y.u)}Gi.prototype.ba=function(y){y=y.target;const A=this.O;A&&Xi(y)==3?A.j():this.Y(y)},Gi.prototype.Y=function(y){try{if(y==this.g)e:{const Ze=Xi(this.g),sn=this.g.ya(),mt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||Ze!=4||sn==7||(sn==8||mt<=0?gi(3):gi(2)),xa(this);var A=this.g.ca();this.X=A;var N=db(this);if(this.o=A==200,zn(this.i,this.v,this.B,this.l,this.S,Ze,A),this.o){if(this.U&&!this.L){t:{if(this.g){var B,Q=this.g;if((B=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var ie=B;break t}}ie=null}if(y=ie)xr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,y);else{this.o=!1,this.m=3,Qt(12),Gr(this),vi(this);break e}}if(this.R){y=!0;let Ht;for(;!this.K&&this.C<N.length;)if(Ht=cp(this,N),Ht==Ln){Ze==4&&(this.m=4,Qt(14),y=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==mn){this.m=4,Qt(15),xr(this.i,this.l,N,"[Invalid Chunk]"),y=!1;break}else xr(this.i,this.l,Ht,null),wa(this,Ht);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||N.length!=0||this.h.h||(this.m=1,Qt(16),y=!1),this.o=this.o&&y,!y)xr(this.i,this.l,N,"[Invalid Chunked Response]"),Gr(this),vi(this);else if(N.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),wf(_e),_e.P=!0,Qt(11))}}else xr(this.i,this.l,N,null),wa(this,N);Ze==4&&Gr(this),this.o&&!this.K&&(Ze==4?vp(this.j,this):(this.o=!1,ba(this)))}else ss(this.g),A==400&&N.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Gr(this),vi(this)}}}catch{}};function db(y){if(!lp(y))return y.g.la();const A=Jn(y.g);if(A==="")return"";let N="";const B=A.length,Q=Xi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Gr(y),vi(y),"";y.h.i=new l.TextDecoder}for(let ie=0;ie<B;ie++)y.h.h=!0,N+=y.h.i.decode(A[ie],{stream:!(Q&&ie==B-1)});return A.length=0,y.h.g+=N,y.C=0,y.h.g}function lp(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function cp(y,A){var N=y.C,B=A.indexOf(`
`,N);return B==-1?Ln:(N=Number(A.substring(N,B)),isNaN(N)?mn:(B+=1,B+N>A.length?Ln:(A=A.slice(B,B+N),y.C=B+N,A)))}Gi.prototype.cancel=function(){this.K=!0,Gr(this)};function ba(y){y.T=Date.now()+y.H,Yc(y,y.H)}function Yc(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=$e(f(y.aa,y),A)}function xa(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Gi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Vt(this.i,this.B),this.M!=2&&(gi(),Qt(17)),Gr(this),this.m=2,vi(this)):Yc(this,this.T-y)};function vi(y){y.j.I==0||y.K||vp(y.j,y)}function Gr(y){xa(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,xl(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function wa(y,A){try{var N=y.j;if(N.I!=0&&(N.g==y||Ea(N.h,y))){if(!y.L&&Ea(N.h,y)&&N.I==3){try{var B=N.Ba.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Q=B;if(Q[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<y.F)nu(N),fo(N);else break e;Nl(N),Qt(18)}}else N.xa=Q[1],0<N.xa-N.K&&Q[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=$e(f(N.Va,N),6e3));_a(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ca(N,11)}else if((y.L||N.g==y)&&nu(N),!U(A))for(Q=N.Ba.g.parse(A),A=0;A<Q.length;A++){let mt=Q[A];const Ht=mt[0];if(!(Ht<=N.K))if(N.K=Ht,mt=mt[1],N.I==2)if(mt[0]=="c"){N.M=mt[1],N.ba=mt[2];const wi=mt[3];wi!=null&&(N.ka=wi,N.j.info("VER="+N.ka));const Na=mt[4];Na!=null&&(N.za=Na,N.j.info("SVER="+N.za));const Qi=mt[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(B=1.5*Qi,N.O=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const Zi=y.g;if(Zi){const Ol=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var ie=B.h;ie.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(cf(ie,ie.h),ie.h=null))}if(B.G){const ru=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(B.wa=ru,bt(B.J,B.G,ru))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-y.F,N.j.info("Handshake RTT: "+N.T+"ms")),B=N;var _e=y;if(B.na=wp(B,B.L?B.ba:null,B.W),_e.L){uf(B.h,_e);var Ze=_e,sn=B.O;sn&&(Ze.H=sn),Ze.D&&(xa(Ze),ba(Ze)),B.g=_e}else gp(B);N.i.length>0&&Ia(N)}else mt[0]!="stop"&&mt[0]!="close"||Ca(N,7);else N.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Ca(N,7):bf(N):mt[0]!="noop"&&N.l&&N.l.qa(mt),N.A=0)}}gi(4)}catch{}}var pn=class{constructor(y,A){this.g=y,this.map=A}};function of(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function _a(y){return y.h?1:y.g?y.g.size:0}function Ea(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function cf(y,A){y.g?y.g.add(A):y.h=A}function uf(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}of.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function df(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const N of y.g.values())A=A.concat(N.G);return A}return w(y.i)}var up=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(y,A){if(y){y=y.split("&");for(let N=0;N<y.length;N++){const B=y[N].indexOf("=");let Q,ie=null;B>=0?(Q=y[N].substring(0,B),ie=y[N].substring(B+1)):Q=y[N],A(Q,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Kr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Kr?(this.l=y.l,Vn(this,y.j),this.o=y.o,this.g=y.g,io(this,y.u),this.h=y.h,ff(this,mp(y.i)),this.m=y.m):y&&(A=String(y).match(up))?(this.l=!1,Vn(this,A[1]||"",!0),this.o=Sa(A[2]||""),this.g=Sa(A[3]||"",!0),io(this,A[4]),this.h=Sa(A[5]||"",!0),ff(this,A[6]||"",!0),this.m=Sa(A[7]||"")):(this.l=!1,this.i=new so(null,this.l))}Kr.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(Sl(A,Xc,!0),":");var N=this.g;return(N||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Sl(A,Xc,!0),"@"),y.push(Zn(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&y.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(Sl(N,N.charAt(0)=="/"?hf:dp,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",Sl(N,fp)),y.join("")},Kr.prototype.resolve=function(y){const A=gn(this);let N=!!y.j;N?Vn(A,y.j):N=!!y.o,N?A.o=y.o:N=!!y.g,N?A.g=y.g:N=y.u!=null;var B=y.h;if(N)io(A,y.u);else if(N=!!y.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var Q=A.h.lastIndexOf("/");Q!=-1&&(B=A.h.slice(0,Q+1)+B)}if(Q=B,Q==".."||Q==".")B="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){B=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ie=[];for(let _e=0;_e<Q.length;){const Ze=Q[_e++];Ze=="."?B&&_e==Q.length&&ie.push(""):Ze==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),B&&_e==Q.length&&ie.push("")):(ie.push(Ze),B=!0)}B=ie.join("/")}else B=Q}return N?A.h=B:N=y.i.toString()!=="",N?ff(A,mp(y.i)):N=!!y.m,N&&(A.m=y.m),A};function gn(y){return new Kr(y)}function Vn(y,A,N){y.j=N?Sa(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function io(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function ff(y,A,N){A instanceof so?(y.i=A,Zc(y.i,y.l)):(N||(A=Sl(A,ao)),y.i=new so(A,y.l))}function bt(y,A,N){y.i.set(A,N)}function El(y){return bt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Sa(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Sl(y,A,N){return typeof y=="string"?(y=encodeURI(y).replace(A,Cr),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Cr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Xc=/[#\/\?@]/g,dp=/[#\?:]/g,hf=/[#\?]/g,ao=/[#\?@]/g,fp=/#/g;function so(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Nr(y){y.g||(y.g=new Map,y.h=0,y.i&&Wc(y.i,function(A,N){y.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=so.prototype,t.add=function(y,A){Nr(this),this.i=null,y=oo(this,y);let N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(A),this.h+=1,this};function hp(y,A){Nr(y),A=oo(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function mf(y,A){return Nr(y),A=oo(y,A),y.g.has(A)}t.forEach=function(y,A){Nr(this),this.g.forEach(function(N,B){N.forEach(function(Q){y.call(A,Q,B,this)},this)},this)};function pf(y,A){Nr(y);let N=[];if(typeof A=="string")mf(y,A)&&(N=N.concat(y.g.get(oo(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)N=N.concat(y[A]);return N}t.set=function(y,A){return Nr(this),this.i=null,y=oo(this,y),mf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=pf(this,y),y.length>0?String(y[0]):A):A};function Qc(y,A,N){hp(y,A),N.length>0&&(y.i=null,y.g.set(oo(y,A),w(N)),y.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let B=0;B<A.length;B++){var N=A[B];const Q=Zn(N);N=pf(this,N);for(let ie=0;ie<N.length;ie++){let _e=Q;N[ie]!==""&&(_e+="="+Zn(N[ie])),y.push(_e)}}return this.i=y.join("&")};function mp(y){const A=new so;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function oo(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Zc(y,A){A&&!y.j&&(Nr(y),y.i=null,y.g.forEach(function(N,B){const Q=B.toLowerCase();B!=Q&&(hp(this,B),Qc(this,Q,N))},y)),y.j=A}function Yi(y,A){const N=new yt;if(l.Image){const B=new Image;B.onload=m(bi,N,"TestLoadImage: loaded",!0,A,B),B.onerror=m(bi,N,"TestLoadImage: error",!1,A,B),B.onabort=m(bi,N,"TestLoadImage: abort",!1,A,B),B.ontimeout=m(bi,N,"TestLoadImage: timeout",!1,A,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=y}else A(!1)}function gf(y,A){const N=new yt,B=new AbortController,Q=setTimeout(()=>{B.abort(),bi(N,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:B.signal}).then(ie=>{clearTimeout(Q),ie.ok?bi(N,"TestPingServer: ok",!0,A):bi(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Q),bi(N,"TestPingServer: error",!1,A)})}function bi(y,A,N,B,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),B(N)}catch{}}function lo(){this.g=new $i}function Ta(y){this.i=y.Sb||null,this.h=y.ab||!1}p(Ta,_l),Ta.prototype.g=function(){return new Tl(this.i,this.h)};function Tl(y,A){ce.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Tl,ce),t=Tl.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,Wi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?co(this):Wi(this),this.readyState==3&&Jc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,co(this))},t.Na=function(y){this.g&&(this.response=y,co(this))},t.ga=function(){this.g&&co(this)};function co(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Wi(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=A.next();return y.join(`\r
`)};function Wi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xi(y){let A="";return ye(y,function(N,B){A+=B,A+=":",A+=N,A+=`\r
`}),A}function Al(y,A,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=xi(N),typeof y=="string"?N!=null&&Zn(N):bt(y,A,N))}function It(y){ce.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(It,ce);var Aa=/^https?$/i,yf=["POST","PUT"];t=It.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(ie){kl(this,ie);return}if(y=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Q in B)N.set(Q,B[Q]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ie of B.keys())N.set(ie,B.get(ie));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(yf,A,void 0)>=0)||B||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of N)this.g.setRequestHeader(ie,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ie){kl(this,ie)}};function kl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,vf(y),as(y)}function vf(y){y.A||(y.A=!0,Qe(y,"complete"),Qe(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Qe(this,"complete"),Qe(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(y){if(y.h&&typeof s<"u"){if(y.v&&Xi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Qe(y,"readystatechange"),Xi(y)==4){y.h=!1;try{const ie=y.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var B;if(B=ie===0){let _e=String(y.D).match(up)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),B=!Aa.test(_e?_e.toLowerCase():"")}N=B}if(N)Qe(y,"complete"),Qe(y,"success");else{y.o=6;try{var Q=Xi(y)>2?y.g.statusText:""}catch{Q=""}y.l=Q+" ["+y.ca()+"]",vf(y)}}finally{as(y)}}}}function as(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const N=y.g;y.g=null,A||Qe(y,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),wl(A)}};function Jn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(y){const A={};y=(y.g&&Xi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<y.length;B++){if(U(y[B]))continue;var N=sf(y[B]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=A[Q]||[];A[Q]=ie,ie.push(N)}Ae(A,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(y,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||A}function uo(y){this.za=0,this.i=[],this.j=new yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,y),this.Za=ka("retryDelaySeedMs",1e4,y),this.Ta=ka("forwardChannelMaxRetries",2,y),this.va=ka("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new of(y&&y.concurrentRequestLimit),this.Ba=new lo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uo.prototype,t.ka=8,t.I=1,t.connect=function(y,A,N,B){Qt(0),this.W=y,this.H=A||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.J=wp(this,null,this.W),Ia(this)};function bf(y){if(eu(y),y.I==3){var A=y.V++,N=gn(y.J);if(bt(N,"SID",y.M),bt(N,"RID",A),bt(N,"TYPE","terminate"),Cl(y,N),A=new Gi(y,y.j,A),A.M=2,A.A=El(gn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=A.A,N=!0),N||(A.g=_p(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ba(A)}xp(y)}function fo(y){y.g&&(wf(y),y.g.cancel(),y.g=null)}function eu(y){fo(y),y.v&&(l.clearTimeout(y.v),y.v=null),nu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Ia(y){if(!lf(y.h)&&!y.m){y.m=!0;var A=y.Ea;R||C(),V||(R(),V=!0),P.add(A,y),y.D=0}}function tu(y,A){return _a(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=$e(f(y.Ea,y,A),bp(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Q=new Gi(this,this.j,y);let ie=this.o;if(this.U&&(ie?(ie=$(ie),te(ie,this.U)):ie=this.U),this.u!==null||this.R||(Q.J=ie,ie=null),this.S)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,A>4096){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=pp(this,Q,A),N=gn(this.J),bt(N,"RID",y),bt(N,"CVER",22),this.G&&bt(N,"X-HTTP-Session-Id",this.G),Cl(this,N),ie&&(this.R?A="headers="+Zn(xi(ie))+"&"+A:this.u&&Al(N,this.u,ie)),cf(this.h,Q),this.Ra&&bt(N,"TYPE","init"),this.S?(bt(N,"$req",A),bt(N,"SID","null"),Q.U=!0,va(Q,N,null)):va(Q,N,A),this.I=2}}else this.I==3&&(y?xf(this,y):this.i.length==0||lf(this.h)||xf(this))};function xf(y,A){var N;A?N=A.l:N=y.V++;const B=gn(y.J);bt(B,"SID",y.M),bt(B,"RID",N),bt(B,"AID",y.K),Cl(y,B),y.u&&y.o&&Al(B,y.u,y.o),N=new Gi(y,y.j,N,y.D+1),y.u===null&&(N.J=y.o),A&&(y.i=A.G.concat(y.i)),A=pp(y,N,1e3),N.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),cf(y.h,N),va(N,B,A)}function Cl(y,A){y.H&&ye(y.H,function(N,B){bt(A,B,N)}),y.l&&ye({},function(N,B){bt(A,B,N)})}function pp(y,A,N){N=Math.min(y.i.length,N);const B=y.l?f(y.l.Ka,y.l,y):null;e:{var Q=y.i;let Ze=-1;for(;;){const sn=["count="+N];Ze==-1?N>0?(Ze=Q[0].g,sn.push("ofs="+Ze)):Ze=0:sn.push("ofs="+Ze);let mt=!0;for(let Ht=0;Ht<N;Ht++){var ie=Q[Ht].g;const wi=Q[Ht].map;if(ie-=Ze,ie<0)Ze=Math.max(0,Q[Ht].g-100),mt=!1;else try{ie="req"+ie+"_"||"";try{var _e=wi instanceof Map?wi:Object.entries(wi);for(const[Na,Qi]of _e){let Zi=Qi;c(Qi)&&(Zi=qi(Qi)),sn.push(ie+Na+"="+encodeURIComponent(Zi))}}catch(Na){throw sn.push(ie+"type="+encodeURIComponent("_badmap")),Na}}catch{B&&B(wi)}}if(mt){_e=sn.join("&");break e}}_e=void 0}return y=y.i.splice(0,N),A.G=y,_e}function gp(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;R||C(),V||(R(),V=!0),P.add(A,y),y.A=0}}function Nl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=$e(f(y.Da,y),bp(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,yp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=$e(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),fo(this),yp(this))};function wf(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function yp(y){y.g=new Gi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=gn(y.na);bt(A,"RID","rpc"),bt(A,"SID",y.M),bt(A,"AID",y.K),bt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&bt(A,"TO",y.ia),bt(A,"TYPE","xmlhttp"),Cl(y,A),y.u&&y.o&&Al(A,y.u,y.o),y.O&&(y.g.H=y.O);var N=y.g;y=y.ba,N.M=1,N.A=El(gn(A)),N.u=null,N.R=!0,Kc(N,y)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),Nl(this),Qt(19))};function nu(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function vp(y,A){var N=null;if(y.g==A){nu(y),wf(y),y.g=null;var B=2}else if(Ea(y.h,A))N=A.G,uf(y.h,A),B=1;else return;if(y.I!=0){if(A.o)if(B==1){N=A.u?A.u.length:0,A=Date.now()-A.F;var Q=y.D;B=ga(),Qe(B,new Hr(B,N)),Ia(y)}else gp(y);else if(Q=A.m,Q==3||Q==0&&A.X>0||!(B==1&&tu(y,A)||B==2&&Nl(y)))switch(N&&N.length>0&&(A=y.h,A.i=A.i.concat(N)),Q){case 1:Ca(y,5);break;case 4:Ca(y,10);break;case 3:Ca(y,6);break;default:Ca(y,2)}}}function bp(y,A){let N=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(N*=2),N*A}function Ca(y,A){if(y.j.info("Error code "+A),A==2){var N=f(y.bb,y),B=y.Ua;const Q=!B;B=new Kr(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vn(B,"https"),El(B),Q?Yi(B.toString(),N):gf(B.toString(),N)}else Qt(2);y.I=0,y.l&&y.l.pa(A),xp(y),eu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function xp(y){if(y.I=0,y.ja=[],y.l){const A=df(y.h);(A.length!=0||y.i.length!=0)&&(_(y.ja,A),_(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function wp(y,A,N){var B=N instanceof Kr?gn(N):new Kr(N);if(B.g!="")A&&(B.g=A+"."+B.g),io(B,B.u);else{var Q=l.location;B=Q.protocol,A=A?A+"."+Q.hostname:Q.hostname,Q=+Q.port;const ie=new Kr(null);B&&Vn(ie,B),A&&(ie.g=A),Q&&io(ie,Q),N&&(ie.h=N),B=ie}return N=y.G,A=y.wa,N&&A&&bt(B,N,A),bt(B,"VER",y.ka),Cl(y,B),B}function _p(y,A,N){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new It(new Ta({ab:N})):new It(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ep(){}t=Ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ho(){}ho.prototype.g=function(y,A){return new wr(y,A)};function wr(y,A){ce.call(this),this.g=new uo(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!U(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new os(this)}p(wr,ce),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){bf(this.g)},wr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.v&&(N={},N.__data__=qi(y),y=N);A.i.push(new pn(A.Ya++,y)),A.I==3&&Ia(A)},wr.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,wr.Z.N.call(this)};function Sp(y){Tn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const N in A){y=N;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}p(Sp,Tn);function Tp(){br.call(this),this.status=1}p(Tp,br);function os(y){this.g=y}p(os,Ep),os.prototype.ra=function(){Qe(this.g,"a")},os.prototype.qa=function(y){Qe(this.g,new Sp(y))},os.prototype.pa=function(y){Qe(this.g,new Tp)},os.prototype.oa=function(){Qe(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,Jz=function(){return new ho},Zz=function(){return ga()},Qz=$t,A_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,f0=yi,Xn.COMPLETE="complete",Xz=Xn,Hi.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",ce.prototype.listen=ce.prototype.J,wh=Hi,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,Wz=It}).apply(typeof Og<"u"?Og:typeof self<"u"?self:typeof window<"u"?window:{});const aN="@firebase/firestore",sN="4.9.3";let pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let qd="12.7.0";const Sc=new uS("@firebase/firestore");function $u(){return Sc.logLevel}function ve(t,...e){if(Sc.logLevel<=ot.DEBUG){const n=e.map(ES);Sc.debug(`Firestore (${qd}): ${t}`,...n)}}function un(t,...e){if(Sc.logLevel<=ot.ERROR){const n=e.map(ES);Sc.error(`Firestore (${qd}): ${t}`,...n)}}function $h(t,...e){if(Sc.logLevel<=ot.WARN){const n=e.map(ES);Sc.warn(`Firestore (${qd}): ${t}`,...n)}}function ES(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,e4(t,r,n)}function e4(t,e,n){let r=`FIRESTORE (${qd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw un(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||e4(e,i,r)}function De(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $H{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class GH{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tl)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new $H(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class KH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ra(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class SS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function k_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return w1(i)===w1(s)?We(i,s):w1(i)?1:-1}return We(t.length,e.length)}const QH=55296,ZH=57343;function w1(t){const e=t.charCodeAt(0);return e>=QH&&e<=ZH}function ld(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function t4(t){return t+"\0"}const lN="__name__";class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return We(e.length,n.length)}static compareSegments(e,n){const r=za.isNumericId(e),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(e).compare(za.extractNumericId(n)):k_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class Rt extends za{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Rt(n)}static emptyPath(){return new Rt([])}}const JH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends za{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return JH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lN}static keyField(){return new Zt([lN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ke(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ke(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ke(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ke(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Rt.fromString(e))}static fromName(e){return new Te(Rt.fromString(e).popFirst(5))}static empty(){return new Te(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Rt(e.slice()))}}function eG(t,e,n){if(!n)throw new ke(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tG(t,e,n,r){if(e===!0&&r===!0)throw new ke(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cN(t){if(!Te.isDocumentKey(t))throw new ke(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function TS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Nh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=TS(t);throw new ke(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cm(t,e){if(!n4(t))throw new ke(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ke(ge.INVALID_ARGUMENT,n);return!0}const uN=-62135596800,dN=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dN);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uN)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dN}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cm(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:En("string",St._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new St(0,0))}static max(){return new Be(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cd=-1;class z0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function I_(t){return t.fields.find((e=>e.kind===2))}function Xl(t){return t.fields.filter((e=>e.kind!==2))}z0.UNKNOWN_ID=-1;class h0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Hh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Hh(0,fi.min())}}function r4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new fi(i,Te.empty(),e)}function i4(t){return new fi(t.readTime,t.key,cd)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(Be.min(),Te.empty(),cd)}static max(){return new fi(Be.max(),Te.empty(),cd)}}function AS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}const a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==a4)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,r)=>{n(e)}))}static reject(e){return new X(((n,r)=>{r(e)}))}static waitFor(e){return new X(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next((i=>i?X.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new X(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new X(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ni="SimpleDb";class nv{static open(e,n,r,i){try{return new nv(n,e.transaction(i,r))}catch(s){throw new Oh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new tl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Oh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=kS(r.target.error);this.S.reject(new Oh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ve(ni,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new rG(n)}}class nl{static delete(e){return ve(ni,"Removing database:",e),nc(iz().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!dz())return!1;if(nl.F())return!0;const e=Cn(),n=nl.M(e),r=0<n&&n<10,i=o4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,nl.M(Cn())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ve(ni,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Oh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ke(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ke(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Oh(e,l))},i.onupgradeneeded=s=>{ve(ni,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{ve(ni,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=nv.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),X.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ve(ni,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function o4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class nG{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return nc(this.U.delete())}}class Oh extends ke{constructor(e,n){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ml(t){return t.name==="IndexedDbTransactionError"}class rG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ve(ni,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ve(ni,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nc(r)}add(e){return ve(ni,"ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next((n=>(n===void 0&&(n=null),ve(ni,"GET",this.store.name,e,n),n)))}delete(e){return ve(ni,"DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return ve(ni,"COUNT",this.store.name),nc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new X(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new X(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){ve(ni,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new X(((r,i)=>{n.onerror=s=>{const l=kS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new X(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new nG(c),f=n(c.primaryKey,c.value,d);if(f instanceof X){const m=f.catch((p=>(d.done(),X.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>X.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function nc(t){return new X(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kS(r.target.error);n(i)}}))}let fN=!1;function kS(t){const e=nl.M(Cn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fN||(fN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Ph="IndexBackfiller";class iG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ve(Ph,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ve(Ph,`Documents written: ${n}`)}catch(n){ml(n)?ve(Ph,"Ignoring IndexedDB error during index backfill: ",n):await hl(n)}await this.re(6e4)}))}}class aG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return X.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ve(Ph,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(ve(Ph,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=i4(s);AS(l,r)>0&&(r=l)})),new fi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lr.ce=-1;const fc=-1;function rv(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function l4(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const L0="";function yr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hN(e)),e=sG(t.get(n),e);return hN(e)}function sG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case L0:n+="";break;default:n+=s}}return n}function hN(t){return t+L0+""}function Ua(t){const e=t.length;if(Le(e>=2,64408,{path:t}),e===2)return Le(t.charAt(0)===L0&&t.charAt(1)==="",56145,{path:t}),Rt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(L0,s);switch((l<0||l>n)&&Ne(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Ne(61167,{path:t})}s=l+2}return new Rt(r)}const Ql="remoteDocuments",Nm="owner",Ru="owner",Kh="mutationQueues",oG="userId",na="mutations",mN="batchId",oc="userMutationsIndex",pN=["userId","batchId"];function m0(t,e){return[t,yr(e)]}function c4(t,e,n){return[t,yr(e),n]}const lG={},ud="documentMutations",V0="remoteDocumentsV14",cG=["prefixPath","collectionGroup","readTime","documentId"],p0="documentKeyIndex",uG=["prefixPath","collectionGroup","documentId"],u4="collectionGroupIndex",dG=["collectionGroup","readTime","prefixPath","documentId"],Yh="remoteDocumentGlobal",C_="remoteDocumentGlobalKey",dd="targets",d4="queryTargetsIndex",fG=["canonicalId","targetId"],fd="targetDocuments",hG=["targetId","path"],IS="documentTargetsIndex",mG=["path","targetId"],B0="targetGlobalKey",hc="targetGlobal",Wh="collectionParents",pG=["collectionId","parent"],hd="clientMetadata",gG="clientId",iv="bundles",yG="bundleId",av="namedQueries",vG="name",CS="indexConfiguration",bG="indexId",N_="collectionGroupIndex",xG="collectionGroup",Rh="indexState",wG=["indexId","uid"],f4="sequenceNumberIndex",_G=["uid","sequenceNumber"],jh="indexEntries",EG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],h4="documentKeyIndex",SG=["indexId","uid","orderedDocumentKey"],sv="documentOverlays",TG=["userId","collectionPath","documentId"],O_="collectionPathOverlayIndex",AG=["userId","collectionPath","largestBatchId"],m4="collectionGroupOverlayIndex",kG=["userId","collectionGroup","largestBatchId"],NS="globals",IG="name",p4=[Kh,na,ud,Ql,dd,Nm,hc,fd,hd,Yh,Wh,iv,av],CG=[...p4,sv],g4=[Kh,na,ud,V0,dd,Nm,hc,fd,hd,Yh,Wh,iv,av,sv],y4=g4,OS=[...y4,CS,Rh,jh],NG=OS,v4=[...OS,NS],OG=v4;class P_ extends s4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=De(t);return nl.O(n.le,e)}function gN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=s??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yN(this.data.getIterator())}getIteratorFrom(e){return new yN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class yN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ju(t){return t.hasNext()?t.getNext():void 0}class ji{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new ji([])}unionWith(e){let n=new Tt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class x4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x4("Invalid base64 string: "+s):s}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const PG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=PG.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const w4="server_timestamp",_4="__type__",E4="__previous_value__",S4="__local_write_time__";function PS(t){return(t?.mapValue?.fields||{})[_4]?.stringValue===w4}function ov(t){const e=t.mapValue.fields[E4];return PS(e)?ov(e):e}function Xh(t){const e=Vs(t.mapValue.fields[S4].timestampValue);return new St(e.seconds,e.nanos)}class RG{constructor(e,n,r,i,s,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const U0="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||U0}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===U0}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const RS="__type__",T4="__max__",Wo={mapValue:{fields:{__type__:{stringValue:T4}}}},jS="__vector__",md="value",g0={nullValue:"NULL_VALUE"};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?PS(t)?4:A4(t)?9007199254740991:lv(t)?10:11:Ne(28295,{value:t})}function Za(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Vs(i.timestampValue),c=Vs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Yt(i.doubleValue),c=Yt(s.doubleValue);return l===c?Gh(l)===Gh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ld(t.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(gN(l)!==gN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Za(l[d],c[d])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Qh(t,e){return(t.values||[]).find((n=>Za(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Yt(s.integerValue||s.doubleValue),d=Yt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return vN(t.timestampValue,e.timestampValue);case 4:return vN(Xh(t),Xh(e));case 5:return k_(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Bs(s),d=Bs(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=We(c[f],d[f]);if(m!==0)return m}return We(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=We(Yt(s.latitude),Yt(l.latitude));return c!==0?c:We(Yt(s.longitude),Yt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bN(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[md]?.arrayValue,m=d[md]?.arrayValue,p=We(f?.values?.length||0,m?.values?.length||0);return p!==0?p:bN(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Wo.mapValue&&l===Wo.mapValue)return 0;if(s===Wo.mapValue)return 1;if(l===Wo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const b=k_(d[p],m[p]);if(b!==0)return b;const w=al(c[d[p]],f[m[p]]);if(w!==0)return w}return We(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function vN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Vs(t),r=Vs(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function bN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=al(n[i],r[i]);if(s)return s}return We(n.length,r.length)}function pd(t){return R_(t)}function R_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=R_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${R_(n.fields[l])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function y0(t){switch(il(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ov(t);return e?16+y0(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+y0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vc(r.fields,((s,l)=>{i+=s.length+y0(l)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function MS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function Zh(t){return!!t&&"arrayValue"in t}function xN(t){return!!t&&"nullValue"in t}function wN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function v0(t){return!!t&&"mapValue"in t}function lv(t){return(t?.mapValue?.fields||{})[RS]?.stringValue===jS}function Mh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mh(t.arrayValue.values[n]);return e}return{...t}}function A4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===T4}const k4={mapValue:{fields:{[RS]:{stringValue:jS},[md]:{arrayValue:{}}}}};function jG(t){return"nullValue"in t?g0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?MS(Tc.empty(),Te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?lv(t)?k4:{mapValue:{}}:Ne(35942,{value:t})}function MG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?MS(Tc.empty(),Te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?k4:"mapValue"in t?lv(t)?{mapValue:{}}:Wo:Ne(61959,{value:t})}function _N(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function EN(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!v0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Mh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());v0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];v0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new zr(Mh(this.value))}}function I4(t){const e=[];return Vc(t.fields,((n,r)=>{const i=new Zt([n]);if(v0(r)){const s=I4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ji(e)}class an{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new an(e,0,Be.min(),Be.min(),Be.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,Be.min(),Be.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Be.min(),Be.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gd{constructor(e,n){this.position=e,this.inclusive=n}}function SN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),n.key):r=al(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Za(t.position[n],e.position[n]))return!1;return!0}class F0{constructor(e,n="asc"){this.field=e,this.dir=n}}function DG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class C4{}class ct extends C4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zG(e,n,r):n==="array-contains"?new BG(e,r):n==="in"?new M4(e,r):n==="not-in"?new UG(e,r):n==="array-contains-any"?new FG(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LG(e,r):new VG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jt extends C4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jt(e,n)}matches(e){return yd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yd(t){return t.op==="and"}function M_(t){return t.op==="or"}function DS(t){return N4(t)&&yd(t)}function N4(t){for(const e of t.filters)if(e instanceof jt)return!1;return!0}function D_(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+pd(t.value);if(DS(t))return t.filters.map((e=>D_(e))).join(",");{const e=t.filters.map((n=>D_(n))).join(",");return`${t.op}(${e})`}}function O4(t,e){return t instanceof ct?(function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&Za(r.value,i.value)})(t,e):t instanceof jt?(function(r,i){return i instanceof jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&O4(l,i.filters[c])),!0):!1})(t,e):void Ne(19439)}function P4(t,e){const n=t.filters.concat(e);return jt.create(n,t.op)}function R4(t){return t instanceof ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${pd(n.value)}`})(t):t instanceof jt?(function(n){return n.op.toString()+" {"+n.getFilters().map(R4).join(" ,")+"}"})(t):"Filter"}class zG extends ct{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class LG extends ct{constructor(e,n){super(e,"in",n),this.keys=j4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VG extends ct{constructor(e,n){super(e,"not-in",n),this.keys=j4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function j4(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class BG extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zh(n)&&Qh(n.arrayValue,this.value)}}class M4 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qh(this.value.arrayValue,n)}}class UG extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qh(this.value.arrayValue,n)}}class FG extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qh(this.value.arrayValue,r)))}}class qG{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function z_(t,e=null,n=[],r=[],i=null,s=null,l=null){return new qG(t,e,n,r,i,s,l)}function Ac(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>D_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pd(r))).join(",")),e.Te=n}return e.Te}function Om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TN(t.startAt,e.startAt)&&TN(t.endAt,e.endAt)}function q0(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function $0(t,e){return t.filters.filter((n=>n instanceof ct&&n.field.isEqual(e)))}function AN(t,e,n){let r=g0,i=!0;for(const s of $0(t,e)){let l=g0,c=!0;switch(s.op){case"<":case"<=":l=jG(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=g0}_N({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];_N({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function kN(t,e,n){let r=Wo,i=!0;for(const s of $0(t,e)){let l=Wo,c=!0;switch(s.op){case">=":case">":l=MG(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Wo}EN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];EN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class cv{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D4(t,e,n,r,i,s,l,c){return new cv(t,e,n,r,i,s,l,c)}function uv(t){return new cv(t)}function IN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $G(t){return t.collectionGroup!==null}function Dh(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Tt(Zt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new F0(s,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new F0(Zt.keyField(),r))}return e.Ie}function ci(t){const e=De(t);return e.Ee||(e.Ee=HG(e,Dh(t))),e.Ee}function HG(t,e){if(t.limitType==="F")return z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new F0(i.field,s)}));const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L_(t,e,n){return new cv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dv(t,e){return Om(ci(t),ci(e))&&t.limitType===e.limitType}function z4(t){return`${Ac(ci(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>R4(i))).join(", ")}]`),rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pd(i))).join(",")),`Target(${r})`})(ci(t))}; limitType=${t.limitType})`}function Pm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Dh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=SN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Dh(r),i)||r.endAt&&!(function(l,c,d){const f=SN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Dh(r),i))})(t,e)}function L4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V4(t){return(e,n)=>{let r=!1;for(const i of Dh(t)){const s=GG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GG(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?al(d,f):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return b4(this.inner)}size(){return this.innerSize}}const KG=new Lt(Te.comparator);function ai(){return KG}const B4=new Lt(Te.comparator);function _h(...t){let e=B4;for(const n of t)e=e.insert(n.key,n);return e}function U4(t){let e=B4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fa(){return zh()}function F4(){return zh()}function zh(){return new Xs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YG=new Lt(Te.comparator),WG=new Tt(Te.comparator);function nt(...t){let e=WG;for(const n of t)e=e.add(n);return e}const XG=new Tt(We);function zS(){return XG}function LS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function q4(t){return{integerValue:""+t}}function QG(t,e){return l4(e)?q4(e):LS(t,e)}class fv{constructor(){this._=void 0}}function ZG(t,e,n){return t instanceof Jh?(function(i,s){const l={fields:{[_4]:{stringValue:w4},[S4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&PS(s)&&(s=ov(s)),s&&(l.fields[E4]=s),{mapValue:l}})(n,e):t instanceof vd?H4(t,e):t instanceof bd?G4(t,e):(function(i,s){const l=$4(i,s),c=CN(l)+CN(i.Ae);return j_(l)&&j_(i.Ae)?q4(c):LS(i.serializer,c)})(t,e)}function JG(t,e,n){return t instanceof vd?H4(t,e):t instanceof bd?G4(t,e):n}function $4(t,e){return t instanceof em?(function(r){return j_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Jh extends fv{}class vd extends fv{constructor(e){super(),this.elements=e}}function H4(t,e){const n=K4(e);for(const r of t.elements)n.some((i=>Za(i,r)))||n.push(r);return{arrayValue:{values:n}}}class bd extends fv{constructor(e){super(),this.elements=e}}function G4(t,e){let n=K4(e);for(const r of t.elements)n=n.filter((i=>!Za(i,r)));return{arrayValue:{values:n}}}class em extends fv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CN(t){return Yt(t.integerValue||t.doubleValue)}function K4(t){return Zh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class eK{constructor(e,n){this.field=e,this.transform=n}}function tK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vd&&i instanceof vd||r instanceof bd&&i instanceof bd?ld(r.elements,i.elements,Za):r instanceof em&&i instanceof em?Za(r.Ae,i.Ae):r instanceof Jh&&i instanceof Jh})(t.transform,e.transform)}class nK{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function Y4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VS(t.key,si.none()):new $d(t.key,t.data,si.none());{const n=t.data,r=zr.empty();let i=new Tt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new pl(t.key,r,new ji(i.toArray()),si.none())}}function rK(t,e,n){t instanceof $d?(function(i,s,l){const c=i.value.clone(),d=ON(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof pl?(function(i,s,l){if(!b0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=ON(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(W4(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Lh(t,e,n,r){return t instanceof $d?(function(s,l,c,d){if(!b0(s.precondition,l))return c;const f=s.value.clone(),m=PN(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof pl?(function(s,l,c,d){if(!b0(s.precondition,l))return c;const f=PN(s.fieldTransforms,d,l),m=l.data;return m.setAll(W4(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return b0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function iK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$4(r.transform,i||null);s!=null&&(n===null&&(n=zr.empty()),n.set(r.field,s))}return n||null}function NN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ld(r,i,((s,l)=>tK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends hv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends hv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ON(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,JG(l,c,n[i]))}return r}function PN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,ZG(s,l,e))}return r}class VS extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X4 extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=Y4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,((n,r)=>NN(n,r)))&&ld(this.baseMutations,e.baseMutations,((n,r)=>NN(n,r)))}}class US{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return YG})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new US(e,n,r,i)}}class FS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aK{constructor(e,n){this.count=e,this.unchangedNames=n}}var wn,ut;function sK(t){switch(t){case ge.OK:return Ne(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function Q4(t){if(t===void 0)return un("GRPC error has no .code"),ge.UNKNOWN;switch(t){case wn.OK:return ge.OK;case wn.CANCELLED:return ge.CANCELLED;case wn.UNKNOWN:return ge.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ge.INTERNAL;case wn.UNAVAILABLE:return ge.UNAVAILABLE;case wn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case wn.NOT_FOUND:return ge.NOT_FOUND;case wn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case wn.ABORTED:return ge.ABORTED;case wn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case wn.DATA_LOSS:return ge.DATA_LOSS;default:return Ne(39323,{code:t})}}(ut=wn||(wn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function oK(){return new TextEncoder}const lK=new el([4294967295,4294967295],0);function RN(t){const e=oK().encode(t),n=new Yz;return n.update(e),new Uint8Array(n.digest())}function jN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new el([n,r],0),new el([i,s],0)]}class qS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eh(`Invalid padding: ${n}`);if(r<0)throw new Eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(lK)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RN(e),[r,i]=jN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new qS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=RN(e),[r,i]=jN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Be.min(),i,new Lt(We),ai(),nt())}}class jm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jm(r,n,nt(),nt(),nt())}}class x0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Z4{constructor(e,n){this.targetId=e,this.Ce=n}}class J4{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MN{constructor(){this.ve=0,this.Fe=DN(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:s})}})),new jm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=Rg(),this.He=Rg(),this.Ye=new Lt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(q0(s))if(r===0){const l=new Te(s.path);this.et(n,l,an.newNoDocument(l,Be.min()))}else Le(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Bs(r).toUint8Array()}catch(d){if(d instanceof x4)return $h("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new qS(l,i,s)}catch(d){return $h(d instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&q0(c.target)){const d=new Te(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,an.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=nt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Rm(e,n,this.Ye,this.je,r);return this.je=ai(),this.Je=Rg(),this.He=Rg(),this.Ye=new Lt(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rg(){return new Lt(Te.comparator)}function DN(){return new Lt(Te.comparator)}const uK={asc:"ASCENDING",desc:"DESCENDING"},dK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fK={and:"AND",or:"OR"};class hK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V_(t,e){return t.useProto3Json||rv(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mK(t,e){return xd(t,e.toTimestamp())}function Tr(t){return Le(!!t,49232),Be.fromTimestamp((function(n){const r=Vs(n);return new St(r.seconds,r.nanos)})(t))}function $S(t,e){return B_(t,e).canonicalString()}function B_(t,e){const n=(function(i){return new Rt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function t5(t){const e=Rt.fromString(t);return Le(u5(e),10190,{key:e.toString()}),e}function H0(t,e){return $S(t.databaseId,e.path)}function mc(t,e){const n=t5(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(i5(n))}function n5(t,e){return $S(t.databaseId,e)}function r5(t){const e=t5(t);return e.length===4?Rt.emptyPath():i5(e)}function U_(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i5(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zN(t,e,n){return{name:H0(t,e),fields:n.value.mapValue.fields}}function pK(t,e,n){const r=mc(t,e.name),i=Tr(e.updateTime),s=e.createTime?Tr(e.createTime):Be.min(),l=new zr({mapValue:{fields:e.fields}}),c=an.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function gK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ne(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Le(m===void 0||typeof m=="string",58123),dn.fromBase64String(m||"")):(Le(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),dn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?ge.UNKNOWN:Q4(f.code);return new ke(m,f.message||"")})(l);n=new J4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mc(t,r.document.name),s=Tr(r.document.updateTime),l=r.document.createTime?Tr(r.document.createTime):Be.min(),c=new zr({mapValue:{fields:r.document.fields}}),d=an.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new x0(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mc(t,r.document),s=r.readTime?Tr(r.readTime):Be.min(),l=an.newNoDocument(i,s),c=r.removedTargetIds||[];n=new x0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mc(t,r.document),s=r.removedTargetIds||[];n=new x0([],s,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new aK(i,s),c=r.targetId;n=new Z4(c,l)}}return n}function G0(t,e){let n;if(e instanceof $d)n={update:zN(t,e.key,e.value)};else if(e instanceof VS)n={delete:H0(t,e.key)};else if(e instanceof pl)n={update:zN(t,e.key,e.data),updateMask:_K(e.fieldMask)};else{if(!(e instanceof X4))return Ne(16599,{Vt:e.type});n={verify:H0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Jh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof em)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ne(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:mK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ne(27497)})(t,e.precondition)),n}function F_(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?si.updateTime(Tr(s.updateTime)):s.exists!==void 0?si.exists(s.exists):si.none()})(e.currentDocument):si.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Le(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new Jh;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new vd(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new bd(m)}else"increment"in c?d=new em(l,c.increment):Ne(16584,{proto:c});const f=Zt.fromServerFormat(c.fieldPath);return new eK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=mc(t,e.update.name),s=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new ji(f.map((m=>Zt.fromServerFormat(m))))})(e.updateMask);return new pl(i,s,l,n,r)}return new $d(i,s,n,r)}if(e.delete){const i=mc(t,e.delete);return new VS(i,n)}if(e.verify){const i=mc(t,e.verify);return new X4(i,n)}return Ne(1463,{proto:e})}function yK(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Tr(i.updateTime):Tr(s);return l.isEqual(Be.min())&&(l=Tr(s)),new nK(l,i.transformResults||[])})(n,e)))):[]}function a5(t,e){return{documents:[n5(t,e.path)]}}function s5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n5(t,i);const s=(function(f){if(f.length!==0)return c5(jt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(b){return{field:Gu(b.field),direction:bK(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=V_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function o5(t){let e=r5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=l5(p);return b instanceof jt&&DS(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(_){return new F0(Ku(_.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,rv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(p){const b=!!p.before,w=p.values||[];return new gd(w,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const b=!p.before,w=p.values||[];return new gd(w,b)})(n.endAt)),D4(e,i,l,s,c,"F",d,f)}function vK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ku(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ku(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ku(n.unaryFilter.field);return ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ct.create(Ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return jt.create(n.compositeFilter.filters.map((r=>l5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function bK(t){return uK[t]}function xK(t){return dK[t]}function wK(t){return fK[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return Zt.fromServerFormat(t.fieldPath)}function c5(t){return t instanceof ct?(function(n){if(n.op==="=="){if(wN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NAN"}};if(xN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NAN"}};if(xN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(n.field),op:xK(n.op),value:n.value}}})(t):t instanceof jt?(function(n){const r=n.getFilters().map((i=>c5(i)));return r.length===1?r[0]:{compositeFilter:{op:wK(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function _K(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function u5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Os{constructor(e,n,r,i,s=Be.min(),l=Be.min(),c=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class d5{constructor(e){this.yt=e}}function EK(t,e){let n;if(e.document)n=pK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Te.fromSegments(e.noDocument.path),i=Ic(e.noDocument.readTime);n=an.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ne(56709);{const r=Te.fromSegments(e.unknownDocument.path),i=Ic(e.unknownDocument.version);n=an.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new St(i[0],i[1]);return Be.fromTimestamp(s)})(e.readTime)),n}function LN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:K0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:H0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:xd(s,l.version.toTimestamp()),createTime:xd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kc(e.version)};else{if(!e.isUnknownDocument())return Ne(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:kc(e.version)}}return r}function K0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function kc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ic(t){const e=new St(t.seconds,t.nanoseconds);return Be.fromTimestamp(e)}function rc(t,e){const n=(e.baseMutations||[]).map((s=>F_(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>F_(t.yt,s))),i=St.fromMillis(e.localWriteTimeMs);return new BS(e.batchId,i,n,r)}function Sh(t){const e=Ic(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ic(t.lastLimboFreeSnapshotVersion):Be.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Le(l===1,1966,{count:l}),ci(uv(r5(s.documents[0])))})(t.query):(function(s){return ci(o5(s))})(t.query),new Os(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,dn.fromBase64String(t.resumeToken))}function f5(t,e){const n=kc(e.snapshotVersion),r=kc(e.lastLimboFreeSnapshotVersion);let i;i=q0(e.target)?a5(t.yt,e.target):s5(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ac(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function h5(t){const e=o5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L_(e,e.limit,"L"):e}function _1(t,e){return new FS(e.largestBatchId,F_(t.yt,e.overlayMutation))}function VN(t,e){const n=e.path.lastSegment();return[t,yr(e.path.popLast()),n]}function BN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:kc(r.readTime),documentKey:yr(r.documentKey.path),largestBatchId:r.largestBatchId}}class SK{getBundleMetadata(e,n){return UN(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ic(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return UN(e).put((function(i){return{bundleId:i.id,createTime:kc(Tr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return FN(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:h5(s.bundledQuery),readTime:Ic(s.readTime)}})(r)}))}saveNamedQuery(e,n){return FN(e).put((function(i){return{name:i.name,readTime:kc(Tr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function UN(t){return Nn(t,iv)}function FN(t){return Nn(t,av)}class mv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new mv(e,r)}getOverlay(e,n){return oh(e).get(VN(this.userId,n)).next((r=>r?_1(this.serializer,r):null))}getOverlays(e,n){const r=Fa();return X.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new FS(n,l);i.push(this.St(e,c))})),X.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(yr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(oh(e).Z(O_,c))})),X.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Fa(),s=yr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return oh(e).J(O_,l).next((c=>{for(const d of c){const f=_1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Fa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return oh(e).ee({index:m4,range:c},((d,f,m)=>{const p=_1(this.serializer,f);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return oh(e).put((function(i,s,l){const[c,d,f]=VN(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:G0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function oh(t){return Nn(t,sv)}class TK{bt(e){return Nn(e,NS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?dn.fromUint8Array(r):dn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class ic{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Gh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Vs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Bs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?A4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):lv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ne(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=md,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Yt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Te.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ic.Kt=new ic;const Mu=255;function AK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function qN(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=AK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class kK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=qN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=qN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Mu?(this.sn(Mu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class IK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class CK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class lh{constructor(){this.cn=new kK,this.ln=new IK(this.cn),this.hn=new CK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class ac{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ac(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:w0(this.En),directionalValue:w0(this.dn),orderedDocumentKey:w0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function zo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=$N(t.En,e.En),n!==0?n:(n=$N(t.dn,e.dn),n!==0?n:Te.comparator(t.In,e.In)))}function $N(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function w0(t){return uz()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function HN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class GN{constructor(e){this.mn=new Tt(((n,r)=>Zt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=I_(e);if(n!==void 0&&!this.wn(n))return!1;const r=Xl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Tt(Zt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new h0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new h0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new h0(r.field,r.dir==="asc"?0:1)));return new z0(z0.UNKNOWN_ID,this.collectionId,n,Hh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function m5(t){if(Le(t instanceof ct||t instanceof jt,20012),t instanceof ct){if(t instanceof M4){const n=t.value.arrayValue?.values?.map((r=>ct.create(t.field,"==",r)))||[];return jt.create(n,"or")}return t}const e=t.filters.map((n=>m5(n)));return jt.create(e,t.op)}function NK(t){if(t.getFilters().length===0)return[];const e=H_(m5(t));return Le(p5(e),7391),q_(e)||$_(e)?[e]:e.getFilters()}function q_(t){return t instanceof ct}function $_(t){return t instanceof jt&&DS(t)}function p5(t){return q_(t)||$_(t)||(function(n){if(n instanceof jt&&M_(n)){for(const r of n.getFilters())if(!q_(r)&&!$_(r))return!1;return!0}return!1})(t)}function H_(t){if(Le(t instanceof ct||t instanceof jt,34018),t instanceof ct)return t;if(t.filters.length===1)return H_(t.filters[0]);const e=t.filters.map((r=>H_(r)));let n=jt.create(e,t.op);return n=Y0(n),p5(n)?n:(Le(n instanceof jt,64498),Le(yd(n),40251),Le(n.filters.length>1,57927),n.filters.reduce(((r,i)=>HS(r,i))))}function HS(t,e){let n;return Le(t instanceof ct||t instanceof jt,38388),Le(e instanceof ct||e instanceof jt,25473),n=t instanceof ct?e instanceof ct?(function(i,s){return jt.create([i,s],"and")})(t,e):KN(t,e):e instanceof ct?KN(e,t):(function(i,s){if(Le(i.filters.length>0&&s.filters.length>0,48005),yd(i)&&yd(s))return P4(i,s.getFilters());const l=M_(i)?i:s,c=M_(i)?s:i,d=l.filters.map((f=>HS(f,c)));return jt.create(d,"or")})(t,e),Y0(n)}function KN(t,e){if(yd(e))return P4(e,t.getFilters());{const n=e.filters.map((r=>HS(t,r)));return jt.create(n,"or")}}function Y0(t){if(Le(t instanceof ct||t instanceof jt,11850),t instanceof ct)return t;const e=t.getFilters();if(e.length===1)return Y0(e[0]);if(N4(t))return t;const n=e.map((i=>Y0(i))),r=[];return n.forEach((i=>{i instanceof ct?r.push(i):i instanceof jt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:jt.create(r,t.op)}class OK{constructor(){this.Cn=new GS}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(fi.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class GS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Rt.comparator)).toArray()}}const YN="IndexedDbIndexManager",jg=new Uint8Array(0);class PK{constructor(e,n){this.databaseId=n,this.vn=new GS,this.Fn=new Xs((r=>Ac(r)),((r,i)=>Om(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:yr(i)};return WN(e).put(s)}return X.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[t4(n),""],!1,!0);return WN(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ua(l.parent))}return r}))}addFieldIndex(e,n){const r=ch(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=zu(e);return s.next((c=>{l.put(BN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=ch(e),i=zu(e),s=Du(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=ch(e),r=Du(e),i=zu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return X.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new GN(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const s=new Map;return X.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=nt();const c=[];return X.forEach(s,((d,f)=>{ve(YN,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(d)} to execute ${Ac(n)}`);const m=(function(O,D){const R=I_(D);if(R===void 0)return null;for(const V of $0(O,R.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null})(f,d),p=(function(O,D){const R=new Map;for(const V of Xl(D))for(const P of $0(O,V.fieldPath))switch(P.op){case"==":case"in":R.set(V.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return R.set(V.fieldPath.canonicalString(),P.value),Array.from(R.values())}return null})(f,d),b=(function(O,D){const R=[];let V=!0;for(const P of Xl(D)){const C=P.kind===0?AN(O,P.fieldPath,O.startAt):kN(O,P.fieldPath,O.startAt);R.push(C.value),V&&(V=C.inclusive)}return new gd(R,V)})(f,d),w=(function(O,D){const R=[];let V=!0;for(const P of Xl(D)){const C=P.kind===0?kN(O,P.fieldPath,O.endAt):AN(O,P.fieldPath,O.endAt);R.push(C.value),V&&(V=C.inclusive)}return new gd(R,V)})(f,d),_=this.On(d,f,b),E=this.On(d,f,w),S=this.Nn(d,f,p),I=this.Bn(d.indexId,m,_,b.inclusive,E,w.inclusive,S);return X.forEach(I,(j=>r.Y(j,n.limit).next((O=>{O.forEach((D=>{const R=Te.fromSegments(D.documentKey);l.has(R)||(l=l.add(R),c.push(R))}))}))))})).next((()=>c))}return X.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=NK(jt.create(e.filters,"and")).map((r=>z_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const b=n?this.Ln(n[p/f]):jg,w=this.kn(e,b,r[p%f],i),_=this.qn(e,b,s[p%f],l),E=c.map((S=>this.kn(e,b,S,!0)));m.push(...this.createRange(w,_,E))}return m}kn(e,n,r,i){const s=new ac(e,Te.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new ac(e,Te.empty(),n,r);return i?s.An():s}xn(e,n){const r=new GN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return X.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new Tt(Zt.comparator),m=!1;for(const p of d.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:f=f.add(b.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new lh;for(const i of Xl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);ic.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new lh;return ic.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new lh;return ic.Kt.Dt(MS(this.databaseId,n),r.Pn((function(s){const l=Xl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new lh);let s=0;for(const l of Xl(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&Zh(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);ic.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new lh;d.seed(c.un()),ic.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof ct&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=ch(e),i=zu(e);return(n?r.J(N_,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return X.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const b=p?new Hh(p.sequenceNumber,new fi(Ic(p.readTime),new Te(Ua(p.documentKey)),p.largestBatchId)):Hh.empty(),w=m.fields.map((([_,E])=>new h0(Zt.fromServerFormat(_),E)));return new z0(m.indexId,m.collectionGroup,w,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:We(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=ch(e),s=zu(e);return this.Gn(e).next((l=>i.J(N_,IDBKeyRange.bound(n,n)).next((c=>X.forEach(c,(d=>s.put(BN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return X.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?X.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),X.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?X.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let s=new Tt(zo);return i.ee({index:h4,range:IDBKeyRange.only([r.indexId,this.uid,w0(this.$n(r,n))])},((l,c)=>{s=s.add(new ac(r.indexId,n,HN(c.arrayValue),HN(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Tt(zo);const i=this.Qn(n,e);if(i==null)return r;const s=I_(n);if(s!=null){const l=e.data.field(s.fieldPath);if(Zh(l))for(const c of l.arrayValue.values||[])r=r.add(new ac(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new ac(n.indexId,e.key,jg,i));return r}Jn(e,n,r,i,s){ve(YN,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,b){const w=d.getIterator(),_=f.getIterator();let E=ju(w),S=ju(_);for(;E||S;){let I=!1,j=!1;if(E&&S){const O=m(E,S);O<0?j=!0:O>0&&(I=!0)}else E!=null?j=!0:I=!0;I?(p(S),S=ju(_)):j?(b(E),E=ju(w)):(E=ju(w),S=ju(_))}})(i,s,zo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),X.waitFor(l)}Gn(e){let n=1;return zu(e).ee({index:f4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>zo(l,c))).filter(((l,c,d)=>!c||zo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=zo(l,e),d=zo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,jg,Te.empty()),d=i[l+1].Vn(this.uid,jg,Te.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return zo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(XN)}getMinOffset(e,n){return X.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ne(44426))))).next(XN)}}function WN(t){return Nn(t,Wh)}function Du(t){return Nn(t,jh)}function ch(t){return Nn(t,CS)}function zu(t){return Nn(t,Rh)}function XN(t){Le(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;AS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fi(e.readTime,e.documentKey,n)}const QN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g5=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function y5(t,e,n){const r=t.store(na),i=t.store(ud),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(d.next((()=>{Le(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=c4(e,m.key.path,n.batchId);s.push(i.delete(p)),f.push(m.key)}return X.waitFor(s).next((()=>f))}function W0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ne(14731);e=t.noDocument}return JSON.stringify(e).length}gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(g5,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);class pv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Le(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new pv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lo(e).ee({index:oc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Yu(e),l=Lo(e);return l.add({}).next((c=>{Le(typeof c=="number",49019);const d=new BS(c,n,r,i),f=(function(w,_,E){const S=E.baseMutations.map((j=>G0(w.yt,j))),I=E.mutations.map((j=>G0(w.yt,j)));return{userId:_,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:I}})(this.serializer,this.userId,d),m=[];let p=new Tt(((b,w)=>We(b.canonicalString(),w.canonicalString())));for(const b of i){const w=c4(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(f)),m.push(s.put(w,lG))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),X.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return Lo(e).get(n).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),rc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?X.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Lo(e).ee({index:oc,range:i},((l,c,d)=>{c.userId===this.userId&&(Le(c.batchId>=r,47524,{tr:r}),s=rc(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=fc;return Lo(e).ee({index:oc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,fc],[this.userId,Number.POSITIVE_INFINITY]);return Lo(e).J(oc,n).next((r=>r.map((i=>rc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=m0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Yu(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,b=Ua(m);if(f===this.userId&&n.path.isEqual(b))return Lo(e).get(p).next((w=>{if(!w)throw Ne(61480,{nr:l,batchId:p});Le(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:p}),s.push(rc(this.serializer,w))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(We);const i=[];return n.forEach((s=>{const l=m0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Yu(e).ee({range:c},((f,m,p)=>{const[b,w,_]=f,E=Ua(w);b===this.userId&&s.path.isEqual(E)?r=r.add(_):p.done()}));i.push(d)})),X.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=m0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new Tt(We);return Yu(e).ee({range:l},((d,f,m)=>{const[p,b,w]=d,_=Ua(b);p===this.userId&&r.isPrefixOf(_)?_.length===i&&(c=c.add(w)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Lo(e).get(s).next((l=>{if(l===null)throw Ne(35274,{batchId:s});Le(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(rc(this.serializer,l))})))})),X.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return y5(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),X.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return X.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Yu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ua(s[1]);i.push(d)}else c.done()})).next((()=>{Le(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return v5(e,this.userId,n)}_r(e){return b5(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:fc,lastStreamToken:""}))}}function v5(t,e,n){const r=m0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Yu(t).ee({range:s,X:!0},((c,d,f)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function Lo(t){return Nn(t,na)}function Yu(t){return Nn(t,ud)}function b5(t){return Nn(t,Kh)}class Cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cc(0)}static cr(){return new Cc(-1)}}class RK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Cc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Be.fromTimestamp(new St(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Lu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Lu(e).ee(((l,c)=>{const d=Sh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>X.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Lu(e).ee(((r,i)=>{const s=Sh(i);n(s)}))}lr(e){return ZN(e).get(B0).next((n=>(Le(n!==null,2888),n)))}hr(e,n){return ZN(e).put(B0,n)}Pr(e,n){return Lu(e).put(f5(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ac(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Lu(e).ee({range:i,index:d4},((l,c,d)=>{const f=Sh(c);Om(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Ko(e);return n.forEach((l=>{const c=yr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),X.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ko(e);return X.forEach(n,(s=>{const l=yr(s.path);return X.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Ko(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ko(e);let s=nt();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ua(l[1]),m=new Te(f);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=yr(n.path),i=IDBKeyRange.bound([r],[t4(r)],!1,!0);let s=0;return Ko(e).ee({index:IS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Lu(e).get(n).next((r=>r?Sh(r):null))}}function Lu(t){return Nn(t,dd)}function ZN(t){return Nn(t,hc)}function Ko(t){return Nn(t,fd)}const JN="LruGarbageCollector",x5=1048576;function eO([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class jK{constructor(e){this.Ir=e,this.buffer=new Tt(eO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(JN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?ve(JN,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class MK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(Lr.ce);const r=new jK(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(QN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),$u()<=ot.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function _5(t,e){return new MK(t,e)}class DK{constructor(e,n){this.db=e,this.garbageCollector=_5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Mg(e,r)}removeReference(e,n,r){return Mg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mg(e,n)}br(e,n){return(function(i,s){let l=!1;return b5(i).te((c=>v5(i,c,s).next((d=>(d&&(l=!0),X.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Be.min()),Ko(e).delete((function(p){return[0,yr(p.path)]})(l)))))}));i.push(d)}})).next((()=>X.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mg(e,n)}Sr(e,n){const r=Ko(e);let i,s=Lr.ce;return r.ee({index:IS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Lr.ce&&n(new Te(Ua(i)),s),s=f,i=d):s=Lr.ce})).next((()=>{s!==Lr.ce&&n(new Te(Ua(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mg(t,e){return Ko(t).put((function(r,i){return{targetId:0,path:yr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class E5{constructor(){this.changes=new Xs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Kl(e).put(r)}removeEntry(e,n,r){return Kl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],K0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=an.newInvalidDocument(n);return Kl(e).ee({index:p0,range:IDBKeyRange.only(uh(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:an.newInvalidDocument(n)};return Kl(e).ee({index:p0,range:IDBKeyRange.only(uh(n))},((i,s)=>{r={document:this.Cr(n,s),size:W0(s)}})).next((()=>r))}getEntries(e,n){let r=ai();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ai(),i=new Lt(Te.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,W0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return X.resolve();let i=new Tt(rO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(uh(i.first()),uh(i.last())),l=i.getIterator();let c=l.getNext();return Kl(e).ee({index:p0,range:s},((d,f,m)=>{const p=Te.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&rO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(uh(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),K0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=ai();for(const p of f){const b=this.Cr(Te.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(Pm(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=ai();const l=nO(n,r),c=nO(n,fi.max());return Kl(e).ee({index:u4,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(Te.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new LK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return tO(e).get(C_).next((n=>(Le(!!n,20021),n)))}Dr(e,n){return tO(e).put(C_,n)}Cr(e,n){if(n){const r=EK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Be.min())))return r}return an.newInvalidDocument(e)}}function S5(t){return new zK(t)}class LK extends E5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Xs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Tt(((s,l)=>We(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=LN(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=W0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=LN(this.Nr.serializer,l.convertToNoDocument(Be.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),X.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function tO(t){return Nn(t,Yh)}function Kl(t){return Nn(t,V0)}function uh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nO(t,e){const n=e.documentKey.path.toArray();return[t,K0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=We(n[s],r[s]),i)return i;return i=We(n.length,r.length),i||(i=We(n[n.length-2],r[r.length-2]),i||We(n[n.length-1],r[r.length-1]))}class VK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class T5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Lh(r.mutation,i,ji.empty(),St.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=_h();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ai();const l=zh(),c=(function(){return zh()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof pl)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Lh(m.mutation,f,m.mutation.getFieldMask(),St.now())):l.set(f.key,ji.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new VK(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=zh();let i=new Lt(((l,c)=>l-c)),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||ji.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||nt()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=F4();m.forEach((b=>{if(!s.has(b)){const w=Y4(n.get(b),r.get(b));w!==null&&p.set(b,w),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return X.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$G(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Fa());let c=cd,d=s;return l.next((f=>X.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,nt()))).next((m=>({batchId:c,changes:U4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let i=_h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=_h();return this.indexManager.getCollectionParents(e,s).next((c=>X.forEach(c,(d=>{const f=(function(p,b){return new cv(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,an.newInvalidDocument(m)))}));let c=_h();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&Lh(m.mutation,f,ji.empty(),St.now()),Pm(n,f)&&(c=c.insert(d,f))})),c}))}}class BK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:h5(i.bundledQuery),readTime:Tr(i.readTime)}})(n)),X.resolve()}}class UK{constructor(){this.overlays=new Lt(Te.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return X.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,l=new Te(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Fa(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Fa(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return X.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FS(n,r));let s=this.qr.get(n);s===void 0&&(s=nt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class FK{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}class KS{constructor(){this.Qr=new Tt(qn.$r),this.Ur=new Tt(qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new Rt([])),r=new qn(n,e),i=new qn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Rt([])),r=new qn(n,e),i=new qn(n,e+1);let s=nt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new qn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class qK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(qn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new BS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new qn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?fc:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qn(n,0),i=new qn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(We);return n.forEach((i=>{const s=new qn(i,0),l=new qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Te.isDocumentKey(s)||(s=s.child(""));const l=new qn(new Te(s),0);let c=new Tt(We);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),X.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(n.mutations,(i=>{const s=new qn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qn(n,0),i=this.Zr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $K{constructor(e){this.ri=e,this.docs=(function(){return new Lt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))})),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ai();const l=n.path,c=new Te(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||AS(i4(m),r)<=0||(i.has(m.key)||Pm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ii(e,n){return X.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HK(this)}getSize(e){return X.resolve(this.size)}}class HK extends E5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class GK{constructor(e){this.persistence=e,this.si=new Xs((n=>Ac(n)),Om),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new KS,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),X.waitFor(s).next((()=>i))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}class YS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lr(0),this.li=!1,this.li=!0,this.hi=new FK,this.referenceDelegate=e(this),this.Pi=new GK(this),this.indexManager=new OK,this.remoteDocumentCache=(function(i){return new $K(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new d5(n),this.Ii=new BK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new KK(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class KK extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Ri=new KS,this.Vi=null}static mi(e){return new gv(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const i=Te.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class X0{constructor(e,n){this.persistence=e,this.pi=new Xs((r=>yr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=_5(this,n)}static mi(e,n){return new X0(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return X.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?X.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Be.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y0(e.data.value)),n}br(e,n,r){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class YK{constructor(e){this.serializer=e}k(e,n,r,i){const s=new nv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Nm)})(e),(function(d){d.createObjectStore(Kh,{keyPath:oG}),d.createObjectStore(na,{keyPath:mN,autoIncrement:!0}).createIndex(oc,pN,{unique:!0}),d.createObjectStore(ud)})(e),iO(e),(function(d){d.createObjectStore(Ql)})(e));let l=X.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(fd),d.deleteObjectStore(dd),d.deleteObjectStore(hc)})(e),iO(e)),l=l.next((()=>(function(d){const f=d.store(hc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Be.min().toTimestamp(),targetCount:0};return f.put(B0,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(na).J().next((p=>{d.deleteObjectStore(na),d.createObjectStore(na,{keyPath:mN,autoIncrement:!0}).createIndex(oc,pN,{unique:!0});const b=f.store(na),w=p.map((_=>b.put(_)));return X.waitFor(w)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(hd,{keyPath:gG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Yh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(iv,{keyPath:yG})})(e),(function(d){d.createObjectStore(av,{keyPath:vG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(sv,{keyPath:TG});f.createIndex(O_,AG,{unique:!1}),f.createIndex(m4,kG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(V0,{keyPath:cG});f.createIndex(p0,uG),f.createIndex(u4,dG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ql)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(CS,{keyPath:bG,autoIncrement:!0}).createIndex(N_,xG,{unique:!1}),d.createObjectStore(Rh,{keyPath:wG}).createIndex(f4,_G,{unique:!1}),d.createObjectStore(jh,{keyPath:EG}).createIndex(h4,SG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Rh).clear()})).next((()=>{n.objectStore(jh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(NS,{keyPath:IG})})(e)}))),r<18&&i>=18&&uz()&&(l=l.next((()=>{n.objectStore(Rh).clear()})).next((()=>{n.objectStore(jh).clear()}))),l}wi(e){let n=0;return e.store(Ql).ee(((r,i)=>{n+=W0(i)})).next((()=>{const r={byteSize:n};return e.store(Yh).put(C_,r)}))}yi(e){const n=e.store(Kh),r=e.store(na);return n.J().next((i=>X.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,fc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(oc,l).next((c=>X.forEach(c,(d=>{Le(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=rc(this.serializer,d);return y5(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(fd),r=e.store(Ql);return e.store(hc).get(B0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new Rt(l),f=(function(p){return[0,yr(p)]})(d);s.push(n.get(f).next((m=>m?X.resolve():(p=>n.put({targetId:0,path:yr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>X.waitFor(s)))}))}bi(e,n){e.createObjectStore(Wh,{keyPath:pG});const r=n.store(Wh),i=new GS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:yr(d)})}};return n.store(Ql).ee({X:!0},((l,c)=>{const d=new Rt(l);return s(d.popLast())})).next((()=>n.store(ud).ee({X:!0},(([l,c,d],f)=>{const m=Ua(c);return s(m.popLast())}))))}Di(e){const n=e.store(dd);return n.ee(((r,i)=>{const s=Sh(i),l=f5(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Ql),i=[];return r.ee(((s,l)=>{const c=n.store(V0),d=(function(p){return p.document?new Te(Rt.fromString(p.document.name).popFirst(5)):p.noDocument?Te.fromSegments(p.noDocument.path):p.unknownDocument?Te.fromSegments(p.unknownDocument.path):Ne(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>X.waitFor(i)))}Fi(e,n){const r=n.store(na),i=S5(this.serializer),s=new YS(gv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??nt();rc(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),X.forEach(c,((d,f)=>{const m=new pr(f),p=mv.wt(this.serializer,m),b=s.getIndexManager(m),w=pv.wt(m,this.serializer,b,s.referenceDelegate);return new T5(i,w,p,b).recalculateAndSaveOverlaysForDocumentKeys(new P_(n,Lr.ce),d).next()}))}))}}function iO(t){t.createObjectStore(fd,{keyPath:hG}).createIndex(IS,mG,{unique:!0}),t.createObjectStore(dd,{keyPath:"targetId"}).createIndex(d4,fG,{unique:!0}),t.createObjectStore(hc)}const Vo="IndexedDbPersistence",E1=18e5,S1=5e3,T1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WK="main";class WS{constructor(e,n,r,i,s,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!WS.v())throw new ke(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DK(this,i),this.$i=n+WK,this.serializer=new d5(d),this.Ui=new nl(this.$i,this.Ni,new YK(this.serializer)),this.hi=new TK,this.Pi=new RK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S5(this.serializer),this.Ii=new SK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&un(Vo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ge.FAILED_PRECONDITION,T1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Lr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ml(e))return ve(Vo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve(Vo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return dh(e).get(Ru).next((n=>X.resolve(this.es(n))))}ts(e){return Dg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,E1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Nn(n,hd);return r.J().next((i=>{const s=this.ss(i,E1),l=i.filter((c=>s.indexOf(c)===-1));return X.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?X.resolve(!0):dh(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,S1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ke(ge.FAILED_PRECONDITION,T1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dg(e).J().next((r=>this.ss(r,S1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ve(Vo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Nm,hd],(e=>{const n=new P_(e,Lr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Dg(e).J().next((n=>this.ss(n,E1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return pv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return mv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve(Vo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?OG:d===17?v4:d===16?NG:d===15?OS:d===14?y4:d===13?g4:d===12?CG:d===11?p4:void Ne(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new P_(c,this.ci?this.ci.next():Lr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ke(ge.FAILED_PRECONDITION,a4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return dh(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,S1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(ge.FAILED_PRECONDITION,T1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dh(e).put(Ru,n)}static v(){return nl.v()}Zi(e){const n=dh(e);return n.get(Ru).next((r=>this.es(r)?(ve(Vo,"Releasing primary lease."),n.delete(Ru)):X.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(un(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;cz()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ve(Vo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return un(Vo,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dh(t){return Nn(t,Nm)}function Dg(t){return Nn(t,hd)}function A5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class XS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new XS(e,n.fromCache,r,i)}}class XK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class k5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cz()?8:o4(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new XK;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?($u()<=ot.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):($u()<=ot.DEBUG&&ve("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($u()<=ot.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):X.resolve())}ys(e,n){if(IN(n))return X.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=L_(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=nt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,L_(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return IN(n)||i.isEqual(Be.min())?X.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?X.resolve(null):($u()<=ot.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,r4(i,cd)).next((c=>c)))}))}Ds(e,n){let r=new Tt(V4(e));return n.forEach(((i,s)=>{Pm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return $u()<=ot.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const QS="LocalStore",QK=3e8;class ZK{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Lt(We),this.xs=new Xs((s=>Ac(s)),Om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function I5(t,e,n,r){return new ZK(t,e,n,r)}async function C5(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=nt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function JK(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,b=p.keys();let w=X.resolve();return b.forEach((_=>{w=w.next((()=>m.getEntry(d,_))).next((E=>{const S=f.docVersions.get(_);Le(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=nt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function N5(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eY(t,e){const n=De(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(dn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(p,w),(function(E,S,I){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=QK?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(b,w,m)&&c.push(n.Pi.updateTargetData(s,w))}));let d=ai(),f=nt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(tY(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Be.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return X.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function tY(t,e,n){let r=nt(),i=nt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ai();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ve(QS,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function nY(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Q0(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,X.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Os(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function wd(t,e,n){const r=De(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ml(l))throw l;ve(QS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function G_(t,e,n){const r=De(t);let i=Be.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=De(d),b=p.xs.get(m);return b!==void 0?X.resolve(p.Ms.get(b)):p.Pi.getTargetData(f,m)})(r,l,ci(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Be.min(),n?s:nt()))).next((c=>(R5(r,L4(e),c),{documents:c,Qs:s})))))}function O5(t,e){const n=De(t),r=De(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function P5(t,e){const n=De(t),r=n.Os.get(e)||Be.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,r4(r,cd),Number.MAX_SAFE_INTEGER))).then((i=>(R5(n,e,i),i)))}function R5(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const j5="firestore_clients";function aO(t,e){return`${j5}_${t}_${e}`}const M5="firestore_mutations";function sO(t,e,n){let r=`${M5}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const D5="firestore_targets";function A1(t,e){return`${D5}_${t}_${e}`}const La="SharedClientState";class Z0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ke(i.error.code,i.error.message))),l?new Z0(e,n,i.state,s):(un(La,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ke(r.error.code,r.error.message))),s?new Vh(e,r.state,i):(un(La,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class J0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=zS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=l4(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new J0(e,s):(un(La,`Failed to parse client data for instance '${e}': ${n}`),null)}}class ZS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new ZS(n.clientId,n.onlineState):(un(La,`Failed to parse online state: ${e}`),null)}}class K_{constructor(){this.activeTargetIds=zS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Lt(We),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=aO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new K_),this.ro=new RegExp(`^${j5}_${l}_([^_]*)$`),this.io=new RegExp(`^${M5}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${D5}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(aO(this.persistenceKey,r));if(i){const s=J0.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(A1(this.persistenceKey,e));if(i){const s=Vh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(A1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ve(La,"READ",e,n),n}setItem(e,n){ve(La,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ve(La,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ve(La,"EVENT",n.key,n.newValue),n.key===this.eo)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Lr.ce;if(s!=null)try{const c=JSON.parse(s);Le(typeof c=="number",30636,{So:s}),l=c}catch(c){un(La,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Lr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Z0(this.currentUser,e,n,r),s=sO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=sO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=A1(this.persistenceKey,e),s=new Vh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return J0.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Z0.Ws(new pr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Vh.Ws(i,n)}uo(e){return ZS.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ve(La,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=zS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class z5{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rY{Oo(e){}shutdown(){}}const oO="ConnectivityMonitor";class lO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(oO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(oO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zg=null;function Y_(){return zg===null?zg=(function(){return 268435456+Math.round(2147483648*Math.random())})():zg++,"0x"+zg.toString(16)}const I1="RestConnection",iY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===U0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Y_(),c=this.zo(e,n.toUriEncodedString());ve(I1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),m=Bd(f);return this.Jo(e,c,d,r,m).then((p=>(ve(I1,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw $h(I1,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=iY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class sY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hr="WebChannelConnection";class oY extends aY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Y_();return new Promise(((c,d)=>{const f=new Wz;f.setWithCredentials(!0),f.listenOnce(Xz.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case f0.NO_ERROR:const p=f.getResponseJson();ve(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case f0.TIMEOUT:ve(hr,`RPC '${e}' ${l} timed out`),d(new ke(ge.DEADLINE_EXCEEDED,"Request time out"));break;case f0.HTTP_ERROR:const b=f.getStatus();if(ve(hr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w?.error;if(_&&_.status&&_.message){const E=(function(I){const j=I.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(j)>=0?j:ge.UNKNOWN})(_.status);d(new ke(E,_.message))}else d(new ke(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ke(ge.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(hr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);ve(hr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Y_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Jz(),c=Zz(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ve(hr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let b=!1,w=!1;const _=new sY({Yo:S=>{w?ve(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(ve(hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),ve(hr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,I,j)=>{S.listen(I,(O=>{try{j(O)}catch(D){setTimeout((()=>{throw D}),0)}}))};return E(p,wh.EventType.OPEN,(()=>{w||(ve(hr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),E(p,wh.EventType.CLOSE,(()=>{w||(w=!0,ve(hr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))})),E(p,wh.EventType.ERROR,(S=>{w||(w=!0,$h(hr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.a_(new ke(ge.UNAVAILABLE,"The operation could not be completed")))})),E(p,wh.EventType.MESSAGE,(S=>{if(!w){const I=S.data[0];Le(!!I,16349);const j=I,O=j?.error||j[0]?.error;if(O){ve(hr,`RPC '${e}' stream ${i} received error:`,O);const D=O.status;let R=(function(C){const z=wn[C];if(z!==void 0)return Q4(z)})(D),V=O.message;R===void 0&&(R=ge.INTERNAL,V="Unknown error status: "+D+" with message "+O.message),w=!0,_.a_(new ke(R,V)),p.close()}else ve(hr,`RPC '${e}' stream ${i} received:`,I),_.u_(I)}})),E(c,Qz.STAT_EVENT,(S=>{S.stat===A_.PROXY?ve(hr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===A_.NOPROXY&&ve(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function L5(){return typeof window<"u"?window:null}function _0(){return typeof document<"u"?document:null}function yv(t){return new hK(t,!0)}class V5{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cO="PersistentStream";class B5{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(cO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(cO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lY extends B5{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Tr(l.readTime):Be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=U_(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=q0(d)?{documents:a5(s,d)}:{query:s5(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=e5(s,l.resumeToken);const f=V_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=xd(s,l.snapshotVersion.toTimestamp());const f=V_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=vK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=U_(this.serializer),n.removeTarget=e,this.q_(n)}}class cY extends B5{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yK(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=U_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>G0(this.serializer,r)))};this.q_(n)}}class uY{}class dY extends uY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,B_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ge.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,B_(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Nc="RemoteStore";class hY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bc(this)&&(ve(Nc,"Restarting streams for network reachability change."),await(async function(d){const f=De(d);f.Ea.add(4),await Mm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await vv(f)})(this))}))})),this.Ra=new fY(r,i)}}async function vv(t){if(Bc(t))for(const e of t.da)await e(!0)}async function Mm(t){for(const e of t.da)await e(!1)}function bv(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tT(n)?eT(n):Gd(n).O_()&&JS(n,e))}function _d(t,e){const n=De(t),r=Gd(n);n.Ia.delete(e),r.O_()&&U5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bc(n)&&n.Ra.set("Unknown"))}function JS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gd(t).Y_(e)}function U5(t,e){t.Va.Ue(e),Gd(t).Z_(e)}function eT(t){t.Va=new cK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gd(t).start(),t.Ra.ua()}function tT(t){return Bc(t)&&!Gd(t).x_()&&t.Ia.size>0}function Bc(t){return De(t).Ea.size===0}function F5(t){t.Va=void 0}async function mY(t){t.Ra.set("Online")}async function pY(t){t.Ia.forEach(((e,n)=>{JS(t,e)}))}async function gY(t,e){F5(t),tT(t)?(t.Ra.ha(e),eT(t)):t.Ra.set("Unknown")}async function yY(t,e,n){if(t.Ra.set("Online"),e instanceof J4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ve(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ey(t,r)}else if(e instanceof x0?t.Va.Ze(e):e instanceof Z4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await N5(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(dn.EMPTY_BYTE_STRING,m.snapshotVersion)),U5(s,d);const p=new Os(m.target,d,f,m.sequenceNumber);JS(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(Nc,"Failed to raise snapshot:",r),await ey(t,r)}}async function ey(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Mm(t),t.Ra.set("Offline"),n||(n=()=>N5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Nc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vv(t)}))}function q5(t,e){return e().catch((n=>ey(t,n,e)))}async function Hd(t){const e=De(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fc;for(;vY(e);)try{const i=await nY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,bY(e,i)}catch(i){await ey(e,i)}$5(e)&&H5(e)}function vY(t){return Bc(t)&&t.Ta.length<10}function bY(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $5(t){return Bc(t)&&!sl(t).x_()&&t.Ta.length>0}function H5(t){sl(t).start()}async function xY(t){sl(t).ra()}async function wY(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function _Y(t,e,n){const r=t.Ta.shift(),i=US.from(r,e,n);await q5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Hd(t)}async function EY(t,e){e&&sl(t).X_&&await(async function(r,i){if((function(l){return sK(l)&&l!==ge.ABORTED})(i.code)){const s=r.Ta.shift();sl(r).B_(),await q5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Hd(r)}})(t,e),$5(t)&&H5(t)}async function uO(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ve(Nc,"RemoteStore received new credentials");const r=Bc(n);n.Ea.add(3),await Mm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vv(n)}async function W_(t,e){const n=De(t);e?(n.Ea.delete(2),await vv(n)):e||(n.Ea.add(2),await Mm(n),n.Ra.set("Unknown"))}function Gd(t){return t.ma||(t.ma=(function(n,r,i){const s=De(n);return s.sa(),new lY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mY.bind(null,t),t_:pY.bind(null,t),r_:gY.bind(null,t),H_:yY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),tT(t)?eT(t):t.Ra.set("Unknown")):(await t.ma.stop(),F5(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const s=De(n);return s.sa(),new cY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xY.bind(null,t),r_:EY.bind(null,t),ta:wY.bind(null,t),na:_Y.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Nc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class nT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new nT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rT(t,e){if(un("AsyncQueue",`${e}: ${t}`),ml(t))return new ke(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class td{static emptySet(e){return new td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=_h(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class dO{constructor(){this.ga=new Lt(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ed{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ed(e,n,td.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class SY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TY{constructor(){this.queries=fO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=De(n),s=i.queries;i.queries=fO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new ke(ge.ABORTED,"Firestore shutting down"))}}function fO(){return new Xs((t=>z4(t)),dv)}async function AY(t,e){const n=De(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new SY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=rT(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&iT(n)}async function kY(t,e){const n=De(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IY(t,e){const n=De(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&iT(n)}function CY(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function iT(t){t.Ca.forEach((e=>{e.next()}))}var X_,hO;(hO=X_||(X_={})).Ma="default",hO.Cache="cache";class NY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==X_.Cache}}class G5{constructor(e){this.key=e}}class K5{constructor(e){this.key=e}}class OY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=V4(e),this.tu=new td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),w=Pm(this.query,p)?p:null,_=!!b&&this.mutatedKeys.has(b.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;b&&w?b.data.isEqual(w.data)?_!==E&&(r.track({type:3,doc:w}),S=!0):this.su(b,w)||(r.track({type:2,doc:w}),S=!0,(d&&this.eu(w,d)>0||f&&this.eu(w,f)<0)&&(c=!0)):!b&&w?(r.track({type:0,doc:w}),S=!0):b&&!w&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(c=!0)),S&&(w?(l=l.add(w),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(w,_){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:S})}};return E(w)-E(_)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Ed(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new K5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new G5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ed.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kd="SyncEngine";class PY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RY{constructor(e){this.key=e,this.hu=!1}}class jY{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xs((c=>z4(c)),dv),this.Iu=new Map,this.Eu=new Set,this.du=new Lt(Te.comparator),this.Au=new Map,this.Ru=new KS,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MY(t,e,n=!0){const r=xv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Y5(r,e,n,!0),i}async function DY(t,e){const n=xv(t);await Y5(n,e,!0,!1)}async function Y5(t,e,n,r){const i=await Q0(t.localStore,ci(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await aT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&bv(t.remoteStore,i),c}async function aT(t,e,n,r,i){t.pu=(p,b,w)=>(async function(E,S,I,j){let O=S.view.ru(I);O.Cs&&(O=await G_(E.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,O))));const D=j&&j.targetChanges.get(S.targetId),R=j&&j.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(O,E.isPrimaryClient,D,R);return Q_(E,S.targetId,V.au),V.snapshot})(t,p,b,w);const s=await G_(t.localStore,e,!0),l=new OY(e,s.Qs),c=l.ru(s.documents),d=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);Q_(t,n,f.au);const m=new PY(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function zY(t,e,n){const r=De(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!dv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_d(r.remoteStore,i.targetId),Sd(r,i.targetId)})).catch(hl)):(Sd(r,i.targetId),await wd(r.localStore,i.targetId,!0))}async function LY(t,e){const n=De(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_d(n.remoteStore,r.targetId))}async function VY(t,e,n){const r=cT(t);try{const i=await(function(l,c){const d=De(l),f=St.now(),m=c.reduce(((w,_)=>w.add(_.key)),nt());let p,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let _=ai(),E=nt();return d.Ns.getEntries(w,m).next((S=>{_=S,_.forEach(((I,j)=>{j.isValidDocument()||(E=E.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,_))).next((S=>{p=S;const I=[];for(const j of c){const O=iK(j,p.get(j.key).overlayedDocument);O!=null&&I.push(new pl(j.key,O,I4(O.value.mapValue),si.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,I,c)})).next((S=>{b=S;const I=S.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(w,S.batchId,I)}))})).then((()=>({batchId:b.batchId,changes:U4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Lt(We)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await gl(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=rT(i,"Failed to persist write");n.reject(s)}}async function W5(t,e){const n=De(t);try{const r=await eY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Le(l.hu,14607):i.removedDocuments.size>0&&(Le(l.hu,42227),l.hu=!1))})),await gl(n,r,e)}catch(r){await hl(r)}}function mO(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=De(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(c)&&(f=!0)})),f&&iT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BY(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Lt(Te.comparator);l=l.insert(s,an.newNoDocument(s,Be.min()));const c=nt().add(s),d=new Rm(Be.min(),new Map,new Lt(We),l,c);await W5(r,d),r.du=r.du.remove(s),r.Au.delete(e),lT(r)}else await wd(r.localStore,e,!1).then((()=>Sd(r,e,n))).catch(hl)}async function UY(t,e){const n=De(t),r=e.batch.batchId;try{const i=await JK(n.localStore,e);oT(n,r,null),sT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gl(n,i)}catch(i){await hl(i)}}async function FY(t,e,n){const r=De(t);try{const i=await(function(l,c){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(Le(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);oT(r,e,n),sT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gl(r,i)}catch(i){await hl(i)}}function sT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oT(t,e,n){const r=De(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||X5(t,r)}))}function X5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_d(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lT(t))}function Q_(t,e,n){for(const r of n)r instanceof G5?(t.Ru.addReference(r.key,e),qY(t,r)):r instanceof K5?(ve(Kd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||X5(t,r.key)):Ne(19791,{wu:r})}function qY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(Kd,"New document in limbo: "+n),t.Eu.add(r),lT(t))}function lT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Rt.fromString(e)),r=t.fu.next();t.Au.set(r,new RY(n)),t.du=t.du.insert(n,r),bv(t.remoteStore,new Os(ci(uv(n.path)),r,"TargetPurposeLimboResolution",Lr.ce))}}async function gl(t,e,n){const r=De(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=XS.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>X.forEach(f,(b=>X.forEach(b.Es,(w=>m.persistence.referenceDelegate.addReference(p,b.targetId,w))).next((()=>X.forEach(b.ds,(w=>m.persistence.referenceDelegate.removeReference(p,b.targetId,w)))))))))}catch(p){if(!ml(p))throw p;ve(QS,"Failed to update sequence numbers: "+p)}for(const p of f){const b=p.targetId;if(!p.fromCache){const w=m.Ms.get(b),_=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(_);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function $Y(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ve(Kd,"User change. New user:",e.toKey());const r=await C5(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new ke(ge.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gl(n,r.Ls)}}function HY(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function GY(t,e){const n=De(t),r=await G_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&Q_(n,e.targetId,i.au),i}async function KY(t,e){const n=De(t);return P5(n.localStore,e).then((r=>gl(n,r)))}async function YY(t,e,n,r){const i=De(t),s=await(function(c,d){const f=De(c),m=De(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,d).next((b=>b?f.localDocuments.getDocuments(p,b):X.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Hd(i.remoteStore):n==="acknowledged"||n==="rejected"?(oT(i,e,r||null),sT(i,e),(function(c,d){De(De(c).mutationQueue).ir(d)})(i.localStore,e)):Ne(6720,"Unknown batchState",{Su:n}),await gl(i,s)):ve(Kd,"Cannot apply mutation batch with id: "+e)}async function WY(t,e){const n=De(t);if(xv(n),cT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await pO(n,r.toArray());n.gu=!0,await W_(n.remoteStore,!0);for(const s of i)bv(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Sd(n,l),wd(n.localStore,l,!0)))),_d(n.remoteStore,l)})),await i,await pO(n,r),(function(l){const c=De(l);c.Au.forEach(((d,f)=>{_d(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Lt(Te.comparator)})(n),n.gu=!1,await W_(n.remoteStore,!1)}}async function pO(t,e,n){const r=De(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await Q0(r.localStore,ci(d[0]));for(const f of d){const m=r.Tu.get(f),p=await GY(r,m);p.snapshot&&s.push(p.snapshot)}}else{const f=await O5(r.localStore,l);c=await Q0(r.localStore,f),await aT(r,Q5(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function Q5(t){return D4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function XY(t){return(function(n){return De(De(n).persistence).Ts()})(De(t).localStore)}async function QY(t,e,n,r){const i=De(t);if(i.gu)return void ve(Kd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await P5(i.localStore,L4(s[0])),c=Rm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",dn.EMPTY_BYTE_STRING);await gl(i,l,c);break}case"rejected":await wd(i.localStore,e,!0),Sd(i,e,r);break;default:Ne(64155,n)}}async function ZY(t,e,n){const r=xv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ve(Kd,"Adding an already active target "+i);continue}const s=await O5(r.localStore,i),l=await Q0(r.localStore,s);await aT(r,Q5(s),l.targetId,!1,l.resumeToken),bv(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await wd(r.localStore,i,!1).then((()=>{_d(r.remoteStore,i),Sd(r,i)})).catch(hl)}}function xv(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BY.bind(null,e),e.Pu.H_=IY.bind(null,e.eventManager),e.Pu.yu=CY.bind(null,e.eventManager),e}function cT(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FY.bind(null,e),e}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I5(this.persistence,new k5,e.initialUser,this.serializer)}Cu(e){return new YS(gv.mi,this.serializer)}Du(e){return new z5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class JY extends tm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof X0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new YS((r=>X0.mi(r,n)),this.serializer)}}class Z5 extends tm{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await cT(this.xu.syncEngine),await Hd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return I5(this.persistence,new k5,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new w5(r,e.asyncQueue,n)}Mu(e,n){const r=new aG(n,this.persistence);return new iG(e.asyncQueue,r)}Cu(e){const n=A5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new WS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,L5(),_0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new z5}}class eW extends Z5{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof k1&&(this.sharedClientState.syncEngine={Co:YY.bind(null,n),vo:QY.bind(null,n),Fo:ZY.bind(null,n),Ts:XY.bind(null,n),Do:KY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await WY(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=L5();if(!k1.v(n))throw new ke(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=A5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new k1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Y.bind(null,this.syncEngine),await W_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TY})()}createDatastore(e){const n=yv(e.databaseInfo.databaseId),r=(function(s){return new oY(s)})(e.databaseInfo);return(function(s,l,c,d){return new dY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new hY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>mO(this.syncEngine,n,0)),(function(){return lO.v()?new lO:new rY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,m){const p=new jY(i,s,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ve(Nc,"RemoteStore shutting down."),r.Ea.add(5),await Mm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};class tW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ol="FirestoreClient";class nW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=SS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ve(ol,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(ol,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function C1(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await C5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function gO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rW(t);ve(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>uO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>uO(e.remoteStore,i))),t._onlineComponents=e}async function rW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ol,"Using user provided OfflineComponentProvider");try{await C1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$h("Error using user provided cache. Falling back to memory cache: "+n),await C1(t,new tm)}}else ve(ol,"Using default OfflineComponentProvider"),await C1(t,new JY(void 0));return t._offlineComponents}async function J5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ol,"Using user provided OnlineComponentProvider"),await gO(t,t._uninitializedComponentsProvider._online)):(ve(ol,"Using default OnlineComponentProvider"),await gO(t,new nm))),t._onlineComponents}function iW(t){return J5(t).then((e=>e.syncEngine))}async function yO(t){const e=await J5(t),n=e.eventManager;return n.onListen=MY.bind(null,e.syncEngine),n.onUnlisten=zY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LY.bind(null,e.syncEngine),n}function e3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const vO=new Map;const aW="firestore.googleapis.com",bO=!0;class xO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aW,this.ssl=bO}else this.host=e.host,this.ssl=e.ssl??bO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x5)throw new ke(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t3{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HH;switch(r.type){case"firstParty":return new YH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vO.get(n);r&&(ve("ComponentProvider","Removing Datastore"),vO.delete(n),r.terminate())})(this),Promise.resolve()}}class wv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wv(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cm(n,Hn._jsonSchema))return new Hn(e,r||null,new Te(Rt.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:En("string",Hn._jsonSchemaVersion),referencePath:En("string")};class rm extends wv{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Te(e))}withConverter(e){return new rm(this.firestore,e,this._path)}}function N1(t,e,...n){if(t=Ur(t),arguments.length===1&&(e=SS.newId()),eG("doc","path",e),t instanceof t3){const r=Rt.fromString(e,...n);return cN(r),new Hn(t,null,new Te(r))}{if(!(t instanceof Hn||t instanceof rm))throw new ke(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return cN(r),new Hn(t.firestore,t instanceof rm?t.converter:null,new Te(r))}}const wO="AsyncQueue";class _O{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V5(this,"async_queue_retry"),this._c=()=>{const r=_0();r&&ve(wO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ve(wO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",EO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:EO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function EO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function SO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ty extends t3{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _O,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _O(e),this._firestoreClient=void 0,await e}}}function sW(t,e,n){n||(n=U0);const r=fS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(wc(s,e))return i;throw new ke(ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ke(ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x5)throw new ke(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Bd(e.host)&&oz(e.host),r.initialize({options:e,instanceIdentifier:n})}function n3(t){if(t._terminated)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oW(t),t._firestoreClient}function oW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new RG(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,e3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(dn.fromBase64String(e))}catch(n){throw new ke(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cm(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:En("string",Ri._jsonSchemaVersion),bytes:En("string")};class uT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class r3{constructor(e){this._methodName=e}}class Ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ha._jsonSchemaVersion}}static fromJSON(e){if(Cm(e,Ha._jsonSchema))return new Ha(e.latitude,e.longitude)}}Ha._jsonSchemaVersion="firestore/geoPoint/1.0",Ha._jsonSchema={type:En("string",Ha._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class Ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cm(e,Ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ga(e.vectorValues);throw new ke(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ga._jsonSchemaVersion="firestore/vectorValue/1.0",Ga._jsonSchema={type:En("string",Ga._jsonSchemaVersion),vectorValues:En("object")};const lW=/^__.*__$/;class cW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}function i3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class dT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ny(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i3(this.Ac)&&lW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yv(e)}Cc(e,n,r,i=!1){return new dT({Ac:e,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dW(t){const e=t._freezeSettings(),n=yv(t._databaseId);return new uW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fW(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);l3("Data must be an object, but it was:",l,r);const c=s3(r,l);let d,f;if(s.merge)d=new ji(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=hW(e,p,n);if(!l.contains(b))throw new ke(ge.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);pW(m,b)||m.push(b)}d=new ji(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new cW(new zr(c),d,f)}function a3(t,e){if(o3(t=Ur(t)))return l3("Unsupported field value:",e,t),s3(t,e);if(t instanceof r3)return(function(r,i){if(!i3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=a3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:xd(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,s)}}if(r instanceof Ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:e5(i.serializer,r._byteString)};if(r instanceof Hn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$S(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return(function(l,c){return{mapValue:{fields:{[RS]:{stringValue:jS},[md]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return LS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${TS(r)}`)})(t,e)}function s3(t,e){const n={};return b4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(t,((r,i)=>{const s=a3(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function o3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Ha||t instanceof Ri||t instanceof Hn||t instanceof r3||t instanceof Ga)}function l3(t,e,n){if(!o3(n)||!n4(n)){const r=TS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function hW(t,e,n){if((e=Ur(e))instanceof uT)return e._internalPath;if(typeof e=="string")return c3(t,e);throw ny("Field path arguments must be of type string or ",t,!1,void 0,n)}const mW=new RegExp("[~\\*/\\[\\]]");function c3(t,e,n){if(e.search(mW)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uT(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ny(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ke(ge.INVALID_ARGUMENT,c+t+d)}function pW(t,e){return t.some((n=>n.isEqual(e)))}class u3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gW extends u3{data(){return super.data()}}function d3(t,e){return typeof e=="string"?c3(t,e):e instanceof uT?e._internalPath:e._delegate._internalPath}function yW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vW{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[md].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new Ga(n)}convertGeoPoint(e){return new Ha(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);Le(u5(r),9688,{name:e});const i=new Tc(r.get(1),r.get(3)),s=new Te(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pc extends u3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new E0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(d3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",pc._jsonSchema={type:En("string",pc._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class E0 extends pc{data(e={}){return super.data(e)}}class nd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new E0(this._firestore,this._userDataWriter,r.key,r,new Th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Th(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new E0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Th(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:xW(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=SS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}nd._jsonSchemaVersion="firestore/querySnapshot/1.0",nd._jsonSchema={type:En("string",nd._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class f3 extends vW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function wW(t,e,n){t=Nh(t,Hn);const r=Nh(t.firestore,ty),i=bW(t.converter,e);return _W(r,[fW(dW(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,si.none())])}function TO(t,...e){t=Ur(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||SO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SO(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof Hn)l=Nh(t.firestore,ty),c=uv(t._key.path),s={next:d=>{e[r]&&e[r](EW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Nh(t,wv);l=Nh(d.firestore,ty),c=d._query;const f=new f3(l);s={next:m=>{e[r]&&e[r](new nd(l,f,d,m))},error:e[r+1],complete:e[r+2]},yW(t._query)}return(function(f,m,p,b){const w=new tW(b),_=new NY(m,w,p);return f.asyncQueue.enqueueAndForget((async()=>AY(await yO(f),_))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>kY(await yO(f),_)))}})(n3(l),c,i,s)}function _W(t,e){return(function(r,i){const s=new tl;return r.asyncQueue.enqueueAndForget((async()=>VY(await iW(r),i,s))),s.promise})(n3(t),e)}function EW(t,e,n){const r=n.docs.get(e._key),i=new f3(t);return new pc(t,i,e._key,r,new Th(n.hasPendingWrites,n.fromCache),e.converter)}class SW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=IW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function TW(t){return new SW(t)}class AW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nm.provider,this._offlineComponentProvider={build:n=>new Z5(n,e?.cacheSizeBytes,this.forceOwnership)}}}class kW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nm.provider,this._offlineComponentProvider={build:n=>new eW(n,e?.cacheSizeBytes)}}}function IW(t){return new AW(t?.forceOwnership)}function CW(){return new kW}(function(e,n=!0){(function(i){qd=i})(Ud),sd(new _c("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ty(new GH(r.getProvider("auth-internal")),new WH(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Jo(aN,sN,e),Jo(aN,sN,"esm2020")})();const NW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"vaultly-ce7e1",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},h3=mz(NW),Lg=BH(h3),OW=new As,O1=sW(h3,{localCache:TW({tabManager:CW()})}),m3=T.createContext(void 0),PW=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=C$(Lg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await A$(Lg,Lz),await W$(Lg,OW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await N$(Lg)}catch(c){console.error("Error signing out",c)}};return g.jsx(m3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},Dm=()=>{const t=T.useContext(m3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Es={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},projects:[],scheduledTransactions:[],presets:[],settings:{currency:"$",theme:"classic",hasSeenOnboarding:!1},goals:[],funds:[],credits:[],version:2,lastUpdated:Date.now()},Vg={subscribeToMasterDoc(t,e,n){const r=N1(O1,"users",t,"data","master");return console.log(`[CloudStorage] Subscribing to ${r.path}`),TO(r,i=>{const s=i.metadata.fromCache?"local cache":"server";console.log(`[CloudStorage] Data received from ${s}`),i.exists()?e(i.data()):(console.log("[CloudStorage] Document does not exist"),e(null))},i=>{console.error("[CloudStorage] Snapshot Error:",i),i.code==="permission-denied"&&console.error("CRITICAL: Permission Denied. Check Firestore Rules/Auth."),n(i)})},async fetchMasterDoc(t){return new Promise((e,n)=>{const r=N1(O1,"users",t,"data","master"),i=TO(r,s=>{i(),s.exists()?e(s.data()):e(null)},s=>{i(),n(s)})})},async saveMasterDoc(t,e){try{const n=N1(O1,"users",t,"data","master");await wW(n,{...e,lastUpdated:Date.now()}),console.log("[CloudStorage] Master Doc Saved Successfully")}catch(n){throw console.error("Error saving master doc:",n),n.code==="permission-denied"?new Error("Permiso denegado al guardar. Ests logueado?"):n}}};function RW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const jW=t=>{switch(t){case"success":return zW;case"info":return VW;case"warning":return LW;case"error":return BW;default:return null}},MW=Array(12).fill(0),DW=({visible:t,className:e})=>Ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ee.createElement("div",{className:"sonner-spinner"},MW.map((n,r)=>Ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zW=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LW=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VW=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BW=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UW=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FW=()=>{const[t,e]=Ee.useState(document.hidden);return Ee.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Z_=1;class qW{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Z_++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],Ee.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(HW(f)&&!f.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,_=typeof p=="object"&&!Ee.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,..._})}else if(f instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,_=typeof p=="object"&&!Ee.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,..._})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,_=typeof p=="object"&&!Ee.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:b,..._})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!Ee.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...w})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||Z_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dr=new qW,$W=(t,e)=>{const n=e?.id||Z_++;return Dr.addToast({title:t,...e,id:n}),n},HW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GW=$W,KW=()=>Dr.toasts,YW=()=>Dr.getActiveToasts(),Jt=Object.assign(GW,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:KW,getToasts:YW});RW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Bg(t){return t.label!==void 0}const WW=3,XW="24px",QW="16px",AO=4e3,ZW=356,JW=14,eX=45,tX=200;function Ma(...t){return t.filter(Boolean).join(" ")}function nX(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const rX=t=>{var e,n,r,i,s,l,c,d,f;const{invert:m,toast:p,unstyled:b,interacting:w,setHeights:_,visibleToasts:E,heights:S,index:I,toasts:j,expanded:O,removeToast:D,defaultRichColors:R,closeButton:V,style:P,cancelButtonStyle:C,actionButtonStyle:z,className:F="",descriptionClassName:L="",duration:q,position:U,gap:be,expandByDefault:Ie,classNames:Y,icons:re,closeButtonAriaLabel:G="Close toast"}=t,[ye,Ae]=Ee.useState(null),[$,ae]=Ee.useState(null),[te,de]=Ee.useState(!1),[xe,J]=Ee.useState(!1),[fe,Ce]=Ee.useState(!1),[se,Re]=Ee.useState(!1),[Ue,me]=Ee.useState(!1),[gt,Ke]=Ee.useState(0),[kt,vt]=Ee.useState(0),qt=Ee.useRef(p.duration||q||AO),Fe=Ee.useRef(null),ce=Ee.useRef(null),Qe=I===0,Mn=I+1<=E,Dn=p.type,Fi=p.dismissible!==!1,Wn=p.className||"",rs=p.descriptionClassName||"",pa=Ee.useMemo(()=>S.findIndex($e=>$e.toastId===p.id)||0,[S,p.id]),xl=Ee.useMemo(()=>{var $e;return($e=p.closeButton)!=null?$e:V},[p.closeButton,V]),qi=Ee.useMemo(()=>p.duration||q||AO,[p.duration,q]),wl=Ee.useRef(0),$i=Ee.useRef(0),_l=Ee.useRef(0),Hi=Ee.useRef(null),[qr,Tn]=U.split("-"),br=Ee.useMemo(()=>S.reduce(($e,yt,hn)=>hn>=pa?$e:$e+yt.height,0),[S,pa]),$t=FW(),Gc=p.invert||m,ga=Dn==="loading";$i.current=Ee.useMemo(()=>pa*be+br,[pa,br]),Ee.useEffect(()=>{qt.current=qi},[qi]),Ee.useEffect(()=>{de(!0)},[]),Ee.useEffect(()=>{const $e=ce.current;if($e){const yt=$e.getBoundingClientRect().height;return vt(yt),_(hn=>[{toastId:p.id,height:yt,position:p.position},...hn]),()=>_(hn=>hn.filter(zn=>zn.toastId!==p.id))}},[_,p.id]),Ee.useLayoutEffect(()=>{if(!te)return;const $e=ce.current,yt=$e.style.height;$e.style.height="auto";const hn=$e.getBoundingClientRect().height;$e.style.height=yt,vt(hn),_(zn=>zn.find(Vt=>Vt.toastId===p.id)?zn.map(Vt=>Vt.toastId===p.id?{...Vt,height:hn}:Vt):[{toastId:p.id,height:hn,position:p.position},...zn])},[te,p.title,p.description,_,p.id,p.jsx,p.action,p.cancel]);const $r=Ee.useCallback(()=>{J(!0),Ke($i.current),_($e=>$e.filter(yt=>yt.toastId!==p.id)),setTimeout(()=>{D(p)},tX)},[p,D,_,$i]);Ee.useEffect(()=>{if(p.promise&&Dn==="loading"||p.duration===1/0||p.type==="loading")return;let $e;return O||w||$t?(()=>{if(_l.current<wl.current){const zn=new Date().getTime()-wl.current;qt.current=qt.current-zn}_l.current=new Date().getTime()})():qt.current!==1/0&&(wl.current=new Date().getTime(),$e=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),$r()},qt.current)),()=>clearTimeout($e)},[O,w,p,Dn,$t,$r]),Ee.useEffect(()=>{p.delete&&($r(),p.onDismiss==null||p.onDismiss.call(p,p))},[$r,p.delete]);function gi(){var $e;if(re?.loading){var yt;return Ee.createElement("div",{className:Ma(Y?.loader,p==null||(yt=p.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":Dn==="loading"},re.loading)}return Ee.createElement(DW,{className:Ma(Y?.loader,p==null||($e=p.classNames)==null?void 0:$e.loader),visible:Dn==="loading"})}const is=p.icon||re?.[Dn]||jW(Dn);var Qt,Hr;return Ee.createElement("li",{tabIndex:0,ref:ce,className:Ma(F,Wn,Y?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,Y?.default,Y?.[Dn],p==null||(n=p.classNames)==null?void 0:n[Dn]),"data-sonner-toast":"","data-rich-colors":(Qt=p.richColors)!=null?Qt:R,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":te,"data-promise":!!p.promise,"data-swiped":Ue,"data-removed":xe,"data-visible":Mn,"data-y-position":qr,"data-x-position":Tn,"data-index":I,"data-front":Qe,"data-swiping":fe,"data-dismissible":Fi,"data-type":Dn,"data-invert":Gc,"data-swipe-out":se,"data-swipe-direction":$,"data-expanded":!!(O||Ie&&te),"data-testid":p.testId,style:{"--index":I,"--toasts-before":I,"--z-index":j.length-I,"--offset":`${xe?gt:$i.current}px`,"--initial-height":Ie?"auto":`${kt}px`,...P,...p.style},onDragEnd:()=>{Ce(!1),Ae(null),Hi.current=null},onPointerDown:$e=>{$e.button!==2&&(ga||!Fi||(Fe.current=new Date,Ke($i.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(Ce(!0),Hi.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,yt,hn;if(se||!Fi)return;Hi.current=null;const zn=Number((($e=ce.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xr=Number(((yt=ce.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((hn=Fe.current)==null?void 0:hn.getTime()),dr=ye==="x"?zn:xr,yi=Math.abs(dr)/Vt;if(Math.abs(dr)>=eX||yi>.11){Ke($i.current),p.onDismiss==null||p.onDismiss.call(p,p),ae(ye==="x"?zn>0?"right":"left":xr>0?"down":"up"),$r(),Re(!0);return}else{var Xn,Qn;(Xn=ce.current)==null||Xn.style.setProperty("--swipe-amount-x","0px"),(Qn=ce.current)==null||Qn.style.setProperty("--swipe-amount-y","0px")}me(!1),Ce(!1),Ae(null)},onPointerMove:$e=>{var yt,hn,zn;if(!Hi.current||!Fi||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;const Vt=$e.clientY-Hi.current.y,dr=$e.clientX-Hi.current.x;var yi;const Xn=(yi=t.swipeDirections)!=null?yi:nX(U);!ye&&(Math.abs(dr)>1||Math.abs(Vt)>1)&&Ae(Math.abs(dr)>Math.abs(Vt)?"x":"y");let Qn={x:0,y:0};const ya=Zn=>1/(1.5+Math.abs(Zn)/20);if(ye==="y"){if(Xn.includes("top")||Xn.includes("bottom"))if(Xn.includes("top")&&Vt<0||Xn.includes("bottom")&&Vt>0)Qn.y=Vt;else{const Zn=Vt*ya(Vt);Qn.y=Math.abs(Zn)<Math.abs(Vt)?Zn:Vt}}else if(ye==="x"&&(Xn.includes("left")||Xn.includes("right")))if(Xn.includes("left")&&dr<0||Xn.includes("right")&&dr>0)Qn.x=dr;else{const Zn=dr*ya(dr);Qn.x=Math.abs(Zn)<Math.abs(dr)?Zn:dr}(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&me(!0),(hn=ce.current)==null||hn.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(zn=ce.current)==null||zn.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},xl&&!p.jsx&&Dn!=="loading"?Ee.createElement("button",{"aria-label":G,"data-disabled":ga,"data-close-button":!0,onClick:ga||!Fi?()=>{}:()=>{$r(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ma(Y?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(Hr=re?.close)!=null?Hr:UW):null,(Dn||p.icon||p.promise)&&p.icon!==null&&(re?.[Dn]!==null||p.icon)?Ee.createElement("div",{"data-icon":"",className:Ma(Y?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gi():null,p.type!=="loading"?is:null):null,Ee.createElement("div",{"data-content":"",className:Ma(Y?.content,p==null||(s=p.classNames)==null?void 0:s.content)},Ee.createElement("div",{"data-title":"",className:Ma(Y?.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?Ee.createElement("div",{"data-description":"",className:Ma(L,rs,Y?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),Ee.isValidElement(p.cancel)?p.cancel:p.cancel&&Bg(p.cancel)?Ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:$e=>{Bg(p.cancel)&&Fi&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,$e),$r())},className:Ma(Y?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,Ee.isValidElement(p.action)?p.action:p.action&&Bg(p.action)?Ee.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:$e=>{Bg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,$e),!$e.defaultPrevented&&$r())},className:Ma(Y?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function kO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function iX(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?QW:XW;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const p3=Ee.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:b="light",richColors:w,duration:_,style:E,visibleToasts:S=WW,toastOptions:I,dir:j=kO(),gap:O=JW,icons:D,containerAriaLabel:R="Notifications"}=e,[V,P]=Ee.useState([]),C=Ee.useMemo(()=>r?V.filter(te=>te.toasterId===r):V.filter(te=>!te.toasterId),[V,r]),z=Ee.useMemo(()=>Array.from(new Set([s].concat(C.filter(te=>te.position).map(te=>te.position)))),[C,s]),[F,L]=Ee.useState([]),[q,U]=Ee.useState(!1),[be,Ie]=Ee.useState(!1),[Y,re]=Ee.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Ee.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ae=Ee.useRef(null),$=Ee.useRef(!1),ae=Ee.useCallback(te=>{P(de=>{var xe;return(xe=de.find(J=>J.id===te.id))!=null&&xe.delete||Dr.dismiss(te.id),de.filter(({id:J})=>J!==te.id)})},[]);return Ee.useEffect(()=>Dr.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{P(de=>de.map(xe=>xe.id===te.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{aF.flushSync(()=>{P(de=>{const xe=de.findIndex(J=>J.id===te.id);return xe!==-1?[...de.slice(0,xe),{...de[xe],...te},...de.slice(xe+1)]:[te,...de]})})})}),[V]),Ee.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:de})=>{re(de?"dark":"light")})}catch{te.addListener(({matches:xe})=>{try{re(xe?"dark":"light")}catch(J){console.error(J)}})}},[b]),Ee.useEffect(()=>{V.length<=1&&U(!1)},[V]),Ee.useEffect(()=>{const te=de=>{var xe;if(l.every(Ce=>de[Ce]||de.code===Ce)){var fe;U(!0),(fe=G.current)==null||fe.focus()}de.code==="Escape"&&(document.activeElement===G.current||(xe=G.current)!=null&&xe.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[l]),Ee.useEffect(()=>{if(G.current)return()=>{Ae.current&&(Ae.current.focus({preventScroll:!0}),Ae.current=null,$.current=!1)}},[G.current]),Ee.createElement("section",{ref:n,"aria-label":`${R} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((te,de)=>{var xe;const[J,fe]=te.split("-");return C.length?Ee.createElement("ol",{key:te,dir:j==="auto"?kO():j,tabIndex:-1,ref:G,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":J,"data-x-position":fe,style:{"--front-toast-height":`${((xe=F[0])==null?void 0:xe.height)||0}px`,"--width":`${ZW}px`,"--gap":`${O}px`,...E,...iX(m,p)},onBlur:Ce=>{$.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&($.current=!1,Ae.current&&(Ae.current.focus({preventScroll:!0}),Ae.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||$.current||($.current=!0,Ae.current=Ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{be||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||Ie(!0)},onPointerUp:()=>Ie(!1)},C.filter(Ce=>!Ce.position&&de===0||Ce.position===te).map((Ce,se)=>{var Re,Ue;return Ee.createElement(rX,{key:Ce.id,icons:D,index:se,toast:Ce,defaultRichColors:w,duration:(Re=I?.duration)!=null?Re:_,className:I?.className,descriptionClassName:I?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Ue=I?.closeButton)!=null?Ue:d,interacting:be,position:te,style:I?.style,unstyled:I?.unstyled,classNames:I?.classNames,cancelButtonStyle:I?.cancelButtonStyle,actionButtonStyle:I?.actionButtonStyle,closeButtonAriaLabel:I?.closeButtonAriaLabel,removeToast:ae,toasts:C.filter(me=>me.position==Ce.position),heights:F.filter(me=>me.position==Ce.position),setHeights:L,expandByDefault:c,gap:O,expanded:q,swipeDirections:e.swipeDirections})})):null}))}),g3=T.createContext(void 0),aX=({children:t})=>{const{user:e}=Dm(),[n,r]=T.useState(Es),[i,s]=T.useState(!0),[l,c]=T.useState(!1),[d,f]=T.useState(!1),m=T.useRef(null);T.useEffect(()=>{if(!e){r(Es),s(!1);return}s(!0),f(!1);const _=Vg.subscribeToMasterDoc(e.uid,E=>{if(E){const S={...Es,...E,settings:{...Es.settings,...E.settings||{}},categories:{...Es.categories,...E.categories||{}}};r(S)}else console.log("[DataContext] New user setup initialized"),r(Es),Vg.saveMasterDoc(e.uid,Es).catch(S=>{console.error("Failed to create initial doc:",S),f(!0)});s(!1),f(!1)},E=>{console.error("[DataContext] Sync Error:",E),f(!0),Jt.error("Error de sincronizacin. Cambios no se guardarn en la nube."),s(!1)});return()=>_()},[e]);const p=_=>{if(e){if(d){console.warn("[DataContext] Save blocked due to sync error state"),Jt.error("No se puede guardar: Error de conexin previo");return}c(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{try{await Vg.saveMasterDoc(e.uid,_),c(!1),console.log("Auto-saved to cloud")}catch(E){console.error("Auto-save failed",E),c(!1),Jt.error("Error al guardar cambios")}},2e3)}},b=_=>{r(E=>{const S={...E,..._};return p(S),S})},w=async()=>{if(e)try{c(!0),await Vg.saveMasterDoc(e.uid,Es),r(Es),Jt.success("Mundo reinstalado desde cero.")}catch(_){console.error("Failed to nuke data:",_),Jt.error("Fallo en la detonacin. Los datos persisten.")}finally{c(!1)}};return g.jsx(g3.Provider,{value:{data:n,updateData:b,isLoading:i,isSaving:l,resetData:w},children:t})},Di=()=>{const t=T.useContext(g3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const sX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),IO=t=>{const e=oX(t);return e.charAt(0).toUpperCase()+e.slice(1)},y3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...cX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:y3("lucide",i),...!s&&!lX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>T.createElement(f,m)),...Array.isArray(s)?s:[s]]));const Se=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(uX,{ref:s,iconNode:e,className:y3(`lucide-${sX(IO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=IO(t),n};const dX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ry=Se("arrow-down-left",dX);const fX=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],J_=Se("arrow-down-right",fX);const hX=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],mX=Se("arrow-up-left",hX);const pX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Td=Se("arrow-up-right",pX);const gX=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],CO=Se("bomb",gX);const yX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vX=Se("book-open",yX);const bX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],v3=Se("briefcase",bX);const xX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],fT=Se("calculator",xX);const wX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],b3=Se("calendar-clock",wX);const _X=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],x3=Se("calendar",_X);const EX=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],SX=Se("car",EX);const TX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AX=Se("chart-pie",TX);const kX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],w3=Se("check",kX);const IX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CX=Se("chevron-down",IX);const NX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OX=Se("chevron-left",NX);const PX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_3=Se("chevron-right",PX);const RX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],NO=Se("circle-arrow-down",RX);const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],OO=Se("circle-arrow-up",jX);const MX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PO=Se("circle-check-big",MX);const DX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],zX=Se("circle-pause",DX);const LX=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VX=Se("circle-play",LX);const BX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UX=Se("clock",BX);const FX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],qX=Se("cloud-off",FX);const $X=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],HX=Se("cloud",$X);const GX=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],KX=Se("coffee",GX);const YX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WX=Se("credit-card",YX);const XX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],QX=Se("database",XX);const ZX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],E3=Se("dollar-sign",ZX);const JX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eQ=Se("download",JX);const tQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],S3=Se("ellipsis",tQ);const nQ=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],rQ=Se("flame",nQ);const iQ=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],eE=Se("folder-kanban",iQ);const aQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sQ=Se("funnel",aQ);const oQ=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],lQ=Se("gamepad-2",oQ);const cQ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],uQ=Se("gift",cQ);const dQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fQ=Se("heart",dQ);const hQ=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],mQ=Se("hourglass",hQ);const pQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gQ=Se("house",pQ);const yQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],im=Se("landmark",yQ);const vQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bQ=Se("layers",vQ);const xQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wQ=Se("layout-dashboard",xQ);const _Q=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],RO=Se("list",_Q);const EQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],SQ=Se("loader-circle",EQ);const TQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AQ=Se("log-out",TQ);const kQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IQ=Se("menu",kQ);const CQ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],NQ=Se("moon",CQ);const OQ=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],PQ=Se("mouse-pointer-click",OQ);const RQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jQ=Se("pen",RQ);const MQ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],DQ=Se("percent",MQ);const zQ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],zm=Se("piggy-bank",zQ);const LQ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],VQ=Se("plane",LQ);const BQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ka=Se("plus",BQ);const UQ=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 15.4641a4 4 0 0 1-4 0L7.52786 19.74597 A 1 1 0 0 0 7.99303 21.16211 10 10 0 0 0 16.00697 21.16211 1 1 0 0 0 16.47214 19.74597z",key:"1y4lzb"}],["path",{d:"M16 12a4 4 0 0 0-2-3.464l2.472-4.282a1 1 0 0 1 1.46-.305 10 10 0 0 1 4.006 6.94A1 1 0 0 1 21 12z",key:"163ggk"}],["path",{d:"M8 12a4 4 0 0 1 2-3.464L7.528 4.254a1 1 0 0 0-1.46-.305 10 10 0 0 0-4.006 6.94A1 1 0 0 0 3 12z",key:"1l9i0b"}]],jO=Se("radiation",UQ);const FQ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],qQ=Se("receipt",FQ);const $Q=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hT=Se("refresh-cw",$Q);const HQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],GQ=Se("rocket",HQ);const KQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],YQ=Se("rotate-ccw",KQ);const WQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XQ=Se("save",WQ);const QQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZQ=Se("search",QQ);const JQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T3=Se("settings",JQ);const eZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tZ=Se("shield",eZ);const nZ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],rZ=Se("shopping-bag",nZ);const iZ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],aZ=Se("siren",iZ);const sZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],oZ=Se("smartphone",sZ);const lZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],cZ=Se("smile",lZ);const uZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dZ=Se("star",uZ);const fZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hZ=Se("sun",fZ);const mZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gc=Se("target",mZ);const pZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],gZ=Se("text-align-start",pZ);const yZ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],P1=Se("toggle-left",yZ);const vZ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],R1=Se("toggle-right",vZ);const bZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ya=Se("trash-2",bZ);const xZ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],tE=Se("trending-down",xZ);const wZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A3=Se("trending-up",wZ);const _Z=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],EZ=Se("upload",_Z);const SZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TZ=Se("user",SZ);const AZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Lm=Se("wallet",AZ);const kZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],am=Se("x",kZ);const IZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CZ=Se("zap",IZ);function k3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=k3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=k3(t))&&(r&&(r+=" "),r+=e);return r}const NZ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},OZ=(t,e)=>({classGroupId:t,validator:e}),I3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),iy="-",MO=[],PZ="arbitrary..",RZ=t=>{const e=MZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return jZ(l);const c=l.split(iy),d=c[0]===""&&c.length>1?1:0;return C3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?NZ(f,d):d:f||MO}return n[l]||MO}}},C3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=C3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(iy):t.slice(e).join(iy),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},jZ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?PZ+r:void 0})(),MZ=t=>{const{theme:e,classGroups:n}=t;return DZ(n,e)},DZ=(t,e)=>{const n=I3();for(const r in t){const i=t[r];mT(i,n,r,e)}return n},mT=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];zZ(l,e,n,r)}},zZ=(t,e,n,r)=>{if(typeof t=="string"){LZ(t,e,n);return}if(typeof t=="function"){VZ(t,e,n,r);return}BZ(t,e,n,r)},LZ=(t,e,n)=>{const r=t===""?e:N3(e,t);r.classGroupId=n},VZ=(t,e,n,r)=>{if(UZ(t)){mT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(OZ(n,t))},BZ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];mT(d,N3(e,c),n,r)}},N3=(t,e)=>{let n=t;const r=e.split(iy),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=I3(),n.nextPart.set(l,c)),n=c}return n},UZ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,FZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},nE="!",DO=":",qZ=[],zO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),$Z=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const m=i.length;for(let E=0;E<m;E++){const S=i[E];if(l===0&&c===0){if(S===DO){s.push(i.slice(d,E)),d=E+1;continue}if(S==="/"){f=E;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const p=s.length===0?i:i.slice(d);let b=p,w=!1;p.endsWith(nE)?(b=p.slice(0,-1),w=!0):p.startsWith(nE)&&(b=p.slice(1),w=!0);const _=f&&f>d?f-d:void 0;return zO(s,w,b,_)};if(e){const i=e+DO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):zO(qZ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},HZ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},GZ=t=>({cache:FZ(t.cacheSize),parseClassName:$Z(t),sortModifiers:HZ(t),...RZ(t)}),KZ=/\s+/,YZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(KZ);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:b,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:E}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let S=!!E,I=r(S?_.substring(0,E):_);if(!I){if(!S){d=m+(d.length>0?" "+d:d);continue}if(I=r(_),!I){d=m+(d.length>0?" "+d:d);continue}S=!1}const j=b.length===0?"":b.length===1?b[0]:s(b).join(":"),O=w?j+nE:j,D=O+I;if(l.indexOf(D)>-1)continue;l.push(D);const R=i(I,S);for(let V=0;V<R.length;++V){const P=R[V];l.push(O+P)}d=m+(d.length>0?" "+d:d)}return d},WZ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=O3(n))&&(i&&(i+=" "),i+=r);return i},O3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=O3(t[r]))&&(n&&(n+=" "),n+=e);return n},XZ=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((m,p)=>p(m),t());return n=GZ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=YZ(d,n);return i(d,m),m};return s=l,(...d)=>s(WZ(...d))},QZ=[],kn=t=>{const e=n=>n[t]||QZ;return e.isThemeGetter=!0,e},P3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,R3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZZ=/^\d+\/\d+$/,JZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vu=t=>ZZ.test(t),tt=t=>!!t&&!Number.isNaN(Number(t)),Bo=t=>!!t&&Number.isInteger(Number(t)),j1=t=>t.endsWith("%")&&tt(t.slice(0,-1)),Ss=t=>JZ.test(t),iJ=()=>!0,aJ=t=>eJ.test(t)&&!tJ.test(t),j3=()=>!1,sJ=t=>nJ.test(t),oJ=t=>rJ.test(t),lJ=t=>!je(t)&&!Me(t),cJ=t=>Yd(t,z3,j3),je=t=>P3.test(t),Yl=t=>Yd(t,L3,aJ),M1=t=>Yd(t,mJ,tt),LO=t=>Yd(t,M3,j3),uJ=t=>Yd(t,D3,oJ),Ug=t=>Yd(t,V3,sJ),Me=t=>R3.test(t),fh=t=>Wd(t,L3),dJ=t=>Wd(t,pJ),VO=t=>Wd(t,M3),fJ=t=>Wd(t,z3),hJ=t=>Wd(t,D3),Fg=t=>Wd(t,V3,!0),Yd=(t,e,n)=>{const r=P3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Wd=(t,e,n=!1)=>{const r=R3.exec(t);return r?r[1]?e(r[1]):n:!1},M3=t=>t==="position"||t==="percentage",D3=t=>t==="image"||t==="url",z3=t=>t==="length"||t==="size"||t==="bg-size",L3=t=>t==="length",mJ=t=>t==="number",pJ=t=>t==="family-name",V3=t=>t==="shadow",gJ=()=>{const t=kn("color"),e=kn("font"),n=kn("text"),r=kn("font-weight"),i=kn("tracking"),s=kn("leading"),l=kn("breakpoint"),c=kn("container"),d=kn("spacing"),f=kn("radius"),m=kn("shadow"),p=kn("inset-shadow"),b=kn("text-shadow"),w=kn("drop-shadow"),_=kn("blur"),E=kn("perspective"),S=kn("aspect"),I=kn("ease"),j=kn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...D(),Me,je],V=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[Me,je,d],z=()=>[Vu,"full","auto",...C()],F=()=>[Bo,"none","subgrid",Me,je],L=()=>["auto",{span:["full",Bo,Me,je]},Bo,Me,je],q=()=>[Bo,"auto",Me,je],U=()=>["auto","min","max","fr",Me,je],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...C()],re=()=>[Vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],G=()=>[t,Me,je],ye=()=>[...D(),VO,LO,{position:[Me,je]}],Ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",fJ,cJ,{size:[Me,je]}],ae=()=>[j1,fh,Yl],te=()=>["","none","full",f,Me,je],de=()=>["",tt,fh,Yl],xe=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[tt,j1,VO,LO],Ce=()=>["","none",_,Me,je],se=()=>["none",tt,Me,je],Re=()=>["none",tt,Me,je],Ue=()=>[tt,Me,je],me=()=>[Vu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ss],breakpoint:[Ss],color:[iJ],container:[Ss],"drop-shadow":[Ss],ease:["in","out","in-out"],font:[lJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ss],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ss],shadow:[Ss],spacing:["px",tt],text:[Ss],"text-shadow":[Ss],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vu,je,Me,S]}],container:["container"],columns:[{columns:[tt,je,Me,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Bo,"auto",Me,je]}],basis:[{basis:[Vu,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,Vu,"auto","initial","none",je]}],grow:[{grow:["",tt,Me,je]}],shrink:[{shrink:["",tt,Me,je]}],order:[{order:[Bo,"first","last","none",Me,je]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,fh,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Me,M1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",j1,je]}],"font-family":[{font:[dJ,je,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Me,je]}],"line-clamp":[{"line-clamp":[tt,"none",Me,M1]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",Me,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Me,Yl]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[tt,"auto",Me,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:Ae()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bo,Me,je],radial:["",Me,je],conic:[Bo,Me,je]},hJ,uJ]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Me,je]}],"outline-w":[{outline:["",tt,fh,Yl]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",m,Fg,Ug]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",p,Fg,Ug]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[tt,Yl]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",b,Fg,Ug]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[tt,Me,je]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Me,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:Ae()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,je]}],filter:[{filter:["","none",Me,je]}],blur:[{blur:Ce()}],brightness:[{brightness:[tt,Me,je]}],contrast:[{contrast:[tt,Me,je]}],"drop-shadow":[{"drop-shadow":["","none",w,Fg,Ug]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",tt,Me,je]}],"hue-rotate":[{"hue-rotate":[tt,Me,je]}],invert:[{invert:["",tt,Me,je]}],saturate:[{saturate:[tt,Me,je]}],sepia:[{sepia:["",tt,Me,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,je]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Me,je]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Me,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Me,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Me,je]}],"backdrop-invert":[{"backdrop-invert":["",tt,Me,je]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Me,je]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Me,je]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Me,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Me,je]}],ease:[{ease:["linear","initial",I,Me,je]}],delay:[{delay:[tt,Me,je]}],animate:[{animate:["none",j,Me,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Me,je]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Me,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,je]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[tt,fh,Yl,M1]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yJ=XZ(gJ),vJ=()=>{const{user:t}=Dm(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?g.jsxs("div",{className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20",children:[g.jsx(hT,{size:14,className:"animate-spin"}),g.jsx("span",{children:"Sincronizando..."})]}):g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20",title:"Todos los datos estn seguros en la nube.",children:[g.jsx(HX,{size:14}),g.jsx("span",{children:"Nube Activa"})]}):g.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20",title:"Sin conexin. Los cambios se guardarn en tu dispositivo y se enviarn al volver.",children:[g.jsx(qX,{size:14}),g.jsx("span",{children:"Modo Local"})]}):null},bJ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=JD(),s=[{to:"/",icon:wQ,label:"Dashboard"},{to:"/expenses",icon:Lm,label:"Gastos"},{to:"/income",icon:qQ,label:"Ingresos"},{to:"/goals",icon:gc,label:"Metas"},{to:"/funds",icon:zm,label:"Fondos"},{to:"/credits",icon:im,label:"Crditos"},{to:"/projects",icon:eE,label:"Proyectos"},{to:"/projections",icon:fT,label:"Proyecciones"}];return g.jsxs(g.Fragment,{children:[t&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:e}),g.jsxs("aside",{className:we("fixed md:static inset-y-0 left-0 z-40 w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[g.jsxs("div",{className:"p-4 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-500 font-mono tracking-wider",children:"VAULTLY"}),g.jsx("p",{className:"text-[10px] text-zinc-400 font-medium",children:"Personal Finance v2.0"})]}),g.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:g.jsx(am,{size:20})})]}),g.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2",children:s.map(l=>g.jsxs(XD,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>yJ(we("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[g.jsx(l.icon,{size:22,className:we("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-emerald-400 dark:text-emerald-600":"group-hover:text-emerald-500")}),g.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),g.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2",children:[g.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-emerald-500 transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[g.jsx(T3,{size:22,className:"md:w-[18px] md:h-[18px]"}),g.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-emerald-500 transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[g.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?g.jsx(NQ,{size:18}):g.jsx(hZ,{size:18})]}),g.jsx("div",{className:"flex justify-center pt-1",children:g.jsx(vJ,{})})]})]})]})},B3=T.createContext(void 0),xJ=({children:t})=>{const{data:e,updateData:n,isLoading:r}=Di(),i=e.settings||{currency:"$",hasSeenOnboarding:!1,theme:"classic"},s=i.currency||"$",l=i.hasSeenOnboarding||!1,c=f=>{n({settings:{...i,currency:f}})},d=f=>{n({settings:{...i,hasSeenOnboarding:f}}),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(f))};return g.jsx(B3.Provider,{value:{currency:s,setCurrency:c,hasSeenOnboarding:l,setHasSeenOnboarding:d,loading:r},children:t})},vr=()=>{const t=T.useContext(B3);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Ad=t=>{const{data:e,updateData:n}=Di(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function wJ(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let D1;const _J=new Uint8Array(16);function EJ(){if(!D1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D1=crypto.getRandomValues.bind(crypto)}return D1(_J)}const SJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BO={randomUUID:SJ};function TJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??EJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,wJ(r)}function AJ(t,e,n){return BO.randomUUID&&!t?BO.randomUUID():TJ(t)}const Ar=t=>{const{data:e,updateData:n}=Di(),r=e.transactions||[],i=m=>{const p={id:AJ(),...m};n({transactions:[...r,p]})},s=m=>{const p=r.filter(b=>b.id!==m);n({transactions:p})},l=(m,p)=>{const b=r.map(w=>w.category===m?{...w,category:p}:w);n({transactions:b})},c=t?r.filter(m=>m.type===t):r,d=c.reduce((m,p)=>m+p.amount,0);return{transactions:c,addTransaction:i,deleteTransaction:s,total:d,getByCategory:()=>{const m=c.reduce((p,b)=>{const w=b.category||"Sin Categora";return p[w]=(p[w]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))},allTransactions:r,updateCategory:l}},Vm=()=>{const{data:t,updateData:e}=Di(),n=t.scheduledTransactions||[],{addTransaction:r}=Ar();return{scheduled:n,addScheduled:d=>{const f={id:crypto.randomUUID(),...d,active:!0,createdAt:new Date().toISOString()};e({scheduledTransactions:[...n,f]}),Jt.success("Transaccin programada creada")},deleteScheduled:d=>{const f=n.filter(m=>m.id!==d);e({scheduledTransactions:f})},toggleActive:(d,f)=>{const m=n.map(p=>p.id===d?{...p,active:!f}:p);e({scheduledTransactions:m}),Jt.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();let m=0;const p=n.map(b=>{if(!b.active)return b;const w=b.lastProcessedDate?new Date(b.lastProcessedDate):null,_=w&&w.getMonth()===d.getMonth()&&w.getFullYear()===d.getFullYear();return f>=b.dayOfMonth&&!_?(r({type:b.type,amount:b.amount,category:b.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${b.description}`}),m++,{...b,lastProcessedDate:d.toISOString().split("T")[0]}):b});m>0&&(e({scheduledTransactions:p}),Jt.info(`${m} transacciones recurrentes procesadas`))}}},U3=()=>{const{data:t,updateData:e}=Di(),n=t.presets||[];return{presets:n,addPreset:s=>{if(n.length>=10){Jt.error("Lmite de 10 atajos alcanzado");return}const l={id:crypto.randomUUID(),...s};e({presets:[...n,l]}),Jt.success("Atajo creado")},deletePreset:s=>{const l=n.filter(c=>c.id!==s);e({presets:l})}}},Wa=({isOpen:t,onClose:e,title:n,children:r})=>(T.useEffect(()=>{const i=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[t,e]),t?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-zinc-900/60 backdrop-blur-sm transition-opacity",onClick:e}),g.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-md border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),g.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:g.jsx(am,{size:20})})]}),g.jsx("div",{className:"p-6 overflow-y-auto no-scrollbar",children:r})]})]}):null),kJ=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r}=vr(),{themeStyle:i,setThemeStyle:s}=JD(),{logout:l,user:c}=Dm(),{data:d}=Di(),{categories:f,addCategory:m,removeCategory:p}=Ad("income"),{categories:b,addCategory:w,removeCategory:_}=Ad("expense"),{updateCategory:E}=Ar(),{scheduled:S,toggleActive:I,deleteScheduled:j}=Vm(),{presets:O,addPreset:D,deletePreset:R}=U3(),[V,P]=T.useState("general"),[C,z]=T.useState("expense"),[F,L]=T.useState(""),[q,U]=T.useState(""),[be,Ie]=T.useState(""),[Y,re]=T.useState(""),[G,ye]=T.useState("expense"),Ae=[{id:"classic",name:"Clsico",color:"bg-[#a8a29e]"},{id:"clay",name:"Arcilla",color:"bg-[#fb923c]"},{id:"sand",name:"Arena",color:"bg-[#d6b885]"},{id:"coffee",name:"Caf",color:"bg-[#b97f6a]"},{id:"sage",name:"Salvia",color:"bg-[#64ad84]"},{id:"nordic",name:"Nrdico",color:"bg-[#0ea5e9]"},{id:"mist",name:"Niebla",color:"bg-[#94a3b8]"},{id:"royal",name:"Royal",color:"bg-[#a78bfa]"},{id:"bloom",name:"Bloom",color:"bg-[#fb7185]"}],[$,ae]=T.useState(!1),[te,de]=T.useState(["","","",""]),[xe,J]=T.useState(!1),[fe,Ce]=T.useState(!1),[se,Re]=T.useState(""),{resetData:Ue}=Di(),me=(ce,Qe)=>{if(Qe.length>1&&(Qe=Qe[Qe.length-1]),!/^\d*$/.test(Qe))return;const Mn=[...te];Mn[ce]=Qe,de(Mn),Qe&&ce<3&&document.getElementById(`nuclear-digit-${ce+1}`)?.focus()},gt=async()=>{if(te.join("").length!==4){Jt.error("CDIGO DE LANZAMIENTO INCOMPLETO");return}J(!0),await new Promise(ce=>setTimeout(ce,2e3)),await Ue(),J(!1),ae(!1),de(["","","",""]),e()},Ke=async()=>{Ce(!0),Re("INICIANDO ENLACE SATELITAL..."),await new Promise(ce=>setTimeout(ce,1500)),Re("BUSCANDO PAQUETES DE DATOS..."),await new Promise(ce=>setTimeout(ce,1500)),Re("OPTIMIZANDO NCLEO..."),await new Promise(ce=>setTimeout(ce,1e3)),Re("SISTEMA ACTUALIZADO. REINICIANDO."),setTimeout(()=>{window.location.reload()},1e3)},kt=["$","","","","COP","MXN","ARS","S/"],vt=()=>{const ce=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(d))}`,Qe=document.createElement("a");Qe.href=ce,Qe.download=`vault_backup_${new Date().toISOString().split("T")[0]}.json`,Qe.click(),Jt.success("Copia de seguridad descargada")},qt=()=>{F.trim()&&(C==="income"?m(F):w(F),L(""))},Fe=ce=>{confirm(`Eliminar categora "${ce}"? Las transacciones pasarn a "Desconocido".`)&&(C==="income"?p(ce):_(ce),E(ce,"Desconocido"))};return g.jsxs(Wa,{isOpen:t,onClose:e,title:"Configuracin",children:[g.jsxs("div",{className:"flex flex-col h-[55vh] md:h-[500px] max-h-[70vh]",children:[g.jsxs("div",{className:"flex gap-4 border-b border-zinc-200 dark:border-zinc-800 mb-4 overflow-x-auto shrink-0",children:[g.jsx("button",{onClick:()=>P("general"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="general"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"General"}),g.jsx("button",{onClick:()=>P("appearance"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="appearance"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Apariencia"}),g.jsx("button",{onClick:()=>P("categories"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="categories"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Categoras"}),g.jsx("button",{onClick:()=>P("scheduled"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="scheduled"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Programados"}),g.jsx("button",{onClick:()=>P("presets"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="presets"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Atajos"}),g.jsx("button",{onClick:()=>P("data"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${V==="data"?"text-zinc-900 dark:text-zinc-100 border-zinc-800 dark:border-zinc-100":"text-zinc-500 border-transparent hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Datos"})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pr-1 no-scrollbar",children:[V==="general"&&g.jsx("div",{className:"space-y-8",children:g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3 flex items-center gap-2",children:[g.jsx(TZ,{size:16}),"Cuenta"]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[c&&g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("img",{src:c.photoURL||`https://ui-avatars.com/api/?name=${c.displayName}`,alt:"User",className:"w-12 h-12 rounded-full bg-zinc-800"}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("p",{className:"text-sm font-medium text-zinc-900 dark:text-white truncate",children:c.displayName}),g.jsx("p",{className:"text-xs text-zinc-500 truncate",children:c.email})]})]}),g.jsxs("button",{onClick:()=>{l(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/20 transition-all font-medium text-sm",children:[g.jsx(AQ,{size:16}),"Cerrar Sesin"]})]})]})}),V==="appearance"&&g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3",children:"Tema de Color"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ae.map(ce=>g.jsxs("button",{onClick:()=>s(ce.id),className:`p-3 rounded-xl border-2 flex items-center gap-3 transition-all ${i===ce.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 ring-1 ring-emerald-500":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[g.jsx("div",{className:`w-8 h-8 rounded-full ${ce.color} shadow-sm`}),g.jsx("span",{className:`text-sm font-medium ${i===ce.id?"text-emerald-700 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"}`,children:ce.name})]},ce.id))})]}),g.jsxs("div",{className:"pt-6 border-t border-zinc-200 dark:border-zinc-800",children:[g.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3",children:"Moneda Principal"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:kt.map(ce=>g.jsx("button",{onClick:()=>r(ce),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===ce?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"}`,children:ce},ce))})]})]}),V==="categories"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-lg mb-4",children:[g.jsx("button",{onClick:()=>z("expense"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${C==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),g.jsx("button",{onClick:()=>z("income"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${C==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),g.jsxs("div",{className:"flex gap-2 mb-4",children:[g.jsx("input",{type:"text",placeholder:"Nueva categora...",value:F,onChange:ce=>L(ce.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-emerald-500 transition-colors",onKeyDown:ce=>ce.key==="Enter"&&qt()}),g.jsx("button",{onClick:qt,className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors",children:g.jsx(Ka,{size:20})})]}),g.jsx("div",{className:"space-y-2",children:(C==="income"?f:b).map(ce=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-100 dark:hover:border-zinc-800 group transition-colors",children:[g.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:ce}),g.jsx("button",{onClick:()=>Fe(ce),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",title:"Eliminar y mover gastos a 'Desconocido'",children:g.jsx(Ya,{size:16})})]},ce))})]}),V==="scheduled"&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gestiona tus ingresos y gastos recurrentes automticos."}),S.length===0?g.jsxs("div",{className:"text-center py-10 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[g.jsx(b3,{className:"mx-auto text-zinc-400 mb-2",size:32}),g.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:"No hay reglas programadas"})]}):g.jsx("div",{className:"space-y-3",children:S.map(ce=>g.jsxs("div",{className:`p-4 rounded-xl border transition-all ${ce.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-100 dark:bg-zinc-900/30 border-zinc-200 dark:border-zinc-800 opacity-70"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`text-xs font-bold uppercase px-2 py-0.5 rounded-full ${ce.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:ce.type==="income"?"Ingreso":"Gasto"}),g.jsxs("span",{className:"text-xs text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md",children:["Da ",ce.dayOfMonth]})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:ce.description||"Sin descripcin"}),g.jsxs("p",{className:"text-sm text-zinc-500",children:[ce.category,"  ",n,ce.amount.toFixed(2)]})]}),g.jsx("button",{onClick:()=>j(ce.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar regla permanentemente",children:g.jsx(Ya,{size:18})})]}),g.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("span",{className:"text-xs text-zinc-400",children:ce.lastProcessedDate?`ltima vez: ${ce.lastProcessedDate}`:"Nunca ejecutado"}),g.jsx("button",{onClick:()=>I(ce.id,ce.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${ce.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:ce.active?g.jsxs(g.Fragment,{children:[g.jsx(zX,{size:14})," Pausar"]}):g.jsxs(g.Fragment,{children:[g.jsx(VX,{size:14})," Reactivar"]})})]})]},ce.id))})]}),V==="presets"&&g.jsxs("div",{className:"space-y-4 pb-2",children:[g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("h4",{className:"text-xs font-bold mb-2 flex items-center gap-2 text-zinc-500 uppercase tracking-wider",children:[g.jsx(Ka,{size:14})," Nuevo Atajo"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:q,onChange:ce=>U(ce.target.value)}),g.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:be,onChange:ce=>Ie(ce.target.value)})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none bg-no-repeat",value:G,onChange:ce=>{ye(ce.target.value),re("")},children:[g.jsx("option",{value:"expense",children:"Gasto"}),g.jsx("option",{value:"income",children:"Ingreso"})]}),g.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:Y,onChange:ce=>re(ce.target.value),children:[g.jsx("option",{value:"",children:"Categora..."}),(G==="expense"?b:f).map(ce=>g.jsx("option",{value:ce,children:ce},ce))]})]}),g.jsx("button",{disabled:!q||!Y,onClick:()=>{D({label:q,amount:be?Number(be):void 0,category:Y,type:G}),U(""),Ie("")},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-1",children:"Agregar Botn"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.map(ce=>g.jsxs("div",{className:"p-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm truncate",children:ce.label}),g.jsxs("p",{className:"text-xs text-zinc-500",children:[ce.amount?`${n}${ce.amount}`:"-","  ",ce.category]})]}),g.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 flex items-center justify-center bg-rose-50 dark:bg-rose-900/20 translate-x-full group-hover:translate-x-0 transition-transform cursor-pointer",onClick:()=>R(ce.id),children:g.jsx(Ya,{size:16,className:"text-rose-500"})})]},ce.id)),O.length===0&&g.jsxs("div",{className:"col-span-2 text-center py-6 text-zinc-400 text-sm border border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl",children:[g.jsx(PQ,{className:"mx-auto mb-2 opacity-50"}),"Crea botones rpidos para tus gastos frecuentes"]})]})]}),V==="data"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-4 rounded-xl border border-amber-200 dark:border-amber-900/30",children:[g.jsxs("h4",{className:"text-amber-800 dark:text-amber-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx(QX,{size:18})," Zona de Peligro Nuclear"]}),g.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500/80 mb-4",children:'Descarga tu "Master Doc" para tener una copia de seguridad fsica o crgalo para restaurar tus finanzas.'})]}),g.jsxs("div",{className:"grid gap-4",children:[g.jsx("button",{onClick:vt,className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:g.jsx(eQ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Exportar Datos"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Descargar backup .json"})]})]})}),g.jsx("label",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500 dark:hover:border-blue-500 transition-all cursor-pointer",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:g.jsx(EZ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Restaurar Datos"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Sobrescribir desde .json"})]})]})}),g.jsxs("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800 space-y-4",children:[g.jsx("button",{onClick:Ke,disabled:fe,className:"w-full flex items-center justify-between p-4 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 rounded-xl hover:opacity-90 disabled:opacity-70 transition-all",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-full bg-zinc-800 dark:bg-zinc-200 ${fe?"animate-spin":""}`,children:g.jsx(hT,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-sm",children:fe?se:"Buscar Actualizaciones"}),g.jsx("p",{className:"text-xs opacity-70",children:"Forzar sincronizacin PWA"})]})]})}),g.jsxs("button",{onClick:()=>ae(!0),className:"group w-full relative overflow-hidden flex items-center justify-between p-4 bg-rose-500 hover:bg-rose-600 text-white rounded-xl transition-all shadow-lg hover:shadow-rose-500/40 hover:scale-[1.02]",children:[g.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,#00000010_10px,#00000010_20px)]"}),g.jsxs("div",{className:"relative flex items-center gap-3 z-10",children:[g.jsx("div",{className:"p-2 rounded-full bg-rose-700 animate-[pulse_1.5s_ease-in-out_infinite]",children:g.jsx(CO,{size:24})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold font-mono tracking-wider",children:"OPCIN NUCLEAR"}),g.jsx("p",{className:"text-xs opacity-90 font-mono",children:"BORRADO TOTAL DE DATOS"})]})]}),g.jsx(jO,{className:"relative z-10 opacity-50 group-hover:rotate-180 transition-transform duration-700",size:32})]})]})]})]})]})]}),$&&g.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-6 animate-in fade-in duration-200 backdrop-blur-sm rounded-2xl",children:g.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[g.jsx("div",{className:"animate-[bounce_1s_infinite]",children:g.jsx(aZ,{size:64,className:"text-rose-500 mx-auto"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-black text-rose-500 font-mono tracking-widest mb-2",children:"PELIGRO!"}),g.jsxs("p",{className:"text-zinc-400 text-sm font-mono leading-relaxed",children:["ESTA ACCIN ES IRREVERSIBLE.",g.jsx("br",{}),"SE ELIMINARN TODAS LAS TRANSACCIONES Y CONFIGURACIONES.",g.jsx("br",{}),"INTRODUZCA CDIGO DE LANZAMIENTO PARA CONFIRMAR."]})]}),g.jsx("div",{className:"flex justify-center gap-3 my-6",children:te.map((ce,Qe)=>g.jsx("input",{id:`nuclear-digit-${Qe}`,type:"text",maxLength:1,value:ce,onChange:Mn=>me(Qe,Mn.target.value),className:"w-12 h-16 bg-zinc-900 border-2 border-rose-500/50 focus:border-rose-500 text-rose-500 text-3xl font-mono text-center rounded-lg shadow-[0_0_15px_rgba(244,63,94,0.3)] focus:shadow-[0_0_25px_rgba(244,63,94,0.6)] outline-none transition-all"},Qe))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{onClick:()=>{ae(!1),de(["","","",""])},className:"py-3 px-4 bg-zinc-800 text-zinc-300 font-mono font-bold rounded-lg hover:bg-zinc-700 transition-colors",children:"ABORTAR"}),g.jsx("button",{onClick:gt,disabled:xe,className:"py-3 px-4 bg-rose-600 text-white font-mono font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-rose-600/50",children:xe?g.jsxs(g.Fragment,{children:[g.jsx(jO,{className:"animate-spin",size:18})," DETONANDO"]}):g.jsxs(g.Fragment,{children:[g.jsx(CO,{size:18})," DETONAR"]})})]})]})})]})},IJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState("expense"),[l,c]=T.useState(""),[d,f]=T.useState(""),[m,p]=T.useState(""),{addTransaction:b}=Ar(),{categories:w}=Ad("expense"),{categories:_}=Ad("income"),{currency:E}=vr(),{presets:S}=U3();T.useEffect(()=>{t&&(f(""),c(""),p(""),s("expense"))},[t]);const I=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},300)},j=()=>{const D=Number(l);!D||D<=0||(b({amount:D,type:i,category:d||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(i==="expense"?"Gasto Rpido":"Ingreso Rpido")}),I())};if(!t&&!n)return g.jsx("button",{onClick:()=>e(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:g.jsx(Ka,{size:32,strokeWidth:2.5})});const O=i==="expense"?w:_;return g.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[g.jsx("div",{className:we("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",n?"opacity-0":"opacity-100"),onClick:I}),g.jsxs("div",{className:we("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",n?"translate-y-full":"translate-y-0"),children:[g.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:I,children:g.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),g.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[g.jsx("button",{onClick:I,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:g.jsx(CX,{size:28})}),g.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[S.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:S.map(D=>g.jsxs("button",{onClick:()=>{D.amount&&c(D.amount.toString()),s(D.type),f(D.category),p(D.label)},className:we("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95",d===D.category&&i===D.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[g.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${D.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:D.type==="expense"?g.jsx(ry,{size:16}):g.jsx(Td,{size:16})}),g.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:D.label}),D.amount&&g.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[E,D.amount]})]},D.id))})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[g.jsxs("button",{onClick:()=>s("expense"),className:we("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[g.jsx(ry,{size:20,strokeWidth:2.5})," Gasto"]}),g.jsxs("button",{onClick:()=>s("income"),className:we("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",g.jsx(Td,{size:20,strokeWidth:2.5})]})]}),g.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[g.jsx("span",{className:we("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",l?"opacity-100":"opacity-30"),children:E}),g.jsx("input",{type:"number",inputMode:"decimal",value:l,onChange:D=>c(D.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),g.jsxs("div",{className:"mb-6 space-y-3",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),g.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[O.map(D=>g.jsx("button",{onClick:()=>f(D),className:we("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",d===D?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:D},D)),g.jsx("button",{onClick:()=>f("Otros"),className:we("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",d==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),g.jsx("div",{className:"mb-8",children:g.jsx("input",{type:"text",value:m,onChange:D=>p(D.target.value),placeholder:i==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),g.jsxs("button",{onClick:j,disabled:!l,className:we("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",l?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[g.jsx(w3,{size:28,strokeWidth:3}),l?"Confirmar":"Ingresa un monto"]})]})]})]})},F3=T.createContext(void 0),CJ=({children:t})=>{const{data:e,updateData:n}=Di(),r=e.projects||[],i=m=>{const p={id:crypto.randomUUID(),...m,status:"planning",startDate:(()=>{const b=new Date;return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`})(),transactions:[],targetBudget:m.targetBudget||0};n({projects:[p,...r]})},s=(m,p)=>{const b=r.map(w=>w.id===m?{...w,...p}:w);n({projects:b})},l=m=>{const p=r.filter(b=>b.id!==m);n({projects:p})},c=(m,p)=>{const b=r.find(E=>E.id===m);if(!b)return;const w={id:crypto.randomUUID(),projectId:m,...p},_={...b,transactions:[w,...b.transactions||[]]};s(m,_)},d=(m,p)=>{const b=r.find(_=>_.id===m);if(!b)return;const w={...b,transactions:(b.transactions||[]).filter(_=>_.id!==p)};s(m,w)},f=m=>{const p=m.transactions||[],b=p.filter(j=>j.type==="income").reduce((j,O)=>j+O.amount,0),w=p.filter(j=>j.type==="expense").reduce((j,O)=>j+O.amount,0),_=b-w,E=m.targetBudget||m.budget||0,S=E>0?w/E*100:0,I=E>0?_/E*100:0;return{totalIncome:b,totalExpenses:w,currentBalance:_,percentConsumed:S,percentFunded:I}};return g.jsx(F3.Provider,{value:{projects:r,addProject:i,updateProject:s,deleteProject:l,addProjectTransaction:c,deleteProjectTransaction:d,getProjectStats:f},children:t})},pT=()=>{const t=T.useContext(F3);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},NJ=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=vr(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:g.jsx(tZ,{size:48,className:"text-zinc-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),g.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[g.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:g.jsx(Lm,{size:48,className:"text-emerald-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),g.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[g.jsxs("li",{children:["Usa el botn ",g.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),g.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),g.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:g.jsx(CZ,{size:48,className:"text-yellow-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),g.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[g.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),g.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:g.jsx(bQ,{size:48,className:"text-blue-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:g.jsx(mQ,{size:48,className:"text-cyan-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",g.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),g.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),g.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),g.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:g.jsx(GQ,{size:48,className:"text-rose-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[g.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",g.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",g.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",g.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[g.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),g.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),g.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),g.jsx("div",{className:"min-h-[160px]",children:l[n].content}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),g.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&g.jsx(_3,{size:16})]})]})]})]})})},OJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=Vm();return T.useEffect(()=>{i()},[i]),g.jsx(CD,{children:g.jsx(xJ,{children:g.jsx(CJ,{children:g.jsxs("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300",children:[g.jsx("button",{className:"lg:hidden fixed top-4 right-4 z-50 p-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg shadow-lg",onClick:()=>e(!t),children:t?g.jsx(am,{size:20}):g.jsx(IQ,{size:20})}),g.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:g.jsx(bJ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),t&&g.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>e(!1)}),g.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[g.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v2.2 - Non-Blocking Load"}),g.jsx(HD,{})]}),g.jsx(IJ,{}),g.jsx(kJ,{isOpen:n,onClose:()=>r(!1)}),g.jsx(NJ,{}),g.jsx(p3,{position:"top-center"})]})})})})},Bm=()=>{const{data:t,updateData:e}=Di(),n=t.goals||[],r=_=>{const E={id:crypto.randomUUID(),..._,currentAmount:0,history:[]};e({goals:[...n,E]})},i=(_,E)=>{const S=n.map(I=>I.id===_?{...I,...E}:I);e({goals:S})},s=_=>{const E=n.filter(S=>S.id!==_);e({goals:E})},l=(_,E,S)=>{const I=n.find(V=>V.id===_);if(!I)return;const j=new Date().toISOString().split("T")[0],O={id:crypto.randomUUID(),date:j,amount:E,type:"deposit",note:S||"Contribucin manual"},D=I.history?[...I.history,O]:[O],R={...I,currentAmount:(I.currentAmount||0)+E,lastContributionDate:j,history:D};i(_,R)},c=(_,E,S)=>{const I=n.find(V=>V.id===_);if(!I)return;const j=new Date().toISOString().split("T")[0],O={id:crypto.randomUUID(),date:j,amount:E,type:"withdrawal",note:S||"Retiro de fondos"},D=I.history?[...I.history,O]:[O],R={...I,currentAmount:Math.max(0,(I.currentAmount||0)-E),history:D};i(_,R)},d=(_,E)=>{l(_,E,"Cuota Mensual")},f=_=>{if(!_.deadline)return 0;const E=new Date,S=new Date(_.deadline),I=_.targetAmount-_.currentAmount;if(I<=0)return 0;const j=S.getFullYear()-E.getFullYear(),O=S.getMonth()-E.getMonth();let D=j*12+O;return D<1&&(D=1),I/D},m=_=>{const S=p(_,new Date),I=f(_);return S>=I-1},p=(_,E)=>{if(!_.history)return 0;const S=E.getMonth(),I=E.getFullYear();return _.history.reduce((j,O)=>{const[D,R]=O.date.split("-").map(Number);return D===I&&R-1===S?O.type==="deposit"?j+O.amount:j-O.amount:j},0)};return{goals:n,addGoal:r,updateGoal:i,deleteGoal:s,contributeToGoal:d,addContribution:l,withdraw:c,getMonthlyQuota:f,isGoalPaidThisMonth:m,getTotalSavingsAtDate:_=>n.reduce((E,S)=>{if(!S.history||S.history.length===0)return E;const I=new Date(_.getFullYear(),_.getMonth()+1,0),j=S.history.reduce((O,D)=>new Date(D.date)<=I?D.type==="deposit"?O+D.amount:O-D.amount:O,0);return E+Math.max(0,j)},0),getMonthsRemaining:_=>{if(!_.deadline)return 0;const E=new Date,S=new Date(_.deadline),I=S.getFullYear()-E.getFullYear(),j=S.getMonth()-E.getMonth();return Math.max(0,I*12+j)}}},Xd=()=>{const{data:t,updateData:e}=Di(),n=t.funds||[];return{funds:n,addFund:l=>{const c={id:crypto.randomUUID(),currentAmount:0,history:[],...l};e({funds:[...n,c]})},deleteFund:l=>{const c=n.filter(d=>d.id!==l);e({funds:c})},addTransaction:(l,c,d,f)=>{const m=n.find(S=>S.id===l);if(!m)return;const p={id:crypto.randomUUID(),fundId:l,date:new Date().toISOString().split("T")[0],amount:c,type:d,note:f},b=d==="deposit"?(m.currentAmount||0)+c:(m.currentAmount||0)-c,w=m.history?[p,...m.history]:[p],_={...m,currentAmount:Math.max(0,b),history:w},E=n.map(S=>S.id===l?_:S);e({funds:E})}}},Um=()=>{const{allTransactions:t}=Ar(),{goals:e}=Bm(),{funds:n}=Xd(),{selectedDate:r}=zd(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),m=(t||[]).filter(I=>new Date(I.date+"T12:00:00")<=d),p=m.filter(I=>I.type==="income").reduce((I,j)=>I+j.amount,0),b=m.filter(I=>I.type==="expense").reduce((I,j)=>I+j.amount,0),_=(e||[]).reduce((I,j)=>{if(!j.history)return I;const O=j.history.reduce((D,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?D+R.amount:D-R.amount:D,0);return I+Math.max(0,O)},0),S=(n||[]).reduce((I,j)=>{if(!j.history)return I;const O=j.history.reduce((D,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?D+R.amount:D-R.amount:D,0);return I+Math.max(0,O)},0);return p-b-(_+S)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},_v=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=zd(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return g.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:g.jsx(OX,{size:16})}),g.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[g.jsx(x3,{size:16,className:"text-zinc-400"}),g.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),g.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:g.jsx(_3,{size:16})}),!l&&g.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},PJ=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=Bm(),{funds:s,addTransaction:l}=Xd(),{total:c}=Ar("income"),{total:d}=Ar("expense"),{currency:f}=vr(),m=n.reduce((O,D)=>O+(D.currentAmount||0),0),p=s.reduce((O,D)=>O+D.currentAmount,0),b=c-d-(m+p),[w,_]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[E,S]=T.useState(""),I=(O,D,R,V)=>{_({active:!0,type:O,targetId:D,targetName:R,targetType:V}),S("")},j=()=>{const O=Number(E);if(!(!O||O<=0)){if(w.type==="withdraw")if(w.targetType==="goal"){const D=n.find(R=>R.id===w.targetId);if(!D||D.currentAmount<O)return Jt.error("Fondos insuficientes en la meta.");i(w.targetId,O)}else{const D=s.find(R=>R.id===w.targetId);if(!D||D.currentAmount<O)return Jt.error("Fondos insuficientes en el fondo.");l(w.targetId,O,"withdraw","Retiro desde Gestin")}else{if(b<O)return Jt.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);w.targetType==="goal"?r(w.targetId,O,"Ingreso desde Gestin"):l(w.targetId,O,"deposit","Ingreso desde Gestin")}_({...w,active:!1})}};return g.jsx(Wa,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:w.active?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[g.jsx("button",{onClick:()=>_({...w,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),g.jsxs("div",{children:[g.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[w.type==="deposit"?"Ingresar en":"Retirar de"," ",w.targetName]}),g.jsx("p",{className:"text-sm text-zinc-500",children:w.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${w.targetType==="goal"?"meta":"fondo"}: ${f}${w.targetType==="goal"?n.find(O=>O.id===w.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(O=>O.id===w.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:E,onChange:O=>S(O.target.value),onKeyDown:O=>O.key==="Enter"&&j()})]}),g.jsx("button",{onClick:j,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${w.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):g.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(gc,{size:14})," Metas de Ahorro"]}),n.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(O=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:O.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,O.currentAmount.toFixed(2)," ",g.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,O.targetAmount.toLocaleString()]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>I("withdraw",O.id,O.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(NO,{size:18})}),g.jsx("button",{onClick:()=>I("deposit",O.id,O.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(OO,{size:18})})]})]},O.id))]}),g.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(zm,{size:14})," Fondos Independientes"]}),s.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(O=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:O.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,O.currentAmount.toFixed(2)]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>I("withdraw",O.id,O.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(NO,{size:18})}),g.jsx("button",{onClick:()=>I("deposit",O.id,O.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(OO,{size:18})})]})]},O.id))]})]})})},gT=()=>{const{data:t,updateData:e}=Di(),n=t.credits||[];return{credits:n,addCredit:c=>{const d={id:crypto.randomUUID(),...c,payments:[]};e({credits:[...n,d]})},deleteCredit:c=>{const d=n.filter(f=>f.id!==c);e({credits:d})},addPayment:(c,d,f)=>{const m=n.find(D=>D.id===c);if(!m){Jt.error("Error: Crdito no encontrado");return}const p={id:crypto.randomUUID(),creditId:c,date:new Date().toISOString().split("T")[0],amount:Number(d),note:f||""},b=m.payments?[p,...m.payments]:[p],w=b.reduce((D,R)=>D+R.amount,0),_=m.interestRate/100/12;let E=0,S=0;if(m.interestRate===0)E=m.principal/m.term,S=m.principal;else{const D=Number(m.principal),R=Number(m.term),V=Math.pow(1+_,R)-1;V===0?E=D/R:E=D*_*Math.pow(1+_,R)/V,S=E*R}const I=w>=S-1?"paid":"active",j={...m,payments:b,status:I},O=n.map(D=>D.id===c?j:D);try{e({credits:O})}catch(D){console.error("Failed to update credit payment",D),Jt.error("Error al guardar el historial del pago")}},getCreditStatus:c=>{const f=(c.payments||[]).reduce((_,E)=>_+E.amount,0),m=c.interestRate/100/12;let p=0,b=0;c.interestRate===0?(p=c.principal/c.term,b=c.principal):(p=c.principal*m*Math.pow(1+m,c.term)/(Math.pow(1+m,c.term)-1),b=p*c.term);const w=Math.max(0,b-f);return{totalPaid:f,totalToPay:b,remainingBalance:w,quota:p,progress:f/b*100}}}},RJ=()=>{const{allTransactions:t}=Ar(),{funds:e}=Xd(),{credits:n}=gT(),{projects:r}=pT();return{ledgerEntries:T.useMemo(()=>{let s=[];const l=t.map(c=>({id:`tx-${c.id}`,originalId:c.id,date:c.date,description:c.description,amount:c.amount,type:c.type,source:"transaction",category:c.category,icon:c.category==="Food"?"utensils":"dollar"}));return s=[...s,...l],e.forEach(c=>{if(c.history){const d=c.history.map(f=>({id:`fund-${f.id}`,originalId:f.id,date:f.date,description:f.type==="deposit"?`Ingreso a Fondo: ${c.name}`:`Retiro de Fondo: ${c.name}`,amount:f.amount,type:f.type==="deposit"?"expense":"income",source:"fund",category:"Ahorro / Fondos",fundName:c.name,icon:c.icon}));s=[...s,...d]}}),n.forEach(c=>{if(c.payments){const d=c.payments.map(f=>({id:`credit-${f.id}`,originalId:f.id,date:f.date,description:`Pago Crdito: ${c.name}`,amount:f.amount,type:"expense",source:"credit",category:"Deudas / Crditos",creditName:c.name}));s=[...s,...d]}}),r.forEach(c=>{if(c.transactions){const d=c.transactions.map(f=>({id:`proj-${f.id}`,originalId:f.id,date:f.date,description:`Proyecto [${c.name}]: ${f.description}`,amount:f.amount,type:f.type,source:"project",category:f.category||"Proyecto",projectName:c.name}));s=[...s,...d]}}),s.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime())},[t,e,n,r])}},jJ=({isOpen:t,onClose:e})=>{const{ledgerEntries:n}=RJ(),{selectedDate:r}=zd(),{currency:i}=vr(),[s,l]=T.useState(""),[c,d]=T.useState("all"),m=n.filter(S=>{if(c!=="all"&&S.source!==c)return!1;const I=s.toLowerCase();return S.description.toLowerCase().includes(I)||S.category.toLowerCase().includes(I)||S.fundName&&S.fundName.toLowerCase().includes(I)||S.creditName&&S.creditName.toLowerCase().includes(I)||S.projectName&&S.projectName.toLowerCase().includes(I)}).filter(S=>{const[I,j]=S.date.split("-").map(Number);return j===r.getMonth()+1&&I===r.getFullYear()}),p=m.filter(S=>S.type==="income").reduce((S,I)=>S+I.amount,0),b=m.filter(S=>S.type==="expense").reduce((S,I)=>S+I.amount,0),w=p-b,_=S=>{switch(S){case"fund":return g.jsx(im,{size:14,className:"text-amber-500"});case"credit":return g.jsx(WX,{size:14,className:"text-purple-500"});case"project":return g.jsx(v3,{size:14,className:"text-blue-500"});default:return g.jsx(Lm,{size:14,className:"text-zinc-500"})}},E=S=>{switch(S){case"fund":return"Fondo";case"credit":return"Crdito";case"project":return"Proyecto";default:return"Billetera"}};return g.jsx(Wa,{isOpen:t,onClose:e,title:"Libro Contable Unificado",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(_v,{})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["all","transaction","fund","credit","project"].map(S=>g.jsx("button",{onClick:()=>d(S),className:we("px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border",c===S?"bg-zinc-900 border-zinc-900 text-white dark:bg-white dark:border-white dark:text-zinc-900":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-400"),children:S==="all"?"Todos":S==="transaction"?"Transacciones":S==="fund"?"Fondos":S==="credit"?"Crditos":"Proyectos"},S))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-4 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Entradas"}),g.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold text-lg",children:["+",i,p.toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Flujo Neto"}),g.jsxs("p",{className:we("font-mono font-bold text-lg",w>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"),children:[w>=0?"+":"",i,Math.abs(w).toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Salidas"}),g.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold text-lg",children:["-",i,b.toFixed(2)]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(ZQ,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, categora, fondo...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20",value:s,onChange:S=>l(S.target.value)})]}),g.jsx("div",{className:"space-y-2 min-h-[300px] max-h-[50vh] overflow-y-auto pr-1",children:m.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-400 opacity-60",children:[g.jsx(sQ,{size:48,className:"mb-4"}),g.jsx("p",{className:"italic text-sm",children:"No se encontraron movimientos."})]}):m.map(S=>g.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 rounded-2xl transition-all shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:we("w-10 h-10 rounded-full flex items-center justify-center shrink-0",S.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:S.type==="income"?g.jsx(J_,{size:18}):g.jsx(mX,{size:18})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-zinc-100 dark:bg-zinc-800 text-[10px] font-bold text-zinc-500 uppercase tracking-wide",children:[_(S.source),E(S.source)]}),g.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:new Date(S.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm truncate pr-2",children:S.description}),g.jsx("p",{className:"text-xs text-zinc-500 truncate",children:S.category})]})]}),g.jsxs("span",{className:we("font-mono font-bold text-sm whitespace-nowrap",S.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[S.type==="income"?"+":"-",i,S.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},S.id))})]})})},MJ=()=>{const{selectedDate:t}=zd(),{transactions:e}=Ar(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=Bm(),{funds:c}=Xd(),{scheduled:d}=Vm(),{currency:f}=vr(),[m,p]=T.useState(!1),[b,w]=T.useState(!1),_=e.filter(C=>{const[z,F]=C.date.split("-").map(Number);return F===t.getMonth()+1&&z===t.getFullYear()}),E=_.filter(C=>C.type==="income").reduce((C,z)=>C+z.amount,0),S=_.filter(C=>C.type==="expense").reduce((C,z)=>C+z.amount,0),I=r(t),j=c.reduce((C,z)=>C+z.currentAmount,0),O=I+j,D=C=>{const z=i(C),F=s(C);return z?g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),g.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",F.toFixed(2)]}),g.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:R}=Um(),V=[{label:"Saldo Disponible",amount:R,icon:Lm,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:O,icon:gc,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:E,icon:A3,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:S,icon:tE,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}],P=d.filter(C=>C.active).map(C=>{const z=new Date,F=z.getDate(),L=C.lastProcessedDate?new Date(C.lastProcessedDate+"T12:00:00"):null;if(L&&L.getMonth()===z.getMonth()&&L.getFullYear()===z.getFullYear())return null;const U=C.dayOfMonth-F;let be="normal";return U<0?be="overdue":U<=3&&(be="urgent"),{...C,diff:U,status:be}}).filter(C=>C!==null).sort((C,z)=>C.dayOfMonth-z.dayOfMonth);return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>w(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:g.jsx(vX,{size:20})}),g.jsx(_v,{})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:V.map(C=>g.jsxs("div",{onClick:()=>{C.label==="Ahorro Total"&&p(!0)},className:`${C.bg} border ${C.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${C.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[C.label,C.label==="Ahorro Total"&&g.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),g.jsx(C.icon,{size:20,className:C.color})]}),g.jsxs("p",{className:`text-3xl font-mono font-bold ${C.color}`,children:[f,C.amount.toFixed(2)]})]},C.label))}),P.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 flex items-center gap-2",children:[g.jsx(UX,{size:20,className:"text-zinc-400"}),"Ingresos y Gastos Programados"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(C=>g.jsxs("div",{className:we("p-4 rounded-2xl border flex items-center justify-between shadow-sm",C.status==="overdue"?"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/30":C.status==="urgent"?"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-900/30":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:we("w-10 h-10 rounded-full flex items-center justify-center font-bold text-xs",C.status==="overdue"?"bg-rose-100 text-rose-600 dark:bg-rose-900/20":C.status==="urgent"?"bg-amber-100 text-amber-600 dark:bg-amber-900/20":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"),children:C.dayOfMonth}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.description}),g.jsx("p",{className:"text-xs text-zinc-500 capitalize",children:C.category})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:we("font-mono font-bold text-sm",C.type==="income"?"text-emerald-500":"text-rose-500"),children:[C.type==="income"?"+":"-",f,C.amount]}),g.jsx("p",{className:we("text-[10px] font-bold uppercase tracking-wider",C.status==="overdue"?"text-rose-500":C.status==="urgent"?"text-amber-500":"text-zinc-400"),children:C.status==="overdue"?"Vencido":C.status==="urgent"?"Pronto":"Pendiente"})]})]},C.id))})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[g.jsx(gc,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?g.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):g.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(C=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:g.jsx(gc,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:C.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:[l(C)," meses restantes"]})]})]}),D(C)]},C.id)),n.length>3&&g.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",g.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",g.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),g.jsx(PJ,{isOpen:m,onClose:()=>p(!1)}),g.jsx(jJ,{isOpen:b,onClose:()=>w(!1)})]})},q3=({type:t,onSubmit:e,categories:n,onAddCategory:r})=>{const{currency:i}=vr(),{addScheduled:s}=Vm(),[l,c]=T.useState(""),[d,f]=T.useState(n[0]||""),[m,p]=T.useState(""),[b,w]=T.useState(new Date().toISOString().split("T")[0]),[_,E]=T.useState(!1),[S,I]=T.useState(new Date().getDate()),[j,O]=T.useState(!1),[D,R]=T.useState(""),V=C=>{C.preventDefault(),!(!l||!d)&&(_?s({type:t,amount:Number(l),category:d,description:m,dayOfMonth:Number(S)}):e({amount:Number(l),type:t,category:d,description:m,date:b}),c(""),p(""),E(!1))},P=()=>{D.trim()&&(r(D.trim()),f(D.trim()),R(""),O(!1))};return g.jsxs("form",{onSubmit:V,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[g.jsxs("h3",{className:we("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[g.jsx(Ka,{size:20}),_?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:i}),g.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:l,onChange:C=>c(C.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),g.jsxs("div",{className:we("p-4 rounded-xl border transition-all duration-300",_?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>E(!_),children:[g.jsx("div",{className:we("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",_?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:g.jsx("div",{className:we("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",_?"translate-x-5":"translate-x-0")})}),g.jsx("div",{className:"flex flex-col",children:g.jsx("span",{className:we("text-sm font-bold transition-colors",_?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:_?"Transaccin Recurrente":"Pago nico"})})]}),_&&g.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[g.jsx("div",{className:"text-right mr-2",children:g.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),g.jsxs("div",{className:"relative",children:[g.jsx(b3,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),g.jsx("input",{type:"number",min:"1",max:"31",value:S,onChange:C=>I(Number(C.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),_&&g.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[g.jsx(YQ,{size:14,className:"mt-0.5"}),g.jsxs("p",{children:["Se agregar automticamente cada da ",g.jsx("strong",{children:S})," del mes. Te avisaremos 2 das antes."]})]})]}),!_&&g.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[g.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),g.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:b,onChange:C=>w(C.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:j?g.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[g.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:D,onChange:C=>R(C.target.value),onKeyDown:C=>C.key==="Enter"&&(C.preventDefault(),P())}),g.jsx("button",{type:"button",onClick:P,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:g.jsx(Ka,{size:20})}),g.jsx("button",{type:"button",onClick:()=>O(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):g.jsxs(g.Fragment,{children:[n.map(C=>g.jsx("button",{type:"button",onClick:()=>f(C),className:we("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",d===C?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:C},C)),g.jsxs("button",{type:"button",onClick:()=>O(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[g.jsx(Ka,{size:12})," Nueva"]})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsx(gZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),g.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:C=>p(C.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),g.jsxs("button",{type:"submit",className:we("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[g.jsx(XQ,{size:20}),_?"Programar Recurrencia":"Guardar Transaccin"]})]})},$3=({transactions:t,onDelete:e})=>t.length===0?g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(n=>g.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:n.date}),g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="income"?g.jsx(Td,{size:16,className:"text-emerald-600"}):g.jsx(ry,{size:16,className:"text-rose-600"}),g.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[n.description,n.isRecurring&&g.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:n.category||"General"})}),g.jsxs("td",{className:we("px-6 py-4 text-right font-mono font-bold text-base",n.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[n.type==="expense"?"-":"+","$",n.amount.toFixed(2)]}),g.jsx("td",{className:"px-6 py-4 text-center",children:g.jsx("button",{onClick:()=>e(n.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:g.jsx(Ya,{size:18})})})]},n.id))})]})})});var DJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yT(t){if(typeof t!="string")return!1;var e=DJ;return e.includes(t)}var zJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LJ=new Set(zJ);function H3(t){return typeof t!="string"?!1:LJ.has(t)}function G3(t){return typeof t=="string"&&t.startsWith("data-")}function ll(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(H3(n)||G3(n))&&(e[n]=t[n]);return e}function vT(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ll(e)}return typeof t=="object"&&!Array.isArray(t)?ll(t):null}function zi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(H3(n)||G3(n)||yT(n))&&(e[n]=t[n]);return e}var VJ=["children","width","height","viewBox","className","style","title","desc"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function BJ(t,e){if(t==null)return{};var n,r,i=UJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K3=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,m=BJ(t,VJ),p=s||{width:r,height:i,x:0,y:0},b=we("recharts-surface",l);return T.createElement("svg",rE({},zi(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),FJ=["children","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(null,arguments)}function qJ(t,e){if(t==null)return{};var n,r,i=$J(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $J(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Us=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=qJ(t,FJ),s=we("recharts-layer",r);return T.createElement("g",iE({className:s},zi(i),{ref:e}),n)}),HJ=T.createContext(null);function zt(t){return function(){return t}}const Y3=Math.cos,ay=Math.sin,ha=Math.sqrt,sy=Math.PI,Ev=2*sy,aE=Math.PI,sE=2*aE,Zl=1e-6,GJ=sE-Zl;function W3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return W3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class YJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W3:KJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Zl)if(!(Math.abs(p*d-f*m)>Zl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,_=i-c,E=d*d+f*f,S=w*w+_*_,I=Math.sqrt(E),j=Math.sqrt(b),O=s*Math.tan((aE-Math.acos((E+b-S)/(2*I*j)))/2),D=O/j,R=O/I;Math.abs(D-1)>Zl&&this._append`L${e+D*m},${n+D*p}`,this._append`A${s},${s},0,0,${+(p*w>m*_)},${this._x1=e+R*d},${this._y1=n+R*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Zl||Math.abs(this._y1-m)>Zl)&&this._append`L${f},${m}`,r&&(b<0&&(b=b%sE+sE),b>GJ?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:b>Zl&&this._append`A${r},${r},0,${+(b>=aE)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new YJ(e)}function xT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X3(t){this._context=t}X3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sv(t){return new X3(t)}function Q3(t){return t[0]}function Z3(t){return t[1]}function J3(t,e){var n=zt(!0),r=null,i=Sv,s=null,l=bT(c);t=typeof t=="function"?t:t===void 0?Q3:zt(t),e=typeof e=="function"?e:e===void 0?Z3:zt(e);function c(d){var f,m=(d=xT(d)).length,p,b=!1,w;for(r==null&&(s=i(w=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,f,d),+e(p,f,d));if(w)return s=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:zt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function qg(t,e,n){var r=null,i=zt(!0),s=null,l=Sv,c=null,d=bT(f);t=typeof t=="function"?t:t===void 0?Q3:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Z3:zt(+n);function f(p){var b,w,_,E=(p=xT(p)).length,S,I=!1,j,O=new Array(E),D=new Array(E);for(s==null&&(c=l(j=d())),b=0;b<=E;++b){if(!(b<E&&i(S=p[b],b,p))===I)if(I=!I)w=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=b-1;_>=w;--_)c.point(O[_],D[_]);c.lineEnd(),c.areaEnd()}I&&(O[b]=+t(S,b,p),D[b]=+e(S,b,p),c.point(r?+r(S,b,p):O[b],n?+n(S,b,p):D[b]))}if(j)return c=null,j+""||null}function m(){return J3().defined(i).curve(l).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class e6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function WJ(t){return new e6(t,!0)}function XJ(t){return new e6(t,!1)}const wT={draw(t,e){const n=ha(e/sy);t.moveTo(n,0),t.arc(0,0,n,0,Ev)}},QJ={draw(t,e){const n=ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},t6=ha(1/3),ZJ=t6*2,JJ={draw(t,e){const n=ha(e/ZJ),r=n*t6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eee={draw(t,e){const n=ha(e),r=-n/2;t.rect(r,r,n,n)}},tee=.8908130915292852,n6=ay(sy/10)/ay(7*sy/10),nee=ay(Ev/10)*n6,ree=-Y3(Ev/10)*n6,iee={draw(t,e){const n=ha(e*tee),r=nee*n,i=ree*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Ev*s/5,c=Y3(l),d=ay(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},z1=ha(3),aee={draw(t,e){const n=-ha(e/(z1*3));t.moveTo(0,n*2),t.lineTo(-z1*n,-n),t.lineTo(z1*n,-n),t.closePath()}},Ni=-.5,Oi=ha(3)/2,oE=1/ha(12),see=(oE/2+1)*3,oee={draw(t,e){const n=ha(e/see),r=n/2,i=n*oE,s=r,l=n*oE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Ni*r-Oi*i,Oi*r+Ni*i),t.lineTo(Ni*s-Oi*l,Oi*s+Ni*l),t.lineTo(Ni*c-Oi*d,Oi*c+Ni*d),t.lineTo(Ni*r+Oi*i,Ni*i-Oi*r),t.lineTo(Ni*s+Oi*l,Ni*l-Oi*s),t.lineTo(Ni*c+Oi*d,Ni*d-Oi*c),t.closePath()}};function lee(t,e){let n=null,r=bT(i);t=typeof t=="function"?t:zt(t||wT),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:zt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:zt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function oy(){}function ly(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r6(t){this._context=t}r6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cee(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uee(t){return new i6(t)}function a6(t){this._context=t}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dee(t){return new a6(t)}function s6(t){this._context=t}s6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fee(t){return new s6(t)}function UO(t){return t<0?-1:1}function FO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(UO(s)+UO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function qO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function L1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function cy(t){this._context=t}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L1(this,this._t0,qO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L1(this,qO(this,n=FO(this,t,e)),n);break;default:L1(this,this._t0,n=FO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function o6(t){this._context=new l6(t)}(o6.prototype=Object.create(cy.prototype)).point=function(t,e){cy.prototype.point.call(this,e,t)};function l6(t){this._context=t}l6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function hee(t){return new cy(t)}function mee(t){return new o6(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$O(t),i=$O(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $O(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function pee(t){return new c6(t)}function Tv(t,e){this._context=t,this._t=e}Tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gee(t){return new Tv(t,.5)}function yee(t){return new Tv(t,0)}function vee(t){return new Tv(t,1)}function Oc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bee(t,e){return t[e]}function xee(t){const e=[];return e.key=t,e}function wee(){var t=zt([]),e=lE,n=Oc,r=bee;function i(s){var l=Array.from(t.apply(this,arguments),xee),c,d=l.length,f=-1,m;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,s)]).data=p;for(c=0,m=xT(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:zt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:zt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?lE:typeof s=="function"?s:zt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Oc,i):n},i}function _ee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Oc(t,e)}}function Eee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Oc(t,e)}}function See(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,w=(p-b)/2,_=0;_<c;++_){var E=t[e[_]],S=E[r][1]||0,I=E[r-1][1]||0;w+=S-I}d+=p,f+=w*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Oc(t,e)}}var V1={},B1={},HO;function Tee(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(B1)),B1}var U1={},GO;function u6(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(U1)),U1}var F1={},KO;function _T(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(F1)),F1}var q1={},$1={},YO;function Aee(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})($1)),$1}var WO;function ET(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aee(),n=_T();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(q1)),q1}var XO;function ST(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tee(),n=u6(),r=_T(),i=ET();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=s})(V1)),V1}var H1,QO;function kee(){return QO||(QO=1,H1=ST().get),H1}var Iee=kee();const kd=ns(Iee);var Cee=4;function Xo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function rn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+Xo(c)+s:i+s},"")}var oi=t=>t===0?0:t>0?1:-1,Ja=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,qe=t=>(typeof t=="number"||t instanceof Number)&&!Ja(t),es=t=>qe(t)||typeof t=="string",Nee=0,sm=t=>{var e=++Nee;return"".concat(t||"").concat(e)},ua=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return r;var s;if(Fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ja(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},d6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function lr(t,e,n){return qe(t)&&qe(e)?Xo(t+n*(e-t)):e}function Oee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):kd(r,e))===n)}var Gn=t=>t===null||typeof t>"u",Fm=t=>Gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Pee(t){return t!=null}function qm(){}var Ree=["type","size","sizeType"];function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(null,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e,n){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=Dee(t,"string");return typeof e=="symbol"?e:e+""}function Dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){if(t==null)return{};var n,r,i=Lee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f6={symbolCircle:wT,symbolCross:QJ,symbolDiamond:JJ,symbolSquare:eee,symbolStar:iee,symbolTriangle:aee,symbolWye:oee},Vee=Math.PI/180,Bee=t=>{var e="symbol".concat(Fm(t));return f6[e]||wT},Uee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Vee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Fee=(t,e)=>{f6["symbol".concat(Fm(t))]=e},h6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zee(t,Ree),s=JO(JO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=Bee(l),w=lee().type(b).size(Uee(n,r,l)),_=w();if(_!==null)return _},{className:d,cx:f,cy:m}=s,p=zi(s);return qe(f)&&qe(m)&&qe(n)?T.createElement("path",cE({},p,{className:we("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};h6.registerSymbol=Fee;var m6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,qee=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{yT(i)&&(r[i]=(s=>n[i](n,s)))}),r},$ee=(t,e,n)=>r=>(t(e,n,r),null),TT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];yT(i)&&typeof s=="function"&&(r||(r={}),r[i]=$ee(s,e,n))}),r};function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e){var n=Hee({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var G1={},K1={},tP;function Wee(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(K1)),K1}var Y1={},nP;function p6(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Y1)),Y1}var W1={},X1={},Q1={},rP;function Xee(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Q1)),Q1}var iP;function AT(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(X1)),X1}var Z1={},aP;function Qee(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Z1)),Z1}var sP;function Zee(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AT(),n=Qee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(W1)),W1}var J1={},ew={},oP;function Jee(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ST();function n(r){return function(i){return e.get(i,r)}}t.property=n})(ew)),ew}var tw={},nw={},rw={},iw={},lP;function g6(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(iw)),iw}var aw={},cP;function y6(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(aw)),aw}var sw={},uP;function v6(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(sw)),sw}var dP;function ete(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6(),n=y6(),r=v6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function w(_,E,S,I,j,O){const D=b(_,E,S,I,j,O);return D!==void 0?!!D:s(_,E,w,O)},new Map)}function s(m,p,b,w){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,w);case"function":return Object.keys(p).length>0?s(m,{...p},b,w):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,w){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,w);if(p instanceof Map)return c(m,p,b,w);if(p instanceof Set)return f(m,p,b,w);const _=Object.keys(p);if(m==null||n.isPrimitive(m))return _.length===0;if(_.length===0)return!0;if(w?.has(p))return w.get(p)===m;w?.set(p,m);try{for(let E=0;E<_.length;E++){const S=_[E];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!b(m[S],p[S],S,m,p,w))return!1}return!0}finally{w?.delete(p)}}function c(m,p,b,w){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[_,E]of p.entries()){const S=m.get(_);if(b(S,E,_,m,p,w)===!1)return!1}return!0}function d(m,p,b,w){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const _=new Set;for(let E=0;E<p.length;E++){const S=p[E];let I=!1;for(let j=0;j<m.length;j++){if(_.has(j))continue;const O=m[j];let D=!1;if(b(O,S,E,m,p,w)&&(D=!0),D){_.add(j),I=!0;break}}if(!I)return!1}return!0}function f(m,p,b,w){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,w):!1}t.isMatchWith=i,t.isSetMatch=f})(rw)),rw}var fP;function b6(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ete();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(nw)),nw}var ow={},lw={},cw={},hP;function tte(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(cw)),cw}var uw={},mP;function x6(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(uw)),uw}var dw={},pP;function w6(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",w="[object Object]",_="[object Error]",E="[object DataView]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",V="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",z="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=_,t.float32ArrayTag=z,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=V,t.int32ArrayTag=P,t.int8ArrayTag=R,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=O,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=I})(dw)),dw}var fw={},gP;function nte(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(fw)),fw}var yP;function _6(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tte(),n=x6(),r=w6(),i=y6(),s=nte();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,w=new Map,_=void 0){const E=_?.(m,p,b,w);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(w.has(m))return w.get(m);if(Array.isArray(m)){const S=new Array(m.length);w.set(m,S);for(let I=0;I<m.length;I++)S[I]=c(m[I],I,b,w,_);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;w.set(m,S);for(const[I,j]of m)S.set(I,c(j,I,b,w,_));return S}if(m instanceof Set){const S=new Set;w.set(m,S);for(const I of m)S.add(c(I,void 0,b,w,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);w.set(m,S);for(let I=0;I<m.length;I++)S[I]=c(m[I],I,b,w,_);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return w.set(m,S),d(S,m,b,w,_),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return w.set(m,S),d(S,m,b,w,_),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return w.set(m,S),d(S,m,b,w,_),S}if(m instanceof Error){const S=new m.constructor;return w.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,b,w,_),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return w.set(m,S),d(S,m,b,w,_),S}if(m instanceof Number){const S=new Number(m.valueOf());return w.set(m,S),d(S,m,b,w,_),S}if(m instanceof String){const S=new String(m.valueOf());return w.set(m,S),d(S,m,b,w,_),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return w.set(m,S),d(S,m,b,w,_),S}return m}function d(m,p,b=m,w,_){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const I=E[S],j=Object.getOwnPropertyDescriptor(m,I);(j==null||j.writable)&&(m[I]=c(p[I],I,b,w,_))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(lw)),lw}var vP;function rte(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(ow)),ow}var bP;function ite(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6(),n=rte();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(tw)),tw}var hw={},mw={},pw={},xP;function ate(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6(),n=w6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=s?.(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(pw)),pw}var wP;function ste(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ate();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(mw)),mw}var gw={},yw={},_P;function E6(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(yw)),yw}var vw={},EP;function ote(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(vw)),vw}var SP;function lte(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u6(),n=E6(),r=ote(),i=ET();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(gw)),gw}var TP;function cte(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6(),n=_T(),r=ste(),i=ST(),s=lte();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(hw)),hw}var AP;function ute(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p6(),n=Jee(),r=ite(),i=cte();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(J1)),J1}var kP;function dte(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wee(),n=p6(),r=Zee(),i=ute();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(G1)),G1}var bw,IP;function fte(){return IP||(IP=1,bw=dte().uniqBy),bw}var hte=fte();const CP=ns(hte);function mte(t,e,n){return e===!0?CP(t,n):typeof e=="function"?CP(t,e):t}var xw={exports:{}},ww={},_w={exports:{}},Ew={};var NP;function pte(){if(NP)return Ew;NP=1;var t=Dd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var w=b(),_=r({inst:{value:w,getSnapshot:b}}),E=_[0].inst,S=_[1];return s(function(){E.value=w,E.getSnapshot=b,d(E)&&S({inst:E})},[p,w,b]),i(function(){return d(E)&&S({inst:E}),p(function(){d(E)&&S({inst:E})})},[p]),l(w),w}function d(p){var b=p.getSnapshot;p=p.value;try{var w=b();return!n(p,w)}catch{return!0}}function f(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Ew.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Ew}var OP;function gte(){return OP||(OP=1,_w.exports=pte()),_w.exports}var PP;function yte(){if(PP)return ww;PP=1;var t=Dd(),e=gte();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return ww.useSyncExternalStoreWithSelector=function(f,m,p,b,w){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=c(function(){function I(V){if(!j){if(j=!0,O=V,V=b(V),w!==void 0&&E.hasValue){var P=E.value;if(w(P,V))return D=P}return D=V}if(P=D,r(O,V))return P;var C=b(V);return w!==void 0&&w(P,C)?(O=V,P):(O=V,D=C)}var j=!1,O,D,R=p===void 0?null:p;return[function(){return I(m())},R===null?void 0:function(){return I(R())}]},[m,p,b,w]);var S=i(f,_[0],_[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},ww}var RP;function vte(){return RP||(RP=1,xw.exports=yte()),xw.exports}var bte=vte(),kT=T.createContext(null),xte=t=>t,fn=()=>{var t=T.useContext(kT);return t?t.store.dispatch:xte},S0=()=>{},wte=()=>S0,_te=(t,e)=>t===e;function Ge(t){var e=T.useContext(kT);return bte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:wte,e?e.store.getState:S0,e?e.store.getState:S0,e?t:S0,_te)}function Ete(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Ste(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Tte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var jP=t=>Array.isArray(t)?t:[t];function Ate(t){const e=Array.isArray(t[0])?t[0]:t;return Tte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Ite=class{constructor(t){this.value=t}deref(){return this.value}},Cte=typeof WeakRef<"u"?WeakRef:Ite,Nte=0,MP=1;function $g(){return{s:Nte,v:void 0,o:null,p:null}}function S6(t,e={}){let n=$g();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let p=0,b=d;p<b;p++){const w=arguments[p];if(typeof w=="function"||typeof w=="object"&&w!==null){let _=c.o;_===null&&(c.o=_=new WeakMap);const E=_.get(w);E===void 0?(c=$g(),_.set(w,c)):c=E}else{let _=c.p;_===null&&(c.p=_=new Map);const E=_.get(w);E===void 0?(c=$g(),_.set(w,c)):c=E}}const f=c;let m;if(c.s===MP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Cte(m):m}return f.s=MP,f.v=m,m}return l.clearCache=()=>{n=$g(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Ote(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Ete(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:b=[],argsMemoize:w=S6,argsMemoizeOptions:_=[]}=m,E=jP(b),S=jP(_),I=Ate(i),j=p(function(){return s++,f.apply(null,arguments)},...E),O=w(function(){l++;const R=kte(I,arguments);return c=j.apply(null,R),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:j,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var le=Ote(S6),Pte=Object.assign((t,e=le)=>{Ste(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>Pte}),Sw={},Tw={},Aw={},DP;function Rte(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(Aw)),Aw}var kw={},Iw={},zP;function T6(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Iw)),Iw}var LP;function jte(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(kw)),kw}var VP;function Mte(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rte(),n=jte(),r=ET();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const f=(w,_)=>{let E=w;for(let S=0;S<_.length&&E!=null;++S)E=E[_[S]];return E},m=(w,_)=>_==null||w==null?_:typeof w=="object"&&"key"in w?Object.hasOwn(_,w.key)?_[w.key]:f(_,w.path):typeof w=="function"?w(_):Array.isArray(w)?f(_,w):typeof _=="object"?_[w]:_,p=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:p.map(_=>m(_,w))})).slice().sort((w,_)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(w.criteria[E],_.criteria[E],c[E]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=i})(Tw)),Tw}var Cw={},BP;function Dte(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Cw)),Cw}var Nw={},UP;function A6(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E6(),n=AT(),r=g6(),i=v6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(Nw)),Nw}var FP;function zte(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte(),n=Dte(),r=A6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Sw)),Sw}var Ow,qP;function Lte(){return qP||(qP=1,Ow=zte().sortBy),Ow}var Vte=Lte();const Av=ns(Vte);var k6=t=>t.legend.settings,Bte=t=>t.legend.size,Ute=t=>t.legend.payload;le([Ute,k6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Av(r,n):r});var Hg=1;function Fte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Hg||Math.abs(l.left-e.left)>Hg||Math.abs(l.top-e.top)>Hg||Math.abs(l.width-e.width)>Hg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ar(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qte=typeof Symbol=="function"&&Symbol.observable||"@@observable",$P=qte,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),$te={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},uy=$te;function IT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function I6(t,e,n){if(typeof t!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ar(1));return n(I6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,I)=>{l.set(I,S)}))}function m(){if(d)throw new Error(ar(3));return i}function p(S){if(typeof S!="function")throw new Error(ar(4));if(d)throw new Error(ar(5));let I=!0;f();const j=c++;return l.set(j,S),function(){if(I){if(d)throw new Error(ar(6));I=!1,f(),l.delete(j),s=null}}}function b(S){if(!IT(S))throw new Error(ar(7));if(typeof S.type>"u")throw new Error(ar(8));if(typeof S.type!="string")throw new Error(ar(17));if(d)throw new Error(ar(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(j=>{j()}),S}function w(S){if(typeof S!="function")throw new Error(ar(10));r=S,b({type:uy.REPLACE})}function _(){const S=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(ar(11));function j(){const D=I;D.next&&D.next(m())}return j(),{unsubscribe:S(j)}},[$P](){return this}}}return b({type:uy.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:w,[$P]:_}}function Hte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:uy.INIT})>"u")throw new Error(ar(12));if(typeof n(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function C6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{Hte(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],w=l[p],_=b(w,c);if(typeof _>"u")throw c&&c.type,new Error(ar(14));f[p]=_,d=d||_!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function dy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Gte(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ar(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=dy(...c)(i.dispatch),{...i,dispatch:s}}}function N6(t){return IT(t)&&"type"in t&&typeof t.type=="string"}var O6=Symbol.for("immer-nothing"),HP=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object,Id=li.getPrototypeOf,fy="constructor",kv="prototype",uE="configurable",hy="enumerable",T0="writable",om="value",qs=t=>!!t&&!!t[kr];function da(t){return t?P6(t)||Cv(t)||!!t[HP]||!!t[fy]?.[HP]||Nv(t)||Ov(t):!1}var Kte=li[kv][fy].toString(),GP=new WeakMap;function P6(t){if(!t||!CT(t))return!1;const e=Id(t);if(e===null||e===li[kv])return!0;const n=li.hasOwnProperty.call(e,fy)&&e[fy];if(n===Object)return!0;if(!Wu(n))return!1;let r=GP.get(n);return r===void 0&&(r=Function.toString.call(n),GP.set(n,r)),r===Kte}function Iv(t,e,n=!0){$m(t)===0?(n?Reflect.ownKeys(t):li.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $m(t){const e=t[kr];return e?e.type_:Cv(t)?1:Nv(t)?2:Ov(t)?3:0}var KP=(t,e,n=$m(t))=>n===2?t.has(e):li[kv].hasOwnProperty.call(t,e),dE=(t,e,n=$m(t))=>n===2?t.get(e):t[e],my=(t,e,n,r=$m(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Yte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Cv=Array.isArray,Nv=t=>t instanceof Map,Ov=t=>t instanceof Set,CT=t=>typeof t=="object",Wu=t=>typeof t=="function",Rw=t=>typeof t=="boolean";function Wte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ts=t=>t.copy_||t.base_,NT=t=>t.modified_?t.copy_:t.base_;function fE(t,e){if(Nv(t))return new Map(t);if(Ov(t))return new Set(t);if(Cv(t))return Array[kv].slice.call(t);const n=P6(t);if(e===!0||e==="class_only"&&!n){const r=li.getOwnPropertyDescriptors(t);delete r[kr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[T0]===!1&&(c[T0]=!0,c[uE]=!0),(c.get||c.set)&&(r[l]={[uE]:!0,[T0]:!0,[hy]:c[hy],[om]:t[l]})}return li.create(Id(t),r)}else{const r=Id(t);if(r!==null&&n)return{...t};const i=li.create(r);return li.assign(i,t)}}function OT(t,e=!1){return Pv(t)||qs(t)||!da(t)||($m(t)>1&&li.defineProperties(t,{set:Gg,add:Gg,clear:Gg,delete:Gg}),li.freeze(t),e&&Iv(t,(n,r)=>{OT(r,!0)},!1)),t}function Xte(){ia(2)}var Gg={[om]:Xte};function Pv(t){return t===null||!CT(t)?!0:li.isFrozen(t)}var py="MapSet",hE="Patches",YP="ArrayMethods",R6={};function Pc(t){const e=R6[t];return e||ia(0,t),e}var WP=t=>!!R6[t],lm,j6=()=>lm,Qte=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:WP(py)?Pc(py):void 0,arrayMethodsPlugin_:WP(YP)?Pc(YP):void 0});function XP(t,e){e&&(t.patchPlugin_=Pc(hE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mE(t){pE(t),t.drafts_.forEach(Zte),t.drafts_=null}function pE(t){t===lm&&(lm=t.parent_)}var QP=t=>lm=Qte(lm,t);function Zte(t){const e=t[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[kr].modified_&&(mE(e),ia(4)),da(t)&&(t=JP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[kr].base_,t,e)}else t=JP(e,n);return Jte(e,t,!0),mE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==O6?t:void 0}function JP(t,e){if(Pv(e))return e;const n=e[kr];if(!n)return gy(e,t.handledSet_,t);if(!Rv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);z6(n,t)}return n.copy_}function Jte(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&OT(e,n)}function M6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Rv=(t,e)=>t.scope_===e,ene=[];function D6(t,e,n,r){const i=Ts(t),s=t.type_;if(r!==void 0&&dE(i,r,s)===e){my(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Iv(i,(d,f)=>{if(qs(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=t.draftLocations_.get(e)??ene;for(const c of l)my(i,c,n,s)}function tne(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Rv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=NT(s);D6(t,s.draft_??s,l,n),z6(s,i)})}function z6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}M6(t)}}function nne(t,e,n){const{scope_:r}=t;if(qs(n)){const i=n[kr];Rv(i,r)&&i.callbacks_.push(function(){A0(t);const l=NT(i);D6(t,n,l,e)})}else da(n)&&t.callbacks_.push(function(){const s=Ts(t);t.type_===3?s.has(n)&&gy(n,r.handledSet_,r):dE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gy(dE(t.copy_,e,t.type_),r.handledSet_,r)})}function gy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||qs(t)||e.has(t)||!da(t)||Pv(t)||(e.add(t),Iv(t,(r,i)=>{if(qs(i)){const s=i[kr];if(Rv(s,n)){const l=NT(s);my(t,r,l,t.type_),M6(s)}}else da(i)&&gy(i,e,n)})),t}function rne(t,e){const n=Cv(t),r={type_:n?1:0,scope_:e?e.scope_:j6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=yy;n&&(i=[r],s=cm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var yy={get(t,e){if(e===kr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ts(t);if(!KP(i,e,t.type_))return ine(t,i,e);const s=i[e];if(t.finalized_||!da(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Wte(e))return s;if(s===jw(t.base_,e)){A0(t);const l=t.type_===1?+e:e,c=yE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=L6(Ts(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=jw(Ts(t),e),s=i?.[kr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Yte(n,i)&&(n!==void 0||KP(t.base_,e,t.type_)))return!0;A0(t),gE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),nne(t,e,n)),!0},deleteProperty(t,e){return A0(t),jw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),gE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[T0]:!0,[uE]:t.type_!==1||e!=="length",[hy]:r[hy],[om]:n[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return Id(t.base_)},setPrototypeOf(){ia(12)}},cm={};for(let t in yy){let e=yy[t];cm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}cm.deleteProperty=function(t,e){return cm.set.call(this,t,e,void 0)};cm.set=function(t,e,n){return yy.set.call(this,t[0],e,n,t[0])};function jw(t,e){const n=t[kr];return(n?Ts(n):t)[e]}function ine(t,e,n){const r=L6(e,n);return r?om in r?r[om]:r.get?.call(t.draft_):void 0}function L6(t,e){if(!(e in t))return;let n=Id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Id(n)}}function gE(t){t.modified_||(t.modified_=!0,t.parent_&&gE(t.parent_))}function A0(t){t.copy_||(t.assigned_=new Map,t.copy_=fE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ane=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wu(n)&&!Wu(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}Wu(r)||ia(6),i!==void 0&&!Wu(i)&&ia(7);let s;if(da(n)){const l=QP(this),c=yE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?mE(l):pE(l)}return XP(l,i),ZP(s,l)}else if(!n||!CT(n)){if(s=r(n),s===void 0&&(s=n),s===O6&&(s=void 0),this.autoFreeze_&&OT(s,!0),i){const l=[],c=[];Pc(hE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else ia(1,n)},this.produceWithPatches=(n,r)=>{if(Wu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},Rw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Rw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Rw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){da(e)||ia(8),qs(e)&&(e=ca(e));const n=QP(this),r=yE(n,e,void 0);return r[kr].isManual_=!0,pE(n),r}finishDraft(e,n){const r=e&&e[kr];(!r||!r.isManual_)&&ia(9);const{scope_:i}=r;return XP(i,n),ZP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Pc(hE).applyPatches_;return qs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function yE(t,e,n,r){const[i,s]=Nv(e)?Pc(py).proxyMap_(e,n):Ov(e)?Pc(py).proxySet_(e,n):rne(e,n);return(n?.scope_??j6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?tne(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function ca(t){return qs(t)||ia(10,t),V6(t)}function V6(t){if(!da(t)||Pv(t))return t;const e=t[kr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=fE(t,!0);return Iv(n,(i,s)=>{my(n,i,V6(s))},r),e&&(e.finalized_=!1),n}var sne=new ane,B6=sne.produce;function U6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var one=U6(),lne=U6,cne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function Li(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ui(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>N6(r)&&r.type===t,n}var F6=class Ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ah.prototype)}static get[Symbol.species](){return Ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ah(...e[0].concat(this)):new Ah(...e.concat(this))}};function eR(t){return da(t)?B6(t,()=>{}):t}function Kg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function une(t){return typeof t=="boolean"}var dne=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new F6;return n&&(une(n)?l.push(one):l.push(lne(n.extraArgument))),l},q6="RTK_autoBatch",Kt=()=>t=>({payload:t,meta:{[q6]:!0}}),tR=t=>e=>{setTimeout(e,t)},$6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tR(10):t.type==="callback"?t.queueNotification:tR(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[q6],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},fne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new F6(t);return r&&i.push($6(typeof r=="object"?r:void 0)),i};function hne(t){const e=dne(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(IT(n))c=C6(n);else throw new Error(ui(1));let d;typeof r=="function"?d=r(e):d=e();let f=dy;i&&(f=cne({trace:!1,...typeof i=="object"&&i}));const m=Gte(...d),p=fne(m);let b=typeof l=="function"?l(p):p();const w=f(...b);return I6(c,s,w)}function H6(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ui(28));if(c in e)throw new Error(ui(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function mne(t){return typeof t=="function"}function pne(t,e){let[n,r,i]=H6(e),s;if(mne(t))s=()=>eR(t());else{const c=eR(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(qs(m)){const w=p(m,d);return w===void 0?m:w}else{if(da(m))return B6(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var gne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yne=(t=21)=>{let e="",n=t;for(;n--;)e+=gne[Math.random()*64|0];return e},vne=Symbol.for("rtk-slice-createasyncthunk");function bne(t,e){return`${t}/${e}`}function xne({creators:t}={}){const e=t?.asyncThunk?.[vne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ui(11));const l=(typeof r.reducers=="function"?r.reducers(_ne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,D){const R=typeof O=="string"?O:O.type;if(!R)throw new Error(ui(12));if(R in d.sliceCaseReducersByType)throw new Error(ui(13));return d.sliceCaseReducersByType[R]=D,f},addMatcher(O,D){return d.sliceMatchers.push({matcher:O,reducer:D}),f},exposeAction(O,D){return d.actionCreators[O]=D,f},exposeCaseReducer(O,D){return d.sliceCaseReducersByName[O]=D,f}};c.forEach(O=>{const D=l[O],R={reducerName:O,type:bne(i,O),createNotation:typeof r.reducers=="function"};Sne(D)?Ane(R,D,f,e):Ene(R,D,f)});function m(){const[O={},D=[],R=void 0]=typeof r.extraReducers=="function"?H6(r.extraReducers):[r.extraReducers],V={...O,...d.sliceCaseReducersByType};return pne(r.initialState,P=>{for(let C in V)P.addCase(C,V[C]);for(let C of d.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of D)P.addMatcher(C.matcher,C.reducer);R&&P.addDefaultCase(R)})}const p=O=>O,b=new Map,w=new WeakMap;let _;function E(O,D){return _||(_=m()),_(O,D)}function S(){return _||(_=m()),_.getInitialState()}function I(O,D=!1){function R(P){let C=P[O];return typeof C>"u"&&D&&(C=Kg(w,R,S)),C}function V(P=p){const C=Kg(b,D,()=>new WeakMap);return Kg(C,P,()=>{const z={};for(const[F,L]of Object.entries(r.selectors??{}))z[F]=wne(L,P,()=>Kg(w,P,S),D);return z})}return{reducerPath:O,getSelectors:V,get selectors(){return V(R)},selectSlice:R}}const j={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...I(s),injectInto(O,{reducerPath:D,...R}={}){const V=D??s;return O.inject({reducerPath:V,reducer:E},R),{...j,...I(V,!0)}}};return j}}function wne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Fr=xne();function _ne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ene({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Tne(r))throw new Error(ui(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Li(t,l):Li(t))}function Sne(t){return t._reducerDefinitionType==="asyncThunk"}function Tne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ane({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ui(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Yg,pending:c||Yg,rejected:d||Yg,settled:f||Yg})}function Yg(){}var kne="task",G6="listener",K6="completed",PT="cancelled",Ine=`task-${PT}`,Cne=`task-${K6}`,vE=`${G6}-${PT}`,Nne=`${G6}-${K6}`,jv=class{constructor(t){this.code=t,this.message=`${kne} ${PT} (reason: ${t})`}name="TaskAbortError";message},RT=(t,e)=>{if(typeof t!="function")throw new TypeError(ui(32))},vy=()=>{},Y6=(t,e=vy)=>(t.catch(e),t),W6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),yc=t=>{if(t.aborted)throw new jv(t.reason)};function X6(t,e){let n=vy;return new Promise((r,i)=>{const s=()=>i(new jv(t.reason));if(t.aborted){s();return}n=W6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vy})}var One=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof jv?"cancelled":"rejected",error:n}}finally{e?.()}},by=t=>e=>Y6(X6(t,e).then(n=>(yc(t),n))),Q6=t=>{const e=by(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:rd}=Object,nR={},Mv="listenerMiddleware",Pne=(t,e)=>{const n=r=>W6(t,()=>r.abort(t.reason));return(r,i)=>{RT(r);const s=new AbortController;n(s);const l=One(async()=>{yc(t),yc(s.signal);const c=await r({pause:by(s.signal),delay:Q6(s.signal),signal:s.signal});return yc(s.signal),c},()=>s.abort(Cne));return i?.autoJoin&&e.push(l.catch(vy)),{result:by(t)(l),cancel(){s.abort(Ine)}}}},Rne=(t,e)=>{const n=async(r,i)=>{yc(e);let s=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await X6(e,Promise.race(c));return yc(e),d}finally{s()}};return(r,i)=>Y6(n(r,i))},Z6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Li(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ui(21));return RT(s),{predicate:i,type:e,effect:s}},J6=rd(t=>{const{type:e,predicate:n,effect:r}=Z6(t);return{id:yne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ui(22))}}},{withTypes:()=>J6}),rR=(t,e)=>{const{type:n,effect:r,predicate:i}=Z6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},bE=t=>{t.pending.forEach(e=>{e.abort(vE)})},jne=(t,e)=>()=>{for(const n of e.keys())bE(n);t.clear()},iR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},e9=rd(Li(`${Mv}/add`),{withTypes:()=>e9}),Mne=Li(`${Mv}/removeAll`),t9=rd(Li(`${Mv}/remove`),{withTypes:()=>t9}),Dne=(...t)=>{console.error(`${Mv}/error`,...t)},Hm=(t={})=>{const e=new Map,n=new Map,r=w=>{const _=n.get(w)??0;n.set(w,_+1)},i=w=>{const _=n.get(w)??1;_===1?n.delete(w):n.set(w,_-1)},{extra:s,onError:l=Dne}=t;RT(l);const c=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),_=>{w.unsubscribe(),_?.cancelActive&&bE(w)}),d=w=>{const _=rR(e,w)??J6(w);return c(_)};rd(d,{withTypes:()=>d});const f=w=>{const _=rR(e,w);return _&&(_.unsubscribe(),w.cancelActive&&bE(_)),!!_};rd(f,{withTypes:()=>f});const m=async(w,_,E,S)=>{const I=new AbortController,j=Rne(d,I.signal),O=[];try{w.pending.add(I),r(w),await Promise.resolve(w.effect(_,rd({},E,{getOriginalState:S,condition:(D,R)=>j(D,R).then(Boolean),take:j,delay:Q6(I.signal),pause:by(I.signal),extra:s,signal:I.signal,fork:Pne(I.signal,O),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((D,R,V)=>{D!==I&&(D.abort(vE),V.delete(D))})},cancel:()=>{I.abort(vE),w.pending.delete(I)},throwIfCancelled:()=>{yc(I.signal)}})))}catch(D){D instanceof jv||iR(l,D,{raisedBy:"effect"})}finally{await Promise.all(O),I.abort(Nne),i(w),w.pending.delete(I)}},p=jne(e,n);return{middleware:w=>_=>E=>{if(!N6(E))return _(E);if(e9.match(E))return d(E.payload);if(Mne.match(E)){p();return}if(t9.match(E))return f(E.payload);let S=w.getState();const I=()=>{if(S===nR)throw new Error(ui(23));return S};let j;try{if(j=_(E),e.size>0){const O=w.getState(),D=Array.from(e.values());for(const R of D){let V=!1;try{V=R.predicate(E,O,S)}catch(P){V=!1,iR(l,P,{raisedBy:"predicate"})}V&&m(R,E,w,I)}}}finally{S=nR}return j},startListening:d,stopListening:f,clearListeners:p}};function ui(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},n9=Fr({name:"chartLayout",initialState:zne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Lne,setLayout:Vne,setChartSize:Bne,setScale:Une}=n9.actions,Fne=n9.reducer;function r9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function en(t){return Number.isFinite(t)}function cl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ur(t,e,n){return Gn(t)||Gn(e)?n:es(e)?kd(t,e,n):typeof e=="function"?e(t):n}var Gne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&qe(t[s]))return Xu(Xu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&qe(t[l]))return Xu(Xu({},t),{},{[l]:t[l]+(i||0)})}return t},Uc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",sR=1e-4,Kne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-sR,s=Math.max(r[0],r[1])+sR,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Yne=(t,e)=>{if(!e||e.length!==2||!qe(e[0])||!qe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(i[0]=n),(!qe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Wne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var m=f[1],p=f[0],b=Ja(m)?p:m;b>=0?(f[0]=s,f[1]=s+b,s=m):(f[0]=l,f[1]=l+b,l=m)}}}},Xne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=Ja(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},Qne={sign:Wne,expand:_ee,none:Oc,silhouette:Eee,wiggle:See,positive:Xne},Zne=(t,e,n)=>{var r,i=(r=Qne[n])!==null&&r!==void 0?r:Oc,s=wee().keys(e).value((c,d)=>Number(ur(c,d,0))).order(lE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,m)=>{var p=ur(t[m],e[d],0);Array.isArray(p)&&p.length===2&&qe(p[0])&&qe(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function Jne(t){return t==null?void 0:String(t)}var oR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=ur(s,e.dataKey,e.scale.domain()[l]);return Gn(c)?null:e.scale(c)-i/2+r},ere=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},tre=t=>{var e=t.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},nre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],rre=(t,e,n)=>{if(t!=null)return nre(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var m=r9(f,e,n),p=tre(m);return!en(p[0])||!en(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},lR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Av(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function uR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Xu(Xu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function i9(t,e){if(t)return String(t);if(typeof e=="string")return e}var ire=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},are=(t,e)=>e==="centric"?t.angle:t.radius,Qs=t=>t.layout.width,Zs=t=>t.layout.height,sre=t=>t.layout.scale,a9=t=>t.layout.margin,Dv=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zv=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ore="data-recharts-item-index",lre="data-recharts-item-id",Gm=60;function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=dre(t,"string");return typeof e=="symbol"?e:e+""}function dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fre=t=>t.brush.height;function hre(t){var e=zv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function mre(t){var e=zv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function pre(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function gre(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=le([Qs,Zs,a9,fre,hre,mre,pre,gre,k6,Bte],(t,e,n,r,i,s,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Wg(Wg({},p),m),w=b.bottom;b.bottom+=r,b=Gne(b,d,f);var _=t-b.left-b.right,E=e-b.top-b.bottom;return Wg(Wg({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(E,0)})}),yre=le(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),jT=le(Qs,Zs,(t,e)=>({x:0,y:0,width:t,height:e})),vre=T.createContext(null),pi=()=>T.useContext(vre)!=null,Lv=t=>t.brush,Vv=le([Lv,Kn,a9],(t,e,n)=>({height:t.height,x:qe(t.x)?t.x:e.left,y:qe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:qe(t.width)?t.width:e.width})),Mw={},Dw={},zw={},fR;function bre(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},_=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{_(),l=void 0,c=null},S=()=>{m()},I=function(...j){if(i?.aborted)return;l=this,c=j;const O=b==null;w(),d&&O&&m()};return I.schedule=w,I.cancel=E,I.flush=S,i?.addEventListener("abort",E,{once:!0}),I}t.debounce=e})(zw)),zw}var hR;function xre(){return hR||(hR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),w=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},_=()=>(b.flush(),m);return w.cancel=b.cancel,w.flush=_,w}t.debounce=n})(Dw)),Dw}var mR;function wre(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(Mw)),Mw}var Lw,pR;function _re(){return pR||(pR=1,Lw=wre().throttle),Lw}var Ere=_re();const Sre=ns(Ere);var gR=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},s9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Fs(r)?t:Number(r),d=Fs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},Tre={width:0,height:0,overflow:"visible"},Are={width:0,overflowX:"visible"},kre={height:0,overflowY:"visible"},Ire={},Cre=t=>{var{width:e,height:n}=t,r=Fs(e),i=Fs(n);return r&&i?Tre:r?Are:i?kre:Ire};function Nre(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o9=T.createContext({width:-1,height:-1});function jre(t){return cl(t.width)&&cl(t.height)}function l9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return jre(i)?T.createElement(o9.Provider,{value:i},e):null}var MT=()=>T.useContext(o9),Mre=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:b,onResize:w,style:_={}}=t,E=T.useRef(null),S=T.useRef();S.current=w,T.useImperativeHandle(e,()=>E.current);var[I,j]=T.useState({containerWidth:r.width,containerHeight:r.height}),O=T.useCallback((C,z)=>{j(F=>{var L=Math.round(C),q=Math.round(z);return F.containerWidth===L&&F.containerHeight===q?F:{containerWidth:L,containerHeight:q}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return qm;var C=q=>{var U,{width:be,height:Ie}=q[0].contentRect;O(be,Ie),(U=S.current)===null||U===void 0||U.call(S,be,Ie)};m>0&&(C=Sre(C,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(C),{width:F,height:L}=E.current.getBoundingClientRect();return O(F,L),z.observe(E.current),()=>{z.disconnect()}},[O,m]);var{containerWidth:D,containerHeight:R}=I;gR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:V,calculatedHeight:P}=s9(D,R,{width:i,height:s,aspect:n,maxHeight:d});return gR(V!=null&&V>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,P,i,s,l,c,n),T.createElement("div",{id:p?"".concat(p):void 0,className:we("recharts-responsive-container",b),style:vR(vR({},_),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},T.createElement("div",{style:Cre({width:i,height:s})},T.createElement(l9,{width:V,height:P},f)))}),c9=T.forwardRef((t,e)=>{var n=MT();if(cl(n.width)&&cl(n.height))return t.children;var{width:r,height:i}=Nre({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=s9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return qe(s)&&qe(l)?T.createElement(l9,{width:s,height:l},t.children):T.createElement(Mre,xE({},t,{width:r,height:i,ref:e}))});function u9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Bv=()=>{var t,e=pi(),n=Ge(yre),r=Ge(Vv),i=(t=Ge(Lv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Dre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zre=()=>{var t;return(t=Ge(Kn))!==null&&t!==void 0?t:Dre},Lre=()=>Ge(Qs),Vre=()=>Ge(Zs),At=t=>t.layout.layoutType,Km=()=>Ge(At),Bre=()=>{var t=Km();return t!==void 0},Uv=t=>{var e=fn(),n=pi(),{width:r,height:i}=t,s=MT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&cl(l)&&cl(c)&&e(Bne({width:l,height:c}))},[e,n,l,c]),null},d9=Symbol.for("immer-nothing"),bR=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var um=Object.getPrototypeOf;function Cd(t){return!!t&&!!t[hi]}function Rc(t){return t?f9(t)||Array.isArray(t)||!!t[bR]||!!t.constructor?.[bR]||Ym(t)||qv(t):!1}var Ure=Object.prototype.constructor.toString(),xR=new WeakMap;function f9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=xR.get(n);return r===void 0&&(r=Function.toString.call(n),xR.set(n,r)),r===Ure}function wy(t,e,n=!0){Fv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fv(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:Ym(t)?2:qv(t)?3:0}function wE(t,e){return Fv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function h9(t,e,n){const r=Fv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Fre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ym(t){return t instanceof Map}function qv(t){return t instanceof Set}function Jl(t){return t.copy_||t.base_}function _E(t,e){if(Ym(t))return new Map(t);if(qv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=f9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[hi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(um(t),r)}else{const r=um(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function DT(t,e=!1){return $v(t)||Cd(t)||!Rc(t)||(Fv(t)>1&&Object.defineProperties(t,{set:Xg,add:Xg,clear:Xg,delete:Xg}),Object.freeze(t),e&&Object.values(t).forEach(n=>DT(n,!0))),t}function qre(){aa(2)}var Xg={value:qre};function $v(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $re={};function jc(t){const e=$re[t];return e||aa(0,t),e}var dm;function m9(){return dm}function Hre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wR(t,e){e&&(jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function EE(t){SE(t),t.drafts_.forEach(Gre),t.drafts_=null}function SE(t){t===dm&&(dm=t.parent_)}function _R(t){return dm=Hre(dm,t)}function Gre(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ER(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hi].modified_&&(EE(e),aa(4)),Rc(t)&&(t=_y(e,t),e.parent_||Ey(e,t)),e.patches_&&jc("Patches").generateReplacementPatches_(n[hi].base_,t,e.patches_,e.inversePatches_)):t=_y(e,n,[]),EE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==d9?t:void 0}function _y(t,e,n){if($v(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[hi];if(!i)return wy(e,(s,l)=>SR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ey(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),wy(l,(d,f)=>SR(t,i,s,d,f,n,c),r),Ey(t,s,!1),n&&t.patches_&&jc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function SR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=$v(i);if(!(c&&!l)){if(Cd(i)){const d=s&&e&&e.type_!==3&&!wE(e.assigned_,r)?s.concat(r):void 0,f=_y(t,i,d);if(h9(n,r,f),Cd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Rc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;_y(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ym(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ey(t,i)}}}function Ey(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DT(e,n)}function Kre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:m9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zT;n&&(i=[r],s=fm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var zT={get(t,e){if(e===hi)return t;const n=Jl(t);if(!wE(n,e))return Yre(t,n,e);const r=n[e];return t.finalized_||!Rc(r)?r:r===Vw(t.base_,e)?(Bw(t),t.copy_[e]=AE(r,t)):r},has(t,e){return e in Jl(t)},ownKeys(t){return Reflect.ownKeys(Jl(t))},set(t,e,n){const r=p9(Jl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Vw(Jl(t),e),s=i?.[hi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Fre(n,i)&&(n!==void 0||wE(t.base_,e)))return!0;Bw(t),TE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Vw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bw(t),TE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return um(t.base_)},setPrototypeOf(){aa(12)}},fm={};wy(zT,(t,e)=>{fm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fm.deleteProperty=function(t,e){return fm.set.call(this,t,e,void 0)};fm.set=function(t,e,n){return zT.set.call(this,t[0],e,n,t[0])};function Vw(t,e){const n=t[hi];return(n?Jl(n):t)[e]}function Yre(t,e,n){const r=p9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function p9(t,e){if(!(e in t))return;let n=um(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=um(n)}}function TE(t){t.modified_||(t.modified_=!0,t.parent_&&TE(t.parent_))}function Bw(t){t.copy_||(t.copy_=_E(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Wre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&aa(6),r!==void 0&&typeof r!="function"&&aa(7);let i;if(Rc(e)){const s=_R(this),l=AE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?EE(s):SE(s)}return wR(s,r),ER(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===d9&&(i=void 0),this.autoFreeze_&&DT(i,!0),r){const s=[],l=[];jc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else aa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rc(t)||aa(8),Cd(t)&&(t=Xre(t));const e=_R(this),n=AE(t,void 0);return n[hi].isManual_=!0,SE(e),n}finishDraft(t,e){const n=t&&t[hi];(!n||!n.isManual_)&&aa(9);const{scope_:r}=n;return wR(r,e),ER(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=jc("Patches").applyPatches_;return Cd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function AE(t,e){const n=Ym(t)?jc("MapSet").proxyMap_(t,e):qv(t)?jc("MapSet").proxySet_(t,e):Kre(t,e);return(e?e.scope_:m9()).drafts_.push(n),n}function Xre(t){return Cd(t)||aa(10,t),g9(t)}function g9(t){if(!Rc(t)||$v(t))return t;const e=t[hi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_E(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_E(t,!0);return wy(n,(i,s)=>{h9(n,i,g9(s))},r),e&&(e.finalized_=!1),n}var Qre=new Wre;Qre.produce;var Zre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y9=Fr({name:"legend",initialState:Zre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Kt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Kt()},removeLegendPayload:{reducer(t,e){var n=ca(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Kt()}}}),{setLegendSize:Wye,setLegendSettings:Xye,addLegendPayload:Jre,replaceLegendPayload:eie,removeLegendPayload:tie}=y9.actions,nie=y9.reducer;function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=aie(t,"string");return typeof e=="symbol"?e:e+""}function aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sie(t){return Array.isArray(t)&&es(t[0])&&es(t[1])?t.join(" ~ "):t}var oie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,w=()=>{if(s&&s.length){var R={padding:0,margin:0},V=(c?Av(s,c):s).map((P,C)=>{if(P.type==="none")return null;var z=P.formatter||l||sie,{value:F,name:L}=P,q=F,U=L;if(z){var be=z(F,L,P,C,s);if(Array.isArray(be))[q,U]=be;else if(be!=null)q=be;else return null}var Ie=Uw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Ie},es(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,es(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:R},V)}return null},_=Uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Uw({margin:0},i),S=!Gn(m),I=S?m:"",j=we("recharts-default-tooltip",d),O=we("recharts-tooltip-label",f);S&&p&&s!==void 0&&s!==null&&(I=p(m,s));var D=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",kE({className:j,style:_},D),T.createElement("p",{className:O,style:E},T.isValidElement(I)?I:"".concat(I)),w())},hh="recharts-tooltip-wrapper",lie={visibility:"hidden"};function cie(t){var{coordinate:e,translateX:n,translateY:r}=t;return we(hh,{["".concat(hh,"-right")]:qe(n)&&e&&qe(e.x)&&n>=e.x,["".concat(hh,"-left")]:qe(n)&&e&&qe(e.x)&&n<e.x,["".concat(hh,"-bottom")]:qe(r)&&e&&qe(e.y)&&r>=e.y,["".concat(hh,"-top")]:qe(r)&&e&&qe(e.y)&&r<e.y})}function AR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&qe(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=d[r];if(b==null)return 0;if(l[r]){var w=m,_=b;return w<_?Math.max(p,b):Math.max(m,b)}if(f==null)return 0;var E=p+c,S=b+f;return E>S?Math.max(m,b):Math.max(p,b)}function uie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function die(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=AR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=AR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=uie({translateX:m,translateY:p,useTranslate3d:c})):f=lie,{cssProperties:f,cssClasses:cie({translateX:m,translateY:p,coordinate:n})}}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){IE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IE(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mie extends T.PureComponent{constructor(){super(...arguments),IE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:b,viewBox:w,wrapperStyle:_,lastBoundingBox:E,innerRef:S,hasPortalFromProps:I}=this.props,{cssClasses:j,cssProperties:O}=die({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:w}),D=I?{}:Qg(Qg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=Qg(Qg({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},_);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:R,ref:S},s)}}var v9=()=>{var t;return(t=Ge(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NR={curveBasisClosed:uee,curveBasisOpen:dee,curveBasis:cee,curveBumpX:WJ,curveBumpY:XJ,curveLinearClosed:fee,curveLinear:Sv,curveMonotoneX:hee,curveMonotoneY:mee,curveNatural:pee,curveStep:gee,curveStepAfter:vee,curveStepBefore:yee},Sy=t=>en(t.x)&&en(t.y),OR=t=>t.base!=null&&Sy(t.base)&&Sy(t),mh=t=>t.x,ph=t=>t.y,vie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Fm(t));return(n==="curveMonotone"||n==="curveBump")&&e?NR["".concat(n).concat(e==="vertical"?"Y":"X")]:NR[n]||Sv},bie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=vie(e,i),c=s?n.filter(Sy):n,d;if(Array.isArray(r)){var f=n.map((w,_)=>CR(CR({},w),{},{base:r[_]}));i==="vertical"?d=qg().y(ph).x1(mh).x0(w=>w.base.x):d=qg().x(mh).y1(ph).y0(w=>w.base.y);var m=d.defined(OR).curve(l),p=s?f.filter(OR):f;return m(p)}i==="vertical"&&qe(r)?d=qg().y(ph).x1(mh).x0(r):qe(r)?d=qg().x(mh).y1(ph).y0(r):d=J3().x(mh).y(ph);var b=d.defined(Sy).curve(l);return b(c)},b9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Km();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?bie(l):r;return T.createElement("path",CE({},ll(t),qee(t),{className:we("recharts-curve",e),d:c===null?void 0:c,ref:i}))},xie=["x","y","top","left","width","height","className"];function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(null,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return(e=Eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=Sie(t,"string");return typeof e=="symbol"?e:e+""}function Sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tie(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kie=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Iie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=Tie(t,xie),f=wie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!qe(e)||!qe(n)||!qe(s)||!qe(l)||!qe(r)||!qe(i)?null:T.createElement("path",NE({},zi(f),{className:we("recharts-cross",c),d:kie(e,n,s,l,r,i)}))};function Cie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),x9=(t,e,n)=>t.map(r=>"".concat(Rie(r)," ").concat(e,"ms ").concat(n)).join(","),jie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),hm=(t,e)=>Object.keys(e).reduce((n,r)=>jR(jR({},n),{},{[r]:t(r,e[r])}),{});function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=zie(t,"string");return typeof e=="symbol"?e:e+""}function zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ty=(t,e,n)=>t+(e-t)*n,OE=t=>{var{from:e,to:n}=t;return e!==n},w9=(t,e,n)=>{var r=hm((i,s)=>{if(OE(s)){var[l,c]=t(s.from,s.to,s.velocity);return In(In({},s),{},{from:l,velocity:c})}return s},e);return n<1?hm((i,s)=>OE(s)&&r[i]!=null?In(In({},s),{},{velocity:Ty(s.velocity,r[i].velocity,n),from:Ty(s.from,r[i].from,n)}):s,e):w9(t,r,n-1)};function Lie(t,e,n,r,i,s){var l,c=r.reduce((b,w)=>In(In({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>hm((b,w)=>w.from,c),f=()=>!Object.values(c).filter(OE).length,m=null,p=b=>{l||(l=b);var w=b-l,_=w/n.dt;c=w9(n,c,_),i(In(In(In({},t),e),d())),l=b,f()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function Vie(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,b)=>{var w=t[b],_=e[b];return w==null||_==null?p:In(In({},p),{},{[b]:[w,_]})},{}),f,m=p=>{f||(f=p);var b=(p-f)/r,w=hm((E,S)=>Ty(...S,n(b)),d);if(s(In(In(In({},t),e),w)),b<1)c=l.setTimeout(m);else{var _=hm((E,S)=>Ty(...S,n(1)),d);s(In(In(In({},t),e),_))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Bie=(t,e,n,r,i,s)=>{var l=jie(t,e);return n==null?()=>(i(In(In({},t),e)),()=>{}):n.isStepper===!0?Lie(t,e,n,l,i,s):Vie(t,e,n,r,l,i,s)};var Ay=1e-4,_9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],E9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),DR=(t,e)=>n=>{var r=_9(t,e);return E9(r,n)},Uie=(t,e)=>n=>{var r=_9(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return E9(i,n)},Fie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},qie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Fie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},$ie=(t,e,n,r)=>{var i=DR(t,n),s=DR(e,r),l=Uie(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,b=0;b<8;++b){var w=i(p)-m,_=l(p);if(Math.abs(w-m)<Ay||_<Ay)return s(p);p=c(p-w/_)}return s(p)};return d.isStepper=!1,d},zR=function(){return $ie(...qie(...arguments))},Hie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Ay&&Math.abs(p)<Ay?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},Gie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zR(t);case"spring":return Hie();default:if(t.split("(")[0]==="cubic-bezier")return zR(t)}return typeof t=="function"?t:null};function Kie(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Wie(){return Kie(new Yie)}var Xie=T.createContext(Wie);function Qie(t,e){var n=T.useContext(Xie);return T.useMemo(()=>e??n(t),[t,e,n])}var Zie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hv={isSsr:Zie()},Jie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LR={t:0},Fw={t:1};function LT(t){var e=Bi(t,Jie),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=n==="auto"?!Hv.isSsr:n,p=Qie(e.animationId,e.animationManager),[b,w]=T.useState(m?LR:Fw),_=T.useRef(null);return T.useEffect(()=>{m||w(Fw)},[m]),T.useEffect(()=>{if(!m||!r)return qm;var E=Bie(LR,Fw,Gie(s),i,w,p.getTimeoutController()),S=()=>{_.current=E()};return p.start([d,l,S,i,c]),()=>{p.stop(),_.current&&_.current(),c()}},[m,r,i,s,l,d,c,p]),f(b.t)}function VT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(sm(e)),r=T.useRef(t);return r.current!==t&&(n.current=sm(e),r.current=t),n.current}var eae=["radius"],tae=["radius"],VR,BR,UR,FR,qR,$R,HR,GR,KR,YR;function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function QR(t,e){if(t==null)return{};var n,r,i=aae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Da(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZR=(t,e,n,r,i)=>{var s=Xo(n),l=Xo(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],w=0,_=4;w<_;w++)b[w]=i[w]>c?c:i[w];p=rn(VR||(VR=Da(["M",",",""])),t,e+d*b[0]),b[0]>0&&(p+=rn(BR||(BR=Da(["A ",",",",0,0,",",",",",""])),b[0],b[0],m,t+f*b[0],e)),p+=rn(UR||(UR=Da(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(p+=rn(FR||(FR=Da(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],m,t+n,e+d*b[1])),p+=rn(qR||(qR=Da(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(p+=rn($R||($R=Da(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],m,t+n-f*b[2],e+r)),p+=rn(HR||(HR=Da(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(p+=rn(GR||(GR=Da(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],m,t,e+r-d*b[3])),p+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);p=rn(KR||(KR=Da(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,m,t+f*E,e,t+n-f*E,e,E,E,m,t+n,e+d*E,t+n,e+r-d*E,E,E,m,t+n-f*E,e+r,t+f*E,e+r,E,E,m,t,e+r-d*E)}else p=rn(YR||(YR=Da(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},JR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S9=t=>{var e=Bi(t,JR),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:w,isAnimationActive:_,isUpdateAnimationActive:E}=e,S=T.useRef(c),I=T.useRef(d),j=T.useRef(s),O=T.useRef(l),D=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),R=VT(D,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var V=we("recharts-rectangle",m);if(!E){var P=zi(e),{radius:C}=P,z=QR(P,eae);return T.createElement("path",ky({},z,{x:Xo(s),y:Xo(l),width:Xo(c),height:Xo(d),radius:typeof f=="number"?f:void 0,className:V,d:ZR(s,l,c,d,f)}))}var F=S.current,L=I.current,q=j.current,U=O.current,be="0px ".concat(r===-1?1:r,"px"),Ie="".concat(r,"px 0px"),Y=x9(["strokeDasharray"],b,typeof p=="string"?p:JR.animationEasing);return T.createElement(LT,{animationId:R,key:R,canBegin:r>0,duration:b,easing:p,isActive:E,begin:w},re=>{var G=lr(F,c,re),ye=lr(L,d,re),Ae=lr(q,s,re),$=lr(U,l,re);n.current&&(S.current=G,I.current=ye,j.current=Ae,O.current=$);var ae;_?re>0?ae={transition:Y,strokeDasharray:Ie}:ae={strokeDasharray:be}:ae={strokeDasharray:Ie};var te=zi(e),{radius:de}=te,xe=QR(te,tae);return T.createElement("path",ky({},xe,{radius:typeof f=="number"?f:void 0,className:V,d:ZR(Ae,$,G,ye,f),ref:n,style:XR(XR({},ae),e.style)}))})};function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iy=Math.PI/180,cae=t=>t*180/Math.PI,cr=(t,e,n,r)=>({x:t+Math.cos(-Iy*r)*n,y:e+Math.sin(-Iy*r)*n}),uae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},fae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=dae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:cae(d),angleInRadian:d}},hae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},mae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},pae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=fae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=hae(e),m=s,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?tj(tj({},e),{},{radius:i,angle:mae(m,e)}):null};function T9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=cr(e,n,r,i),c=cr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var nj,rj,ij,aj,sj,oj,lj;function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(null,arguments)}function lc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gae=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Zg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Iy,p=d?i:i+s*m,b=cr(e,n,f,p),w=cr(e,n,r,p),_=d?i-s*m:i,E=cr(e,n,f*Math.cos(m*Iy),_);return{center:b,circleTangency:w,lineTangency:E,theta:m}},A9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=gae(s,l),d=s+c,f=cr(e,n,i,s),m=cr(e,n,i,d),p=rn(nj||(nj=lc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),m.x,m.y);if(r>0){var b=cr(e,n,r,s),w=cr(e,n,r,d);p+=rn(rj||(rj=lc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else p+=rn(ij||(ij=lc(["L ",","," Z"])),e,n);return p},yae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=oi(f-d),{circleTangency:p,lineTangency:b,theta:w}=Zg({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:_,lineTangency:E,theta:S}=Zg({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),I=c?Math.abs(d-f):Math.abs(d-f)-w-S;if(I<0)return l?rn(aj||(aj=lc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):A9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var j=rn(sj||(sj=lc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(m<0),p.x,p.y,i,i,+(I>180),+(m<0),_.x,_.y,s,s,+(m<0),E.x,E.y);if(r>0){var{circleTangency:O,lineTangency:D,theta:R}=Zg({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:V,lineTangency:P,theta:C}=Zg({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),z=c?Math.abs(d-f):Math.abs(d-f)-R-C;if(z<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=rn(oj||(oj=lc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(m<0),V.x,V.y,r,r,+(z>180),+(m>0),O.x,O.y,s,s,+(m<0),D.x,D.y)}else j+=rn(lj||(lj=lc(["L",",","Z"])),e,n);return j},vae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k9=t=>{var e=Bi(t,vae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(s<i||f===m)return null;var b=we("recharts-sector",p),w=s-i,_=ua(l,w,0,!0),E;return _>0&&Math.abs(f-m)<360?E=yae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=A9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),T.createElement("path",PE({},zi(e),{className:b,d:E}))};function bae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(m6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=cr(r,i,s,c),f=cr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return T9(e)}}var qw={},$w={},Hw={},cj;function xae(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Hw)),Hw}var uj;function wae(){return uj||(uj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($w)),$w}var dj;function _ae(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A6(),n=wae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(qw)),qw}var Gw,fj;function Eae(){return fj||(fj=1,Gw=_ae().range),Gw}var Sae=Eae();const I9=ns(Sae);function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BT(t){let e,n,r;t.length!==2?(e=rl,n=(c,d)=>rl(t(c),d),r=(c,d)=>t(c)-d):(e=t===rl||t===Tae?t:Aae,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function Aae(){return 0}function C9(t){return t===null?NaN:+t}function*kae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Iae=BT(rl),Wm=Iae.right;BT(C9).center;class hj extends Map{constructor(e,n=Oae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mj(this,e))}has(e){return super.has(mj(this,e))}set(e,n){return super.set(Cae(this,e),n)}delete(e){return super.delete(Nae(this,e))}}function mj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Cae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Oae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Pae(t=rl){if(t===rl)return N9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Rae=Math.sqrt(50),jae=Math.sqrt(10),Mae=Math.sqrt(2);function Cy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Rae?10:s>=jae?5:s>=Mae?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Cy(t,e,n*2):[c,d,f]}function RE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Cy(e,t,n):Cy(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function jE(t,e,n){return e=+e,t=+t,n=+n,Cy(t,e,n)[2]}function ME(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?jE(e,t,n):jE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function O9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N9:Pae(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*p/d+b)),_=Math.min(r,Math.floor(e+(d-f)*p/d+b));O9(t,e,w,_,i)}const s=t[e];let l=n,c=r;for(gh(t,n,e),i(t[r],s)>0&&gh(t,n,r);l<c;){for(gh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?gh(t,n,c):(++c,gh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function gh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Dae(t,e,n){if(t=Float64Array.from(kae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gj(t);if(e>=1)return pj(t);var r,i=(r-1)*e,s=Math.floor(i),l=pj(O9(t,s).subarray(0,s+1)),c=gj(t.subarray(s+1));return l+(c-l)*(i-s)}}function zae(t,e,n=C9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function Lae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Js(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DE=Symbol("implicit");function UT(){var t=new hj,e=[],n=[],r=DE;function i(s){let l=t.get(s);if(l===void 0){if(r!==DE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new hj;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UT(e,n).unknown(r)},Ui.apply(i,arguments),i}function FT(){var t=UT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var b=e().length,w=i<r,_=w?i:r,E=w?r:i;s=(E-_)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),_+=(E-_-s*(b-d))*m,l=s*(1-d),c&&(_=Math.round(_),l=Math.round(l));var S=Lae(b).map(function(I){return _+s*I});return n(w?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return FT(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Ui.apply(p(),arguments)}function P9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return P9(e())},t}function Vae(){return P9(FT.apply(null,arguments).paddingInner(1))}function qT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function R9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xm(){}var mm=.7,Ny=1/mm,id="\\s*([+-]?\\d+)\\s*",pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bae=/^#([0-9a-f]{3,8})$/,Uae=new RegExp(`^rgb\\(${id},${id},${id}\\)$`),Fae=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),qae=new RegExp(`^rgba\\(${id},${id},${id},${pm}\\)$`),$ae=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${pm}\\)$`),Hae=new RegExp(`^hsl\\(${pm},${Xa},${Xa}\\)$`),Gae=new RegExp(`^hsla\\(${pm},${Xa},${Xa},${pm}\\)$`),yj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qT(Xm,gm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vj,formatHex:vj,formatHex8:Kae,formatHsl:Yae,formatRgb:bj,toString:bj});function vj(){return this.rgb().formatHex()}function Kae(){return this.rgb().formatHex8()}function Yae(){return j9(this).formatHsl()}function bj(){return this.rgb().formatRgb()}function gm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xj(e):n===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uae.exec(t))?new Vr(e[1],e[2],e[3],1):(e=Fae.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qae.exec(t))?Jg(e[1],e[2],e[3],e[4]):(e=$ae.exec(t))?Jg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hae.exec(t))?Ej(e[1],e[2]/100,e[3]/100,1):(e=Gae.exec(t))?Ej(e[1],e[2]/100,e[3]/100,e[4]):yj.hasOwnProperty(t)?xj(yj[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function xj(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function Jg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vr(t,e,n,r)}function Wae(t){return t instanceof Xm||(t=gm(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function zE(t,e,n,r){return arguments.length===1?Wae(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qT(Vr,zE,R9(Xm,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mm:Math.pow(mm,t),new Vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vr(vc(this.r),vc(this.g),vc(this.b),Oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wj,formatHex:wj,formatHex8:Xae,formatRgb:_j,toString:_j}));function wj(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function Xae(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function _j(){const t=Oy(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function Oy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function Ej(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sa(t,e,n,r)}function j9(t){if(t instanceof sa)return new sa(t.h,t.s,t.l,t.opacity);if(t instanceof Xm||(t=gm(t)),!t)return new sa;if(t instanceof sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new sa(l,c,d,t.opacity)}function Qae(t,e,n,r){return arguments.length===1?j9(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qT(sa,Qae,R9(Xm,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mm:Math.pow(mm,t),new sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vr(Kw(t>=240?t-240:t+120,i,r),Kw(t,i,r),Kw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sa(Sj(this.h),e0(this.s),e0(this.l),Oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oy(this.opacity);return`${t===1?"hsl(":"hsla("}${Sj(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sj(t){return t=(t||0)%360,t<0?t+360:t}function e0(t){return Math.max(0,Math.min(1,t||0))}function Kw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $T=t=>()=>t;function Zae(t,e){return function(n){return t+n*e}}function Jae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ese(t){return(t=+t)==1?M9:function(e,n){return n-e?Jae(e,n,t):$T(isNaN(e)?n:e)}}function M9(t,e){var n=e-t;return n?Zae(t,n):$T(isNaN(t)?e:t)}const Tj=(function t(e){var n=ese(e);function r(i,s){var l=n((i=zE(i)).r,(s=zE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=M9(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function tse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function nse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Qd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function ise(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Py(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ase(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var LE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(LE.source,"g");function sse(t){return function(){return t}}function ose(t){return function(e){return t(e)+""}}function lse(t,e){var n=LE.lastIndex=Yw.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=LE.exec(t))&&(i=Yw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Py(r,i)})),n=Yw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?ose(d[0].x):sse(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Qd(t,e){var n=typeof e,r;return e==null||n==="boolean"?$T(e):(n==="number"?Py:n==="string"?(r=gm(e))?(e=r,Tj):lse:e instanceof gm?Tj:e instanceof Date?ise:nse(e)?tse:Array.isArray(e)?rse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ase:Py)(t,e)}function HT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cse(t,e){e===void 0&&(e=t,t=Qd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function use(t){return function(){return t}}function Ry(t){return+t}var Aj=[0,1];function Sr(t){return t}function VE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:use(isNaN(e)?NaN:.5)}function dse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function fse(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=VE(i,r),s=n(l,s)):(r=VE(r,i),s=n(s,l)),function(c){return s(r(c))}}function hse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=VE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Wm(t,c,1,r)-1;return s[d](i[d](c))}}function Qm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gv(){var t=Aj,e=Aj,n=Qd,r,i,s,l=Sr,c,d,f;function m(){var b=Math.min(t.length,e.length);return l!==Sr&&(l=dse(t[0],t[b-1])),c=b>2?hse:fse,d=f=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((f||(f=c(e,t.map(r),Py)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,Ry),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=HT,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Sr,m()):l!==Sr},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,w){return r=b,i=w,m()}}function GT(){return Gv()(Sr,Sr)}function mse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nd(t){return t=jy(Math.abs(t)),t?t[1]:NaN}function pse(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function gse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ym(t){if(!(e=yse.exec(t)))throw new Error("invalid format: "+t);var e;return new KT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ym.prototype=KT.prototype;function KT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var D9;function bse(t,e){var n=jy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(D9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+jy(t,Math.max(0,e+s-1))[0]}function kj(t,e){var n=jy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ij={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kj(t*100,e),r:kj,s:bse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cj(t){return t}var Nj=Array.prototype.map,Oj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xse(t){var e=t.grouping===void 0||t.thousands===void 0?Cj:pse(Nj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Cj:gse(Nj.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=ym(p);var b=p.fill,w=p.align,_=p.sign,E=p.symbol,S=p.zero,I=p.width,j=p.comma,O=p.precision,D=p.trim,R=p.type;R==="n"?(j=!0,R="g"):Ij[R]||(O===void 0&&(O=12),D=!0,R="g"),(S||b==="0"&&w==="=")&&(S=!0,b="0",w="=");var V=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",P=E==="$"?r:/[%p]/.test(R)?l:"",C=Ij[R],z=/[defgprs%]/.test(R);O=O===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function F(L){var q=V,U=P,be,Ie,Y;if(R==="c")U=C(L)+U,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?d:C(Math.abs(L),O),D&&(L=vse(L)),re&&+L==0&&_!=="+"&&(re=!1),q=(re?_==="("?_:c:_==="-"||_==="("?"":_)+q,U=(R==="s"?Oj[8+D9/3]:"")+U+(re&&_==="("?")":""),z){for(be=-1,Ie=L.length;++be<Ie;)if(Y=L.charCodeAt(be),48>Y||Y>57){U=(Y===46?i+L.slice(be+1):L.slice(be))+U,L=L.slice(0,be);break}}}j&&!S&&(L=e(L,1/0));var G=q.length+L.length+U.length,ye=G<I?new Array(I-G+1).join(b):"";switch(j&&S&&(L=e(ye+L,ye.length?I-U.length:1/0),ye=""),w){case"<":L=q+L+U+ye;break;case"=":L=q+ye+L+U;break;case"^":L=ye.slice(0,G=ye.length>>1)+q+L+U+ye.slice(G);break;default:L=ye+q+L+U;break}return s(L)}return F.toString=function(){return p+""},F}function m(p,b){var w=f((p=ym(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Nd(b)/3)))*3,E=Math.pow(10,-_),S=Oj[8+_/3];return function(I){return w(E*I)+S}}return{format:f,formatPrefix:m}}var t0,YT,z9;wse({thousands:",",grouping:[3],currency:["$",""]});function wse(t){return t0=xse(t),YT=t0.format,z9=t0.formatPrefix,t0}function _se(t){return Math.max(0,-Nd(Math.abs(t)))}function Ese(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nd(e)/3)))*3-Nd(Math.abs(t)))}function Sse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nd(e)-Nd(t))+1}function L9(t,e,n,r){var i=ME(t,e,n),s;switch(r=ym(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Ese(i,l))&&(r.precision=s),z9(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Sse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=_se(i))&&(r.precision=s-(r.type==="%")*2);break}}return YT(r)}function yl(t){var e=t.domain;return t.ticks=function(n){var r=e();return RE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return L9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);m-- >0;){if(f=jE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function V9(){var t=GT();return t.copy=function(){return Qm(t,V9())},Ui.apply(t,arguments),yl(t)}function B9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ry),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return B9(t).unknown(e)},t=arguments.length?Array.from(t,Ry):[0,1],yl(n)}function U9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Pj(t){return Math.log(t)}function Rj(t){return Math.exp(t)}function Tse(t){return-Math.log(-t)}function Ase(t){return-Math.exp(-t)}function kse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ise(t){return t===10?kse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Cse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jj(t){return(e,n)=>-t(-e,n)}function WT(t){const e=t(Pj,Rj),n=e.domain;let r=10,i,s;function l(){return i=Cse(r),s=Ise(r),n()[0]<0?(i=jj(i),s=jj(s),t(Tse,Ase)):t(Pj,Rj),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let b=i(f),w=i(m),_,E;const S=c==null?10:+c;let I=[];if(!(r%1)&&w-b<S){if(b=Math.floor(b),w=Math.ceil(w),f>0){for(;b<=w;++b)for(_=1;_<r;++_)if(E=b<0?_/s(-b):_*s(b),!(E<f)){if(E>m)break;I.push(E)}}else for(;b<=w;++b)for(_=r-1;_>=1;--_)if(E=b>0?_/s(-b):_*s(b),!(E<f)){if(E>m)break;I.push(E)}I.length*2<S&&(I=RE(f,m,S))}else I=RE(b,w,Math.min(w-b,S)).map(s);return p?I.reverse():I},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ym(d)).precision==null&&(d.trim=!0),d=YT(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(U9(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function F9(){const t=WT(Gv()).domain([1,10]);return t.copy=()=>Qm(t,F9()).base(t.base()),Ui.apply(t,arguments),t}function Mj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XT(t){var e=1,n=t(Mj(e),Dj(e));return n.constant=function(r){return arguments.length?t(Mj(e=+r),Dj(e)):e},yl(n)}function q9(){var t=XT(Gv());return t.copy=function(){return Qm(t,q9()).constant(t.constant())},Ui.apply(t,arguments)}function zj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ose(t){return t<0?-t*t:t*t}function QT(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(Nse,Ose):t(zj(n),zj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yl(e)}function ZT(){var t=QT(Gv());return t.copy=function(){return Qm(t,ZT()).exponent(t.exponent())},Ui.apply(t,arguments),t}function Pse(){return ZT.apply(null,arguments).exponent(.5)}function Lj(t){return Math.sign(t)*t*t}function Rse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $9(){var t=GT(),e=[0,1],n=!1,r;function i(s){var l=Rse(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(Lj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ry)).map(Lj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ui.apply(i,arguments),yl(i)}function H9(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=zae(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Wm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(rl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return H9().domain(t).range(e).unknown(r)},Ui.apply(s,arguments)}function G9(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Wm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return G9().domain([t,e]).range(i).unknown(s)},Ui.apply(yl(l),arguments)}function K9(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Wm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return K9().domain(t).range(e).unknown(n)},Ui.apply(i,arguments)}const Ww=new Date,Xw=new Date;function On(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>On(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Ww.setTime(+s),Xw.setTime(+l),t(Ww),t(Xw),Math.floor(n(Ww,Xw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const My=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);My.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):My);My.range;const Ps=1e3,Mi=Ps*60,Rs=Mi*60,$s=Rs*24,JT=$s*7,Vj=$s*30,Qw=$s*365,uc=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCSeconds());uc.range;const eA=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());eA.range;const tA=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());tA.range;const nA=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());nA.range;const rA=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());rA.range;const Zm=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/$s,t=>t.getDate()-1);Zm.range;const Kv=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);Kv.range;const Y9=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));Y9.range;function Fc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/JT)}const Yv=Fc(0),Dy=Fc(1),jse=Fc(2),Mse=Fc(3),Od=Fc(4),Dse=Fc(5),zse=Fc(6);Yv.range;Dy.range;jse.range;Mse.range;Od.range;Dse.range;zse.range;function qc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JT)}const Wv=qc(0),zy=qc(1),Lse=qc(2),Vse=qc(3),Pd=qc(4),Bse=qc(5),Use=qc(6);Wv.range;zy.range;Lse.range;Vse.range;Pd.range;Bse.range;Use.range;const iA=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iA.range;const aA=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aA.range;const Hs=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Gs=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function W9(t,e,n,r,i,s){const l=[[uc,1,Ps],[uc,5,5*Ps],[uc,15,15*Ps],[uc,30,30*Ps],[s,1,Mi],[s,5,5*Mi],[s,15,15*Mi],[s,30,30*Mi],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,$s],[r,2,2*$s],[n,1,JT],[e,1,Vj],[e,3,3*Vj],[t,1,Qw]];function c(f,m,p){const b=m<f;b&&([f,m]=[m,f]);const w=p&&typeof p.range=="function"?p:d(f,m,p),_=w?w.range(f,+m+1):[];return b?_.reverse():_}function d(f,m,p){const b=Math.abs(m-f)/p,w=BT(([,,S])=>S).right(l,b);if(w===l.length)return t.every(ME(f/Qw,m/Qw,p));if(w===0)return My.every(Math.max(ME(f,m,p),1));const[_,E]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return _.every(E)}return[c,d]}const[Fse,qse]=W9(Gs,aA,Wv,Y9,rA,tA),[$se,Hse]=W9(Hs,iA,Yv,Zm,nA,eA);function Zw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Gse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=vh(i),m=bh(i),p=vh(s),b=bh(s),w=vh(l),_=bh(l),E=vh(c),S=bh(c),I=vh(d),j=bh(d),O={a:re,A:G,b:ye,B:Ae,c:null,d:Hj,e:Hj,f:poe,g:Toe,G:koe,H:foe,I:hoe,j:moe,L:X9,m:goe,M:yoe,p:$,q:ae,Q:Yj,s:Wj,S:voe,u:boe,U:xoe,V:woe,w:_oe,W:Eoe,x:null,X:null,y:Soe,Y:Aoe,Z:Ioe,"%":Kj},D={a:te,A:de,b:xe,B:J,c:null,d:Gj,e:Gj,f:Poe,g:Foe,G:$oe,H:Coe,I:Noe,j:Ooe,L:Z9,m:Roe,M:joe,p:fe,q:Ce,Q:Yj,s:Wj,S:Moe,u:Doe,U:zoe,V:Loe,w:Voe,W:Boe,x:null,X:null,y:Uoe,Y:qoe,Z:Hoe,"%":Kj},R={a:F,A:L,b:q,B:U,c:be,d:qj,e:qj,f:loe,g:Fj,G:Uj,H:$j,I:$j,j:ioe,L:ooe,m:roe,M:aoe,p:z,q:noe,Q:uoe,s:doe,S:soe,u:Qse,U:Zse,V:Jse,w:Xse,W:eoe,x:Ie,X:Y,y:Fj,Y:Uj,Z:toe,"%":coe};O.x=V(n,O),O.X=V(r,O),O.c=V(e,O),D.x=V(n,D),D.X=V(r,D),D.c=V(e,D);function V(se,Re){return function(Ue){var me=[],gt=-1,Ke=0,kt=se.length,vt,qt,Fe;for(Ue instanceof Date||(Ue=new Date(+Ue));++gt<kt;)se.charCodeAt(gt)===37&&(me.push(se.slice(Ke,gt)),(qt=Bj[vt=se.charAt(++gt)])!=null?vt=se.charAt(++gt):qt=vt==="e"?" ":"0",(Fe=Re[vt])&&(vt=Fe(Ue,qt)),me.push(vt),Ke=gt+1);return me.push(se.slice(Ke,gt)),me.join("")}}function P(se,Re){return function(Ue){var me=yh(1900,void 0,1),gt=C(me,se,Ue+="",0),Ke,kt;if(gt!=Ue.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Re&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ke=Jw(yh(me.y,0,1)),kt=Ke.getUTCDay(),Ke=kt>4||kt===0?zy.ceil(Ke):zy(Ke),Ke=Kv.offset(Ke,(me.V-1)*7),me.y=Ke.getUTCFullYear(),me.m=Ke.getUTCMonth(),me.d=Ke.getUTCDate()+(me.w+6)%7):(Ke=Zw(yh(me.y,0,1)),kt=Ke.getDay(),Ke=kt>4||kt===0?Dy.ceil(Ke):Dy(Ke),Ke=Zm.offset(Ke,(me.V-1)*7),me.y=Ke.getFullYear(),me.m=Ke.getMonth(),me.d=Ke.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),kt="Z"in me?Jw(yh(me.y,0,1)).getUTCDay():Zw(yh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(kt+5)%7:me.w+me.U*7-(kt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Jw(me)):Zw(me)}}function C(se,Re,Ue,me){for(var gt=0,Ke=Re.length,kt=Ue.length,vt,qt;gt<Ke;){if(me>=kt)return-1;if(vt=Re.charCodeAt(gt++),vt===37){if(vt=Re.charAt(gt++),qt=R[vt in Bj?Re.charAt(gt++):vt],!qt||(me=qt(se,Ue,me))<0)return-1}else if(vt!=Ue.charCodeAt(me++))return-1}return me}function z(se,Re,Ue){var me=f.exec(Re.slice(Ue));return me?(se.p=m.get(me[0].toLowerCase()),Ue+me[0].length):-1}function F(se,Re,Ue){var me=w.exec(Re.slice(Ue));return me?(se.w=_.get(me[0].toLowerCase()),Ue+me[0].length):-1}function L(se,Re,Ue){var me=p.exec(Re.slice(Ue));return me?(se.w=b.get(me[0].toLowerCase()),Ue+me[0].length):-1}function q(se,Re,Ue){var me=I.exec(Re.slice(Ue));return me?(se.m=j.get(me[0].toLowerCase()),Ue+me[0].length):-1}function U(se,Re,Ue){var me=E.exec(Re.slice(Ue));return me?(se.m=S.get(me[0].toLowerCase()),Ue+me[0].length):-1}function be(se,Re,Ue){return C(se,e,Re,Ue)}function Ie(se,Re,Ue){return C(se,n,Re,Ue)}function Y(se,Re,Ue){return C(se,r,Re,Ue)}function re(se){return l[se.getDay()]}function G(se){return s[se.getDay()]}function ye(se){return d[se.getMonth()]}function Ae(se){return c[se.getMonth()]}function $(se){return i[+(se.getHours()>=12)]}function ae(se){return 1+~~(se.getMonth()/3)}function te(se){return l[se.getUTCDay()]}function de(se){return s[se.getUTCDay()]}function xe(se){return d[se.getUTCMonth()]}function J(se){return c[se.getUTCMonth()]}function fe(se){return i[+(se.getUTCHours()>=12)]}function Ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Re=V(se+="",O);return Re.toString=function(){return se},Re},parse:function(se){var Re=P(se+="",!1);return Re.toString=function(){return se},Re},utcFormat:function(se){var Re=V(se+="",D);return Re.toString=function(){return se},Re},utcParse:function(se){var Re=P(se+="",!0);return Re.toString=function(){return se},Re}}}var Bj={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,Kse=/^%/,Yse=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Wse(t){return t.replace(Yse,"\\$&")}function vh(t){return new RegExp("^(?:"+t.map(Wse).join("|")+")","i")}function bh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xse(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qse(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zse(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Jse(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eoe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Uj(t,e,n){var r=Yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fj(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function toe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function noe(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function roe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qj(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ioe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $j(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aoe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function soe(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ooe(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function loe(t,e,n){var r=Yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function coe(t,e,n){var r=Kse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uoe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function doe(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hj(t,e){return ht(t.getDate(),e,2)}function foe(t,e){return ht(t.getHours(),e,2)}function hoe(t,e){return ht(t.getHours()%12||12,e,2)}function moe(t,e){return ht(1+Zm.count(Hs(t),t),e,3)}function X9(t,e){return ht(t.getMilliseconds(),e,3)}function poe(t,e){return X9(t,e)+"000"}function goe(t,e){return ht(t.getMonth()+1,e,2)}function yoe(t,e){return ht(t.getMinutes(),e,2)}function voe(t,e){return ht(t.getSeconds(),e,2)}function boe(t){var e=t.getDay();return e===0?7:e}function xoe(t,e){return ht(Yv.count(Hs(t)-1,t),e,2)}function Q9(t){var e=t.getDay();return e>=4||e===0?Od(t):Od.ceil(t)}function woe(t,e){return t=Q9(t),ht(Od.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function _oe(t){return t.getDay()}function Eoe(t,e){return ht(Dy.count(Hs(t)-1,t),e,2)}function Soe(t,e){return ht(t.getFullYear()%100,e,2)}function Toe(t,e){return t=Q9(t),ht(t.getFullYear()%100,e,2)}function Aoe(t,e){return ht(t.getFullYear()%1e4,e,4)}function koe(t,e){var n=t.getDay();return t=n>=4||n===0?Od(t):Od.ceil(t),ht(t.getFullYear()%1e4,e,4)}function Ioe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function Gj(t,e){return ht(t.getUTCDate(),e,2)}function Coe(t,e){return ht(t.getUTCHours(),e,2)}function Noe(t,e){return ht(t.getUTCHours()%12||12,e,2)}function Ooe(t,e){return ht(1+Kv.count(Gs(t),t),e,3)}function Z9(t,e){return ht(t.getUTCMilliseconds(),e,3)}function Poe(t,e){return Z9(t,e)+"000"}function Roe(t,e){return ht(t.getUTCMonth()+1,e,2)}function joe(t,e){return ht(t.getUTCMinutes(),e,2)}function Moe(t,e){return ht(t.getUTCSeconds(),e,2)}function Doe(t){var e=t.getUTCDay();return e===0?7:e}function zoe(t,e){return ht(Wv.count(Gs(t)-1,t),e,2)}function J9(t){var e=t.getUTCDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function Loe(t,e){return t=J9(t),ht(Pd.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function Voe(t){return t.getUTCDay()}function Boe(t,e){return ht(zy.count(Gs(t)-1,t),e,2)}function Uoe(t,e){return ht(t.getUTCFullYear()%100,e,2)}function Foe(t,e){return t=J9(t),ht(t.getUTCFullYear()%100,e,2)}function qoe(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function $oe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pd(t):Pd.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function Hoe(){return"+0000"}function Kj(){return"%"}function Yj(t){return+t}function Wj(t){return Math.floor(+t/1e3)}var Bu,eL,tL;Goe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Goe(t){return Bu=Gse(t),eL=Bu.format,Bu.parse,tL=Bu.utcFormat,Bu.utcParse,Bu}function Koe(t){return new Date(t)}function Yoe(t){return t instanceof Date?+t:+new Date(+t)}function sA(t,e,n,r,i,s,l,c,d,f){var m=GT(),p=m.invert,b=m.domain,w=f(".%L"),_=f(":%S"),E=f("%I:%M"),S=f("%I %p"),I=f("%a %d"),j=f("%b %d"),O=f("%B"),D=f("%Y");function R(V){return(d(V)<V?w:c(V)<V?_:l(V)<V?E:s(V)<V?S:r(V)<V?i(V)<V?I:j:n(V)<V?O:D)(V)}return m.invert=function(V){return new Date(p(V))},m.domain=function(V){return arguments.length?b(Array.from(V,Yoe)):b().map(Koe)},m.ticks=function(V){var P=b();return t(P[0],P[P.length-1],V??10)},m.tickFormat=function(V,P){return P==null?R:f(P)},m.nice=function(V){var P=b();return(!V||typeof V.range!="function")&&(V=e(P[0],P[P.length-1],V??10)),V?b(U9(P,V)):m},m.copy=function(){return Qm(m,sA(t,e,n,r,i,s,l,c,d,f))},m}function Woe(){return Ui.apply(sA($se,Hse,Hs,iA,Yv,Zm,nA,eA,uc,eL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xoe(){return Ui.apply(sA(Fse,qse,Gs,aA,Wv,Kv,rA,tA,uc,tL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xv(){var t=0,e=1,n,r,i,s,l=Sr,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(b){var w,_;return arguments.length?([w,_]=b,l=p(w,_),f):[l(0),l(1)]}}return f.range=m(Qd),f.rangeRound=m(HT),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nL(){var t=yl(Xv()(Sr));return t.copy=function(){return vl(t,nL())},Js.apply(t,arguments)}function rL(){var t=WT(Xv()).domain([1,10]);return t.copy=function(){return vl(t,rL()).base(t.base())},Js.apply(t,arguments)}function iL(){var t=XT(Xv());return t.copy=function(){return vl(t,iL()).constant(t.constant())},Js.apply(t,arguments)}function oA(){var t=QT(Xv());return t.copy=function(){return vl(t,oA()).exponent(t.exponent())},Js.apply(t,arguments)}function Qoe(){return oA.apply(null,arguments).exponent(.5)}function aL(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Dae(t,s/r))},n.copy=function(){return aL(e).domain(t)},Js.apply(n,arguments)}function Qv(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Sr,m,p=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:d),f(p?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(p=!!E,w):p},w.interpolator=function(E){return arguments.length?(f=E,w):f};function _(E){return function(S){var I,j,O;return arguments.length?([I,j,O]=S,f=cse(E,[I,j,O]),w):[f(0),f(.5),f(1)]}}return w.range=_(Qd),w.rangeRound=_(HT),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w}}function sL(){var t=yl(Qv()(Sr));return t.copy=function(){return vl(t,sL())},Js.apply(t,arguments)}function oL(){var t=WT(Qv()).domain([.1,1,10]);return t.copy=function(){return vl(t,oL()).base(t.base())},Js.apply(t,arguments)}function lL(){var t=XT(Qv());return t.copy=function(){return vl(t,lL()).constant(t.constant())},Js.apply(t,arguments)}function lA(){var t=QT(Qv());return t.copy=function(){return vl(t,lA()).exponent(t.exponent())},Js.apply(t,arguments)}function Zoe(){return lA.apply(null,arguments).exponent(.5)}const kh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FT,scaleDiverging:sL,scaleDivergingLog:oL,scaleDivergingPow:lA,scaleDivergingSqrt:Zoe,scaleDivergingSymlog:lL,scaleIdentity:B9,scaleImplicit:DE,scaleLinear:V9,scaleLog:F9,scaleOrdinal:UT,scalePoint:Vae,scalePow:ZT,scaleQuantile:H9,scaleQuantize:G9,scaleRadial:$9,scaleSequential:nL,scaleSequentialLog:rL,scaleSequentialPow:oA,scaleSequentialQuantile:aL,scaleSequentialSqrt:Qoe,scaleSequentialSymlog:iL,scaleSqrt:Pse,scaleSymlog:q9,scaleThreshold:K9,scaleTime:Woe,scaleUtc:Xoe,tickFormat:L9},Symbol.toStringTag,{value:"Module"}));var eo=t=>t.chartData,cL=le([eo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),uL=(t,e,n,r)=>r?cL(t):eo(t),Joe=(t,e,n)=>n?cL(t):eo(t);function ul(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(en(e)&&en(n))return!0}return!1}function Xj(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function dL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(en(n))i=n;else if(typeof n=="function")return;if(en(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ul(l))return l}}function ele(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ul(r))return Xj(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(qe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&lR.test(i)){var d=lR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(qe(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&cR.test(s)){var m=cR.exec(s);if(m==null||m[1]==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e?.[1];var b=[l,c];if(ul(b))return e==null?b:Xj(b,e,n)}}}var Zd=1e9,tle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uA,Wt=!0,Vi="[DecimalError] ",bc=Vi+"Invalid argument: ",cA=Vi+"Exponent out of range: ",Jd=Math.floor,ec=Math.pow,nle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,$n=1e7,Ft=7,fL=9007199254740991,Ly=Jd(fL/Ft),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Ms(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Dt(Ms(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Sn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ii))throw Error(Vi+"NaN");if(n.s<1)throw Error(Vi+(n.s?"NaN":"-Infinity"));return n.eq(ii)?new r(0):(Wt=!1,e=Ms(vm(n,s),vm(t,s),s),Wt=!0,Dt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pL(e,t):hL(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vi+"NaN");return n.s?(Wt=!1,e=Ms(n,t,0,1).times(t),Wt=!0,n.minus(e)):Dt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return mL(this)};Oe.naturalLogarithm=Oe.ln=function(){return vm(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hL(e,t):pL(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bc+t);if(e=Sn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Vi+"NaN")}for(t=Sn(c),Wt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=qa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ms(c,s,l+2)).times(.5),qa(s.d).slice(0,l)===(e=qa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Wt=!0,Dt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,s,l,c,d,f,m=this,p=m.constructor,b=m.d,w=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,f=w.length,d<f&&(s=b,b=w,w=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+w[r]*b[i-r-1]+e,s[i--]=c%$n|0,e=c/$n|0;s[i]=(s[i]+e)%$n|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Wt?Dt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ts(t,0,Zd),e===void 0?e=r.rounding:ts(e,0,8),Dt(n,t+Sn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mc(r,!0):(ts(t,0,Zd),e===void 0?e=i.rounding:ts(e,0,8),r=Dt(new i(r),t+1,e),n=Mc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Mc(i):(ts(t,0,Zd),e===void 0?e=s.rounding:ts(e,0,8),r=Dt(new s(i),t+Sn(i)+1,e),n=Mc(r.abs(),!1,t+Sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),Sn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ii);if(c=new d(c),!c.s){if(t.s<1)throw Error(Vi+"Infinity");return c}if(c.eq(ii))return c;if(r=d.precision,t.eq(ii))return Dt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=fL){for(i=new d(ii),e=Math.ceil(r/Ft+4),Wt=!1;n%2&&(i=i.times(c),Zj(i.d,e)),n=Jd(n/2),n!==0;)c=c.times(c),Zj(c.d,e);return Wt=!0,t.s<0?new d(ii).div(i):Dt(i,r)}}else if(s<0)throw Error(Vi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Wt=!1,i=t.times(vm(c,r+f)),Wt=!0,i=mL(i),i.s=s,i};Oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Sn(i),r=Mc(i,n<=s.toExpNeg||n>=s.toExpPos)):(ts(t,1,Zd),e===void 0?e=s.rounding:ts(e,0,8),i=Dt(new s(i),t,e),n=Sn(i),r=Mc(i,t<=n||n<=s.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ts(t,1,Zd),e===void 0?e=r.rounding:ts(e,0,8)),Dt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return Mc(t,e<=n.toExpNeg||e>=n.toExpPos)};function hL(t,e){var n,r,i,s,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Wt?Dt(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/Ft),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/$n|0,d[s]%=$n;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Wt?Dt(e,p):e}function ts(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bc+t)}function qa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(s+=Fo(n)),s+=r;l=t[e],r=l+"",n=Ft-r.length,n&&(s+=Fo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ms=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%$n|0,l=s/$n|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*$n+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,m,p,b,w,_,E,S,I,j,O,D,R,V,P,C,z=r.constructor,F=r.s==i.s?1:-1,L=r.d,q=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Vi+"Division by zero");for(d=r.e-i.e,P=q.length,R=L.length,w=new z(F),_=w.d=[],f=0;q[f]==(L[f]||0);)++f;if(q[f]>(L[f]||0)&&--d,s==null?j=s=z.precision:l?j=s+(Sn(r)-Sn(i))+1:j=s,j<0)return new z(0);if(j=j/Ft+2|0,f=0,P==1)for(m=0,q=q[0],j++;(f<R||m)&&j--;f++)O=m*$n+(L[f]||0),_[f]=O/q|0,m=O%q|0;else{for(m=$n/(q[0]+1)|0,m>1&&(q=t(q,m),L=t(L,m),P=q.length,R=L.length),D=P,E=L.slice(0,P),S=E.length;S<P;)E[S++]=0;C=q.slice(),C.unshift(0),V=q[0],q[1]>=$n/2&&++V;do m=0,c=e(q,E,P,S),c<0?(I=E[0],P!=S&&(I=I*$n+(E[1]||0)),m=I/V|0,m>1?(m>=$n&&(m=$n-1),p=t(q,m),b=p.length,S=E.length,c=e(p,E,b,S),c==1&&(m--,n(p,P<b?C:q,b))):(m==0&&(c=m=1),p=q.slice()),b=p.length,b<S&&p.unshift(0),n(E,p,S),c==-1&&(S=E.length,c=e(q,E,P,S),c<1&&(m++,n(E,P<S?C:q,S))),S=E.length):c===0&&(m++,E=[0]),_[f++]=m,c&&E[0]?E[S++]=L[D]||0:(E=[L[D]],S=1);while((D++<R||E[0]!==void 0)&&j--)}return _[0]||_.shift(),w.e=d,Dt(w,l?s+Sn(w)+1:s)}})();function mL(t,e){var n,r,i,s,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(Sn(t)>16)throw Error(cA+Sn(t));if(!t.s)return new m(ii);for(Wt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(ec(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new m(ii),m.precision=c;;){if(i=Dt(i.times(t),c),n=n.times(++d),l=s.plus(Ms(i,n,c)),qa(l.d).slice(0,c)===qa(s.d).slice(0,c)){for(;f--;)s=Dt(s.times(s),c);return m.precision=p,e==null?(Wt=!0,Dt(s,p)):s}s=l}}function Sn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function e_(t,e,n){if(e>t.LN10.sd())throw Wt=!0,n&&(t.precision=n),Error(Vi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Fo(t){for(var e="";t--;)e+="0";return e}function vm(t,e){var n,r,i,s,l,c,d,f,m,p=1,b=10,w=t,_=w.d,E=w.constructor,S=E.precision;if(w.s<1)throw Error(Vi+(w.s?"NaN":"-Infinity"));if(w.eq(ii))return new E(0);if(e==null?(Wt=!1,f=S):f=e,w.eq(10))return e==null&&(Wt=!0),e_(E,f);if(f+=b,E.precision=f,n=qa(_),r=n.charAt(0),s=Sn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=qa(w.d),r=n.charAt(0),p++;s=Sn(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return d=e_(E,f+2,S).times(s+""),w=vm(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(Wt=!0,Dt(w,S)):w;for(c=l=w=Ms(w.minus(ii),w.plus(ii),f),m=Dt(w.times(w),f),i=3;;){if(l=Dt(l.times(m),f),d=c.plus(Ms(l,new E(i),f)),qa(d.d).slice(0,f)===qa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(e_(E,f+2,S).times(s+""))),c=Ms(c,new E(p),f),E.precision=S,e==null?(Wt=!0,Dt(c,S)):c;c=d,i+=2}}function Qj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jd(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Wt&&(t.e>Ly||t.e<-Ly))throw Error(cA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,s,l,c,d,f,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ft,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Ft),s=p.length,m>=s)return t;for(f=s=p[m],l=1;s>=10;s/=10)l++;r%=Ft,i=r-Ft+l}if(n!==void 0&&(s=ec(10,l-i-1),c=f/s%10|0,d=e<0||p[m+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/ec(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=Sn(t),p.length=1,e=e-s-1,p[0]=ec(10,(Ft-e%Ft)%Ft),t.e=Jd(-e/Ft)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=ec(10,Ft-r),p[m]=i>0?(f/ec(10,l-i)%ec(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==$n&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=$n)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Wt&&(t.e>Ly||t.e<-Ly))throw Error(cA+Sn(t));return t}function pL(t,e){var n,r,i,s,l,c,d,f,m,p,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Wt?Dt(e,w):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(w/Ft),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=$n-1;--d[s],d[i]+=$n}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Wt?Dt(e,w):e):new b(0)}function Mc(t,e,n){var r,i=Sn(t),s=qa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Fo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fo(-i-1)+s,n&&(r=n-l)>0&&(s+=Fo(r))):i>=l?(s+=Fo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Fo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Fo(r))),t.s<0?"-"+s:s}function Zj(t,e){if(t.length>e)return t.length=e,!0}function gL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(bc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Qj(l,s.toString())}else if(typeof s!="string")throw Error(bc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,nle.test(s))Qj(l,s);else throw Error(bc+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gL,i.config=i.set=rle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rle(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,n,r,i=["precision",1,Zd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bc+n+": "+r);return this}var uA=gL(tle);ii=new uA(1);const Et=uA;var ile=t=>t,yL={},vL=t=>t===yL,Jj=t=>function e(){return arguments.length===0||arguments.length===1&&vL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},bL=(t,e)=>t===1?e:Jj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==yL).length;return s>=t?e(...r):bL(t-s,Jj(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>vL(m)?c.shift():m);return e(...f,...c)}))}),ale=t=>bL(t.length,t),BE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},sle=ale((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ole=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ile;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function xL(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function wL(t,e,n){for(var r=new Et(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var _L=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},EL=(t,e,n)=>{if(t.lte(0))return new Et(0);var r=xL(t.toNumber()),i=new Et(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new Et(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Et(d.toNumber()):new Et(Math.ceil(d.toNumber()))},lle=(t,e,n)=>{var r=new Et(1),i=new Et(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Et(10).pow(xL(t)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):n||(i=new Et(Math.floor(t)));var l=Math.floor((e-1)/2),c=ole(sle(d=>i.add(new Et(d-l).mul(r)).toNumber()),BE);return c(0,e)},SL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var l=EL(new Et(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new Et(0):(c=new Et(e).add(n).div(2),c=c.sub(new Et(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Et(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?SL(e,n,r,i,s+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new Et(d).mul(l)),tickMax:c.add(new Et(f).mul(l))})},cle=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=_L([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...BE(0,i-1).map(()=>1/0)]:[...BE(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return lle(c,i,s);var{step:m,tickMin:p,tickMax:b}=SL(c,d,l,s,0),w=wL(p,b.add(new Et(.1).mul(m)),m);return n>r?w.reverse():w},ule=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=_L([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=EL(new Et(c).sub(l).div(d-1),s,0),m=[...wL(new Et(l),new Et(c),f),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},TL=t=>t.rootProps.maxBarSize,dle=t=>t.rootProps.barGap,AL=t=>t.rootProps.barCategoryGap,fle=t=>t.rootProps.barSize,Zv=t=>t.rootProps.stackOffset,kL=t=>t.rootProps.reverseStackOrder,dA=t=>t.options.chartName,fA=t=>t.rootProps.syncId,IL=t=>t.rootProps.syncMethod,hA=t=>t.options.eventEmitter,Br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ks={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ri={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},hle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:ks.reversed,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:ks.type,unit:void 0},mle={allowDataOverflow:ri.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ri.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,ticks:void 0,type:ri.type,unit:void 0},ple={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gle={allowDataOverflow:ri.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ri.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ri.scale,tick:ri.tick,tickCount:ri.tickCount,ticks:void 0,type:"category",unit:void 0},mA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ple:hle,pA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gle:mle,eb=t=>t.polarOptions,gA=le([Qs,Zs,Kn],uae),CL=le([eb,gA],(t,e)=>{if(t!=null)return ua(t.innerRadius,e,0)}),NL=le([eb,gA],(t,e)=>{if(t!=null)return ua(t.outerRadius,e,e*.8)}),yle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},OL=le([eb],yle);le([mA,OL],Jv);var PL=le([gA,CL,NL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([pA,PL],Jv);var RL=le([At,eb,CL,NL,Qs,Zs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:ua(l,i,i/2),cy:ua(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Pn=(t,e)=>e,tb=(t,e,n)=>n;function yA(t){return t?.id}function jL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=yA(c);f.forEach((p,b)=>{var w=s==null||i?b:String(ur(p,s,null)),_=ur(p,c.dataKey,0),E;l.has(w)?E=l.get(w):E={},Object.assign(E,{[m]:_}),l.set(w,E)})}}),Array.from(l.values())}function nb(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var rb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ib(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function vle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Rn=t=>{var e=At(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ef=t=>t.tooltip.settings.axisId;function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return(e=xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UE=[0,"auto"],Un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ML=(t,e)=>t.cartesianAxis.xAxis[e],to=(t,e)=>{var n=ML(t,e);return n??Un},Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:UE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gm},DL=(t,e)=>t.cartesianAxis.yAxis[e],no=(t,e)=>{var n=DL(t,e);return n??Fn},_le={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??_le},Ir=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);case"zAxis":return vA(t,n);case"angleAxis":return mA(t,n);case"radiusAxis":return pA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ele=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Jm=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);case"angleAxis":return mA(t,n);case"radiusAxis":return pA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function LL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var bA=t=>t.graphicalItems.cartesianItems,Sle=le([Pn,tb],LL),VL=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ep=le([bA,Ir,Sle],VL,{memoizeOptions:{resultEqualityCheck:ib}}),BL=le([ep],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(nb)),UL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tle=le([ep],UL),FL=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ale=le([ep],FL,{memoizeOptions:{resultEqualityCheck:ib}}),qL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},xA=le([Ale,uL],qL),$L=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:ur(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ur(i,r)}))):t.map(r=>({value:r})),ab=le([xA,Ir,ep],$L);function HL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function k0(t){if(es(t)||t instanceof Date){var e=Number(t);if(en(e))return e}}function tM(t){if(Array.isArray(t)){var e=[k0(t[0]),k0(t[1])];return ul(e)?e:void 0}var n=k0(t);if(n!=null)return[n,n]}function Ks(t){return t.map(k0).filter(Pee)}function kle(t,e,n){return!n||typeof e!="number"||Ja(e)?[]:n.length?Ks(n.flatMap(r=>{var i=ur(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!en(s)||!en(l)))return[e-s,e+l]})):[]}var jn=t=>{var e=Rn(t),n=ef(t);return Jm(t,e,n)},tp=le([jn],t=>t?.dataKey),Ile=le([BL,uL,jn],jL),GL=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,m=f.map(yA);return[c,{stackedData:Zne(t,m,n),graphicalItems:f}]}))},FE=le([Ile,BL,Zv,kL],GL),KL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=rre(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Cle=le([Ir],t=>t.allowDataOverflow),wA=t=>{var e;if(t==null||!("domain"in t))return UE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ks(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:UE},YL=le([Ir],wA),WL=le([YL,Cle],dL),Nle=le([FE,eo,Pn,WL],KL,{memoizeOptions:{resultEqualityCheck:rb}}),_A=t=>t.errorBars,Ole=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>HL(n,r)),By=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},XL=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(I=>HL(i,I)),b=ur(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),w=kle(c,b,p);if(w.length>=2){var _=Math.min(...w),E=Math.max(...w);(s==null||_<s)&&(s=_),(l==null||E>l)&&(l=E)}var S=tM(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=tM(ur(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),en(s)&&en(l))return[s,l]},Ple=le([xA,Ir,Tle,_A,Pn],XL,{memoizeOptions:{resultEqualityCheck:rb}});function Rle(t){var{value:e}=t;if(es(e)||e instanceof Date)return e}var jle=(t,e,n)=>{var r=t.map(Rle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&d6(r))?I9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},QL=t=>t.referenceElements.dots,tf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Mle=le([QL,Pn,tb],tf),ZL=t=>t.referenceElements.areas,Dle=le([ZL,Pn,tb],tf),JL=t=>t.referenceElements.lines,zle=le([JL,Pn,tb],tf),eV=(t,e)=>{if(t!=null){var n=Ks(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Lle=le(Mle,Pn,eV),tV=(t,e)=>{if(t!=null){var n=Ks(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Vle=le([Dle,Pn],tV);function Ble(t){var e;if(t.x!=null)return Ks([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ks(n)}function Ule(t){var e;if(t.y!=null)return Ks([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ks(n)}var nV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Ble(r):Ule(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Fle=le([zle,Pn],nV),qle=le(Lle,Fle,Vle,(t,e,n)=>By(t,n,e)),rV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?By(r,s,i):By(s,i);return ele(e,f,t.allowDataOverflow)},$le=le([Ir,YL,WL,Nle,Ple,qle,At,Pn],rV,{memoizeOptions:{resultEqualityCheck:rb}}),Hle=[0,1],iV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Uc(e,s);if(f&&c==null){var m;return I9(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?jle(r,t,f):i==="expand"?Hle:l}},EA=le([Ir,At,xA,ab,Zv,Pn,$le],iV),aV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Fm(s));return c in kh?c:"point"}}},np=le([Ir,At,zL,dA,Pn],aV);function Gle(t){if(t!=null){if(t in kh)return kh[t]();var e="scale".concat(Fm(t));if(e in kh)return kh[e]()}}function SA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Gle(e);if(i!=null){var s=i.domain(n).range(r);return Kne(s),s}}}var sV=(t,e,n)=>{var r=wA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(t))return cle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ul(t))return ule(t,e.tickCount,e.allowDecimals)}},TA=le([EA,Jm,np],sV),oV=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ul(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Kle=le([Ir,EA,TA,Pn],oV),Yle=le(ab,Ir,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ks(t.map(p=>p.value))).sort((p,b)=>p-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var m=f-d;n=Math.min(n,m)}}return n/l}}),lV=le(Yle,At,AL,Kn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!en(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=ua(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Wle=(t,e,n)=>{var r=to(t,e);return r==null||typeof r.padding!="string"?0:lV(t,"xAxis",e,n,r.padding)},Xle=(t,e,n)=>{var r=no(t,e);return r==null||typeof r.padding!="string"?0:lV(t,"yAxis",e,n,r.padding)},Qle=le(to,Wle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Zle=le(no,Xle,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Jle=le([Kn,Qle,Vv,Lv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),ece=le([Kn,At,Zle,Vv,Lv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),rp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Jle(t,n,r);case"yAxis":return ece(t,n,r);case"zAxis":return(i=vA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return OL(t);case"radiusAxis":return PL(t,n);default:return}},cV=le([Ir,rp],Jv),sb=le([Ir,np,Kle,cV],SA);le([ep,_A,Pn],Ole);function uV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ob=(t,e)=>e,lb=(t,e,n)=>n,tce=le(Dv,ob,lb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(uV)),nce=le(zv,ob,lb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(uV)),dV=(t,e)=>({width:t.width,height:e.height}),rce=(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}},fV=le(Kn,to,dV),ice=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ace=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},sce=le(Zs,Kn,tce,ob,lb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=dV(e,c);l==null&&(l=ice(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),oce=le(Qs,Kn,nce,ob,lb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=rce(e,c);l==null&&(l=ace(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),lce=(t,e)=>{var n=to(t,e);if(n!=null)return sce(t,n.orientation,n.mirror)},cce=le([Kn,to,lce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),uce=(t,e)=>{var n=no(t,e);if(n!=null)return oce(t,n.orientation,n.mirror)},dce=le([Kn,no,uce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),hV=le(Kn,no,(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}}),nM=(t,e,n)=>{switch(e){case"xAxis":return fV(t,n).width;case"yAxis":return hV(t,n).height;default:return}},mV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Uc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&d6(d))return d}},AA=le([At,ab,Ir,Pn],mV),pV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Uc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},kA=le([At,ab,Jm,Pn],pV);le([At,Ele,np,sb,AA,kA,rp,TA,Pn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Uc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var fce=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Uc(t,d),{type:m,ticks:p,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=m==="category"&&r.bandwidth?r.bandwidth()/w:0;_=d==="angleAxis"&&s!=null&&s.length>=2?oi(s[0]-s[1])*2*_:_;var E=p||i;if(E){var S=E.map((I,j)=>{var O=l?l.indexOf(I):I;return{index:j,coordinate:r(O)+_,value:I,offset:_}});return S.filter(I=>en(I.coordinate))}return f&&c?c.map((I,j)=>({coordinate:r(I)+_,value:I,index:j,offset:_})).filter(I=>en(I.coordinate)):r.ticks?r.ticks(b).map(I=>({coordinate:r(I)+_,value:I,offset:_})):r.domain().map((I,j)=>({coordinate:r(I)+_,value:l?l[I]:I,index:j,offset:_}))}},gV=le([At,Jm,np,sb,TA,rp,AA,kA,Pn],fce),hce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Uc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?oi(r[0]-r[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},Rd=le([At,Jm,sb,rp,AA,kA,Pn],hce),jd=le(Ir,sb,(t,e)=>{if(!(t==null||e==null))return Vy(Vy({},t),{},{scale:e})}),mce=le([Ir,np,EA,cV],SA);le((t,e,n)=>vA(t,n),mce,(t,e)=>{if(!(t==null||e==null))return Vy(Vy({},t),{},{scale:e})});var pce=le([At,Dv,zv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yV=t=>t.options.defaultTooltipEventType,vV=t=>t.options.validateTooltipEventTypes;function bV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function IA(t,e){var n=yV(t),r=vV(t);return bV(e,n,r)}function gce(t){return Ge(e=>IA(e,t))}var xV=(t,e)=>{var n,r=Number(e);if(!(Ja(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},yce=t=>t.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vce={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wV=Fr({name:"tooltip",initialState:vce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Kt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Kt()},removeTooltipEntrySettings:{reducer(t,e){var n=ca(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Kt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:bce,replaceTooltipEntrySettings:xce,removeTooltipEntrySettings:wce,setTooltipSettingsState:_ce,setActiveMouseOverItemIndex:_V,mouseLeaveItem:Ece,mouseLeaveChart:EV,setActiveClickItemIndex:Sce,setMouseOverAxisIndex:SV,setMouseClickAxisIndex:Tce,setSyncInteraction:qE,setKeyboardInteraction:$E}=wV.actions,Ace=wV.reducer;function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Oce(t){return t.index!=null}var TV=(t,e,n,r)=>{if(e==null)return Yo;var i=Nce(t,e,n);if(i==null)return Yo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Oce(i)){if(s)return n0(n0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return n0(n0({},Yo),{},{coordinate:i.coordinate})};function Pce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Rce(t,e){var n=Pce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function jce(t,e,n){if(n==null||e==null)return!0;var r=ur(t,e);return r==null||!ul(n)?!0:Rce(r,n)}var CA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!en(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||jce(f,n,r)?String(d):null},AV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=i?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:m.coordinate}}},kV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},ip=t=>t.options.tooltipPayloadSearcher,nf=t=>t.tooltip;function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lce(t,e){return t??e}var IV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((b,w)=>{var _,{dataDefinedOnItem:E,settings:S}=w,I=Lce(E,c),j=Array.isArray(I)?r9(I,f,m):I,O=(_=S?.dataKey)!==null&&_!==void 0?_:r,D=S?.nameKey,R;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?R=Oee(j,r,i):R=s(j,e,d,D),Array.isArray(R))R.forEach(P=>{var C=aM(aM({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(uR({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:ur(P.payload,P.dataKey),name:P.name}))});else{var V;b.push(uR({tooltipEntrySettings:S,dataKey:O,payload:R,value:ur(R,O),name:(V=ur(R,D))!==null&&V!==void 0?V:S?.name}))}return b},p)}},NA=le([jn,At,zL,dA,Rn],aV),Vce=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Bce=le([Rn,ef],LL),rf=le([Vce,jn,Bce],VL,{memoizeOptions:{resultEqualityCheck:ib}}),Uce=le([rf],t=>t.filter(nb)),Fce=le([rf],FL,{memoizeOptions:{resultEqualityCheck:ib}}),af=le([Fce,eo],qL),qce=le([Uce,eo,jn],jL),OA=le([af,jn,rf],$L),CV=le([jn],wA),$ce=le([jn],t=>t.allowDataOverflow),NV=le([CV,$ce],dL),Hce=le([rf],t=>t.filter(nb)),Gce=le([qce,Hce,Zv,kL],GL),Kce=le([Gce,eo,Rn,NV],KL),Yce=le([rf],UL),Wce=le([af,jn,Yce,_A,Rn],XL,{memoizeOptions:{resultEqualityCheck:rb}}),Xce=le([QL,Rn,ef],tf),Qce=le([Xce,Rn],eV),Zce=le([ZL,Rn,ef],tf),Jce=le([Zce,Rn],tV),eue=le([JL,Rn,ef],tf),tue=le([eue,Rn],nV),nue=le([Qce,tue,Jce],By),rue=le([jn,CV,NV,Kce,Wce,nue,At,Rn],rV),ap=le([jn,At,af,OA,Zv,Rn,rue],iV),iue=le([ap,jn,NA],sV),aue=le([jn,ap,iue,Rn],oV),OV=t=>{var e=Rn(t),n=ef(t),r=!1;return rp(t,e,n,r)},PV=le([jn,OV],Jv),RV=le([jn,NA,aue,PV],SA),sue=le([At,OA,jn,Rn],mV),oue=le([At,OA,jn,Rn],pV),lue=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Uc(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?oi(i[0]-i[1])*2*p:p,f&&l?l.map((b,w)=>({coordinate:r(b)+p,value:b,index:w,offset:p})):r.domain().map((b,w)=>({coordinate:r(b)+p,value:s?s[b]:b,index:w,offset:p}))}}},ro=le([At,jn,NA,RV,OV,sue,oue,Rn],lue),PA=le([yV,vV,yce],(t,e,n)=>bV(n.shared,t,e)),jV=t=>t.tooltip.settings.trigger,RA=t=>t.tooltip.settings.defaultIndex,sp=le([nf,PA,jV,RA],TV),Md=le([sp,af,tp,ap],CA),MV=le([ro,Md],xV),DV=le([sp],t=>{if(t)return t.dataKey});le([sp],t=>{if(t)return t.graphicalItemId});var zV=le([nf,PA,jV,RA],kV),cue=le([Qs,Zs,At,Kn,ro,RA,zV,ip],AV),uue=le([sp,cue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),due=le([sp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),fue=le([zV,Md,eo,tp,MV,ip,PA],IV);le([fue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gue=()=>Ge(jn),yue=()=>{var t=gue(),e=Ge(ro),n=Ge(RV);return xy(!t||!n?void 0:oM(oM({},t),{},{scale:n}),e)};function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},_ue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Uu(Uu(Uu({},r),cr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Uu(Uu(Uu({},r),cr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Eue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var LV=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,m,p,b,w=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,_=(m=n[c])===null||m===void 0?void 0:m.coordinate,E=c>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(w==null||_==null||E==null))if(oi(_-w)!==oi(E-_)){var I=[];if(oi(E-_)===oi(i[1]-i[0])){S=E;var j=_+i[1]-i[0];I[0]=Math.min(j,(j+w)/2),I[1]=Math.max(j,(j+w)/2)}else{S=w;var O=E+i[1]-i[0];I[0]=Math.min(_,(O+_)/2),I[1]=Math.max(_,(O+_)/2)}var D=[Math.min(_,(S+_)/2),Math.max(_,(S+_)/2)];if(t>D[0]&&t<=D[1]||t>=I[0]&&t<=I[1]){var R;return(R=n[c])===null||R===void 0?void 0:R.index}}else{var V=Math.min(w,E),P=Math.max(w,E);if(t>(V+_)/2&&t<=(P+_)/2){var C;return(C=n[c])===null||C===void 0?void 0:C.index}}}else if(e)for(var z=0;z<l;z++){var F=e[z];if(F!=null){var L=e[z+1],q=e[z-1];if(z===0&&L!=null&&t<=(F.coordinate+L.coordinate)/2||z===l-1&&q!=null&&t>(F.coordinate+q.coordinate)/2||z>0&&z<l-1&&q!=null&&L!=null&&t>(F.coordinate+q.coordinate)/2&&t<=(F.coordinate+L.coordinate)/2)return F.index}}return-1},Sue=()=>Ge(dA),jA=(t,e)=>e,VV=(t,e,n)=>n,MA=(t,e,n,r)=>r,Tue=le(ro,t=>Av(t,e=>e.coordinate)),DA=le([nf,jA,VV,MA],TV),zA=le([DA,af,tp,ap],CA),Aue=(t,e,n)=>{if(e!=null){var r=nf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},BV=le([nf,jA,VV,MA],kV),Uy=le([Qs,Zs,At,Kn,ro,MA,BV,ip],AV),kue=le([DA,Uy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),UV=le([ro,zA],xV),Iue=le([BV,zA,eo,tp,UV,ip,jA],IV),Cue=le([DA,zA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Nue=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Eue(t,l)){var c=ire(t,e),d=LV(c,s,i,n,r),f=wue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Oue=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=pae(t,n);if(c){var d=are(c,e),f=LV(d,l,s,r,i),m=_ue(e,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Pue=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Nue(t,e,r,i,s,l,c):Oue(t,e,n,r,i,s,l)},Rue=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),jue=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Br)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vle}});function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return(e=Due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=zue(t,"string");return typeof e=="symbol"?e:e+""}function zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue={},Vue={zIndexMap:Object.values(Br).reduce((t,e)=>uM(uM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Lue)},Bue=new Set(Object.values(Br));function Uue(t){return Bue.has(t)}var FV=Fr({name:"zIndex",initialState:Vue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Kt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Uue(n)&&delete t.zIndexMap[n])},prepare:Kt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Kt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Kt()}}}),{registerZIndexPortal:Fue,unregisterZIndexPortal:que,registerZIndexPortalElement:$ue,unregisterZIndexPortalElement:Hue}=FV.actions,Gue=FV.reducer;function bl(t){var{zIndex:e,children:n}=t,r=Bre(),i=r&&e!==void 0&&e!==0,s=pi(),l=fn();T.useLayoutEffect(()=>i?(l(Fue({zIndex:e})),()=>{l(que({zIndex:e}))}):qm,[l,e,i]);var c=Ge(d=>Rue(d,e,s));return i?c?cS.createPortal(n,c):null:n}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Wue(t,"string");return typeof e=="symbol"?e:e+""}function Wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function Que(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,b=r,w=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var _,E,S;if(m==="ScatterChart")_=p,E=Iie,S=Br.cursorLine;else if(m==="BarChart")_=Cie(c,p,s,l),E=S9,S=Br.cursorRectangle;else if(c==="radial"&&m6(p)){var{cx:I,cy:j,radius:O,startAngle:D,endAngle:R}=T9(p);_={cx:I,cy:j,startAngle:D,endAngle:R,innerRadius:O,outerRadius:O},E=k9,S=Br.cursorLine}else _={points:bae(c,p,s)},E=b9,S=Br.cursorLine;var V=typeof d=="object"&&"className"in d?d.className:void 0,P=r0(r0(r0(r0({stroke:"#ccc",pointerEvents:"none"},s),_),vT(d)),{},{payload:b,payloadIndex:w,className:we("recharts-tooltip-cursor",V)});return T.createElement(bl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},T.createElement(Xue,{cursor:d,cursorComp:E,cursorProps:P}))}function Zue(t){var e=yue(),n=zre(),r=Km(),i=Sue();return e==null||n==null||r==null||i==null?null:T.createElement(Que,HE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var qV=T.createContext(null),Jue=()=>T.useContext(qV),t_={exports:{}},fM;function ede(){return fM||(fM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var w=new i(m,p||d,b),_=n?n+f:f;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],w]:d._events[_].push(w):(d._events[_]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,w=p.length,_=new Array(w);b<w;b++)_[b]=p[b].fn;return _},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,b,w,_){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],I=arguments.length,j,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,b),!0;case 5:return S.fn.call(S.context,m,p,b,w),!0;case 6:return S.fn.call(S.context,m,p,b,w,_),!0}for(O=1,j=new Array(I-1);O<I;O++)j[O-1]=arguments[O];S.fn.apply(S.context,j)}else{var D=S.length,R;for(O=0;O<D;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),I){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,b);break;default:if(!j)for(R=1,j=new Array(I-1);R<I;R++)j[R-1]=arguments[R];S[O].fn.apply(S[O].context,j)}}return!0},c.prototype.on=function(f,m,p){return s(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return s(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,b){var w=n?n+f:f;if(!this._events[w])return this;if(!m)return l(this,w),this;var _=this._events[w];if(_.fn)_.fn===m&&(!b||_.once)&&(!p||_.context===p)&&l(this,w);else{for(var E=0,S=[],I=_.length;E<I;E++)(_[E].fn!==m||b&&!_[E].once||p&&_[E].context!==p)&&S.push(_[E]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(t_)),t_.exports}var tde=ede();const nde=ns(tde);var bm=new nde,GE="recharts.syncEvent.tooltip",hM="recharts.syncEvent.brush";function rde(t,e){if(e){var n=Number.parseInt(e,10);if(!Ja(n))return t?.[n]}}var ide={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$V=Fr({name:"options",initialState:ide,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ade=$V.reducer,{createEventEmitter:sde}=$V.actions;function ode(t){return t.tooltip.syncInteraction}var lde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HV=Fr({name:"chartData",initialState:lde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:mM,setDataStartEndIndexes:cde,setComputedData:Qye}=HV.actions,ude=HV.reducer,dde=["x","y"];function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t,e){if(t==null)return{};var n,r,i=gde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yde(){var t=Ge(fA),e=Ge(hA),n=fn(),r=Ge(IL),i=Ge(ro),s=Km(),l=Bv(),c=Ge(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return qm;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var w=m.payload.coordinate,{x:_,y:E}=w,S=pde(w,dde),{x:I,y:j,width:O,height:D}=m.payload.sourceViewBox,R=Fu(Fu({},S),{},{x:l.x+(O?(_-I)/O:0)*l.width,y:l.y+(D?(E-j)/D:0)*l.height});n(Fu(Fu({},m),{},{payload:Fu(Fu({},m.payload),{},{coordinate:R})}))}else n(m);return}if(i!=null){var V;if(typeof r=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},C=r(i,P);V=i[C]}else r==="value"&&(V=i.find(Y=>String(Y.value)===m.payload.label));var{coordinate:z}=m.payload;if(V==null||m.payload.active===!1||z==null||l==null){n(qE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:L}=z,q=Math.min(F,l.x+l.width),U=Math.min(L,l.y+l.height),be={x:s==="horizontal"?V.coordinate:q,y:s==="horizontal"?U:V.coordinate},Ie=qE({active:m.payload.active,coordinate:be,dataKey:m.payload.dataKey,index:String(V.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Ie)}}};return bm.on(GE,d),()=>{bm.off(GE,d)}},[c,n,e,t,r,i,s,l])}function vde(){var t=Ge(fA),e=Ge(hA),n=fn();T.useEffect(()=>{if(t==null)return qm;var r=(i,s,l)=>{e!==l&&t===i&&n(cde(s))};return bm.on(hM,r),()=>{bm.off(hM,r)}},[n,e,t])}function bde(){var t=fn();T.useEffect(()=>{t(sde())},[t]),yde(),vde()}function xde(t,e,n,r,i,s){var l=Ge(w=>Aue(w,t,e)),c=Ge(hA),d=Ge(fA),f=Ge(IL),m=Ge(ode),p=m?.active,b=Bv();T.useEffect(()=>{if(!p&&d!=null&&c!=null){var w=qE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});bm.emit(GE,d,w,c)}},[p,n,l,i,r,c,d,f,s,b])}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return(e=_de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=Ede(t,"string");return typeof e=="symbol"?e:e+""}function Ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sde(t){return t.dataKey}function Tde(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(oie,e)}var vM=[],Ade={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function GV(t){var e,n,r=Bi(t,Ade),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:b,position:w,reverseDirection:_,useTranslate3d:E,wrapperStyle:S,cursor:I,shared:j,trigger:O,defaultIndex:D,portal:R,axisId:V}=r,P=fn(),C=typeof D=="number"?String(D):D;T.useEffect(()=>{P(_ce({shared:j,trigger:O,axisId:V,active:i,defaultIndex:C}))},[P,j,O,V,i,C]);var z=Bv(),F=v9(),L=gce(j),{activeIndex:q,isActive:U}=(e=Ge(fe=>Cue(fe,L,O,C)))!==null&&e!==void 0?e:{},be=Ge(fe=>Iue(fe,L,O,C)),Ie=Ge(fe=>UV(fe,L,O,C)),Y=Ge(fe=>kue(fe,L,O,C)),re=be,G=Jue(),ye=(n=i??U)!==null&&n!==void 0?n:!1,[Ae,$]=Fte([re,ye]),ae=L==="axis"?Ie:void 0;xde(L,O,Y,ae,q,ye);var te=R??G;if(te==null||z==null||L==null)return null;var de=re??vM;ye||(de=vM),f&&de.length&&(de=mte(de.filter(fe=>fe.value!=null&&(fe.hide!==!0||r.includeHidden)),b,Sde));var xe=de.length>0,J=T.createElement(mie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:ye,coordinate:Y,hasPayload:xe,offset:p,position:w,reverseDirection:_,useTranslate3d:E,viewBox:z,wrapperStyle:S,lastBoundingBox:Ae,innerRef:$,hasPortalFromProps:!!R},Tde(d,yM(yM({},r),{},{payload:de,label:ae,active:ye,activeIndex:q,coordinate:Y,accessibilityLayer:F})));return T.createElement(T.Fragment,null,cS.createPortal(J,te),ye&&T.createElement(Zue,{cursor:I,tooltipEventType:L,coordinate:Y,payload:de,index:q}))}var cb=t=>null;cb.displayName="Cell";function kde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nde{constructor(e){kde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ode(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return(e=Rde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mde={cacheSize:2e3,enableCache:!0},KV=Ode({},Mde),xM=new Nde(KV.cacheSize),Dde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wM="recharts_measurement_span";function zde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var _M=(t,e)=>{try{var n=document.getElementById(wM);n||(n=document.createElement("span"),n.setAttribute("id",wM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Bh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hv.isSsr)return{width:0,height:0};if(!KV.enableCache)return _M(e,n);var r=zde(e,n),i=xM.get(r);if(i)return i;var s=_M(e,n);return xM.set(r,s),s},YV;function Lde(t,e,n){return(e=Vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ude=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$de=["cm","mm","pt","pc","in","Q","px"];function Hde(t){return $de.includes(t)}var Qu="NaN";function Gde(t,e){return t*qde[e]}class sr{static parse(e){var n,[,r,i]=(n=Fde.exec(e))!==null&&n!==void 0?n:[];return r==null?sr.NaN:new sr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ja(e)&&(this.unit=""),n!==""&&!Ude.test(n)&&(this.num=NaN,this.unit=""),Hde(n)&&(this.num=Gde(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new sr(NaN,""):new sr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new sr(NaN,""):new sr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sr(NaN,""):new sr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sr(NaN,""):new sr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ja(this.num)}}YV=sr;Lde(sr,"NaN",new YV(NaN,""));function WV(t){if(t==null||t.includes(Qu))return Qu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=EM.exec(e))!==null&&n!==void 0?n:[],l=sr.parse(r??""),c=sr.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Qu;e=e.replace(EM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,b]=(f=SM.exec(e))!==null&&f!==void 0?f:[],w=sr.parse(m??""),_=sr.parse(b??""),E=p==="+"?w.add(_):w.subtract(_);if(E.isNaN())return Qu;e=e.replace(SM,E.toString())}return e}var TM=/\(([^()]*)\)/;function Kde(t){for(var e=t,n;(n=TM.exec(e))!=null;){var[,r]=n;e=e.replace(TM,WV(r))}return e}function Yde(t){var e=t.replace(/\s+/g,"");return e=Kde(e),e=WV(e),e}function Wde(t){try{return Yde(t)}catch{return Qu}}function n_(t){var e=Wde(t.slice(5,-1));return e===Qu?"":e}var Xde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Qde=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,i=Zde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XV=/[ \f\n\r\t\v\u2028\u2029]+/,QV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gn(e)||(n?i=e.toString().split(""):i=e.toString().split(XV));var s=i.map(c=>({word:c,width:Bh(c,r).width})),l=n?0:Bh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Jde(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var ZV=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),JV=t=>t.reduce((e,n)=>e.width>n.width?e:n),efe="",kM=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=QV({breakAll:n,style:r,children:d+efe});if(!f)return[!1,[]];var m=ZV(f.wordsWithComputedWidth,s,l,c),p=m.length>i||JV(m).width>Number(s);return[p,m]},tfe=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=qe(s),m=String(l),p=ZV(e,r,n,i);if(!f||i)return p;var b=p.length>s||JV(p).width>Number(r);if(!b)return p;for(var w=0,_=m.length-1,E=0,S;w<=_&&E<=m.length-1;){var I=Math.floor((w+_)/2),j=I-1,[O,D]=kM(m,j,d,c,s,r,n,i),[R]=kM(m,I,d,c,s,r,n,i);if(!O&&!R&&(w=I+1),O&&R&&(_=I-1),!O&&R){S=D;break}E++}return S||p},IM=t=>{var e=Gn(t)?[]:t.toString().split(XV);return[{words:e,width:void 0}]},nfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Hv.isSsr){var c,d,f=QV({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return IM(r);return tfe({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return IM(r)},e8="#808080",rfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:e8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LA=T.forwardRef((t,e)=>{var n=Bi(t,rfe),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=AM(n,Xde),b=T.useMemo(()=>nfe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:w,dy:_,angle:E,className:S,breakAll:I}=p,j=AM(p,Qde);if(!es(r)||!es(i)||b.length===0)return null;var O=Number(r)+(qe(w)?w:0),D=Number(i)+(qe(_)?_:0);if(!en(O)||!en(D))return null;var R;switch(m){case"start":R=n_("calc(".concat(l,")"));break;case"middle":R=n_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:R=n_("calc(".concat(b.length-1," * -").concat(s,")"));break}var V=[];if(d){var P=b[0].width,{width:C}=p;V.push("scale(".concat(qe(C)&&qe(P)?C/P:1,")"))}return E&&V.push("rotate(".concat(E,", ").concat(O,", ").concat(D,")")),V.length&&(j.transform=V.join(" ")),T.createElement("text",KE({},zi(j),{ref:e,x:O,y:D,className:we("recharts-text",S),textAnchor:f,fill:c.includes("url")?e8:c}),b.map((z,F)=>{var L=z.words.join(I?"":" ");return T.createElement("tspan",{x:O,dy:F===0?R:s,key:"".concat(L,"-").concat(F)},L)}))});LA.displayName="Text";var ife=["labelRef"],afe=["content"];function CM(t,e){if(t==null)return{};var n,r,i=sfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(null,arguments)}var t8=T.createContext(null),ufe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(t8.Provider,{value:d},c)},n8=()=>{var t=T.useContext(t8),e=Bv();return t||u9(e)},dfe=T.createContext(null),ffe=()=>{var t=T.useContext(dfe),e=Ge(RL);return t||e},hfe=t=>{var{value:e,formatter:n}=t,r=Gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},VA=t=>t!=null&&typeof t=="function",mfe=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},pfe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:b,clockWise:w}=i,_=(f+m)/2,E=mfe(p,b),S=E>=0?1:-1,I,j;switch(e){case"insideStart":I=p+S*s,j=w;break;case"insideEnd":I=b-S*s,j=!w;break;case"end":I=b+S*s,j=w;break;default:throw new Error("Unsupported position ".concat(e))}j=E<=0?j:!j;var O=cr(c,d,_,I),D=cr(c,d,_,I+(j?1:-1)*359),R="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(j?0:1,`,
    `).concat(D.x,",").concat(D.y),V=Gn(t.id)?sm("recharts-radial-line-"):t.id;return T.createElement("text",Is({},r,{dominantBaseline:"central",className:we("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:V,d:R})),T.createElement("textPath",{xlinkHref:"#".concat(V)},n))},gfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=cr(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:w,y:_}=cr(r,i,b,f);return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},YE=t=>"cx"in t&&qe(t.cx),yfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!YE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,b=l+(d-f)/2,w=(p+b)/2,_=(d+f)/2,E=p+d/2,S=m>=0?1:-1,I=S*r,j=S>0?"end":"start",O=S>0?"start":"end",D=d>=0?1:-1,R=D*r,V=D>0?"end":"start",P=D>0?"start":"end";if(i==="top"){var C={x:p+d/2,y:c-I,textAnchor:"middle",verticalAnchor:j};return cn(cn({},C),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var z={x:b+f/2,y:c+m+I,textAnchor:"middle",verticalAnchor:O};return cn(cn({},z),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(i==="left"){var F={x:w-R,y:c+m/2,textAnchor:V,verticalAnchor:"middle"};return cn(cn({},F),s?{width:Math.max(F.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:w+_+R,y:c+m/2,textAnchor:P,verticalAnchor:"middle"};return cn(cn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var q=s?{width:_,height:m}:{};return i==="insideLeft"?cn({x:w+R,y:c+m/2,textAnchor:P,verticalAnchor:"middle"},q):i==="insideRight"?cn({x:w+_-R,y:c+m/2,textAnchor:V,verticalAnchor:"middle"},q):i==="insideTop"?cn({x:p+d/2,y:c+I,textAnchor:"middle",verticalAnchor:O},q):i==="insideBottom"?cn({x:b+f/2,y:c+m-I,textAnchor:"middle",verticalAnchor:j},q):i==="insideTopLeft"?cn({x:p+R,y:c+I,textAnchor:P,verticalAnchor:O},q):i==="insideTopRight"?cn({x:p+d-R,y:c+I,textAnchor:V,verticalAnchor:O},q):i==="insideBottomLeft"?cn({x:b+R,y:c+m-I,textAnchor:P,verticalAnchor:j},q):i==="insideBottomRight"?cn({x:b+f-R,y:c+m-I,textAnchor:V,verticalAnchor:j},q):i&&typeof i=="object"&&(qe(i.x)||Fs(i.x))&&(qe(i.y)||Fs(i.y))?cn({x:l+ua(i.x,_),y:c+ua(i.y,m),textAnchor:"end",verticalAnchor:"end"},q):cn({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},q)},vfe={angle:0,offset:5,zIndex:Br.label,position:"middle",textBreakAll:!1};function qo(t){var e=Bi(t,vfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=ffe(),p=n8(),b=r==="center"?p:m??p,w,_,E;if(n==null?w=b:YE(n)?w=n:w=u9(n),!w||Gn(i)&&Gn(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var S=cn(cn({},e),{},{viewBox:w});if(T.isValidElement(l)){var{labelRef:I}=S,j=CM(S,ife);return T.cloneElement(l,j)}if(typeof l=="function"){var{content:O}=S,D=CM(S,afe);if(_=T.createElement(l,D),T.isValidElement(_))return _}else _=hfe(e);var R=zi(e);if(YE(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return pfe(e,r,_,R,w);E=gfe(w,e.offset,e.position)}else E=yfe(e,w);return T.createElement(bl,{zIndex:e.zIndex},T.createElement(LA,Is({ref:f,className:we("recharts-label",c)},R,E,{textAnchor:Jde(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:d}),_))}qo.displayName="Label";var bfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(qo,Is({key:"label-implicit"},r)):es(t)?T.createElement(qo,Is({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===qo?T.cloneElement(t,cn({key:"label-implicit"},r)):T.createElement(qo,Is({key:"label-implicit",content:t},r)):VA(t)?T.createElement(qo,Is({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(qo,Is({},t,{key:"label-implicit"},r)):null};function xfe(t){var{label:e,labelRef:n}=t,r=n8();return bfe(e,r,n)||null}var r_={},i_={},OM;function wfe(){return OM||(OM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(i_)),i_}var a_={},PM;function _fe(){return PM||(PM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(a_)),a_}var RM;function Efe(){return RM||(RM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wfe(),n=_fe(),r=AT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(r_)),r_}var s_,jM;function Sfe(){return jM||(jM=1,s_=Efe().last),s_}var Tfe=Sfe();const Afe=ns(Tfe);var kfe=["valueAccessor"],Ife=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(null,arguments)}function MM(t,e){if(t==null)return{};var n,r,i=Cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nfe=t=>Array.isArray(t.value)?Afe(t.value):t.value,r8=T.createContext(void 0),Ofe=r8.Provider,i8=T.createContext(void 0);i8.Provider;function Pfe(){return T.useContext(r8)}function Rfe(){return T.useContext(i8)}function I0(t){var{valueAccessor:e=Nfe}=t,n=MM(t,kfe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=MM(n,Ife),f=Pfe(),m=Rfe(),p=f||m;return!p||!p.length?null:T.createElement(bl,{zIndex:c??Br.label},T.createElement(Us,{className:"recharts-label-list"},p.map((b,w)=>{var _,E=Gn(r)?e(b,w):ur(b&&b.payload,r),S=Gn(s)?{}:{id:"".concat(s,"-").concat(w)};return T.createElement(qo,Fy({key:"label-".concat(w)},zi(b),d,S,{fill:(_=n.fill)!==null&&_!==void 0?_:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}I0.displayName="LabelList";function jfe(t){var{label:e}=t;return e?e===!0?T.createElement(I0,{key:"labelList-implicit"}):T.isValidElement(e)||VA(e)?T.createElement(I0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(I0,Fy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Mfe={radiusAxis:{},angleAxis:{}},a8=Fr({name:"polarAxis",initialState:Mfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zye,removeRadiusAxis:Jye,addAngleAxis:eve,removeAngleAxis:tve}=a8.actions,Dfe=a8.reducer,o_={exports:{}},Pt={};var DM;function zfe(){if(DM)return Pt;DM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return S}}case e:return S}}}return Pt.ContextConsumer=s,Pt.ContextProvider=l,Pt.Element=t,Pt.ForwardRef=c,Pt.Fragment=n,Pt.Lazy=p,Pt.Memo=m,Pt.Portal=e,Pt.Profiler=i,Pt.StrictMode=r,Pt.Suspense=d,Pt.SuspenseList=f,Pt.isContextConsumer=function(E){return _(E)===s},Pt.isContextProvider=function(E){return _(E)===l},Pt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Pt.isForwardRef=function(E){return _(E)===c},Pt.isFragment=function(E){return _(E)===n},Pt.isLazy=function(E){return _(E)===p},Pt.isMemo=function(E){return _(E)===m},Pt.isPortal=function(E){return _(E)===e},Pt.isProfiler=function(E){return _(E)===i},Pt.isStrictMode=function(E){return _(E)===r},Pt.isSuspense=function(E){return _(E)===d},Pt.isSuspenseList=function(E){return _(E)===f},Pt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===w||E.getModuleId!==void 0)},Pt.typeOf=_,Pt}var zM;function Lfe(){return zM||(zM=1,o_.exports=zfe()),o_.exports}var Vfe=Lfe(),LM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",VM=null,l_=null,s8=t=>{if(t===VM&&Array.isArray(l_))return l_;var e=[];return T.Children.forEach(t,n=>{Gn(n)||(Vfe.isFragment(n)?e=e.concat(s8(n.props.children)):e.push(n))}),l_=e,VM=t,e};function Bfe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>LM(i)):r=[LM(e)],s8(t).forEach(i=>{var s=kd(i,"type.displayName")||kd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var c_={},BM;function Ufe(){return BM||(BM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(c_)),c_}var u_,UM;function Ffe(){return UM||(UM=1,u_=Ufe().isPlainObject),u_}var qfe=Ffe();const $fe=ns(qfe);var FM,qM,$M,HM,GM;function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function xh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WM=(t,e,n,r,i)=>{var s=n-r,l;return l=rn(FM||(FM=xh(["M ",",",""])),t,e),l+=rn(qM||(qM=xh(["L ",",",""])),t+n,e),l+=rn($M||($M=xh(["L ",",",""])),t+n-s/2,e+i),l+=rn(HM||(HM=xh(["L ",",",""])),t+n-s/2-r,e+i),l+=rn(GM||(GM=xh(["L ",","," Z"])),t,e),l},Yfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wfe=t=>{var e=Bi(t,Yfe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,b=T.useRef(null),[w,_]=T.useState(-1),E=T.useRef(i),S=T.useRef(s),I=T.useRef(l),j=T.useRef(n),O=T.useRef(r),D=VT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var be=b.current.getTotalLength();be&&_(be)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var R=we("recharts-trapezoid",c);if(!p)return T.createElement("g",null,T.createElement("path",qy({},zi(e),{className:R,d:WM(n,r,i,s,l)})));var V=E.current,P=S.current,C=I.current,z=j.current,F=O.current,L="0px ".concat(w===-1?1:w,"px"),q="".concat(w,"px 0px"),U=x9(["strokeDasharray"],f,d);return T.createElement(LT,{animationId:D,key:D,canBegin:w>0,duration:f,easing:d,isActive:p,begin:m},be=>{var Ie=lr(V,i,be),Y=lr(P,s,be),re=lr(C,l,be),G=lr(z,n,be),ye=lr(F,r,be);b.current&&(E.current=Ie,S.current=Y,I.current=re,j.current=G,O.current=ye);var Ae=be>0?{transition:U,strokeDasharray:q}:{strokeDasharray:L};return T.createElement("path",qy({},zi(e),{className:R,d:WM(G,ye,Ie,Y,re),ref:b,style:YM(YM({},Ae),e.style)}))})},Xfe=["option","shapeType","activeClassName"];function Qfe(t,e){if(t==null)return{};var n,r,i=Zfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jfe(t,e,n){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nhe(t,e){return $y($y({},e),t)}function rhe(t,e){return t==="symbols"}function QM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(S9,n);case"trapezoid":return T.createElement(Wfe,n);case"sector":return T.createElement(k9,n);case"symbols":if(rhe(e))return T.createElement(h6,n);break;case"curve":return T.createElement(b9,n);default:return null}}function ihe(t){return T.isValidElement(t)?t.props:t}function ahe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Qfe(t,Xfe),s;if(T.isValidElement(e))s=T.cloneElement(e,$y($y({},i),ihe(e)));else if(typeof e=="function")s=e(i,i.index);else if($fe(e)&&typeof e!="boolean"){var l=nhe(e,i);s=T.createElement(QM,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(QM,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(Us,{className:r},s):s}var o8=(t,e,n)=>{var r=fn();return(i,s)=>l=>{t?.(i,s,l),r(_V({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},l8=t=>{var e=fn();return(n,r)=>i=>{t?.(n,r,i),e(Ece())}},c8=(t,e,n)=>{var r=fn();return(i,s)=>l=>{t?.(i,s,l),r(Sce({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function she(t){var{tooltipEntrySettings:e}=t,n=fn(),r=pi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(bce(e)):i.current!==e&&n(xce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(wce(i.current)),i.current=null)},[n]),null}function ohe(t){var{legendPayload:e}=t,n=fn(),r=pi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Jre(e)):i.current!==e&&n(eie({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(tie(i.current)),i.current=null)},[n]),null}var d_,lhe=()=>{var[t]=T.useState(()=>sm("uid-"));return t},che=(d_=wU.useId)!==null&&d_!==void 0?d_:lhe;function uhe(t,e){var n=che();return e||(t?"".concat(t,"-").concat(n):n)}var dhe=T.createContext(void 0),fhe=t=>{var{id:e,type:n,children:r}=t,i=uhe("recharts-".concat(n),e);return T.createElement(dhe.Provider,{value:i},r(i))},hhe={cartesianItems:[],polarItems:[]},u8=Fr({name:"graphicalItems",initialState:hhe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Kt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Kt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ca(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Kt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Kt()},removePolarGraphicalItem:{reducer(t,e){var n=ca(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Kt()}}}),{addCartesianGraphicalItem:mhe,replaceCartesianGraphicalItem:phe,removeCartesianGraphicalItem:ghe,addPolarGraphicalItem:nve,removePolarGraphicalItem:rve}=u8.actions,yhe=u8.reducer,vhe=t=>{var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(mhe(t)):n.current!==t&&e(phe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(ghe(n.current)),n.current=null)},[e]),null},bhe=T.memo(vhe);function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d8=0,Ehe={xAxis:{},yAxis:{},zAxis:{}},f8=Fr({name:"cartesianAxis",initialState:Ehe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Kt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Kt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Kt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Kt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Kt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Kt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Kt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Kt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Kt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=JM(JM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:She,replaceXAxis:The,removeXAxis:Ahe,addYAxis:khe,replaceYAxis:Ihe,removeYAxis:Che,addZAxis:ive,replaceZAxis:ave,removeZAxis:sve,updateYAxisWidth:Nhe}=f8.actions,Ohe=f8.reducer,Phe=le([Kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Rhe=le([Phe,Qs,Zs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),h8=()=>Ge(Rhe),eD=(t,e,n)=>{var r=n??t;if(!Gn(r))return ua(r,e,0)},jhe=(t,e,n)=>{var r={},i=t.filter(nb),s=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(l).map(f=>{var[m,p]=f,b=p.map(_=>_.dataKey),w=eD(e,n,p[0].barSize);return{stackId:m,dataKeys:b,barSize:w}}),d=s.map(f=>{var m=[f.dataKey].filter(b=>b!=null),p=eD(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lhe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=ua(t,n,0,!0),c,d=[];if(en(r[0].barSize)){var f=!1,m=n/s,p=r.reduce((I,j)=>I+(j.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(f=!0,m*=.9,p=s*m);var b=(n-p)/2>>0,w={offset:b-l,size:0};c=r.reduce((I,j)=>{var O,D={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:w.offset+w.size+l,size:f?m:(O=j.barSize)!==null&&O!==void 0?O:0}},R=[...I,D];return w=R[R.length-1].position,R},d)}else{var _=ua(e,n,0,!0);n-2*_-(s-1)*l<=0&&(l=0);var E=(n-2*_-(s-1)*l)/s;E>1&&(E>>=0);var S=en(i)?Math.min(E,i):E;c=r.reduce((I,j,O)=>[...I,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:_+(E+l)*O+(E-S)/2,size:S}}],d)}return c}}var Vhe=(t,e,n,r,i,s,l)=>{var c=Gn(l)?e:l,d=Lhe(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>i0(i0({},f),{},{position:i0(i0({},f.position),{},{offset:f.position.offset-i/2})}))),d},Bhe=(t,e)=>{var n=yA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Uhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&en(t.zIndex)?t.zIndex:e}var Fhe=t=>{var{chartData:e}=t,n=fn(),r=pi();return T.useEffect(()=>r?()=>{}:(n(mM(e)),()=>{n(mM(void 0))}),[e,n,r]),null},nD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},m8=Fr({name:"brush",initialState:nD,reducers:{setBrushSettings(t,e){return e.payload==null?nD:e.payload}}}),{setBrushSettings:ove}=m8.actions,qhe=m8.reducer;function $he(t,e,n){return(e=Hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hhe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BA{static create(e){return new BA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}$he(BA,"EPS",1e-4);function Khe(t){return(t%180+180)%180}var Yhe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Khe(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Whe={dots:[],areas:[],lines:[]},p8=Fr({name:"referenceElements",initialState:Whe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ca(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ca(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ca(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:lve,removeDot:cve,addArea:uve,removeArea:dve,addLine:fve,removeLine:hve}=p8.actions,Xhe=p8.reducer,Qhe=T.createContext(void 0),Zhe=t=>{var{children:e}=t,[n]=T.useState("".concat(sm("recharts"),"-clip")),r=h8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(Qhe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function g8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Jhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Yhe(r,n)}function eme(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function xm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function tme(t,e){return g8(t,e+1)}function nme(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var _=r?.[d];if(_===void 0)return{v:g8(r,f)};var E=d,S,I=()=>(S===void 0&&(S=n(_,E)),S),j=_.coordinate,O=d===0||xm(t,j,I,m,c);O||(d=0,m=l,f+=1),O&&(m=j+t*(I()/2+i),d+=f)},b;f<=s.length;)if(b=p(),b)return b.v;return[]}function rme(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var m=(l-1)%f,p=c,b=!0,w=function(){var j=r[_],O=_,D,R=()=>(D===void 0&&(D=n(j,O)),D),V=j.coordinate,P=_===m||xm(t,V,R,p,d);if(!P)return b=!1,1;P&&(p=V+t*(R()/2+i))},_=m;_<l&&!w();_+=f);if(b){for(var E=[],S=m;S<l;S+=f)E.push(r[S]);return E}}return[]}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ime(t,e,n){return(e=ame(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=sme(t,"string");return typeof e=="symbol"?e:e+""}function sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ome(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var w=s[b],_,E=()=>(_===void 0&&(_=n(w,b)),_);if(b===l-1){var S=t*(w.coordinate+t*E()/2-d);s[b]=w=mr(mr({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[b]=w=mr(mr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var I=xm(t,w.tickCoord,E,c,d);I&&(d=w.tickCoord-t*(E()/2+i),s[b]=mr(mr({},w),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function lme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var m=r[c-1],p=n(m,c-1),b=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=mr(mr({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var w=xm(t,m.tickCoord,()=>p,d,f);w&&(f=m.tickCoord-t*(p/2+i),l[c-1]=mr(mr({},m),{},{isShow:!0}))}}for(var _=s?c-1:c,E=function(j){var O=l[j],D,R=()=>(D===void 0&&(D=n(O,j)),D);if(j===0){var V=t*(O.coordinate-t*R()/2-d);l[j]=O=mr(mr({},O),{},{tickCoord:V<0?O.coordinate-V*t:O.coordinate})}else l[j]=O=mr(mr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var P=xm(t,O.tickCoord,R,d,f);P&&(d=O.tickCoord+t*(R()/2+i),l[j]=mr(mr({},O),{},{isShow:!0}))}},S=0;S<_;S++)E(S);return l}function cme(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(qe(d)||Hv.isSsr){var b;return(b=tme(i,qe(d)?d:0))!==null&&b!==void 0?b:[]}var w=[],_=c==="top"||c==="bottom"?"width":"height",E=m&&_==="width"?Bh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(O,D)=>{var R=typeof f=="function"?f(O.value,D):O.value;return _==="width"?Jhe(Bh(R,{fontSize:e,letterSpacing:n}),E,p):Bh(R,{fontSize:e,letterSpacing:n})[_]},I=i.length>=2?oi(i[1].coordinate-i[0].coordinate):1,j=eme(s,I,_);return d==="equidistantPreserveStart"?nme(I,j,S,i,l):d==="equidistantPreserveEnd"?rme(I,j,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=lme(I,j,S,i,l,d==="preserveStartEnd"):w=ome(I,j,S,i,l),w.filter(O=>O.isShow))}var ume=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},dme=["axisLine","width","height","className","hide","ticks","axisType"];function fme(t,e){if(t==null)return{};var n,r,i=hme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(null,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return(e=pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pme(t){var e=gme(t,"string");return typeof e=="symbol"?e:e+""}function gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Br.axis};function yme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=_n(_n(_n({},d),ll(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=_n(_n({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=_n(_n({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",Dc({},f,{className:we("recharts-cartesian-axis-line",kd(c,"className"))}))}function vme(t,e,n,r,i,s,l,c,d){var f,m,p,b,w,_,E=c?-1:1,S=t.tickSize||l,I=qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,b=n+ +!c*i,p=b-E*S,_=p-E*d,w=I;break;case"left":p=b=t.coordinate,m=e+ +!c*r,f=m-E*S,w=f-E*d,_=I;break;case"right":p=b=t.coordinate,m=e+ +c*r,f=m+E*S,w=f+E*d,_=I;break;default:f=m=t.coordinate,b=n+ +c*i,p=b+E*S,_=p+E*d,w=I;break}return{line:{x1:f,y1:p,x2:m,y2:b},tick:{x:w,y:_}}}function bme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function xme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function wme(t){var{option:e,tickProps:n,value:r}=t,i,s=we(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,_n(_n({},n),{},{className:s}));else if(typeof e=="function")i=e(_n(_n({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=we(l,e?.className)),i=T.createElement(LA,Dc({},n,{className:l}),r)}return i}var _me=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:b,y:w,width:_,height:E,tickSize:S,tickMargin:I,fontSize:j,letterSpacing:O,getTicksConfig:D,events:R,axisType:V}=t,P=cme(_n(_n({},D),{},{ticks:n}),j,O),C=bme(m,p),z=xme(m,p),F=ll(D),L=vT(r),q={};typeof i=="object"&&(q=i);var U=_n(_n({},F),{},{fill:"none"},q),be=P.map(re=>_n({entry:re},vme(re,b,w,_,E,m,S,p,I))),Ie=be.map(re=>{var{entry:G,line:ye}=re;return T.createElement(Us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&T.createElement("line",Dc({},U,ye,{className:we("recharts-cartesian-axis-tick-line",kd(i,"className"))})))}),Y=be.map((re,G)=>{var{entry:ye,tick:Ae}=re,$=_n(_n(_n(_n({textAnchor:C,verticalAnchor:z},F),{},{stroke:"none",fill:s},L),Ae),{},{index:G,payload:ye,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return T.createElement(Us,Dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},TT(R,ye,G)),r&&T.createElement(wme,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(ye.value,G):ye.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},Y.length>0&&T.createElement(bl,{zIndex:Br.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},Y)),Ie.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},Ie))}),Eme=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=fme(t,dme),[m,p]=T.useState(""),[b,w]=T.useState(""),_=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return ume({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(S=>{if(S){var I=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=I;var j=I[0];if(j){var O=window.getComputedStyle(j),D=O.fontSize,R=O.letterSpacing;(D!==m||R!==b)&&(p(D),w(R))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(bl,{zIndex:t.zIndex},T.createElement(Us,{className:we("recharts-cartesian-axis",s)},T.createElement(yme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ll(t)}),T.createElement(_me,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(ufe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(xfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),UA=T.forwardRef((t,e)=>{var n=Bi(t,xc);return T.createElement(Eme,Dc({},n,{ref:e}))});UA.displayName="CartesianAxis";var Sme={},y8=Fr({name:"errorBars",initialState:Sme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mve,replaceErrorBar:pve,removeErrorBar:gve}=y8.actions,Tme=y8.reducer,Ame=["children"];function kme(t,e){if(t==null)return{};var n,r,i=Ime(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nme=T.createContext(Cme);function Ome(t){var{children:e}=t,n=kme(t,Ame);return T.createElement(Nme.Provider,{value:n},e)}function v8(t,e){var n,r,i=Ge(f=>to(f,t)),s=Ge(f=>no(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Un.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Fn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function Pme(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=h8(),{needClipX:s,needClipY:l,needClip:c}=v8(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-m/2,y:l?f:f-p/2,width:s?m:m*2,height:l?p:p*2}))}var f_={exports:{}},h_={};var aD;function Rme(){if(aD)return h_;aD=1;var t=Dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return h_.useSyncExternalStoreWithSelector=function(d,f,m,p,b){var w=i(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=l(function(){function S(R){if(!I){if(I=!0,j=R,R=p(R),b!==void 0&&_.hasValue){var V=_.value;if(b(V,R))return O=V}return O=R}if(V=O,n(j,R))return V;var P=p(R);return b!==void 0&&b(V,P)?(j=R,V):(j=R,O=P)}var I=!1,j,O,D=m===void 0?null:m;return[function(){return S(f())},D===null?void 0:function(){return S(D())}]},[f,m,p,b]);var E=r(d,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=E},[E]),c(E),E},h_}var sD;function jme(){return sD||(sD=1,f_.exports=Rme()),f_.exports}jme();function Mme(t){t()}function Dme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var oD={notify(){},get:()=>[]};function zme(t,e){let n,r=oD,i=0,s=!1;function l(E){m();const S=r.subscribe(E);let I=!1;return()=>{I||(I=!0,S(),p())}}function c(){r.notify()}function d(){_.onStateChange&&_.onStateChange()}function f(){return s}function m(){i++,n||(n=t.subscribe(d),r=Dme())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oD)}function b(){s||(s=!0,m())}function w(){s&&(s=!1,p())}const _={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return _}var Lme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vme=Lme(),Bme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ume=Bme(),Fme=()=>Vme||Ume?T.useLayoutEffect:T.useEffect,qme=Fme();function lD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function $me(t,e){if(lD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!lD(t[n[i]],e[n[i]]))return!1;return!0}var Hme=Symbol.for("react-redux-context"),Gme=typeof globalThis<"u"?globalThis:{};function Kme(){if(!T.createContext)return{};const t=Gme[Hme]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Yme=Kme();function Wme(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=zme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);qme(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Yme;return T.createElement(c.Provider,{value:s},e)}var Xme=Wme,Qme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Zme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function FA(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Qme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!$me(t[r],e[r]))return!1}else if(!Zme(t[r],e[r]))return!1;return!0}function $c(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:d8}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:d8}var Jme="Invariant failed";function epe(t,e){throw new Error(Jme)}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function Hy(t){return T.createElement(ahe,WE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var tpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(qe(e))return e;var s=qe(r)||Gn(r);return s?e(r,i):(s||epe(),n)}},npe=(t,e,n)=>n,rpe=(t,e)=>e,op=le([bA,rpe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ipe=le([op],t=>t?.maxBarSize),ape=(t,e,n,r)=>r,spe=le([At,bA,$c,Hc,npe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ope=(t,e,n)=>{var r=At(t),i=$c(t,e),s=Hc(t,e);if(!(i==null||s==null))return r==="horizontal"?FE(t,"yAxis",s,n):FE(t,"xAxis",i,n)},lpe=(t,e)=>{var n=At(t),r=$c(t,e),i=Hc(t,e);if(!(r==null||i==null))return n==="horizontal"?nM(t,"xAxis",r):nM(t,"yAxis",i)},cpe=le([spe,fle,lpe],jhe),upe=(t,e,n)=>{var r,i,s=op(t,e);if(s!=null){var l=$c(t,e),c=Hc(t,e);if(!(l==null||c==null)){var d=At(t),f=TL(t),{maxBarSize:m}=s,p=Gn(m)?f:m,b,w;return d==="horizontal"?(b=jd(t,"xAxis",l,n),w=Rd(t,"xAxis",l,n)):(b=jd(t,"yAxis",c,n),w=Rd(t,"yAxis",c,n)),(r=(i=xy(b,w,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},b8=(t,e,n)=>{var r=At(t),i=$c(t,e),s=Hc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=jd(t,"xAxis",i,n),c=Rd(t,"xAxis",i,n)):(l=jd(t,"yAxis",s,n),c=Rd(t,"yAxis",s,n)),xy(l,c)}},dpe=le([cpe,TL,dle,AL,upe,b8,ipe],Vhe),fpe=(t,e,n)=>{var r=$c(t,e);if(r!=null)return jd(t,"xAxis",r,n)},hpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return jd(t,"yAxis",r,n)},mpe=(t,e,n)=>{var r=$c(t,e);if(r!=null)return Rd(t,"xAxis",r,n)},ppe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Rd(t,"yAxis",r,n)},gpe=le([dpe,op],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ype=le([ope,op],Bhe),vpe=le([Kn,jT,fpe,hpe,mpe,ppe,gpe,At,Joe,b8,ype,op,ape],(t,e,n,r,i,s,l,c,d,f,m,p,b)=>{var{chartData:w,dataStartIndex:_,dataEndIndex:E}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:S}=p,I;if(S!=null&&S.length>0?I=S:I=w?.slice(_,E+1),I!=null)return Kpe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:I,offset:t,cells:b,dataStartIndex:_})}}),bpe=["index"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function xpe(t,e){if(t==null)return{};var n,r,i=wpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x8=T.createContext(void 0),_pe=t=>{var e=T.useContext(x8);if(e!=null)return e.stackId;if(t!=null)return Jne(t)},Epe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Spe=t=>{var e=T.useContext(x8);if(e!=null){var{stackId:n}=e;return"url(#".concat(Epe(n,t),")")}},Tpe=t=>{var{index:e}=t,n=xpe(t,bpe),r=Spe(e);return T.createElement(Us,XE({className:"recharts-bar-stack-layer",clipPath:r},n))},Ape=["onMouseEnter","onMouseLeave","onClick"],kpe=["value","background","tooltipPosition"],Ipe=["id"],Cpe=["onMouseEnter","onClick","onMouseLeave"];function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(null,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=Ppe(t,"string");return typeof e=="symbol"?e:e+""}function Ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gy(t,e){if(t==null)return{};var n,r,i=Rpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jpe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:i9(n,e),payload:t}]},Mpe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:i9(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(she,{tooltipEntrySettings:m})});function Dpe(t){var e=Ge(Md),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Gy(s,Ape),m=o8(l,r,s.id),p=l8(c),b=c8(d,r,s.id);if(!i||n==null)return null;var w=vT(i);return T.createElement(bl,{zIndex:Uhe(i,Br.barBackground)},n.map((_,E)=>{var{value:S,background:I,tooltipPosition:j}=_,O=Gy(_,kpe);if(!I)return null;var D=m(_,E),R=p(_,E),V=b(_,E),P=Er(Er(Er(Er(Er({option:i,isActive:String(E)===e},O),{},{fill:"#eee"},I),w),TT(f,_,E)),{},{onMouseEnter:D,onMouseLeave:R,onClick:V,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(Hy,Ys({key:"background-bar-".concat(E)},P))}))}function zpe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Er(Er({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(Ofe,{value:e?i:void 0},n)}function Lpe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Ge(Md),d=Ge(DV),f=n&&String(s)===c&&(d==null||l===d),m=f?n:e;return f?T.createElement(bl,{zIndex:Br.activeBar},T.createElement(Hy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))):T.createElement(Hy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))}function Vpe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(Hy,Ys({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Bpe(t){var e,{data:n,props:r}=t,i=(e=ll(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Gy(i,Ipe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:b}=r,w=Gy(r,Cpe),_=o8(m,d,s),E=l8(b),S=c8(p,d,s);return n?T.createElement(T.Fragment,null,n.map((I,j)=>T.createElement(Tpe,Ys({index:j,key:"rectangle-".concat(I?.x,"-").concat(I?.y,"-").concat(I?.value,"-").concat(j),className:"recharts-bar-rectangle"},TT(w,I,j),{onMouseEnter:_(I,j),onMouseLeave:E(I,j),onClick:S(I,j)}),f?T.createElement(Lpe,{shape:c,activeBar:f,baseProps:l,entry:I,index:j,dataKey:d}):T.createElement(Vpe,{shape:c,baseProps:l,entry:I,index:j,dataKey:d})))):null}function Upe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,b=VT(e,"recharts-bar-"),[w,_]=T.useState(!1),E=!w,S=T.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),I=T.useCallback(()=>{typeof m=="function"&&m(),_(!0)},[m]);return T.createElement(zpe,{showLabels:E,rects:r},T.createElement(LT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:I,key:b},j=>{var O=j===1?r:r?.map((D,R)=>{var V=p&&p[R];if(V)return Er(Er({},D),{},{x:lr(V.x,D.x,j),y:lr(V.y,D.y,j),width:lr(V.width,D.width,j),height:lr(V.height,D.height,j)});if(i==="horizontal"){var P=lr(0,D.height,j),C=lr(D.stackedBarStart,D.y,j);return Er(Er({},D),{},{y:C,height:P})}var z=lr(0,D.width,j),F=lr(D.stackedBarStart,D.x,j);return Er(Er({},D),{},{width:z,x:F})});return j>0&&(n.current=O??null),O==null?null:T.createElement(Us,null,T.createElement(Bpe,{props:e,data:O}))}),T.createElement(jfe,{label:e.label}),e.children)}function Fpe(t){var e=T.useRef(null);return T.createElement(Upe,{previousRectanglesRef:e,props:t})}var w8=0,qpe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ur(t,e)}};class $pe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=we("recharts-bar",i),p=f;return T.createElement(Us,{className:m,id:f},c&&T.createElement("defs",null,T.createElement(Pme,{clipPathId:p,xAxisId:s,yAxisId:l})),T.createElement(Us,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Dpe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(Fpe,this.props)))}}var Hpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:w8,xAxisId:0,yAxisId:0,zIndex:Br.bar};function Gpe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=v8(e,n),b=Km(),w=pi(),_=Bfe(t.children,cb),E=Ge(j=>vpe(j,t.id,w,_));if(b!=="vertical"&&b!=="horizontal")return null;var S,I=E?.[0];return I==null||I.height==null||I.width==null?S=0:S=b==="vertical"?I.height/2:I.width/2,T.createElement(Ome,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:qpe,errorBarOffset:S},T.createElement($pe,Ys({},t,{layout:b,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Kpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:b,cells:w,parentViewBox:_,dataStartIndex:E}=t,S=e==="horizontal"?c:l,I=m?S.scale.domain():null,j=ere({numericAxis:S}),O=S.scale(j);return p.map((D,R)=>{var V,P,C,z,F,L;if(m){var q=m[R+E];if(q==null)return null;V=Yne(q,I)}else V=ur(D,n),Array.isArray(V)||(V=[j,V]);var U=tpe(r,w8)(V[1],R);if(e==="horizontal"){var be,[Ie,Y]=[c.scale(V[0]),c.scale(V[1])];P=oR({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:D,index:R}),C=(be=Y??Ie)!==null&&be!==void 0?be:void 0,z=i.size;var re=Ie-Y;if(F=Ja(re)?0:re,L={x:P,y:b.top,width:z,height:b.height},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var G=oi(F||U)*(Math.abs(U)-Math.abs(F));C-=G,F+=G}}else{var[ye,Ae]=[l.scale(V[0]),l.scale(V[1])];if(P=ye,C=oR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:D,index:R}),z=Ae-ye,F=i.size,L={x:b.left,y:C,width:b.width,height:F},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var $=oi(z||U)*(Math.abs(U)-Math.abs(z));z+=$}}if(P==null||C==null||z==null||F==null)return null;var ae=Er(Er({},D),{},{stackedBarStart:O,x:P,y:C,width:z,height:F,value:m?V:V[1],payload:D,background:L,tooltipPosition:{x:P+z/2,y:C+F/2},parentViewBox:_},w&&w[R]&&w[R].props);return ae}).filter(Boolean)}function Ype(t){var e=Bi(t,Hpe),n=_pe(e.stackId),r=pi();return T.createElement(fhe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(ohe,{legendPayload:jpe(e)}),T.createElement(Mpe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(bhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(bl,{zIndex:e.zIndex},T.createElement(Gpe,Ys({},e,{id:i})))))}var qA=T.memo(Ype,FA);qA.displayName="Bar";var Wpe=["domain","range"],Xpe=["domain","range"];function uD(t,e){if(t==null)return{};var n,r,i=Qpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function _8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=uD(t,Wpe),{domain:s,range:l}=e,c=uD(e,Xpe);return!dD(n,s)||!dD(r,l)?!1:FA(i,c)}var Zpe=["dangerouslySetInnerHTML","ticks","scale"],Jpe=["id","scale"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function fD(t,e){if(t==null)return{};var n,r,i=ege(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ege(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tge(t){var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(She(t)):n.current!==t&&e(The({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Ahe(n.current)),n.current=null)},[e]),null}var nge=t=>{var{xAxisId:e,className:n}=t,r=Ge(jT),i=pi(),s="xAxis",l=Ge(I=>gV(I,s,e,i)),c=Ge(I=>fV(I,e)),d=Ge(I=>cce(I,e)),f=Ge(I=>ML(I,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:b}=t,w=fD(t,Zpe),{id:_,scale:E}=f,S=fD(f,Jpe);return T.createElement(UA,QE({},w,S,{x:d.x,y:d.y,width:c.width,height:c.height,className:we("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},rge={allowDataOverflow:Un.allowDataOverflow,allowDecimals:Un.allowDecimals,allowDuplicatedCategory:Un.allowDuplicatedCategory,angle:Un.angle,axisLine:xc.axisLine,height:Un.height,hide:!1,includeHidden:Un.includeHidden,interval:Un.interval,minTickGap:Un.minTickGap,mirror:Un.mirror,orientation:Un.orientation,padding:Un.padding,reversed:Un.reversed,scale:Un.scale,tick:Un.tick,tickCount:Un.tickCount,tickLine:xc.tickLine,tickSize:xc.tickSize,type:Un.type,xAxisId:0},ige=t=>{var e=Bi(t,rge);return T.createElement(T.Fragment,null,T.createElement(tge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(nge,e))},$A=T.memo(ige,_8);$A.displayName="XAxis";var age=["dangerouslySetInnerHTML","ticks","scale"],sge=["id","scale"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function hD(t,e){if(t==null)return{};var n,r,i=oge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lge(t){var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(khe(t)):n.current!==t&&e(Ihe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Che(n.current)),n.current=null)},[e]),null}var cge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=Ge(jT),d=pi(),f=fn(),m="yAxis",p=Ge(V=>hV(V,e)),b=Ge(V=>dce(V,e)),w=Ge(V=>gV(V,m,e,d)),_=Ge(V=>DL(V,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!p||VA(i)||T.isValidElement(i)||_==null)){var V=s.current;if(V){var P=V.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&f(Nhe({id:e,width:P}))}}},[w,p,f,i,e,r,_]),p==null||b==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:I}=t,j=hD(t,age),{id:O,scale:D}=_,R=hD(_,sge);return T.createElement(UA,ZE({},j,R,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:we("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:w,axisType:m}))},uge={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,angle:Fn.angle,axisLine:xc.axisLine,hide:!1,includeHidden:Fn.includeHidden,interval:Fn.interval,minTickGap:Fn.minTickGap,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,tickLine:xc.tickLine,tickSize:xc.tickSize,type:Fn.type,width:Fn.width,yAxisId:0},dge=t=>{var e=Bi(t,uge);return T.createElement(T.Fragment,null,T.createElement(lge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(cge,e))},E8=T.memo(dge,_8);E8.displayName="YAxis";var fge=(t,e)=>e,HA=le([fge,At,RL,Rn,PV,ro,Tue,Kn],Pue),GA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},S8=Li("mouseClick"),T8=Hm();T8.startListening({actionCreator:S8,effect:(t,e)=>{var n=t.payload,r=HA(e.getState(),GA(n));r?.activeIndex!=null&&e.dispatch(Tce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var JE=Li("mouseMove"),A8=Hm(),a0=null;A8.startListening({actionCreator:JE,effect:(t,e)=>{var n=t.payload;a0!==null&&cancelAnimationFrame(a0);var r=GA(n);a0=requestAnimationFrame(()=>{var i=e.getState(),s=IA(i,i.tooltip.settings.shared);if(s==="axis"){var l=HA(i,r);l?.activeIndex!=null?e.dispatch(SV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(EV())}a0=null})}});function hge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var mD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},k8=Fr({name:"rootProps",initialState:mD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:mD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),mge=k8.reducer,{updateOptions:pge}=k8.actions,I8=Fr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:yve}=I8.actions,gge=I8.reducer,C8=Li("keyDown"),N8=Li("focus"),KA=Hm();KA.startListening({actionCreator:C8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=CA(i,af(n),tp(n),ap(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=ro(n);if(s==="Enter"){var f=Uy(n,"axis","hover",String(i.index));e.dispatch($E({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=pce(n),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=c+b*p;if(!(d==null||w>=d.length||w<0)){var _=Uy(n,"axis","hover",String(w));e.dispatch($E({active:!0,activeIndex:w.toString(),activeCoordinate:_}))}}}}}});KA.startListening({actionCreator:N8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Uy(n,"axis","hover",String(s));e.dispatch($E({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Pi=Li("externalEvent"),O8=Hm(),m_=new Map;O8.startListening({actionCreator:Pi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=m_.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:uue(c),activeDataKey:DV(c),activeIndex:Md(c),activeLabel:MV(c),activeTooltipIndex:Md(c),isTooltipActive:due(c)};n(d,r)}finally{m_.delete(i)}});m_.set(i,l)}}});var yge=le([nf],t=>t.tooltipItemPayloads),vge=le([yge,ip,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),P8=Li("touchMove"),R8=Hm();R8.startListening({actionCreator:P8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=IA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=HA(r,GA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(SV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(ore),p=(c=f.getAttribute(lre))!==null&&c!==void 0?c:void 0,b=rf(r).find(E=>E.id===p);if(m==null||b==null||p==null)return;var{dataKey:w}=b,_=vge(r,m,p);e.dispatch(_V({activeDataKey:w,activeIndex:m,activeCoordinate:_,activeGraphicalItemId:p}))}}}});var bge=C6({brush:qhe,cartesianAxis:Ohe,chartData:ude,errorBars:Tme,graphicalItems:yhe,layout:Fne,legend:nie,options:ade,polarAxis:Dfe,polarOptions:gge,referenceElements:Xhe,rootProps:mge,tooltip:Ace,zIndex:Gue}),xge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return hne({reducer:bge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([T8.middleware,A8.middleware,KA.middleware,O8.middleware,R8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat($6({type:"raf"}))},devTools:{serialize:{replacer:hge},name:"recharts-".concat(n)}})};function wge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=pi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=xge(e,r));var l=kT;return T.createElement(Xme,{context:l,store:s.current},n)}function _ge(t){var{layout:e,margin:n}=t,r=fn(),i=pi();return T.useEffect(()=>{i||(r(Vne(e)),r(Lne(n)))},[r,i,e,n]),null}var Ege=T.memo(_ge,FA);function Sge(t){var e=fn();return T.useEffect(()=>{e(pge(t))},[e,t]),null}function pD(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=fn();return T.useLayoutEffect(()=>(r.current&&i($ue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Hue({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function gD(t){var{children:e,isPanorama:n}=t,r=Ge(jue);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(pD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(pD,{key:l,zIndex:l,isPanorama:n})))}var Tge=["children"];function Age(t,e){if(t==null)return{};var n,r,i=kge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(null,arguments)}var Ige={width:"100%",height:"100%",display:"block"},Cge=T.forwardRef((t,e)=>{var n=Lre(),r=Vre(),i=v9();if(!cl(n)||!cl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),T.createElement(K3,Ky({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:Ige,ref:e}),s)}),Nge=t=>{var{children:e}=t,n=Ge(Vv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(K3,{width:r,height:i,x:l,y:s},e)},yD=T.forwardRef((t,e)=>{var{children:n}=t,r=Age(t,Tge),i=pi();return i?T.createElement(Nge,null,T.createElement(gD,{isPanorama:!0},n)):T.createElement(Cge,Ky({ref:e},r),T.createElement(gD,{isPanorama:!1},n))});function Oge(){var t=fn(),[e,n]=T.useState(null),r=Ge(sre);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;en(s)&&s!==r&&t(Une(s))}},[e,t,r]),n}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e,n){return(e=jge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Mge(t,"string");return typeof e=="symbol"?e:e+""}function Mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}var Dge=()=>(bde(),null);function Yy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var zge=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Yy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Yy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,m)=>{l(p=>{var b=Math.round(f),w=Math.round(m);return p.containerWidth===b&&p.containerHeight===w?p:{containerWidth:b,containerHeight:w}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var b=_=>{var{width:E,height:S}=_[0].contentRect;c(E,S)},w=new ResizeObserver(b);w.observe(f),i.current=w}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Uv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",zc({ref:d},t)))}),Lge=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Yy(n),containerHeight:Yy(r)}),l=T.useCallback((d,f)=>{s(m=>{var p=Math.round(d),b=Math.round(f);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(Uv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",zc({ref:c},t)))}),Vge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Uv,{width:n,height:r}),T.createElement("div",zc({ref:e},t)))}),Bge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Fs(n)||Fs(r)?T.createElement(Lge,zc({},t,{ref:e})):T.createElement(Vge,zc({},t,{ref:e}))});function Uge(t){return t===!0?zge:Bge}var Fge=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:w,onTouchMove:_,onTouchStart:E,style:S,width:I,responsive:j,dispatchTouchEvents:O=!0}=t,D=T.useRef(null),R=fn(),[V,P]=T.useState(null),[C,z]=T.useState(null),F=Oge(),L=MT(),q=L?.width>0?L.width:I,U=L?.height>0?L.height:i,be=T.useCallback(se=>{F(se),typeof e=="function"&&e(se),P(se),z(se),se!=null&&(D.current=se)},[F,e,P,z]),Ie=T.useCallback(se=>{R(S8(se)),R(Pi({handler:s,reactEvent:se}))},[R,s]),Y=T.useCallback(se=>{R(JE(se)),R(Pi({handler:f,reactEvent:se}))},[R,f]),re=T.useCallback(se=>{R(EV()),R(Pi({handler:m,reactEvent:se}))},[R,m]),G=T.useCallback(se=>{R(JE(se)),R(Pi({handler:p,reactEvent:se}))},[R,p]),ye=T.useCallback(()=>{R(N8())},[R]),Ae=T.useCallback(se=>{R(C8(se.key))},[R]),$=T.useCallback(se=>{R(Pi({handler:l,reactEvent:se}))},[R,l]),ae=T.useCallback(se=>{R(Pi({handler:c,reactEvent:se}))},[R,c]),te=T.useCallback(se=>{R(Pi({handler:d,reactEvent:se}))},[R,d]),de=T.useCallback(se=>{R(Pi({handler:b,reactEvent:se}))},[R,b]),xe=T.useCallback(se=>{R(Pi({handler:E,reactEvent:se}))},[R,E]),J=T.useCallback(se=>{O&&R(P8(se)),R(Pi({handler:_,reactEvent:se}))},[R,O,_]),fe=T.useCallback(se=>{R(Pi({handler:w,reactEvent:se}))},[R,w]),Ce=Uge(j);return T.createElement(qV.Provider,{value:V},T.createElement(HJ.Provider,{value:C},T.createElement(Ce,{width:q??S?.width,height:U??S?.height,className:we("recharts-wrapper",r),style:Pge({position:"relative",cursor:"default",width:q,height:U},S),onClick:Ie,onContextMenu:$,onDoubleClick:ae,onFocus:ye,onKeyDown:Ae,onMouseDown:te,onMouseEnter:Y,onMouseLeave:re,onMouseMove:G,onMouseUp:de,onTouchEnd:fe,onTouchMove:J,onTouchStart:xe,ref:be},T.createElement(Dge,null),n)))}),qge=["width","height","responsive","children","className","style","compact","title","desc"];function $ge(t,e){if(t==null)return{};var n,r,i=Hge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gge=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:m}=t,p=$ge(t,qge),b=ll(p);return d?T.createElement(T.Fragment,null,T.createElement(Uv,{width:n,height:r}),T.createElement(yD,{otherAttributes:b,title:f,desc:m},s)):T.createElement(Fge,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(yD,{otherAttributes:b,title:f,desc:m,ref:e},T.createElement(Zhe,null,s)))});function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}var Kge={top:5,right:5,bottom:5,left:5},Yge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wge=T.forwardRef(function(e,n){var r,i=Bi(e.categoricalChartProps,Yge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(wge,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(Fhe,{chartData:f.data}),T.createElement(Ege,{layout:i.layout,margin:i.margin}),T.createElement(Sge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(Gge,eS({},i,{ref:n})))}),Xge=["axis","item"],j8=T.forwardRef((t,e)=>T.createElement(Wge,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xge,tooltipPayloadSearcher:rde,categoricalChartProps:t,ref:e}));const M8=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=vr(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?g.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:g.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[g.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),g.jsx("div",{className:"h-48 w-full mb-6",children:g.jsx(c9,{width:"100%",height:"100%",children:g.jsxs(j8,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[g.jsx($A,{type:"number",hide:!0}),g.jsx(E8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),g.jsx(GV,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),g.jsx(qA,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>g.jsx(cb,{fill:i[l%i.length]},`cell-${l}`))})]})})}),g.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return g.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),g.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),g.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},Qge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ar("expense"),{categories:r,addCategory:i}=Ad("expense"),{selectedDate:s}=zd(),{currency:l}=vr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const w=b.category||"Sin Categora";return p[w]=(p[w]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(_v,{}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[l,d.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(q3,{type:"expense",onSubmit:e,categories:r,onAddCategory:i}),g.jsx($3,{transactions:c,onDelete:n})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(M8,{data:f(),total:d})})})]})]})},Zge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Ar("income"),{categories:r,addCategory:i}=Ad("income"),{selectedDate:s}=zd(),{currency:l}=vr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const w=b.category||"Sin Categora";return p[w]=(p[w]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(_v,{}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[l,d.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(q3,{type:"income",onSubmit:e,categories:r,onAddCategory:i}),g.jsx($3,{transactions:c,onDelete:n})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(M8,{data:f(),total:d})})})]})]})},Jge=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,isGoalPaidThisMonth:i,addContribution:s,withdraw:l,getMonthlyQuota:c,updateGoal:d}=Bm(),{total:f}=Ar("income"),{total:m}=Ar("expense"),{currency:p}=vr(),b=t.reduce((G,ye)=>G+(ye.currentAmount||0),0),w=f-m-b,[_,E]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),S=_.deadline?new Date(_.deadline):null,I=S?Math.max(1,(S.getFullYear()-new Date().getFullYear())*12+(S.getMonth()-new Date().getMonth())):0,j=_.targetAmount&&I>0?Number(_.targetAmount)/I:0,[O,D]=T.useState({open:!1,title:"",message:""}),[R,V]=T.useState({open:!1,type:"deposit",goalId:"",goalName:""}),[P,C]=T.useState(""),[z,F]=T.useState({open:!1,goalId:""}),[L,q]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),U=G=>{F({open:!0,goalId:G.id}),q({name:G.name,targetAmount:G.targetAmount.toString(),deadline:G.deadline||"",icon:G.icon||""})},be=()=>{!L.name||!L.targetAmount||!L.deadline||(d(z.goalId,{name:L.name,targetAmount:Number(L.targetAmount),deadline:L.deadline,icon:L.icon}),F({open:!1,goalId:""}))},Ie=()=>{const G=Number(P);if(!(!G||G<=0)){if(R.type==="withdraw"){const ye=t.find(Ae=>Ae.id===R.goalId);if(!ye||ye.currentAmount<G){alert("No hay suficientes fondos ahorrados en esta meta para retirar esa cantidad.");return}l(R.goalId,G)}else{if(w<G){alert(`No tienes saldo disponible suficiente (${p}${w.toFixed(2)})`);return}s(R.goalId,G,"Ingreso Extra")}V({...R,open:!1})}},Y=(G,ye,Ae)=>{w>=ye?r(G,ye):D({open:!0,title:"Saldo Insuficiente",message:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["No tienes saldo disponible suficiente para pagar la cuota de ",g.jsx("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:Ae}),"."]}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg border border-rose-100 dark:border-rose-900/30 space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Saldo Disponible:"}),g.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,w.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Cuota Necesaria:"}),g.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,ye.toFixed(2)]})]}),g.jsxs("div",{className:"border-t border-rose-200 dark:border-rose-800/50 pt-2 mt-2 flex justify-between text-sm font-bold",children:[g.jsx("span",{className:"text-rose-900 dark:text-rose-200",children:"Faltante:"}),g.jsxs("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:["-",p,(ye-w).toFixed(2)]})]})]})]})})},re=G=>{G.preventDefault(),!(!_.name||!_.targetAmount||!_.deadline)&&(e({name:_.name,targetAmount:Number(_.targetAmount),deadline:_.deadline,startDate:new Date().toISOString().split("T")[0],icon:_.icon||""}),E({name:"",targetAmount:"",deadline:"",icon:""}))};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Calculadora de Metas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Planifica tus compras y objetivos de ahorro"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-1 space-y-6",children:g.jsxs("form",{onSubmit:re,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl space-y-4 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-2",children:[g.jsx(fT,{size:18}),"Simular Meta"]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Objetivo"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Coche Nuevo",value:_.name,onChange:G=>E({..._,name:G.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:_.targetAmount,onChange:G=>{const ye=G.target.value;/^\d*\.?\d*$/.test(ye)&&E({..._,targetAmount:ye})}})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:_.deadline,onChange:G=>E({..._,deadline:G.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono (Emoji)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 text-center text-lg",placeholder:"",value:_.icon,onChange:G=>E({..._,icon:G.target.value}),maxLength:2})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg text-center border border-zinc-200 dark:border-zinc-800 border-dashed mt-4",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase mb-1",children:"Ahorro Mensual Sugerido"}),g.jsxs("p",{className:"text-2xl font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:[p,isFinite(j)?j.toFixed(2):"0.00"]}),I>0&&g.jsxs("p",{className:"text-[10px] text-zinc-400 mt-1",children:["Durante ~",I," meses"]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Meta"})]})}),g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-300 flex items-center gap-2",children:[g.jsx(gc,{size:18}),"Metas"]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length===0?g.jsx("div",{className:"col-span-full bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500",children:"No hay metas definidas."})}):t.map(G=>{const ye=i(G),Ae=c(G),$=G.currentAmount/G.targetAmount*100;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-5 rounded-xl group relative shadow-sm dark:shadow-none flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-2xl mb-1 block",children:G.icon||""}),g.jsx("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg",children:G.name}),g.jsxs("p",{className:"text-[10px] text-zinc-400",children:["Vence: ",G.deadline||"Sin fecha"]})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>U(G),className:"text-zinc-400 hover:text-blue-500 transition-colors p-1",title:"Editar meta",children:g.jsx(jQ,{size:16})}),g.jsx("button",{onClick:()=>n(G.id),className:"text-zinc-400 hover:text-rose-500 transition-colors p-1",title:"Eliminar meta",children:g.jsx(Ya,{size:16})})]})]}),g.jsxs("div",{className:"mt-4 space-y-1",children:[g.jsxs("div",{className:"flex justify-between text-xs text-zinc-500",children:[g.jsx("span",{children:"Progreso Total"}),g.jsxs("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[$.toFixed(1),"%"]})]}),g.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden border border-zinc-200 dark:border-zinc-700/50",children:g.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 relative",style:{width:`${Math.min($,100)}%`},children:$>=20&&g.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})})}),g.jsx("div",{className:"text-center py-2",children:g.jsx("p",{className:"text-xs italic text-zinc-400",children:$>=100?"Meta alcanzada! ":$>=75?"Ya casi ests ah! ":$>=50?"Ms de la mitad! ":$>=25?"Buen progreso, sigue as! ":"Todo viaje empieza con un paso! "})}),g.jsxs("div",{className:"flex justify-between text-xs mt-1 border-t border-dashed border-zinc-200 dark:border-zinc-800 pt-2",children:[g.jsxs("span",{className:"text-zinc-400 font-mono",children:[p,G.currentAmount.toFixed(2)]}),g.jsxs("span",{className:"text-zinc-400 font-mono",children:["/ ",p,G.targetAmount.toLocaleString()]})]})]})]}),g.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-zinc-500",children:"Cuota Mensual"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200",children:[p,Ae.toFixed(2)]})]}),ye?g.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs font-bold rounded-lg border border-emerald-200 dark:border-emerald-800/50",children:"Pagado este mes!"}):g.jsx("button",{onClick:()=>Y(G.id,Ae,G.name),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm shadow-emerald-900/20",children:"Pagar Cuota"})]}),ye&&g.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-right italic",children:"Suma al saldo de Ahorro"})]})]},G.id)})})]})]}),g.jsx(Wa,{isOpen:O.open,onClose:()=>D({...O,open:!1}),title:O.title,children:O.message}),g.jsx(Wa,{isOpen:R.open,onClose:()=>V({...R,open:!1}),title:R.type==="deposit"?"Ingresar Fondos Extra":"Retirar Fondos",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:R.type==="deposit"?"Aade dinero extra a esta meta desde tu saldo disponible.":"Mueve dinero de esta meta de vuelta a tu saldo disponible."}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:P,onChange:G=>C(G.target.value)})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{onClick:Ie,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${R.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:R.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})})]})}),g.jsx(Wa,{isOpen:z.open,onClose:()=>F({...z,open:!1}),title:"Editar Meta",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.name,onChange:G=>q({...L,name:G.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.targetAmount,onChange:G=>q({...L,targetAmount:G.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.deadline,onChange:G=>q({...L,deadline:G.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.icon,onChange:G=>q({...L,icon:G.target.value}),maxLength:2})]}),g.jsx("button",{onClick:be,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors mt-4",children:"Guardar Cambios"})]})})]})},e0e=({project:t,onClose:e})=>{const{currency:n}=vr(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=pT(),{currentBalance:d}=Um(),{addTransaction:f}=Ar(),[m,p]=T.useState("overview"),b=c(t),[w,_]=T.useState({amount:"",description:"",type:"expense"}),[E,S]=T.useState(!1),I=R=>{R.preventDefault();const V=Number(w.amount);if(!(V<=0)){if(w.type==="income"){if(V>d){Jt.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:V,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:V,description:w.description,type:w.type,date:(()=>{const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`})()}),_({amount:"",description:"",type:"expense"}),S(!1)}},j=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},O=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(R=>({name:new Date(R.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:R.type==="income"?R.amount:-R.amount})),[t.transactions]),D=()=>{const R={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:R[t.status]})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),g.jsx("span",{onClick:D,className:we("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),g.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),g.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(am,{size:24})})]}),g.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[g.jsxs("button",{onClick:()=>p("overview"),className:we("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(AX,{size:16})," Resumen"]}),g.jsxs("button",{onClick:()=>p("ledger"),className:we("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(RO,{size:16})," Movimientos"]}),g.jsxs("button",{onClick:()=>p("settings"),className:we("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(T3,{size:16})," Configuracin"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[m==="overview"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),g.jsxs("p",{className:we("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),O.length>0?g.jsx(c9,{width:"100%",height:"100%",children:g.jsxs(j8,{data:O,children:[g.jsx($A,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(GV,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),g.jsx(qA,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:O.map((R,V)=>g.jsx(cb,{fill:R.amount>=0?"#10b981":"#f43f5e"},`cell-${V}`))})]})}):g.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),m==="ledger"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>{_(R=>({...R,type:"income"})),S(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(J_,{size:18})," Inyectar Fondos"]}),g.jsxs("button",{onClick:()=>{_(R=>({...R,type:"expense"})),S(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(Td,{size:18})," Registrar Gasto"]})]}),E&&g.jsxs("form",{onSubmit:I,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:w.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),g.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-zinc-400 hover:text-zinc-600",children:g.jsx(am,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:w.description,onChange:R=>_({...w,description:R.target.value})}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),g.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:w.amount,onChange:R=>_({...w,amount:R.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),g.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?g.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[g.jsx(RO,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(R=>g.jsxs("div",{className:we("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:we("w-10 h-10 rounded-full flex items-center justify-center",R.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:R.type==="income"?g.jsx(J_,{size:18}):g.jsx(Td,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:R.description}),g.jsx("p",{className:"text-xs text-zinc-500",children:new Date(R.date).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:we("font-mono font-bold",R.type==="income"?"text-emerald-600":"text-rose-600"),children:[R.type==="income"?"+":"-",n,R.amount.toFixed(2)]}),g.jsx("button",{onClick:()=>l(t.id,R.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:g.jsx(Ya,{size:16})})]})]},R.id))})]}),m==="settings"&&g.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(R=>g.jsx("button",{onClick:()=>r(t.id,{status:R}),className:we("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===R?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),g.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[g.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),g.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),g.jsxs("button",{onClick:j,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[g.jsx(Ya,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},t0e=()=>{const{projects:t,addProject:e,updateProject:n,getProjectStats:r}=pT(),{currency:i}=vr(),[s,l]=T.useState(!1),[c,d]=T.useState(null),[f,m]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),p=_=>{_.preventDefault(),e({name:f.name,targetBudget:Number(f.targetBudget),deadline:f.deadline,description:f.description}),m({name:"",targetBudget:"",deadline:"",description:""}),l(!1)},b=_=>{switch(_){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},w=(_,E)=>{_.stopPropagation();const S={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(E.id,{status:S[E.status]})};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),g.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(Ka,{size:18}),g.jsx("span",{children:"Nuevo Proyecto"})]})]}),s&&g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:"Iniciar Nuevo Proyecto"}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),g.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.name,onChange:_=>m({...f,name:_.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),g.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.targetBudget,onChange:_=>m({...f,targetBudget:_.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.deadline,onChange:_=>m({...f,deadline:_.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),g.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.description,onChange:_=>m({...f,description:_.target.value})})]})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:"Crear Proyecto"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(_=>{const E=r(_);return g.jsx("div",{onClick:()=>d(_),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"flex justify-between items-start mb-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:g.jsx(eE,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:_.name}),g.jsx("span",{onClick:S=>w(S,_),className:we("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",b(_.status)),title:"Clic para cambiar estado",children:_.status==="planning"?"Planificacin":_.status==="active"?"En Curso":_.status==="completed"?"Completado":_.status==="paused"?"Pausado":"Cancelado"})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),g.jsxs("p",{className:we("font-mono font-bold text-lg",E.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[i,E.currentBalance.toLocaleString()]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[i,E.totalExpenses.toLocaleString()]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[g.jsx("span",{className:"text-zinc-500",children:E.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),g.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[E.totalExpenses>0?E.percentConsumed.toFixed(0):E.percentFunded.toFixed(0),"%"]})]}),g.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:we("h-full transition-all duration-500",(E.totalExpenses>0?E.percentConsumed:E.percentFunded)>100?"bg-rose-500":((E.totalExpenses>0?E.percentConsumed:E.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(E.totalExpenses>0?E.percentConsumed:E.percentFunded,100)}%`}})})]})]})]})},_.id)}),t.length===0&&!s&&g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(eE,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),c&&g.jsx(e0e,{project:t.find(_=>_.id===c.id)||c,onClose:()=>d(null)})]})},p_={gift:uQ,money:E3,heart:fQ,phoenix:rQ,piggy:zm,wallet:Lm,star:dZ,smile:cZ,briefcase:v3,car:SX,plane:VQ,home:gQ,coffee:KX,game:lQ,phone:oZ,other:S3},n0e=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r}=Xd(),{currency:i}=vr(),[s,l]=T.useState(!1),[c,d]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[f,m]=T.useState({open:!1,type:"deposit",fundId:""}),[p,b]=T.useState(""),[w,_]=T.useState(""),E=R=>{R.preventDefault(),c.name&&(e(c),d({name:"",icon:"piggy",description:"",color:"emerald"}),l(!1))},{currentBalance:S}=Um(),I=R=>{R.preventDefault();const V=Number(p);if(!(!V||V<=0)){if(f.type==="deposit"&&V>S){Jt.error(`Fondos insuficientes. Solo tienes ${i}${S.toLocaleString()} disponibles.`);return}r(f.fundId,V,f.type,w),m({...f,open:!1}),b(""),_("")}},j=(R,V)=>{m({open:!0,type:R,fundId:V})},O=R=>{const V=p_[R]||S3;return g.jsx(V,{size:24})},D=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),g.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),g.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[g.jsx(Ka,{size:20})," Nuevo Fondo"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(zm,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(R=>{const V=D.find(P=>P.id===R.color)?.class||D[0].class;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:we("p-3 rounded-xl transition-colors",V),children:O(R.icon)}),g.jsx("button",{onClick:()=>n(R.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Ya,{size:18})})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:R.name}),R.description&&g.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:R.description}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[i,R.currentAmount.toLocaleString()]})]}),g.jsxs("div",{className:"flex gap-2 mt-6",children:[g.jsxs("button",{onClick:()=>j("deposit",R.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[g.jsx(ry,{size:16})," Ingresar"]}),g.jsxs("button",{onClick:()=>j("withdraw",R.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[g.jsx(Td,{size:16})," Retirar"]})]})]},R.id)})}),g.jsx(Wa,{isOpen:s,onClose:()=>l(!1),title:"Crear Nuevo Fondo",children:g.jsxs("form",{onSubmit:E,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:c.name,onChange:R=>d({...c,name:R.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(p_).map(R=>{const V=p_[R];return g.jsx("button",{type:"button",onClick:()=>d({...c,icon:R}),className:we("p-2 rounded-md flex items-center justify-center transition-all",c.icon===R?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(V,{size:20})},R)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),g.jsx("div",{className:"flex gap-2",children:D.map(R=>g.jsx("button",{type:"button",onClick:()=>d({...c,color:R.id}),className:we("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",R.class.split(" ")[1],c.color===R.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:c.color===R.id&&g.jsx(w3,{size:14,className:"text-current"})},R.id))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:c.description,onChange:R=>d({...c,description:R.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Fondo"})]})}),g.jsx(Wa,{isOpen:f.open,onClose:()=>m({...f,open:!1}),title:f.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:g.jsxs("form",{onSubmit:I,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:i}),g.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:p,onChange:R=>b(R.target.value)})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:f.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:w,onChange:R=>_(R.target.value)})]}),g.jsxs("button",{type:"submit",className:we("w-full py-2 rounded-lg font-medium text-white transition-colors",f.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",f.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},D8=6048e5,r0e=864e5,bD=Symbol.for("constructDateFrom");function dl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&bD in t?t[bD](e):t instanceof Date?new t.constructor(e):new Date(e)}function ma(t,e){return dl(e||t,t)}let i0e={};function ub(){return i0e}function wm(t,e){const n=ub(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ma(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Wy(t,e){return wm(t,{...e,weekStartsOn:1})}function z8(t,e){const n=ma(t,e?.in),r=n.getFullYear(),i=dl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Wy(i),l=dl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Wy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function xD(t){const e=ma(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function a0e(t,...e){const n=dl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function wD(t,e){const n=ma(t,e?.in);return n.setHours(0,0,0,0),n}function s0e(t,e,n){const[r,i]=a0e(n?.in,t,e),s=wD(r),l=wD(i),c=+s-xD(s),d=+l-xD(l);return Math.round((c-d)/r0e)}function o0e(t,e){const n=z8(t,e),r=dl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wy(r)}function l0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function c0e(t){return!(!l0e(t)&&typeof t!="number"||isNaN(+ma(t)))}function u0e(t,e){const n=ma(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const d0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},f0e=(t,e,n)=>{let r;const i=d0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ad(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const h0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g0e={date:ad({formats:h0e,defaultWidth:"full"}),time:ad({formats:m0e,defaultWidth:"full"}),dateTime:ad({formats:p0e,defaultWidth:"full"})},y0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v0e=(t,e,n,r)=>y0e[t];function Va(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const b0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},w0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A0e={ordinalNumber:T0e,era:Va({values:b0e,defaultWidth:"wide"}),quarter:Va({values:x0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Va({values:w0e,defaultWidth:"wide"}),day:Va({values:_0e,defaultWidth:"wide"}),dayPeriod:Va({values:E0e,defaultWidth:"wide",formattingValues:S0e,defaultFormattingWidth:"wide"})};function Ba(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?I0e(c,p=>p.test(l)):k0e(c,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(l.length);return{value:f,rest:m}}}function k0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function I0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function L8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const C0e=/^(\d+)(th|st|nd|rd)?/i,N0e=/\d+/i,O0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P0e={any:[/^b/i,/^(a|c)/i]},R0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j0e={any:[/1/i,/2/i,/3/i,/4/i]},M0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U0e={ordinalNumber:L8({matchPattern:C0e,parsePattern:N0e,valueCallback:t=>parseInt(t,10)}),era:Ba({matchPatterns:O0e,defaultMatchWidth:"wide",parsePatterns:P0e,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:R0e,defaultMatchWidth:"wide",parsePatterns:j0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ba({matchPatterns:M0e,defaultMatchWidth:"wide",parsePatterns:D0e,defaultParseWidth:"any"}),day:Ba({matchPatterns:z0e,defaultMatchWidth:"wide",parsePatterns:L0e,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:V0e,defaultMatchWidth:"any",parsePatterns:B0e,defaultParseWidth:"any"})},F0e={code:"en-US",formatDistance:f0e,formatLong:g0e,formatRelative:v0e,localize:A0e,match:U0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q0e(t,e){const n=ma(t,e?.in);return s0e(n,u0e(n))+1}function $0e(t,e){const n=ma(t,e?.in),r=+Wy(n)-+o0e(n);return Math.round(r/D8)+1}function V8(t,e){const n=ma(t,e?.in),r=n.getFullYear(),i=ub(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=dl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=wm(l,e),d=dl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=wm(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function H0e(t,e){const n=ub(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=V8(t,e),s=dl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),wm(s,e)}function G0e(t,e){const n=ma(t,e?.in),r=+wm(n,e)-+H0e(n,e);return Math.round(r/D8)+1}function _t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Uo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_t(n+1,2)},d(t,e){return _t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _t(t.getHours()%12||12,e.length)},H(t,e){return _t(t.getHours(),e.length)},m(t,e){return _t(t.getMinutes(),e.length)},s(t,e){return _t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return _t(i,e.length)}},qu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_D={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Uo.y(t,e)},Y:function(t,e,n,r){const i=V8(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return _t(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):_t(s,e.length)},R:function(t,e){const n=z8(t);return _t(n,e.length)},u:function(t,e){const n=t.getFullYear();return _t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Uo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=G0e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):_t(i,e.length)},I:function(t,e,n){const r=$0e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Uo.d(t,e)},D:function(t,e,n){const r=q0e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return _t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return _t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return _t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=qu.noon:r===0?i=qu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=qu.evening:r>=12?i=qu.afternoon:r>=4?i=qu.morning:i=qu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Uo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Uo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Uo.s(t,e)},S:function(t,e){return Uo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return SD(r);case"XXXX":case"XX":return tc(r);default:return tc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return SD(r);case"xxxx":case"xx":return tc(r);default:return tc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ED(r,":");default:return"GMT"+tc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ED(r,":");default:return"GMT"+tc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return _t(r,e.length)},T:function(t,e,n){return _t(+t,e.length)}};function ED(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+_t(s,2)}function SD(t,e){return t%60===0?(t>0?"-":"+")+_t(Math.abs(t)/60,2):tc(t,e)}function tc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=_t(Math.trunc(r/60),2),s=_t(r%60,2);return n+i+e+s}const TD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},B8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},K0e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return TD(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",TD(r,e)).replace("{{time}}",B8(i,e))},Y0e={p:B8,P:K0e},W0e=/^D+$/,X0e=/^Y+$/,Q0e=["D","DD","YY","YYYY"];function Z0e(t){return W0e.test(t)}function J0e(t){return X0e.test(t)}function eye(t,e,n){const r=tye(t,e,n);if(console.warn(r),Q0e.includes(t))throw new RangeError(r)}function tye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iye=/^'([^]*?)'?$/,aye=/''/g,sye=/[a-zA-Z]/;function oye(t,e,n){const r=ub(),i=n?.locale??r.locale??F0e,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=ma(t,n?.in);if(!c0e(c))throw new RangeError("Invalid time value");let d=e.match(rye).map(m=>{const p=m[0];if(p==="p"||p==="P"){const b=Y0e[p];return b(m,i.formatLong)}return m}).join("").match(nye).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:lye(m)};if(_D[p])return{isToken:!0,value:m};if(p.match(sye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&J0e(p)||!n?.useAdditionalDayOfYearTokens&&Z0e(p))&&eye(p,e,String(t));const b=_D[p[0]];return b(c,p,i.localize,f)}).join("")}function lye(t){const e=t.match(iye);return e?e[1].replace(aye,"'"):t}const cye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},uye=(t,e,n)=>{let r;const i=cye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},dye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},fye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mye={date:ad({formats:dye,defaultWidth:"full"}),time:ad({formats:fye,defaultWidth:"full"}),dateTime:ad({formats:hye,defaultWidth:"full"})},pye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},gye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yye=(t,e,n,r)=>e.getHours()!==1?gye[t]:pye[t],vye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},bye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},xye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},wye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},_ye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Eye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Sye=(t,e)=>Number(t)+"",Tye={ordinalNumber:Sye,era:Va({values:vye,defaultWidth:"wide"}),quarter:Va({values:bye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Va({values:xye,defaultWidth:"wide"}),day:Va({values:wye,defaultWidth:"wide"}),dayPeriod:Va({values:_ye,defaultWidth:"wide",formattingValues:Eye,defaultFormattingWidth:"wide"})},Aye=/^(\d+)()?/i,kye=/\d+/i,Iye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Cye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Nye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Oye={any:[/1/i,/2/i,/3/i,/4/i]},Pye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Rye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},jye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Mye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Dye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},zye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Lye={ordinalNumber:L8({matchPattern:Aye,parsePattern:kye,valueCallback:function(t){return parseInt(t,10)}}),era:Ba({matchPatterns:Iye,defaultMatchWidth:"wide",parsePatterns:Cye,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:Nye,defaultMatchWidth:"wide",parsePatterns:Oye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ba({matchPatterns:Pye,defaultMatchWidth:"wide",parsePatterns:Rye,defaultParseWidth:"any"}),day:Ba({matchPatterns:jye,defaultMatchWidth:"wide",parsePatterns:Mye,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:Dye,defaultMatchWidth:"any",parsePatterns:zye,defaultParseWidth:"any"})},Vye={code:"es",formatDistance:uye,formatLong:mye,formatRelative:yye,localize:Tye,match:Lye,options:{weekStartsOn:1,firstWeekContainsDate:1}},Bye=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i}=gT(),{currency:s}=vr(),{addTransaction:l}=Ar(),{currentBalance:c}=Um(),[d,f]=T.useState(!1),[m,p]=T.useState({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),[b,w]=T.useState({open:!1,creditId:""}),[_,E]=T.useState(""),S=O=>{O.preventDefault();const D=Number(m.principal),R=Number(m.interestRate),V=Number(m.term);!m.name||D<=0||V<=0||(e({name:m.name,principal:D,interestRate:R,term:V,startDate:m.startDate,status:"active"}),f(!1),p({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),Jt.success("Crdito creado exitosamente"))},I=O=>{O.preventDefault();const D=Number(_);if(D<=0)return;if(D>c){Jt.error(`Saldo insuficiente. Tu saldo disponible es ${s}${c.toLocaleString()}`,{description:"Reduce tus gastos o libera fondos de ahorro."});return}r(b.creditId,D);const R=t.find(V=>V.id===b.creditId);l({amount:D,type:"expense",category:"Deudas",description:`Pago Crdito: ${R?.name||"Desconocido"}`,date:new Date().toISOString().split("T")[0]}),w({open:!1,creditId:""}),E(""),Jt.success("Pago registrado correctamente y descontado del saldo")},j=(O,D,R)=>{if(D===0)return O/R;const V=D/100/12;return O*V*Math.pow(1+V,R)/(Math.pow(1+V,R)-1)};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Crditos y Deudas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestiona tus prstamos y planifica tus pagos"})]}),g.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(Ka,{size:18}),g.jsx("span",{children:"Nuevo Crdito"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(im,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Crditos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Registra un prstamo personal, hipoteca o tarjeta de crdito para llevar el control de tus pagos."})]}):t.map(O=>{const D=i(O),R=D.totalPaid/D.totalToPay*100,V=j(O.principal,O.interestRate,O.term),P=new Date(O.startDate);return P.setMonth(P.getMonth()+(O.payments?.length||0)+1),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:g.jsx(im,{size:24})}),g.jsxs("div",{className:"flex gap-2",children:[O.status==="paid"&&g.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded-full flex items-center gap-1",children:[g.jsx(PO,{size:12})," PAGADO"]}),g.jsx("button",{onClick:()=>n(O.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Ya,{size:18})})]})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:O.name}),g.jsxs("div",{className:"flex gap-4 text-sm text-zinc-500 mb-6",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(E3,{size:14})," ",s,O.principal.toLocaleString()]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(DQ,{size:14})," ",O.interestRate,"% Anual"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(x3,{size:14})," ",O.term," Meses"]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-zinc-500",children:"Deuda Restante"}),g.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[s,D.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsx("div",{className:"relative h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(R,100)}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[g.jsxs("span",{children:["Pagado: ",s,D.totalPaid.toLocaleString()]}),g.jsxs("span",{children:["Total: ",s,D.totalToPay.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),O.status==="active"&&g.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Cuota Mensual"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[s,V.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Prx. Pago"}),g.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:oye(P,"dd MMM yyyy",{locale:Vye})})]})]}),g.jsxs("button",{onClick:()=>{w({open:!0,creditId:O.id}),E(V.toFixed(2))},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[g.jsx(PO,{size:16})," Registrar Pago"]})]})]},O.id)})}),g.jsx(Wa,{isOpen:d,onClose:()=>f(!1),title:"Registrar Nuevo Crdito",children:g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Nombre del Crdito"}),g.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Auto, Hipoteca",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.name,onChange:O=>p({...m,name:O.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto Prestado (",s,")"]}),g.jsx("input",{required:!0,type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.principal,onChange:O=>p({...m,principal:O.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Tasa Inters Anual (%)"}),g.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.interestRate,onChange:O=>p({...m,interestRate:O.target.value})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Plazo (Meses)"}),g.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12, 24, 36",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.term,onChange:O=>p({...m,term:O.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Fecha Inicio"}),g.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.startDate,onChange:O=>p({...m,startDate:O.target.value})})]})]}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg mt-4",children:[g.jsx("p",{className:"text-xs text-rose-600 dark:text-rose-400 font-bold uppercase mb-1",children:"Resumen"}),g.jsxs("div",{className:"flex justify-between text-sm text-rose-800 dark:text-rose-200",children:[g.jsx("span",{children:"Cuota Estimada:"}),g.jsx("span",{className:"font-bold",children:m.principal&&m.term?`${s}${j(Number(m.principal),Number(m.interestRate),Number(m.term)).toLocaleString(void 0,{maximumFractionDigits:2})} / mes`:"-"})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Crear Crdito"})]})}),g.jsx(Wa,{isOpen:b.open,onClose:()=>w({open:!1,creditId:""}),title:"Registrar Pago",children:g.jsxs("form",{onSubmit:I,className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-500",children:"Registrar un pago reducir tu deuda restante. Asegrate de incluir intereses si aplica."}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",s,")"]}),g.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-emerald-500 dark:text-white",value:_,onChange:O=>E(O.target.value)})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Confirmar Pago"})]})})]})},Uye=()=>{const{transactions:t}=Ar(),{credits:e}=gT(),{funds:n}=Xd(),{goals:r,getMonthlyQuota:i}=Bm(),{scheduled:s}=Vm(),{currency:l}=vr(),c=new Date,{availableBalance:d}=Um(),f=n.reduce((J,fe)=>J+fe.currentAmount,0),m=t.filter(J=>{const fe=new Date(J.date+"T12:00:00");return fe.getMonth()===c.getMonth()&&fe.getFullYear()===c.getFullYear()}),p=m.filter(J=>J.type==="income").reduce((J,fe)=>J+fe.amount,0),b=m.filter(J=>J.type==="expense").reduce((J,fe)=>J+fe.amount,0),w=T.useMemo(()=>{const J={};return m.filter(fe=>fe.type==="expense").forEach(fe=>{J[fe.category]=(J[fe.category]||0)+fe.amount}),J},[m]),[_,E]=T.useState([]),[S,I]=T.useState(""),[j,O]=T.useState(""),[D,R]=T.useState("expense"),[V,P]=T.useState({}),[C,z]=T.useState(new Set),[F,L]=T.useState(new Set),[q,U]=T.useState({}),[be,Ie]=T.useState(!0),[Y,re]=T.useState(!1),[G,ye]=T.useState(!0),Ae=()=>{if(!S||!j)return;const J=Number(j);if(isNaN(J)||J<=0)return;const fe={id:Math.random().toString(36).substr(2,9),description:S,amount:J,type:D};E([..._,fe]),I(""),O("")},$=J=>{E(_.filter(fe=>fe.id!==J))},te=(()=>{let J=0;be?(J=d,Y&&(J+=f)):J=0;const fe=_.filter(Fe=>Fe.type==="income").reduce((Fe,ce)=>Fe+ce.amount,0);let Ce=0;G&&s.filter(Fe=>Fe.type==="income"&&Fe.active).forEach(Fe=>{const ce=Fe.lastProcessedDate?new Date(Fe.lastProcessedDate+"T12:00:00"):null;ce&&ce.getMonth()===c.getMonth()&&ce.getFullYear()===c.getFullYear()||(Ce+=Fe.amount)});let se=0,Re=0;G&&s.filter(Fe=>Fe.type==="expense"&&Fe.active).forEach(Fe=>{const ce=Fe.lastProcessedDate?new Date(Fe.lastProcessedDate+"T12:00:00"):null;ce&&ce.getMonth()===c.getMonth()&&ce.getFullYear()===c.getFullYear()||(Re+=Fe.amount)});const Ue=[];Object.keys(w).forEach(Fe=>{const ce=w[Fe],Qe=V[Fe]?Number(V[Fe]):ce,Mn=Math.max(ce,Qe);se+=Mn,Ue.push({category:Fe,real:ce,projected:Qe,diff:Mn-ce})});const me=_.filter(Fe=>Fe.type==="expense").reduce((Fe,ce)=>Fe+ce.amount,0);let gt=0;e.filter(Fe=>Fe.status==="active"&&C.has(Fe.id)).forEach(Fe=>{const ce=Fe.principal*(1+Fe.interestRate/100)/Fe.term;gt+=ce});let Ke=0;r.filter(Fe=>F.has(Fe.id)).forEach(Fe=>{const ce=i(Fe);Ke+=ce});let kt=0;Object.values(q).forEach(Fe=>{kt+=Number(Fe)||0});const vt=se-b,qt=be?J+fe+Ce-vt-Re-me-gt-Ke-kt:p+fe+Ce-(b+vt+Re+me+gt+Ke+kt);return{baseBalance:J,incomeMonthReal:p,simulatedIncomeTotal:fe,scheduledIncome:Ce,expenseMonthReal:b,totalProjectedExpenses:se,simulatedExpenseTotal:me,scheduledExpenses:Re,totalCreditSimulated:gt,totalGoalSimulated:Ke,totalFundSimulated:kt,finalBalance:qt,categoryComparisons:Ue}})(),de=J=>{const fe=new Set(C);fe.has(J)?fe.delete(J):fe.add(J),z(fe)},xe=J=>{const fe=new Set(F);fe.has(J)?fe.delete(J):fe.add(J),L(fe)};return g.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[g.jsx(fT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),g.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula ingresos y gastos del futuro. Agrega el pan de maana o la combi de pasado."})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[g.jsxs("button",{onClick:()=>Ie(!be),className:we("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",be?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[be?g.jsx(R1,{size:18}):g.jsx(P1,{size:18}),be?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),g.jsxs("button",{onClick:()=>{be||Ie(!0),re(!Y)},className:we("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",Y?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[Y?g.jsx(R1,{size:18}):g.jsx(P1,{size:18}),"Incluir Ahorros (Fondos)"]}),g.jsxs("button",{onClick:()=>ye(!G),className:we("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",G?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[G?g.jsx(R1,{size:18}):g.jsx(P1,{size:18}),"Auto-sumar Programados"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:be?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),g.jsx("div",{className:"flex items-end gap-2",children:g.jsxs("p",{className:we("text-4xl font-black",te.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,te.baseBalance.toFixed(2)]})})]}),g.jsxs("div",{className:we("p-6 rounded-3xl shadow-xl border transition-colors",te.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[g.jsx("h2",{className:we("text-sm font-bold uppercase tracking-wider mb-2",te.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),g.jsxs("p",{className:we("text-4xl font-black",te.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,te.finalBalance.toFixed(2)]}),g.jsx("p",{className:"text-xs mt-2 opacity-80",children:te.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(rZ,{size:20,className:"text-purple-500"})," Simulador de Diario"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Qu quieres simular?"}),g.jsx("input",{type:"text",placeholder:"Ej. Pan, Combi, Cachuelo...",className:"w-full bg-zinc-50 dark:bg-zinc-950 px-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:S,onChange:J=>I(J.target.value),onKeyDown:J=>J.key==="Enter"&&Ae()})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 pl-8 pr-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:j,onChange:J=>O(J.target.value),onKeyDown:J=>J.key==="Enter"&&Ae()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Tipo"}),g.jsxs("div",{className:"flex bg-zinc-50 dark:bg-zinc-950 rounded-xl p-1",children:[g.jsx("button",{onClick:()=>R("expense"),className:we("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",D==="expense"?"bg-rose-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Gasto"}),g.jsx("button",{onClick:()=>R("income"),className:we("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",D==="income"?"bg-emerald-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Ingreso"})]})]})]}),g.jsxs("button",{onClick:Ae,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[g.jsx(Ka,{size:18})," Agregar"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[_.length===0?g.jsx("div",{className:"p-8 text-center text-zinc-400 text-sm italic",children:"No has agregado simulaciones an."}):g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800 max-h-60 overflow-y-auto",children:_.map(J=>g.jsxs("div",{className:"p-3 flex items-center justify-between group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:we("w-8 h-8 rounded-full flex items-center justify-center",J.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20":"bg-rose-100 text-rose-600 dark:bg-rose-900/20"),children:J.type==="income"?g.jsx(A3,{size:14}):g.jsx(tE,{size:14})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-300",children:J.description}),g.jsx("p",{className:"text-xs text-zinc-400 capitalize",children:J.type==="income"?"Ingreso":"Gasto"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:we("font-mono font-bold text-sm",J.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[J.type==="income"?"+":"-",l,J.amount.toLocaleString()]}),g.jsx("button",{onClick:()=>$(J.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Ya,{size:16})})]})]},J.id))}),_.length>0&&g.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 flex justify-between items-center text-xs font-bold uppercase text-zinc-500",children:[g.jsx("span",{children:"Total Simulado"}),g.jsxs("span",{className:we(te.simulatedIncomeTotal-te.simulatedExpenseTotal>=0?"text-emerald-500":"text-rose-500"),children:[l,(te.simulatedIncomeTotal-te.simulatedExpenseTotal).toFixed(2)]})]})]}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[g.jsx(zm,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map(J=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:J.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold",children:J.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,J.currentAmount]})]}),g.jsxs("div",{className:"w-24 relative",children:[g.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:q[J.id]||"",onChange:fe=>U({...q,[J.id]:fe.target.value})})]})]},J.id)),n.length===0&&g.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(tE,{size:20,className:"text-rose-500"})," Presupuesto y Categoras"]}),G&&te.scheduledExpenses>0&&g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),g.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,te.scheduledExpenses]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[g.jsx("div",{className:"col-span-4",children:"Categora"}),g.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),g.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),g.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:te.categoryComparisons.map(J=>g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:J.category,children:J.category}),g.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,J.real]}),g.jsx("div",{className:"col-span-3 relative",children:g.jsx("input",{type:"number",className:we("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(V[J.category])||0)<J.real&&V[J.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:J.real.toString(),value:V[J.category]||"",onChange:fe=>P({...V,[J.category]:fe.target.value})})}),g.jsxs("div",{className:we("col-span-2 text-right text-xs font-bold",J.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,J.diff)]})]},J.category))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(im,{size:14})," Simular Crditos"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter(J=>J.status==="active").map(J=>{const fe=J.principal*(1+J.interestRate/100)/J.term,Ce=C.has(J.id);return g.jsxs("button",{onClick:()=>de(J.id),className:we("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:we("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-rose-600 bg-rose-600":"border-zinc-400"),children:Ce&&g.jsx(AD,{size:10,className:"text-white"})}),J.name," (",l,fe.toFixed(0),")"]},J.id)}),e.filter(J=>J.status==="active").length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(gc,{size:14})," Simular Metas"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map(J=>{const fe=i(J),Ce=F.has(J.id);return g.jsxs("button",{onClick:()=>xe(J.id),className:we("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ce?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:we("w-4 h-4 rounded-full border flex items-center justify-center",Ce?"border-purple-600 bg-purple-600":"border-zinc-400"),children:Ce&&g.jsx(AD,{size:10,className:"text-white"})}),J.name," (",l,fe.toFixed(0),")"]},J.id)}),r.length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),g.jsx("div",{className:"flex justify-end pt-8",children:g.jsxs("button",{onClick:()=>{E([]),P({}),z(new Set),L(new Set),U({}),Jt.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[g.jsx(hT,{size:20}),"Reiniciar Simulacin"]})})]})},AD=({size:t,className:e})=>g.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}),Fye=()=>{const{signInWithGoogle:t,user:e}=Dm(),n=iS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):g.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-8",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-8 h-8 text-emerald-500",children:g.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),g.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Vaultly"}),g.jsx("p",{className:"text-zinc-400 text-sm",children:"Tu terminal financiera personal"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("button",{onClick:r,className:"w-full bg-white hover:bg-zinc-200 text-zinc-900 font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-3 transition-colors",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Al continuar, accedes a tu espacio seguro en el dispositivo. No almacenamos datos en la nube (an)."})]})]})})},qye=()=>{const{user:t,loading:e}=Dm(),{isLoading:n}=Di();return e||n?g.jsxs("div",{className:"h-screen bg-zinc-950 flex flex-col items-center justify-center gap-4 text-emerald-500",children:[g.jsx(SQ,{className:"animate-spin w-10 h-10"}),g.jsx("span",{className:"font-mono text-sm tracking-wider animate-pulse",children:e?"AUTENTICANDO...":"CARGANDO DATOS..."})]}):t?g.jsx(HD,{}):g.jsx($D,{to:"/login",replace:!0})};function $ye(){return g.jsx(PW,{children:g.jsx(aX,{children:g.jsx(sF,{children:g.jsxs(X7,{children:[g.jsxs(A7,{children:[g.jsx(ti,{path:"/login",element:g.jsx(Fye,{})}),g.jsx(ti,{element:g.jsx(qye,{}),children:g.jsxs(ti,{path:"/",element:g.jsx(OJ,{}),children:[g.jsx(ti,{index:!0,element:g.jsx(MJ,{})}),g.jsx(ti,{path:"expenses",element:g.jsx(Qge,{})}),g.jsx(ti,{path:"income",element:g.jsx(Zge,{})}),g.jsx(ti,{path:"goals",element:g.jsx(Jge,{})}),g.jsx(ti,{path:"funds",element:g.jsx(n0e,{})}),g.jsx(ti,{path:"credits",element:g.jsx(Bye,{})}),g.jsx(ti,{path:"projections",element:g.jsx(Uye,{})}),g.jsx(ti,{path:"projects",element:g.jsx(t0e,{})}),g.jsx(ti,{path:"*",element:g.jsx($D,{to:"/",replace:!0})})]})})]}),g.jsx(p3,{richColors:!0,position:"top-center"})]})})})})}kU.createRoot(document.getElementById("root")).render(g.jsx(T.StrictMode,{children:g.jsx(CD,{children:g.jsx($ye,{})})}));
