function _U(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ss(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s1={exports:{}},ah={};var xI;function EU(){if(xI)return ah;xI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return ah.Fragment=e,ah.jsx=n,ah.jsxs=n,ah}var wI;function SU(){return wI||(wI=1,s1.exports=EU()),s1.exports}var g=SU(),o1={exports:{}},Xe={};var _I;function TU(){if(_I)return Xe;_I=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function k($,ie,re){this.props=$,this.context=ie,this.refs=E,this.updater=re||_}k.prototype.isReactComponent={},k.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=k.prototype;function O($,ie,re){this.props=$,this.context=ie,this.refs=E,this.updater=re||_}var V=O.prototype=new j;V.constructor=O,S(V,k.prototype),V.isPureReactComponent=!0;var R=Array.isArray;function F(){}var P={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function M($,ie,re){var ce=re.ref;return{$$typeof:t,type:$,key:ie,ref:ce!==void 0?ce:null,props:re}}function L($,ie){return M($.type,ie,$.props)}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function q($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(re){return ie[re]})}var U=/\/+/g;function ve($,ie){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):ie.toString(36)}function Ce($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(F,F):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Y($,ie,re,ce,be){var Se=typeof $;(Se==="undefined"||Se==="boolean")&&($=null);var Te=!1;if($===null)Te=!0;else switch(Se){case"bigint":case"string":case"number":Te=!0;break;case"object":switch($.$$typeof){case t:case e:Te=!0;break;case p:return Te=$._init,Y(Te($._payload),ie,re,ce,be)}}if(Te)return be=be($),Te=ce===""?"."+ve($,0):ce,R(be)?(re="",Te!=null&&(re=Te.replace(U,"$&/")+"/"),Y(be,ie,re,"",function(ye){return ye})):be!=null&&(z(be)&&(be=L(be,re+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Te)),ie.push(be)),1;Te=0;var Ve=ce===""?".":ce+":";if(R($))for(var G=0;G<$.length;G++)ce=$[G],Se=Ve+ve(ce,G),Te+=Y(ce,ie,re,Se,be);else if(G=x($),typeof G=="function")for($=G.call($),G=0;!(ce=$.next()).done;)ce=ce.value,Se=Ve+ve(ce,G++),Te+=Y(ce,ie,re,Se,be);else if(Se==="object"){if(typeof $.then=="function")return Y(Ce($),ie,re,ce,be);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ne($,ie,re){if($==null)return $;var ce=[],be=0;return Y($,ce,"","",function(Se){return ie.call(re,Se,be++)}),ce}function W($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(re){($._status===0||$._status===-1)&&($._status=1,$._result=re)},function(re){($._status===0||$._status===-1)&&($._status=2,$._result=re)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ke={map:ne,forEach:function($,ie,re){ne($,function(){ie.apply(this,arguments)},re)},count:function($){var ie=0;return ne($,function(){ie++}),ie},toArray:function($){return ne($,function(ie){return ie})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Xe.Activity=m,Xe.Children=ke,Xe.Component=k,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},Xe.cache=function($){return function(){return $.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function($,ie,re){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ce=S({},$.props),be=$.key;if(ie!=null)for(Se in ie.key!==void 0&&(be=""+ie.key),ie)!C.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(ce[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)ce.children=re;else if(1<Se){for(var Te=Array(Se),Ve=0;Ve<Se;Ve++)Te[Ve]=arguments[Ve+2];ce.children=Te}return M($.type,be,ce)},Xe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Xe.createElement=function($,ie,re){var ce,be={},Se=null;if(ie!=null)for(ce in ie.key!==void 0&&(Se=""+ie.key),ie)C.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ie[ce]);var Te=arguments.length-2;if(Te===1)be.children=re;else if(1<Te){for(var Ve=Array(Te),G=0;G<Te;G++)Ve[G]=arguments[G+2];be.children=Ve}if($&&$.defaultProps)for(ce in Te=$.defaultProps,Te)be[ce]===void 0&&(be[ce]=Te[ce]);return M($,Se,be)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:c,render:$}},Xe.isValidElement=z,Xe.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:W}},Xe.memo=function($,ie){return{$$typeof:f,type:$,compare:ie===void 0?null:ie}},Xe.startTransition=function($){var ie=P.T,re={};P.T=re;try{var ce=$(),be=P.S;be!==null&&be(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(F,pe)}catch(Se){pe(Se)}finally{ie!==null&&re.types!==null&&(ie.types=re.types),P.T=ie}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function($){return P.H.use($)},Xe.useActionState=function($,ie,re){return P.H.useActionState($,ie,re)},Xe.useCallback=function($,ie){return P.H.useCallback($,ie)},Xe.useContext=function($){return P.H.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($,ie){return P.H.useDeferredValue($,ie)},Xe.useEffect=function($,ie){return P.H.useEffect($,ie)},Xe.useEffectEvent=function($){return P.H.useEffectEvent($)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function($,ie,re){return P.H.useImperativeHandle($,ie,re)},Xe.useInsertionEffect=function($,ie){return P.H.useInsertionEffect($,ie)},Xe.useLayoutEffect=function($,ie){return P.H.useLayoutEffect($,ie)},Xe.useMemo=function($,ie){return P.H.useMemo($,ie)},Xe.useOptimistic=function($,ie){return P.H.useOptimistic($,ie)},Xe.useReducer=function($,ie,re){return P.H.useReducer($,ie,re)},Xe.useRef=function($){return P.H.useRef($)},Xe.useState=function($){return P.H.useState($)},Xe.useSyncExternalStore=function($,ie,re){return P.H.useSyncExternalStore($,ie,re)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.3",Xe}var EI;function Dd(){return EI||(EI=1,o1.exports=TU()),o1.exports}var T=Dd();const _e=ss(T),AU=_U({__proto__:null,default:_e},[T]);var l1={exports:{}},sh={},c1={exports:{}},u1={};var SI;function kU(){return SI||(SI=1,(function(t){function e(Y,ne){var W=Y.length;Y.push(ne);e:for(;0<W;){var pe=W-1>>>1,ke=Y[pe];if(0<i(ke,ne))Y[pe]=ne,Y[W]=ke,W=pe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],W=Y.pop();if(W!==ne){Y[0]=W;e:for(var pe=0,ke=Y.length,$=ke>>>1;pe<$;){var ie=2*(pe+1)-1,re=Y[ie],ce=ie+1,be=Y[ce];if(0>i(re,W))ce<ke&&0>i(be,re)?(Y[pe]=be,Y[ce]=W,pe=ce):(Y[pe]=re,Y[ie]=W,pe=ie);else if(ce<ke&&0>i(be,W))Y[pe]=be,Y[ce]=W,pe=ce;else break e}}return ne}function i(Y,ne){var W=Y.sortIndex-ne.sortIndex;return W!==0?W:Y.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,b=3,x=!1,_=!1,S=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=Y)r(f),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(f)}}function R(Y){if(S=!1,V(Y),!_)if(n(d)!==null)_=!0,F||(F=!0,q());else{var ne=n(f);ne!==null&&Ce(R,ne.startTime-Y)}}var F=!1,P=-1,C=5,M=-1;function L(){return E?!0:!(t.unstable_now()-M<C)}function z(){if(E=!1,F){var Y=t.unstable_now();M=Y;var ne=!0;try{e:{_=!1,S&&(S=!1,j(P),P=-1),x=!0;var W=b;try{t:{for(V(Y),m=n(d);m!==null&&!(m.expirationTime>Y&&L());){var pe=m.callback;if(typeof pe=="function"){m.callback=null,b=m.priorityLevel;var ke=pe(m.expirationTime<=Y);if(Y=t.unstable_now(),typeof ke=="function"){m.callback=ke,V(Y),ne=!0;break t}m===n(d)&&r(d),V(Y)}else r(d);m=n(d)}if(m!==null)ne=!0;else{var $=n(f);$!==null&&Ce(R,$.startTime-Y),ne=!1}}break e}finally{m=null,b=W,x=!1}ne=void 0}}finally{ne?q():F=!1}}}var q;if(typeof O=="function")q=function(){O(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ve=U.port2;U.port1.onmessage=z,q=function(){ve.postMessage(null)}}else q=function(){k(z,0)};function Ce(Y,ne){P=k(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var W=b;b=ne;try{return Y()}finally{b=W}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=b;b=Y;try{return ne()}finally{b=W}},t.unstable_scheduleCallback=function(Y,ne,W){var pe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=W+ke,Y={id:p++,callback:ne,priorityLevel:Y,startTime:W,expirationTime:ke,sortIndex:-1},W>pe?(Y.sortIndex=W,e(f,Y),n(d)===null&&Y===n(f)&&(S?(j(P),P=-1):S=!0,Ce(R,W-pe))):(Y.sortIndex=ke,e(d,Y),_||x||(_=!0,F||(F=!0,q()))),Y},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Y){var ne=b;return function(){var W=b;b=ne;try{return Y.apply(this,arguments)}finally{b=W}}}})(u1)),u1}var TI;function CU(){return TI||(TI=1,c1.exports=kU()),c1.exports}var d1={exports:{}},pr={};var AI;function IU(){if(AI)return pr;AI=1;var t=Dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},pr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},pr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},pr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},pr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},pr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},pr.requestFormReset=function(d){r.d.r(d)},pr.unstable_batchedUpdates=function(d,f){return d(f)},pr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},pr.useFormStatus=function(){return l.H.useHostTransitionStatus()},pr.version="19.2.3",pr}var kI;function Rz(){if(kI)return d1.exports;kI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d1.exports=IU(),d1.exports}var CI;function NU(){if(CI)return sh;CI=1;var t=CU(),e=Dd(),n=Rz();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return d(v),a;if(w===h)return d(v),o;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=w;else{for(var I=!1,D=v.child;D;){if(D===u){I=!0,u=v,h=w;break}if(D===h){I=!0,h=v,u=w;break}D=D.sibling}if(!I){for(D=w.child;D;){if(D===u){I=!0,u=w,h=v;break}if(D===h){I=!0,h=w,u=v;break}D=D.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function ve(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case k:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case F:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case O:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:ve(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return ve(a(o))}catch{}}return null}var Ce=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},pe=[],ke=-1;function $(a){return{current:a}}function ie(a){0>ke||(a.current=pe[ke],pe[ke]=null,ke--)}function re(a,o){ke++,pe[ke]=a.current,a.current=o}var ce=$(null),be=$(null),Se=$(null),Te=$(null);function Ve(a,o){switch(re(Se,o),re(be,a),re(ce,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?qC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=qC(o),a=$C(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(ce),re(ce,a)}function G(){ie(ce),ie(be),ie(Se)}function ye(a){a.memoizedState!==null&&re(Te,a);var o=ce.current,u=$C(o,a.type);o!==u&&(re(be,a),re(ce,u))}function Ne(a){be.current===a&&(ie(ce),ie(be)),Te.current===a&&(ie(Te),th._currentValue=W)}var de,bt;function Ke(a){if(de===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);de=o&&o[1]||"",bt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+bt}var Dt=!1;function gt(a,o){if(!a||Dt)return"";Dt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var te=se}Reflect.construct(a,[],he)}else{try{he.call()}catch(se){te=se}a.call(he.prototype)}}else{try{throw Error()}catch(se){te=se}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),I=w[0],D=w[1];if(I&&D){var H=I.split(`
`),ee=D.split(`
`);for(v=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(h===H.length||v===ee.length)for(h=H.length-1,v=ee.length-1;1<=h&&0<=v&&H[h]!==ee[v];)v--;for(;1<=h&&0<=v;h--,v--)if(H[h]!==ee[v]){if(h!==1||v!==1)do if(h--,v--,0>v||H[h]!==ee[v]){var le=`
`+H[h].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=h&&0<=v);break}}}finally{Dt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ke(u):""}function Bt(a,o){switch(a.tag){case 26:case 27:case 5:return Ke(a.type);case 16:return Ke("Lazy");case 13:return a.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return gt(a.type,!1);case 11:return gt(a.type.render,!1);case 1:return gt(a.type,!0);case 31:return Ke("Activity");default:return""}}function Vn(a){try{var o="",u=null;do o+=Bt(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var lt=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,et=t.unstable_shouldYield,Cn=t.unstable_requestPaint,fe=t.unstable_now,ft=t.unstable_getCurrentPriorityLevel,Bn=t.unstable_ImmediatePriority,ba=t.unstable_UserBlockingPriority,_r=t.unstable_NormalPriority,Gi=t.unstable_LowPriority,Ki=t.unstable_IdlePriority,El=t.log,Yi=t.unstable_setDisableYieldValue,Kr=null,In=null;function Er(a){if(typeof El=="function"&&Yi(a),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(Kr,a)}catch{}}var Yt=Math.clz32?Math.clz32:Yr,Kc=Math.log,xa=Math.LN2;function Yr(a){return a>>>=0,a===0?32:31-(Kc(a)/xa|0)|0}var wi=256,os=262144,tn=4194304;function Wr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function $e(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,w=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~w,h!==0?v=Wr(h):(I&=D,I!==0?v=Wr(I):u||(u=D&~a,u!==0&&(v=Wr(u))))):(D=h&~w,D!==0?v=Wr(D):I!==0?v=Wr(I):u||(u=h&~a,u!==0&&(v=Wr(u)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:v}function xt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function gn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var a=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),a}function Sr(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function $t(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function mr(a,o,u,h,v,w){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(u=I&~u;0<u;){var le=31-Yt(u),he=1<<le;D[le]=0,H[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var se=te[le];se!==null&&(se.lane&=-536870913)}u&=~he}h!==0&&_i(a,h,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(I&~o))}function _i(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Yt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Jn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Yt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function er(a,o){var u=o&-o;return u=(u&42)!==0?1:wa(u),(u&(a.suspendedLanes|o))!==0?0:u}function wa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function tr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function of(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:hI(a.type))}function Wi(a,o){var u=ne.p;try{return ne.p=a,o()}finally{ne.p=u}}var Xi=Math.random().toString(36).slice(2),yn="__reactFiber$"+Xi,Fn="__reactProps$"+Xi,_a="__reactContainer$"+Xi,Yc="__reactEvents$"+Xi,fb="__reactListeners$"+Xi,lp="__reactHandles$"+Xi,cp="__reactResources$"+Xi,Ea="__reactMarker$"+Xi;function Wc(a){delete a[yn],delete a[Fn],delete a[Yc],delete a[fb],delete a[lp]}function Sa(a){var o=a[yn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[_a]||u[yn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=QC(a);a!==null;){if(u=a[yn])return u;a=QC(a)}return o}a=u,u=a.parentNode}return null}function Ei(a){if(a=a[yn]||a[_a]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Xr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ta(a){var o=a[cp];return o||(o=a[cp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function vn(a){a[Ea]=!0}var lf=new Set,cf={};function Aa(a,o){ka(a,o),ka(a+"Capture",o)}function ka(a,o){for(cf[a]=o,a=0;a<o.length;a++)lf.add(o[a])}var uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},ff={};function up(a){return lt.call(ff,a)?!0:lt.call(df,a)?!1:uf.test(a)?ff[a]=!0:(df[a]=!0,!1)}function Xc(a,o,u){if(up(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Qr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function bn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function oo(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function hf(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,w.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function wt(a){if(!a._valueTracker){var o=oo(a)?"checked":"value";a._valueTracker=hf(a,o,""+a[o])}}function Sl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=oo(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Ca(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Tl=/[\n"\\]/g;function Rr(a){return a.replace(Tl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qc(a,o,u,h,v,w,I,D){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+qn(o)):a.value!==""+qn(o)&&(a.value=""+qn(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?mf(a,I,qn(o)):u!=null?mf(a,I,qn(u)):h!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+qn(D):a.removeAttribute("name")}function dp(a,o,u,h,v,w,I,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){wt(a);return}u=u!=null?""+qn(u):"",o=o!=null?""+qn(o):u,D||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),wt(a)}function mf(a,o,u){o==="number"&&Ca(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function lo(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+qn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function fp(a,o,u){if(o!=null&&(o=""+qn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+qn(u):""}function co(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ce(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=qn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),wt(a)}function jr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||hp.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function gf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&pf(a,v,h)}else for(var w in o)o.hasOwnProperty(w)&&pf(a,w,o[w])}function Zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(a){return uo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var yf=null;function Si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fo=null,Ia=null;function Al(a){var o=Ei(a);if(o&&(a=o.stateNode)){var u=a[Fn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Qc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Fn]||null;if(!v)throw Error(r(90));Qc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Sl(h)}break e;case"textarea":fp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&lo(a,!!u.multiple,o,!1)}}}var eu=!1;function ho(a,o,u){if(eu)return a(o,u);eu=!0;try{var h=a(o);return h}finally{if(eu=!1,(fo!==null||Ia!==null)&&(og(),fo&&(o=fo,a=Ia,Ia=fo=null,Al(o),a)))for(o=0;o<a.length;o++)Al(a[o])}}function Zi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Fn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(Ti)try{var It={};Object.defineProperty(It,"passive",{get:function(){kl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{kl=!1}var Na=null,vf=null,Cl=null;function bf(){if(Cl)return Cl;var a,o=vf,u=o.length,h,v="value"in Na?Na.value:Na.textContent,w=v.length;for(a=0;a<u&&o[a]===v[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===v[w-h];h++);return Cl=v.slice(a,1<h?1-h:void 0)}function Il(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ls(){return!0}function Ji(){return!1}function nr(a){function o(u,h,v,w,I){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ls:Ji,this.isPropagationStopped=Ji,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=nr(cs),mo=m({},cs,{view:0,detail:0}),xf=nr(mo),po,tu,Pa,nu=m({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pa&&(Pa&&a.type==="mousemove"?(po=a.screenX-Pa.screenX,tu=a.screenY-Pa.screenY):tu=po=0,Pa=a),po)},movementY:function(a){return"movementY"in a?a.movementY:tu}}),wf=nr(nu),Nl=m({},nu,{dataTransfer:0}),pp=nr(Nl),gp=m({},mo,{relatedTarget:0}),Ol=nr(gp),_f=m({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),yp=nr(_f),ru=m({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vp=nr(ru),bp=m({},cs,{data:0}),Ra=nr(bp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=_p[a])?!!o[a]:!1}function go(){return Ep}var Tr=m({},mo,{key:function(a){if(a.key){var o=xp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Il(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(a){return a.type==="keypress"?Il(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Il(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Sp=nr(Tr),Tp=m({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=nr(Tp),y=m({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),A=nr(y),N=m({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=nr(N),Z=m({},nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=nr(Z),we=m({},cs,{newState:0,oldState:0}),Qe=nr(we),cn=[9,13,27,32],yt=Ti&&"CompositionEvent"in window,Wt=null;Ti&&"documentMode"in document&&(Wt=document.documentMode);var Ai=Ti&&"TextEvent"in window&&!Wt,ja=Ti&&(!yt||Wt&&8<Wt&&11>=Wt),ea=" ",ta=!1;function Pl(a,o){switch(a){case"keyup":return cn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var au=!1;function G8(a,o){switch(a){case"compositionend":return iu(o);case"keypress":return o.which!==32?null:(ta=!0,ea);case"textInput":return a=o.data,a===ea&&ta?null:a;default:return null}}function K8(a,o){if(au)return a==="compositionend"||!yt&&Pl(a,o)?(a=bf(),Cl=vf=Na=null,au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ja&&o.locale!=="ko"?null:o.data;default:return null}}var Y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Y8[a.type]:o==="textarea"}function tA(a,o,u,h){fo?Ia?Ia.push(h):Ia=[h]:fo=h,o=mg(o,"onChange"),0<o.length&&(u=new Oa("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Ef=null,Sf=null;function W8(a){DC(a,0)}function Ap(a){var o=Xr(a);if(Sl(o))return a}function nA(a,o){if(a==="change")return o}var rA=!1;if(Ti){var hb;if(Ti){var mb="oninput"in document;if(!mb){var iA=document.createElement("div");iA.setAttribute("oninput","return;"),mb=typeof iA.oninput=="function"}hb=mb}else hb=!1;rA=hb&&(!document.documentMode||9<document.documentMode)}function aA(){Ef&&(Ef.detachEvent("onpropertychange",sA),Sf=Ef=null)}function sA(a){if(a.propertyName==="value"&&Ap(Sf)){var o=[];tA(o,Sf,a,Si(a)),ho(W8,o)}}function X8(a,o,u){a==="focusin"?(aA(),Ef=o,Sf=u,Ef.attachEvent("onpropertychange",sA)):a==="focusout"&&aA()}function Q8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ap(Sf)}function Z8(a,o){if(a==="click")return Ap(o)}function J8(a,o){if(a==="input"||a==="change")return Ap(o)}function eB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zr=typeof Object.is=="function"?Object.is:eB;function Tf(a,o){if(Zr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!lt.call(o,v)||!Zr(a[v],o[v]))return!1}return!0}function oA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lA(a,o){var u=oA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=oA(u)}}function cA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?cA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function uA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ca(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ca(a.document)}return o}function pb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var tB=Ti&&"documentMode"in document&&11>=document.documentMode,su=null,gb=null,Af=null,yb=!1;function dA(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yb||su==null||su!==Ca(h)||(h=su,"selectionStart"in h&&pb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Af&&Tf(Af,h)||(Af=h,h=mg(gb,"onSelect"),0<h.length&&(o=new Oa("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=su)))}function Rl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ou={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},vb={},fA={};Ti&&(fA=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function jl(a){if(vb[a])return vb[a];if(!ou[a])return a;var o=ou[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in fA)return vb[a]=o[u];return a}var hA=jl("animationend"),mA=jl("animationiteration"),pA=jl("animationstart"),nB=jl("transitionrun"),rB=jl("transitionstart"),iB=jl("transitioncancel"),gA=jl("transitionend"),yA=new Map,bb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bb.push("scrollEnd");function na(a,o){yA.set(a,o),Aa(o,[a])}var kp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ki=[],lu=0,xb=0;function Cp(){for(var a=lu,o=xb=lu=0;o<a;){var u=ki[o];ki[o++]=null;var h=ki[o];ki[o++]=null;var v=ki[o];ki[o++]=null;var w=ki[o];if(ki[o++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}w!==0&&vA(u,v,w)}}function Ip(a,o,u,h){ki[lu++]=a,ki[lu++]=o,ki[lu++]=u,ki[lu++]=h,xb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function wb(a,o,u,h){return Ip(a,o,u,h),Np(a)}function Ml(a,o){return Ip(a,null,null,o),Np(a)}function vA(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,w=a.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-Yt(u),a=w.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),w):null}function Np(a){if(50<Yf)throw Yf=0,Nx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var cu={};function aB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(a,o,u,h){return new aB(a,o,u,h)}function _b(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,o){var u=a.alternate;return u===null?(u=Jr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function bA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Op(a,o,u,h,v,w){var I=0;if(h=a,typeof a=="function")_b(a)&&(I=1);else if(typeof a=="string")I=uU(a,u,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Jr(31,u,o,v),a.elementType=M,a.lanes=w,a;case S:return zl(u.children,v,w,o);case E:I=8,v|=24;break;case k:return a=Jr(12,u,o,v|2),a.elementType=k,a.lanes=w,a;case R:return a=Jr(13,u,o,v),a.elementType=R,a.lanes=w,a;case F:return a=Jr(19,u,o,v),a.elementType=F,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:I=10;break e;case j:I=9;break e;case V:I=11;break e;case P:I=14;break e;case C:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Jr(I,u,o,v),o.elementType=a,o.type=h,o.lanes=w,o}function zl(a,o,u,h){return a=Jr(7,a,h,o),a.lanes=u,a}function Eb(a,o,u){return a=Jr(6,a,null,o),a.lanes=u,a}function xA(a){var o=Jr(18,null,null,0);return o.stateNode=a,o}function Sb(a,o,u){return o=Jr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var wA=new WeakMap;function Ci(a,o){if(typeof a=="object"&&a!==null){var u=wA.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Vn(o)},wA.set(a,o),o)}return{value:a,source:o,stack:Vn(o)}}var uu=[],du=0,Pp=null,kf=0,Ii=[],Ni=0,yo=null,Ma=1,za="";function fs(a,o){uu[du++]=kf,uu[du++]=Pp,Pp=a,kf=o}function _A(a,o,u){Ii[Ni++]=Ma,Ii[Ni++]=za,Ii[Ni++]=yo,yo=a;var h=Ma;a=za;var v=32-Yt(h)-1;h&=~(1<<v),u+=1;var w=32-Yt(o)+v;if(30<w){var I=v-v%5;w=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Ma=1<<32-Yt(o)+v|u<<v|h,za=w+a}else Ma=1<<w|u<<v|h,za=a}function Tb(a){a.return!==null&&(fs(a,1),_A(a,1,0))}function Ab(a){for(;a===Pp;)Pp=uu[--du],uu[du]=null,kf=uu[--du],uu[du]=null;for(;a===yo;)yo=Ii[--Ni],Ii[Ni]=null,za=Ii[--Ni],Ii[Ni]=null,Ma=Ii[--Ni],Ii[Ni]=null}function EA(a,o){Ii[Ni++]=Ma,Ii[Ni++]=za,Ii[Ni++]=yo,Ma=o.id,za=o.overflow,yo=a}var rr=null,Ht=null,ct=!1,vo=null,Oi=!1,kb=Error(r(519));function bo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cf(Ci(o,a)),kb}function SA(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[yn]=a,o[Fn]=h,u){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(u=0;u<Xf.length;u++)it(Xf[u],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),dp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),co(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||UC(o.textContent,u)?(h.popover!=null&&(it("beforetoggle",o),it("toggle",o)),h.onScroll!=null&&it("scroll",o),h.onScrollEnd!=null&&it("scrollend",o),h.onClick!=null&&(o.onclick=Qi),o=!0):o=!1,o||bo(a,!0)}function TA(a){for(rr=a.return;rr;)switch(rr.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:rr=rr.return}}function fu(a){if(a!==rr)return!1;if(!ct)return TA(a),ct=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Hx(a.type,a.memoizedProps)),u=!u),u&&Ht&&bo(a),TA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ht=XC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ht=XC(a)}else o===27?(o=Ht,Ro(a.type)?(a=Xx,Xx=null,Ht=a):Ht=o):Ht=rr?Ri(a.stateNode.nextSibling):null;return!0}function Dl(){Ht=rr=null,ct=!1}function Cb(){var a=vo;return a!==null&&(Lr===null?Lr=a:Lr.push.apply(Lr,a),vo=null),a}function Cf(a){vo===null?vo=[a]:vo.push(a)}var Ib=$(null),Ll=null,hs=null;function xo(a,o,u){re(Ib,o._currentValue),o._currentValue=u}function ms(a){a._currentValue=Ib.current,ie(Ib)}function Nb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Ob(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var I=v.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=v;for(var H=0;H<o.length;H++)if(D.context===o[H]){w.lanes|=u,D=w.alternate,D!==null&&(D.lanes|=u),Nb(w.return,u,a),h||(I=null);break e}w=D.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,w=I.alternate,w!==null&&(w.lanes|=u),Nb(I,u,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function hu(a,o,u,h){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var D=v.type;Zr(v.pendingProps.value,I.value)||(a!==null?a.push(D):a=[D])}}else if(v===Te.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(th):a=[th])}v=v.return}a!==null&&Ob(o,a,u,h),o.flags|=262144}function Rp(a){for(a=a.firstContext;a!==null;){if(!Zr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Vl(a){Ll=a,hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ir(a){return AA(Ll,a)}function jp(a,o){return Ll===null&&Vl(a),AA(a,o)}function AA(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},hs===null){if(a===null)throw Error(r(308));hs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hs=hs.next=o;return u}var sB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},oB=t.unstable_scheduleCallback,lB=t.unstable_NormalPriority,xn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pb(){return{controller:new sB,data:new Map,refCount:0}}function If(a){a.refCount--,a.refCount===0&&oB(lB,function(){a.controller.abort()})}var Nf=null,Rb=0,mu=0,pu=null;function cB(a,o){if(Nf===null){var u=Nf=[];Rb=0,mu=zx(),pu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Rb++,o.then(kA,kA),o}function kA(){if(--Rb===0&&Nf!==null){pu!==null&&(pu.status="fulfilled");var a=Nf;Nf=null,mu=0,pu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function uB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var CA=Y.S;Y.S=function(a,o){dC=fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&cB(a,o),CA!==null&&CA(a,o)};var Bl=$(null);function jb(){var a=Bl.current;return a!==null?a:Lt.pooledCache}function Mp(a,o){o===null?re(Bl,Bl.current):re(Bl,o.pool)}function IA(){var a=jb();return a===null?null:{parent:xn._currentValue,pool:a}}var gu=Error(r(460)),Mb=Error(r(474)),zp=Error(r(542)),Dp={then:function(){}};function NA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function OA(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Qi,Qi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,RA(a),a;default:if(typeof o.status=="string")o.then(Qi,Qi);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,RA(a),a}throw Fl=o,gu}}function Ul(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Fl=u,gu):u}}var Fl=null;function PA(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function RA(a){if(a===gu||a===zp)throw Error(r(483))}var yu=null,Of=0;function Lp(a){var o=Of;return Of+=1,yu===null&&(yu=[]),OA(yu,a,o)}function Pf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Vp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function jA(a){function o(X,K){if(a){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!a)return null;for(;K!==null;)o(X,K),K=K.sibling;return null}function h(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function v(X,K){return X=ds(X,K),X.index=0,X.sibling=null,X}function w(X,K,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function I(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,J,ue){return K===null||K.tag!==6?(K=Eb(J,X.mode,ue),K.return=X,K):(K=v(K,J),K.return=X,K)}function H(X,K,J,ue){var Be=J.type;return Be===S?le(X,K,J.props.children,ue,J.key):K!==null&&(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===C&&Ul(Be)===K.type)?(K=v(K,J.props),Pf(K,J),K.return=X,K):(K=Op(J.type,J.key,J.props,null,X.mode,ue),Pf(K,J),K.return=X,K)}function ee(X,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Sb(J,X.mode,ue),K.return=X,K):(K=v(K,J.children||[]),K.return=X,K)}function le(X,K,J,ue,Be){return K===null||K.tag!==7?(K=zl(J,X.mode,ue,Be),K.return=X,K):(K=v(K,J),K.return=X,K)}function he(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Eb(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return J=Op(K.type,K.key,K.props,null,X.mode,J),Pf(J,K),J.return=X,J;case _:return K=Sb(K,X.mode,J),K.return=X,K;case C:return K=Ul(K),he(X,K,J)}if(Ce(K)||q(K))return K=zl(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return he(X,Lp(K),J);if(K.$$typeof===O)return he(X,jp(X,K),J);Vp(X,K)}return null}function te(X,K,J,ue){var Be=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Be!==null?null:D(X,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Be?H(X,K,J,ue):null;case _:return J.key===Be?ee(X,K,J,ue):null;case C:return J=Ul(J),te(X,K,J,ue)}if(Ce(J)||q(J))return Be!==null?null:le(X,K,J,ue,null);if(typeof J.then=="function")return te(X,K,Lp(J),ue);if(J.$$typeof===O)return te(X,K,jp(X,J),ue);Vp(X,J)}return null}function se(X,K,J,ue,Be){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return X=X.get(J)||null,D(K,X,""+ue,Be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return X=X.get(ue.key===null?J:ue.key)||null,H(K,X,ue,Be);case _:return X=X.get(ue.key===null?J:ue.key)||null,ee(K,X,ue,Be);case C:return ue=Ul(ue),se(X,K,J,ue,Be)}if(Ce(ue)||q(ue))return X=X.get(J)||null,le(K,X,ue,Be,null);if(typeof ue.then=="function")return se(X,K,J,Lp(ue),Be);if(ue.$$typeof===O)return se(X,K,J,jp(K,ue),Be);Vp(K,ue)}return null}function Re(X,K,J,ue){for(var Be=null,ht=null,De=K,Je=K=0,st=null;De!==null&&Je<J.length;Je++){De.index>Je?(st=De,De=null):st=De.sibling;var mt=te(X,De,J[Je],ue);if(mt===null){De===null&&(De=st);break}a&&De&&mt.alternate===null&&o(X,De),K=w(mt,K,Je),ht===null?Be=mt:ht.sibling=mt,ht=mt,De=st}if(Je===J.length)return u(X,De),ct&&fs(X,Je),Be;if(De===null){for(;Je<J.length;Je++)De=he(X,J[Je],ue),De!==null&&(K=w(De,K,Je),ht===null?Be=De:ht.sibling=De,ht=De);return ct&&fs(X,Je),Be}for(De=h(De);Je<J.length;Je++)st=se(De,X,Je,J[Je],ue),st!==null&&(a&&st.alternate!==null&&De.delete(st.key===null?Je:st.key),K=w(st,K,Je),ht===null?Be=st:ht.sibling=st,ht=st);return a&&De.forEach(function(Lo){return o(X,Lo)}),ct&&fs(X,Je),Be}function He(X,K,J,ue){if(J==null)throw Error(r(151));for(var Be=null,ht=null,De=K,Je=K=0,st=null,mt=J.next();De!==null&&!mt.done;Je++,mt=J.next()){De.index>Je?(st=De,De=null):st=De.sibling;var Lo=te(X,De,mt.value,ue);if(Lo===null){De===null&&(De=st);break}a&&De&&Lo.alternate===null&&o(X,De),K=w(Lo,K,Je),ht===null?Be=Lo:ht.sibling=Lo,ht=Lo,De=st}if(mt.done)return u(X,De),ct&&fs(X,Je),Be;if(De===null){for(;!mt.done;Je++,mt=J.next())mt=he(X,mt.value,ue),mt!==null&&(K=w(mt,K,Je),ht===null?Be=mt:ht.sibling=mt,ht=mt);return ct&&fs(X,Je),Be}for(De=h(De);!mt.done;Je++,mt=J.next())mt=se(De,X,Je,mt.value,ue),mt!==null&&(a&&mt.alternate!==null&&De.delete(mt.key===null?Je:mt.key),K=w(mt,K,Je),ht===null?Be=mt:ht.sibling=mt,ht=mt);return a&&De.forEach(function(wU){return o(X,wU)}),ct&&fs(X,Je),Be}function Pt(X,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Be=J.key;K!==null;){if(K.key===Be){if(Be=J.type,Be===S){if(K.tag===7){u(X,K.sibling),ue=v(K,J.props.children),ue.return=X,X=ue;break e}}else if(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===C&&Ul(Be)===K.type){u(X,K.sibling),ue=v(K,J.props),Pf(ue,J),ue.return=X,X=ue;break e}u(X,K);break}else o(X,K);K=K.sibling}J.type===S?(ue=zl(J.props.children,X.mode,ue,J.key),ue.return=X,X=ue):(ue=Op(J.type,J.key,J.props,null,X.mode,ue),Pf(ue,J),ue.return=X,X=ue)}return I(X);case _:e:{for(Be=J.key;K!==null;){if(K.key===Be)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),ue=v(K,J.children||[]),ue.return=X,X=ue;break e}else{u(X,K);break}else o(X,K);K=K.sibling}ue=Sb(J,X.mode,ue),ue.return=X,X=ue}return I(X);case C:return J=Ul(J),Pt(X,K,J,ue)}if(Ce(J))return Re(X,K,J,ue);if(q(J)){if(Be=q(J),typeof Be!="function")throw Error(r(150));return J=Be.call(J),He(X,K,J,ue)}if(typeof J.then=="function")return Pt(X,K,Lp(J),ue);if(J.$$typeof===O)return Pt(X,K,jp(X,J),ue);Vp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),ue=v(K,J),ue.return=X,X=ue):(u(X,K),ue=Eb(J,X.mode,ue),ue.return=X,X=ue),I(X)):u(X,K)}return function(X,K,J,ue){try{Of=0;var Be=Pt(X,K,J,ue);return yu=null,Be}catch(De){if(De===gu||De===zp)throw De;var ht=Jr(29,De,null,X.mode);return ht.lanes=ue,ht.return=X,ht}}}var ql=jA(!0),MA=jA(!1),wo=!1;function zb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Db(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _o(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Eo(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Np(a),vA(a,null,u),o}return Ip(a,h,o,u),Np(a)}function Rf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Jn(a,u)}}function Lb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=I:w=w.next=I,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Vb=!1;function jf(){if(Vb){var a=pu;if(a!==null)throw a}}function Mf(a,o,u,h){Vb=!1;var v=a.updateQueue;wo=!1;var w=v.firstBaseUpdate,I=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var H=D,ee=H.next;H.next=null,I===null?w=ee:I.next=ee,I=H;var le=a.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==I&&(D===null?le.firstBaseUpdate=ee:D.next=ee,le.lastBaseUpdate=H))}if(w!==null){var he=v.baseState;I=0,le=ee=H=null,D=w;do{var te=D.lane&-536870913,se=te!==D.lane;if(se?(at&te)===te:(h&te)===te){te!==0&&te===mu&&(Vb=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Re=a,He=D;te=o;var Pt=u;switch(He.tag){case 1:if(Re=He.payload,typeof Re=="function"){he=Re.call(Pt,he,te);break e}he=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=He.payload,te=typeof Re=="function"?Re.call(Pt,he,te):Re,te==null)break e;he=m({},he,te);break e;case 2:wo=!0}}te=D.callback,te!==null&&(a.flags|=64,se&&(a.flags|=8192),se=v.callbacks,se===null?v.callbacks=[te]:se.push(te))}else se={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(ee=le=se,H=he):le=le.next=se,I|=te;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;se=D,D=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);le===null&&(H=he),v.baseState=H,v.firstBaseUpdate=ee,v.lastBaseUpdate=le,w===null&&(v.shared.lanes=0),Co|=I,a.lanes=I,a.memoizedState=he}}function zA(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function DA(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)zA(u[a],o)}var vu=$(null),Bp=$(0);function LA(a,o){a=Es,re(Bp,a),re(vu,o),Es=a|o.baseLanes}function Bb(){re(Bp,Es),re(vu,vu.current)}function Ub(){Es=Bp.current,ie(vu),ie(Bp)}var ei=$(null),Pi=null;function So(a){var o=a.alternate;re(un,un.current&1),re(ei,a),Pi===null&&(o===null||vu.current!==null||o.memoizedState!==null)&&(Pi=a)}function Fb(a){re(un,un.current),re(ei,a),Pi===null&&(Pi=a)}function VA(a){a.tag===22?(re(un,un.current),re(ei,a),Pi===null&&(Pi=a)):To()}function To(){re(un,un.current),re(ei,ei.current)}function ti(a){ie(ei),Pi===a&&(Pi=null),ie(un)}var un=$(0);function Up(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Yx(u)||Wx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ps=0,Ze=null,Nt=null,wn=null,Fp=!1,bu=!1,$l=!1,qp=0,zf=0,xu=null,dB=0;function an(){throw Error(r(321))}function qb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Zr(a[u],o[u]))return!1;return!0}function $b(a,o,u,h,v,w){return ps=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?_k:ax,$l=!1,w=u(h,v),$l=!1,bu&&(w=UA(o,u,h,v)),BA(a),w}function BA(a){Y.H=Vf;var o=Nt!==null&&Nt.next!==null;if(ps=0,wn=Nt=Ze=null,Fp=!1,zf=0,xu=null,o)throw Error(r(300));a===null||_n||(a=a.dependencies,a!==null&&Rp(a)&&(_n=!0))}function UA(a,o,u,h){Ze=a;var v=0;do{if(bu&&(xu=null),zf=0,bu=!1,25<=v)throw Error(r(301));if(v+=1,wn=Nt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Y.H=Ek,w=o(u,h)}while(bu);return w}function fB(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?Df(o):o,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function Hb(){var a=qp!==0;return qp=0,a}function Gb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Kb(a){if(Fp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Fp=!1}ps=0,wn=Nt=Ze=null,bu=!1,zf=qp=0,xu=null}function Ar(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ze.memoizedState=wn=a:wn=wn.next=a,wn}function dn(){if(Nt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var o=wn===null?Ze.memoizedState:wn.next;if(o!==null)wn=o,Nt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},wn===null?Ze.memoizedState=wn=a:wn=wn.next=a}return wn}function $p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(a){var o=zf;return zf+=1,xu===null&&(xu=[]),a=OA(xu,a,o),o=Ze,(wn===null?o.memoizedState:wn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?_k:ax),a}function Hp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Df(a);if(a.$$typeof===O)return ir(a)}throw Error(r(438,String(a)))}function Yb(a){var o=null,u=Ze.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=$p(),Ze.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=L;return o.index++,u}function gs(a,o){return typeof o=="function"?o(a):o}function Gp(a){var o=dn();return Wb(o,Nt,a)}function Wb(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,w=h.pending;if(w!==null){if(v!==null){var I=v.next;v.next=w.next,w.next=I}o.baseQueue=v=w,h.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var D=I=null,H=null,ee=o,le=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(at&he)===he:(ps&he)===he){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===mu&&(le=!0);else if((ps&te)===te){ee=ee.next,te===mu&&(le=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=he,I=w):H=H.next=he,Ze.lanes|=te,Co|=te;he=ee.action,$l&&u(w,he),w=ee.hasEagerState?ee.eagerState:u(w,he)}else te={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=te,I=w):H=H.next=te,Ze.lanes|=he,Co|=he;ee=ee.next}while(ee!==null&&ee!==o);if(H===null?I=w:H.next=D,!Zr(w,a.memoizedState)&&(_n=!0,le&&(u=pu,u!==null)))throw u;a.memoizedState=w,a.baseState=I,a.baseQueue=H,h.lastRenderedState=w}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Xb(a){var o=dn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do w=a(w,I.action),I=I.next;while(I!==v);Zr(w,o.memoizedState)||(_n=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function FA(a,o,u){var h=Ze,v=dn(),w=ct;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Zr((Nt||v).memoizedState,u);if(I&&(v.memoizedState=u,_n=!0),v=v.queue,Jb(HA.bind(null,h,v,a),[a]),v.getSnapshot!==o||I||wn!==null&&wn.memoizedState.tag&1){if(h.flags|=2048,wu(9,{destroy:void 0},$A.bind(null,h,v,u,o),null),Lt===null)throw Error(r(349));w||(ps&127)!==0||qA(h,o,u)}return u}function qA(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o=$p(),Ze.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function $A(a,o,u,h){o.value=u,o.getSnapshot=h,GA(o)&&KA(a)}function HA(a,o,u){return u(function(){GA(o)&&KA(a)})}function GA(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Zr(a,u)}catch{return!0}}function KA(a){var o=Ml(a,2);o!==null&&Vr(o,a,2)}function Qb(a){var o=Ar();if(typeof a=="function"){var u=a;if(a=u(),$l){Er(!0);try{u()}finally{Er(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},o}function YA(a,o,u,h){return a.baseState=u,Wb(a,Nt,typeof h=="function"?h:gs)}function hB(a,o,u,h,v){if(Wp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};Y.T!==null?u(!0):w.isTransition=!1,h(w),u=o.pending,u===null?(w.next=o.pending=w,WA(o,w)):(w.next=u.next,o.pending=u.next=w)}}function WA(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var w=Y.T,I={};Y.T=I;try{var D=u(v,h),H=Y.S;H!==null&&H(I,D),XA(a,o,D)}catch(ee){Zb(a,o,ee)}finally{w!==null&&I.types!==null&&(w.types=I.types),Y.T=w}}else try{w=u(v,h),XA(a,o,w)}catch(ee){Zb(a,o,ee)}}function XA(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){QA(a,o,h)},function(h){return Zb(a,o,h)}):QA(a,o,u)}function QA(a,o,u){o.status="fulfilled",o.value=u,ZA(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,WA(a,u)))}function Zb(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,ZA(o),o=o.next;while(o!==h)}a.action=null}function ZA(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function JA(a,o){return o}function ek(a,o){if(ct){var u=Lt.formState;if(u!==null){e:{var h=Ze;if(ct){if(Ht){t:{for(var v=Ht,w=Oi;v.nodeType!==8;){if(!w){v=null;break t}if(v=Ri(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Ht=Ri(v.nextSibling),h=v.data==="F!";break e}}bo(h)}h=!1}h&&(o=u[0])}}return u=Ar(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JA,lastRenderedState:o},u.queue=h,u=bk.bind(null,Ze,h),h.dispatch=u,h=Qb(!1),w=ix.bind(null,Ze,!1,h.queue),h=Ar(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=hB.bind(null,Ze,v,w,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function tk(a){var o=dn();return nk(o,Nt,a)}function nk(a,o,u){if(o=Wb(a,o,JA)[0],a=Gp(gs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Df(o)}catch(I){throw I===gu?zp:I}else h=o;o=dn();var v=o.queue,w=v.dispatch;return u!==o.memoizedState&&(Ze.flags|=2048,wu(9,{destroy:void 0},mB.bind(null,v,u),null)),[h,w,a]}function mB(a,o){a.action=o}function rk(a){var o=dn(),u=Nt;if(u!==null)return nk(o,u,a);dn(),o=o.memoizedState,u=dn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function wu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=$p(),Ze.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function ik(){return dn().memoizedState}function Kp(a,o,u,h){var v=Ar();Ze.flags|=a,v.memoizedState=wu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Yp(a,o,u,h){var v=dn();h=h===void 0?null:h;var w=v.memoizedState.inst;Nt!==null&&h!==null&&qb(h,Nt.memoizedState.deps)?v.memoizedState=wu(o,w,u,h):(Ze.flags|=a,v.memoizedState=wu(1|o,w,u,h))}function ak(a,o){Kp(8390656,8,a,o)}function Jb(a,o){Yp(2048,8,a,o)}function pB(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=$p(),Ze.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function sk(a){var o=dn().memoizedState;return pB({ref:o,nextImpl:a}),function(){if((vt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ok(a,o){return Yp(4,2,a,o)}function lk(a,o){return Yp(4,4,a,o)}function ck(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function uk(a,o,u){u=u!=null?u.concat([a]):null,Yp(4,4,ck.bind(null,o,a),u)}function ex(){}function dk(a,o){var u=dn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&qb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function fk(a,o){var u=dn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&qb(o,h[1]))return h[0];if(h=a(),$l){Er(!0);try{a()}finally{Er(!1)}}return u.memoizedState=[h,o],h}function tx(a,o,u){return u===void 0||(ps&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=hC(),Ze.lanes|=a,Co|=a,u)}function hk(a,o,u,h){return Zr(u,o)?u:vu.current!==null?(a=tx(a,u,h),Zr(a,o)||(_n=!0),a):(ps&42)===0||(ps&1073741824)!==0&&(at&261930)===0?(_n=!0,a.memoizedState=u):(a=hC(),Ze.lanes|=a,Co|=a,o)}function mk(a,o,u,h,v){var w=ne.p;ne.p=w!==0&&8>w?w:8;var I=Y.T,D={};Y.T=D,ix(a,!1,o,u);try{var H=v(),ee=Y.S;if(ee!==null&&ee(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=uB(H,h);Lf(a,o,le,ii(a))}else Lf(a,o,h,ii(a))}catch(he){Lf(a,o,{then:function(){},status:"rejected",reason:he},ii())}finally{ne.p=w,I!==null&&D.types!==null&&(I.types=D.types),Y.T=I}}function gB(){}function nx(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=pk(a).queue;mk(a,v,o,W,u===null?gB:function(){return gk(a),u(h)})}function pk(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:W},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function gk(a){var o=pk(a);o.next===null&&(o=a.alternate.memoizedState),Lf(a,o.next.queue,{},ii())}function rx(){return ir(th)}function yk(){return dn().memoizedState}function vk(){return dn().memoizedState}function yB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ii();a=_o(u);var h=Eo(o,a,u);h!==null&&(Vr(h,o,u),Rf(h,o,u)),o={cache:Pb()},a.payload=o;return}o=o.return}}function vB(a,o,u){var h=ii();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Wp(a)?xk(o,u):(u=wb(a,o,u,h),u!==null&&(Vr(u,a,h),wk(u,o,h)))}function bk(a,o,u){var h=ii();Lf(a,o,u,h)}function Lf(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wp(a))xk(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,D=w(I,u);if(v.hasEagerState=!0,v.eagerState=D,Zr(D,I))return Ip(a,o,v,0),Lt===null&&Cp(),!1}catch{}if(u=wb(a,o,v,h),u!==null)return Vr(u,a,h),wk(u,o,h),!0}return!1}function ix(a,o,u,h){if(h={lane:2,revertLane:zx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Wp(a)){if(o)throw Error(r(479))}else o=wb(a,u,h,2),o!==null&&Vr(o,a,2)}function Wp(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function xk(a,o){bu=Fp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function wk(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Jn(a,u)}}var Vf={readContext:ir,use:Hp,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Vf.useEffectEvent=an;var _k={readContext:ir,use:Hp,useCallback:function(a,o){return Ar().memoizedState=[a,o===void 0?null:o],a},useContext:ir,useEffect:ak,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Kp(4194308,4,ck.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Kp(4194308,4,a,o)},useInsertionEffect:function(a,o){Kp(4,2,a,o)},useMemo:function(a,o){var u=Ar();o=o===void 0?null:o;var h=a();if($l){Er(!0);try{a()}finally{Er(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=Ar();if(u!==void 0){var v=u(o);if($l){Er(!0);try{u(o)}finally{Er(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=vB.bind(null,Ze,a),[h.memoizedState,a]},useRef:function(a){var o=Ar();return a={current:a},o.memoizedState=a},useState:function(a){a=Qb(a);var o=a.queue,u=bk.bind(null,Ze,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:ex,useDeferredValue:function(a,o){var u=Ar();return tx(u,a,o)},useTransition:function(){var a=Qb(!1);return a=mk.bind(null,Ze,a.queue,!0,!1),Ar().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Ze,v=Ar();if(ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Lt===null)throw Error(r(349));(at&127)!==0||qA(h,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,ak(HA.bind(null,h,w,a),[a]),h.flags|=2048,wu(9,{destroy:void 0},$A.bind(null,h,w,u,o),null),u},useId:function(){var a=Ar(),o=Lt.identifierPrefix;if(ct){var u=za,h=Ma;u=(h&~(1<<32-Yt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=qp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=dB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:rx,useFormState:ek,useActionState:ek,useOptimistic:function(a){var o=Ar();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ix.bind(null,Ze,!0,u),u.dispatch=o,[a,o]},useMemoCache:Yb,useCacheRefresh:function(){return Ar().memoizedState=yB.bind(null,Ze)},useEffectEvent:function(a){var o=Ar(),u={impl:a};return o.memoizedState=u,function(){if((vt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ax={readContext:ir,use:Hp,useCallback:dk,useContext:ir,useEffect:Jb,useImperativeHandle:uk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:Gp,useRef:ik,useState:function(){return Gp(gs)},useDebugValue:ex,useDeferredValue:function(a,o){var u=dn();return hk(u,Nt.memoizedState,a,o)},useTransition:function(){var a=Gp(gs)[0],o=dn().memoizedState;return[typeof a=="boolean"?a:Df(a),o]},useSyncExternalStore:FA,useId:yk,useHostTransitionStatus:rx,useFormState:tk,useActionState:tk,useOptimistic:function(a,o){var u=dn();return YA(u,Nt,a,o)},useMemoCache:Yb,useCacheRefresh:vk};ax.useEffectEvent=sk;var Ek={readContext:ir,use:Hp,useCallback:dk,useContext:ir,useEffect:Jb,useImperativeHandle:uk,useInsertionEffect:ok,useLayoutEffect:lk,useMemo:fk,useReducer:Xb,useRef:ik,useState:function(){return Xb(gs)},useDebugValue:ex,useDeferredValue:function(a,o){var u=dn();return Nt===null?tx(u,a,o):hk(u,Nt.memoizedState,a,o)},useTransition:function(){var a=Xb(gs)[0],o=dn().memoizedState;return[typeof a=="boolean"?a:Df(a),o]},useSyncExternalStore:FA,useId:yk,useHostTransitionStatus:rx,useFormState:rk,useActionState:rk,useOptimistic:function(a,o){var u=dn();return Nt!==null?YA(u,Nt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Yb,useCacheRefresh:vk};Ek.useEffectEvent=sk;function sx(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var ox={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ii(),v=_o(h);v.payload=o,u!=null&&(v.callback=u),o=Eo(a,v,h),o!==null&&(Vr(o,a,h),Rf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ii(),v=_o(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Eo(a,v,h),o!==null&&(Vr(o,a,h),Rf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ii(),h=_o(u);h.tag=2,o!=null&&(h.callback=o),o=Eo(a,h,u),o!==null&&(Vr(o,a,u),Rf(o,a,u))}};function Sk(a,o,u,h,v,w,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,I):o.prototype&&o.prototype.isPureReactComponent?!Tf(u,h)||!Tf(v,w):!0}function Tk(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&ox.enqueueReplaceState(o,o.state,null)}function Hl(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Ak(a){kp(a)}function kk(a){console.error(a)}function Ck(a){kp(a)}function Xp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Ik(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function lx(a,o,u){return u=_o(u),u.tag=3,u.payload={element:null},u.callback=function(){Xp(a,o)},u}function Nk(a){return a=_o(a),a.tag=3,a}function Ok(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;a.payload=function(){return v(w)},a.callback=function(){Ik(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){Ik(o,u,h),typeof v!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function bB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&hu(o,u,v,!0),u=ei.current,u!==null){switch(u.tag){case 31:case 13:return Pi===null?lg():u.alternate===null&&sn===0&&(sn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Dp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Rx(a,h,v)),!1;case 22:return u.flags|=65536,h===Dp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Rx(a,h,v)),!1}throw Error(r(435,u.tag))}return Rx(a,h,v),lg(),!1}if(ct)return o=ei.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==kb&&(a=Error(r(422),{cause:h}),Cf(Ci(a,u)))):(h!==kb&&(o=Error(r(423),{cause:h}),Cf(Ci(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Ci(h,u),v=lx(a.stateNode,h,v),Lb(a,v),sn!==4&&(sn=2)),!1;var w=Error(r(520),{cause:h});if(w=Ci(w,u),Kf===null?Kf=[w]:Kf.push(w),sn!==4&&(sn=2),o===null)return!0;h=Ci(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=lx(u.stateNode,h,a),Lb(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Io===null||!Io.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Nk(v),Ok(v,a,u,h),Lb(u,v),!1}u=u.return}while(u!==null);return!1}var cx=Error(r(461)),_n=!1;function ar(a,o,u,h){o.child=a===null?MA(o,null,u,h):ql(o,a.child,u,h)}function Pk(a,o,u,h,v){u=u.render;var w=o.ref;if("ref"in h){var I={};for(var D in h)D!=="ref"&&(I[D]=h[D])}else I=h;return Vl(o),h=$b(a,o,u,I,w,v),D=Hb(),a!==null&&!_n?(Gb(a,o,v),ys(a,o,v)):(ct&&D&&Tb(o),o.flags|=1,ar(a,o,h,v),o.child)}function Rk(a,o,u,h,v){if(a===null){var w=u.type;return typeof w=="function"&&!_b(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,jk(a,o,w,h,v)):(a=Op(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!yx(a,v)){var I=w.memoizedProps;if(u=u.compare,u=u!==null?u:Tf,u(I,h)&&a.ref===o.ref)return ys(a,o,v)}return o.flags|=1,a=ds(w,h),a.ref=o.ref,a.return=o,o.child=a}function jk(a,o,u,h,v){if(a!==null){var w=a.memoizedProps;if(Tf(w,h)&&a.ref===o.ref)if(_n=!1,o.pendingProps=h=w,yx(a,v))(a.flags&131072)!==0&&(_n=!0);else return o.lanes=a.lanes,ys(a,o,v)}return ux(a,o,u,h,v)}function Mk(a,o,u,h){var v=h.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,o.child=null;return zk(a,o,w,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mp(o,w!==null?w.cachePool:null),w!==null?LA(o,w):Bb(),VA(o);else return h=o.lanes=536870912,zk(a,o,w!==null?w.baseLanes|u:u,u,h)}else w!==null?(Mp(o,w.cachePool),LA(o,w),To(),o.memoizedState=null):(a!==null&&Mp(o,null),Bb(),To());return ar(a,o,v,u),o.child}function Bf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function zk(a,o,u,h,v){var w=jb();return w=w===null?null:{parent:xn._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},a!==null&&Mp(o,null),Bb(),VA(o),a!==null&&hu(a,o,h,!0),o.childLanes=v,null}function Qp(a,o){return o=Jp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Dk(a,o,u){return ql(o,a.child,null,u),a=Qp(o,o.pendingProps),a.flags|=2,ti(o),o.memoizedState=null,a}function xB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ct){if(h.mode==="hidden")return a=Qp(o,h),o.lanes=536870912,Bf(null,a);if(Fb(o),(a=Ht)?(a=WC(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:yo!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},u=xA(a),u.return=o,o.child=u,rr=o,Ht=null)):a=null,a===null)throw bo(o);return o.lanes=536870912,null}return Qp(o,h)}var w=a.memoizedState;if(w!==null){var I=w.dehydrated;if(Fb(o),v)if(o.flags&256)o.flags&=-257,o=Dk(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(_n||hu(a,o,u,!1),v=(u&a.childLanes)!==0,_n||v){if(h=Lt,h!==null&&(I=er(h,u),I!==0&&I!==w.retryLane))throw w.retryLane=I,Ml(a,I),Vr(h,a,I),cx;lg(),o=Dk(a,o,u)}else a=w.treeContext,Ht=Ri(I.nextSibling),rr=o,ct=!0,vo=null,Oi=!1,a!==null&&EA(o,a),o=Qp(o,h),o.flags|=4096;return o}return a=ds(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Zp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function ux(a,o,u,h,v){return Vl(o),u=$b(a,o,u,h,void 0,v),h=Hb(),a!==null&&!_n?(Gb(a,o,v),ys(a,o,v)):(ct&&h&&Tb(o),o.flags|=1,ar(a,o,u,v),o.child)}function Lk(a,o,u,h,v,w){return Vl(o),o.updateQueue=null,u=UA(o,h,u,v),BA(a),h=Hb(),a!==null&&!_n?(Gb(a,o,w),ys(a,o,w)):(ct&&h&&Tb(o),o.flags|=1,ar(a,o,u,w),o.child)}function Vk(a,o,u,h,v){if(Vl(o),o.stateNode===null){var w=cu,I=u.contextType;typeof I=="object"&&I!==null&&(w=ir(I)),w=new u(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ox,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},zb(o),I=u.contextType,w.context=typeof I=="object"&&I!==null?ir(I):cu,w.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(sx(o,u,I,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&ox.enqueueReplaceState(w,w.state,null),Mf(o,h,w,v),jf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){w=o.stateNode;var D=o.memoizedProps,H=Hl(u,D);w.props=H;var ee=w.context,le=u.contextType;I=cu,typeof le=="object"&&le!==null&&(I=ir(le));var he=u.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||ee!==I)&&Tk(o,w,h,I),wo=!1;var te=o.memoizedState;w.state=te,Mf(o,h,w,v),jf(),ee=o.memoizedState,D||te!==ee||wo?(typeof he=="function"&&(sx(o,u,he,h),ee=o.memoizedState),(H=wo||Sk(o,u,H,h,te,ee,I))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),w.props=h,w.state=ee,w.context=I,h=H):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,Db(a,o),I=o.memoizedProps,le=Hl(u,I),w.props=le,he=o.pendingProps,te=w.context,ee=u.contextType,H=cu,typeof ee=="object"&&ee!==null&&(H=ir(ee)),D=u.getDerivedStateFromProps,(ee=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==he||te!==H)&&Tk(o,w,h,H),wo=!1,te=o.memoizedState,w.state=te,Mf(o,h,w,v),jf();var se=o.memoizedState;I!==he||te!==se||wo||a!==null&&a.dependencies!==null&&Rp(a.dependencies)?(typeof D=="function"&&(sx(o,u,D,h),se=o.memoizedState),(le=wo||Sk(o,u,le,h,te,se,H)||a!==null&&a.dependencies!==null&&Rp(a.dependencies))?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,se,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,se,H)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),w.props=h,w.state=se,w.context=H,h=le):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),h=!1)}return w=h,Zp(a,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&h?(o.child=ql(o,a.child,null,v),o.child=ql(o,null,u,v)):ar(a,o,u,v),o.memoizedState=w.state,a=o.child):a=ys(a,o,v),a}function Bk(a,o,u,h){return Dl(),o.flags|=256,ar(a,o,u,h),o.child}var dx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fx(a){return{baseLanes:a,cachePool:IA()}}function hx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ri),a}function Uk(a,o,u){var h=o.pendingProps,v=!1,w=(o.flags&128)!==0,I;if((I=w)||(I=a!==null&&a.memoizedState===null?!1:(un.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(ct){if(v?So(o):To(),(a=Ht)?(a=WC(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:yo!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},u=xA(a),u.return=o,o.child=u,rr=o,Ht=null)):a=null,a===null)throw bo(o);return Wx(a)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,v?(To(),v=o.mode,D=Jp({mode:"hidden",children:D},v),h=zl(h,v,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=fx(u),h.childLanes=hx(a,I,u),o.memoizedState=dx,Bf(null,h)):(So(o),mx(o,D))}var H=a.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(w)o.flags&256?(So(o),o.flags&=-257,o=px(a,o,u)):o.memoizedState!==null?(To(),o.child=a.child,o.flags|=128,o=null):(To(),D=h.fallback,v=o.mode,h=Jp({mode:"visible",children:h.children},v),D=zl(D,v,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,ql(o,a.child,null,u),h=o.child,h.memoizedState=fx(u),h.childLanes=hx(a,I,u),o.memoizedState=dx,o=Bf(null,h));else if(So(o),Wx(D)){if(I=D.nextSibling&&D.nextSibling.dataset,I)var ee=I.dgst;I=ee,h=Error(r(419)),h.stack="",h.digest=I,Cf({value:h,source:null,stack:null}),o=px(a,o,u)}else if(_n||hu(a,o,u,!1),I=(u&a.childLanes)!==0,_n||I){if(I=Lt,I!==null&&(h=er(I,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,Ml(a,h),Vr(I,a,h),cx;Yx(D)||lg(),o=px(a,o,u)}else Yx(D)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,Ht=Ri(D.nextSibling),rr=o,ct=!0,vo=null,Oi=!1,a!==null&&EA(o,a),o=mx(o,h.children),o.flags|=4096);return o}return v?(To(),D=h.fallback,v=o.mode,H=a.child,ee=H.sibling,h=ds(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?D=ds(ee,D):(D=zl(D,v,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,Bf(null,h),h=o.child,D=a.child.memoizedState,D===null?D=fx(u):(v=D.cachePool,v!==null?(H=xn._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=IA(),D={baseLanes:D.baseLanes|u,cachePool:v}),h.memoizedState=D,h.childLanes=hx(a,I,u),o.memoizedState=dx,Bf(a.child,h)):(So(o),u=a.child,a=u.sibling,u=ds(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function mx(a,o){return o=Jp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Jp(a,o){return a=Jr(22,a,null,o),a.lanes=0,a}function px(a,o,u){return ql(o,a.child,null,u),a=mx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Fk(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Nb(a.return,o,u)}function gx(a,o,u,h,v,w){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:w}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=v,I.treeForkCount=w)}function qk(a,o,u){var h=o.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var I=un.current,D=(I&2)!==0;if(D?(I=I&1|2,o.flags|=128):I&=1,re(un,I),ar(a,o,h,u),h=ct?kf:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Fk(a,u,o);else if(a.tag===19)Fk(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Up(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),gx(o,!1,v,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Up(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}gx(o,!0,u,null,w,h);break;case"together":gx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ys(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Co|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(hu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ds(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ds(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function yx(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rp(a)))}function wB(a,o,u){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),xo(o,xn,a.memoizedState.cache),Dl();break;case 27:case 5:ye(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:xo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(So(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Uk(a,o,u):(So(o),a=ys(a,o,u),a!==null?a.sibling:null);So(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(hu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return qk(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(un,un.current),h)break;return null;case 22:return o.lanes=0,Mk(a,o,u,o.pendingProps);case 24:xo(o,xn,a.memoizedState.cache)}return ys(a,o,u)}function $k(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)_n=!0;else{if(!yx(a,u)&&(o.flags&128)===0)return _n=!1,wB(a,o,u);_n=(a.flags&131072)!==0}else _n=!1,ct&&(o.flags&1048576)!==0&&_A(o,kf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Ul(o.elementType),o.type=a,typeof a=="function")_b(a)?(h=Hl(a,h),o.tag=1,o=Vk(null,o,a,h,u)):(o.tag=0,o=ux(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===V){o.tag=11,o=Pk(null,o,a,h,u);break e}else if(v===P){o.tag=14,o=Rk(null,o,a,h,u);break e}}throw o=ve(a)||a,Error(r(306,o,""))}}return o;case 0:return ux(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Hl(h,o.pendingProps),Vk(a,o,h,v,u);case 3:e:{if(Ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var w=o.memoizedState;v=w.element,Db(a,o),Mf(o,h,null,u);var I=o.memoizedState;if(h=I.cache,xo(o,xn,h),h!==w.cache&&Ob(o,[xn],u,!0),jf(),h=I.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Bk(a,o,h,u);break e}else if(h!==v){v=Ci(Error(r(424)),o),Cf(v),o=Bk(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ht=Ri(a.firstChild),rr=o,ct=!0,vo=null,Oi=!0,u=MA(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Dl(),h===v){o=ys(a,o,u);break e}ar(a,o,h,u)}o=o.child}return o;case 26:return Zp(a,o),a===null?(u=tI(o.type,null,o.pendingProps,null))?o.memoizedState=u:ct||(u=o.type,a=o.pendingProps,h=pg(Se.current).createElement(u),h[yn]=o,h[Fn]=a,sr(h,u,a),vn(h),o.stateNode=h):o.memoizedState=tI(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ye(o),a===null&&ct&&(h=o.stateNode=ZC(o.type,o.pendingProps,Se.current),rr=o,Oi=!0,v=Ht,Ro(o.type)?(Xx=v,Ht=Ri(h.firstChild)):Ht=v),ar(a,o,o.pendingProps.children,u),Zp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ct&&((v=h=Ht)&&(h=QB(h,o.type,o.pendingProps,Oi),h!==null?(o.stateNode=h,rr=o,Ht=Ri(h.firstChild),Oi=!1,v=!0):v=!1),v||bo(o)),ye(o),v=o.type,w=o.pendingProps,I=a!==null?a.memoizedProps:null,h=w.children,Hx(v,w)?h=null:I!==null&&Hx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=$b(a,o,fB,null,null,u),th._currentValue=v),Zp(a,o),ar(a,o,h,u),o.child;case 6:return a===null&&ct&&((a=u=Ht)&&(u=ZB(u,o.pendingProps,Oi),u!==null?(o.stateNode=u,rr=o,Ht=null,a=!0):a=!1),a||bo(o)),null;case 13:return Uk(a,o,u);case 4:return Ve(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=ql(o,null,h,u):ar(a,o,h,u),o.child;case 11:return Pk(a,o,o.type,o.pendingProps,u);case 7:return ar(a,o,o.pendingProps,u),o.child;case 8:return ar(a,o,o.pendingProps.children,u),o.child;case 12:return ar(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,xo(o,o.type,h.value),ar(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Vl(o),v=ir(v),h=h(v),o.flags|=1,ar(a,o,h,u),o.child;case 14:return Rk(a,o,o.type,o.pendingProps,u);case 15:return jk(a,o,o.type,o.pendingProps,u);case 19:return qk(a,o,u);case 31:return xB(a,o,u);case 22:return Mk(a,o,u,o.pendingProps);case 24:return Vl(o),h=ir(xn),a===null?(v=jb(),v===null&&(v=Lt,w=Pb(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),o.memoizedState={parent:h,cache:v},zb(o),xo(o,xn,v)):((a.lanes&u)!==0&&(Db(a,o),Mf(o,null,null,u),jf()),v=a.memoizedState,w=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),xo(o,xn,h)):(h=w.cache,xo(o,xn,h),h!==v.cache&&Ob(o,[xn],u,!0))),ar(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function vs(a){a.flags|=4}function vx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(yC())a.flags|=8192;else throw Fl=Dp,Mb}else a.flags&=-16777217}function Hk(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sI(o))if(yC())a.flags|=8192;else throw Fl=Dp,Mb}function eg(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Un():536870912,a.lanes|=o,Tu|=o)}function Uf(a,o){if(!ct)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function _B(a,o,u){var h=o.pendingProps;switch(Ab(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ms(xn),G(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(fu(o)?vs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cb())),Gt(o),null;case 26:var v=o.type,w=o.memoizedState;return a===null?(vs(o),w!==null?(Gt(o),Hk(o,w)):(Gt(o),vx(o,v,null,h,u))):w?w!==a.memoizedState?(vs(o),Gt(o),Hk(o,w)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&vs(o),Gt(o),vx(o,v,a,h,u)),null;case 27:if(Ne(o),u=Se.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&vs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=ce.current,fu(o)?SA(o):(a=ZC(v,h,u),o.stateNode=a,vs(o))}return Gt(o),null;case 5:if(Ne(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&vs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(w=ce.current,fu(o))SA(o);else{var I=pg(Se.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}w[yn]=o,w[Fn]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=w;e:switch(sr(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&vs(o)}}return Gt(o),vx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&vs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,fu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=rr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[yn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||UC(a.nodeValue,u)),a||bo(o,!0)}else a=pg(a).createTextNode(h),a[yn]=o,o.stateNode=a}return Gt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=fu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else u=Cb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ti(o),o):(ti(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=fu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[yn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else v=Cb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ti(o),o):(ti(o),null)}return ti(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),eg(o,o.updateQueue),Gt(o),null);case 4:return G(),a===null&&Bx(o.stateNode.containerInfo),Gt(o),null;case 10:return ms(o.type),Gt(o),null;case 19:if(ie(un),h=o.memoizedState,h===null)return Gt(o),null;if(v=(o.flags&128)!==0,w=h.rendering,w===null)if(v)Uf(h,!1);else{if(sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Up(a),w!==null){for(o.flags|=128,Uf(h,!1),a=w.updateQueue,o.updateQueue=a,eg(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)bA(u,a),u=u.sibling;return re(un,un.current&1|2),ct&&fs(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&fe()>ag&&(o.flags|=128,v=!0,Uf(h,!1),o.lanes=4194304)}else{if(!v)if(a=Up(w),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,eg(o,a),Uf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!ct)return Gt(o),null}else 2*fe()-h.renderingStartTime>ag&&u!==536870912&&(o.flags|=128,v=!0,Uf(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(a=h.last,a!==null?a.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=fe(),a.sibling=null,u=un.current,re(un,v?u&1|2:u&1),ct&&fs(o,h.treeForkCount),a):(Gt(o),null);case 22:case 23:return ti(o),Ub(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&eg(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ie(Bl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ms(xn),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function EB(a,o){switch(Ab(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ms(xn),G(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 31:if(o.memoizedState!==null){if(ti(o),o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ti(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ie(un),null;case 4:return G(),null;case 10:return ms(o.type),null;case 22:case 23:return ti(o),Ub(),a!==null&&ie(Bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ms(xn),null;case 25:return null;default:return null}}function Gk(a,o){switch(Ab(o),o.tag){case 3:ms(xn),G();break;case 26:case 27:case 5:Ne(o);break;case 4:G();break;case 31:o.memoizedState!==null&&ti(o);break;case 13:ti(o);break;case 19:ie(un);break;case 10:ms(o.type);break;case 22:case 23:ti(o),Ub(),a!==null&&ie(Bl);break;case 24:ms(xn)}}function Ff(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var w=u.create,I=u.inst;h=w(),I.destroy=h}u=u.next}while(u!==v)}}catch(D){Et(o,o.return,D)}}function Ao(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&a)===a){var I=h.inst,D=I.destroy;if(D!==void 0){I.destroy=void 0,v=o;var H=u,ee=D;try{ee()}catch(le){Et(v,H,le)}}}h=h.next}while(h!==w)}}catch(le){Et(o,o.return,le)}}function Kk(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{DA(o,u)}catch(h){Et(a,a.return,h)}}}function Yk(a,o,u){u.props=Hl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){Et(a,o,h)}}function qf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){Et(a,o,v)}}function Da(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Et(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Et(a,o,v)}else u.current=null}function Wk(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Et(a,a.return,v)}}function bx(a,o,u){try{var h=a.stateNode;HB(h,a.type,u,o),h[Fn]=o}catch(v){Et(a,a.return,v)}}function Xk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function xx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Xk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wx(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Qi));else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(wx(a,o,u),a=a.sibling;a!==null;)wx(a,o,u),a=a.sibling}function tg(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Ro(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(tg(a,o,u),a=a.sibling;a!==null;)tg(a,o,u),a=a.sibling}function Qk(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);sr(o,h,u),o[yn]=a,o[Fn]=u}catch(w){Et(a,a.return,w)}}var bs=!1,En=!1,_x=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,$n=null;function SB(a,o){if(a=a.containerInfo,qx=_g,a=uA(a),pb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var I=0,D=-1,H=-1,ee=0,le=0,he=a,te=null;t:for(;;){for(var se;he!==u||v!==0&&he.nodeType!==3||(D=I+v),he!==w||h!==0&&he.nodeType!==3||(H=I+h),he.nodeType===3&&(I+=he.nodeValue.length),(se=he.firstChild)!==null;)te=he,he=se;for(;;){if(he===a)break t;if(te===u&&++ee===v&&(D=I),te===w&&++le===h&&(H=I),(se=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=se}u=D===-1||H===-1?null:{start:D,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for($x={focusedElem:a,selectionRange:u},_g=!1,$n=o;$n!==null;)if(o=$n,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,$n=a;else for(;$n!==null;){switch(o=$n,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,v=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var Re=Hl(u.type,v);a=h.getSnapshotBeforeUpdate(Re,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(He){Et(u,u.return,He)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Kx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Kx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,$n=a;break}$n=o.return}}function Jk(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ws(a,u),h&4&&Ff(5,u);break;case 1:if(ws(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){Et(u,u.return,I)}else{var v=Hl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){Et(u,u.return,I)}}h&64&&Kk(u),h&512&&qf(u,u.return);break;case 3:if(ws(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{DA(a,o)}catch(I){Et(u,u.return,I)}}break;case 27:o===null&&h&4&&Qk(u);case 26:case 5:ws(a,u),o===null&&h&4&&Wk(u),h&512&&qf(u,u.return);break;case 12:ws(a,u);break;case 31:ws(a,u),h&4&&nC(a,u);break;case 13:ws(a,u),h&4&&rC(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=RB.bind(null,u),JB(a,u))));break;case 22:if(h=u.memoizedState!==null||bs,!h){o=o!==null&&o.memoizedState!==null||En,v=bs;var w=En;bs=h,(En=o)&&!w?_s(a,u,(u.subtreeFlags&8772)!==0):ws(a,u),bs=v,En=w}break;case 30:break;default:ws(a,u)}}function eC(a){var o=a.alternate;o!==null&&(a.alternate=null,eC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Wc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Mr=!1;function xs(a,o,u){for(u=u.child;u!==null;)tC(a,o,u),u=u.sibling}function tC(a,o,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Kr,u)}catch{}switch(u.tag){case 26:En||Da(u,o),xs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:En||Da(u,o);var h=Xt,v=Mr;Ro(u.type)&&(Xt=u.stateNode,Mr=!1),xs(a,o,u),Zf(u.stateNode),Xt=h,Mr=v;break;case 5:En||Da(u,o);case 6:if(h=Xt,v=Mr,Xt=null,xs(a,o,u),Xt=h,Mr=v,Xt!==null)if(Mr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(u.stateNode)}catch(w){Et(u,o,w)}else try{Xt.removeChild(u.stateNode)}catch(w){Et(u,o,w)}break;case 18:Xt!==null&&(Mr?(a=Xt,KC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Ru(a)):KC(Xt,u.stateNode));break;case 4:h=Xt,v=Mr,Xt=u.stateNode.containerInfo,Mr=!0,xs(a,o,u),Xt=h,Mr=v;break;case 0:case 11:case 14:case 15:Ao(2,u,o),En||Ao(4,u,o),xs(a,o,u);break;case 1:En||(Da(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Yk(u,o,h)),xs(a,o,u);break;case 21:xs(a,o,u);break;case 22:En=(h=En)||u.memoizedState!==null,xs(a,o,u),En=h;break;default:xs(a,o,u)}}function nC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ru(a)}catch(u){Et(o,o.return,u)}}}function rC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ru(a)}catch(u){Et(o,o.return,u)}}function TB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Zk),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Zk),o;default:throw Error(r(435,a.tag))}}function ng(a,o){var u=TB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=jB.bind(null,a,h);h.then(v,v)}})}function zr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],w=a,I=o,D=I;e:for(;D!==null;){switch(D.tag){case 27:if(Ro(D.type)){Xt=D.stateNode,Mr=!1;break e}break;case 5:Xt=D.stateNode,Mr=!1;break e;case 3:case 4:Xt=D.stateNode.containerInfo,Mr=!0;break e}D=D.return}if(Xt===null)throw Error(r(160));tC(w,I,v),Xt=null,Mr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)iC(o,a),o=o.sibling}var ra=null;function iC(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:zr(o,a),Dr(a),h&4&&(Ao(3,a,a.return),Ff(3,a),Ao(5,a,a.return));break;case 1:zr(o,a),Dr(a),h&512&&(En||u===null||Da(u,u.return)),h&64&&bs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=ra;if(zr(o,a),Dr(a),h&512&&(En||u===null||Da(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Ea]||w[yn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),sr(w,h,u),w[yn]=a,vn(w),h=w;break e;case"link":var I=iI("link","href",v).get(h+(u.href||""));if(I){for(var D=0;D<I.length;D++)if(w=I[D],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(D,1);break t}}w=v.createElement(h),sr(w,h,u),v.head.appendChild(w);break;case"meta":if(I=iI("meta","content",v).get(h+(u.content||""))){for(D=0;D<I.length;D++)if(w=I[D],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(D,1);break t}}w=v.createElement(h),sr(w,h,u),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[yn]=a,vn(w),h=w}a.stateNode=h}else aI(v,a.type,a.stateNode);else a.stateNode=rI(v,h,a.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?aI(v,a.type,a.stateNode):rI(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&bx(a,a.memoizedProps,u.memoizedProps)}break;case 27:zr(o,a),Dr(a),h&512&&(En||u===null||Da(u,u.return)),u!==null&&h&4&&bx(a,a.memoizedProps,u.memoizedProps);break;case 5:if(zr(o,a),Dr(a),h&512&&(En||u===null||Da(u,u.return)),a.flags&32){v=a.stateNode;try{jr(v,"")}catch(Re){Et(a,a.return,Re)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,bx(a,v,u!==null?u.memoizedProps:v)),h&1024&&(_x=!0);break;case 6:if(zr(o,a),Dr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Re){Et(a,a.return,Re)}}break;case 3:if(vg=null,v=ra,ra=gg(o.containerInfo),zr(o,a),ra=v,Dr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ru(o.containerInfo)}catch(Re){Et(a,a.return,Re)}_x&&(_x=!1,aC(a));break;case 4:h=ra,ra=gg(a.stateNode.containerInfo),zr(o,a),Dr(a),ra=h;break;case 12:zr(o,a),Dr(a);break;case 31:zr(o,a),Dr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 13:zr(o,a),Dr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ig=fe()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 22:v=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=bs,le=En;if(bs=ee||v,En=le||H,zr(o,a),En=le,bs=ee,Dr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||H||bs||En||Gl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(w=H.stateNode,v)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{D=H.stateNode;var he=H.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Re){Et(H,H.return,Re)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Re){Et(H,H.return,Re)}}}else if(o.tag===18){if(u===null){H=o;try{var se=H.stateNode;v?YC(se,!0):YC(H.stateNode,!1)}catch(Re){Et(H,H.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ng(a,u))));break;case 19:zr(o,a),Dr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ng(a,h)));break;case 30:break;case 21:break;default:zr(o,a),Dr(a)}}function Dr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(Xk(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=xx(a);tg(a,w,v);break;case 5:var I=u.stateNode;u.flags&32&&(jr(I,""),u.flags&=-33);var D=xx(a);tg(a,D,I);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=xx(a);wx(a,ee,H);break;default:throw Error(r(161))}}catch(le){Et(a,a.return,le)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function aC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;aC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ws(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Jk(a,o.alternate,o),o=o.sibling}function Gl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ao(4,o,o.return),Gl(o);break;case 1:Da(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Yk(o,o.return,u),Gl(o);break;case 27:Zf(o.stateNode);case 26:case 5:Da(o,o.return),Gl(o);break;case 22:o.memoizedState===null&&Gl(o);break;case 30:Gl(o);break;default:Gl(o)}a=a.sibling}}function _s(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,w=o,I=w.flags;switch(w.tag){case 0:case 11:case 15:_s(v,w,u),Ff(4,w);break;case 1:if(_s(v,w,u),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){Et(h,h.return,ee)}if(h=w,v=h.updateQueue,v!==null){var D=h.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)zA(H[v],D)}catch(ee){Et(h,h.return,ee)}}u&&I&64&&Kk(w),qf(w,w.return);break;case 27:Qk(w);case 26:case 5:_s(v,w,u),u&&h===null&&I&4&&Wk(w),qf(w,w.return);break;case 12:_s(v,w,u);break;case 31:_s(v,w,u),u&&I&4&&nC(v,w);break;case 13:_s(v,w,u),u&&I&4&&rC(v,w);break;case 22:w.memoizedState===null&&_s(v,w,u),qf(w,w.return);break;case 30:break;default:_s(v,w,u)}o=o.sibling}}function Ex(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&If(u))}function Sx(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a))}function ia(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sC(a,o,u,h),o=o.sibling}function sC(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ia(a,o,u,h),v&2048&&Ff(9,o);break;case 1:ia(a,o,u,h);break;case 3:ia(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a)));break;case 12:if(v&2048){ia(a,o,u,h),a=o.stateNode;try{var w=o.memoizedProps,I=w.id,D=w.onPostCommit;typeof D=="function"&&D(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Et(o,o.return,H)}}else ia(a,o,u,h);break;case 31:ia(a,o,u,h);break;case 13:ia(a,o,u,h);break;case 23:break;case 22:w=o.stateNode,I=o.alternate,o.memoizedState!==null?w._visibility&2?ia(a,o,u,h):$f(a,o):w._visibility&2?ia(a,o,u,h):(w._visibility|=2,_u(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Ex(I,o);break;case 24:ia(a,o,u,h),v&2048&&Sx(o.alternate,o);break;default:ia(a,o,u,h)}}function _u(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,I=o,D=u,H=h,ee=I.flags;switch(I.tag){case 0:case 11:case 15:_u(w,I,D,H,v),Ff(8,I);break;case 23:break;case 22:var le=I.stateNode;I.memoizedState!==null?le._visibility&2?_u(w,I,D,H,v):$f(w,I):(le._visibility|=2,_u(w,I,D,H,v)),v&&ee&2048&&Ex(I.alternate,I);break;case 24:_u(w,I,D,H,v),v&&ee&2048&&Sx(I.alternate,I);break;default:_u(w,I,D,H,v)}o=o.sibling}}function $f(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:$f(u,h),v&2048&&Ex(h.alternate,h);break;case 24:$f(u,h),v&2048&&Sx(h.alternate,h);break;default:$f(u,h)}o=o.sibling}}var Hf=8192;function Eu(a,o,u){if(a.subtreeFlags&Hf)for(a=a.child;a!==null;)oC(a,o,u),a=a.sibling}function oC(a,o,u){switch(a.tag){case 26:Eu(a,o,u),a.flags&Hf&&a.memoizedState!==null&&dU(u,ra,a.memoizedState,a.memoizedProps);break;case 5:Eu(a,o,u);break;case 3:case 4:var h=ra;ra=gg(a.stateNode.containerInfo),Eu(a,o,u),ra=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Hf,Hf=16777216,Eu(a,o,u),Hf=h):Eu(a,o,u));break;default:Eu(a,o,u)}}function lC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Gf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,uC(h,a)}lC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cC(a),a=a.sibling}function cC(a){switch(a.tag){case 0:case 11:case 15:Gf(a),a.flags&2048&&Ao(9,a,a.return);break;case 3:Gf(a);break;case 12:Gf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,rg(a)):Gf(a);break;default:Gf(a)}}function rg(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];$n=h,uC(h,a)}lC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ao(8,o,o.return),rg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,rg(o));break;default:rg(o)}a=a.sibling}}function uC(a,o){for(;$n!==null;){var u=$n;switch(u.tag){case 0:case 11:case 15:Ao(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:If(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,$n=h;else e:for(u=a;$n!==null;){h=$n;var v=h.sibling,w=h.return;if(eC(h),h===u){$n=null;break e}if(v!==null){v.return=w,$n=v;break e}$n=w}}}var AB={getCacheForType:function(a){var o=ir(xn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return ir(xn).controller.signal}},kB=typeof WeakMap=="function"?WeakMap:Map,vt=0,Lt=null,rt=null,at=0,_t=0,ni=null,ko=!1,Su=!1,Tx=!1,Es=0,sn=0,Co=0,Kl=0,Ax=0,ri=0,Tu=0,Kf=null,Lr=null,kx=!1,ig=0,dC=0,ag=1/0,sg=null,Io=null,Nn=0,No=null,Au=null,Ss=0,Cx=0,Ix=null,fC=null,Yf=0,Nx=null;function ii(){return(vt&2)!==0&&at!==0?at&-at:Y.T!==null?zx():of()}function hC(){if(ri===0)if((at&536870912)===0||ct){var a=os;os<<=1,(os&3932160)===0&&(os=262144),ri=a}else ri=536870912;return a=ei.current,a!==null&&(a.flags|=32),ri}function Vr(a,o,u){(a===Lt&&(_t===2||_t===9)||a.cancelPendingCommit!==null)&&(ku(a,0),Oo(a,at,ri,!1)),$t(a,u),((vt&2)===0||a!==Lt)&&(a===Lt&&((vt&2)===0&&(Kl|=u),sn===4&&Oo(a,at,ri,!1)),La(a))}function mC(a,o,u){if((vt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||xt(a,o),v=h?NB(a,o):Px(a,o,!0),w=h;do{if(v===0){Su&&!h&&Oo(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!CB(u)){v=Px(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var D=a;v=Kf;var H=D.current.memoizedState.isDehydrated;if(H&&(ku(D,I).flags|=256),I=Px(D,I,!1),I!==2){if(Tx&&!H){D.errorRecoveryDisabledLanes|=w,Kl|=w,v=4;break e}w=Lr,Lr=v,w!==null&&(Lr===null?Lr=w:Lr.push.apply(Lr,w))}v=I}if(w=!1,v!==2)continue}}if(v===1){ku(a,0),Oo(a,o,0,!0);break}e:{switch(h=a,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Oo(h,o,ri,!ko);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=ig+300-fe(),10<v)){if(Oo(h,o,ri,!ko),$e(h,0,!0)!==0)break e;Ss=o,h.timeoutHandle=HC(pC.bind(null,h,u,Lr,sg,kx,o,ri,Kl,Tu,ko,w,"Throttled",-0,0),v);break e}pC(h,u,Lr,sg,kx,o,ri,Kl,Tu,ko,w,null,-0,0)}}break}while(!0);La(a)}function pC(a,o,u,h,v,w,I,D,H,ee,le,he,te,se){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},oC(o,w,he);var Re=(w&62914560)===w?ig-fe():(w&4194048)===w?dC-fe():0;if(Re=fU(he,Re),Re!==null){Ss=w,a.cancelPendingCommit=Re(EC.bind(null,a,o,w,u,h,v,I,D,H,le,he,null,te,se)),Oo(a,w,I,!ee);return}}EC(a,o,w,u,h,v,I,D,H)}function CB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!Zr(w(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oo(a,o,u,h){o&=~Ax,o&=~Kl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var w=31-Yt(v),I=1<<w;h[w]=-1,v&=~I}u!==0&&_i(a,u,o)}function og(){return(vt&6)===0?(Wf(0),!1):!0}function Ox(){if(rt!==null){if(_t===0)var a=rt.return;else a=rt,hs=Ll=null,Kb(a),yu=null,Of=0,a=rt;for(;a!==null;)Gk(a.alternate,a),a=a.return;rt=null}}function ku(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,YB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ss=0,Ox(),Lt=a,rt=u=ds(a.current,null),at=o,_t=0,ni=null,ko=!1,Su=xt(a,o),Tx=!1,Tu=ri=Ax=Kl=Co=sn=0,Lr=Kf=null,kx=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Yt(h),w=1<<v;o|=a[v],h&=~w}return Es=o,Cp(),u}function gC(a,o){Ze=null,Y.H=Vf,o===gu||o===zp?(o=PA(),_t=3):o===Mb?(o=PA(),_t=4):_t=o===cx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ni=o,rt===null&&(sn=1,Xp(a,Ci(o,a.current)))}function yC(){var a=ei.current;return a===null?!0:(at&4194048)===at?Pi===null:(at&62914560)===at||(at&536870912)!==0?a===Pi:!1}function vC(){var a=Y.H;return Y.H=Vf,a===null?Vf:a}function bC(){var a=Y.A;return Y.A=AB,a}function lg(){sn=4,ko||(at&4194048)!==at&&ei.current!==null||(Su=!0),(Co&134217727)===0&&(Kl&134217727)===0||Lt===null||Oo(Lt,at,ri,!1)}function Px(a,o,u){var h=vt;vt|=2;var v=vC(),w=bC();(Lt!==a||at!==o)&&(sg=null,ku(a,o)),o=!1;var I=sn;e:do try{if(_t!==0&&rt!==null){var D=rt,H=ni;switch(_t){case 8:Ox(),I=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(o=!0);var ee=_t;if(_t=0,ni=null,Cu(a,D,H,ee),u&&Su){I=0;break e}break;default:ee=_t,_t=0,ni=null,Cu(a,D,H,ee)}}IB(),I=sn;break}catch(le){gC(a,le)}while(!0);return o&&a.shellSuspendCounter++,hs=Ll=null,vt=h,Y.H=v,Y.A=w,rt===null&&(Lt=null,at=0,Cp()),I}function IB(){for(;rt!==null;)xC(rt)}function NB(a,o){var u=vt;vt|=2;var h=vC(),v=bC();Lt!==a||at!==o?(sg=null,ag=fe()+500,ku(a,o)):Su=xt(a,o);e:do try{if(_t!==0&&rt!==null){o=rt;var w=ni;t:switch(_t){case 1:_t=0,ni=null,Cu(a,o,w,1);break;case 2:case 9:if(NA(w)){_t=0,ni=null,wC(o);break}o=function(){_t!==2&&_t!==9||Lt!==a||(_t=7),La(a)},w.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:NA(w)?(_t=0,ni=null,wC(o)):(_t=0,ni=null,Cu(a,o,w,7));break;case 5:var I=null;switch(rt.tag){case 26:I=rt.memoizedState;case 5:case 27:var D=rt;if(I?sI(I):D.stateNode.complete){_t=0,ni=null;var H=D.sibling;if(H!==null)rt=H;else{var ee=D.return;ee!==null?(rt=ee,cg(ee)):rt=null}break t}}_t=0,ni=null,Cu(a,o,w,5);break;case 6:_t=0,ni=null,Cu(a,o,w,6);break;case 8:Ox(),sn=6;break e;default:throw Error(r(462))}}OB();break}catch(le){gC(a,le)}while(!0);return hs=Ll=null,Y.H=h,Y.A=v,vt=u,rt!==null?0:(Lt=null,at=0,Cp(),sn)}function OB(){for(;rt!==null&&!et();)xC(rt)}function xC(a){var o=$k(a.alternate,a,Es);a.memoizedProps=a.pendingProps,o===null?cg(a):rt=o}function wC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Lk(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=Lk(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:Kb(o);default:Gk(u,o),o=rt=bA(o,Es),o=$k(u,o,Es)}a.memoizedProps=a.pendingProps,o===null?cg(a):rt=o}function Cu(a,o,u,h){hs=Ll=null,Kb(o),yu=null,Of=0;var v=o.return;try{if(bB(a,v,o,u,at)){sn=1,Xp(a,Ci(u,a.current)),rt=null;return}}catch(w){if(v!==null)throw rt=v,w;sn=1,Xp(a,Ci(u,a.current)),rt=null;return}o.flags&32768?(ct||h===1?a=!0:Su||(at&536870912)!==0?a=!1:(ko=a=!0,(h===2||h===9||h===3||h===6)&&(h=ei.current,h!==null&&h.tag===13&&(h.flags|=16384))),_C(o,a)):cg(o)}function cg(a){var o=a;do{if((o.flags&32768)!==0){_C(o,ko);return}a=o.return;var u=_B(o.alternate,o,Es);if(u!==null){rt=u;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=a}while(o!==null);sn===0&&(sn=5)}function _C(a,o){do{var u=EB(a.alternate,a);if(u!==null){u.flags&=32767,rt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){rt=a;return}rt=a=u}while(a!==null);sn=6,rt=null}function EC(a,o,u,h,v,w,I,D,H){a.cancelPendingCommit=null;do ug();while(Nn!==0);if((vt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=xb,mr(a,u,w,I,D,H),a===Lt&&(rt=Lt=null,at=0),Au=o,No=a,Ss=u,Cx=w,Ix=v,fC=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,MB(_r,function(){return CC(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=ne.p,ne.p=2,I=vt,vt|=4;try{SB(a,o,u)}finally{vt=I,ne.p=v,Y.T=h}}Nn=1,SC(),TC(),AC()}}function SC(){if(Nn===1){Nn=0;var a=No,o=Au,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=ne.p;ne.p=2;var v=vt;vt|=4;try{iC(o,a);var w=$x,I=uA(a.containerInfo),D=w.focusedElem,H=w.selectionRange;if(I!==D&&D&&D.ownerDocument&&cA(D.ownerDocument.documentElement,D)){if(H!==null&&pb(D)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in D)D.selectionStart=ee,D.selectionEnd=Math.min(le,D.value.length);else{var he=D.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var se=te.getSelection(),Re=D.textContent.length,He=Math.min(H.start,Re),Pt=H.end===void 0?He:Math.min(H.end,Re);!se.extend&&He>Pt&&(I=Pt,Pt=He,He=I);var X=lA(D,He),K=lA(D,Pt);if(X&&K&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var J=he.createRange();J.setStart(X.node,X.offset),se.removeAllRanges(),He>Pt?(se.addRange(J),se.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),se.addRange(J))}}}}for(he=[],se=D;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var ue=he[D];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}_g=!!qx,$x=qx=null}finally{vt=v,ne.p=h,Y.T=u}}a.current=o,Nn=2}}function TC(){if(Nn===2){Nn=0;var a=No,o=Au,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=ne.p;ne.p=2;var v=vt;vt|=4;try{Jk(a,o.alternate,o)}finally{vt=v,ne.p=h,Y.T=u}}Nn=3}}function AC(){if(Nn===4||Nn===3){Nn=0,Cn();var a=No,o=Au,u=Ss,h=fC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Nn=5:(Nn=0,Au=No=null,kC(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Io=null),tr(u),o=o.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Kr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,v=ne.p,ne.p=2,Y.T=null;try{for(var w=a.onRecoverableError,I=0;I<h.length;I++){var D=h[I];w(D.value,{componentStack:D.stack})}}finally{Y.T=o,ne.p=v}}(Ss&3)!==0&&ug(),La(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Nx?Yf++:(Yf=0,Nx=a):Yf=0,Wf(0)}}function kC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,If(o)))}function ug(){return SC(),TC(),AC(),CC()}function CC(){if(Nn!==5)return!1;var a=No,o=Cx;Cx=0;var u=tr(Ss),h=Y.T,v=ne.p;try{ne.p=32>u?32:u,Y.T=null,u=Ix,Ix=null;var w=No,I=Ss;if(Nn=0,Au=No=null,Ss=0,(vt&6)!==0)throw Error(r(331));var D=vt;if(vt|=4,cC(w.current),sC(w,w.current,I,u),vt=D,Wf(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Kr,w)}catch{}return!0}finally{ne.p=v,Y.T=h,kC(a,o)}}function IC(a,o,u){o=Ci(u,o),o=lx(a.stateNode,o,2),a=Eo(a,o,2),a!==null&&($t(a,2),La(a))}function Et(a,o,u){if(a.tag===3)IC(a,a,u);else for(;o!==null;){if(o.tag===3){IC(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Io===null||!Io.has(h))){a=Ci(u,a),u=Nk(2),h=Eo(o,u,2),h!==null&&(Ok(u,h,o,a),$t(h,2),La(h));break}}o=o.return}}function Rx(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new kB;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Tx=!0,v.add(u),a=PB.bind(null,a,o,u),o.then(a,a))}function PB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Lt===a&&(at&u)===u&&(sn===4||sn===3&&(at&62914560)===at&&300>fe()-ig?(vt&2)===0&&ku(a,0):Ax|=u,Tu===at&&(Tu=0)),La(a)}function NC(a,o){o===0&&(o=Un()),a=Ml(a,o),a!==null&&($t(a,o),La(a))}function RB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),NC(a,u)}function jB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),NC(a,u)}function MB(a,o){return qt(a,o)}var dg=null,Iu=null,jx=!1,fg=!1,Mx=!1,Po=0;function La(a){a!==Iu&&a.next===null&&(Iu===null?dg=Iu=a:Iu=Iu.next=a),fg=!0,jx||(jx=!0,DB())}function Wf(a,o){if(!Mx&&fg){Mx=!0;do for(var u=!1,h=dg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var I=h.suspendedLanes,D=h.pingedLanes;w=(1<<31-Yt(42|a)+1)-1,w&=v&~(I&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,jC(h,w))}else w=at,w=$e(h,h===Lt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||xt(h,w)||(u=!0,jC(h,w));h=h.next}while(u);Mx=!1}}function zB(){OC()}function OC(){fg=jx=!1;var a=0;Po!==0&&KB()&&(a=Po);for(var o=fe(),u=null,h=dg;h!==null;){var v=h.next,w=PC(h,o);w===0?(h.next=null,u===null?dg=v:u.next=v,v===null&&(Iu=u)):(u=h,(a!==0||(w&3)!==0)&&(fg=!0)),h=v}Nn!==0&&Nn!==5||Wf(a),Po!==0&&(Po=0)}function PC(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var I=31-Yt(w),D=1<<I,H=v[I];H===-1?((D&u)===0||(D&h)!==0)&&(v[I]=gn(D,o)):H<=o&&(a.expiredLanes|=D),w&=~D}if(o=Lt,u=at,u=$e(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(_t===2||_t===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Fe(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||xt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&Fe(h),tr(u)){case 2:case 8:u=ba;break;case 32:u=_r;break;case 268435456:u=Ki;break;default:u=_r}return h=RC.bind(null,a),u=qt(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&Fe(h),a.callbackPriority=2,a.callbackNode=null,2}function RC(a,o){if(Nn!==0&&Nn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(ug()&&a.callbackNode!==u)return null;var h=at;return h=$e(a,a===Lt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(mC(a,h,o),PC(a,fe()),a.callbackNode!=null&&a.callbackNode===u?RC.bind(null,a):null)}function jC(a,o){if(ug())return null;mC(a,o,!0)}function DB(){WB(function(){(vt&6)!==0?qt(Bn,zB):OC()})}function zx(){if(Po===0){var a=mu;a===0&&(a=wi,wi<<=1,(wi&261888)===0&&(wi=256)),Po=a}return Po}function MC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Jc(""+a)}function zC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function LB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var w=MC((v[Fn]||null).action),I=h.submitter;I&&(o=(o=I[Fn]||null)?MC(o.formAction):I.getAttribute("formAction"),o!==null&&(w=o,I=null));var D=new Oa("action","action",null,h,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Po!==0){var H=I?zC(v,I):new FormData(v);nx(u,{pending:!0,data:H,method:v.method,action:w},null,H)}}else typeof w=="function"&&(D.preventDefault(),H=I?zC(v,I):new FormData(v),nx(u,{pending:!0,data:H,method:v.method,action:w},w,H))},currentTarget:v}]})}}for(var Dx=0;Dx<bb.length;Dx++){var Lx=bb[Dx],VB=Lx.toLowerCase(),BB=Lx[0].toUpperCase()+Lx.slice(1);na(VB,"on"+BB)}na(hA,"onAnimationEnd"),na(mA,"onAnimationIteration"),na(pA,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(nB,"onTransitionRun"),na(rB,"onTransitionStart"),na(iB,"onTransitionCancel"),na(gA,"onTransitionEnd"),ka("onMouseEnter",["mouseout","mouseover"]),ka("onMouseLeave",["mouseout","mouseover"]),ka("onPointerEnter",["pointerout","pointerover"]),ka("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xf));function DC(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var I=h.length-1;0<=I;I--){var D=h[I],H=D.instance,ee=D.currentTarget;if(D=D.listener,H!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=ee;try{w(v)}catch(le){kp(le)}v.currentTarget=null,w=H}else for(I=0;I<h.length;I++){if(D=h[I],H=D.instance,ee=D.currentTarget,D=D.listener,H!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=ee;try{w(v)}catch(le){kp(le)}v.currentTarget=null,w=H}}}}function it(a,o){var u=o[Yc];u===void 0&&(u=o[Yc]=new Set);var h=a+"__bubble";u.has(h)||(LC(o,a,2,!1),u.add(h))}function Vx(a,o,u){var h=0;o&&(h|=4),LC(u,a,h,o)}var hg="_reactListening"+Math.random().toString(36).slice(2);function Bx(a){if(!a[hg]){a[hg]=!0,lf.forEach(function(u){u!=="selectionchange"&&(UB.has(u)||Vx(u,!1,a),Vx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[hg]||(o[hg]=!0,Vx("selectionchange",!1,o))}}function LC(a,o,u,h){switch(hI(o)){case 2:var v=pU;break;case 8:v=gU;break;default:v=t1}u=v.bind(null,o,u,a),v=void 0,!kl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Ux(a,o,u,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var D=h.stateNode.containerInfo;if(D===v)break;if(I===4)for(I=h.return;I!==null;){var H=I.tag;if((H===3||H===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;D!==null;){if(I=Sa(D),I===null)return;if(H=I.tag,H===5||H===6||H===26||H===27){h=w=I;continue e}D=D.parentNode}}h=h.return}ho(function(){var ee=w,le=Si(u),he=[];e:{var te=yA.get(a);if(te!==void 0){var se=Oa,Re=a;switch(a){case"keypress":if(Il(u)===0)break e;case"keydown":case"keyup":se=Sp;break;case"focusin":Re="focus",se=Ol;break;case"focusout":Re="blur",se=Ol;break;case"beforeblur":case"afterblur":se=Ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=A;break;case hA:case mA:case pA:se=yp;break;case gA:se=B;break;case"scroll":case"scrollend":se=xf;break;case"wheel":se=ae;break;case"copy":case"cut":case"paste":se=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=us;break;case"toggle":case"beforetoggle":se=Qe}var He=(o&4)!==0,Pt=!He&&(a==="scroll"||a==="scrollend"),X=He?te!==null?te+"Capture":null:te;He=[];for(var K=ee,J;K!==null;){var ue=K;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||X===null||(ue=Zi(K,X),ue!=null&&He.push(Qf(K,ue,J))),Pt)break;K=K.return}0<He.length&&(te=new se(te,Re,null,u,le),he.push({event:te,listeners:He}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",te&&u!==yf&&(Re=u.relatedTarget||u.fromElement)&&(Sa(Re)||Re[_a]))break e;if((se||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Re=u.relatedTarget||u.toElement,se=ee,Re=Re?Sa(Re):null,Re!==null&&(Pt=s(Re),He=Re.tag,Re!==Pt||He!==5&&He!==27&&He!==6)&&(Re=null)):(se=null,Re=ee),se!==Re)){if(He=wf,ue="onMouseLeave",X="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(He=us,ue="onPointerLeave",X="onPointerEnter",K="pointer"),Pt=se==null?te:Xr(se),J=Re==null?te:Xr(Re),te=new He(ue,K+"leave",se,u,le),te.target=Pt,te.relatedTarget=J,ue=null,Sa(le)===ee&&(He=new He(X,K+"enter",Re,u,le),He.target=J,He.relatedTarget=Pt,ue=He),Pt=ue,se&&Re)t:{for(He=FB,X=se,K=Re,J=0,ue=X;ue;ue=He(ue))J++;ue=0;for(var Be=K;Be;Be=He(Be))ue++;for(;0<J-ue;)X=He(X),J--;for(;0<ue-J;)K=He(K),ue--;for(;J--;){if(X===K||K!==null&&X===K.alternate){He=X;break t}X=He(X),K=He(K)}He=null}else He=null;se!==null&&VC(he,te,se,He,!1),Re!==null&&Pt!==null&&VC(he,Pt,Re,He,!0)}}e:{if(te=ee?Xr(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var ht=nA;else if(eA(te))if(rA)ht=J8;else{ht=Q8;var De=X8}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Zc(ee.elementType)&&(ht=nA):ht=Z8;if(ht&&(ht=ht(a,ee))){tA(he,ht,u,le);break e}De&&De(a,te,ee),a==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&mf(te,"number",te.value)}switch(De=ee?Xr(ee):window,a){case"focusin":(eA(De)||De.contentEditable==="true")&&(su=De,gb=ee,Af=null);break;case"focusout":Af=gb=su=null;break;case"mousedown":yb=!0;break;case"contextmenu":case"mouseup":case"dragend":yb=!1,dA(he,u,le);break;case"selectionchange":if(tB)break;case"keydown":case"keyup":dA(he,u,le)}var Je;if(yt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else au?Pl(a,u)&&(st="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(ja&&u.locale!=="ko"&&(au||st!=="onCompositionStart"?st==="onCompositionEnd"&&au&&(Je=bf()):(Na=le,vf="value"in Na?Na.value:Na.textContent,au=!0)),De=mg(ee,st),0<De.length&&(st=new Ra(st,a,null,u,le),he.push({event:st,listeners:De}),Je?st.data=Je:(Je=iu(u),Je!==null&&(st.data=Je)))),(Je=Ai?G8(a,u):K8(a,u))&&(st=mg(ee,"onBeforeInput"),0<st.length&&(De=new Ra("onBeforeInput","beforeinput",null,u,le),he.push({event:De,listeners:st}),De.data=Je)),LB(he,a,ee,u,le)}DC(he,o)})}function Qf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function mg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Zi(a,u),v!=null&&h.unshift(Qf(a,v,w)),v=Zi(a,o),v!=null&&h.push(Qf(a,v,w))),a.tag===3)return h;a=a.return}return[]}function FB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function VC(a,o,u,h,v){for(var w=o._reactName,I=[];u!==null&&u!==h;){var D=u,H=D.alternate,ee=D.stateNode;if(D=D.tag,H!==null&&H===h)break;D!==5&&D!==26&&D!==27||ee===null||(H=ee,v?(ee=Zi(u,w),ee!=null&&I.unshift(Qf(u,ee,H))):v||(ee=Zi(u,w),ee!=null&&I.push(Qf(u,ee,H)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var qB=/\r\n?/g,$B=/\u0000|\uFFFD/g;function BC(a){return(typeof a=="string"?a:""+a).replace(qB,`
`).replace($B,"")}function UC(a,o){return o=BC(o),BC(a)===o}function Ot(a,o,u,h,v,w){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||jr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&jr(a,""+h);break;case"className":Qr(a,"class",h);break;case"tabIndex":Qr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(a,u,h);break;case"style":gf(a,h,w);break;case"data":if(o!=="object"){Qr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&Ot(a,o,"name",v.name,v,null),Ot(a,o,"formEncType",v.formEncType,v,null),Ot(a,o,"formMethod",v.formMethod,v,null),Ot(a,o,"formTarget",v.formTarget,v,null)):(Ot(a,o,"encType",v.encType,v,null),Ot(a,o,"method",v.method,v,null),Ot(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Jc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Qi);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Jc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":it("beforetoggle",a),it("toggle",a),Xc(a,"popover",h);break;case"xlinkActuate":bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":bn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":bn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":bn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":bn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=mp.get(u)||u,Xc(a,u,h))}}function Fx(a,o,u,h,v,w){switch(u){case"style":gf(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?jr(a,h):(typeof h=="number"||typeof h=="bigint")&&jr(a,""+h);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),w=a[Fn]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Xc(a,u,h)}}}function sr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",a),it("load",a);var h=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var I=u[w];if(I!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(a,o,w,I,u,null)}}v&&Ot(a,o,"srcSet",u.srcSet,u,null),h&&Ot(a,o,"src",u.src,u,null);return;case"input":it("invalid",a);var D=w=I=v=null,H=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var le=u[h];if(le!=null)switch(h){case"name":v=le;break;case"type":I=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":w=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:Ot(a,o,h,le,u,null)}}dp(a,w,D,H,ee,I,v,!1);return;case"select":it("invalid",a),h=I=w=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":w=D;break;case"defaultValue":I=D;break;case"multiple":h=D;default:Ot(a,o,v,D,u,null)}o=w,u=I,a.multiple=!!h,o!=null?lo(a,!!h,o,!1):u!=null&&lo(a,!!h,u,!0);return;case"textarea":it("invalid",a),w=v=h=null;for(I in u)if(u.hasOwnProperty(I)&&(D=u[I],D!=null))switch(I){case"value":h=D;break;case"defaultValue":v=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Ot(a,o,I,D,u,null)}co(a,h,v,w);return;case"option":for(H in u)u.hasOwnProperty(H)&&(h=u[H],h!=null)&&(H==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Ot(a,o,H,h,u,null));return;case"dialog":it("beforetoggle",a),it("toggle",a),it("cancel",a),it("close",a);break;case"iframe":case"object":it("load",a);break;case"video":case"audio":for(h=0;h<Xf.length;h++)it(Xf[h],a);break;case"image":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"embed":case"source":case"link":it("error",a),it("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(a,o,ee,h,u,null)}return;default:if(Zc(o)){for(le in u)u.hasOwnProperty(le)&&(h=u[le],h!==void 0&&Fx(a,o,le,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&Ot(a,o,D,h,u,null))}function HB(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,I=null,D=null,H=null,ee=null,le=null;for(se in u){var he=u[se];if(u.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=he;default:h.hasOwnProperty(se)||Ot(a,o,se,null,h,he)}}for(var te in h){var se=h[te];if(he=u[te],h.hasOwnProperty(te)&&(se!=null||he!=null))switch(te){case"type":w=se;break;case"name":v=se;break;case"checked":ee=se;break;case"defaultChecked":le=se;break;case"value":I=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==he&&Ot(a,o,te,se,h,he)}}Qc(a,I,D,H,ee,le,w,v);return;case"select":se=I=D=te=null;for(w in u)if(H=u[w],u.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":se=H;default:h.hasOwnProperty(w)||Ot(a,o,w,null,h,H)}for(v in h)if(w=h[v],H=u[v],h.hasOwnProperty(v)&&(w!=null||H!=null))switch(v){case"value":te=w;break;case"defaultValue":D=w;break;case"multiple":I=w;default:w!==H&&Ot(a,o,v,w,h,H)}o=D,u=I,h=se,te!=null?lo(a,!!u,te,!1):!!h!=!!u&&(o!=null?lo(a,!!u,o,!0):lo(a,!!u,u?[]:"",!1));return;case"textarea":se=te=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ot(a,o,D,null,h,v)}for(I in h)if(v=h[I],w=u[I],h.hasOwnProperty(I)&&(v!=null||w!=null))switch(I){case"value":te=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Ot(a,o,I,v,h,w)}fp(a,te,se);return;case"option":for(var Re in u)te=u[Re],u.hasOwnProperty(Re)&&te!=null&&!h.hasOwnProperty(Re)&&(Re==="selected"?a.selected=!1:Ot(a,o,Re,null,h,te));for(H in h)te=h[H],se=u[H],h.hasOwnProperty(H)&&te!==se&&(te!=null||se!=null)&&(H==="selected"?a.selected=te&&typeof te!="function"&&typeof te!="symbol":Ot(a,o,H,te,h,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)te=u[He],u.hasOwnProperty(He)&&te!=null&&!h.hasOwnProperty(He)&&Ot(a,o,He,null,h,te);for(ee in h)if(te=h[ee],se=u[ee],h.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Ot(a,o,ee,te,h,se)}return;default:if(Zc(o)){for(var Pt in u)te=u[Pt],u.hasOwnProperty(Pt)&&te!==void 0&&!h.hasOwnProperty(Pt)&&Fx(a,o,Pt,void 0,h,te);for(le in h)te=h[le],se=u[le],!h.hasOwnProperty(le)||te===se||te===void 0&&se===void 0||Fx(a,o,le,te,h,se);return}}for(var X in u)te=u[X],u.hasOwnProperty(X)&&te!=null&&!h.hasOwnProperty(X)&&Ot(a,o,X,null,h,te);for(he in h)te=h[he],se=u[he],!h.hasOwnProperty(he)||te===se||te==null&&se==null||Ot(a,o,he,te,h,se)}function FC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],w=v.transferSize,I=v.initiatorType,D=v.duration;if(w&&D&&FC(I)){for(I=0,D=v.responseEnd,h+=1;h<u.length;h++){var H=u[h],ee=H.startTime;if(ee>D)break;var le=H.transferSize,he=H.initiatorType;le&&FC(he)&&(H=H.responseEnd,I+=le*(H<D?1:(D-ee)/(H-ee)))}if(--h,o+=8*(w+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var qx=null,$x=null;function pg(a){return a.nodeType===9?a:a.ownerDocument}function qC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Hx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gx=null;function KB(){var a=window.event;return a&&a.type==="popstate"?a===Gx?!1:(Gx=a,!0):(Gx=null,!1)}var HC=typeof setTimeout=="function"?setTimeout:void 0,YB=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,WB=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(a){return GC.resolve(null).then(a).catch(XB)}:HC;function XB(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function KC(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Ru(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Zf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Zf(u);for(var w=u.firstChild;w;){var I=w.nextSibling,D=w.nodeName;w[Ea]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=I}}else u==="body"&&Zf(a.ownerDocument.body);u=v}while(u);Ru(o)}function YC(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Kx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Kx(u),Wc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function QB(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ea])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ri(a.nextSibling),a===null)break}return null}function ZB(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ri(a.nextSibling),a===null))return null;return a}function WC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ri(a.nextSibling),a===null))return null;return a}function Yx(a){return a.data==="$?"||a.data==="$~"}function Wx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function JB(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ri(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Xx=null;function XC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ri(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function QC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function ZC(a,o,u){switch(o=pg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Wc(a)}var ji=new Map,JC=new Set;function gg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ts=ne.d;ne.d={f:eU,r:tU,D:nU,C:rU,L:iU,m:aU,X:oU,S:sU,M:lU};function eU(){var a=Ts.f(),o=og();return a||o}function tU(a){var o=Ei(a);o!==null&&o.tag===5&&o.type==="form"?gk(o):Ts.r(a)}var Nu=typeof document>"u"?null:document;function eI(a,o,u){var h=Nu;if(h&&typeof o=="string"&&o){var v=Rr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),JC.has(v)||(JC.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),sr(o,"link",a),vn(o),h.head.appendChild(o)))}}function nU(a){Ts.D(a),eI("dns-prefetch",a,null)}function rU(a,o){Ts.C(a,o),eI("preconnect",a,o)}function iU(a,o,u){Ts.L(a,o,u);var h=Nu;if(h&&a&&o){var v='link[rel="preload"][as="'+Rr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Rr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Rr(u.imageSizes)+'"]')):v+='[href="'+Rr(a)+'"]';var w=v;switch(o){case"style":w=Ou(a);break;case"script":w=Pu(a)}ji.has(w)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ji.set(w,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Jf(w))||o==="script"&&h.querySelector(eh(w))||(o=h.createElement("link"),sr(o,"link",a),vn(o),h.head.appendChild(o)))}}function aU(a,o){Ts.m(a,o);var u=Nu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Rr(h)+'"][href="'+Rr(a)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Pu(a)}if(!ji.has(w)&&(a=m({rel:"modulepreload",href:a},o),ji.set(w,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(eh(w)))return}h=u.createElement("link"),sr(h,"link",a),vn(h),u.head.appendChild(h)}}}function sU(a,o,u){Ts.S(a,o,u);var h=Nu;if(h&&a){var v=Ta(h).hoistableStyles,w=Ou(a);o=o||"default";var I=v.get(w);if(!I){var D={loading:0,preload:null};if(I=h.querySelector(Jf(w)))D.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ji.get(w))&&Qx(a,u);var H=I=h.createElement("link");vn(H),sr(H,"link",a),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,yg(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:D},v.set(w,I)}}}function oU(a,o){Ts.X(a,o);var u=Nu;if(u&&a){var h=Ta(u).hoistableScripts,v=Pu(a),w=h.get(v);w||(w=u.querySelector(eh(v)),w||(a=m({src:a,async:!0},o),(o=ji.get(v))&&Zx(a,o),w=u.createElement("script"),vn(w),sr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function lU(a,o){Ts.M(a,o);var u=Nu;if(u&&a){var h=Ta(u).hoistableScripts,v=Pu(a),w=h.get(v);w||(w=u.querySelector(eh(v)),w||(a=m({src:a,async:!0,type:"module"},o),(o=ji.get(v))&&Zx(a,o),w=u.createElement("script"),vn(w),sr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function tI(a,o,u,h){var v=(v=Se.current)?gg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ou(u.href),u=Ta(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ou(u.href);var w=Ta(v).hoistableStyles,I=w.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,I),(w=v.querySelector(Jf(a)))&&!w._p&&(I.instance=w,I.state.loading=5),ji.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ji.set(a,u),w||cU(v,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pu(u),u=Ta(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ou(a){return'href="'+Rr(a)+'"'}function Jf(a){return'link[rel="stylesheet"]['+a+"]"}function nI(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function cU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),sr(o,"link",u),vn(o),a.head.appendChild(o))}function Pu(a){return'[src="'+Rr(a)+'"]'}function eh(a){return"script[async]"+a}function rI(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Rr(u.href)+'"]');if(h)return o.instance=h,vn(h),h;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),vn(h),sr(h,"style",v),yg(h,u.precedence,a),o.instance=h;case"stylesheet":v=Ou(u.href);var w=a.querySelector(Jf(v));if(w)return o.state.loading|=4,o.instance=w,vn(w),w;h=nI(u),(v=ji.get(v))&&Qx(h,v),w=(a.ownerDocument||a).createElement("link"),vn(w);var I=w;return I._p=new Promise(function(D,H){I.onload=D,I.onerror=H}),sr(w,"link",h),o.state.loading|=4,yg(w,u.precedence,a),o.instance=w;case"script":return w=Pu(u.src),(v=a.querySelector(eh(w)))?(o.instance=v,vn(v),v):(h=u,(v=ji.get(w))&&(h=m({},u),Zx(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),vn(v),sr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,yg(h,u.precedence,a));return o.instance}function yg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,I=0;I<h.length;I++){var D=h[I];if(D.dataset.precedence===o)w=D;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Qx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Zx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var vg=null;function iI(a,o,u){if(vg===null){var h=new Map,v=vg=new Map;v.set(u,h)}else v=vg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var w=u[v];if(!(w[Ea]||w[yn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(o)||"";I=a+I;var D=h.get(I);D?D.push(w):h.set(I,[w])}}return h}function aI(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function uU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sI(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function dU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ou(h.href),w=o.querySelector(Jf(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=bg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=w,vn(w);return}w=o.ownerDocument||o,h=nI(h),(v=ji.get(v))&&Qx(h,v),w=w.createElement("link"),vn(w);var I=w;I._p=new Promise(function(D,H){I.onload=D,I.onerror=H}),sr(w,"link",h),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=bg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Jx=0;function fU(a,o){return a.stylesheets&&a.count===0&&wg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&wg(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&Jx===0&&(Jx=62500*GB());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&wg(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Jx?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function bg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var xg=null;function wg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,xg=new Map,o.forEach(hU,a),xg=null,bg.call(a))}function hU(a,o){if(!(o.state.loading&4)){var u=xg.get(a);if(u)var h=u.get(null);else{u=new Map,xg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var I=v[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}v=o.instance,I=v.getAttribute("data-precedence"),w=u.get(I)||h,w===h&&u.set(null,v),u.set(I,v),this.count++,h=bg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var th={$$typeof:O,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function mU(a,o,u,h,v,w,I,D,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function oI(a,o,u,h,v,w,I,D,H,ee,le,he){return a=new mU(a,o,u,I,H,ee,le,he,D),o=1,w===!0&&(o|=24),w=Jr(3,null,null,o),a.current=w,w.stateNode=a,o=Pb(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:o},zb(w),a}function lI(a){return a?(a=cu,a):cu}function cI(a,o,u,h,v,w){v=lI(v),h.context===null?h.context=v:h.pendingContext=v,h=_o(o),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=Eo(a,h,o),u!==null&&(Vr(u,a,o),Rf(u,a,o))}function uI(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function e1(a,o){uI(a,o),(a=a.alternate)&&uI(a,o)}function dI(a){if(a.tag===13||a.tag===31){var o=Ml(a,67108864);o!==null&&Vr(o,a,67108864),e1(a,67108864)}}function fI(a){if(a.tag===13||a.tag===31){var o=ii();o=wa(o);var u=Ml(a,o);u!==null&&Vr(u,a,o),e1(a,o)}}var _g=!0;function pU(a,o,u,h){var v=Y.T;Y.T=null;var w=ne.p;try{ne.p=2,t1(a,o,u,h)}finally{ne.p=w,Y.T=v}}function gU(a,o,u,h){var v=Y.T;Y.T=null;var w=ne.p;try{ne.p=8,t1(a,o,u,h)}finally{ne.p=w,Y.T=v}}function t1(a,o,u,h){if(_g){var v=n1(h);if(v===null)Ux(a,o,h,Eg,u),mI(a,h);else if(vU(v,a,o,u,h))h.stopPropagation();else if(mI(a,h),o&4&&-1<yU.indexOf(a)){for(;v!==null;){var w=Ei(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Wr(w.pendingLanes);if(I!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;I;){var H=1<<31-Yt(I);D.entanglements[1]|=H,I&=~H}La(w),(vt&6)===0&&(ag=fe()+500,Wf(0))}}break;case 31:case 13:D=Ml(w,2),D!==null&&Vr(D,w,2),og(),e1(w,2)}if(w=n1(h),w===null&&Ux(a,o,h,Eg,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else Ux(a,o,h,null,u)}}function n1(a){return a=Si(a),r1(a)}var Eg=null;function r1(a){if(Eg=null,a=Sa(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Eg=a,null}function hI(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Bn:return 2;case ba:return 8;case _r:case Gi:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var i1=!1,jo=null,Mo=null,zo=null,nh=new Map,rh=new Map,Do=[],yU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mI(a,o){switch(a){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":nh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(o.pointerId)}}function ih(a,o,u,h,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Ei(o),o!==null&&dI(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function vU(a,o,u,h,v){switch(o){case"focusin":return jo=ih(jo,a,o,u,h,v),!0;case"dragenter":return Mo=ih(Mo,a,o,u,h,v),!0;case"mouseover":return zo=ih(zo,a,o,u,h,v),!0;case"pointerover":var w=v.pointerId;return nh.set(w,ih(nh.get(w)||null,a,o,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,rh.set(w,ih(rh.get(w)||null,a,o,u,h,v)),!0}return!1}function pI(a){var o=Sa(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){fI(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Wi(a.priority,function(){fI(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=n1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);yf=h,u.target.dispatchEvent(h),yf=null}else return o=Ei(u),o!==null&&dI(o),a.blockedOn=u,!1;o.shift()}return!0}function gI(a,o,u){Sg(a)&&u.delete(o)}function bU(){i1=!1,jo!==null&&Sg(jo)&&(jo=null),Mo!==null&&Sg(Mo)&&(Mo=null),zo!==null&&Sg(zo)&&(zo=null),nh.forEach(gI),rh.forEach(gI)}function Tg(a,o){a.blockedOn===o&&(a.blockedOn=null,i1||(i1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bU)))}var Ag=null;function yI(a){Ag!==a&&(Ag=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ag===a&&(Ag=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(r1(h||u)===null)continue;break}var w=Ei(u);w!==null&&(a.splice(o,3),o-=3,nx(w,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Ru(a){function o(H){return Tg(H,a)}jo!==null&&Tg(jo,a),Mo!==null&&Tg(Mo,a),zo!==null&&Tg(zo,a),nh.forEach(o),rh.forEach(o);for(var u=0;u<Do.length;u++){var h=Do[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Do.length&&(u=Do[0],u.blockedOn===null);)pI(u),u.blockedOn===null&&Do.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],w=u[h+1],I=v[Fn]||null;if(typeof w=="function")I||yI(u);else if(I){var D=null;if(w&&w.hasAttribute("formAction")){if(v=w,I=w[Fn]||null)D=I.formAction;else if(r1(v)!==null)continue}else D=I.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),yI(u)}}}function vI(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function a1(a){this._internalRoot=a}kg.prototype.render=a1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ii();cI(u,h,a,o,null,null)},kg.prototype.unmount=a1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;cI(a.current,2,null,a,null,null),og(),o[_a]=null}};function kg(a){this._internalRoot=a}kg.prototype.unstable_scheduleHydration=function(a){if(a){var o=of();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Do.length&&o!==0&&o<Do[u].priority;u++);Do.splice(u,0,a),u===0&&pI(a)}};var bI=e.version;if(bI!=="19.2.3")throw Error(r(527,bI,"19.2.3"));ne.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var xU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{Kr=Cg.inject(xU),In=Cg}catch{}}return sh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=Ak,w=kk,I=Ck;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=oI(a,1,!1,null,null,u,h,null,v,w,I,vI),a[_a]=o.current,Bx(a),new a1(o)},sh.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",w=Ak,I=kk,D=Ck,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=oI(a,1,!0,o,u??null,h,v,H,w,I,D,vI),o.context=lI(null),u=o.current,h=ii(),h=wa(h),v=_o(h),v.callback=null,Eo(u,v,h),u=h,o.current.lanes=u,$t(o,u),La(o),a[_a]=o.current,Bx(a),new kg(o)},sh.version="19.2.3",sh}var II;function OU(){if(II)return l1.exports;II=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l1.exports=NU(),l1.exports}var PU=OU();const jz=T.createContext(void 0),Mz=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return g.jsx(jz.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},Ld=()=>{const t=T.useContext(jz);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var NI="popstate";function RU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Vc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),y_("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Fh(s))}function r(i,s){pi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return MU(e,n,r,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jU(){return Math.random().toString(36).substring(2,10)}function OI(t,e){return{usr:t.state,key:t.key,idx:e}}function y_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:n,key:e&&e.key||r||jU()}}function Fh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let E=p(),k=E==null?null:E-f;f=E,d&&d({action:c,location:S.location,delta:k})}function b(E,k){c="PUSH";let j=y_(S.location,E,k);n&&n(j,E),f=p()+1;let O=OI(j,f),V=S.createHref(j);try{l.pushState(O,"",V)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(V)}s&&d&&d({action:c,location:S.location,delta:1})}function x(E,k){c="REPLACE";let j=y_(S.location,E,k);n&&n(j,E),f=p();let O=OI(j,f),V=S.createHref(j);l.replaceState(O,"",V),s&&d&&d({action:c,location:S.location,delta:0})}function _(E){return zU(E)}let S={get action(){return c},get location(){return t(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(NI,m),d=E,()=>{i.removeEventListener(NI,m),d=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let k=_(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(E){return l.go(E)}};return S}function zU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),en(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zz(t,e,n="/"){return DU(t,e,n,!1)}function DU(t,e,n,r){let i=typeof e=="string"?Vc(e):e,s=Ls(i.pathname||"/",n);if(s==null)return null;let l=Dz(t);LU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=WU(s);c=KU(l[d],f,r)}return c}function Dz(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;en(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=zs([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(en(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Dz(l.children,e,b,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:HU(m,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of Lz(l.path))s(l,c,!0,d)}),e}function Lz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Lz(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function LU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VU=/^:[\w-]+$/,BU=3,UU=2,FU=1,qU=10,$U=-2,PI=t=>t==="*";function HU(t,e){let n=t.split("/"),r=n.length;return n.some(PI)&&(r+=$U),e&&(r+=UU),n.filter(i=>!PI(i)).reduce((i,s)=>i+(VU.test(s)?BU:s===""?FU:qU),r)}function GU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KU(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=C0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:zs([s,m.pathname]),pathnameBase:JU(zs([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=zs([s,m.pathnameBase]))}return l}function C0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let _=c[b]||"";l=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[b];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function YU(t,e=!1,n=!0){pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Vz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XU=t=>Vz.test(t);function QU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vc(t):t,s;if(n)if(XU(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),pi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=RI(n.substring(1),"/"):s=RI(n,e)}else s=e;return{pathname:s,search:e7(r),hash:t7(i)}}function RI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function f1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aS(t){let e=ZU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sS(t,e,n,r=!1){let i;typeof t=="string"?i=Vc(t):(i={...t},en(!i.pathname||!i.pathname.includes("?"),f1("?","pathname","search",i)),en(!i.pathname||!i.pathname.includes("#"),f1("#","pathname","hash",i)),en(!i.search||!i.search.includes("#"),f1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}c=m>=0?e[m]:"/"}let d=QU(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var zs=t=>t.join("/").replace(/\/\/+/g,"/"),JU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,n7=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function r7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function i7(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Uz(t,e){let n=t;if(typeof n!="string"||!Vz.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Bz)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Ls(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{pi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fz=["POST","PUT","PATCH","DELETE"];new Set(Fz);var a7=["GET",...Fz];new Set(a7);var Vd=T.createContext(null);Vd.displayName="DataRouter";var Xy=T.createContext(null);Xy.displayName="DataRouterState";var s7=T.createContext(!1),qz=T.createContext({isTransitioning:!1});qz.displayName="ViewTransition";var o7=T.createContext(new Map);o7.displayName="Fetchers";var l7=T.createContext(null);l7.displayName="Await";var bi=T.createContext(null);bi.displayName="Navigation";var _m=T.createContext(null);_m.displayName="Location";var ga=T.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var oS=T.createContext(null);oS.displayName="RouteError";var $z="REACT_ROUTER_ERROR",c7="REDIRECT",u7="ROUTE_ERROR_RESPONSE";function d7(t){if(t.startsWith(`${$z}:${c7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function f7(t){if(t.startsWith(`${$z}:${u7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new n7(e.status,e.statusText,e.data)}catch{}}function h7(t,{relative:e}={}){en(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(bi),{hash:i,pathname:s,search:l}=Em(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:zs([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Bd(){return T.useContext(_m)!=null}function Qs(){return en(Bd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(_m).location}var Hz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gz(t){T.useContext(bi).static||T.useLayoutEffect(t)}function lS(){let{isDataRoute:t}=T.useContext(ga);return t?C7():m7()}function m7(){en(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Vd),{basename:e,navigator:n}=T.useContext(bi),{matches:r}=T.useContext(ga),{pathname:i}=Qs(),s=JSON.stringify(aS(r)),l=T.useRef(!1);return Gz(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(pi(l.current,Hz),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=sS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zs([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var p7=T.createContext(null);function g7(t){let e=T.useContext(ga).outlet;return T.useMemo(()=>e&&T.createElement(p7.Provider,{value:t},e),[e,t])}function Em(t,{relative:e}={}){let{matches:n}=T.useContext(ga),{pathname:r}=Qs(),i=JSON.stringify(aS(n));return T.useMemo(()=>sS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function y7(t,e){return Kz(t,e)}function Kz(t,e,n,r,i){en(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(bi),{matches:l}=T.useContext(ga),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let j=m&&m.path||"";Wz(f,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Qs(),x;if(e){let j=typeof e=="string"?Vc(e):e;en(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=b;let _=x.pathname||"/",S=_;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=zz(t,{pathname:S});pi(m||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),pi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=_7(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:zs([p,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:zs([p,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,i);return e&&k?T.createElement(_m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function v7(){let t=k7(),e=r7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var b7=T.createElement(v7,null),Yz=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=f7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(ga.Provider,{value:this.props.routeContext},T.createElement(oS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(x7,{error:t},e):e}};Yz.contextType=s7;var h1=new WeakMap;function x7({children:t,error:e}){let{basename:n}=T.useContext(bi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=d7(e.digest);if(r){let i=h1.get(e);if(i)throw i;let s=Uz(r.location,n);if(Bz&&!h1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw h1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function w7({routeContext:t,match:e,children:n}){let r=T.useContext(Vd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ga.Provider,{value:t},n)}function _7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);en(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:b,errors:x}=n,_=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||_){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:i7(n.matches),errorInfo:m})}:void 0;return s.reduceRight((p,m,b)=>{let x,_=!1,S=null,E=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||b7,c&&(d<0&&b===0?(Wz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):d===b&&(_=!0,E=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),j=()=>{let O;return x?O=S:_?O=E:m.route.Component?O=T.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=p,T.createElement(w7,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?T.createElement(Yz,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):j()},null)}function cS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E7(t){let e=T.useContext(Vd);return en(e,cS(t)),e}function S7(t){let e=T.useContext(Xy);return en(e,cS(t)),e}function T7(t){let e=T.useContext(ga);return en(e,cS(t)),e}function uS(t){let e=T7(t),n=e.matches[e.matches.length-1];return en(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function A7(){return uS("useRouteId")}function k7(){let t=T.useContext(oS),e=S7("useRouteError"),n=uS("useRouteError");return t!==void 0?t:e.errors?.[n]}function C7(){let{router:t}=E7("useNavigate"),e=uS("useNavigate"),n=T.useRef(!1);return Gz(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{pi(n.current,Hz),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var jI={};function Wz(t,e,n){!e&&!jI[t]&&(jI[t]=!0,pi(!1,n))}T.memo(I7);function I7({routes:t,future:e,state:n,onError:r}){return Kz(t,void 0,n,r,e)}function Xz({to:t,replace:e,state:n,relative:r}){en(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(bi);pi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(ga),{pathname:l}=Qs(),c=lS(),d=sS(t,aS(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function Qz(t){return g7(t.context)}function ai(t){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){en(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Vc(n));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:x="default"}=n,_=T.useMemo(()=>{let S=Ls(f,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:b,key:x},navigationType:r}},[c,f,p,m,b,x,r]);return pi(_!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(bi.Provider,{value:d},T.createElement(_m.Provider,{children:e,value:_}))}function O7({children:t,location:e}){return y7(v_(t),e)}function v_(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,v_(r.props.children,s));return}en(r.type===ai,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=v_(r.props.children,s)),n.push(l)}),n}var a0="get",s0="application/x-www-form-urlencoded";function Qy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function P7(t){return Qy(t)&&t.tagName.toLowerCase()==="button"}function R7(t){return Qy(t)&&t.tagName.toLowerCase()==="form"}function j7(t){return Qy(t)&&t.tagName.toLowerCase()==="input"}function M7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z7(t,e){return t.button===0&&(!e||e==="_self")&&!M7(t)}var Ig=null;function D7(){if(Ig===null)try{new FormData(document.createElement("form"),0),Ig=!1}catch{Ig=!0}return Ig}var L7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m1(t){return t!=null&&!L7.has(t)?(pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${s0}"`),null):t}function V7(t,e){let n,r,i,s,l;if(R7(t)){let c=t.getAttribute("action");r=c?Ls(c,e):null,n=t.getAttribute("method")||a0,i=m1(t.getAttribute("enctype"))||s0,s=new FormData(t)}else if(P7(t)||j7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ls(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||a0,i=m1(t.getAttribute("formenctype"))||m1(c.getAttribute("enctype"))||s0,s=new FormData(c,t),!D7()){let{name:f,type:p,value:m}=t;if(p==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,m)}}else{if(Qy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=a0,r=null,i=s0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function U7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function q7(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await U7(s,n);return l.links?l.links():[]}return[]}));return K7(r.flat(1).filter(F7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MI(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function $7(t,e,{includeHydrateFallback:n}={}){return H7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function H7(t){return[...new Set(t)]}function G7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function K7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(G7(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Zz(){let t=T.useContext(Vd);return dS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Y7(){let t=T.useContext(Xy);return dS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fS=T.createContext(void 0);fS.displayName="FrameworkContext";function Jz(){let t=T.useContext(fS);return dS(t,"You must render this element inside a <HydratedRouter> element"),t}function W7(t,e){let n=T.useContext(fS),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=k=>{k.forEach(j=>{l(j.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:oh(c,x),onBlur:oh(d,_),onMouseEnter:oh(f,x),onMouseLeave:oh(p,_),onTouchStart:oh(m,x)}]:[!1,b,{}]}function oh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function X7({page:t,...e}){let{router:n}=Zz(),r=T.useMemo(()=>zz(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(Z7,{page:t,matches:r,...e}):null}function Q7(t){let{manifest:e,routeModules:n}=Jz(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return q7(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function Z7({page:t,matches:e,...n}){let r=Qs(),{manifest:i,routeModules:s}=Jz(),{basename:l}=Zz(),{loaderData:c,matches:d}=Y7(),f=T.useMemo(()=>MI(t,e,d,i,r,"data"),[t,e,d,i,r]),p=T.useMemo(()=>MI(t,e,d,i,r,"assets"),[t,e,d,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(k=>{let j=i.routes[k.route.id];!j||!j.hasLoader||(!f.some(O=>O.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||j.hasClientLoader?S=!0:_.add(k.route.id))}),_.size===0)return[];let E=B7(t,l,"data");return S&&_.size>0&&E.searchParams.set("_routes",e.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>$7(p,i),[p,i]),x=Q7(p);return T.createElement(T.Fragment,null,m.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:S})=>T.createElement("link",{key:_,nonce:n.nonce,...S})))}function J7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eF&&(window.__reactRouterVersion="7.11.0")}catch{}function tF({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=RU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(N7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...x},_){let{basename:S,unstable_useTransitions:E}=T.useContext(bi),k=typeof f=="string"&&eD.test(f),j=Uz(f,S);f=j.to;let O=h7(f,{relative:i}),[V,R,F]=W7(r,x),P=iF(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:b,unstable_useTransitions:E});function C(L){e&&e(L),L.defaultPrevented||P(L)}let M=T.createElement("a",{...x,...F,href:j.absoluteURL||O,onClick:j.isExternal||s?e:C,ref:J7(_,R),target:d,"data-discover":!k&&n==="render"?"true":void 0});return V&&!k?T.createElement(T.Fragment,null,M,T.createElement(X7,{page:O})):M});tD.displayName="Link";var nD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},p){let m=Em(l,{relative:f.relative}),b=Qs(),x=T.useContext(Xy),{navigator:_,basename:S}=T.useContext(bi),E=x!=null&&cF(m)&&c===!0,k=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,j=b.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&S&&(O=Ls(O,S)||O);const V=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=j===k||!i&&j.startsWith(k)&&j.charAt(V)==="/",F=O!=null&&(O===k||!i&&O.startsWith(k)&&O.charAt(k.length)==="/"),P={isActive:R,isPending:F,isTransitioning:E},C=R?e:void 0,M;typeof r=="function"?M=r(P):M=[r,R?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(P):s;return T.createElement(tD,{...f,"aria-current":C,className:M,ref:p,style:L,to:l,viewTransition:c},typeof d=="function"?d(P):d)});nD.displayName="NavLink";var nF=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=a0,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b,...x},_)=>{let{unstable_useTransitions:S}=T.useContext(bi),E=oF(),k=lF(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&eD.test(c),V=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let F=R.nativeEvent.submitter,P=F?.getAttribute("formmethod")||l,C=()=>E(F||R.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:b});S&&n!==!1?T.startTransition(()=>C()):C()};return T.createElement("form",{ref:_,method:j,action:k,onSubmit:r?d:V,...x,"data-discover":!O&&t==="render"?"true":void 0})});nF.displayName="Form";function rF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(t){let e=T.useContext(Vd);return en(e,rF(t)),e}function iF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=lS(),p=Qs(),m=Em(t,{relative:s});return T.useCallback(b=>{if(z7(b,e)){b.preventDefault();let x=n!==void 0?n:Fh(p)===Fh(m),_=()=>f(t,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>_()):_()}},[p,f,m,n,r,e,t,i,s,l,c,d])}var aF=0,sF=()=>`__${String(++aF)}__`;function oF(){let{router:t}=rD("useSubmit"),{basename:e}=T.useContext(bi),n=A7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:p,body:m}=V7(s,e);if(l.navigate===!1){let b=l.fetcherKey||sF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function lF(t,{relative:e}={}){let{basename:n}=T.useContext(bi),r=T.useContext(ga);en(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Em(t||".",{relative:e})},l=Qs();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:zs([n,s.pathname])),Fh(s)}function cF(t,{relative:e}={}){let n=T.useContext(qz);en(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rD("useViewTransitionState"),i=Em(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return C0(i.pathname,l)!=null||C0(i.pathname,s)!=null}var hS=Rz();const uF=ss(hS),iD=T.createContext(void 0),dF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"light"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return g.jsx(iD.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},aD=()=>{const t=T.useContext(iD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},fF=()=>{};var zI={};const sD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},oD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,x=f&63;d||(x=64,l||(b=64)),r.push(n[p],n[m],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new mF;const b=s<<2|c>>4;if(r.push(b),f!==64){const x=c<<4&240|f>>2;if(r.push(x),m!==64){const _=f<<6&192|m;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pF=function(t){const e=sD(t);return oD.encodeByteArray(e,!0)},lD=function(t){return pF(t).replace(/\./g,"")},cD=function(t){try{return oD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gF=()=>uD().__FIREBASE_DEFAULTS__,yF=()=>{if(typeof process>"u"||typeof zI>"u")return;const t=zI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cD(t[1]);return e&&JSON.parse(e)},Zy=()=>{try{return fF()||gF()||yF()||vF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bF=t=>Zy()?.emulatorHosts?.[t],dD=()=>Zy()?.config,fD=t=>Zy()?.[`_${t}`];class xF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ud(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hD(t){return(await fetch(t,{credentials:"include"})).ok}const Ih={};function wF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?t.emulator.push(e):t.prod.push(e);return t}function _F(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DI=!1;function EF(t,e){if(typeof window>"u"||typeof document>"u"||!Ud(window.location.host)||Ih[t]===e||Ih[t]||DI)return;Ih[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=wF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{DI=!0,l()},b}function p(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function m(){const b=_F(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),k=n("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;c(O),p(E,S);const V=f();d(j,k),O.append(j,_,E,V),document.body.appendChild(O)}s?(_.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function mD(){const t=Zy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CF(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pD(){return!mD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gD(){return!mD()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function yD(){try{return typeof indexedDB=="object"}catch{return!1}}function IF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const NF="FirebaseError";class Zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NF,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sm.prototype.create)}}class Sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?OF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Zs(i,c,r)}}function OF(t,e){return t.replace(PF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PF=/\{\$([^}]+)}/g;function RF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(LI(s)&&LI(l)){if(!_c(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LI(t){return t!==null&&typeof t=="object"}function Tm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jF(t,e){const n=new MF(t,e);return n.subscribe.bind(n)}class MF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=p1),i.error===void 0&&(i.error=p1),i.complete===void 0&&(i.complete=p1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function p1(){}function Hr(t){return t&&t._delegate?t._delegate:t}class Ec{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xl="[DEFAULT]";let DF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VF(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LF(t){return t===Xl?void 0:t}function VF(t){return t.instantiationMode==="EAGER"}class BF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const UF={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},FF=ot.INFO,qF={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},$F=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mS{constructor(e){this.name=e,this._logLevel=FF,this._logHandler=$F,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const HF=(t,e)=>e.some(n=>t instanceof n);let VI,BI;function GF(){return VI||(VI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KF(){return BI||(BI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vD=new WeakMap,b_=new WeakMap,bD=new WeakMap,g1=new WeakMap,pS=new WeakMap;function YF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(tl(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vD.set(n,t)}).catch(()=>{}),pS.set(e,t),e}function WF(t){if(b_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});b_.set(t,e)}let x_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return b_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XF(t){x_=t(x_)}function QF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y1(this),e,...n);return bD.set(r,e.sort?e.sort():[e]),tl(r)}:KF().includes(t)?function(...e){return t.apply(y1(this),e),tl(vD.get(this))}:function(...e){return tl(t.apply(y1(this),e))}}function ZF(t){return typeof t=="function"?QF(t):(t instanceof IDBTransaction&&WF(t),HF(t,GF())?new Proxy(t,x_):t)}function tl(t){if(t instanceof IDBRequest)return YF(t);if(g1.has(t))return g1.get(t);const e=ZF(t);return e!==t&&(g1.set(t,e),pS.set(e,t)),e}const y1=t=>pS.get(t);function JF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=tl(l);return r&&l.addEventListener("upgradeneeded",d=>{r(tl(l.result),d.oldVersion,d.newVersion,tl(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const eq=["get","getKey","getAll","getAllKeys","count"],tq=["put","add","delete","clear"],v1=new Map;function UI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v1.get(e))return v1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eq.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return v1.set(e,s),s}XF(t=>({...t,get:(e,n,r)=>UI(e,n)||t.get(e,n,r),has:(e,n)=>!!UI(e,n)||t.has(e,n)}));class nq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rq(t){return t.getComponent()?.type==="VERSION"}const w_="@firebase/app",FI="0.14.6";const Vs=new mS("@firebase/app"),iq="@firebase/app-compat",aq="@firebase/analytics-compat",sq="@firebase/analytics",oq="@firebase/app-check-compat",lq="@firebase/app-check",cq="@firebase/auth",uq="@firebase/auth-compat",dq="@firebase/database",fq="@firebase/data-connect",hq="@firebase/database-compat",mq="@firebase/functions",pq="@firebase/functions-compat",gq="@firebase/installations",yq="@firebase/installations-compat",vq="@firebase/messaging",bq="@firebase/messaging-compat",xq="@firebase/performance",wq="@firebase/performance-compat",_q="@firebase/remote-config",Eq="@firebase/remote-config-compat",Sq="@firebase/storage",Tq="@firebase/storage-compat",Aq="@firebase/firestore",kq="@firebase/ai",Cq="@firebase/firestore-compat",Iq="firebase",Nq="12.6.0";const __="[DEFAULT]",Oq={[w_]:"fire-core",[iq]:"fire-core-compat",[sq]:"fire-analytics",[aq]:"fire-analytics-compat",[lq]:"fire-app-check",[oq]:"fire-app-check-compat",[cq]:"fire-auth",[uq]:"fire-auth-compat",[dq]:"fire-rtdb",[fq]:"fire-data-connect",[hq]:"fire-rtdb-compat",[mq]:"fire-fn",[pq]:"fire-fn-compat",[gq]:"fire-iid",[yq]:"fire-iid-compat",[vq]:"fire-fcm",[bq]:"fire-fcm-compat",[xq]:"fire-perf",[wq]:"fire-perf-compat",[_q]:"fire-rc",[Eq]:"fire-rc-compat",[Sq]:"fire-gcs",[Tq]:"fire-gcs-compat",[Aq]:"fire-fst",[Cq]:"fire-fst-compat",[kq]:"fire-vertex","fire-js":"fire-js",[Iq]:"fire-js-all"};const I0=new Map,Pq=new Map,E_=new Map;function qI(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function od(t){const e=t.name;if(E_.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;E_.set(e,t);for(const n of I0.values())qI(n,t);for(const n of Pq.values())qI(n,t);return!0}function gS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sa(t){return t==null?!1:t.settings!==void 0}const Rq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new Sm("app","Firebase",Rq);class jq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}const Fd=Nq;function xD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:__,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(n||(n=dD()),!n)throw nl.create("no-options");const s=I0.get(i);if(s){if(_c(n,s.options)&&_c(r,s.config))return s;throw nl.create("duplicate-app",{appName:i})}const l=new BF(i);for(const d of E_.values())l.addComponent(d);const c=new jq(n,r,l);return I0.set(i,c),c}function Mq(t=__){const e=I0.get(t);if(!e&&t===__&&dD())return xD();if(!e)throw nl.create("no-app",{appName:t});return e}function rl(t,e,n){let r=Oq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(l.join(" "));return}od(new Ec(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zq="firebase-heartbeat-database",Dq=1,qh="firebase-heartbeat-store";let b1=null;function wD(){return b1||(b1=JF(zq,Dq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw nl.create("idb-open",{originalErrorMessage:t.message})})),b1}async function Lq(t){try{const n=(await wD()).transaction(qh),r=await n.objectStore(qh).get(_D(t));return await n.done,r}catch(e){if(e instanceof Zs)Vs.warn(e.message);else{const n=nl.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function $I(t,e){try{const r=(await wD()).transaction(qh,"readwrite");await r.objectStore(qh).put(e,_D(t)),await r.done}catch(n){if(n instanceof Zs)Vs.warn(n.message);else{const r=nl.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}}function _D(t){return`${t.name}!${t.options.appId}`}const Vq=1024,Bq=30;class Uq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Bq){const i=$q(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HI(),{heartbeatsToSend:n,unsentEntries:r}=Fq(this._heartbeatsCache.heartbeats),i=lD(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vs.warn(e),""}}}function HI(){return new Date().toISOString().substring(0,10)}function Fq(t,e=Vq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),GI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yD()?IF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GI(t){return lD(JSON.stringify({version:2,heartbeats:t})).length}function $q(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Hq(t){od(new Ec("platform-logger",e=>new nq(e),"PRIVATE")),od(new Ec("heartbeat",e=>new Uq(e),"PRIVATE")),rl(w_,FI,t),rl(w_,FI,"esm2020"),rl("fire-js","")}Hq("");function ED(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gq=ED,SD=new Sm("auth","Firebase",ED());const N0=new mS("@firebase/auth");function Kq(t,...e){N0.logLevel<=ot.WARN&&N0.warn(`Auth (${Fd}): ${t}`,...e)}function o0(t,...e){N0.logLevel<=ot.ERROR&&N0.error(`Auth (${Fd}): ${t}`,...e)}function ts(t,...e){throw vS(t,...e)}function da(t,...e){return vS(t,...e)}function yS(t,e,n){const r={...Gq(),[e]:n};return new Sm("auth","Firebase",r).create(e,{appName:t.name})}function fc(t){return yS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ts(t,"argument-error"),yS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SD.create(t,...e)}function Ye(t,e,...n){if(!t)throw vS(e,...n)}function Os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw o0(e),new Error(e)}function Bs(t,e){t||Os(e)}function S_(){return typeof self<"u"&&self.location?.href||""}function Wq(){return KI()==="http:"||KI()==="https:"}function KI(){return typeof self<"u"&&self.location?.protocol||null}function Xq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wq()||AF()||"connection"in navigator)?navigator.onLine:!0}function Qq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Am{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=SF()||kF()}get(){return Xq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bS(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Jq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e$=new Am(3e4,6e4);function xS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qd(t,e,n,r,i={}){return AD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Tm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return TF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(f.credentials="include"),TD.fetch()(await kD(t,t.config.apiHost,n,c),f)})}async function AD(t,e,n){t._canInitEmulator=!1;const r={...Zq,...e};try{const i=new n$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ng(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ng(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ng(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ng(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yS(t,p,f);ts(t,p)}}catch(i){if(i instanceof Zs)throw i;ts(t,"network-request-failed",{message:String(i)})}}async function t$(t,e,n,r,i={}){const s=await qd(t,e,n,r,i);return"mfaPendingCredential"in s&&ts(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?bS(t.config,i):`${t.config.apiScheme}://${i}`;return Jq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class n${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),e$.get())})}}function Ng(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=da(t,e,r);return i.customData._tokenResponse=n,i}async function r$(t,e){return qd(t,"POST","/v1/accounts:delete",e)}async function O0(t,e){return qd(t,"POST","/v1/accounts:lookup",e)}function Nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i$(t,e=!1){const n=Hr(t),r=await n.getIdToken(e),i=wS(r);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Nh(x1(i.auth_time)),issuedAtTime:Nh(x1(i.iat)),expirationTime:Nh(x1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function x1(t){return Number(t)*1e3}function wS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return o0("JWT malformed, contained fewer than 3 sections"),null;try{const i=cD(n);return i?JSON.parse(i):(o0("Failed to decode base64 JWT payload"),null)}catch(i){return o0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YI(t){const e=wS(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $h(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zs&&a$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class s${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class T_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nh(this.lastLoginAt),this.creationTime=Nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function P0(t){const e=t.auth,n=await t.getIdToken(),r=await $h(t,O0(e,{idToken:n}));Ye(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?CD(i.providerUserInfo):[],l=l$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function o$(t){const e=Hr(t);await P0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function c$(t,e){const n=await AD(t,{},async()=>{const r=Tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await kD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ud(t.emulatorConfig.host)&&(d.credentials="include"),TD.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u$(t,e){return qd(t,"POST","/v2/accounts:revokeToken",xS(t,e))}class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=YI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Ju;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ye(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return Os("not implemented")}}function Vo(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new s$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $h(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i$(this,e)}reload(){return o$(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await P0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sa(this.auth.app))return Promise.reject(fc(this.auth));const e=await this.getIdToken();return await $h(this,r$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:b,isAnonymous:x,providerData:_,stsTokenManager:S}=n;Ye(m&&S,e,"internal-error");const E=Ju.fromJSON(this.name,S);Ye(typeof m=="string",e,"internal-error"),Vo(r,e.name),Vo(i,e.name),Ye(typeof b=="boolean",e,"internal-error"),Ye(typeof x=="boolean",e,"internal-error"),Vo(s,e.name),Vo(l,e.name),Vo(c,e.name),Vo(d,e.name),Vo(f,e.name),Vo(p,e.name);const k=new ua({uid:m,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:f,lastLoginAt:p});return _&&Array.isArray(_)&&(k.providerData=_.map(j=>({...j}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const s=new ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await P0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Ju;c.updateFromIdToken(r);const d=new ua({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const WI=new Map;function Ps(t){Bs(t instanceof Function,"Expected a class definition");let e=WI.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WI.set(t,e),e)}class ID{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ID.type="NONE";const XI=ID;function l0(t,e,n){return`firebase:${t}:${e}:${n}`}class ed{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=l0(this.userKey,i.apiKey,s),this.fullPersistenceKey=l0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await O0(this.auth,{idToken:e}).catch(()=>{});return n?ua._fromGetAccountInfoResponse(this.auth,n,e):null}return ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ed(Ps(XI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ps(XI);const l=l0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const b=await O0(e,{idToken:p}).catch(()=>{});if(!b)break;m=await ua._fromGetAccountInfoResponse(e,b,p)}else m=ua._fromJSON(e,p);f!==s&&(c=m),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new ed(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new ed(s,e,r))}}function QI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ND(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MD(e))return"Blackberry";if(zD(e))return"Webos";if(OD(e))return"Safari";if((e.includes("chrome/")||PD(e))&&!e.includes("edge/"))return"Chrome";if(jD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ND(t=Rn()){return/firefox\//i.test(t)}function OD(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PD(t=Rn()){return/crios\//i.test(t)}function RD(t=Rn()){return/iemobile/i.test(t)}function jD(t=Rn()){return/android/i.test(t)}function MD(t=Rn()){return/blackberry/i.test(t)}function zD(t=Rn()){return/webos/i.test(t)}function _S(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d$(t=Rn()){return _S(t)&&!!window.navigator?.standalone}function f$(){return CF()&&document.documentMode===10}function DD(t=Rn()){return _S(t)||jD(t)||zD(t)||MD(t)||/windows phone/i.test(t)||RD(t)}function LD(t,e=[]){let n;switch(t){case"Browser":n=QI(Rn());break;case"Worker":n=`${QI(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fd}/${r}`}class h${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function m$(t,e={}){return qd(t,"GET","/v2/passwordPolicy",xS(t,e))}const p$=6;class g${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class y${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZI(this),this.idTokenSubscription=new ZI(this),this.beforeStateQueue=new h$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ed.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await O0(this,{idToken:e}),r=await ua._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await P0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sa(this.app))return Promise.reject(fc(this));const n=e?Hr(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sa(this.app)?Promise.reject(fc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sa(this.app)?Promise.reject(fc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m$(this),n=new g$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await ed.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(sa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Kq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jy(t){return Hr(t)}class ZI{constructor(e){this.auth=e,this.observer=null,this.addObserver=jF(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ES={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v$(t){ES=t}function b$(t){return ES.loadJS(t)}function x$(){return ES.gapiScript}function w$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function _$(t,e){const n=gS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_c(s,e??{}))return i;ts(i,"already-initialized")}return n.initialize({options:e})}function E$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function S$(t,e,n){const r=Jy(t);Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=VD(e),{host:l,port:c}=T$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ye(_c(f,r.config.emulator)&&_c(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ud(l)?(hD(`${s}//${l}${d}`),EF("Auth",!0)):A$()}function VD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T$(t){const e=VD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:JI(l)}}}function JI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class BD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,n){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function td(t,e){return t$(t,"POST","/v1/accounts:signInWithIdp",xS(t,e))}const k$="http://localhost";class Sc extends BD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Sc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,td(e,n)}buildRequest(){const e={requestUri:k$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tm(n)}return e}}class SS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class km extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yo extends km{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";class Cs extends km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sc._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";class Wo extends km{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";class Xo extends km{constructor(){super("twitter.com")}static credential(e,n){return Sc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";class ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ua._fromIdTokenResponse(e,r,i),l=eN(r);return new ld({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eN(r);return new ld({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class R0 extends Zs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,R0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new R0(e,n,r,i)}}function UD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?R0._fromErrorAndOperation(t,s,e,r):s})}async function C$(t,e,n=!1){const r=await $h(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ld._forOperation(t,"link",r)}async function I$(t,e,n=!1){const{auth:r}=t;if(sa(r.app))return Promise.reject(fc(r));const i="reauthenticate";try{const s=await $h(t,UD(r,i,e,t),n);Ye(s.idToken,r,"internal-error");const l=wS(s.idToken);Ye(l,r,"internal-error");const{sub:c}=l;return Ye(t.uid===c,r,"user-mismatch"),ld._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),s}}async function N$(t,e,n=!1){if(sa(t.app))return Promise.reject(fc(t));const r="signIn",i=await UD(t,r,e),s=await ld._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function O$(t,e){return Hr(t).setPersistence(e)}function P$(t,e,n,r){return Hr(t).onIdTokenChanged(e,n,r)}function R$(t,e,n){return Hr(t).beforeAuthStateChanged(e,n)}function j$(t,e,n,r){return Hr(t).onAuthStateChanged(e,n,r)}function M$(t){return Hr(t).signOut()}const j0="__sak";class FD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j0,"1"),this.storage.removeItem(j0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const z$=1e3,D$=10;class qD extends FD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);f$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qD.type="LOCAL";const $D=qD;class HD extends FD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HD.type="SESSION";const GD=HD;function L$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await L$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ev.receivers=[];function TS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class V${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=TS("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Wa(){return window}function B$(t){Wa().location.href=t}function KD(){return typeof Wa().WorkerGlobalScope<"u"&&typeof Wa().importScripts=="function"}async function U$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F$(){return navigator?.serviceWorker?.controller||null}function q$(){return KD()?self:null}const YD="firebaseLocalStorageDb",$$=1,M0="firebaseLocalStorage",WD="fbase_key";class Cm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tv(t,e){return t.transaction([M0],e?"readwrite":"readonly").objectStore(M0)}function H$(){const t=indexedDB.deleteDatabase(YD);return new Cm(t).toPromise()}function A_(){const t=indexedDB.open(YD,$$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(M0,{keyPath:WD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(M0)?e(r):(r.close(),await H$(),e(await A_()))})})}async function tN(t,e,n){const r=tv(t,!0).put({[WD]:e,value:n});return new Cm(r).toPromise()}async function G$(t,e){const n=tv(t,!1).get(e),r=await new Cm(n).toPromise();return r===void 0?null:r.value}function nN(t,e){const n=tv(t,!0).delete(e);return new Cm(n).toPromise()}const K$=800,Y$=3;class XD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ev._getInstance(q$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U$(),!this.activeServiceWorker)return;this.sender=new V$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A_();return await tN(e,j0,"1"),await nN(e,j0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tv(i,!1).getAll();return new Cm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XD.type="LOCAL";const W$=XD;new Am(3e4,6e4);function QD(t,e){return e?Ps(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class AS extends BD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return td(e,this._buildIdpRequest())}_linkToIdToken(e,n){return td(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return td(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X$(t){return N$(t.auth,new AS(t),t.bypassAuthState)}function Q$(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),I$(n,new AS(t),t.bypassAuthState)}async function Z$(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),C$(n,new AS(t),t.bypassAuthState)}class ZD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X$;case"linkViaPopup":case"linkViaRedirect":return Z$;case"reauthViaPopup":case"reauthViaRedirect":return Q$;default:ts(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const J$=new Am(2e3,1e4);async function eH(t,e,n){if(sa(t.app))return Promise.reject(da(t,"operation-not-supported-in-this-environment"));const r=Jy(t);Yq(t,e,SS);const i=QD(r,n);return new oc(r,"signInViaPopup",e,i).executeNotNull()}class oc extends ZD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oc.currentPopupAction&&oc.currentPopupAction.cancel(),oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=TS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J$.get())};e()}}oc.currentPopupAction=null;const tH="pendingRedirect",c0=new Map;class nH extends ZD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=c0.get(this.auth._key());if(!e){try{const r=await rH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}c0.set(this.auth._key(),e)}return this.bypassAuthState||c0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rH(t,e){const n=sH(e),r=aH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iH(t,e){c0.set(t._key(),e)}function aH(t){return Ps(t._redirectPersistence)}function sH(t){return l0(tH,t.config.apiKey,t.name)}async function oH(t,e,n=!1){if(sa(t.app))return Promise.reject(fc(t));const r=Jy(t),i=QD(r,e),l=await new nH(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const lH=600*1e3;class cH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!JD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(da(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lH&&this.cachedEventUids.clear(),this.cachedEventUids.has(rN(e))}saveEventToCache(e){this.cachedEventUids.add(rN(e)),this.lastProcessedEventTime=Date.now()}}function rN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JD(t);default:return!1}}async function dH(t,e={}){return qd(t,"GET","/v1/projects",e)}const fH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hH=/^https?/;async function mH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dH(t);for(const n of e)try{if(pH(n))return}catch{}ts(t,"unauthorized-domain")}function pH(t){const e=S_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!hH.test(n))return!1;if(fH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gH=new Am(3e4,6e4);function iN(){const t=Wa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yH(t){return new Promise((e,n)=>{function r(){iN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iN(),n(da(t,"network-request-failed"))},timeout:gH.get()})}if(Wa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wa().gapi?.load)r();else{const i=w$("iframefcb");return Wa()[i]=()=>{gapi.load?r():n(da(t,"network-request-failed"))},b$(`${x$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw u0=null,e})}let u0=null;function vH(t){return u0=u0||yH(t),u0}const bH=new Am(5e3,15e3),xH="__/auth/iframe",wH="emulator/auth/iframe",_H={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SH(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bS(e,wH):`https://${t.config.authDomain}/${xH}`,r={apiKey:e.apiKey,appName:t.name,v:Fd},i=EH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tm(r).slice(1)}`}async function TH(t){const e=await vH(t),n=Wa().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:SH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_H,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=da(t,"network-request-failed"),c=Wa().setTimeout(()=>{s(l)},bH.get());function d(){Wa().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const AH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kH=500,CH=600,IH="_blank",NH="http://localhost";class aN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OH(t,e,n,r=kH,i=CH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...AH,width:r.toString(),height:i.toString(),top:s,left:l},f=Rn().toLowerCase();n&&(c=PD(f)?IH:n),ND(f)&&(e=e||NH,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[x,_])=>`${b}${x}=${_},`,"");if(d$(f)&&c!=="_self")return PH(e||"",c),new aN(null);const m=window.open(e||"",c,p);Ye(m,t,"popup-blocked");try{m.focus()}catch{}return new aN(m)}function PH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const RH="__/auth/handler",jH="emulator/auth/handler",MH=encodeURIComponent("fac");async function sN(t,e,n,r,i,s){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fd,eventId:i};if(e instanceof SS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",RF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof km){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${MH}=${encodeURIComponent(d)}`:"";return`${zH(t)}?${Tm(c).slice(1)}${f}`}function zH({config:t}){return t.emulator?bS(t,jH):`https://${t.authDomain}/${RH}`}const w1="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GD,this._completeRedirectFn=oH,this._overrideRedirectResult=iH}async _openPopup(e,n,r,i){Bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await sN(e,n,r,S_(),i);return OH(e,s,TS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sN(e,n,r,S_(),i);return B$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TH(e),r=new cH(e);return n.register("authEvent",i=>(Ye(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(w1,{type:w1},i=>{const s=i?.[0]?.[w1];s!==void 0&&n(!!s),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DD()||OD()||_S()}}const LH=DH;var oN="@firebase/auth",lN="1.12.0";class VH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UH(t){od(new Ec("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LD(t)},f=new y$(r,i,s,d);return E$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),od(new Ec("auth-internal",e=>{const n=Jy(e.getProvider("auth").getImmediate());return(r=>new VH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rl(oN,lN,BH(t)),rl(oN,lN,"esm2020")}const FH=300,qH=fD("authIdTokenMaxAge")||FH;let cN=null;const $H=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qH)return;const i=n?.token;cN!==i&&(cN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HH(t=Mq()){const e=gS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_$(t,{popupRedirectResolver:LH,persistence:[W$,$D,GD]}),r=fD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=$H(s.toString());R$(n,l,()=>l(n.currentUser)),P$(n,c=>l(c))}}const i=bF("auth");return i&&S$(n,`http://${i}`),n}function GH(){return document.getElementsByTagName("head")?.[0]??document}v$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=da("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UH("Browser");var KH="firebase",YH="12.7.0";rl(KH,YH,"app");var uN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var il,e4;(function(){var t;function e(P,C){function M(){}M.prototype=C.prototype,P.F=C.prototype,P.prototype=new M,P.prototype.constructor=P,P.D=function(L,z,q){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return C.prototype[z].apply(L,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,M){M||(M=0);const L=Array(16);if(typeof C=="string")for(var z=0;z<16;++z)L[z]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(z=0;z<16;++z)L[z]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=P.g[0],M=P.g[1],z=P.g[2];let q=P.g[3],U;U=C+(q^M&(z^q))+L[0]+3614090360&4294967295,C=M+(U<<7&4294967295|U>>>25),U=q+(z^C&(M^z))+L[1]+3905402710&4294967295,q=C+(U<<12&4294967295|U>>>20),U=z+(M^q&(C^M))+L[2]+606105819&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(C^z&(q^C))+L[3]+3250441966&4294967295,M=z+(U<<22&4294967295|U>>>10),U=C+(q^M&(z^q))+L[4]+4118548399&4294967295,C=M+(U<<7&4294967295|U>>>25),U=q+(z^C&(M^z))+L[5]+1200080426&4294967295,q=C+(U<<12&4294967295|U>>>20),U=z+(M^q&(C^M))+L[6]+2821735955&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(C^z&(q^C))+L[7]+4249261313&4294967295,M=z+(U<<22&4294967295|U>>>10),U=C+(q^M&(z^q))+L[8]+1770035416&4294967295,C=M+(U<<7&4294967295|U>>>25),U=q+(z^C&(M^z))+L[9]+2336552879&4294967295,q=C+(U<<12&4294967295|U>>>20),U=z+(M^q&(C^M))+L[10]+4294925233&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(C^z&(q^C))+L[11]+2304563134&4294967295,M=z+(U<<22&4294967295|U>>>10),U=C+(q^M&(z^q))+L[12]+1804603682&4294967295,C=M+(U<<7&4294967295|U>>>25),U=q+(z^C&(M^z))+L[13]+4254626195&4294967295,q=C+(U<<12&4294967295|U>>>20),U=z+(M^q&(C^M))+L[14]+2792965006&4294967295,z=q+(U<<17&4294967295|U>>>15),U=M+(C^z&(q^C))+L[15]+1236535329&4294967295,M=z+(U<<22&4294967295|U>>>10),U=C+(z^q&(M^z))+L[1]+4129170786&4294967295,C=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(C^M))+L[6]+3225465664&4294967295,q=C+(U<<9&4294967295|U>>>23),U=z+(C^M&(q^C))+L[11]+643717713&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^C&(z^q))+L[0]+3921069994&4294967295,M=z+(U<<20&4294967295|U>>>12),U=C+(z^q&(M^z))+L[5]+3593408605&4294967295,C=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(C^M))+L[10]+38016083&4294967295,q=C+(U<<9&4294967295|U>>>23),U=z+(C^M&(q^C))+L[15]+3634488961&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^C&(z^q))+L[4]+3889429448&4294967295,M=z+(U<<20&4294967295|U>>>12),U=C+(z^q&(M^z))+L[9]+568446438&4294967295,C=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(C^M))+L[14]+3275163606&4294967295,q=C+(U<<9&4294967295|U>>>23),U=z+(C^M&(q^C))+L[3]+4107603335&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^C&(z^q))+L[8]+1163531501&4294967295,M=z+(U<<20&4294967295|U>>>12),U=C+(z^q&(M^z))+L[13]+2850285829&4294967295,C=M+(U<<5&4294967295|U>>>27),U=q+(M^z&(C^M))+L[2]+4243563512&4294967295,q=C+(U<<9&4294967295|U>>>23),U=z+(C^M&(q^C))+L[7]+1735328473&4294967295,z=q+(U<<14&4294967295|U>>>18),U=M+(q^C&(z^q))+L[12]+2368359562&4294967295,M=z+(U<<20&4294967295|U>>>12),U=C+(M^z^q)+L[5]+4294588738&4294967295,C=M+(U<<4&4294967295|U>>>28),U=q+(C^M^z)+L[8]+2272392833&4294967295,q=C+(U<<11&4294967295|U>>>21),U=z+(q^C^M)+L[11]+1839030562&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^C)+L[14]+4259657740&4294967295,M=z+(U<<23&4294967295|U>>>9),U=C+(M^z^q)+L[1]+2763975236&4294967295,C=M+(U<<4&4294967295|U>>>28),U=q+(C^M^z)+L[4]+1272893353&4294967295,q=C+(U<<11&4294967295|U>>>21),U=z+(q^C^M)+L[7]+4139469664&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^C)+L[10]+3200236656&4294967295,M=z+(U<<23&4294967295|U>>>9),U=C+(M^z^q)+L[13]+681279174&4294967295,C=M+(U<<4&4294967295|U>>>28),U=q+(C^M^z)+L[0]+3936430074&4294967295,q=C+(U<<11&4294967295|U>>>21),U=z+(q^C^M)+L[3]+3572445317&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^C)+L[6]+76029189&4294967295,M=z+(U<<23&4294967295|U>>>9),U=C+(M^z^q)+L[9]+3654602809&4294967295,C=M+(U<<4&4294967295|U>>>28),U=q+(C^M^z)+L[12]+3873151461&4294967295,q=C+(U<<11&4294967295|U>>>21),U=z+(q^C^M)+L[15]+530742520&4294967295,z=q+(U<<16&4294967295|U>>>16),U=M+(z^q^C)+L[2]+3299628645&4294967295,M=z+(U<<23&4294967295|U>>>9),U=C+(z^(M|~q))+L[0]+4096336452&4294967295,C=M+(U<<6&4294967295|U>>>26),U=q+(M^(C|~z))+L[7]+1126891415&4294967295,q=C+(U<<10&4294967295|U>>>22),U=z+(C^(q|~M))+L[14]+2878612391&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~C))+L[5]+4237533241&4294967295,M=z+(U<<21&4294967295|U>>>11),U=C+(z^(M|~q))+L[12]+1700485571&4294967295,C=M+(U<<6&4294967295|U>>>26),U=q+(M^(C|~z))+L[3]+2399980690&4294967295,q=C+(U<<10&4294967295|U>>>22),U=z+(C^(q|~M))+L[10]+4293915773&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~C))+L[1]+2240044497&4294967295,M=z+(U<<21&4294967295|U>>>11),U=C+(z^(M|~q))+L[8]+1873313359&4294967295,C=M+(U<<6&4294967295|U>>>26),U=q+(M^(C|~z))+L[15]+4264355552&4294967295,q=C+(U<<10&4294967295|U>>>22),U=z+(C^(q|~M))+L[6]+2734768916&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~C))+L[13]+1309151649&4294967295,M=z+(U<<21&4294967295|U>>>11),U=C+(z^(M|~q))+L[4]+4149444226&4294967295,C=M+(U<<6&4294967295|U>>>26),U=q+(M^(C|~z))+L[11]+3174756917&4294967295,q=C+(U<<10&4294967295|U>>>22),U=z+(C^(q|~M))+L[2]+718787259&4294967295,z=q+(U<<15&4294967295|U>>>17),U=M+(q^(z|~C))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+q&4294967295}r.prototype.v=function(P,C){C===void 0&&(C=P.length);const M=C-this.blockSize,L=this.C;let z=this.h,q=0;for(;q<C;){if(z==0)for(;q<=M;)i(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<C;)if(L[z++]=P.charCodeAt(q++),z==this.blockSize){i(this,L),z=0;break}}else for(;q<C;)if(L[z++]=P[q++],z==this.blockSize){i(this,L),z=0;break}}this.h=z,this.o+=C},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;C=this.o*8;for(var M=P.length-8;M<P.length;++M)P[M]=C&255,C/=256;for(this.v(P),P=Array(16),C=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)P[C++]=this.g[M]>>>L&255;return P};function s(P,C){var M=c;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=C(P)}function l(P,C){this.h=C;const M=[];let L=!0;for(let z=P.length-1;z>=0;z--){const q=P[z]|0;L&&q==C||(M[z]=q,L=!1)}this.g=M}var c={};function d(P){return-128<=P&&P<128?s(P,function(C){return new l([C|0],C<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return E(f(-P));const C=[];let M=1;for(let L=0;P>=M;L++)C[L]=P/M|0,M*=4294967296;return new l(C,0)}function p(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return E(p(P.substring(1),C));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(C,8));let L=m;for(let q=0;q<P.length;q+=8){var z=Math.min(8,P.length-q);const U=parseInt(P.substring(q,q+z),C);z<8?(z=f(Math.pow(C,z)),L=L.j(z).add(f(U))):(L=L.j(M),L=L.add(f(U)))}return L}var m=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let P=0,C=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);P+=(L>=0?L:4294967296+L)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(S(this))return"-"+E(this).toString(P);const C=f(Math.pow(P,6));var M=this;let L="";for(;;){const z=V(M,C).g;M=k(M,z.j(C));let q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(P);if(M=z,_(M))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(let C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=k(this,P),S(P)?-1:_(P)?0:1};function E(P){const C=P.g.length,M=[];for(let L=0;L<C;L++)M[L]=~P.g[L];return new l(M,~P.h).add(b)}t.abs=function(){return S(this)?E(this):this},t.add=function(P){const C=Math.max(this.g.length,P.g.length),M=[];let L=0;for(let z=0;z<=C;z++){let q=L+(this.i(z)&65535)+(P.i(z)&65535),U=(q>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);L=U>>>16,q&=65535,U&=65535,M[z]=U<<16|q}return new l(M,M[M.length-1]&-2147483648?-1:0)};function k(P,C){return P.add(E(C))}t.j=function(P){if(_(this)||_(P))return m;if(S(this))return S(P)?E(this).j(E(P)):E(E(this).j(P));if(S(P))return E(this.j(E(P)));if(this.l(x)<0&&P.l(x)<0)return f(this.m()*P.m());const C=this.g.length+P.g.length,M=[];for(var L=0;L<2*C;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let z=0;z<P.g.length;z++){const q=this.i(L)>>>16,U=this.i(L)&65535,ve=P.i(z)>>>16,Ce=P.i(z)&65535;M[2*L+2*z]+=U*Ce,j(M,2*L+2*z),M[2*L+2*z+1]+=q*Ce,j(M,2*L+2*z+1),M[2*L+2*z+1]+=U*ve,j(M,2*L+2*z+1),M[2*L+2*z+2]+=q*ve,j(M,2*L+2*z+2)}for(P=0;P<C;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=C;P<2*C;P++)M[P]=0;return new l(M,0)};function j(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function O(P,C){this.g=P,this.h=C}function V(P,C){if(_(C))throw Error("division by zero");if(_(P))return new O(m,m);if(S(P))return C=V(E(P),C),new O(E(C.g),E(C.h));if(S(C))return C=V(P,E(C)),new O(E(C.g),C.h);if(P.g.length>30){if(S(P)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var M=b,L=C;L.l(P)<=0;)M=R(M),L=R(L);var z=F(M,1),q=F(L,1);for(L=F(L,2),M=F(M,2);!_(L);){var U=q.add(L);U.l(P)<=0&&(z=z.add(M),q=U),L=F(L,1),M=F(M,1)}return C=k(P,z.j(C)),new O(z,C)}for(z=m;P.l(C)>=0;){for(M=Math.max(1,Math.floor(P.m()/C.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=f(M),U=q.j(C);S(U)||U.l(P)>0;)M-=L,q=f(M),U=q.j(C);_(q)&&(q=b),z=z.add(q),P=k(P,U)}return new O(z,P)}t.B=function(P){return V(this,P).h},t.and=function(P){const C=Math.max(this.g.length,P.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)&P.i(L);return new l(M,this.h&P.h)},t.or=function(P){const C=Math.max(this.g.length,P.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)|P.i(L);return new l(M,this.h|P.h)},t.xor=function(P){const C=Math.max(this.g.length,P.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)^P.i(L);return new l(M,this.h^P.h)};function R(P){const C=P.g.length+1,M=[];for(let L=0;L<C;L++)M[L]=P.i(L)<<1|P.i(L-1)>>>31;return new l(M,P.h)}function F(P,C){const M=C>>5;C%=32;const L=P.g.length-M,z=[];for(let q=0;q<L;q++)z[q]=C>0?P.i(q+M)>>>C|P.i(q+M+1)<<32-C:P.i(q+M);return new l(z,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,e4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,il=l}).apply(typeof uN<"u"?uN:typeof self<"u"?self:typeof window<"u"?window:{});var Og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t4,_h,n4,d0,k_,r4,i4,a4;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Og=="object"&&Og];for(var A=0;A<y.length;++A){var N=y[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(y,A){if(A)e:{var N=r;y=y.split(".");for(var B=0;B<y.length-1;B++){var Z=y[B];if(!(Z in N))break e;N=N[Z]}y=y[y.length-1],B=N[y],A=A(B),A!=B&&A!=null&&e(N,y,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(A){var N=[],B;for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&N.push([B,A[B]]);return N}});var s=s||{},l=this||self;function c(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function d(y,A,N){return y.call.apply(y.bind,arguments)}function f(y,A,N){return f=d,f.apply(null,arguments)}function p(y,A){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),y.apply(this,B)}}function m(y,A){function N(){}N.prototype=A.prototype,y.Z=A.prototype,y.prototype=new N,y.prototype.constructor=y,y.Ob=function(B,Z,ae){for(var we=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)we[Qe-2]=arguments[Qe];return A.prototype[Z].apply(B,we)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const A=y.length;if(A>0){const N=Array(A);for(let B=0;B<A;B++)N[B]=y[B];return N}return[]}function _(y,A){for(let B=1;B<arguments.length;B++){const Z=arguments[B];var N=typeof Z;if(N=N!="object"?N:Z?Array.isArray(Z)?"array":N:"null",N=="array"||N=="object"&&typeof Z.length=="number"){N=y.length||0;const ae=Z.length||0;y.length=N+ae;for(let we=0;we<ae;we++)y[N+we]=Z[we]}else y.push(Z)}}class S{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(y){l.setTimeout(()=>{throw y},0)}function k(){var y=P;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,N){const B=O.get();B.set(A,N),this.h?this.h.next=B:this.g=B,this.h=B}}var O=new S(()=>new V,y=>y.reset());class V{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,P=new j,C=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(M)}};function M(){for(var y;y=k();){try{y.h.call(y.g)}catch(N){E(N)}var A=O;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}F=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};l.addEventListener("test",N,A),l.removeEventListener("test",N,A)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function ve(y,A){z.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}m(ve,z),ve.prototype.init=function(y,A){const N=this.type=y.type,B=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(N=="mouseover"?A=y.fromElement:N=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ne(y,A,N,B,Z){this.listener=y,this.proxy=null,this.src=A,this.type=N,this.capture=!!B,this.ha=Z,this.key=++Y,this.da=this.fa=!1}function W(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function pe(y,A,N){for(const B in y)A.call(N,y[B],B,y)}function ke(y,A){for(const N in y)A.call(void 0,y[N],N,y)}function $(y){const A={};for(const N in y)A[N]=y[N];return A}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(y,A){let N,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(N in B)y[N]=B[N];for(let ae=0;ae<ie.length;ae++)N=ie[ae],Object.prototype.hasOwnProperty.call(B,N)&&(y[N]=B[N])}}function ce(y){this.src=y,this.g={},this.h=0}ce.prototype.add=function(y,A,N,B,Z){const ae=y.toString();y=this.g[ae],y||(y=this.g[ae]=[],this.h++);const we=Se(y,A,B,Z);return we>-1?(A=y[we],N||(A.fa=!1)):(A=new ne(A,this.src,ae,!!B,Z),A.fa=N,y.push(A)),A};function be(y,A){const N=A.type;if(N in y.g){var B=y.g[N],Z=Array.prototype.indexOf.call(B,A,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(B,Z,1),ae&&(W(A),y.g[N].length==0&&(delete y.g[N],y.h--))}}function Se(y,A,N,B){for(let Z=0;Z<y.length;++Z){const ae=y[Z];if(!ae.da&&ae.listener==A&&ae.capture==!!N&&ae.ha==B)return Z}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Ve={};function G(y,A,N,B,Z){if(Array.isArray(A)){for(let ae=0;ae<A.length;ae++)G(y,A[ae],N,B,Z);return null}return N=Vn(N),y&&y[Ce]?y.J(A,N,c(B)?!!B.capture:!1,Z):ye(y,A,N,!1,B,Z)}function ye(y,A,N,B,Z,ae){if(!A)throw Error("Invalid event type");const we=c(Z)?!!Z.capture:!!Z;let Qe=gt(y);if(Qe||(y[Te]=Qe=new ce(y)),N=Qe.add(A,N,B,we,ae),N.proxy)return N;if(B=Ne(),N.proxy=B,B.src=y,B.listener=N,y.addEventListener)q||(Z=we),Z===void 0&&(Z=!1),y.addEventListener(A.toString(),B,Z);else if(y.attachEvent)y.attachEvent(Ke(A.toString()),B);else if(y.addListener&&y.removeListener)y.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ne(){function y(N){return A.call(y.src,y.listener,N)}const A=Dt;return y}function de(y,A,N,B,Z){if(Array.isArray(A))for(var ae=0;ae<A.length;ae++)de(y,A[ae],N,B,Z);else B=c(B)?!!B.capture:!!B,N=Vn(N),y&&y[Ce]?(y=y.i,ae=String(A).toString(),ae in y.g&&(A=y.g[ae],N=Se(A,N,B,Z),N>-1&&(W(A[N]),Array.prototype.splice.call(A,N,1),A.length==0&&(delete y.g[ae],y.h--)))):y&&(y=gt(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Se(A,N,B,Z)),(N=y>-1?A[y]:null)&&bt(N))}function bt(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[Ce])be(A.i,y);else{var N=y.type,B=y.proxy;A.removeEventListener?A.removeEventListener(N,B,y.capture):A.detachEvent?A.detachEvent(Ke(N),B):A.addListener&&A.removeListener&&A.removeListener(B),(N=gt(A))?(be(N,y),N.h==0&&(N.src=null,A[Te]=null)):W(y)}}}function Ke(y){return y in Ve?Ve[y]:Ve[y]="on"+y}function Dt(y,A){if(y.da)y=!0;else{A=new ve(A,this);const N=y.listener,B=y.ha||y.src;y.fa&&bt(y),y=N.call(B,A)}return y}function gt(y){return y=y[Te],y instanceof ce?y:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vn(y){return typeof y=="function"?y:(y[Bt]||(y[Bt]=function(A){return y.handleEvent(A)}),y[Bt])}function lt(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}m(lt,L),lt.prototype[Ce]=!0,lt.prototype.removeEventListener=function(y,A,N,B){de(this,y,A,N,B)};function qt(y,A){var N,B=y.G;if(B)for(N=[];B;B=B.G)N.push(B);if(y=y.M,B=A.type||A,typeof A=="string")A=new z(A,y);else if(A instanceof z)A.target=A.target||y;else{var Z=A;A=new z(B,y),re(A,Z)}Z=!0;let ae,we;if(N)for(we=N.length-1;we>=0;we--)ae=A.g=N[we],Z=Fe(ae,B,!0,A)&&Z;if(ae=A.g=y,Z=Fe(ae,B,!0,A)&&Z,Z=Fe(ae,B,!1,A)&&Z,N)for(we=0;we<N.length;we++)ae=A.g=N[we],Z=Fe(ae,B,!1,A)&&Z}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const N=y.g[A];for(let B=0;B<N.length;B++)W(N[B]);delete y.g[A],y.h--}}this.G=null},lt.prototype.J=function(y,A,N,B){return this.i.add(String(y),A,!1,N,B)},lt.prototype.K=function(y,A,N,B){return this.i.add(String(y),A,!0,N,B)};function Fe(y,A,N,B){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let Z=!0;for(let ae=0;ae<A.length;++ae){const we=A[ae];if(we&&!we.da&&we.capture==N){const Qe=we.listener,cn=we.ha||we.src;we.fa&&be(y.i,we),Z=Qe.call(cn,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function et(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(y,A||0)}function Cn(y){y.g=et(()=>{y.g=null,y.i&&(y.i=!1,Cn(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class fe extends L{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(y){L.call(this),this.h=y,this.g={}}m(ft,L);var Bn=[];function ba(y){pe(y.g,function(A,N){this.g.hasOwnProperty(N)&&bt(A)},y),y.g={}}ft.prototype.N=function(){ft.Z.N.call(this),ba(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=l.JSON.stringify,Gi=l.JSON.parse,Ki=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function El(){}function Yi(){}var Kr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function In(){z.call(this,"d")}m(In,z);function Er(){z.call(this,"c")}m(Er,z);var Yt={},Kc=null;function xa(){return Kc=Kc||new lt}Yt.Ia="serverreachability";function Yr(y){z.call(this,Yt.Ia,y)}m(Yr,z);function wi(y){const A=xa();qt(A,new Yr(A))}Yt.STAT_EVENT="statevent";function os(y,A){z.call(this,Yt.STAT_EVENT,y),this.stat=A}m(os,z);function tn(y){const A=xa();qt(A,new os(A,y))}Yt.Ja="timingevent";function Wr(y,A){z.call(this,Yt.Ja,y),this.size=A}m(Wr,z);function $e(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},A)}function xt(){this.g=!0}xt.prototype.ua=function(){this.g=!1};function gn(y,A,N,B,Z,ae){y.info(function(){if(y.g)if(ae){var we="",Qe=ae.split("&");for(let yt=0;yt<Qe.length;yt++){var cn=Qe[yt].split("=");if(cn.length>1){const Wt=cn[0];cn=cn[1];const Ai=Wt.split("_");we=Ai.length>=2&&Ai[1]=="type"?we+(Wt+"="+cn+"&"):we+(Wt+"=redacted&")}}}else we=null;else we=ae;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+A+`
`+N+`
`+we})}function Un(y,A,N,B,Z,ae,we){y.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+A+`
`+N+`
`+ae+" "+we})}function Sr(y,A,N,B){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+mr(y,N)+(B?" "+B:"")})}function $t(y,A){y.info(function(){return"TIMEOUT: "+A})}xt.prototype.info=function(){};function mr(y,A){if(!y.g)return A;if(!A)return null;try{const ae=JSON.parse(A);if(ae){for(y=0;y<ae.length;y++)if(Array.isArray(ae[y])){var N=ae[y];if(!(N.length<2)){var B=N[1];if(Array.isArray(B)&&!(B.length<1)){var Z=B[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let we=1;we<B.length;we++)B[we]=""}}}}return _r(ae)}catch{return A}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},er;function wa(){}m(wa,El),wa.prototype.g=function(){return new XMLHttpRequest},er=new wa;function tr(y){return encodeURIComponent(String(y))}function of(y){var A=1;y=y.split(":");const N=[];for(;A>0&&y.length;)N.push(y.shift()),A--;return y.length&&N.push(y.join(":")),N}function Wi(y,A,N,B){this.j=y,this.i=A,this.l=N,this.S=B||1,this.V=new ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var yn={},Fn={};function _a(y,A,N){y.M=1,y.A=Sl(bn(A)),y.u=N,y.R=!0,Yc(y,null)}function Yc(y,A){y.F=Date.now(),Ea(y),y.B=bn(y.A);var N=y.B,B=y.S;Array.isArray(B)||(B=[String(B)]),Zc(N.i,"t",B),y.C=0,N=y.j.L,y.h=new Xi,y.g=_p(y.j,N?A:null,!y.u),y.P>0&&(y.O=new fe(f(y.Y,y,y.g),y.P)),A=y.V,N=y.g,B=y.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Bn[0]=Z.toString()),Z=Bn);for(let ae=0;ae<Z.length;ae++){const we=G(N,Z[ae],B||A.handleEvent,!1,A.h||A);if(!we)break;A.g[we.key]=we}A=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),wi(),gn(y.i,y.v,y.B,y.l,y.S,y.u)}Wi.prototype.ba=function(y){y=y.target;const A=this.O;A&&Ji(y)==3?A.j():this.Y(y)},Wi.prototype.Y=function(y){try{if(y==this.g)e:{const Qe=Ji(this.g),cn=this.g.ya(),yt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||Qe!=4||cn==7||(cn==8||yt<=0?wi(3):wi(2)),Sa(this);var A=this.g.ca();this.X=A;var N=fb(this);if(this.o=A==200,Un(this.i,this.v,this.B,this.l,this.S,Qe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var B,Z=this.g;if((B=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var ae=B;break t}}ae=null}if(y=ae)Sr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ta(this,y);else{this.o=!1,this.m=3,tn(12),Xr(this),Ei(this);break e}}if(this.R){y=!0;let Wt;for(;!this.K&&this.C<N.length;)if(Wt=cp(this,N),Wt==Fn){Qe==4&&(this.m=4,tn(14),y=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==yn){this.m=4,tn(15),Sr(this.i,this.l,N,"[Invalid Chunk]"),y=!1;break}else Sr(this.i,this.l,Wt,null),Ta(this,Wt);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||N.length!=0||this.h.h||(this.m=1,tn(16),y=!1),this.o=this.o&&y,!y)Sr(this.i,this.l,N,"[Invalid Chunked Response]"),Xr(this),Ei(this);else if(N.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),_f(we),we.P=!0,tn(11))}}else Sr(this.i,this.l,N,null),Ta(this,N);Qe==4&&Xr(this),this.o&&!this.K&&(Qe==4?vp(this.j,this):(this.o=!1,Ea(this)))}else cs(this.g),A==400&&N.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),Xr(this),Ei(this)}}}catch{}};function fb(y){if(!lp(y))return y.g.la();const A=nr(y.g);if(A==="")return"";let N="";const B=A.length,Z=Ji(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Xr(y),Ei(y),"";y.h.i=new l.TextDecoder}for(let ae=0;ae<B;ae++)y.h.h=!0,N+=y.h.i.decode(A[ae],{stream:!(Z&&ae==B-1)});return A.length=0,y.h.g+=N,y.C=0,y.h.g}function lp(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function cp(y,A){var N=y.C,B=A.indexOf(`
`,N);return B==-1?Fn:(N=Number(A.substring(N,B)),isNaN(N)?yn:(B+=1,B+N>A.length?Fn:(A=A.slice(B,B+N),y.C=B+N,A)))}Wi.prototype.cancel=function(){this.K=!0,Xr(this)};function Ea(y){y.T=Date.now()+y.H,Wc(y,y.H)}function Wc(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=$e(f(y.aa,y),A)}function Sa(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Wi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?($t(this.i,this.B),this.M!=2&&(wi(),tn(17)),Xr(this),this.m=2,Ei(this)):Wc(this,this.T-y)};function Ei(y){y.j.I==0||y.K||vp(y.j,y)}function Xr(y){Sa(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,ba(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function Ta(y,A){try{var N=y.j;if(N.I!=0&&(N.g==y||ka(N.h,y))){if(!y.L&&ka(N.h,y)&&N.I==3){try{var B=N.Ba.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<y.F)ru(N),po(N);else break e;Ol(N),tn(18)}}else N.xa=Z[1],0<N.xa-N.K&&Z[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=$e(f(N.Va,N),6e3));Aa(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ra(N,11)}else if((y.L||N.g==y)&&ru(N),!U(A))for(Z=N.Ba.g.parse(A),A=0;A<Z.length;A++){let yt=Z[A];const Wt=yt[0];if(!(Wt<=N.K))if(N.K=Wt,yt=yt[1],N.I==2)if(yt[0]=="c"){N.M=yt[1],N.ba=yt[2];const Ai=yt[3];Ai!=null&&(N.ka=Ai,N.j.info("VER="+N.ka));const ja=yt[4];ja!=null&&(N.za=ja,N.j.info("SVER="+N.za));const ea=yt[5];ea!=null&&typeof ea=="number"&&ea>0&&(B=1.5*ea,N.O=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const ta=y.g;if(ta){const Pl=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var ae=B.h;ae.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(uf(ae,ae.h),ae.h=null))}if(B.G){const iu=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(B.wa=iu,wt(B.J,B.G,iu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-y.F,N.j.info("Handshake RTT: "+N.T+"ms")),B=N;var we=y;if(B.na=wp(B,B.L?B.ba:null,B.W),we.L){df(B.h,we);var Qe=we,cn=B.O;cn&&(Qe.H=cn),Qe.D&&(Sa(Qe),Ea(Qe)),B.g=we}else gp(B);N.i.length>0&&Pa(N)}else yt[0]!="stop"&&yt[0]!="close"||Ra(N,7);else N.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Ra(N,7):xf(N):yt[0]!="noop"&&N.l&&N.l.qa(yt),N.A=0)}}wi(4)}catch{}}var vn=class{constructor(y,A){this.g=y,this.map=A}};function lf(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Aa(y){return y.h?1:y.g?y.g.size:0}function ka(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function uf(y,A){y.g?y.g.add(A):y.h=A}function df(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}lf.prototype.cancel=function(){if(this.i=ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ff(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const N of y.g.values())A=A.concat(N.G);return A}return x(y.i)}var up=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(y,A){if(y){y=y.split("&");for(let N=0;N<y.length;N++){const B=y[N].indexOf("=");let Z,ae=null;B>=0?(Z=y[N].substring(0,B),ae=y[N].substring(B+1)):Z=y[N],A(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Qr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Qr?(this.l=y.l,qn(this,y.j),this.o=y.o,this.g=y.g,oo(this,y.u),this.h=y.h,hf(this,mp(y.i)),this.m=y.m):y&&(A=String(y).match(up))?(this.l=!1,qn(this,A[1]||"",!0),this.o=Ca(A[2]||""),this.g=Ca(A[3]||"",!0),oo(this,A[4]),this.h=Ca(A[5]||"",!0),hf(this,A[6]||"",!0),this.m=Ca(A[7]||"")):(this.l=!1,this.i=new co(null,this.l))}Qr.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(Tl(A,Qc,!0),":");var N=this.g;return(N||A=="file")&&(y.push("//"),(A=this.o)&&y.push(Tl(A,Qc,!0),"@"),y.push(tr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&y.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(Tl(N,N.charAt(0)=="/"?mf:dp,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",Tl(N,fp)),y.join("")},Qr.prototype.resolve=function(y){const A=bn(this);let N=!!y.j;N?qn(A,y.j):N=!!y.o,N?A.o=y.o:N=!!y.g,N?A.g=y.g:N=y.u!=null;var B=y.h;if(N)oo(A,y.u);else if(N=!!y.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var Z=A.h.lastIndexOf("/");Z!=-1&&(B=A.h.slice(0,Z+1)+B)}if(Z=B,Z==".."||Z==".")B="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){B=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let we=0;we<Z.length;){const Qe=Z[we++];Qe=="."?B&&we==Z.length&&ae.push(""):Qe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),B&&we==Z.length&&ae.push("")):(ae.push(Qe),B=!0)}B=ae.join("/")}else B=Z}return N?A.h=B:N=y.i.toString()!=="",N?hf(A,mp(y.i)):N=!!y.m,N&&(A.m=y.m),A};function bn(y){return new Qr(y)}function qn(y,A,N){y.j=N?Ca(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function oo(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function hf(y,A,N){A instanceof co?(y.i=A,Jc(y.i,y.l)):(N||(A=Tl(A,lo)),y.i=new co(A,y.l))}function wt(y,A,N){y.i.set(A,N)}function Sl(y){return wt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ca(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Tl(y,A,N){return typeof y=="string"?(y=encodeURI(y).replace(A,Rr),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Rr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Qc=/[#\/\?@]/g,dp=/[#\?:]/g,mf=/[#\?]/g,lo=/[#\?@]/g,fp=/#/g;function co(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function jr(y){y.g||(y.g=new Map,y.h=0,y.i&&Xc(y.i,function(A,N){y.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=co.prototype,t.add=function(y,A){jr(this),this.i=null,y=uo(this,y);let N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(A),this.h+=1,this};function hp(y,A){jr(y),A=uo(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function pf(y,A){return jr(y),A=uo(y,A),y.g.has(A)}t.forEach=function(y,A){jr(this),this.g.forEach(function(N,B){N.forEach(function(Z){y.call(A,Z,B,this)},this)},this)};function gf(y,A){jr(y);let N=[];if(typeof A=="string")pf(y,A)&&(N=N.concat(y.g.get(uo(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)N=N.concat(y[A]);return N}t.set=function(y,A){return jr(this),this.i=null,y=uo(this,y),pf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=gf(this,y),y.length>0?String(y[0]):A):A};function Zc(y,A,N){hp(y,A),N.length>0&&(y.i=null,y.g.set(uo(y,A),x(N)),y.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let B=0;B<A.length;B++){var N=A[B];const Z=tr(N);N=gf(this,N);for(let ae=0;ae<N.length;ae++){let we=Z;N[ae]!==""&&(we+="="+tr(N[ae])),y.push(we)}}return this.i=y.join("&")};function mp(y){const A=new co;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function uo(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Jc(y,A){A&&!y.j&&(jr(y),y.i=null,y.g.forEach(function(N,B){const Z=B.toLowerCase();B!=Z&&(hp(this,B),Zc(this,Z,N))},y)),y.j=A}function Qi(y,A){const N=new xt;if(l.Image){const B=new Image;B.onload=p(Si,N,"TestLoadImage: loaded",!0,A,B),B.onerror=p(Si,N,"TestLoadImage: error",!1,A,B),B.onabort=p(Si,N,"TestLoadImage: abort",!1,A,B),B.ontimeout=p(Si,N,"TestLoadImage: timeout",!1,A,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=y}else A(!1)}function yf(y,A){const N=new xt,B=new AbortController,Z=setTimeout(()=>{B.abort(),Si(N,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:B.signal}).then(ae=>{clearTimeout(Z),ae.ok?Si(N,"TestPingServer: ok",!0,A):Si(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Z),Si(N,"TestPingServer: error",!1,A)})}function Si(y,A,N,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(N)}catch{}}function fo(){this.g=new Ki}function Ia(y){this.i=y.Sb||null,this.h=y.ab||!1}m(Ia,El),Ia.prototype.g=function(){return new Al(this.i,this.h)};function Al(y,A){lt.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Al,lt),t=Al.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,Zi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eu(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function eu(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?ho(this):Zi(this),this.readyState==3&&eu(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ho(this))},t.Na=function(y){this.g&&(this.response=y,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Zi(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=A.next();return y.join(`\r
`)};function Zi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ti(y){let A="";return pe(y,function(N,B){A+=B,A+=":",A+=N,A+=`\r
`}),A}function kl(y,A,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=Ti(N),typeof y=="string"?N!=null&&tr(N):wt(y,A,N))}function It(y){lt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(It,lt);var Na=/^https?$/i,vf=["POST","PUT"];t=It.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():er.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(ae){Cl(this,ae);return}if(y=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)N.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ae of B.keys())N.set(ae,B.get(ae));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(vf,A,void 0)>=0)||B||Z||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,we]of N)this.g.setRequestHeader(ae,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ae){Cl(this,ae)}};function Cl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,bf(y),ls(y)}function bf(y){y.A||(y.A=!0,qt(y,"complete"),qt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,qt(this,"complete"),qt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(y){if(y.h&&typeof s<"u"){if(y.v&&Ji(y)==4)setTimeout(y.Ca.bind(y),0);else if(qt(y,"readystatechange"),Ji(y)==4){y.h=!1;try{const ae=y.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var B;if(B=ae===0){let we=String(y.D).match(up)[1]||null;!we&&l.self&&l.self.location&&(we=l.self.location.protocol.slice(0,-1)),B=!Na.test(we?we.toLowerCase():"")}N=B}if(N)qt(y,"complete"),qt(y,"success");else{y.o=6;try{var Z=Ji(y)>2?y.g.statusText:""}catch{Z=""}y.l=Z+" ["+y.ca()+"]",bf(y)}}finally{ls(y)}}}}function ls(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const N=y.g;y.g=null,A||qt(y,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ji(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ji(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),Gi(A)}};function nr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(y){const A={};y=(y.g&&Ji(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<y.length;B++){if(U(y[B]))continue;var N=of(y[B]);const Z=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ae=A[Z]||[];A[Z]=ae,ae.push(N)}ke(A,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(y,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||A}function mo(y){this.za=0,this.i=[],this.j=new xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oa("baseRetryDelayMs",5e3,y),this.Za=Oa("retryDelaySeedMs",1e4,y),this.Ta=Oa("forwardChannelMaxRetries",2,y),this.va=Oa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new lf(y&&y.concurrentRequestLimit),this.Ba=new fo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mo.prototype,t.ka=8,t.I=1,t.connect=function(y,A,N,B){tn(0),this.W=y,this.H=A||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.J=wp(this,null,this.W),Pa(this)};function xf(y){if(tu(y),y.I==3){var A=y.V++,N=bn(y.J);if(wt(N,"SID",y.M),wt(N,"RID",A),wt(N,"TYPE","terminate"),Nl(y,N),A=new Wi(y,y.j,A),A.M=2,A.A=Sl(bn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=A.A,N=!0),N||(A.g=_p(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ea(A)}xp(y)}function po(y){y.g&&(_f(y),y.g.cancel(),y.g=null)}function tu(y){po(y),y.v&&(l.clearTimeout(y.v),y.v=null),ru(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Pa(y){if(!cf(y.h)&&!y.m){y.m=!0;var A=y.Ea;R||C(),F||(R(),F=!0),P.add(A,y),y.D=0}}function nu(y,A){return Aa(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=$e(f(y.Ea,y,A),bp(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Z=new Wi(this,this.j,y);let ae=this.o;if(this.U&&(ae?(ae=$(ae),re(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,A>4096){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=pp(this,Z,A),N=bn(this.J),wt(N,"RID",y),wt(N,"CVER",22),this.G&&wt(N,"X-HTTP-Session-Id",this.G),Nl(this,N),ae&&(this.R?A="headers="+tr(Ti(ae))+"&"+A:this.u&&kl(N,this.u,ae)),uf(this.h,Z),this.Ra&&wt(N,"TYPE","init"),this.S?(wt(N,"$req",A),wt(N,"SID","null"),Z.U=!0,_a(Z,N,null)):_a(Z,N,A),this.I=2}}else this.I==3&&(y?wf(this,y):this.i.length==0||cf(this.h)||wf(this))};function wf(y,A){var N;A?N=A.l:N=y.V++;const B=bn(y.J);wt(B,"SID",y.M),wt(B,"RID",N),wt(B,"AID",y.K),Nl(y,B),y.u&&y.o&&kl(B,y.u,y.o),N=new Wi(y,y.j,N,y.D+1),y.u===null&&(N.J=y.o),A&&(y.i=A.G.concat(y.i)),A=pp(y,N,1e3),N.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),uf(y.h,N),_a(N,B,A)}function Nl(y,A){y.H&&pe(y.H,function(N,B){wt(A,B,N)}),y.l&&pe({},function(N,B){wt(A,B,N)})}function pp(y,A,N){N=Math.min(y.i.length,N);const B=y.l?f(y.l.Ka,y.l,y):null;e:{var Z=y.i;let Qe=-1;for(;;){const cn=["count="+N];Qe==-1?N>0?(Qe=Z[0].g,cn.push("ofs="+Qe)):Qe=0:cn.push("ofs="+Qe);let yt=!0;for(let Wt=0;Wt<N;Wt++){var ae=Z[Wt].g;const Ai=Z[Wt].map;if(ae-=Qe,ae<0)Qe=Math.max(0,Z[Wt].g-100),yt=!1;else try{ae="req"+ae+"_"||"";try{var we=Ai instanceof Map?Ai:Object.entries(Ai);for(const[ja,ea]of we){let ta=ea;c(ea)&&(ta=_r(ea)),cn.push(ae+ja+"="+encodeURIComponent(ta))}}catch(ja){throw cn.push(ae+"type="+encodeURIComponent("_badmap")),ja}}catch{B&&B(Ai)}}if(yt){we=cn.join("&");break e}}we=void 0}return y=y.i.splice(0,N),A.G=y,we}function gp(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;R||C(),F||(R(),F=!0),P.add(A,y),y.A=0}}function Ol(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=$e(f(y.Da,y),bp(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,yp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=$e(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),po(this),yp(this))};function _f(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function yp(y){y.g=new Wi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=bn(y.na);wt(A,"RID","rpc"),wt(A,"SID",y.M),wt(A,"AID",y.K),wt(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&wt(A,"TO",y.ia),wt(A,"TYPE","xmlhttp"),Nl(y,A),y.u&&y.o&&kl(A,y.u,y.o),y.O&&(y.g.H=y.O);var N=y.g;y=y.ba,N.M=1,N.A=Sl(bn(A)),N.u=null,N.R=!0,Yc(N,y)}t.Va=function(){this.C!=null&&(this.C=null,po(this),Ol(this),tn(19))};function ru(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function vp(y,A){var N=null;if(y.g==A){ru(y),_f(y),y.g=null;var B=2}else if(ka(y.h,A))N=A.G,df(y.h,A),B=1;else return;if(y.I!=0){if(A.o)if(B==1){N=A.u?A.u.length:0,A=Date.now()-A.F;var Z=y.D;B=xa(),qt(B,new Wr(B,N)),Pa(y)}else gp(y);else if(Z=A.m,Z==3||Z==0&&A.X>0||!(B==1&&nu(y,A)||B==2&&Ol(y)))switch(N&&N.length>0&&(A=y.h,A.i=A.i.concat(N)),Z){case 1:Ra(y,5);break;case 4:Ra(y,10);break;case 3:Ra(y,6);break;default:Ra(y,2)}}}function bp(y,A){let N=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(N*=2),N*A}function Ra(y,A){if(y.j.info("Error code "+A),A==2){var N=f(y.bb,y),B=y.Ua;const Z=!B;B=new Qr(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qn(B,"https"),Sl(B),Z?Qi(B.toString(),N):yf(B.toString(),N)}else tn(2);y.I=0,y.l&&y.l.pa(A),xp(y),tu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function xp(y){if(y.I=0,y.ja=[],y.l){const A=ff(y.h);(A.length!=0||y.i.length!=0)&&(_(y.ja,A),_(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function wp(y,A,N){var B=N instanceof Qr?bn(N):new Qr(N);if(B.g!="")A&&(B.g=A+"."+B.g),oo(B,B.u);else{var Z=l.location;B=Z.protocol,A=A?A+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new Qr(null);B&&qn(ae,B),A&&(ae.g=A),Z&&oo(ae,Z),N&&(ae.h=N),B=ae}return N=y.G,A=y.wa,N&&A&&wt(B,N,A),wt(B,"VER",y.ka),Nl(y,B),B}function _p(y,A,N){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new It(new Ia({ab:N})):new It(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ep(){}t=Ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function go(){}go.prototype.g=function(y,A){return new Tr(y,A)};function Tr(y,A){lt.call(this),this.g=new mo(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!U(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new us(this)}m(Tr,lt),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){xf(this.g)},Tr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.v&&(N={},N.__data__=_r(y),y=N);A.i.push(new vn(A.Ya++,y)),A.I==3&&Pa(A)},Tr.prototype.N=function(){this.g.l=null,delete this.j,xf(this.g),delete this.g,Tr.Z.N.call(this)};function Sp(y){In.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const N in A){y=N;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}m(Sp,In);function Tp(){Er.call(this),this.status=1}m(Tp,Er);function us(y){this.g=y}m(us,Ep),us.prototype.ra=function(){qt(this.g,"a")},us.prototype.qa=function(y){qt(this.g,new Sp(y))},us.prototype.pa=function(y){qt(this.g,new Tp)},us.prototype.oa=function(){qt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,a4=function(){return new go},i4=function(){return xa()},r4=Yt,k_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,d0=_i,Jn.COMPLETE="complete",n4=Jn,Yi.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",lt.prototype.listen=lt.prototype.J,_h=Yi,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,t4=It}).apply(typeof Og<"u"?Og:typeof self<"u"?self:typeof window<"u"?window:{});const dN="@firebase/firestore",fN="4.9.3";let vr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let $d="12.7.0";const Tc=new mS("@firebase/firestore");function Hu(){return Tc.logLevel}function ge(t,...e){if(Tc.logLevel<=ot.DEBUG){const n=e.map(kS);Tc.debug(`Firestore (${$d}): ${t}`,...n)}}function hn(t,...e){if(Tc.logLevel<=ot.ERROR){const n=e.map(kS);Tc.error(`Firestore (${$d}): ${t}`,...n)}}function Hh(t,...e){if(Tc.logLevel<=ot.WARN){const n=e.map(kS);Tc.warn(`Firestore (${$d}): ${t}`,...n)}}function kS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,s4(t,r,n)}function s4(t,e,n){let r=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hn(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||s4(e,i,r)}function ze(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class al{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class QH{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new al,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new al)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new WH(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class ZH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function C_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _1(i)===_1(s)?We(i,s):_1(i)?1:-1}return We(t.length,e.length)}const nG=55296,rG=57343;function _1(t){const e=t.charCodeAt(0);return e>=nG&&e<=rG}function cd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function o4(t){return t+"\0"}const mN="__name__";class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return We(e.length,n.length)}static compareSegments(e,n){const r=Fa.isNumericId(e),i=Fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fa.extractNumericId(e).compare(Fa.extractNumericId(n)):C_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return il.fromString(e.substring(4,e.length-2))}}class jt extends Fa{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const iG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Fa{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return iG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mN}static keyField(){return new nn([mN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(jt.fromString(e))}static fromName(e){return new Ae(jt.fromString(e).popFirst(5))}static empty(){return new Ae(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new jt(e.slice()))}}function aG(t,e,n){if(!n)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sG(t,e,n,r){if(e===!0&&r===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pN(t){if(!Ae.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function IS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Oh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=IS(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function Im(t,e){if(!l4(t))throw new Ie(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ie(me.INVALID_ARGUMENT,n);return!0}const gN=-62135596800,yN=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yN);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gN)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yN}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Im(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:An("string",At._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ud=-1;class z0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function I_(t){return t.fields.find((e=>e.kind===2))}function Ql(t){return t.fields.filter((e=>e.kind!==2))}z0.UNKNOWN_ID=-1;class f0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gh(0,gi.min())}}function c4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new gi(i,Ae.empty(),e)}function u4(t){return new gi(t.readTime,t.key,ud)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(Ue.min(),Ae.empty(),ud)}static max(){return new gi(Ue.max(),Ae.empty(),ud)}}function NS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}const d4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==d4)throw t;ge("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const si="SimpleDb";class nv{static open(e,n,r,i){try{return new nv(n,e.transaction(i,r))}catch(s){throw new Ph(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new al,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ph(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=OS(r.target.error);this.S.reject(new Ph(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ge(si,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new lG(n)}}class sl{static delete(e){return ge(si,"Removing database:",e),rc(uD().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!yD())return!1;if(sl.F())return!0;const e=Rn(),n=sl.M(e),r=0<n&&n<10,i=h4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,sl.M(Rn())===12.2&&hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ge(si,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new Ie(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ie(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Ph(e,l))},i.onupgradeneeded=s=>{ge(si,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{ge(si,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=nv.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ge(si,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function h4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class oG{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return rc(this.U.delete())}}class Ph extends Ie{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yl(t){return t.name==="IndexedDbTransactionError"}class lG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ge(si,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ge(si,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),rc(r)}add(e){return ge(si,"ADD",this.store.name,e,e),rc(this.store.add(e))}get(e){return rc(this.store.get(e)).next((n=>(n===void 0&&(n=null),ge(si,"GET",this.store.name,e,n),n)))}delete(e){return ge(si,"DELETE",this.store.name,e),rc(this.store.delete(e))}count(){return ge(si,"COUNT",this.store.name),rc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){ge(si,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=s=>{const l=OS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new oG(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const p=f.catch((m=>(d.done(),Q.reject(m))));r.push(p)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function rc(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=OS(r.target.error);n(i)}}))}let vN=!1;function OS(t){const e=sl.M(Rn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vN||(vN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Rh="IndexBackfiller";class cG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ge(Rh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ge(Rh,`Documents written: ${n}`)}catch(n){yl(n)?ge(Rh,"Ignoring IndexedDB error during index backfill: ",n):await gl(n)}await this.re(6e4)}))}}class uG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ge(Rh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(ge(Rh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=u4(s);NS(l,r)>0&&(r=l)})),new gi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Fr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fr.ce=-1;const hc=-1;function rv(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const D0="";function xr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bN(e)),e=dG(t.get(n),e);return bN(e)}function dG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case D0:n+="";break;default:n+=s}}return n}function bN(t){return t+D0+""}function Ga(t){const e=t.length;if(Le(e>=2,64408,{path:t}),e===2)return Le(t.charAt(0)===D0&&t.charAt(1)==="",56145,{path:t}),jt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(D0,s);switch((l<0||l>n)&&Oe(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Oe(61167,{path:t})}s=l+2}return new jt(r)}const Zl="remoteDocuments",Nm="owner",ju="owner",Yh="mutationQueues",fG="userId",aa="mutations",xN="batchId",lc="userMutationsIndex",wN=["userId","batchId"];function h0(t,e){return[t,xr(e)]}function p4(t,e,n){return[t,xr(e),n]}const hG={},dd="documentMutations",L0="remoteDocumentsV14",mG=["prefixPath","collectionGroup","readTime","documentId"],m0="documentKeyIndex",pG=["prefixPath","collectionGroup","documentId"],g4="collectionGroupIndex",gG=["collectionGroup","readTime","prefixPath","documentId"],Wh="remoteDocumentGlobal",N_="remoteDocumentGlobalKey",fd="targets",y4="queryTargetsIndex",yG=["canonicalId","targetId"],hd="targetDocuments",vG=["targetId","path"],PS="documentTargetsIndex",bG=["path","targetId"],V0="targetGlobalKey",mc="targetGlobal",Xh="collectionParents",xG=["collectionId","parent"],md="clientMetadata",wG="clientId",iv="bundles",_G="bundleId",av="namedQueries",EG="name",RS="indexConfiguration",SG="indexId",O_="collectionGroupIndex",TG="collectionGroup",jh="indexState",AG=["indexId","uid"],v4="sequenceNumberIndex",kG=["uid","sequenceNumber"],Mh="indexEntries",CG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b4="documentKeyIndex",IG=["indexId","uid","orderedDocumentKey"],sv="documentOverlays",NG=["userId","collectionPath","documentId"],P_="collectionPathOverlayIndex",OG=["userId","collectionPath","largestBatchId"],x4="collectionGroupOverlayIndex",PG=["userId","collectionGroup","largestBatchId"],jS="globals",RG="name",w4=[Yh,aa,dd,Zl,fd,Nm,mc,hd,md,Wh,Xh,iv,av],jG=[...w4,sv],_4=[Yh,aa,dd,L0,fd,Nm,mc,hd,md,Wh,Xh,iv,av,sv],E4=_4,MS=[...E4,RS,jh,Mh],MG=MS,S4=[...MS,jS],zG=S4;class R_ extends f4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function jn(t,e){const n=ze(t);return sl.O(n.le,e)}function _N(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ft{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EN(this.data.getIterator())}getIteratorFrom(e){return new EN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class EN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mu(t){return t.hasNext()?t.getNext():void 0}class Vi{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vi([])}unionWith(e){let n=new kt(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class A4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new A4("Invalid base64 string: "+s):s}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const DG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=DG.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}const k4="server_timestamp",C4="__type__",I4="__previous_value__",N4="__local_write_time__";function zS(t){return(t?.mapValue?.fields||{})[C4]?.stringValue===k4}function ov(t){const e=t.mapValue.fields[I4];return zS(e)?ov(e):e}function Qh(t){const e=Us(t.mapValue.fields[N4].timestampValue);return new At(e.seconds,e.nanos)}class LG{constructor(e,n,r,i,s,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const B0="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||B0}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===B0}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const DS="__type__",O4="__max__",Jo={mapValue:{fields:{__type__:{stringValue:O4}}}},LS="__vector__",pd="value",p0={nullValue:"NULL_VALUE"};function ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zS(t)?4:P4(t)?9007199254740991:lv(t)?10:11:Oe(28295,{value:t})}function ns(t,e){if(t===e)return!0;const n=ll(t);if(n!==ll(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qh(t).isEqual(Qh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Us(i.timestampValue),c=Us(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Zt(i.doubleValue),c=Zt(s.doubleValue);return l===c?Kh(l)===Kh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return cd(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(_N(l)!==_N(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ns(l[d],c[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Zh(t,e){return(t.values||[]).find((n=>ns(n,e)))!==void 0}function cl(t,e){if(t===e)return 0;const n=ll(t),r=ll(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Zt(s.integerValue||s.doubleValue),d=Zt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(Qh(t),Qh(e));case 5:return C_(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Fs(s),d=Fs(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=We(c[f],d[f]);if(p!==0)return p}return We(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=We(Zt(s.latitude),Zt(l.latitude));return c!==0?c:We(Zt(s.longitude),Zt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TN(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[pd]?.arrayValue,p=d[pd]?.arrayValue,m=We(f?.values?.length||0,p?.values?.length||0);return m!==0?m:TN(f,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Jo.mapValue&&l===Jo.mapValue)return 0;if(s===Jo.mapValue)return 1;if(l===Jo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const b=C_(d[m],p[m]);if(b!==0)return b;const x=cl(c[d[m]],f[p[m]]);if(x!==0)return x}return We(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function SN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Us(t),r=Us(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function TN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=cl(n[i],r[i]);if(s)return s}return We(n.length,r.length)}function gd(t){return j_(t)}function j_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=j_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${j_(n.fields[l])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function g0(t){switch(ll(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ov(t);return e?16+g0(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+g0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Bc(r.fields,((s,l)=>{i+=s.length+g0(l)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function VS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M_(t){return!!t&&"integerValue"in t}function Jh(t){return!!t&&"arrayValue"in t}function AN(t){return!!t&&"nullValue"in t}function kN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function y0(t){return!!t&&"mapValue"in t}function lv(t){return(t?.mapValue?.fields||{})[DS]?.stringValue===LS}function zh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zh(t.arrayValue.values[n]);return e}return{...t}}function P4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O4}const R4={mapValue:{fields:{[DS]:{stringValue:LS},[pd]:{arrayValue:{}}}}};function VG(t){return"nullValue"in t?p0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?VS(Ac.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?lv(t)?R4:{mapValue:{}}:Oe(35942,{value:t})}function BG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?VS(Ac.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?R4:"mapValue"in t?lv(t)?{mapValue:{}}:Jo:Oe(61959,{value:t})}function CN(t,e){const n=cl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function IN(t,e){const n=cl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!y0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=zh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];y0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ur(zh(this.value))}}function j4(t){const e=[];return Bc(t.fields,((n,r)=>{const i=new nn([n]);if(y0(r)){const s=j4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Vi(e)}class ln{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Ue.min(),Ue.min(),Ue.min(),Ur.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Ue.min(),Ue.min(),Ur.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ue.min(),Ue.min(),Ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yd{constructor(e,n){this.position=e,this.inclusive=n}}function NN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=cl(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ON(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}class U0{constructor(e,n="asc"){this.field=e,this.dir=n}}function UG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class M4{}class ut extends M4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FG(e,n,r):n==="array-contains"?new HG(e,r):n==="in"?new U4(e,r):n==="not-in"?new GG(e,r):n==="array-contains-any"?new KG(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qG(e,r):new $G(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&ll(this.value)===ll(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zt extends M4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zt(e,n)}matches(e){return vd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vd(t){return t.op==="and"}function z_(t){return t.op==="or"}function BS(t){return z4(t)&&vd(t)}function z4(t){for(const e of t.filters)if(e instanceof zt)return!1;return!0}function D_(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(BS(t))return t.filters.map((e=>D_(e))).join(",");{const e=t.filters.map((n=>D_(n))).join(",");return`${t.op}(${e})`}}function D4(t,e){return t instanceof ut?(function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&ns(r.value,i.value)})(t,e):t instanceof zt?(function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&D4(l,i.filters[c])),!0):!1})(t,e):void Oe(19439)}function L4(t,e){const n=t.filters.concat(e);return zt.create(n,t.op)}function V4(t){return t instanceof ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${gd(n.value)}`})(t):t instanceof zt?(function(n){return n.op.toString()+" {"+n.getFilters().map(V4).join(" ,")+"}"})(t):"Filter"}class FG extends ut{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class qG extends ut{constructor(e,n){super(e,"in",n),this.keys=B4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $G extends ut{constructor(e,n){super(e,"not-in",n),this.keys=B4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B4(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class HG extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jh(n)&&Zh(n.arrayValue,this.value)}}class U4 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zh(this.value.arrayValue,n)}}class GG extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zh(this.value.arrayValue,n)}}class KG extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Zh(this.value.arrayValue,r)))}}class YG{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function L_(t,e=null,n=[],r=[],i=null,s=null,l=null){return new YG(t,e,n,r,i,s,l)}function kc(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>D_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gd(r))).join(",")),e.Te=n}return e.Te}function Om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ON(t.startAt,e.startAt)&&ON(t.endAt,e.endAt)}function F0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function q0(t,e){return t.filters.filter((n=>n instanceof ut&&n.field.isEqual(e)))}function PN(t,e,n){let r=p0,i=!0;for(const s of q0(t,e)){let l=p0,c=!0;switch(s.op){case"<":case"<=":l=VG(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=p0}CN({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];CN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function RN(t,e,n){let r=Jo,i=!0;for(const s of q0(t,e)){let l=Jo,c=!0;switch(s.op){case">=":case">":l=BG(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Jo}IN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];IN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class cv{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F4(t,e,n,r,i,s,l,c){return new cv(t,e,n,r,i,s,l,c)}function uv(t){return new cv(t)}function jN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WG(t){return t.collectionGroup!==null}function Dh(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new kt(nn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new U0(s,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new U0(nn.keyField(),r))}return e.Ie}function hi(t){const e=ze(t);return e.Ee||(e.Ee=XG(e,Dh(t))),e.Ee}function XG(t,e){if(t.limitType==="F")return L_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new U0(i.field,s)}));const n=t.endAt?new yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yd(t.startAt.position,t.startAt.inclusive):null;return L_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function V_(t,e,n){return new cv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dv(t,e){return Om(hi(t),hi(e))&&t.limitType===e.limitType}function q4(t){return`${kc(hi(t))}|lt:${t.limitType}`}function Gu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>V4(i))).join(", ")}]`),rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gd(i))).join(",")),`Target(${r})`})(hi(t))}; limitType=${t.limitType})`}function Pm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Dh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=NN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Dh(r),i)||r.endAt&&!(function(l,c,d){const f=NN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Dh(r),i))})(t,e)}function $4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H4(t){return(e,n)=>{let r=!1;for(const i of Dh(t)){const s=QG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QG(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?cl(d,f):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return T4(this.inner)}size(){return this.innerSize}}const ZG=new Ft(Ae.comparator);function ci(){return ZG}const G4=new Ft(Ae.comparator);function Eh(...t){let e=G4;for(const n of t)e=e.insert(n.key,n);return e}function K4(t){let e=G4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ka(){return Lh()}function Y4(){return Lh()}function Lh(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const JG=new Ft(Ae.comparator),eK=new kt(Ae.comparator);function nt(...t){let e=eK;for(const n of t)e=e.add(n);return e}const tK=new kt(We);function US(){return tK}function FS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function W4(t){return{integerValue:""+t}}function nK(t,e){return m4(e)?W4(e):FS(t,e)}class fv{constructor(){this._=void 0}}function rK(t,e,n){return t instanceof em?(function(i,s){const l={fields:{[C4]:{stringValue:k4},[N4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zS(s)&&(s=ov(s)),s&&(l.fields[I4]=s),{mapValue:l}})(n,e):t instanceof bd?Q4(t,e):t instanceof xd?Z4(t,e):(function(i,s){const l=X4(i,s),c=MN(l)+MN(i.Ae);return M_(l)&&M_(i.Ae)?W4(c):FS(i.serializer,c)})(t,e)}function iK(t,e,n){return t instanceof bd?Q4(t,e):t instanceof xd?Z4(t,e):n}function X4(t,e){return t instanceof tm?(function(r){return M_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class em extends fv{}class bd extends fv{constructor(e){super(),this.elements=e}}function Q4(t,e){const n=J4(e);for(const r of t.elements)n.some((i=>ns(i,r)))||n.push(r);return{arrayValue:{values:n}}}class xd extends fv{constructor(e){super(),this.elements=e}}function Z4(t,e){let n=J4(e);for(const r of t.elements)n=n.filter((i=>!ns(i,r)));return{arrayValue:{values:n}}}class tm extends fv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MN(t){return Zt(t.integerValue||t.doubleValue)}function J4(t){return Jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class aK{constructor(e,n){this.field=e,this.transform=n}}function sK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bd&&i instanceof bd||r instanceof xd&&i instanceof xd?cd(r.elements,i.elements,ns):r instanceof tm&&i instanceof tm?ns(r.Ae,i.Ae):r instanceof em&&i instanceof em})(t.transform,e.transform)}class oK{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function v0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function e5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qS(t.key,ui.none()):new Hd(t.key,t.data,ui.none());{const n=t.data,r=Ur.empty();let i=new kt(nn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new vl(t.key,r,new Vi(i.toArray()),ui.none())}}function lK(t,e,n){t instanceof Hd?(function(i,s,l){const c=i.value.clone(),d=DN(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof vl?(function(i,s,l){if(!v0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=DN(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(t5(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Vh(t,e,n,r){return t instanceof Hd?(function(s,l,c,d){if(!v0(s.precondition,l))return c;const f=s.value.clone(),p=LN(s.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof vl?(function(s,l,c,d){if(!v0(s.precondition,l))return c;const f=LN(s.fieldTransforms,d,l),p=l.data;return p.setAll(t5(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return v0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function cK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=X4(r.transform,i||null);s!=null&&(n===null&&(n=Ur.empty()),n.set(r.field,s))}return n||null}function zN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cd(r,i,((s,l)=>sK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends hv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends hv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function t5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function DN(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,iK(l,c,n[i]))}return r}function LN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,rK(s,l,e))}return r}class qS extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n5 extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $S{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Y4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=e5(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,((n,r)=>zN(n,r)))&&cd(this.baseMutations,e.baseMutations,((n,r)=>zN(n,r)))}}class HS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return JG})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new HS(e,n,r,i)}}class GS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uK{constructor(e,n){this.count=e,this.unchangedNames=n}}var Sn,dt;function dK(t){switch(t){case me.OK:return Oe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function r5(t){if(t===void 0)return hn("GRPC error has no .code"),me.UNKNOWN;switch(t){case Sn.OK:return me.OK;case Sn.CANCELLED:return me.CANCELLED;case Sn.UNKNOWN:return me.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return me.INTERNAL;case Sn.UNAVAILABLE:return me.UNAVAILABLE;case Sn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Sn.NOT_FOUND:return me.NOT_FOUND;case Sn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Sn.ABORTED:return me.ABORTED;case Sn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Sn.DATA_LOSS:return me.DATA_LOSS;default:return Oe(39323,{code:t})}}(dt=Sn||(Sn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function fK(){return new TextEncoder}const hK=new il([4294967295,4294967295],0);function VN(t){const e=fK().encode(t),n=new e4;return n.update(e),new Uint8Array(n.digest())}function BN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new il([n,r],0),new il([i,s],0)]}class KS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(r<0)throw new Sh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=il.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(il.fromNumber(r)));return i.compare(hK)===1&&(i=new il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VN(e),[r,i]=BN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new KS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=VN(e),[r,i]=BN(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Ue.min(),i,new Ft(We),ci(),nt())}}class jm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jm(r,n,nt(),nt(),nt())}}class b0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class i5{constructor(e,n){this.targetId=e,this.Ce=n}}class a5{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UN{constructor(){this.ve=0,this.Fe=FN(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:s})}})),new jm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.Je=Rg(),this.He=Rg(),this.Ye=new Ft(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(F0(s))if(r===0){const l=new Ae(s.path);this.et(n,l,ln.newNoDocument(l,Ue.min()))}else Le(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Fs(r).toUint8Array()}catch(d){if(d instanceof A4)return Hh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new KS(l,i,s)}catch(d){return Hh(d instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&F0(c.target)){const d=new Ae(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,ln.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=nt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Rm(e,n,this.Ye,this.je,r);return this.je=ci(),this.Je=Rg(),this.He=Rg(),this.Ye=new Ft(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rg(){return new Ft(Ae.comparator)}function FN(){return new Ft(Ae.comparator)}const pK={asc:"ASCENDING",desc:"DESCENDING"},gK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yK={and:"AND",or:"OR"};class vK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B_(t,e){return t.useProto3Json||rv(e)?e:{value:e}}function wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bK(t,e){return wd(t,e.toTimestamp())}function Ir(t){return Le(!!t,49232),Ue.fromTimestamp((function(n){const r=Us(n);return new At(r.seconds,r.nanos)})(t))}function YS(t,e){return U_(t,e).canonicalString()}function U_(t,e){const n=(function(i){return new jt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function o5(t){const e=jt.fromString(t);return Le(g5(e),10190,{key:e.toString()}),e}function $0(t,e){return YS(t.databaseId,e.path)}function pc(t,e){const n=o5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(u5(n))}function l5(t,e){return YS(t.databaseId,e)}function c5(t){const e=o5(t);return e.length===4?jt.emptyPath():u5(e)}function F_(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u5(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qN(t,e,n){return{name:$0(t,e),fields:n.value.mapValue.fields}}function xK(t,e,n){const r=pc(t,e.name),i=Ir(e.updateTime),s=e.createTime?Ir(e.createTime):Ue.min(),l=new Ur({mapValue:{fields:e.fields}}),c=ln.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function wK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,p){return f.useProto3Json?(Le(p===void 0||typeof p=="string",58123),mn.fromBase64String(p||"")):(Le(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),mn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?me.UNKNOWN:r5(f.code);return new Ie(p,f.message||"")})(l);n=new a5(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pc(t,r.document.name),s=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):Ue.min(),c=new Ur({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(i,s,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new b0(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pc(t,r.document),s=r.readTime?Ir(r.readTime):Ue.min(),l=ln.newNoDocument(i,s),c=r.removedTargetIds||[];n=new b0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pc(t,r.document),s=r.removedTargetIds||[];n=new b0([],s,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new uK(i,s),c=r.targetId;n=new i5(c,l)}}return n}function H0(t,e){let n;if(e instanceof Hd)n={update:qN(t,e.key,e.value)};else if(e instanceof qS)n={delete:$0(t,e.key)};else if(e instanceof vl)n={update:qN(t,e.key,e.data),updateMask:kK(e.fieldMask)};else{if(!(e instanceof n5))return Oe(16599,{Vt:e.type});n={verify:$0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof em)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:bK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe(27497)})(t,e.precondition)),n}function q_(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?ui.updateTime(Ir(s.updateTime)):s.exists!==void 0?ui.exists(s.exists):ui.none()})(e.currentDocument):ui.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Le(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new em;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];d=new bd(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];d=new xd(p)}else"increment"in c?d=new tm(l,c.increment):Oe(16584,{proto:c});const f=nn.fromServerFormat(c.fieldPath);return new aK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=pc(t,e.update.name),s=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Vi(f.map((p=>nn.fromServerFormat(p))))})(e.updateMask);return new vl(i,s,l,n,r)}return new Hd(i,s,n,r)}if(e.delete){const i=pc(t,e.delete);return new qS(i,n)}if(e.verify){const i=pc(t,e.verify);return new n5(i,n)}return Oe(1463,{proto:e})}function _K(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ir(i.updateTime):Ir(s);return l.isEqual(Ue.min())&&(l=Ir(s)),new oK(l,i.transformResults||[])})(n,e)))):[]}function d5(t,e){return{documents:[l5(t,e.path)]}}function f5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l5(t,i);const s=(function(f){if(f.length!==0)return p5(zt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Ku(b.field),direction:SK(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=B_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function h5(t){let e=c5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const b=m5(m);return b instanceof zt&&BS(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((b=>(function(_){return new U0(Yu(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let b;return b=typeof m=="object"?m.value:m,rv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(m){const b=!!m.before,x=m.values||[];return new yd(x,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const b=!m.before,x=m.values||[];return new yd(x,b)})(n.endAt)),F4(e,i,l,s,c,"F",d,f)}function EK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yu(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yu(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yu(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yu(n.unaryFilter.field);return ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ut.create(Yu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zt.create(n.compositeFilter.filters.map((r=>m5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function SK(t){return pK[t]}function TK(t){return gK[t]}function AK(t){return yK[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Yu(t){return nn.fromServerFormat(t.fieldPath)}function p5(t){return t instanceof ut?(function(n){if(n.op==="=="){if(kN(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NAN"}};if(AN(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kN(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NAN"}};if(AN(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(n.field),op:TK(n.op),value:n.value}}})(t):t instanceof zt?(function(n){const r=n.getFilters().map((i=>p5(i)));return r.length===1?r[0]:{compositeFilter:{op:AK(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function kK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function g5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Rs{constructor(e,n,r,i,s=Ue.min(),l=Ue.min(),c=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y5{constructor(e){this.yt=e}}function CK(t,e){let n;if(e.document)n=xK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ae.fromSegments(e.noDocument.path),i=Ic(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Oe(56709);{const r=Ae.fromSegments(e.unknownDocument.path),i=Ic(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new At(i[0],i[1]);return Ue.fromTimestamp(s)})(e.readTime)),n}function $N(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:G0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:$0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:wd(s,l.version.toTimestamp()),createTime:wd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cc(e.version)};else{if(!e.isUnknownDocument())return Oe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Cc(e.version)}}return r}function G0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Cc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ic(t){const e=new At(t.seconds,t.nanoseconds);return Ue.fromTimestamp(e)}function ic(t,e){const n=(e.baseMutations||[]).map((s=>q_(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>q_(t.yt,s))),i=At.fromMillis(e.localWriteTimeMs);return new $S(e.batchId,i,n,r)}function Th(t){const e=Ic(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ic(t.lastLimboFreeSnapshotVersion):Ue.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Le(l===1,1966,{count:l}),hi(uv(c5(s.documents[0])))})(t.query):(function(s){return hi(h5(s))})(t.query),new Rs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mn.fromBase64String(t.resumeToken))}function v5(t,e){const n=Cc(e.snapshotVersion),r=Cc(e.lastLimboFreeSnapshotVersion);let i;i=F0(e.target)?d5(t.yt,e.target):f5(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function b5(t){const e=h5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V_(e,e.limit,"L"):e}function E1(t,e){return new GS(e.largestBatchId,q_(t.yt,e.overlayMutation))}function HN(t,e){const n=e.path.lastSegment();return[t,xr(e.path.popLast()),n]}function GN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Cc(r.readTime),documentKey:xr(r.documentKey.path),largestBatchId:r.largestBatchId}}class IK{getBundleMetadata(e,n){return KN(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ic(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return KN(e).put((function(i){return{bundleId:i.id,createTime:Cc(Ir(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return YN(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:b5(s.bundledQuery),readTime:Ic(s.readTime)}})(r)}))}saveNamedQuery(e,n){return YN(e).put((function(i){return{name:i.name,readTime:Cc(Ir(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function KN(t){return jn(t,iv)}function YN(t){return jn(t,av)}class mv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new mv(e,r)}getOverlay(e,n){return lh(e).get(HN(this.userId,n)).next((r=>r?E1(this.serializer,r):null))}getOverlays(e,n){const r=Ka();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new GS(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(xr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(lh(e).Z(P_,c))})),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ka(),s=xr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return lh(e).J(P_,l).next((c=>{for(const d of c){const f=E1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ka();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return lh(e).ee({index:x4,range:c},((d,f,p)=>{const m=E1(this.serializer,f);s.size()<i||m.largestBatchId===l?(s.set(m.getKey(),m),l=m.largestBatchId):p.done()})).next((()=>s))}St(e,n){return lh(e).put((function(i,s,l){const[c,d,f]=HN(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:H0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function lh(t){return jn(t,sv)}class NK{bt(e){return jn(e,jS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?mn.fromUint8Array(r):mn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class ac{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Zt(e.integerValue));else if("doubleValue"in e){const r=Zt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Kh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Us(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Fs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?P4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):lv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Oe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=pd,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Zt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ae.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ac.Kt=new ac;const zu=255;function OK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function WN(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=OK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class PK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=WN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=WN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(zu),this.sn(255)}_n(){this.an(zu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===zu?(this.sn(zu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===zu?(this.an(zu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class RK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class jK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ch{constructor(){this.cn=new PK,this.ln=new RK(this.cn),this.hn=new jK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class sc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new sc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:x0(this.En),directionalValue:x0(this.dn),orderedDocumentKey:x0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Bo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=XN(t.En,e.En),n!==0?n:(n=XN(t.dn,e.dn),n!==0?n:Ae.comparator(t.In,e.In)))}function XN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function x0(t){return gD()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function QN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class ZN{constructor(e){this.mn=new kt(((n,r)=>nn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=I_(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ql(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new kt(nn.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new f0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new f0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new f0(r.field,r.dir==="asc"?0:1)));return new z0(z0.UNKNOWN_ID,this.collectionId,n,Gh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function x5(t){if(Le(t instanceof ut||t instanceof zt,20012),t instanceof ut){if(t instanceof U4){const n=t.value.arrayValue?.values?.map((r=>ut.create(t.field,"==",r)))||[];return zt.create(n,"or")}return t}const e=t.filters.map((n=>x5(n)));return zt.create(e,t.op)}function MK(t){if(t.getFilters().length===0)return[];const e=G_(x5(t));return Le(w5(e),7391),$_(e)||H_(e)?[e]:e.getFilters()}function $_(t){return t instanceof ut}function H_(t){return t instanceof zt&&BS(t)}function w5(t){return $_(t)||H_(t)||(function(n){if(n instanceof zt&&z_(n)){for(const r of n.getFilters())if(!$_(r)&&!H_(r))return!1;return!0}return!1})(t)}function G_(t){if(Le(t instanceof ut||t instanceof zt,34018),t instanceof ut)return t;if(t.filters.length===1)return G_(t.filters[0]);const e=t.filters.map((r=>G_(r)));let n=zt.create(e,t.op);return n=K0(n),w5(n)?n:(Le(n instanceof zt,64498),Le(vd(n),40251),Le(n.filters.length>1,57927),n.filters.reduce(((r,i)=>WS(r,i))))}function WS(t,e){let n;return Le(t instanceof ut||t instanceof zt,38388),Le(e instanceof ut||e instanceof zt,25473),n=t instanceof ut?e instanceof ut?(function(i,s){return zt.create([i,s],"and")})(t,e):JN(t,e):e instanceof ut?JN(e,t):(function(i,s){if(Le(i.filters.length>0&&s.filters.length>0,48005),vd(i)&&vd(s))return L4(i,s.getFilters());const l=z_(i)?i:s,c=z_(i)?s:i,d=l.filters.map((f=>WS(f,c)));return zt.create(d,"or")})(t,e),K0(n)}function JN(t,e){if(vd(e))return L4(e,t.getFilters());{const n=e.filters.map((r=>WS(t,r)));return zt.create(n,"or")}}function K0(t){if(Le(t instanceof ut||t instanceof zt,11850),t instanceof ut)return t;const e=t.getFilters();if(e.length===1)return K0(e[0]);if(z4(t))return t;const n=e.map((i=>K0(i))),r=[];return n.forEach((i=>{i instanceof ut?r.push(i):i instanceof zt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:zt.create(r,t.op)}class zK{constructor(){this.Cn=new XS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(gi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class XS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(jt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(jt.comparator)).toArray()}}const eO="IndexedDbIndexManager",jg=new Uint8Array(0);class DK{constructor(e,n){this.databaseId=n,this.vn=new XS,this.Fn=new Js((r=>kc(r)),((r,i)=>Om(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:xr(i)};return tO(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[o4(n),""],!1,!0);return tO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ga(l.parent))}return r}))}addFieldIndex(e,n){const r=uh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Lu(e);return s.next((c=>{l.put(GN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=uh(e),i=Lu(e),s=Du(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=uh(e),r=Du(e),i=Lu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new ZN(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const s=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=nt();const c=[];return Q.forEach(s,((d,f)=>{ge(eO,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(d)} to execute ${kc(n)}`);const p=(function(O,V){const R=I_(V);if(R===void 0)return null;for(const F of q0(O,R.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null})(f,d),m=(function(O,V){const R=new Map;for(const F of Ql(V))for(const P of q0(O,F.fieldPath))switch(P.op){case"==":case"in":R.set(F.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return R.set(F.fieldPath.canonicalString(),P.value),Array.from(R.values())}return null})(f,d),b=(function(O,V){const R=[];let F=!0;for(const P of Ql(V)){const C=P.kind===0?PN(O,P.fieldPath,O.startAt):RN(O,P.fieldPath,O.startAt);R.push(C.value),F&&(F=C.inclusive)}return new yd(R,F)})(f,d),x=(function(O,V){const R=[];let F=!0;for(const P of Ql(V)){const C=P.kind===0?RN(O,P.fieldPath,O.endAt):PN(O,P.fieldPath,O.endAt);R.push(C.value),F&&(F=C.inclusive)}return new yd(R,F)})(f,d),_=this.On(d,f,b),S=this.On(d,f,x),E=this.Nn(d,f,m),k=this.Bn(d.indexId,p,_,b.inclusive,S,x.inclusive,E);return Q.forEach(k,(j=>r.Y(j,n.limit).next((O=>{O.forEach((V=>{const R=Ae.fromSegments(V.documentKey);l.has(R)||(l=l.add(R),c.push(R))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=MK(zt.create(e.filters,"and")).map((r=>L_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),p=[];for(let m=0;m<d;++m){const b=n?this.Ln(n[m/f]):jg,x=this.kn(e,b,r[m%f],i),_=this.qn(e,b,s[m%f],l),S=c.map((E=>this.kn(e,b,E,!0)));p.push(...this.createRange(x,_,S))}return p}kn(e,n,r,i){const s=new sc(e,Ae.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new sc(e,Ae.empty(),n,r);return i?s.An():s}xn(e,n){const r=new ZN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new kt(nn.comparator),p=!1;for(const m of d.filters)for(const b of m.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?p=!0:f=f.add(b.field));for(const m of d.orderBy)m.field.isKeyField()||(f=f.add(m.field));return f.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new ch;for(const i of Ql(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);ac.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new ch;return ac.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new ch;return ac.Kt.Dt(VS(this.databaseId,n),r.Pn((function(s){const l=Ql(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new ch);let s=0;for(const l of Ql(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&Jh(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);ac.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new ch;d.seed(c.un()),ac.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof ut&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=uh(e),i=Lu(e);return(n?r.J(O_,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return Q.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(p,m){const b=m?new Gh(m.sequenceNumber,new gi(Ic(m.readTime),new Ae(Ga(m.documentKey)),m.largestBatchId)):Gh.empty(),x=p.fields.map((([_,S])=>new f0(nn.fromServerFormat(_),S)));return new z0(p.indexId,p.collectionGroup,x,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:We(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=uh(e),s=Lu(e);return this.Gn(e).next((l=>i.J(O_,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>s.put(GN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const p=this.jn(s,d);return f.isEqual(p)?Q.resolve():this.Jn(e,s,d,f,p)})))))))}))}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let s=new kt(Bo);return i.ee({index:b4,range:IDBKeyRange.only([r.indexId,this.uid,x0(this.$n(r,n))])},((l,c)=>{s=s.add(new sc(r.indexId,n,QN(c.arrayValue),QN(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new kt(Bo);const i=this.Qn(n,e);if(i==null)return r;const s=I_(n);if(s!=null){const l=e.data.field(s.fieldPath);if(Jh(l))for(const c of l.arrayValue.values||[])r=r.add(new sc(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new sc(n.indexId,e.key,jg,i));return r}Jn(e,n,r,i,s){ge(eO,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,p,m,b){const x=d.getIterator(),_=f.getIterator();let S=Mu(x),E=Mu(_);for(;S||E;){let k=!1,j=!1;if(S&&E){const O=p(S,E);O<0?j=!0:O>0&&(k=!0)}else S!=null?j=!0:k=!0;k?(m(E),E=Mu(_)):j?(b(S),S=Mu(x)):(S=Mu(x),E=Mu(_))}})(i,s,Bo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return Lu(e).ee({index:v4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Bo(l,c))).filter(((l,c,d)=>!c||Bo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Bo(l,e),d=Bo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,jg,Ae.empty()),d=i[l+1].Vn(this.uid,jg,Ae.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return Bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nO)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Oe(44426))))).next(nO)}}function tO(t){return jn(t,Xh)}function Du(t){return jn(t,Mh)}function uh(t){return jn(t,RS)}function Lu(t){return jn(t,jh)}function nO(t){Le(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;NS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gi(e.readTime,e.documentKey,n)}const rO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_5=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function E5(t,e,n){const r=t.store(aa),i=t.store(dd),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((p,m,b)=>(c++,b.delete())));s.push(d.next((()=>{Le(c===1,47070,{batchId:n.batchId})})));const f=[];for(const p of n.mutations){const m=p4(e,p.key.path,n.batchId);s.push(i.delete(m)),f.push(p.key)}return Q.waitFor(s).next((()=>f))}function Y0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe(14731);e=t.noDocument}return JSON.stringify(e).length}br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(_5,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);class pv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Le(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new pv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uo(e).ee({index:lc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Wu(e),l=Uo(e);return l.add({}).next((c=>{Le(typeof c=="number",49019);const d=new $S(c,n,r,i),f=(function(x,_,S){const E=S.baseMutations.map((j=>H0(x.yt,j))),k=S.mutations.map((j=>H0(x.yt,j)));return{userId:_,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:E,mutations:k}})(this.serializer,this.userId,d),p=[];let m=new kt(((b,x)=>We(b.canonicalString(),x.canonicalString())));for(const b of i){const x=p4(this.userId,b.key.path,c);m=m.add(b.key.path.popLast()),p.push(l.put(f)),p.push(s.put(x,hG))}return m.forEach((b=>{p.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(p).next((()=>d))}))}lookupMutationBatch(e,n){return Uo(e).get(n).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ic(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Uo(e).ee({index:lc,range:i},((l,c,d)=>{c.userId===this.userId&&(Le(c.batchId>=r,47524,{tr:r}),s=ic(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=hc;return Uo(e).ee({index:lc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,hc],[this.userId,Number.POSITIVE_INFINITY]);return Uo(e).J(lc,n).next((r=>r.map((i=>ic(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=h0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Wu(e).ee({range:i},((l,c,d)=>{const[f,p,m]=l,b=Ga(p);if(f===this.userId&&n.path.isEqual(b))return Uo(e).get(m).next((x=>{if(!x)throw Oe(61480,{nr:l,batchId:m});Le(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:m}),s.push(ic(this.serializer,x))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(We);const i=[];return n.forEach((s=>{const l=h0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Wu(e).ee({range:c},((f,p,m)=>{const[b,x,_]=f,S=Ga(x);b===this.userId&&s.path.isEqual(S)?r=r.add(_):m.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=h0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new kt(We);return Wu(e).ee({range:l},((d,f,p)=>{const[m,b,x]=d,_=Ga(b);m===this.userId&&r.isPrefixOf(_)?_.length===i&&(c=c.add(x)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Uo(e).get(s).next((l=>{if(l===null)throw Oe(35274,{batchId:s});Le(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(ic(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return E5(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Wu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ga(s[1]);i.push(d)}else c.done()})).next((()=>{Le(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return S5(e,this.userId,n)}_r(e){return T5(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:hc,lastStreamToken:""}))}}function S5(t,e,n){const r=h0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Wu(t).ee({range:s,X:!0},((c,d,f)=>{const[p,m,b]=c;p===e&&m===i&&(l=!0),f.done()})).next((()=>l))}function Uo(t){return jn(t,aa)}function Wu(t){return jn(t,dd)}function T5(t){return jn(t,Yh)}class Nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nc(0)}static cr(){return new Nc(-1)}}class LK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Nc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ue.fromTimestamp(new At(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Vu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Vu(e).ee(((l,c)=>{const d=Th(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Vu(e).ee(((r,i)=>{const s=Th(i);n(s)}))}lr(e){return iO(e).get(V0).next((n=>(Le(n!==null,2888),n)))}hr(e,n){return iO(e).put(V0,n)}Pr(e,n){return Vu(e).put(v5(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vu(e).ee({range:i,index:y4},((l,c,d)=>{const f=Th(c);Om(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Qo(e);return n.forEach((l=>{const c=xr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Qo(e);return Q.forEach(n,(s=>{const l=xr(s.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Qo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Qo(e);let s=nt();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ga(l[1]),p=new Ae(f);s=s.add(p)})).next((()=>s))}containsKey(e,n){const r=xr(n.path),i=IDBKeyRange.bound([r],[o4(r)],!1,!0);let s=0;return Qo(e).ee({index:PS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Vu(e).get(n).next((r=>r?Th(r):null))}}function Vu(t){return jn(t,fd)}function iO(t){return jn(t,mc)}function Qo(t){return jn(t,hd)}const aO="LruGarbageCollector",A5=1048576;function sO([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class VK{constructor(e){this.Ir=e,this.buffer=new kt(sO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(aO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?ge(aO,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class BK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Fr.ce);const r=new VK(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(rO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),Hu()<=ot.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${m} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function C5(t,e){return new BK(t,e)}class UK{constructor(e,n){this.db=e,this.garbageCollector=C5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Mg(e,r)}removeReference(e,n,r){return Mg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mg(e,n)}br(e,n){return(function(i,s){let l=!1;return T5(i).te((c=>S5(i,c,s).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ue.min()),Qo(e).delete((function(m){return[0,xr(m.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mg(e,n)}Sr(e,n){const r=Qo(e);let i,s=Fr.ce;return r.ee({index:PS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Fr.ce&&n(new Ae(Ga(i)),s),s=f,i=d):s=Fr.ce})).next((()=>{s!==Fr.ce&&n(new Ae(Ga(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mg(t,e){return Qo(t).put((function(r,i){return{targetId:0,path:xr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class I5{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yl(e).put(r)}removeEntry(e,n,r){return Yl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],G0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=ln.newInvalidDocument(n);return Yl(e).ee({index:m0,range:IDBKeyRange.only(dh(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return Yl(e).ee({index:m0,range:IDBKeyRange.only(dh(n))},((i,s)=>{r={document:this.Cr(n,s),size:Y0(s)}})).next((()=>r))}getEntries(e,n){let r=ci();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ci(),i=new Ft(Ae.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,Y0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new kt(cO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(dh(i.first()),dh(i.last())),l=i.getIterator();let c=l.getNext();return Yl(e).ee({index:m0,range:s},((d,f,p)=>{const m=Ae.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&cO(c,m)<0;)r(c,null),c=l.getNext();c&&c.isEqual(m)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?p.j(dh(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),G0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let p=ci();for(const m of f){const b=this.Cr(Ae.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);b.isFoundDocument()&&(Pm(n,b)||i.has(b.key))&&(p=p.insert(b.key,b))}return p}))}getAllFromCollectionGroup(e,n,r,i){let s=ci();const l=lO(n,r),c=lO(n,gi.max());return Yl(e).ee({index:g4,range:IDBKeyRange.bound(l,c,!0)},((d,f,p)=>{const m=this.Cr(Ae.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(m.key,m),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new qK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return oO(e).get(N_).next((n=>(Le(!!n,20021),n)))}Dr(e,n){return oO(e).put(N_,n)}Cr(e,n){if(n){const r=CK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ue.min())))return r}return ln.newInvalidDocument(e)}}function N5(t){return new FK(t)}class qK extends I5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Js((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new kt(((s,l)=>We(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=$N(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=Y0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=$N(this.Nr.serializer,l.convertToNoDocument(Ue.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function oO(t){return jn(t,Wh)}function Yl(t){return jn(t,L0)}function dh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lO(t,e){const n=e.documentKey.path.toArray();return[t,G0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=We(n[s],r[s]),i)return i;return i=We(n.length,r.length),i||(i=We(n[n.length-2],r[r.length-2]),i||We(n[n.length-1],r[r.length-1]))}class $K{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class O5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vh(r.mutation,i,Vi.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Eh();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ka();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ci();const l=Lh(),c=(function(){return Lh()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof vl)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Vh(p.mutation,f,p.mutation.getFieldMask(),At.now())):l.set(f.key,Vi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new $K(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Lh();let i=new Ft(((l,c)=>l-c)),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||Vi.empty();p=c.applyToLocalView(f,p),r.set(d,p);const m=(i.get(c.batchId)||nt()).add(d);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,m=Y4();p.forEach((b=>{if(!s.has(b)){const x=e5(n.get(b),r.get(b));x!==null&&m.set(b,x),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Ka());let c=ud,d=s;return l.next((f=>Q.forEach(f,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,nt()))).next((p=>({batchId:c,changes:K4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Eh();return this.indexManager.getCollectionParents(e,s).next((c=>Q.forEach(c,(d=>{const f=(function(m,b){return new cv(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((m,b)=>{l=l.insert(m,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ln.newInvalidDocument(p)))}));let c=Eh();return l.forEach(((d,f)=>{const p=s.get(d);p!==void 0&&Vh(p.mutation,f,Vi.empty(),At.now()),Pm(n,f)&&(c=c.insert(d,f))})),c}))}}class HK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:b5(i.bundledQuery),readTime:Ir(i.readTime)}})(n)),Q.resolve()}}class GK{constructor(){this.overlays=new Ft(Ae.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ka();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ka(),s=n.length+1,l=new Ae(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ft(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Ka(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Ka(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new GS(n,r));let s=this.qr.get(n);s===void 0&&(s=nt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class KK{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class QS{constructor(){this.Qr=new kt(Kn.$r),this.Ur=new kt(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ae(new jt([])),r=new Kn(n,e),i=new Kn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new jt([])),r=new Kn(n,e),i=new Kn(n,e+1);let s=nt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}class YK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Kn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $S(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Kn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?hc:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(We);return n.forEach((i=>{const s=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const l=new Kn(new Ae(s),0);let c=new kt(We);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const s=new Kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WK{constructor(e){this.ri=e,this.docs=(function(){return new Ft(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ci();const l=n.path,c=new Ae(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||NS(u4(p),r)<=0||(i.has(p.key)||Pm(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new XK(this)}getSize(e){return Q.resolve(this.size)}}class XK extends I5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class QK{constructor(e){this.persistence=e,this.si=new Js((n=>kc(n)),Om),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new QS,this.targetCount=0,this.ai=Nc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(s).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class ZS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fr(0),this.li=!1,this.li=!0,this.hi=new KK,this.referenceDelegate=e(this),this.Pi=new QK(this),this.indexManager=new zK,this.remoteDocumentCache=(function(i){return new WK(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y5(n),this.Ii=new HK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new ZK(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class ZK extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Ri=new QS,this.Vi=null}static mi(e){return new gv(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Ae.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class W0{constructor(e,n){this.persistence=e,this.pi=new Js((r=>xr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=C5(this,n)}static mi(e,n){return new W0(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Ue.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=g0(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class JK{constructor(e){this.serializer=e}k(e,n,r,i){const s=new nv("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Nm)})(e),(function(d){d.createObjectStore(Yh,{keyPath:fG}),d.createObjectStore(aa,{keyPath:xN,autoIncrement:!0}).createIndex(lc,wN,{unique:!0}),d.createObjectStore(dd)})(e),uO(e),(function(d){d.createObjectStore(Zl)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(hd),d.deleteObjectStore(fd),d.deleteObjectStore(mc)})(e),uO(e)),l=l.next((()=>(function(d){const f=d.store(mc),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ue.min().toTimestamp(),targetCount:0};return f.put(V0,p)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(aa).J().next((m=>{d.deleteObjectStore(aa),d.createObjectStore(aa,{keyPath:xN,autoIncrement:!0}).createIndex(lc,wN,{unique:!0});const b=f.store(aa),x=m.map((_=>b.put(_)));return Q.waitFor(x)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(md,{keyPath:wG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Wh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(iv,{keyPath:_G})})(e),(function(d){d.createObjectStore(av,{keyPath:EG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(sv,{keyPath:NG});f.createIndex(P_,OG,{unique:!1}),f.createIndex(x4,PG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(L0,{keyPath:mG});f.createIndex(m0,pG),f.createIndex(g4,gG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Zl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(RS,{keyPath:SG,autoIncrement:!0}).createIndex(O_,TG,{unique:!1}),d.createObjectStore(jh,{keyPath:AG}).createIndex(v4,kG,{unique:!1}),d.createObjectStore(Mh,{keyPath:CG}).createIndex(b4,IG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(jh).clear()})).next((()=>{n.objectStore(Mh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(jS,{keyPath:RG})})(e)}))),r<18&&i>=18&&gD()&&(l=l.next((()=>{n.objectStore(jh).clear()})).next((()=>{n.objectStore(Mh).clear()}))),l}wi(e){let n=0;return e.store(Zl).ee(((r,i)=>{n+=Y0(i)})).next((()=>{const r={byteSize:n};return e.store(Wh).put(N_,r)}))}yi(e){const n=e.store(Yh),r=e.store(aa);return n.J().next((i=>Q.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,hc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(lc,l).next((c=>Q.forEach(c,(d=>{Le(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=ic(this.serializer,d);return E5(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(hd),r=e.store(Zl);return e.store(mc).get(V0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new jt(l),f=(function(m){return[0,xr(m)]})(d);s.push(n.get(f).next((p=>p?Q.resolve():(m=>n.put({targetId:0,path:xr(m),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(s)))}))}bi(e,n){e.createObjectStore(Xh,{keyPath:xG});const r=n.store(Xh),i=new XS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:xr(d)})}};return n.store(Zl).ee({X:!0},((l,c)=>{const d=new jt(l);return s(d.popLast())})).next((()=>n.store(dd).ee({X:!0},(([l,c,d],f)=>{const p=Ga(c);return s(p.popLast())}))))}Di(e){const n=e.store(fd);return n.ee(((r,i)=>{const s=Th(i),l=v5(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Zl),i=[];return r.ee(((s,l)=>{const c=n.store(L0),d=(function(m){return m.document?new Ae(jt.fromString(m.document.name).popFirst(5)):m.noDocument?Ae.fromSegments(m.noDocument.path):m.unknownDocument?Ae.fromSegments(m.unknownDocument.path):Oe(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(aa),i=N5(this.serializer),s=new ZS(gv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??nt();ic(this.serializer,d).keys().forEach((p=>f=f.add(p))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const p=new vr(f),m=mv.wt(this.serializer,p),b=s.getIndexManager(p),x=pv.wt(p,this.serializer,b,s.referenceDelegate);return new O5(i,x,m,b).recalculateAndSaveOverlaysForDocumentKeys(new R_(n,Fr.ce),d).next()}))}))}}function uO(t){t.createObjectStore(hd,{keyPath:vG}).createIndex(PS,bG,{unique:!0}),t.createObjectStore(fd,{keyPath:"targetId"}).createIndex(y4,yG,{unique:!0}),t.createObjectStore(mc)}const Fo="IndexedDbPersistence",S1=18e5,T1=5e3,A1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eY="main";class JS{constructor(e,n,r,i,s,l,c,d,f,p,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=p,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!JS.v())throw new Ie(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UK(this,i),this.$i=n+eY,this.serializer=new y5(d),this.Ui=new sl(this.$i,this.Ni,new JK(this.serializer)),this.hi=new NK,this.Pi=new LK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=N5(this.serializer),this.Ii=new IK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&hn(Fo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(me.FAILED_PRECONDITION,A1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Fr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>zg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(yl(e))return ge(Fo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge(Fo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return fh(e).get(ju).next((n=>Q.resolve(this.es(n))))}ts(e){return zg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,S1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=jn(n,md);return r.J().next((i=>{const s=this.ss(i,S1),l=i.filter((c=>s.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):fh(e).get(ju).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,T1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ie(me.FAILED_PRECONDITION,A1);return!1}}return!(!this.networkEnabled||!this.inForeground)||zg(e).J().next((r=>this.ss(r,T1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ge(Fo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Nm,md],(e=>{const n=new R_(e,Fr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>zg(e).J().next((n=>this.ss(n,S1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return pv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return mv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge(Fo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?zG:d===17?S4:d===16?MG:d===15?MS:d===14?E4:d===13?_4:d===12?jG:d===11?w4:void Oe(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new R_(c,this.ci?this.ci.next():Fr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ie(me.FAILED_PRECONDITION,d4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return fh(e).get(ju).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,T1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ie(me.FAILED_PRECONDITION,A1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fh(e).put(ju,n)}static v(){return sl.v()}Zi(e){const n=fh(e);return n.get(ju).next((r=>this.es(r)?(ge(Fo,"Releasing primary lease."),n.delete(ju)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(hn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;pD()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ge(Fo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return hn(Fo,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){hn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fh(t){return jn(t,Nm)}function zg(t){return jn(t,md)}function P5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class eT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eT(e,n.fromCache,r,i)}}class tY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pD()?8:h4(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new tY;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hu()<=ot.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Hu()<=ot.DEBUG&&ge("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hu()<=ot.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):Q.resolve())}ys(e,n){if(jN(n))return Q.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=V_(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=nt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,V_(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return jN(n)||i.isEqual(Ue.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Q.resolve(null):(Hu()<=ot.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gu(n)),this.vs(e,l,n,c4(i,ud)).next((c=>c)))}))}Ds(e,n){let r=new kt(H4(e));return n.forEach(((i,s)=>{Pm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Hu()<=ot.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.ps.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const tT="LocalStore",nY=3e8;class rY{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ft(We),this.xs=new Js((s=>kc(s)),Om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function j5(t,e,n,r){return new rY(t,e,n,r)}async function M5(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=nt();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function iY(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const m=f.batch,b=m.keys();let x=Q.resolve();return b.forEach((_=>{x=x.next((()=>p.getEntry(d,_))).next((S=>{const E=f.docVersions.get(_);Le(E!==null,48541),S.version.compareTo(E)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=nt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function z5(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function aY(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const b=i.get(m);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let x=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(mn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(m,x),(function(S,E,k){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=nY?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,x,p)&&c.push(n.Pi.updateTargetData(s,x))}));let d=ci(),f=nt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(sY(s,l,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(Ue.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return Q.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function sY(t,e,n){let r=nt(),i=nt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ci();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ge(tT,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function oY(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X0(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Rs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _d(t,e,n){const r=ze(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!yl(l))throw l;ge(tT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function K_(t,e,n){const r=ze(t);let i=Ue.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const m=ze(d),b=m.xs.get(p);return b!==void 0?Q.resolve(m.Ms.get(b)):m.Pi.getTargetData(f,p)})(r,l,hi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ue.min(),n?s:nt()))).next((c=>(V5(r,$4(e),c),{documents:c,Qs:s})))))}function D5(t,e){const n=ze(t),r=ze(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function L5(t,e){const n=ze(t),r=n.Os.get(e)||Ue.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,c4(r,ud),Number.MAX_SAFE_INTEGER))).then((i=>(V5(n,e,i),i)))}function V5(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const B5="firestore_clients";function dO(t,e){return`${B5}_${t}_${e}`}const U5="firestore_mutations";function fO(t,e,n){let r=`${U5}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const F5="firestore_targets";function k1(t,e){return`${F5}_${t}_${e}`}const qa="SharedClientState";class Q0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new Ie(i.error.code,i.error.message))),l?new Q0(e,n,i.state,s):(hn(qa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ie(r.error.code,r.error.message))),s?new Bh(e,r.state,i):(hn(qa,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Z0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=US();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=m4(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Z0(e,s):(hn(qa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class nT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new nT(n.clientId,n.onlineState):(hn(qa,`Failed to parse online state: ${e}`),null)}}class Y_{constructor(){this.activeTargetIds=US()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Ft(We),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=dO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Y_),this.ro=new RegExp(`^${B5}_${l}_([^_]*)$`),this.io=new RegExp(`^${U5}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${F5}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(dO(this.persistenceKey,r));if(i){const s=Z0.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(k1(this.persistenceKey,e));if(i){const s=Bh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(k1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ge(qa,"READ",e,n),n}setItem(e,n){ge(qa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ge(qa,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ge(qa,"EVENT",n.key,n.newValue),n.key===this.eo)return void hn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Fr.ce;if(s!=null)try{const c=JSON.parse(s);Le(typeof c=="number",30636,{So:s}),l=c}catch(c){hn(qa,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Fr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Q0(this.currentUser,e,n,r),s=fO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=fO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=k1(this.persistenceKey,e),s=new Bh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Z0.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Q0.Ws(new vr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Bh.Ws(i,n)}uo(e){return nT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ge(qa,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=US();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class q5{constructor(){this.Mo=new Y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lY{Oo(e){}shutdown(){}}const hO="ConnectivityMonitor";class mO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(hO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(hO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dg=null;function W_(){return Dg===null?Dg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dg++,"0x"+Dg.toString(16)}const I1="RestConnection",cY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===B0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=W_(),c=this.zo(e,n.toUriEncodedString());ge(I1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),p=Ud(f);return this.Jo(e,c,d,r,p).then((m=>(ge(I1,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Hh(I1,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$d})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=cY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class dY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gr="WebChannelConnection";class fY extends uY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=W_();return new Promise(((c,d)=>{const f=new t4;f.setWithCredentials(!0),f.listenOnce(n4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case d0.NO_ERROR:const m=f.getResponseJson();ge(gr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case d0.TIMEOUT:ge(gr,`RPC '${e}' ${l} timed out`),d(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case d0.HTTP_ERROR:const b=f.getStatus();if(ge(gr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x?.error;if(_&&_.status&&_.message){const S=(function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(j)>=0?j:me.UNKNOWN})(_.status);d(new Ie(S,_.message))}else d(new Ie(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ge(gr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ge(gr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=W_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=a4(),c=i4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ge(gr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);this.I_(m);let b=!1,x=!1;const _=new dY({Yo:E=>{x?ge(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(b||(ge(gr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),b=!0),ge(gr,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Zo:()=>m.close()}),S=(E,k,j)=>{E.listen(k,(O=>{try{j(O)}catch(V){setTimeout((()=>{throw V}),0)}}))};return S(m,_h.EventType.OPEN,(()=>{x||(ge(gr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),S(m,_h.EventType.CLOSE,(()=>{x||(x=!0,ge(gr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(m))})),S(m,_h.EventType.ERROR,(E=>{x||(x=!0,Hh(gr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new Ie(me.UNAVAILABLE,"The operation could not be completed")))})),S(m,_h.EventType.MESSAGE,(E=>{if(!x){const k=E.data[0];Le(!!k,16349);const j=k,O=j?.error||j[0]?.error;if(O){ge(gr,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let R=(function(C){const M=Sn[C];if(M!==void 0)return r5(M)})(V),F=O.message;R===void 0&&(R=me.INTERNAL,F="Unknown error status: "+V+" with message "+O.message),x=!0,_.a_(new Ie(R,F)),m.close()}else ge(gr,`RPC '${e}' stream ${i} received:`,k),_.u_(k)}})),S(c,r4.STAT_EVENT,(E=>{E.stat===k_.PROXY?ge(gr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===k_.NOPROXY&&ge(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $5(){return typeof window<"u"?window:null}function w0(){return typeof document<"u"?document:null}function yv(t){return new vK(t,!0)}class H5{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pO="PersistentStream";class G5{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(pO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(pO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hY extends G5{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ue.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Ir(l.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=F_(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=F0(d)?{documents:d5(s,d)}:{query:f5(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=s5(s,l.resumeToken);const f=B_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ue.min())>0){c.readTime=wd(s,l.snapshotVersion.toTimestamp());const f=B_(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=EK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=F_(this.serializer),n.removeTarget=e,this.q_(n)}}class mY extends G5{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_K(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=F_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>H0(this.serializer,r)))};this.q_(n)}}class pY{}class gY extends pY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,U_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(me.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,U_(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hn(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Oc="RemoteStore";class vY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Uc(this)&&(ge(Oc,"Restarting streams for network reachability change."),await(async function(d){const f=ze(d);f.Ea.add(4),await Mm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await vv(f)})(this))}))})),this.Ra=new yY(r,i)}}async function vv(t){if(Uc(t))for(const e of t.da)await e(!0)}async function Mm(t){for(const e of t.da)await e(!1)}function bv(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),aT(n)?iT(n):Kd(n).O_()&&rT(n,e))}function Ed(t,e){const n=ze(t),r=Kd(n);n.Ia.delete(e),r.O_()&&K5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uc(n)&&n.Ra.set("Unknown"))}function rT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kd(t).Y_(e)}function K5(t,e){t.Va.Ue(e),Kd(t).Z_(e)}function iT(t){t.Va=new mK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kd(t).start(),t.Ra.ua()}function aT(t){return Uc(t)&&!Kd(t).x_()&&t.Ia.size>0}function Uc(t){return ze(t).Ea.size===0}function Y5(t){t.Va=void 0}async function bY(t){t.Ra.set("Online")}async function xY(t){t.Ia.forEach(((e,n)=>{rT(t,e)}))}async function wY(t,e){Y5(t),aT(t)?(t.Ra.ha(e),iT(t)):t.Ra.set("Unknown")}async function _Y(t,e,n){if(t.Ra.set("Online"),e instanceof a5&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ge(Oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await J0(t,r)}else if(e instanceof b0?t.Va.Ze(e):e instanceof i5?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await z5(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(f);p&&s.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(mn.EMPTY_BYTE_STRING,p.snapshotVersion)),K5(s,d);const m=new Rs(p.target,d,f,p.sequenceNumber);rT(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ge(Oc,"Failed to raise snapshot:",r),await J0(t,r)}}async function J0(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Mm(t),t.Ra.set("Offline"),n||(n=()=>z5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Oc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vv(t)}))}function W5(t,e){return e().catch((n=>J0(t,n,e)))}async function Gd(t){const e=ze(t),n=ul(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hc;for(;EY(e);)try{const i=await oY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,SY(e,i)}catch(i){await J0(e,i)}X5(e)&&Q5(e)}function EY(t){return Uc(t)&&t.Ta.length<10}function SY(t,e){t.Ta.push(e);const n=ul(t);n.O_()&&n.X_&&n.ea(e.mutations)}function X5(t){return Uc(t)&&!ul(t).x_()&&t.Ta.length>0}function Q5(t){ul(t).start()}async function TY(t){ul(t).ra()}async function AY(t){const e=ul(t);for(const n of t.Ta)e.ea(n.mutations)}async function kY(t,e,n){const r=t.Ta.shift(),i=HS.from(r,e,n);await W5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Gd(t)}async function CY(t,e){e&&ul(t).X_&&await(async function(r,i){if((function(l){return dK(l)&&l!==me.ABORTED})(i.code)){const s=r.Ta.shift();ul(r).B_(),await W5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Gd(r)}})(t,e),X5(t)&&Q5(t)}async function gO(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ge(Oc,"RemoteStore received new credentials");const r=Uc(n);n.Ea.add(3),await Mm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vv(n)}async function X_(t,e){const n=ze(t);e?(n.Ea.delete(2),await vv(n)):e||(n.Ea.add(2),await Mm(n),n.Ra.set("Unknown"))}function Kd(t){return t.ma||(t.ma=(function(n,r,i){const s=ze(n);return s.sa(),new hY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:bY.bind(null,t),t_:xY.bind(null,t),r_:wY.bind(null,t),H_:_Y.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),aT(t)?iT(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y5(t))}))),t.ma}function ul(t){return t.fa||(t.fa=(function(n,r,i){const s=ze(n);return s.sa(),new mY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TY.bind(null,t),r_:CY.bind(null,t),ta:AY.bind(null,t),na:kY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Oc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new sT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oT(t,e){if(hn("AsyncQueue",`${e}: ${t}`),yl(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{static emptySet(e){return new nd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Eh(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class yO{constructor(){this.ga=new Ft(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sd{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Sd(e,n,nd.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class IY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NY{constructor(){this.queries=vO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),s=i.queries;i.queries=vO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Ie(me.ABORTED,"Firestore shutting down"))}}function vO(){return new Js((t=>q4(t)),dv)}async function OY(t,e){const n=ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new IY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=oT(l,`Initialization of query '${Gu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&lT(n)}async function PY(t,e){const n=ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RY(t,e){const n=ze(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&lT(n)}function jY(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function lT(t){t.Ca.forEach((e=>{e.next()}))}var Q_,bO;(bO=Q_||(Q_={})).Ma="default",bO.Cache="cache";class MY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Q_.Cache}}class Z5{constructor(e){this.key=e}}class J5{constructor(e){this.key=e}}class zY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=H4(e),this.tu=new nd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const b=i.get(p),x=Pm(this.query,m)?m:null,_=!!b&&this.mutatedKeys.has(b.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let E=!1;b&&x?b.data.isEqual(x.data)?_!==S&&(r.track({type:3,doc:x}),E=!0):this.su(b,x)||(r.track({type:2,doc:x}),E=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(c=!0)):!b&&x?(r.track({type:0,doc:x}),E=!0):b&&!x&&(r.track({type:1,doc:b}),E=!0,(d||f)&&(c=!0)),E&&(x?(l=l.add(x),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(x,_){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:E})}};return S(x)-S(_)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Sd(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new J5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Z5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yd="SyncEngine";class DY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LY{constructor(e){this.key=e,this.hu=!1}}class VY{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Js((c=>q4(c)),dv),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(Ae.comparator),this.Au=new Map,this.Ru=new QS,this.Vu={},this.mu=new Map,this.fu=Nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BY(t,e,n=!0){const r=xv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await e3(r,e,n,!0),i}async function UY(t,e){const n=xv(t);await e3(n,e,!0,!1)}async function e3(t,e,n,r){const i=await X0(t.localStore,hi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await cT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&bv(t.remoteStore,i),c}async function cT(t,e,n,r,i){t.pu=(m,b,x)=>(async function(S,E,k,j){let O=E.view.ru(k);O.Cs&&(O=await K_(S.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,O))));const V=j&&j.targetChanges.get(E.targetId),R=j&&j.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(O,S.isPrimaryClient,V,R);return Z_(S,E.targetId,F.au),F.snapshot})(t,m,b,x);const s=await K_(t.localStore,e,!0),l=new zY(e,s.Qs),c=l.ru(s.documents),d=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);Z_(t,n,f.au);const p=new DY(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function FY(t,e,n){const r=ze(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!dv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _d(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ed(r.remoteStore,i.targetId),Td(r,i.targetId)})).catch(gl)):(Td(r,i.targetId),await _d(r.localStore,i.targetId,!0))}async function qY(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ed(n.remoteStore,r.targetId))}async function $Y(t,e,n){const r=hT(t);try{const i=await(function(l,c){const d=ze(l),f=At.now(),p=c.reduce(((x,_)=>x.add(_.key)),nt());let m,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=ci(),S=nt();return d.Ns.getEntries(x,p).next((E=>{_=E,_.forEach(((k,j)=>{j.isValidDocument()||(S=S.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,_))).next((E=>{m=E;const k=[];for(const j of c){const O=cK(j,m.get(j.key).overlayedDocument);O!=null&&k.push(new vl(j.key,O,j4(O.value.mapValue),ui.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,k,c)})).next((E=>{b=E;const k=E.applyToLocalDocumentSet(m,S);return d.documentOverlayCache.saveOverlays(x,E.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:K4(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ft(We)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await bl(r,i.changes),await Gd(r.remoteStore)}catch(i){const s=oT(i,"Failed to persist write");n.reject(s)}}async function t3(t,e){const n=ze(t);try{const r=await aY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Le(l.hu,14607):i.removedDocuments.size>0&&(Le(l.hu,42227),l.hu=!1))})),await bl(n,r,e)}catch(r){await gl(r)}}function xO(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=ze(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,m)=>{for(const b of m.Sa)b.va(c)&&(f=!0)})),f&&lT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HY(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Ft(Ae.comparator);l=l.insert(s,ln.newNoDocument(s,Ue.min()));const c=nt().add(s),d=new Rm(Ue.min(),new Map,new Ft(We),l,c);await t3(r,d),r.du=r.du.remove(s),r.Au.delete(e),fT(r)}else await _d(r.localStore,e,!1).then((()=>Td(r,e,n))).catch(gl)}async function GY(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await iY(n.localStore,e);dT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,i)}catch(i){await gl(i)}}async function KY(t,e,n){const r=ze(t);try{const i=await(function(l,c){const d=ze(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((m=>(Le(m!==null,37113),p=m.keys(),d.mutationQueue.removeMutationBatch(f,m)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);dT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,i)}catch(i){await gl(i)}}function uT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dT(t,e,n){const r=ze(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Td(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||n3(t,r)}))}function n3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ed(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fT(t))}function Z_(t,e,n){for(const r of n)r instanceof Z5?(t.Ru.addReference(r.key,e),YY(t,r)):r instanceof J5?(ge(Yd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||n3(t,r.key)):Oe(19791,{wu:r})}function YY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ge(Yd,"New document in limbo: "+n),t.Eu.add(r),fT(t))}function fT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(jt.fromString(e)),r=t.fu.next();t.Au.set(r,new LY(n)),t.du=t.du.insert(n,r),bv(t.remoteStore,new Rs(hi(uv(n.path)),r,"TargetPurposeLimboResolution",Fr.ce))}}async function bl(t,e,n){const r=ze(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=eT.As(d.targetId,f);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const p=ze(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(f,(b=>Q.forEach(b.Es,(x=>p.persistence.referenceDelegate.addReference(m,b.targetId,x))).next((()=>Q.forEach(b.ds,(x=>p.persistence.referenceDelegate.removeReference(m,b.targetId,x)))))))))}catch(m){if(!yl(m))throw m;ge(tT,"Failed to update sequence numbers: "+m)}for(const m of f){const b=m.targetId;if(!m.fromCache){const x=p.Ms.get(b),_=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(_);p.Ms=p.Ms.insert(b,S)}}})(r.localStore,s))}async function WY(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ge(Yd,"User change. New user:",e.toKey());const r=await M5(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ie(me.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Ls)}}function XY(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function QY(t,e){const n=ze(t),r=await K_(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&Z_(n,e.targetId,i.au),i}async function ZY(t,e){const n=ze(t);return L5(n.localStore,e).then((r=>bl(n,r)))}async function JY(t,e,n,r){const i=ze(t),s=await(function(c,d){const f=ze(c),p=ze(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(m=>p.er(m,d).next((b=>b?f.localDocuments.getDocuments(m,b):Q.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Gd(i.remoteStore):n==="acknowledged"||n==="rejected"?(dT(i,e,r||null),uT(i,e),(function(c,d){ze(ze(c).mutationQueue).ir(d)})(i.localStore,e)):Oe(6720,"Unknown batchState",{Su:n}),await bl(i,s)):ge(Yd,"Cannot apply mutation batch with id: "+e)}async function eW(t,e){const n=ze(t);if(xv(n),hT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await wO(n,r.toArray());n.gu=!0,await X_(n.remoteStore,!0);for(const s of i)bv(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Td(n,l),_d(n.localStore,l,!0)))),Ed(n.remoteStore,l)})),await i,await wO(n,r),(function(l){const c=ze(l);c.Au.forEach(((d,f)=>{Ed(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Ft(Ae.comparator)})(n),n.gu=!1,await X_(n.remoteStore,!1)}}async function wO(t,e,n){const r=ze(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await X0(r.localStore,hi(d[0]));for(const f of d){const p=r.Tu.get(f),m=await QY(r,p);m.snapshot&&s.push(m.snapshot)}}else{const f=await D5(r.localStore,l);c=await X0(r.localStore,f),await cT(r,r3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function r3(t){return F4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function tW(t){return(function(n){return ze(ze(n).persistence).Ts()})(ze(t).localStore)}async function nW(t,e,n,r){const i=ze(t);if(i.gu)return void ge(Yd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await L5(i.localStore,$4(s[0])),c=Rm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mn.EMPTY_BYTE_STRING);await bl(i,l,c);break}case"rejected":await _d(i.localStore,e,!0),Td(i,e,r);break;default:Oe(64155,n)}}async function rW(t,e,n){const r=xv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ge(Yd,"Adding an already active target "+i);continue}const s=await D5(r.localStore,i),l=await X0(r.localStore,s);await cT(r,r3(s),l.targetId,!1,l.resumeToken),bv(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await _d(r.localStore,i,!1).then((()=>{Ed(r.remoteStore,i),Td(r,i)})).catch(gl)}}function xv(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HY.bind(null,e),e.Pu.H_=RY.bind(null,e.eventManager),e.Pu.yu=jY.bind(null,e.eventManager),e}function hT(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KY.bind(null,e),e}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j5(this.persistence,new R5,e.initialUser,this.serializer)}Cu(e){return new ZS(gv.mi,this.serializer)}Du(e){return new q5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class iW extends nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof W0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new ZS((r=>W0.mi(r,n)),this.serializer)}}class i3 extends nm{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await hT(this.xu.syncEngine),await Gd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return j5(this.persistence,new R5,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new k5(r,e.asyncQueue,n)}Mu(e,n){const r=new uG(n,this.persistence);return new cG(e.asyncQueue,r)}Cu(e){const n=P5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new JS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,$5(),w0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new q5}}class aW extends i3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof C1&&(this.sharedClientState.syncEngine={Co:JY.bind(null,n),vo:nW.bind(null,n),Fo:rW.bind(null,n),Ts:tW.bind(null,n),Do:ZY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await eW(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=$5();if(!C1.v(n))throw new Ie(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=P5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WY.bind(null,this.syncEngine),await X_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NY})()}createDatastore(e){const n=yv(e.databaseInfo.databaseId),r=(function(s){return new fY(s)})(e.databaseInfo);return(function(s,l,c,d){return new gY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new vY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>xO(this.syncEngine,n,0)),(function(){return mO.v()?new mO:new lY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,p){const m=new VY(i,s,l,c,d,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);ge(Oc,"RemoteStore shutting down."),r.Ea.add(5),await Mm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class sW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dl="FirestoreClient";class oW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=CS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ge(dl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ge(dl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function N1(t,e){t.asyncQueue.verifyOperationInProgress(),ge(dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await M5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function _O(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lW(t);ge(dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>gO(e.remoteStore,i))),t._onlineComponents=e}async function lW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(dl,"Using user provided OfflineComponentProvider");try{await N1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Hh("Error using user provided cache. Falling back to memory cache: "+n),await N1(t,new nm)}}else ge(dl,"Using default OfflineComponentProvider"),await N1(t,new iW(void 0));return t._offlineComponents}async function a3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(dl,"Using user provided OnlineComponentProvider"),await _O(t,t._uninitializedComponentsProvider._online)):(ge(dl,"Using default OnlineComponentProvider"),await _O(t,new rm))),t._onlineComponents}function cW(t){return a3(t).then((e=>e.syncEngine))}async function EO(t){const e=await a3(t),n=e.eventManager;return n.onListen=BY.bind(null,e.syncEngine),n.onUnlisten=FY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qY.bind(null,e.syncEngine),n}function s3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const SO=new Map;const uW="firestore.googleapis.com",TO=!0;class AO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uW,this.ssl=TO}else this.host=e.host,this.ssl=e.ssl??TO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A5)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o3{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XH;switch(r.type){case"firstParty":return new JH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=SO.get(n);r&&(ge("ComponentProvider","Removing Datastore"),SO.delete(n),r.terminate())})(this),Promise.resolve()}}class wv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wv(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new im(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Im(n,Wn._jsonSchema))return new Wn(e,r||null,new Ae(jt.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:An("string",Wn._jsonSchemaVersion),referencePath:An("string")};class im extends wv{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ae(e))}withConverter(e){return new im(this.firestore,e,this._path)}}function O1(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=CS.newId()),aG("doc","path",e),t instanceof o3){const r=jt.fromString(e,...n);return pN(r),new Wn(t,null,new Ae(r))}{if(!(t instanceof Wn||t instanceof im))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return pN(r),new Wn(t.firestore,t instanceof im?t.converter:null,new Ae(r))}}const kO="AsyncQueue";class CO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H5(this,"async_queue_retry"),this._c=()=>{const r=w0();r&&ge(kO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=w0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=w0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new al;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ge(kO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hn("INTERNAL UNHANDLED ERROR: ",IO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:IO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function NO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ey extends o3{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CO(e),this._firestoreClient=void 0,await e}}}function dW(t,e,n){n||(n=B0);const r=gS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(_c(s,e))return i;throw new Ie(me.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ie(me.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A5)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ud(e.host)&&hD(e.host),r.initialize({options:e,instanceIdentifier:n})}function l3(t){if(t._terminated)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fW(t),t._firestoreClient}function fW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new LG(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,s3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Li(mn.fromBase64String(e))}catch(n){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Li(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Im(e,Li._jsonSchema))return Li.fromBase64String(e.bytes)}}Li._jsonSchemaVersion="firestore/bytes/1.0",Li._jsonSchema={type:An("string",Li._jsonSchemaVersion),bytes:An("string")};class mT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class c3{constructor(e){this._methodName=e}}class Xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xa._jsonSchemaVersion}}static fromJSON(e){if(Im(e,Xa._jsonSchema))return new Xa(e.latitude,e.longitude)}}Xa._jsonSchemaVersion="firestore/geoPoint/1.0",Xa._jsonSchema={type:An("string",Xa._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};class Qa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Im(e,Qa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qa(e.vectorValues);throw new Ie(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qa._jsonSchemaVersion="firestore/vectorValue/1.0",Qa._jsonSchema={type:An("string",Qa._jsonSchemaVersion),vectorValues:An("object")};const hW=/^__.*__$/;class mW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}function u3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class pT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ty(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u3(this.Ac)&&hW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yv(e)}Cc(e,n,r,i=!1){return new pT({Ac:e,methodName:n,Dc:r,path:nn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gW(t){const e=t._freezeSettings(),n=yv(t._databaseId);return new pW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yW(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);m3("Data must be an object, but it was:",l,r);const c=f3(r,l);let d,f;if(s.merge)d=new Vi(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const b=vW(e,m,n);if(!l.contains(b))throw new Ie(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);xW(p,b)||p.push(b)}d=new Vi(p),f=l.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,f=l.fieldTransforms;return new mW(new Ur(c),d,f)}function d3(t,e){if(h3(t=Hr(t)))return m3("Unsupported field value:",e,t),f3(t,e);if(t instanceof c3)return(function(r,i){if(!u3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=d3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:wd(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wd(i.serializer,s)}}if(r instanceof Xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Li)return{bytesValue:s5(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qa)return(function(l,c){return{mapValue:{fields:{[DS]:{stringValue:LS},[pd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return FS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${IS(r)}`)})(t,e)}function f3(t,e){const n={};return T4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,((r,i)=>{const s=d3(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function h3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Xa||t instanceof Li||t instanceof Wn||t instanceof c3||t instanceof Qa)}function m3(t,e,n){if(!h3(n)||!l4(n)){const r=IS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vW(t,e,n){if((e=Hr(e))instanceof mT)return e._internalPath;if(typeof e=="string")return p3(t,e);throw ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const bW=new RegExp("[~\\*/\\[\\]]");function p3(t,e,n){if(e.search(bW)>=0)throw ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mT(...e.split("."))._internalPath}catch{throw ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ty(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ie(me.INVALID_ARGUMENT,c+t+d)}function xW(t,e){return t.some((n=>n.isEqual(e)))}class g3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wW extends g3{data(){return super.data()}}function y3(t,e){return typeof e=="string"?p3(t,e):e instanceof mT?e._internalPath:e._delegate._internalPath}function _W(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EW{convertValue(e,n="none"){switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((r=>Zt(r.doubleValue)));return new Qa(n)}convertGeoPoint(e){return new Xa(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const n=Us(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);Le(g5(r),9688,{name:e});const i=new Ac(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(n)||hn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function SW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends g3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gc._jsonSchemaVersion="firestore/documentSnapshot/1.0",gc._jsonSchema={type:An("string",gc._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class _0 extends gc{data(e={}){return super.data(e)}}class rd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ah(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _0(this._firestore,this._userDataWriter,r.key,r,new Ah(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new _0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ah(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new _0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ah(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:TW(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}rd._jsonSchemaVersion="firestore/querySnapshot/1.0",rd._jsonSchema={type:An("string",rd._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class v3 extends EW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function AW(t,e,n){t=Oh(t,Wn);const r=Oh(t.firestore,ey),i=SW(t.converter,e);return kW(r,[yW(gW(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ui.none())])}function OO(t,...e){t=Hr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||NO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NO(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof Wn)l=Oh(t.firestore,ey),c=uv(t._key.path),s={next:d=>{e[r]&&e[r](CW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Oh(t,wv);l=Oh(d.firestore,ey),c=d._query;const f=new v3(l);s={next:p=>{e[r]&&e[r](new rd(l,f,d,p))},error:e[r+1],complete:e[r+2]},_W(t._query)}return(function(f,p,m,b){const x=new sW(b),_=new MY(p,x,m);return f.asyncQueue.enqueueAndForget((async()=>OY(await EO(f),_))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>PY(await EO(f),_)))}})(l3(l),c,i,s)}function kW(t,e){return(function(r,i){const s=new al;return r.asyncQueue.enqueueAndForget((async()=>$Y(await cW(r),i,s))),s.promise})(l3(t),e)}function CW(t,e,n){const r=n.docs.get(e._key),i=new v3(t);return new gc(t,i,e._key,r,new Ah(n.hasPendingWrites,n.fromCache),e.converter)}class IW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=RW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function NW(t){return new IW(t)}class OW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rm.provider,this._offlineComponentProvider={build:n=>new i3(n,e?.cacheSizeBytes,this.forceOwnership)}}}class PW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rm.provider,this._offlineComponentProvider={build:n=>new aW(n,e?.cacheSizeBytes)}}}function RW(t){return new OW(t?.forceOwnership)}function jW(){return new PW}(function(e,n=!0){(function(i){$d=i})(Fd),od(new Ec("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new ey(new QH(r.getProvider("auth-internal")),new eG(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(f.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),rl(dN,fN,e),rl(dN,fN,"esm2020")})();const MW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"vaultly-ce7e1",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},b3=xD(MW),Lg=HH(b3),zW=new Cs,P1=dW(b3,{localCache:NW({tabManager:jW()})}),x3=T.createContext(void 0),DW=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=j$(Lg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await O$(Lg,$D),await eH(Lg,zW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await M$(Lg)}catch(c){console.error("Error signing out",c)}};return g.jsx(x3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},zm=()=>{const t=T.useContext(x3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Va={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},projects:[],scheduledTransactions:[],presets:[],settings:{currency:"$",theme:"classic",hasSeenOnboarding:!1},goals:[],funds:[],credits:[],projections:{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},version:3,lastUpdated:Date.now()},qo={subscribeToMasterDoc(t,e,n){const r=O1(P1,"users",t,"data","master");return console.log(`[CloudStorage] Subscribing to ${r.path}`),OO(r,i=>{const s=i.metadata.fromCache?"local cache":"server";console.log(`[CloudStorage] Data received from ${s}`),i.exists()?e(i.data()):(console.log("[CloudStorage] Document does not exist"),e(null))},i=>{console.error("[CloudStorage] Snapshot Error:",i),i.code==="permission-denied"&&console.error("CRITICAL: Permission Denied. Check Firestore Rules/Auth."),n(i)})},async fetchMasterDoc(t){return new Promise((e,n)=>{const r=O1(P1,"users",t,"data","master"),i=OO(r,s=>{i(),s.exists()?e(s.data()):e(null)},s=>{i(),n(s)})})},async saveMasterDoc(t,e){try{const n=O1(P1,"users",t,"data","master");await AW(n,{...e,lastUpdated:Date.now()}),console.log("[CloudStorage] Master Doc Saved Successfully")}catch(n){throw console.error("Error saving master doc:",n),n.code==="permission-denied"?new Error("Permiso denegado al guardar. Ests logueado?"):n}},saveLocalBackup(t,e){try{localStorage.setItem(`vaultly_data_${t}`,JSON.stringify(e)),console.log("[CloudStorage] Local Backup Saved")}catch(n){console.error("Local Backup Failed (Quota?)",n)}},loadLocalBackup(t){try{const e=localStorage.getItem(`vaultly_data_${t}`);return e?JSON.parse(e):null}catch(e){return console.error("Local Backup Corrupted",e),null}}};function LW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const VW=t=>{switch(t){case"success":return FW;case"info":return $W;case"warning":return qW;case"error":return HW;default:return null}},BW=Array(12).fill(0),UW=({visible:t,className:e})=>_e.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},_e.createElement("div",{className:"sonner-spinner"},BW.map((n,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FW=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qW=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$W=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HW=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GW=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KW=()=>{const[t,e]=_e.useState(document.hidden);return _e.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let J_=1;class YW{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:J_++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],_e.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(XW(f)&&!f.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,_=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,..._})}else if(f instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,_=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,..._})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,_=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:b,..._})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,x=typeof p=="object"&&!_e.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...x})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||J_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Br=new YW,WW=(t,e)=>{const n=e?.id||J_++;return Br.addToast({title:t,...e,id:n}),n},XW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QW=WW,ZW=()=>Br.toasts,JW=()=>Br.getActiveToasts(),Mt=Object.assign(QW,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:ZW,getToasts:JW});LW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vg(t){return t.label!==void 0}const eX=3,tX="24px",nX="16px",PO=4e3,rX=356,iX=14,aX=45,sX=200;function Ba(...t){return t.filter(Boolean).join(" ")}function oX(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const lX=t=>{var e,n,r,i,s,l,c,d,f;const{invert:p,toast:m,unstyled:b,interacting:x,setHeights:_,visibleToasts:S,heights:E,index:k,toasts:j,expanded:O,removeToast:V,defaultRichColors:R,closeButton:F,style:P,cancelButtonStyle:C,actionButtonStyle:M,className:L="",descriptionClassName:z="",duration:q,position:U,gap:ve,expandByDefault:Ce,classNames:Y,icons:ne,closeButtonAriaLabel:W="Close toast"}=t,[pe,ke]=_e.useState(null),[$,ie]=_e.useState(null),[re,ce]=_e.useState(!1),[be,Se]=_e.useState(!1),[Te,Ve]=_e.useState(!1),[G,ye]=_e.useState(!1),[Ne,de]=_e.useState(!1),[bt,Ke]=_e.useState(0),[Dt,gt]=_e.useState(0),Bt=_e.useRef(m.duration||q||PO),Vn=_e.useRef(null),lt=_e.useRef(null),qt=k===0,Fe=k+1<=S,et=m.type,Cn=m.dismissible!==!1,fe=m.className||"",ft=m.descriptionClassName||"",Bn=_e.useMemo(()=>E.findIndex($e=>$e.toastId===m.id)||0,[E,m.id]),ba=_e.useMemo(()=>{var $e;return($e=m.closeButton)!=null?$e:F},[m.closeButton,F]),_r=_e.useMemo(()=>m.duration||q||PO,[m.duration,q]),Gi=_e.useRef(0),Ki=_e.useRef(0),El=_e.useRef(0),Yi=_e.useRef(null),[Kr,In]=U.split("-"),Er=_e.useMemo(()=>E.reduce(($e,xt,gn)=>gn>=Bn?$e:$e+xt.height,0),[E,Bn]),Yt=KW(),Kc=m.invert||p,xa=et==="loading";Ki.current=_e.useMemo(()=>Bn*ve+Er,[Bn,Er]),_e.useEffect(()=>{Bt.current=_r},[_r]),_e.useEffect(()=>{ce(!0)},[]),_e.useEffect(()=>{const $e=lt.current;if($e){const xt=$e.getBoundingClientRect().height;return gt(xt),_(gn=>[{toastId:m.id,height:xt,position:m.position},...gn]),()=>_(gn=>gn.filter(Un=>Un.toastId!==m.id))}},[_,m.id]),_e.useLayoutEffect(()=>{if(!re)return;const $e=lt.current,xt=$e.style.height;$e.style.height="auto";const gn=$e.getBoundingClientRect().height;$e.style.height=xt,gt(gn),_(Un=>Un.find($t=>$t.toastId===m.id)?Un.map($t=>$t.toastId===m.id?{...$t,height:gn}:$t):[{toastId:m.id,height:gn,position:m.position},...Un])},[re,m.title,m.description,_,m.id,m.jsx,m.action,m.cancel]);const Yr=_e.useCallback(()=>{Se(!0),Ke(Ki.current),_($e=>$e.filter(xt=>xt.toastId!==m.id)),setTimeout(()=>{V(m)},sX)},[m,V,_,Ki]);_e.useEffect(()=>{if(m.promise&&et==="loading"||m.duration===1/0||m.type==="loading")return;let $e;return O||x||Yt?(()=>{if(El.current<Gi.current){const Un=new Date().getTime()-Gi.current;Bt.current=Bt.current-Un}El.current=new Date().getTime()})():Bt.current!==1/0&&(Gi.current=new Date().getTime(),$e=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Yr()},Bt.current)),()=>clearTimeout($e)},[O,x,m,et,Yt,Yr]),_e.useEffect(()=>{m.delete&&(Yr(),m.onDismiss==null||m.onDismiss.call(m,m))},[Yr,m.delete]);function wi(){var $e;if(ne?.loading){var xt;return _e.createElement("div",{className:Ba(Y?.loader,m==null||(xt=m.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":et==="loading"},ne.loading)}return _e.createElement(UW,{className:Ba(Y?.loader,m==null||($e=m.classNames)==null?void 0:$e.loader),visible:et==="loading"})}const os=m.icon||ne?.[et]||VW(et);var tn,Wr;return _e.createElement("li",{tabIndex:0,ref:lt,className:Ba(L,fe,Y?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,Y?.default,Y?.[et],m==null||(n=m.classNames)==null?void 0:n[et]),"data-sonner-toast":"","data-rich-colors":(tn=m.richColors)!=null?tn:R,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":re,"data-promise":!!m.promise,"data-swiped":Ne,"data-removed":be,"data-visible":Fe,"data-y-position":Kr,"data-x-position":In,"data-index":k,"data-front":qt,"data-swiping":Te,"data-dismissible":Cn,"data-type":et,"data-invert":Kc,"data-swipe-out":G,"data-swipe-direction":$,"data-expanded":!!(O||Ce&&re),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":j.length-k,"--offset":`${be?bt:Ki.current}px`,"--initial-height":Ce?"auto":`${Dt}px`,...P,...m.style},onDragEnd:()=>{Ve(!1),ke(null),Yi.current=null},onPointerDown:$e=>{$e.button!==2&&(xa||!Cn||(Vn.current=new Date,Ke(Ki.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(Ve(!0),Yi.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,xt,gn;if(G||!Cn)return;Yi.current=null;const Un=Number((($e=lt.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sr=Number(((xt=lt.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((gn=Vn.current)==null?void 0:gn.getTime()),mr=pe==="x"?Un:Sr,_i=Math.abs(mr)/$t;if(Math.abs(mr)>=aX||_i>.11){Ke(Ki.current),m.onDismiss==null||m.onDismiss.call(m,m),ie(pe==="x"?Un>0?"right":"left":Sr>0?"down":"up"),Yr(),ye(!0);return}else{var Jn,er;(Jn=lt.current)==null||Jn.style.setProperty("--swipe-amount-x","0px"),(er=lt.current)==null||er.style.setProperty("--swipe-amount-y","0px")}de(!1),Ve(!1),ke(null)},onPointerMove:$e=>{var xt,gn,Un;if(!Yi.current||!Cn||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;const $t=$e.clientY-Yi.current.y,mr=$e.clientX-Yi.current.x;var _i;const Jn=(_i=t.swipeDirections)!=null?_i:oX(U);!pe&&(Math.abs(mr)>1||Math.abs($t)>1)&&ke(Math.abs(mr)>Math.abs($t)?"x":"y");let er={x:0,y:0};const wa=tr=>1/(1.5+Math.abs(tr)/20);if(pe==="y"){if(Jn.includes("top")||Jn.includes("bottom"))if(Jn.includes("top")&&$t<0||Jn.includes("bottom")&&$t>0)er.y=$t;else{const tr=$t*wa($t);er.y=Math.abs(tr)<Math.abs($t)?tr:$t}}else if(pe==="x"&&(Jn.includes("left")||Jn.includes("right")))if(Jn.includes("left")&&mr<0||Jn.includes("right")&&mr>0)er.x=mr;else{const tr=mr*wa(mr);er.x=Math.abs(tr)<Math.abs(mr)?tr:mr}(Math.abs(er.x)>0||Math.abs(er.y)>0)&&de(!0),(gn=lt.current)==null||gn.style.setProperty("--swipe-amount-x",`${er.x}px`),(Un=lt.current)==null||Un.style.setProperty("--swipe-amount-y",`${er.y}px`)}},ba&&!m.jsx&&et!=="loading"?_e.createElement("button",{"aria-label":W,"data-disabled":xa,"data-close-button":!0,onClick:xa||!Cn?()=>{}:()=>{Yr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ba(Y?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Wr=ne?.close)!=null?Wr:GW):null,(et||m.icon||m.promise)&&m.icon!==null&&(ne?.[et]!==null||m.icon)?_e.createElement("div",{"data-icon":"",className:Ba(Y?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||wi():null,m.type!=="loading"?os:null):null,_e.createElement("div",{"data-content":"",className:Ba(Y?.content,m==null||(s=m.classNames)==null?void 0:s.content)},_e.createElement("div",{"data-title":"",className:Ba(Y?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?_e.createElement("div",{"data-description":"",className:Ba(z,ft,Y?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),_e.isValidElement(m.cancel)?m.cancel:m.cancel&&Vg(m.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:$e=>{Vg(m.cancel)&&Cn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,$e),Yr())},className:Ba(Y?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,_e.isValidElement(m.action)?m.action:m.action&&Vg(m.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:$e=>{Vg(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,$e),!$e.defaultPrevented&&Yr())},className:Ba(Y?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function RO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cX(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?nX:tX;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const w3=_e.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:m,theme:b="light",richColors:x,duration:_,style:S,visibleToasts:E=eX,toastOptions:k,dir:j=RO(),gap:O=iX,icons:V,containerAriaLabel:R="Notifications"}=e,[F,P]=_e.useState([]),C=_e.useMemo(()=>r?F.filter(re=>re.toasterId===r):F.filter(re=>!re.toasterId),[F,r]),M=_e.useMemo(()=>Array.from(new Set([s].concat(C.filter(re=>re.position).map(re=>re.position)))),[C,s]),[L,z]=_e.useState([]),[q,U]=_e.useState(!1),[ve,Ce]=_e.useState(!1),[Y,ne]=_e.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=_e.useRef(null),pe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ke=_e.useRef(null),$=_e.useRef(!1),ie=_e.useCallback(re=>{P(ce=>{var be;return(be=ce.find(Se=>Se.id===re.id))!=null&&be.delete||Br.dismiss(re.id),ce.filter(({id:Se})=>Se!==re.id)})},[]);return _e.useEffect(()=>Br.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{P(ce=>ce.map(be=>be.id===re.id?{...be,delete:!0}:be))});return}setTimeout(()=>{uF.flushSync(()=>{P(ce=>{const be=ce.findIndex(Se=>Se.id===re.id);return be!==-1?[...ce.slice(0,be),{...ce[be],...re},...ce.slice(be+1)]:[re,...ce]})})})}),[F]),_e.useEffect(()=>{if(b!=="system"){ne(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ce})=>{ne(ce?"dark":"light")})}catch{re.addListener(({matches:be})=>{try{ne(be?"dark":"light")}catch(Se){console.error(Se)}})}},[b]),_e.useEffect(()=>{F.length<=1&&U(!1)},[F]),_e.useEffect(()=>{const re=ce=>{var be;if(l.every(Ve=>ce[Ve]||ce.code===Ve)){var Te;U(!0),(Te=W.current)==null||Te.focus()}ce.code==="Escape"&&(document.activeElement===W.current||(be=W.current)!=null&&be.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[l]),_e.useEffect(()=>{if(W.current)return()=>{ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null,$.current=!1)}},[W.current]),_e.createElement("section",{ref:n,"aria-label":`${R} ${pe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((re,ce)=>{var be;const[Se,Te]=re.split("-");return C.length?_e.createElement("ol",{key:re,dir:j==="auto"?RO():j,tabIndex:-1,ref:W,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":Se,"data-x-position":Te,style:{"--front-toast-height":`${((be=L[0])==null?void 0:be.height)||0}px`,"--width":`${rX}px`,"--gap":`${O}px`,...S,...cX(p,m)},onBlur:Ve=>{$.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&($.current=!1,ke.current&&(ke.current.focus({preventScroll:!0}),ke.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||$.current||($.current=!0,ke.current=Ve.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{ve||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},C.filter(Ve=>!Ve.position&&ce===0||Ve.position===re).map((Ve,G)=>{var ye,Ne;return _e.createElement(lX,{key:Ve.id,icons:V,index:G,toast:Ve,defaultRichColors:x,duration:(ye=k?.duration)!=null?ye:_,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:E,closeButton:(Ne=k?.closeButton)!=null?Ne:d,interacting:ve,position:re,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:ie,toasts:C.filter(de=>de.position==Ve.position),heights:L.filter(de=>de.position==Ve.position),setHeights:z,expandByDefault:c,gap:O,expanded:q,swipeDirections:e.swipeDirections})})):null}))}),uX=()=>{const[t,e]=T.useState(navigator.onLine);return T.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t},_3=T.createContext(void 0),dX=({children:t})=>{const{user:e}=zm(),n=uX(),[r,i]=T.useState(Va),[s,l]=T.useState(!0),[c,d]=T.useState(!1),[f,p]=T.useState(!1),m=T.useRef(null);T.useEffect(()=>{if(!e){i(Va),l(!1);return}l(!0);const S=qo.loadLocalBackup(e.uid);S&&(console.log("[DataContext] Loaded local backup (Optimistic)"),i(S));const E=qo.subscribeToMasterDoc(e.uid,k=>{if(k){const j={...Va,...k,settings:{...Va.settings,...k.settings||{}},categories:{...Va.categories,...k.categories||{}}};i(j),qo.saveLocalBackup(e.uid,j)}else S||(console.log("[DataContext] New user setup"),i(Va),qo.saveMasterDoc(e.uid,Va).catch(console.error));l(!1),p(!1)},k=>{console.error("[DataContext] Sync/Connection Error:",k),S?Mt("Modo Offline: Usando datos locales"):Mt.error("Error de conexin y sin datos locales."),l(!1)});return()=>E()},[e]);const b=S=>{e&&(qo.saveLocalBackup(e.uid,S),d(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{if(!navigator.onLine){console.log("[DataContext] Offline. Marked for sync."),p(!0),d(!1);return}try{await qo.saveMasterDoc(e.uid,S),d(!1),p(!1),console.log("Auto-saved to cloud")}catch(E){console.error("Auto-save failed (Network?)",E),p(!0),d(!1)}},2e3))};T.useEffect(()=>{n&&f&&e&&(console.log("[DataContext] Back Online! Syncing pending changes..."),Mt.info("Conexin restaurada. Sincronizando..."),b(r))},[n,f,e,r]);const x=S=>{i(E=>{const k={...E,...S};return b(k),k})},_=async()=>{if(e)try{d(!0),await qo.saveMasterDoc(e.uid,Va),qo.saveLocalBackup(e.uid,Va),i(Va),Mt.success("Mundo reinstalado desde cero.")}catch(S){console.error("Failed to nuke data:",S),Mt.error("Fallo en la detonacin.")}finally{d(!1)}};return g.jsx(_3.Provider,{value:{data:r,updateData:x,isLoading:s,isSaving:c,isOfflineMode:f||!n,resetData:_},children:t})},yi=()=>{const t=T.useContext(_3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const fX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),jO=t=>{const e=hX(t);return e.charAt(0).toUpperCase()+e.slice(1)},E3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),mX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...pX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:E3("lucide",i),...!s&&!mX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>T.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Ee=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(gX,{ref:s,iconNode:e,className:E3(`lucide-${fX(jO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=jO(t),n};const yX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ny=Ee("arrow-down-left",yX);const vX=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],eE=Ee("arrow-down-right",vX);const bX=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],xX=Ee("arrow-up-left",bX);const wX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ad=Ee("arrow-up-right",wX);const _X=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],MO=Ee("bomb",_X);const EX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],SX=Ee("book-open",EX);const TX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],S3=Ee("briefcase",TX);const AX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gT=Ee("calculator",AX);const kX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],tE=Ee("calendar-clock",kX);const CX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],T3=Ee("calendar",CX);const IX=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],NX=Ee("car",IX);const OX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],PX=Ee("chart-pie",OX);const RX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A3=Ee("check",RX);const jX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],MX=Ee("chevron-down",jX);const zX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],DX=Ee("chevron-left",zX);const LX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k3=Ee("chevron-right",LX);const VX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],zO=Ee("circle-arrow-down",VX);const BX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],DO=Ee("circle-arrow-up",BX);const UX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FX=Ee("circle-check-big",UX);const qX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],$X=Ee("circle-pause",qX);const HX=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GX=Ee("circle-play",HX);const KX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YX=Ee("clock",KX);const WX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],XX=Ee("cloud-off",WX);const QX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ZX=Ee("cloud",QX);const JX=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],eQ=Ee("coffee",JX);const tQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nQ=Ee("credit-card",tQ);const rQ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],LO=Ee("database",rQ);const iQ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],C3=Ee("dollar-sign",iQ);const aQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sQ=Ee("download",aQ);const oQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],I3=Ee("ellipsis",oQ);const lQ=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],cQ=Ee("flame",lQ);const uQ=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],nE=Ee("folder-kanban",uQ);const dQ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fQ=Ee("funnel",dQ);const hQ=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],mQ=Ee("gamepad-2",hQ);const pQ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],gQ=Ee("gift",pQ);const yQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vQ=Ee("heart",yQ);const bQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xQ=Ee("history",bQ);const wQ=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],_Q=Ee("hourglass",wQ);const EQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SQ=Ee("house",EQ);const TQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],am=Ee("landmark",TQ);const AQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kQ=Ee("layers",AQ);const CQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],IQ=Ee("layout-dashboard",CQ);const NQ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],OQ=Ee("layout-grid",NQ);const PQ=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],rE=Ee("list",PQ);const RQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jQ=Ee("log-out",RQ);const MQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zQ=Ee("menu",MQ);const DQ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],LQ=Ee("moon",DQ);const VQ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],BQ=Ee("palette",VQ);const UQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],FQ=Ee("pen",UQ);const qQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_v=Ee("pencil",qQ);const $Q=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],HQ=Ee("percent",$Q);const GQ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Dm=Ee("piggy-bank",GQ);const KQ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],YQ=Ee("plane",KQ);const WQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Za=Ee("plus",WQ);const XQ=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 15.4641a4 4 0 0 1-4 0L7.52786 19.74597 A 1 1 0 0 0 7.99303 21.16211 10 10 0 0 0 16.00697 21.16211 1 1 0 0 0 16.47214 19.74597z",key:"1y4lzb"}],["path",{d:"M16 12a4 4 0 0 0-2-3.464l2.472-4.282a1 1 0 0 1 1.46-.305 10 10 0 0 1 4.006 6.94A1 1 0 0 1 21 12z",key:"163ggk"}],["path",{d:"M8 12a4 4 0 0 1 2-3.464L7.528 4.254a1 1 0 0 0-1.46-.305 10 10 0 0 0-4.006 6.94A1 1 0 0 0 3 12z",key:"1l9i0b"}]],QQ=Ee("radiation",XQ);const ZQ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],JQ=Ee("receipt",ZQ);const eZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yT=Ee("refresh-cw",eZ);const tZ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],nZ=Ee("rocket",tZ);const rZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iZ=Ee("rotate-ccw",rZ);const aZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sZ=Ee("save",aZ);const oZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lZ=Ee("search",oZ);const cZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N3=Ee("settings",cZ);const uZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dZ=Ee("shield",uZ);const fZ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],hZ=Ee("shopping-bag",fZ);const mZ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],pZ=Ee("siren",mZ);const gZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yZ=Ee("smartphone",gZ);const vZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],bZ=Ee("smile",vZ);const xZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VO=Ee("sparkles",xZ);const wZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_Z=Ee("star",wZ);const EZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],SZ=Ee("sun",EZ);const TZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yc=Ee("target",TZ);const AZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],kZ=Ee("text-align-start",AZ);const CZ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],R1=Ee("toggle-left",CZ);const IZ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],j1=Ee("toggle-right",IZ);const NZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fa=Ee("trash-2",NZ);const OZ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],iE=Ee("trending-down",OZ);const PZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],O3=Ee("trending-up",PZ);const RZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jZ=Ee("upload",RZ);const MZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zZ=Ee("user",MZ);const DZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Lm=Ee("wallet",DZ);const LZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ry=Ee("x",LZ);const VZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aE=Ee("zap",VZ);function P3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=P3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=P3(t))&&(r&&(r+=" "),r+=e);return r}const BZ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},UZ=(t,e)=>({classGroupId:t,validator:e}),R3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),iy="-",BO=[],FZ="arbitrary..",qZ=t=>{const e=HZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return $Z(l);const c=l.split(iy),d=c[0]===""&&c.length>1?1:0;return j3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?BZ(f,d):d:f||BO}return n[l]||BO}}},j3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=j3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(iy):t.slice(e).join(iy),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},$Z=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?FZ+r:void 0})(),HZ=t=>{const{theme:e,classGroups:n}=t;return GZ(n,e)},GZ=(t,e)=>{const n=R3();for(const r in t){const i=t[r];vT(i,n,r,e)}return n},vT=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];KZ(l,e,n,r)}},KZ=(t,e,n,r)=>{if(typeof t=="string"){YZ(t,e,n);return}if(typeof t=="function"){WZ(t,e,n,r);return}XZ(t,e,n,r)},YZ=(t,e,n)=>{const r=t===""?e:M3(e,t);r.classGroupId=n},WZ=(t,e,n,r)=>{if(QZ(t)){vT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(UZ(n,t))},XZ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];vT(d,M3(e,c),n,r)}},M3=(t,e)=>{let n=t;const r=e.split(iy),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=R3(),n.nextPart.set(l,c)),n=c}return n},QZ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,ZZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},sE="!",UO=":",JZ=[],FO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),eJ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const p=i.length;for(let S=0;S<p;S++){const E=i[S];if(l===0&&c===0){if(E===UO){s.push(i.slice(d,S)),d=S+1;continue}if(E==="/"){f=S;continue}}E==="["?l++:E==="]"?l--:E==="("?c++:E===")"&&c--}const m=s.length===0?i:i.slice(d);let b=m,x=!1;m.endsWith(sE)?(b=m.slice(0,-1),x=!0):m.startsWith(sE)&&(b=m.slice(1),x=!0);const _=f&&f>d?f-d:void 0;return FO(s,x,b,_)};if(e){const i=e+UO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):FO(JZ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},tJ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},nJ=t=>({cache:ZZ(t.cacheSize),parseClassName:eJ(t),sortModifiers:tJ(t),...qZ(t)}),rJ=/\s+/,iJ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(rJ);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:b,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:S}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let E=!!S,k=r(E?_.substring(0,S):_);if(!k){if(!E){d=p+(d.length>0?" "+d:d);continue}if(k=r(_),!k){d=p+(d.length>0?" "+d:d);continue}E=!1}const j=b.length===0?"":b.length===1?b[0]:s(b).join(":"),O=x?j+sE:j,V=O+k;if(l.indexOf(V)>-1)continue;l.push(V);const R=i(k,E);for(let F=0;F<R.length;++F){const P=R[F];l.push(O+P)}d=p+(d.length>0?" "+d:d)}return d},aJ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=z3(n))&&(i&&(i+=" "),i+=r);return i},z3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=z3(t[r]))&&(n&&(n+=" "),n+=e);return n},sJ=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((p,m)=>m(p),t());return n=nJ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=iJ(d,n);return i(d,p),p};return s=l,(...d)=>s(aJ(...d))},oJ=[],On=t=>{const e=n=>n[t]||oJ;return e.isThemeGetter=!0,e},D3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,L3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lJ=/^\d+\/\d+$/,cJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bu=t=>lJ.test(t),tt=t=>!!t&&!Number.isNaN(Number(t)),$o=t=>!!t&&Number.isInteger(Number(t)),M1=t=>t.endsWith("%")&&tt(t.slice(0,-1)),As=t=>cJ.test(t),mJ=()=>!0,pJ=t=>uJ.test(t)&&!dJ.test(t),V3=()=>!1,gJ=t=>fJ.test(t),yJ=t=>hJ.test(t),vJ=t=>!je(t)&&!Me(t),bJ=t=>Wd(t,F3,V3),je=t=>D3.test(t),Wl=t=>Wd(t,q3,pJ),z1=t=>Wd(t,SJ,tt),qO=t=>Wd(t,B3,V3),xJ=t=>Wd(t,U3,yJ),Bg=t=>Wd(t,$3,gJ),Me=t=>L3.test(t),hh=t=>Xd(t,q3),wJ=t=>Xd(t,TJ),$O=t=>Xd(t,B3),_J=t=>Xd(t,F3),EJ=t=>Xd(t,U3),Ug=t=>Xd(t,$3,!0),Wd=(t,e,n)=>{const r=D3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Xd=(t,e,n=!1)=>{const r=L3.exec(t);return r?r[1]?e(r[1]):n:!1},B3=t=>t==="position"||t==="percentage",U3=t=>t==="image"||t==="url",F3=t=>t==="length"||t==="size"||t==="bg-size",q3=t=>t==="length",SJ=t=>t==="number",TJ=t=>t==="family-name",$3=t=>t==="shadow",AJ=()=>{const t=On("color"),e=On("font"),n=On("text"),r=On("font-weight"),i=On("tracking"),s=On("leading"),l=On("breakpoint"),c=On("container"),d=On("spacing"),f=On("radius"),p=On("shadow"),m=On("inset-shadow"),b=On("text-shadow"),x=On("drop-shadow"),_=On("blur"),S=On("perspective"),E=On("aspect"),k=On("ease"),j=On("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...V(),Me,je],F=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[Me,je,d],M=()=>[Bu,"full","auto",...C()],L=()=>[$o,"none","subgrid",Me,je],z=()=>["auto",{span:["full",$o,Me,je]},$o,Me,je],q=()=>[$o,"auto",Me,je],U=()=>["auto","min","max","fr",Me,je],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...C()],ne=()=>[Bu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Me,je],pe=()=>[...V(),$O,qO,{position:[Me,je]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",_J,bJ,{size:[Me,je]}],ie=()=>[M1,hh,Wl],re=()=>["","none","full",f,Me,je],ce=()=>["",tt,hh,Wl],be=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[tt,M1,$O,qO],Ve=()=>["","none",_,Me,je],G=()=>["none",tt,Me,je],ye=()=>["none",tt,Me,je],Ne=()=>[tt,Me,je],de=()=>[Bu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[As],breakpoint:[As],color:[mJ],container:[As],"drop-shadow":[As],ease:["in","out","in-out"],font:[vJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[As],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[As],shadow:[As],spacing:["px",tt],text:[As],"text-shadow":[As],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bu,je,Me,E]}],container:["container"],columns:[{columns:[tt,je,Me,c]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[$o,"auto",Me,je]}],basis:[{basis:[Bu,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,Bu,"auto","initial","none",je]}],grow:[{grow:["",tt,Me,je]}],shrink:[{shrink:["",tt,Me,je]}],order:[{order:[$o,"first","last","none",Me,je]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[c,"screen",...ne()]}],"min-w":[{"min-w":[c,"screen","none",...ne()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,hh,Wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Me,z1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M1,je]}],"font-family":[{font:[wJ,je,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Me,je]}],"line-clamp":[{"line-clamp":[tt,"none",Me,z1]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",Me,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Me,Wl]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[tt,"auto",Me,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$o,Me,je],radial:["",Me,je],conic:[$o,Me,je]},EJ,xJ]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Me,je]}],"outline-w":[{outline:["",tt,hh,Wl]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,Ug,Bg]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,Ug,Bg]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[tt,Wl]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",b,Ug,Bg]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[tt,Me,je]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Me,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,je]}],filter:[{filter:["","none",Me,je]}],blur:[{blur:Ve()}],brightness:[{brightness:[tt,Me,je]}],contrast:[{contrast:[tt,Me,je]}],"drop-shadow":[{"drop-shadow":["","none",x,Ug,Bg]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",tt,Me,je]}],"hue-rotate":[{"hue-rotate":[tt,Me,je]}],invert:[{invert:["",tt,Me,je]}],saturate:[{saturate:[tt,Me,je]}],sepia:[{sepia:["",tt,Me,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,je]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Me,je]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Me,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Me,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Me,je]}],"backdrop-invert":[{"backdrop-invert":["",tt,Me,je]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Me,je]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Me,je]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Me,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Me,je]}],ease:[{ease:["linear","initial",k,Me,je]}],delay:[{delay:[tt,Me,je]}],animate:[{animate:["none",j,Me,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Me,je]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Me,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,je]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[tt,hh,Wl,z1]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kJ=sJ(AJ),CJ=()=>{const{user:t}=zm(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?g.jsxs("div",{className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20",children:[g.jsx(yT,{size:14,className:"animate-spin"}),g.jsx("span",{children:"Sincronizando..."})]}):g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20",title:"Todos los datos estn seguros en la nube.",children:[g.jsx(ZX,{size:14}),g.jsx("span",{children:"Nube Activa"})]}):g.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20",title:"Sin conexin. Los cambios se guardarn en tu dispositivo y se enviarn al volver.",children:[g.jsx(XX,{size:14}),g.jsx("span",{children:"Modo Local"})]}):null},bT=({className:t="",size:e=32,color:n})=>g.jsxs("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[g.jsx("path",{d:"M16 2L4 8L16 28L28 8L16 2Z",className:"fill-current opacity-20"}),g.jsx("path",{d:"M16 8L8 12L16 24L24 12L16 8Z",fill:n||"currentColor",className:n?"":"text-primary"}),g.jsx("circle",{cx:"16",cy:"16",r:"2",className:"fill-white"})]}),xT=({className:t=""})=>g.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[g.jsx(bT,{size:28}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-mono font-bold text-lg tracking-wider leading-none text-zinc-900 dark:text-zinc-100",children:"VAULTLY"}),g.jsx("span",{className:"text-[9px] font-medium tracking-widest text-zinc-400 uppercase",children:"Finance"})]})]}),IJ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=aD(),s=[{to:"/",icon:IQ,label:"Dashboard"},{to:"/expenses",icon:Lm,label:"Gastos"},{to:"/income",icon:JQ,label:"Ingresos"},{to:"/goals",icon:yc,label:"Metas"},{to:"/funds",icon:Dm,label:"Fondos"},{to:"/credits",icon:am,label:"Crditos"},{to:"/projects",icon:nE,label:"Proyectos"},{to:"/projections",icon:gT,label:"Proyecciones"}];return g.jsx(g.Fragment,{children:g.jsxs("aside",{className:xe("fixed md:static inset-y-0 left-0 z-[60] w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[g.jsxs("div",{className:"p-5 flex-shrink-0 flex items-center justify-between",children:[g.jsx(xT,{}),g.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:g.jsx(ry,{size:20})})]}),g.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2 overflow-y-auto no-scrollbar",children:s.map(l=>g.jsxs(nD,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>kJ(xe("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[g.jsx(l.icon,{size:22,className:xe("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-primary":"group-hover:text-primary")}),g.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),g.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>{n(),e()},className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-primary transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[g.jsx(N3,{size:22,className:"md:w-[18px] md:h-[18px]"}),g.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-primary transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[g.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?g.jsx(LQ,{size:18}):g.jsx(SZ,{size:18})]}),g.jsx("div",{className:"flex justify-center pt-1",children:g.jsx(CJ,{})})]})]})})},H3=T.createContext(void 0),NJ=({children:t})=>{const{data:e,updateData:n,isLoading:r}=yi(),i=e.settings||{currency:"$",hasSeenOnboarding:!1,theme:"classic"},s=i.currency||"$",l=i.hasSeenOnboarding||!1,c=f=>{n({settings:{...i,currency:f}})},d=f=>{n({settings:{...i,hasSeenOnboarding:f}}),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(f))};return g.jsx(H3.Provider,{value:{currency:s,setCurrency:c,hasSeenOnboarding:l,setHasSeenOnboarding:d,loading:r},children:t})},wr=()=>{const t=T.useContext(H3);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},kd=t=>{const{data:e,updateData:n}=yi(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function OJ(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let D1;const PJ=new Uint8Array(16);function RJ(){if(!D1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D1=crypto.getRandomValues.bind(crypto)}return D1(PJ)}const jJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HO={randomUUID:jJ};function MJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??RJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,OJ(r)}function zJ(t,e,n){return HO.randomUUID&&!t?HO.randomUUID():MJ(t)}const Nr=t=>{const{data:e,updateData:n}=yi(),r=e.transactions||[],i=m=>{const b={id:zJ(),...m};n({transactions:[...r,b]})},s=m=>{const b=r.filter(x=>x.id!==m);n({transactions:b})},l=(m,b)=>{const x=r.map(_=>_.id===m?{..._,...b}:_);n({transactions:x})},c=(m,b)=>{const x=r.map(_=>_.category===m?{..._,category:b}:_);n({transactions:x})},d=t?r.filter(m=>m.type===t):r,f=d.reduce((m,b)=>m+b.amount,0);return{transactions:d,addTransaction:i,updateTransaction:l,deleteTransaction:s,total:f,getByCategory:()=>{const m=d.reduce((b,x)=>{const _=x.category||"Sin Categora";return b[_]=(b[_]||0)+x.amount,b},{});return Object.entries(m).map(([b,x])=>({name:b,value:x}))},allTransactions:r,updateCategory:c}},Vm=()=>{const{data:t,updateData:e}=yi(),n=t.scheduledTransactions||[],{addTransaction:r}=Nr();return{scheduled:n,addScheduled:d=>{const f={id:crypto.randomUUID(),...d,active:!0,createdAt:new Date().toISOString()};e({scheduledTransactions:[...n,f]}),Mt.success("Transaccin programada creada")},deleteScheduled:d=>{const f=n.filter(p=>p.id!==d);e({scheduledTransactions:f})},toggleActive:(d,f)=>{const p=n.map(m=>m.id===d?{...m,active:!f}:m);e({scheduledTransactions:p}),Mt.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();let p=0;const m=n.map(b=>{if(!b.active)return b;const x=b.lastProcessedDate?new Date(b.lastProcessedDate):null,_=x&&x.getMonth()===d.getMonth()&&x.getFullYear()===d.getFullYear();return f>=b.dayOfMonth&&!_?(r({type:b.type,amount:b.amount,category:b.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${b.description}`}),p++,{...b,lastProcessedDate:d.toISOString().split("T")[0]}):b});p>0&&(e({scheduledTransactions:m}),Mt.info(`${p} transacciones recurrentes procesadas`))}}},G3=()=>{const{data:t,updateData:e}=yi(),n=t.presets||[];return{presets:n,addPreset:s=>{if(n.length>=10){Mt.error("Lmite de 10 atajos alcanzado");return}const l={id:crypto.randomUUID(),...s};e({presets:[...n,l]}),Mt.success("Atajo creado")},deletePreset:s=>{const l=n.filter(c=>c.id!==s);e({presets:l})}}},Ja=({isOpen:t,onClose:e,title:n,children:r,maxWidth:i="max-w-md",noPadding:s=!1,className:l=""})=>(T.useEffect(()=>{const c=d=>{d.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?g.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),g.jsxs("div",{className:`relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full ${i} ${l} border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col overflow-hidden`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),g.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:g.jsx(ry,{size:20})})]}),g.jsx("div",{className:s?"flex-1 min-h-0 flex flex-col overflow-hidden":"p-6 overflow-y-auto no-scrollbar",children:r})]})]}):null),DJ="modulepreload",LJ=function(t){return"/Vaultly/"+t},GO={},VJ=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(p=>{if(p=LJ(p),p in GO)return;GO[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":DJ,m||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),m)return new Promise((_,S)=>{x.addEventListener("load",_),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};function BJ(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t;let c,d;const f=async(m=!0)=>{await d};async function p(){if("serviceWorker"in navigator){if(c=await VJ(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/Vaultly/sw.js",{scope:"/Vaultly/",type:"classic"})).catch(m=>{l?.(m)}),!c)return;c.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),c.addEventListener("installed",m=>{m.isUpdate||r?.()}),c.register({immediate:e}).then(m=>{s?s("/Vaultly/sw.js",m):i?.(m)}).catch(m=>{l?.(m)})}}return d=p(),f}function UJ(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:l}=t,[c,d]=T.useState(!1),[f,p]=T.useState(!1),[m]=T.useState(()=>BJ({immediate:e,onOfflineReady(){p(!0),r?.()},onNeedRefresh(){d(!0),n?.()},onRegistered:i,onRegisteredSW:s,onRegisterError:l}));return{needRefresh:[c,d],offlineReady:[f,p],updateServiceWorker:m}}const FJ=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r}=wr(),{themeStyle:i,setThemeStyle:s}=aD(),{logout:l,user:c}=zm(),{data:d}=yi(),{categories:f,addCategory:p,removeCategory:m}=kd("income"),{categories:b,addCategory:x,removeCategory:_}=kd("expense"),{updateCategory:S}=Nr(),{scheduled:E,toggleActive:k,deleteScheduled:j}=Vm(),{presets:O,addPreset:V,deletePreset:R}=G3(),[F,P]=T.useState("general"),[C,M]=T.useState("expense"),[L,z]=T.useState(""),[q,U]=T.useState(""),[ve,Ce]=T.useState(""),[Y,ne]=T.useState(""),[W,pe]=T.useState("expense"),ke=[{id:"classic",name:"Soft Stone",color:"bg-[#a8a29e]"},{id:"clay",name:"Soft Clay",color:"bg-[#fb923c]"},{id:"sand",name:"Soft Sand",color:"bg-[#d6b885]"},{id:"coffee",name:"Soft Coffee",color:"bg-[#b97f6a]"},{id:"sage",name:"Soft Sage",color:"bg-[#64ad84]"},{id:"nordic",name:"Soft Nordic",color:"bg-[#0ea5e9]"},{id:"mist",name:"Soft Mist",color:"bg-[#94a3b8]"},{id:"royal",name:"Soft Royal",color:"bg-[#a78bfa]"},{id:"bloom",name:"Soft Bloom",color:"bg-[#fb7185]"}],$=["$","","","","COP","MXN","ARS","S/"],[ie,re]=T.useState(!1),[ce,be]=T.useState(["","","",""]),[Se,Te]=T.useState(!1),[Ve,G]=T.useState(!1),[ye,Ne]=T.useState(""),{resetData:de,updateData:bt}=yi(),Ke=T.useRef(null),Dt=(fe,ft)=>{if(ft.length>1&&(ft=ft[ft.length-1]),!/^\d*$/.test(ft))return;const Bn=[...ce];Bn[fe]=ft,be(Bn),ft&&fe<3&&document.getElementById(`nuclear-digit-${fe+1}`)?.focus()},gt=async()=>{if(ce.join("").length!==4){Mt.error("CDIGO DE LANZAMIENTO INCOMPLETO");return}Te(!0),await new Promise(fe=>setTimeout(fe,2e3)),await de(),Te(!1),re(!1),be(["","","",""]),e()};UJ({onRegistered(fe){console.log("SW Registered: "+fe)},onRegisterError(fe){console.log("SW registration error",fe)}});const Bt=async()=>{G(!0),Ne("LIMPIANDO CACH...");try{if("serviceWorker"in navigator){const fe=await navigator.serviceWorker.getRegistrations();for(const ft of fe)await ft.unregister()}if("caches"in window){const fe=await caches.keys();await Promise.all(fe.map(ft=>caches.delete(ft)))}Ne("DESCARGANDO NUEVA VERSIN..."),await new Promise(fe=>setTimeout(fe,1e3)),Ne("REINICIANDO..."),window.location.reload()}catch(fe){console.error("Update failed",fe),window.location.reload()}},Vn=()=>{const fe=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(d))}`,ft=document.createElement("a");ft.href=fe,ft.download=`vault_backup_${new Date().toISOString().split("T")[0]}.json`,ft.click(),Mt.success("Copia de seguridad descargada")},lt=()=>{Ke.current?.click()},qt=fe=>{const ft=fe.target.files?.[0];if(!ft)return;const Bn=new FileReader;Bn.onload=ba=>{try{const _r=ba.target?.result,Gi=JSON.parse(_r);if(!Gi||typeof Gi!="object")throw new Error("Formato invlido");bt(Gi),Mt.success("Datos restaurados correctamente"),e()}catch(_r){console.error("Import error:",_r),Mt.error("Error al importar el archivo. Formato invlido.")}},Bn.readAsText(ft),fe.target.value=""},Fe=()=>{L.trim()&&(C==="income"?p(L):x(L),z(""))},et=fe=>{confirm(`Eliminar categora "${fe}"? Las transacciones pasarn a "Desconocido".`)&&(C==="income"?m(fe):_(fe),S(fe,"Desconocido"))},Cn=[{id:"general",label:"General",icon:OQ},{id:"appearance",label:"Apariencia",icon:BQ},{id:"categories",label:"Categoras",icon:rE},{id:"scheduled",label:"Programados",icon:tE},{id:"presets",label:"Atajos",icon:aE},{id:"data",label:"Datos",icon:LO},{id:"changelog",label:"Novedades",icon:VO}];return g.jsxs(Ja,{isOpen:t,onClose:e,title:"Configuracin",maxWidth:"max-w-5xl",className:"h-[80vh] md:h-[650px]",noPadding:!0,children:[g.jsxs("div",{className:"flex h-full w-full overflow-hidden",children:[g.jsxs("div",{className:"w-16 md:w-64 flex-shrink-0 bg-zinc-50 dark:bg-zinc-900/50 border-r border-zinc-200 dark:border-zinc-800 flex flex-col p-2 md:p-3 space-y-1 overflow-y-auto no-scrollbar",children:[Cn.map(fe=>g.jsxs("button",{onClick:()=>P(fe.id),className:`flex items-center justify-center md:justify-start gap-3 px-3 py-3 md:py-2.5 rounded-xl text-left transition-all group ${F===fe.id?"bg-primary/10 text-primary font-bold shadow-sm":"text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-800 dark:hover:text-zinc-200 font-medium"}`,title:fe.label,children:[g.jsx(fe.icon,{size:20,className:F===fe.id?"animate-pulse":""}),g.jsx("span",{className:"hidden md:block text-sm",children:fe.label})]},fe.id)),g.jsx("div",{className:"flex-1"}),g.jsx("div",{className:"hidden md:block px-4 py-2 text-xs text-zinc-400 font-mono text-center",children:"v1.2 Colortly"})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20 bg-white dark:bg-zinc-950",children:[g.jsx("div",{className:"md:hidden mb-4 pb-2 border-b border-zinc-100 dark:border-zinc-800",children:g.jsx("h2",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:Cn.find(fe=>fe.id===F)?.label})}),F==="general"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[g.jsx(zZ,{size:14})," Cuenta y Sesin"]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-5 border border-zinc-100 dark:border-zinc-800",children:[c&&g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("img",{src:c.photoURL||`https://ui-avatars.com/api/?name=${c.displayName}`,alt:"User",className:"w-14 h-14 rounded-full bg-zinc-200 dark:bg-zinc-800 object-cover ring-4 ring-white dark:ring-zinc-950"}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("p",{className:"text-lg font-bold text-zinc-900 dark:text-white truncate",children:c.displayName}),g.jsx("p",{className:"text-sm text-zinc-500 truncate",children:c.email})]})]}),g.jsxs("button",{onClick:()=>{l(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:border-rose-200 transition-all font-bold text-sm shadow-sm",children:[g.jsx(jQ,{size:16}),"Cerrar Sesin Actual"]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4",children:"Configuracin Regional"}),g.jsxs("div",{className:"p-5 bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Moneda Principal"}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:$.map(fe=>g.jsx("button",{onClick:()=>r(fe),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===fe?"bg-primary text-primary-foreground shadow-lg shadow-primary/20 scale-110":"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:fe},fe))})]})]})]}),F==="appearance"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10 p-4 rounded-xl border border-indigo-500/20 mb-6",children:g.jsxs("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 flex gap-2",children:[g.jsx(VO,{size:18,className:"shrink-0"}),g.jsxs("span",{children:["La interfaz ",g.jsx("strong",{children:"Colortly"})," adapta todos los acentos visuales al tema seleccionado."]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Selecciona tu Tema"}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:ke.map(fe=>g.jsxs("button",{onClick:()=>s(fe.id),className:`p-4 rounded-2xl border-2 flex flex-col items-center gap-3 transition-all relative overflow-hidden group ${i===fe.id?"border-primary bg-primary/5 shadow-md":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[g.jsx("div",{className:`w-12 h-12 rounded-full ${fe.color} shadow-sm group-hover:scale-110 transition-transform duration-300`}),g.jsx("span",{className:`text-sm font-bold ${i===fe.id?"text-primary":"text-zinc-600 dark:text-zinc-400"}`,children:fe.name}),i===fe.id&&g.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-primary animate-pulse"})]},fe.id))})]})]}),F==="categories"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-xl mb-4",children:[g.jsx("button",{onClick:()=>M("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${C==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),g.jsx("button",{onClick:()=>M("income"),className:`flex-1 py-1.5 text-sm font-bold rounded-lg transition-all ${C==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:`Nueva categora de ${C==="income"?"ingreso":"gasto"}...`,value:L,onChange:fe=>z(fe.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",onKeyDown:fe=>fe.key==="Enter"&&Fe()}),g.jsx("button",{onClick:Fe,className:"p-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl transition-colors shadow-lg shadow-primary/20",children:g.jsx(Za,{size:20})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(C==="income"?f:b).map(fe=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700 group transition-all",children:[g.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:fe}),g.jsx("button",{onClick:()=>et(fe),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",title:"Eliminar",children:g.jsx(fa,{size:16})})]},fe))})]}),F==="scheduled"&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-xl border border-zinc-100 dark:border-zinc-800 mb-6",children:g.jsx("p",{className:"text-sm text-zinc-500",children:"Las transacciones programadas se generan automticamente el da seleccionado de cada mes."})}),E.length===0?g.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-full mb-3",children:g.jsx(tE,{className:"text-zinc-300 dark:text-zinc-600",size:32})}),g.jsx("p",{className:"text-zinc-500 font-medium",children:"No hay reglas programadas"}),g.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Crea una al aadir una nueva transaccin."})]}):g.jsx("div",{className:"space-y-3",children:E.map(fe=>g.jsxs("div",{className:`p-4 rounded-xl border transition-all hover:shadow-md ${fe.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-50 dark:bg-zinc-900/20 border-zinc-100 dark:border-zinc-800 opacity-60 grayscale"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${fe.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:fe.type==="income"?"Ingreso":"Gasto"}),g.jsxs("span",{className:"text-[10px] text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md flex items-center gap-1",children:[g.jsx(xQ,{size:10})," Da ",fe.dayOfMonth]})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:fe.description||"Sin descripcin"}),g.jsxs("p",{className:"text-sm text-zinc-500",children:[fe.category,"  ",n,fe.amount.toFixed(2)]})]}),g.jsx("button",{onClick:()=>j(fe.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:g.jsx(fa,{size:18})})]}),g.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("span",{className:"text-xs text-zinc-400",children:["ltima: ",fe.lastProcessedDate||"Nunca"]}),g.jsx("button",{onClick:()=>k(fe.id,fe.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${fe.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-primary/20 text-primary hover:bg-primary/30"}`,children:fe.active?g.jsxs(g.Fragment,{children:[" ",g.jsx($X,{size:14})," Pausar "]}):g.jsxs(g.Fragment,{children:[" ",g.jsx(GX,{size:14})," Activar "]})})]})]},fe.id))})]}),F==="presets"&&g.jsxs("div",{className:"space-y-6 pb-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-primary/5 p-5 rounded-2xl border border-primary/10",children:[g.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2 text-primary uppercase tracking-wider",children:[g.jsx(Za,{size:16})," Crear Atajo Rpido"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf Diario)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:q,onChange:fe=>U(fe.target.value)}),g.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:ve,onChange:fe=>Ce(fe.target.value)})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:W,onChange:fe=>{pe(fe.target.value),ne("")},children:[g.jsx("option",{value:"expense",children:"Gasto"}),g.jsx("option",{value:"income",children:"Ingreso"})]}),g.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",value:Y,onChange:fe=>ne(fe.target.value),children:[g.jsx("option",{value:"",children:"Categora..."}),(W==="expense"?b:f).map(fe=>g.jsx("option",{value:fe,children:fe},fe))]})]}),g.jsx("button",{disabled:!q||!Y,onClick:()=>{V({label:q,amount:ve?Number(ve):void 0,category:Y,type:W}),U(""),Ce("")},className:"w-full bg-primary text-primary-foreground py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-2 shadow-sm",children:"Guardar Botn"})]})]}),g.jsx("h4",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-6 mb-2",children:"Mis Atajos"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[O.map(fe=>g.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden transition-all hover:border-zinc-300 dark:hover:border-zinc-700",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm truncate",children:fe.label}),g.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[fe.amount?`${n}${fe.amount}`:"Var","  ",g.jsx("span",{className:"text-zinc-400",children:fe.category})]})]}),g.jsx("button",{className:"p-2 text-zinc-300 hover:text-rose-500 transition-colors",onClick:()=>R(fe.id),children:g.jsx(fa,{size:16})})]},fe.id)),O.length===0&&g.jsxs("div",{className:"col-span-full text-center py-6 text-zinc-400 text-sm border-2 border-dashed border-zinc-100 dark:border-zinc-800 rounded-xl",children:[g.jsx(aE,{className:"mx-auto mb-2 opacity-50"}),"No hay atajos configurados an."]})]})]}),F==="data"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-xl border border-amber-200 dark:border-amber-900/30",children:[g.jsxs("h4",{className:"text-amber-800 dark:text-amber-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx(LO,{size:18})," Zona de Peligro Nuclear"]}),g.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500/80 mb-4 leading-relaxed",children:"Aqu puedes gestionar tus datos brutos. Descarga una copia de seguridad peridicamente para evitar prdidas de informacin."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:Vn,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:g.jsx(sQ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Exportar Copia de Seguridad"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Descargar archivo .json"})]})]})}),g.jsx("input",{type:"file",ref:Ke,onChange:qt,accept:".json",className:"hidden"}),g.jsx("button",{onClick:lt,className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/5 transition-all group",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:g.jsx(jZ,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Restaurar Copia"}),g.jsx("p",{className:"text-xs text-zinc-500",children:"Sobrescribir datos actuales"})]})]})}),g.jsx("div",{className:"h-4"}),g.jsx("button",{onClick:Bt,disabled:Ve,className:"w-full flex items-center justify-between p-4 bg-zinc-100 dark:bg-zinc-800 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`${Ve?"animate-spin":""}`,children:g.jsx(yT,{size:18})}),g.jsx("span",{className:"font-bold text-sm",children:Ve?ye:"Buscar Actualizaciones"})]})}),g.jsxs("button",{onClick:()=>re(!0),className:"w-full flex items-center justify-center gap-2 p-4 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl hover:bg-rose-100 dark:hover:bg-rose-900/30 transition-all font-bold text-sm tracking-wide border border-rose-200 dark:border-rose-900/50",children:[g.jsx(MO,{size:18}),"ELIMINAR TODOS LOS DATOS"]})]})]}),F==="changelog"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"text-center pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx("div",{className:"p-4 rounded-3xl bg-primary/5 border border-primary/10 shadow-[0_0_30px_-10px] shadow-primary/20 rotate-3 transition-transform hover:rotate-6",children:g.jsx(bT,{size:56})})}),g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white mb-2",children:"Novedades de Vaultly"}),g.jsx("p",{className:"text-zinc-500 text-sm",children:"Historial de actualizaciones y mejoras."})]}),g.jsxs("div",{className:"relative pl-8 border-l-2 border-zinc-100 dark:border-zinc-800 space-y-10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-primary border-4 border-white dark:border-zinc-950 shadow-sm"}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-widest",children:"Versin Actual"}),g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.2 - Colortly Update"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Enero 2026"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsxs("li",{children:["Nuevo sistema de diseo ",g.jsx("strong",{children:"Colortly"})," con paletas suaves."]}),g.jsx("li",{children:"Temas visuales dinmicos (Soft Royal, Soft Sage, etc)."}),g.jsx("li",{children:"Rediseo completo del panel de Configuracin."}),g.jsx("li",{children:"Mejoras en la barra lateral y navegacin."})]})]}),g.jsxs("div",{className:"relative opacity-70 hover:opacity-100 transition-opacity",children:[g.jsx("div",{className:"absolute -left-[39px] top-1 w-5 h-5 rounded-full bg-zinc-300 dark:bg-zinc-700 border-4 border-white dark:border-zinc-950"}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.5 - Offline Unleashed"}),g.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full font-bold",children:"Major"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Modo Offline Real:"})," Usa la app sin internet. Los datos se sincronizan al volver la conexin."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Carga Instantnea:"})," Optimizada con carga local prioritaria."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Nuevo Icono PWA:"})," Identidad visual unificada."]})]}),g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.2 - Experience Update"}),g.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full font-bold",children:"Minor"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4 mb-6",children:[g.jsx("li",{children:"Mejoras de rendimiento y estabilidad."}),g.jsx("li",{children:"Optimizacin de la interfaz de usuario en dispositivos mviles."}),g.jsx("li",{children:"Correccin de errores menores."})]}),g.jsxs("div",{className:"flex flex-col mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"v1.0 - Rebirth"}),g.jsx("span",{className:"text-xs text-zinc-400",children:"Diciembre 2025"})]}),g.jsxs("ul",{className:"space-y-2 text-sm text-zinc-600 dark:text-zinc-400 list-disc pl-4",children:[g.jsx("li",{children:"Lanzamiento de mdulos: Metas, Fondos, Crditos."}),g.jsx("li",{children:"Simulador de Proyecciones financieras."}),g.jsx("li",{children:"Persistencia de datos en la nube (Firestore)."}),g.jsx("li",{children:"Autenticacin con Google."})]})]})]})]})]})]}),ie&&g.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-6 animate-in fade-in duration-200 backdrop-blur-sm rounded-3xl",children:g.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[g.jsx("div",{className:"animate-[bounce_1s_infinite]",children:g.jsx(pZ,{size:64,className:"text-rose-500 mx-auto"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-black text-rose-500 font-mono tracking-widest mb-2",children:"PELIGRO!"}),g.jsxs("p",{className:"text-zinc-400 text-sm font-mono leading-relaxed",children:["ESTA ACCIN ES IRREVERSIBLE.",g.jsx("br",{}),"SE ELIMINARN TODAS LAS TRANSACCIONES Y CONFIGURACIONES.",g.jsx("br",{}),"INTRODUZCA CDIGO DE LANZAMIENTO PARA CONFIRMAR."]})]}),g.jsx("div",{className:"flex justify-center gap-3 my-6",children:ce.map((fe,ft)=>g.jsx("input",{id:`nuclear-digit-${ft}`,type:"text",maxLength:1,value:fe,onChange:Bn=>Dt(ft,Bn.target.value),className:"w-12 h-16 bg-zinc-900 border-2 border-rose-500/50 focus:border-rose-500 text-rose-500 text-3xl font-mono text-center rounded-lg shadow-[0_0_15px_rgba(244,63,94,0.3)] focus:shadow-[0_0_25px_rgba(244,63,94,0.6)] outline-none transition-all"},ft))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{onClick:()=>{re(!1),be(["","","",""])},className:"py-3 px-4 bg-zinc-800 text-zinc-300 font-mono font-bold rounded-lg hover:bg-zinc-700 transition-colors",children:"ABORTAR"}),g.jsx("button",{onClick:gt,disabled:Se,className:"py-3 px-4 bg-rose-600 text-white font-mono font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-rose-600/50",children:Se?g.jsxs(g.Fragment,{children:[g.jsx(QQ,{className:"animate-spin",size:18})," DETONANDO"]}):g.jsxs(g.Fragment,{children:[g.jsx(MO,{size:18})," DETONAR"]})})]})]})})]})},qJ=()=>{const t=Qs(),[e,n]=T.useState(!1),[r,i]=T.useState(!1),[s,l]=T.useState("expense"),[c,d]=T.useState(""),[f,p]=T.useState(""),[m,b]=T.useState(""),{addTransaction:x}=Nr(),{categories:_}=kd("expense"),{categories:S}=kd("income"),{currency:E}=wr(),{presets:k}=G3();if(T.useEffect(()=>{e&&(p(""),d(""),b(""),l("expense"))},[e]),t.pathname!=="/")return null;const j=()=>{i(!0),setTimeout(()=>{n(!1),i(!1)},300)},O=()=>{const R=Number(c);!R||R<=0||(x({amount:R,type:s,category:f||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(s==="expense"?"Gasto Rpido":"Ingreso Rpido")}),j())};if(!e&&!r)return g.jsx("button",{onClick:()=>n(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:g.jsx(Za,{size:32,strokeWidth:2.5})});const V=s==="expense"?_:S;return g.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[g.jsx("div",{className:xe("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",r?"opacity-0":"opacity-100"),onClick:j}),g.jsxs("div",{className:xe("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",r?"translate-y-full":"translate-y-0"),children:[g.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:j,children:g.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),g.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[g.jsx("button",{onClick:j,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:g.jsx(MX,{size:28})}),g.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[k.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:k.map(R=>g.jsxs("button",{onClick:()=>{R.amount&&(x({amount:R.amount,type:R.type,category:R.category,date:new Date().toLocaleDateString("en-CA"),description:R.label}),j())},className:xe("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95 active:bg-emerald-50 dark:active:bg-emerald-900/20 active:border-emerald-500",f===R.category&&s===R.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[g.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${R.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:R.type==="expense"?g.jsx(ny,{size:16}):g.jsx(Ad,{size:16})}),g.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:R.label}),R.amount&&g.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[E,R.amount]})]},R.id))})]}),g.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[g.jsxs("button",{onClick:()=>l("expense"),className:xe("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[g.jsx(ny,{size:20,strokeWidth:2.5})," Gasto"]}),g.jsxs("button",{onClick:()=>l("income"),className:xe("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",s==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",g.jsx(Ad,{size:20,strokeWidth:2.5})]})]}),g.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[g.jsx("span",{className:xe("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",c?"opacity-100":"opacity-30"),children:E}),g.jsx("input",{type:"number",inputMode:"decimal",value:c,onChange:R=>d(R.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),g.jsxs("div",{className:"mb-6 space-y-3",children:[g.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),g.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[V.map(R=>g.jsx("button",{onClick:()=>p(R),className:xe("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",f===R?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:R},R)),g.jsx("button",{onClick:()=>p("Otros"),className:xe("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",f==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),g.jsx("div",{className:"mb-8",children:g.jsx("input",{type:"text",value:m,onChange:R=>b(R.target.value),placeholder:s==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),g.jsxs("button",{onClick:O,disabled:!c,className:xe("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",c?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[g.jsx(A3,{size:28,strokeWidth:3}),c?"Confirmar":"Ingresa un monto"]})]})]})]})},K3=T.createContext(void 0),$J=({children:t})=>{const{data:e,updateData:n}=yi(),r=e.projects||[],i=m=>{const b={id:crypto.randomUUID(),...m,status:"planning",startDate:(()=>{const x=new Date;return`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`})(),transactions:[],targetBudget:m.targetBudget||0};n({projects:[b,...r]})},s=(m,b)=>{const x=r.map(_=>_.id===m?{..._,...b}:_);n({projects:x})},l=m=>{const b=r.filter(x=>x.id!==m);n({projects:b})},c=(m,b)=>{const x=r.find(E=>E.id===m);if(!x)return;const _={id:crypto.randomUUID(),projectId:m,...b},S={...x,transactions:[_,...x.transactions||[]]};s(m,S)},d=(m,b,x)=>{const _=r.find(E=>E.id===m);if(!_)return;const S={..._,transactions:(_.transactions||[]).map(E=>E.id===b?{...E,...x}:E)};s(m,S)},f=(m,b)=>{const x=r.find(S=>S.id===m);if(!x)return;const _={...x,transactions:(x.transactions||[]).filter(S=>S.id!==b)};s(m,_)},p=m=>{const b=m.transactions||[],x=b.filter(O=>O.type==="income").reduce((O,V)=>O+V.amount,0),_=b.filter(O=>O.type==="expense").reduce((O,V)=>O+V.amount,0),S=x-_,E=m.targetBudget||m.budget||0,k=E>0?_/E*100:0,j=E>0?S/E*100:0;return{totalIncome:x,totalExpenses:_,currentBalance:S,percentConsumed:k,percentFunded:j}};return g.jsx(K3.Provider,{value:{projects:r,addProject:i,updateProject:s,deleteProject:l,addProjectTransaction:c,updateProjectTransaction:d,deleteProjectTransaction:f,getProjectStats:p},children:t})},wT=()=>{const t=T.useContext(K3);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},HJ=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=wr(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:g.jsx(dZ,{size:48,className:"text-zinc-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),g.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[g.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:g.jsx(Lm,{size:48,className:"text-emerald-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),g.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[g.jsxs("li",{children:["Usa el botn ",g.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),g.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),g.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:g.jsx(aE,{size:48,className:"text-yellow-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),g.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[g.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),g.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:g.jsx(kQ,{size:48,className:"text-blue-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:g.jsx(_Q,{size:48,className:"text-cyan-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",g.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),g.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),g.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),g.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:g.jsx(nZ,{size:48,className:"text-rose-500"}),content:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[g.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",g.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",g.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",g.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),g.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),g.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[g.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[g.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),g.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),g.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),g.jsx("div",{className:"min-h-[160px]",children:l[n].content}),g.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),g.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&g.jsx(k3,{size:16})]})]})]})]})})},GJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=Vm();return T.useEffect(()=>{i()},[i]),g.jsx(Mz,{children:g.jsx(NJ,{children:g.jsx($J,{children:g.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300 animate-enter-app",children:[g.jsxs("header",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[g.jsx(xT,{}),g.jsx("button",{className:"p-2 -mr-2 text-zinc-600 dark:text-zinc-400 active:bg-zinc-100 dark:active:bg-zinc-900 rounded-lg",onClick:()=>e(!0),children:g.jsx(zQ,{size:24})})]}),t&&g.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm lg:hidden animate-in fade-in duration-200",onClick:()=>e(!1)}),g.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-[60] transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:g.jsx(IJ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),g.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[g.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v1.5 - Offline Unleashed"}),g.jsx(Qz,{})]}),g.jsx(qJ,{}),g.jsx(FJ,{isOpen:n,onClose:()=>r(!1)}),g.jsx(HJ,{}),g.jsx(w3,{position:"top-center"})]})})})})},Bm=()=>{const{data:t,updateData:e}=yi(),n=t.goals||[],r=_=>{const S={id:crypto.randomUUID(),..._,currentAmount:0,history:[]};e({goals:[...n,S]})},i=(_,S)=>{const E=n.map(k=>k.id===_?{...k,...S}:k);e({goals:E})},s=_=>{const S=n.filter(E=>E.id!==_);e({goals:S})},l=(_,S,E)=>{const k=n.find(F=>F.id===_);if(!k)return;const j=new Date().toISOString().split("T")[0],O={id:crypto.randomUUID(),date:j,amount:S,type:"deposit",note:E||"Contribucin manual"},V=k.history?[...k.history,O]:[O],R={...k,currentAmount:(k.currentAmount||0)+S,lastContributionDate:j,history:V};i(_,R)},c=(_,S,E)=>{const k=n.find(F=>F.id===_);if(!k)return;const j=new Date().toISOString().split("T")[0],O={id:crypto.randomUUID(),date:j,amount:S,type:"withdrawal",note:E||"Retiro de fondos"},V=k.history?[...k.history,O]:[O],R={...k,currentAmount:Math.max(0,(k.currentAmount||0)-S),history:V};i(_,R)},d=(_,S)=>{l(_,S,"Cuota Mensual")},f=_=>{if(!_.deadline)return 0;const S=new Date,E=new Date(_.deadline),k=_.targetAmount-_.currentAmount;if(k<=0)return 0;const j=E.getFullYear()-S.getFullYear(),O=E.getMonth()-S.getMonth();let V=j*12+O;return V<1&&(V=1),k/V},p=_=>{const E=m(_,new Date),k=f(_);return E>=k-1},m=(_,S)=>{if(!_.history)return 0;const E=S.getMonth(),k=S.getFullYear();return _.history.reduce((j,O)=>{const[V,R]=O.date.split("-").map(Number);return V===k&&R-1===E?O.type==="deposit"?j+O.amount:j-O.amount:j},0)};return{goals:n,addGoal:r,updateGoal:i,deleteGoal:s,contributeToGoal:d,addContribution:l,withdraw:c,getMonthlyQuota:f,isGoalPaidThisMonth:p,getTotalSavingsAtDate:_=>n.reduce((S,E)=>{if(!E.history||E.history.length===0)return S;const k=new Date(_.getFullYear(),_.getMonth()+1,0),j=E.history.reduce((O,V)=>new Date(V.date)<=k?V.type==="deposit"?O+V.amount:O-V.amount:O,0);return S+Math.max(0,j)},0),getMonthsRemaining:_=>{if(!_.deadline)return 0;const S=new Date,E=new Date(_.deadline),k=E.getFullYear()-S.getFullYear(),j=E.getMonth()-S.getMonth();return Math.max(0,k*12+j)}}},Qd=()=>{const{data:t,updateData:e}=yi(),n=t.funds||[];return{funds:n,addFund:c=>{const d={id:crypto.randomUUID(),currentAmount:0,history:[],...c};e({funds:[...n,d]})},updateFund:(c,d)=>{const f=n.map(p=>p.id===c?{...p,...d}:p);e({funds:f})},deleteFund:c=>{const d=n.filter(f=>f.id!==c);e({funds:d})},addTransaction:(c,d,f,p)=>{const m=n.find(k=>k.id===c);if(!m)return;const b={id:crypto.randomUUID(),fundId:c,date:new Date().toISOString().split("T")[0],amount:d,type:f,note:p},x=f==="deposit"?(m.currentAmount||0)+d:(m.currentAmount||0)-d,_=m.history?[b,...m.history]:[b],S={...m,currentAmount:Math.max(0,x),history:_},E=n.map(k=>k.id===c?S:k);e({funds:E})}}},Um=()=>{const{allTransactions:t}=Nr(),{goals:e}=Bm(),{funds:n}=Qd(),{selectedDate:r}=Ld(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),p=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),m=p.filter(k=>k.type==="income").reduce((k,j)=>k+j.amount,0),b=p.filter(k=>k.type==="expense").reduce((k,j)=>k+j.amount,0),_=(e||[]).reduce((k,j)=>{if(!j.history)return k;const O=j.history.reduce((V,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?V+R.amount:V-R.amount:V,0);return k+Math.max(0,O)},0),E=(n||[]).reduce((k,j)=>{if(!j.history)return k;const O=j.history.reduce((V,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?V+R.amount:V-R.amount:V,0);return k+Math.max(0,O)},0);return m-b-(_+E)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},Ev=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=Ld(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return g.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:g.jsx(DX,{size:16})}),g.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[g.jsx(T3,{size:16,className:"text-zinc-400"}),g.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),g.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:g.jsx(k3,{size:16})}),!l&&g.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},KJ=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=Bm(),{funds:s,addTransaction:l}=Qd(),{total:c}=Nr("income"),{total:d}=Nr("expense"),{currency:f}=wr(),p=n.reduce((O,V)=>O+(V.currentAmount||0),0),m=s.reduce((O,V)=>O+V.currentAmount,0),b=c-d-(p+m),[x,_]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[S,E]=T.useState(""),k=(O,V,R,F)=>{_({active:!0,type:O,targetId:V,targetName:R,targetType:F}),E("")},j=()=>{const O=Number(S);if(!(!O||O<=0)){if(x.type==="withdraw")if(x.targetType==="goal"){const V=n.find(R=>R.id===x.targetId);if(!V||V.currentAmount<O)return Mt.error("Fondos insuficientes en la meta.");i(x.targetId,O)}else{const V=s.find(R=>R.id===x.targetId);if(!V||V.currentAmount<O)return Mt.error("Fondos insuficientes en el fondo.");l(x.targetId,O,"withdraw","Retiro desde Gestin")}else{if(b<O)return Mt.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);x.targetType==="goal"?r(x.targetId,O,"Ingreso desde Gestin"):l(x.targetId,O,"deposit","Ingreso desde Gestin")}_({...x,active:!1})}};return g.jsx(Ja,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:x.active?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[g.jsx("button",{onClick:()=>_({...x,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),g.jsxs("div",{children:[g.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[x.type==="deposit"?"Ingresar en":"Retirar de"," ",x.targetName]}),g.jsx("p",{className:"text-sm text-zinc-500",children:x.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${x.targetType==="goal"?"meta":"fondo"}: ${f}${x.targetType==="goal"?n.find(O=>O.id===x.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(O=>O.id===x.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:S,onChange:O=>E(O.target.value),onKeyDown:O=>O.key==="Enter"&&j()})]}),g.jsx("button",{onClick:j,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${x.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):g.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(yc,{size:14})," Metas de Ahorro"]}),n.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(O=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:O.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,O.currentAmount.toFixed(2)," ",g.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,O.targetAmount.toLocaleString()]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",O.id,O.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(zO,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",O.id,O.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(DO,{size:18})})]})]},O.id))]}),g.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(Dm,{size:14})," Fondos Independientes"]}),s.length===0?g.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(O=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:O.name}),g.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,O.currentAmount.toFixed(2)]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>k("withdraw",O.id,O.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:g.jsx(zO,{size:18})}),g.jsx("button",{onClick:()=>k("deposit",O.id,O.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:g.jsx(DO,{size:18})})]})]},O.id))]})]})})},_T=()=>{const{data:t,updateData:e}=yi(),n=t.credits||[];return{credits:n,addCredit:d=>{const f={id:crypto.randomUUID(),...d,payments:[]};e({credits:[...n,f]})},updateCredit:(d,f)=>{const p=n.map(m=>m.id===d?{...m,...f}:m);e({credits:p})},deleteCredit:d=>{const f=n.filter(p=>p.id!==d);e({credits:f})},addPayment:(d,f,p)=>{const m=n.find(R=>R.id===d);if(!m){Mt.error("Error: Crdito no encontrado");return}const b={id:crypto.randomUUID(),creditId:d,date:new Date().toISOString().split("T")[0],amount:Number(f),note:p||""},x=m.payments?[b,...m.payments]:[b],_=x.reduce((R,F)=>R+F.amount,0),S=m.interestRate/100/12;let E=0,k=0;if(m.interestRate===0)E=m.principal/m.term,k=m.principal;else{const R=Number(m.principal),F=Number(m.term),P=Math.pow(1+S,F)-1;P===0?E=R/F:E=R*S*Math.pow(1+S,F)/P,k=E*F}const j=_>=k-1?"paid":"active",O={...m,payments:x,status:j},V=n.map(R=>R.id===d?O:R);try{e({credits:V})}catch(R){console.error("Failed to update credit payment",R),Mt.error("Error al guardar el historial del pago")}},getCreditStatus:d=>{const p=(d.payments||[]).reduce((S,E)=>S+E.amount,0),m=d.interestRate/100/12;let b=0,x=0;d.interestRate===0?(b=d.principal/d.term,x=d.principal):(b=d.principal*m*Math.pow(1+m,d.term)/(Math.pow(1+m,d.term)-1),x=b*d.term);const _=Math.max(0,x-p);return{totalPaid:p,totalToPay:x,remainingBalance:_,quota:b,progress:p/x*100}}}},YJ=()=>{const{allTransactions:t}=Nr(),{funds:e}=Qd(),{credits:n}=_T(),{projects:r}=wT();return{ledgerEntries:T.useMemo(()=>{let s=[];const l=t.map(c=>({id:`tx-${c.id}`,originalId:c.id,date:c.date,description:c.description,amount:c.amount,type:c.type,source:"transaction",category:c.category,icon:c.category==="Food"?"utensils":"dollar"}));return s=[...s,...l],e.forEach(c=>{if(c.history){const d=c.history.map(f=>({id:`fund-${f.id}`,originalId:f.id,date:f.date,description:f.type==="deposit"?`Ingreso a Fondo: ${c.name}`:`Retiro de Fondo: ${c.name}`,amount:f.amount,type:f.type==="deposit"?"expense":"income",source:"fund",category:"Ahorro / Fondos",fundName:c.name,icon:c.icon}));s=[...s,...d]}}),n.forEach(c=>{if(c.payments){const d=c.payments.map(f=>({id:`credit-${f.id}`,originalId:f.id,date:f.date,description:`Pago Crdito: ${c.name}`,amount:f.amount,type:"expense",source:"credit",category:"Deudas / Crditos",creditName:c.name}));s=[...s,...d]}}),r.forEach(c=>{if(c.transactions){const d=c.transactions.map(f=>({id:`proj-${f.id}`,originalId:f.id,date:f.date,description:`Proyecto [${c.name}]: ${f.description}`,amount:f.amount,type:f.type,source:"project",category:f.category||"Proyecto",projectName:c.name}));s=[...s,...d]}}),s.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime())},[t,e,n,r])}},WJ=({isOpen:t,onClose:e})=>{const{ledgerEntries:n}=YJ(),{selectedDate:r}=Ld(),{currency:i}=wr(),[s,l]=T.useState(""),[c,d]=T.useState("all"),p=n.filter(E=>{if(c!=="all"&&E.source!==c)return!1;const k=s.toLowerCase();return E.description.toLowerCase().includes(k)||E.category.toLowerCase().includes(k)||E.fundName&&E.fundName.toLowerCase().includes(k)||E.creditName&&E.creditName.toLowerCase().includes(k)||E.projectName&&E.projectName.toLowerCase().includes(k)}).filter(E=>{const[k,j]=E.date.split("-").map(Number);return j===r.getMonth()+1&&k===r.getFullYear()}),m=p.filter(E=>E.type==="income").reduce((E,k)=>E+k.amount,0),b=p.filter(E=>E.type==="expense").reduce((E,k)=>E+k.amount,0),x=m-b,_=E=>{switch(E){case"fund":return g.jsx(am,{size:14,className:"text-amber-500"});case"credit":return g.jsx(nQ,{size:14,className:"text-purple-500"});case"project":return g.jsx(S3,{size:14,className:"text-blue-500"});default:return g.jsx(Lm,{size:14,className:"text-zinc-500"})}},S=E=>{switch(E){case"fund":return"Fondo";case"credit":return"Crdito";case"project":return"Proyecto";default:return"Billetera"}};return g.jsx(Ja,{isOpen:t,onClose:e,title:"Libro Contable Unificado",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(Ev,{})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["all","transaction","fund","credit","project"].map(E=>g.jsx("button",{onClick:()=>d(E),className:xe("px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border",c===E?"bg-zinc-900 border-zinc-900 text-white dark:bg-white dark:border-white dark:text-zinc-900":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-400"),children:E==="all"?"Todos":E==="transaction"?"Transacciones":E==="fund"?"Fondos":E==="credit"?"Crditos":"Proyectos"},E))}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-4 border-b border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Entradas"}),g.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold text-lg",children:["+",i,m.toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Flujo Neto"}),g.jsxs("p",{className:xe("font-mono font-bold text-lg",x>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"),children:[x>=0?"+":"",i,Math.abs(x).toFixed(2)]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"Salidas"}),g.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold text-lg",children:["-",i,b.toFixed(2)]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(lZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, categora, fondo...",className:"w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-2.5 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20",value:s,onChange:E=>l(E.target.value)})]}),g.jsx("div",{className:"space-y-2 min-h-[300px] max-h-[50vh] overflow-y-auto pr-1",children:p.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-400 opacity-60",children:[g.jsx(fQ,{size:48,className:"mb-4"}),g.jsx("p",{className:"italic text-sm",children:"No se encontraron movimientos."})]}):p.map(E=>g.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 rounded-2xl transition-all shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center shrink-0",E.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:E.type==="income"?g.jsx(eE,{size:18}):g.jsx(xX,{size:18})}),g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-zinc-100 dark:bg-zinc-800 text-[10px] font-bold text-zinc-500 uppercase tracking-wide",children:[_(E.source),S(E.source)]}),g.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:new Date(E.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]}),g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm truncate pr-2",children:E.description}),g.jsx("p",{className:"text-xs text-zinc-500 truncate",children:E.category})]})]}),g.jsxs("span",{className:xe("font-mono font-bold text-sm whitespace-nowrap",E.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[E.type==="income"?"+":"-",i,E.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},E.id))})]})})},XJ=()=>{const{selectedDate:t}=Ld(),{transactions:e}=Nr(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=Bm(),{funds:c}=Qd(),{scheduled:d}=Vm(),{currency:f}=wr(),[p,m]=T.useState(!1),[b,x]=T.useState(!1),_=e.filter(C=>{const[M,L]=C.date.split("-").map(Number);return L===t.getMonth()+1&&M===t.getFullYear()}),S=_.filter(C=>C.type==="income").reduce((C,M)=>C+M.amount,0),E=_.filter(C=>C.type==="expense").reduce((C,M)=>C+M.amount,0),k=r(t),j=c.reduce((C,M)=>C+M.currentAmount,0),O=k+j,V=C=>{const M=i(C),L=s(C);return M?g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),g.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",L.toFixed(2)]}),g.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:R}=Um(),F=[{label:"Saldo Disponible",amount:R,icon:Lm,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:O,icon:yc,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:S,icon:O3,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:E,icon:iE,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}],P=d.filter(C=>C.active).map(C=>{const M=new Date,L=M.getDate(),z=C.lastProcessedDate?new Date(C.lastProcessedDate+"T12:00:00"):null;if(z&&z.getMonth()===M.getMonth()&&z.getFullYear()===M.getFullYear())return null;const U=C.dayOfMonth-L;let ve="normal";return U<0?ve="overdue":U<=3&&(ve="urgent"),{...C,diff:U,status:ve}}).filter(C=>C!==null).sort((C,M)=>C.dayOfMonth-M.dayOfMonth);return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>x(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:g.jsx(SX,{size:20})}),g.jsx(Ev,{})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:F.map(C=>g.jsxs("div",{onClick:()=>{C.label==="Ahorro Total"&&m(!0)},className:`${C.bg} border ${C.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${C.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[C.label,C.label==="Ahorro Total"&&g.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),g.jsx(C.icon,{size:20,className:C.color})]}),g.jsxs("p",{className:`text-3xl font-mono font-bold ${C.color}`,children:[f,C.amount.toFixed(2)]})]},C.label))}),P.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 flex items-center gap-2",children:[g.jsx(YX,{size:20,className:"text-zinc-400"}),"Ingresos y Gastos Programados"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(C=>g.jsxs("div",{className:xe("p-4 rounded-2xl border flex items-center justify-between shadow-sm",C.status==="overdue"?"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/30":C.status==="urgent"?"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-900/30":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800"),children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center font-bold text-xs",C.status==="overdue"?"bg-rose-100 text-rose-600 dark:bg-rose-900/20":C.status==="urgent"?"bg-amber-100 text-amber-600 dark:bg-amber-900/20":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"),children:C.dayOfMonth}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:C.description}),g.jsx("p",{className:"text-xs text-zinc-500 capitalize",children:C.category})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:xe("font-mono font-bold text-sm",C.type==="income"?"text-emerald-500":"text-rose-500"),children:[C.type==="income"?"+":"-",f,C.amount]}),g.jsx("p",{className:xe("text-[10px] font-bold uppercase tracking-wider",C.status==="overdue"?"text-rose-500":C.status==="urgent"?"text-amber-500":"text-zinc-400"),children:C.status==="overdue"?"Vencido":C.status==="urgent"?"Pronto":"Pendiente"})]})]},C.id))})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[g.jsx(yc,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?g.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):g.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(C=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:g.jsx(yc,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:C.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:[l(C)," meses restantes"]})]})]}),V(C)]},C.id)),n.length>3&&g.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[g.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",g.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",g.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),g.jsx(KJ,{isOpen:p,onClose:()=>m(!1)}),g.jsx(WJ,{isOpen:b,onClose:()=>x(!1)})]})},Y3=({type:t,onSubmit:e,categories:n,onAddCategory:r,initialData:i})=>{const{currency:s}=wr(),{addScheduled:l}=Vm(),[c,d]=T.useState(i?.amount?.toString()||""),[f,p]=T.useState(i?.category||n[0]||""),[m,b]=T.useState(i?.description||""),[x,_]=T.useState(i?.date||new Date().toISOString().split("T")[0]);T.useEffect(()=>{i&&(d(i.amount.toString()),p(i.category),b(i.description),_(i.date))},[i]);const[S,E]=T.useState(!1),[k,j]=T.useState(new Date().getDate()),[O,V]=T.useState(!1),[R,F]=T.useState(""),P=M=>{M.preventDefault(),!(!c||!f)&&(S?l({type:t,amount:Number(c),category:f,description:m,dayOfMonth:Number(k)}):e({amount:Number(c),type:t,category:f,description:m,date:x}),d(""),b(""),E(!1))},C=()=>{R.trim()&&(r(R.trim()),p(R.trim()),F(""),V(!1))};return g.jsxs("form",{onSubmit:P,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[g.jsxs("h3",{className:xe("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[g.jsx(Za,{size:20}),i?"Editar":S?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:s}),g.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:c,onChange:M=>d(M.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),g.jsxs("div",{className:xe("p-4 rounded-xl border transition-all duration-300",S?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>E(!S),children:[g.jsx("div",{className:xe("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",S?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:g.jsx("div",{className:xe("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",S?"translate-x-5":"translate-x-0")})}),g.jsx("div",{className:"flex flex-col",children:g.jsx("span",{className:xe("text-sm font-bold transition-colors",S?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:S?"Transaccin Recurrente":"Pago nico"})})]}),S&&g.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[g.jsx("div",{className:"text-right mr-2",children:g.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),g.jsxs("div",{className:"relative",children:[g.jsx(tE,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),g.jsx("input",{type:"number",min:"1",max:"31",value:k,onChange:M=>j(Number(M.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),S&&g.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[g.jsx(iZ,{size:14,className:"mt-0.5"}),g.jsxs("p",{children:["Se agregar automticamente cada da ",g.jsx("strong",{children:k})," del mes. Te avisaremos 2 das antes."]})]})]}),!S&&g.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[g.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),g.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:x,onChange:M=>_(M.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:O?g.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[g.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:R,onChange:M=>F(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),C())}),g.jsx("button",{type:"button",onClick:C,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:g.jsx(Za,{size:20})}),g.jsx("button",{type:"button",onClick:()=>V(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):g.jsxs(g.Fragment,{children:[n.map(M=>g.jsx("button",{type:"button",onClick:()=>p(M),className:xe("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",f===M?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:M},M)),g.jsxs("button",{type:"button",onClick:()=>V(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[g.jsx(Za,{size:12})," Nueva"]})]})})]}),g.jsxs("div",{className:"relative",children:[g.jsx(kZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),g.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:M=>b(M.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),g.jsxs("button",{type:"submit",className:xe("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[g.jsx(sZ,{size:20}),i?"Guardar Cambios":S?"Programar Recurrencia":"Guardar Transaccin"]})]})},W3=({transactions:t,onDelete:e,onEdit:n})=>t.length===0?g.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):g.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),g.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(r=>g.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:r.date}),g.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[r.type==="income"?g.jsx(Ad,{size:16,className:"text-emerald-600"}):g.jsx(ny,{size:16,className:"text-rose-600"}),g.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[r.description,r.isRecurring&&g.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:r.category||"General"})}),g.jsxs("td",{className:xe("px-6 py-4 text-right font-mono font-bold text-base",r.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[r.type==="expense"?"-":"+","$",r.amount.toFixed(2)]}),g.jsxs("td",{className:"px-6 py-4 text-center",children:[n&&g.jsx("button",{onClick:()=>n(r),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100 mr-2",title:"Editar",children:g.jsx(_v,{size:18})}),g.jsx("button",{onClick:()=>e(r.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:g.jsx(fa,{size:18})})]})]},r.id))})]})})});var QJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ET(t){if(typeof t!="string")return!1;var e=QJ;return e.includes(t)}var ZJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JJ=new Set(ZJ);function X3(t){return typeof t!="string"?!1:JJ.has(t)}function Q3(t){return typeof t=="string"&&t.startsWith("data-")}function fl(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(X3(n)||Q3(n))&&(e[n]=t[n]);return e}function ST(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return fl(e)}return typeof t=="object"&&!Array.isArray(t)?fl(t):null}function Ui(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(X3(n)||Q3(n)||ET(n))&&(e[n]=t[n]);return e}var eee=["children","width","height","viewBox","className","style","title","desc"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(null,arguments)}function tee(t,e){if(t==null)return{};var n,r,i=nee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z3=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,p=tee(t,eee),m=s||{width:r,height:i,x:0,y:0},b=xe("recharts-surface",l);return T.createElement("svg",oE({},Ui(p),{className:b,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),ree=["children","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function iee(t,e){if(t==null)return{};var n,r,i=aee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qs=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=iee(t,ree),s=xe("recharts-layer",r);return T.createElement("g",lE({className:s},Ui(i),{ref:e}),n)}),see=T.createContext(null);function Ut(t){return function(){return t}}const J3=Math.cos,ay=Math.sin,ya=Math.sqrt,sy=Math.PI,Sv=2*sy,cE=Math.PI,uE=2*cE,Jl=1e-6,oee=uE-Jl;function e6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return e6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?e6:lee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,p=l-e,m=c-n,b=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Jl)if(!(Math.abs(m*d-f*p)>Jl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,_=i-c,S=d*d+f*f,E=x*x+_*_,k=Math.sqrt(S),j=Math.sqrt(b),O=s*Math.tan((cE-Math.acos((S+b-E)/(2*k*j)))/2),V=O/j,R=O/k;Math.abs(V-1)>Jl&&this._append`L${e+V*p},${n+V*m}`,this._append`A${s},${s},0,0,${+(m*x>p*_)},${this._x1=e+R*d},${this._y1=n+R*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,p=n+d,m=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Jl||Math.abs(this._y1-p)>Jl)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%uE+uE),b>oee?this._append`A${r},${r},0,1,${m},${e-c},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:b>Jl&&this._append`A${r},${r},0,${+(b>=cE)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function TT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cee(e)}function AT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t6(t){this._context=t}t6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tv(t){return new t6(t)}function n6(t){return t[0]}function r6(t){return t[1]}function i6(t,e){var n=Ut(!0),r=null,i=Tv,s=null,l=TT(c);t=typeof t=="function"?t:t===void 0?n6:Ut(t),e=typeof e=="function"?e:e===void 0?r6:Ut(e);function c(d){var f,p=(d=AT(d)).length,m,b=!1,x;for(r==null&&(s=i(x=l())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(m,f,d),+e(m,f,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ut(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function Fg(t,e,n){var r=null,i=Ut(!0),s=null,l=Tv,c=null,d=TT(f);t=typeof t=="function"?t:t===void 0?n6:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?r6:Ut(+n);function f(m){var b,x,_,S=(m=AT(m)).length,E,k=!1,j,O=new Array(S),V=new Array(S);for(s==null&&(c=l(j=d())),b=0;b<=S;++b){if(!(b<S&&i(E=m[b],b,m))===k)if(k=!k)x=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=b-1;_>=x;--_)c.point(O[_],V[_]);c.lineEnd(),c.areaEnd()}k&&(O[b]=+t(E,b,m),V[b]=+e(E,b,m),c.point(r?+r(E,b,m):O[b],n?+n(E,b,m):V[b]))}if(j)return c=null,j+""||null}function p(){return i6().defined(i).curve(l).context(s)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ut(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ut(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ut(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ut(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ut(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ut(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ut(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),f):l},f.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),f):s},f}class a6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uee(t){return new a6(t,!0)}function dee(t){return new a6(t,!1)}const kT={draw(t,e){const n=ya(e/sy);t.moveTo(n,0),t.arc(0,0,n,0,Sv)}},fee={draw(t,e){const n=ya(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},s6=ya(1/3),hee=s6*2,mee={draw(t,e){const n=ya(e/hee),r=n*s6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pee={draw(t,e){const n=ya(e),r=-n/2;t.rect(r,r,n,n)}},gee=.8908130915292852,o6=ay(sy/10)/ay(7*sy/10),yee=ay(Sv/10)*o6,vee=-J3(Sv/10)*o6,bee={draw(t,e){const n=ya(e*gee),r=yee*n,i=vee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Sv*s/5,c=J3(l),d=ay(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},L1=ya(3),xee={draw(t,e){const n=-ya(e/(L1*3));t.moveTo(0,n*2),t.lineTo(-L1*n,-n),t.lineTo(L1*n,-n),t.closePath()}},Mi=-.5,zi=ya(3)/2,dE=1/ya(12),wee=(dE/2+1)*3,_ee={draw(t,e){const n=ya(e/wee),r=n/2,i=n*dE,s=r,l=n*dE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Mi*r-zi*i,zi*r+Mi*i),t.lineTo(Mi*s-zi*l,zi*s+Mi*l),t.lineTo(Mi*c-zi*d,zi*c+Mi*d),t.lineTo(Mi*r+zi*i,Mi*i-zi*r),t.lineTo(Mi*s+zi*l,Mi*l-zi*s),t.lineTo(Mi*c+zi*d,Mi*d-zi*c),t.closePath()}};function Eee(t,e){let n=null,r=TT(i);t=typeof t=="function"?t:Ut(t||kT),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function oy(){}function ly(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function l6(t){this._context=t}l6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function See(t){return new l6(t)}function c6(t){this._context=t}c6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tee(t){return new c6(t)}function u6(t){this._context=t}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aee(t){return new u6(t)}function d6(t){this._context=t}d6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kee(t){return new d6(t)}function KO(t){return t<0?-1:1}function YO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(KO(s)+KO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function WO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function V1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function cy(t){this._context=t}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V1(this,this._t0,WO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V1(this,WO(this,n=YO(this,t,e)),n);break;default:V1(this,this._t0,n=YO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function f6(t){this._context=new h6(t)}(f6.prototype=Object.create(cy.prototype)).point=function(t,e){cy.prototype.point.call(this,e,t)};function h6(t){this._context=t}h6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Cee(t){return new cy(t)}function Iee(t){return new f6(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XO(t),i=XO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nee(t){return new m6(t)}function Av(t,e){this._context=t,this._t=e}Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Oee(t){return new Av(t,.5)}function Pee(t){return new Av(t,0)}function Ree(t){return new Av(t,1)}function Pc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jee(t,e){return t[e]}function Mee(t){const e=[];return e.key=t,e}function zee(){var t=Ut([]),e=fE,n=Pc,r=jee;function i(s){var l=Array.from(t.apply(this,arguments),Mee),c,d=l.length,f=-1,p;for(const m of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(m,l[c].key,f,s)]).data=m;for(c=0,p=AT(e(l));c<d;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ut(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fE:typeof s=="function"?s:Ut(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Pc,i):n},i}function Dee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Pc(t,e)}}function Lee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Pc(t,e)}}function Vee(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,b=p[r-1][1]||0,x=(m-b)/2,_=0;_<c;++_){var S=t[e[_]],E=S[r][1]||0,k=S[r-1][1]||0;x+=E-k}d+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Pc(t,e)}}var B1={},U1={},QO;function Bee(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(U1)),U1}var F1={},ZO;function p6(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(F1)),F1}var q1={},JO;function CT(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(q1)),q1}var $1={},H1={},eP;function Uee(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(H1)),H1}var tP;function IT(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uee(),n=CT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const m=i[c];f?m==="\\"&&c+1<l?(c++,d+=i[c]):m===f?f="":d+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,s.push(d),d=""):d+=m:m==="["?(p=!0,d&&(s.push(d),d="")):m==="."?d&&(s.push(d),d=""):d+=m,c++}return d&&s.push(d),s}t.toPath=r})($1)),$1}var nP;function NT(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bee(),n=p6(),r=CT(),i=IT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function l(c,d,f){if(d.length===0)return f;let p=c;for(let m=0;m<d.length;m++){if(p==null||e.isUnsafeProperty(d[m]))return f;p=p[d[m]]}return p===void 0?f:p}t.get=s})(B1)),B1}var G1,rP;function Fee(){return rP||(rP=1,G1=NT().get),G1}var qee=Fee();const Cd=ss(qee);var $ee=4;function el(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$ee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function on(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+el(c)+s:i+s},"")}var di=t=>t===0?0:t>0?1:-1,rs=t=>typeof t=="number"&&t!=+t,$s=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,qe=t=>(typeof t=="number"||t instanceof Number)&&!rs(t),is=t=>qe(t)||typeof t=="string",Hee=0,sm=t=>{var e=++Hee;return"".concat(t||"").concat(e)},ma=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return r;var s;if($s(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return rs(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},g6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function dr(t,e,n){return qe(t)&&qe(e)?el(t+n*(e-t)):e}function Gee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Cd(r,e))===n)}var Xn=t=>t===null||typeof t>"u",Fm=t=>Xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Kee(t){return t!=null}function qm(){}var Yee=["type","size","sizeType"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(null,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){Wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zee(t,e){if(t==null)return{};var n,r,i=Jee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y6={symbolCircle:kT,symbolCross:fee,symbolDiamond:mee,symbolSquare:pee,symbolStar:bee,symbolTriangle:xee,symbolWye:_ee},ete=Math.PI/180,tte=t=>{var e="symbol".concat(Fm(t));return y6[e]||kT},nte=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ete;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rte=(t,e)=>{y6["symbol".concat(Fm(t))]=e},v6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Zee(t,Yee),s=aP(aP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=tte(l),x=Eee().type(b).size(nte(n,r,l)),_=x();if(_!==null)return _},{className:d,cx:f,cy:p}=s,m=Ui(s);return qe(f)&&qe(p)&&qe(n)?T.createElement("path",hE({},m,{className:xe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};v6.registerSymbol=rte;var b6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ite=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ET(i)&&(r[i]=(s=>n[i](n,s)))}),r},ate=(t,e,n)=>r=>(t(e,n,r),null),OT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];ET(i)&&typeof s=="function"&&(r||(r={}),r[i]=ate(s,e,n))}),r};function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ste(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=cte(t,"string");return typeof e=="symbol"?e:e+""}function cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $i(t,e){var n=ste({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var K1={},Y1={},oP;function ute(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Y1)),Y1}var W1={},lP;function x6(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(W1)),W1}var X1={},Q1={},Z1={},cP;function dte(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Z1)),Z1}var uP;function PT(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dte();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Q1)),Q1}var J1={},dP;function fte(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(J1)),J1}var fP;function hte(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PT(),n=fte();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(X1)),X1}var ew={},tw={},hP;function mte(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(tw)),tw}var nw={},rw={},iw={},aw={},mP;function w6(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(aw)),aw}var sw={},pP;function _6(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(sw)),sw}var ow={},gP;function E6(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ow)),ow}var yP;function pte(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w6(),n=_6(),r=E6();function i(p,m,b){return typeof b!="function"?i(p,m,()=>{}):s(p,m,function x(_,S,E,k,j,O){const V=b(_,S,E,k,j,O);return V!==void 0?!!V:s(_,S,x,O)},new Map)}function s(p,m,b,x){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,b,x);case"function":return Object.keys(m).length>0?s(p,{...m},b,x):r.eq(p,m);default:return e.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,b,x){if(m==null)return!0;if(Array.isArray(m))return d(p,m,b,x);if(m instanceof Map)return c(p,m,b,x);if(m instanceof Set)return f(p,m,b,x);const _=Object.keys(m);if(p==null||n.isPrimitive(p))return _.length===0;if(_.length===0)return!0;if(x?.has(m))return x.get(m)===p;x?.set(m,p);try{for(let S=0;S<_.length;S++){const E=_[S];if(!n.isPrimitive(p)&&!(E in p)||m[E]===void 0&&p[E]!==void 0||m[E]===null&&p[E]!==null||!b(p[E],m[E],E,p,m,x))return!1}return!0}finally{x?.delete(m)}}function c(p,m,b,x){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,S]of m.entries()){const E=p.get(_);if(b(E,S,_,p,m,x)===!1)return!1}return!0}function d(p,m,b,x){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let S=0;S<m.length;S++){const E=m[S];let k=!1;for(let j=0;j<p.length;j++){if(_.has(j))continue;const O=p[j];let V=!1;if(b(O,E,S,p,m,x)&&(V=!0),V){_.add(j),k=!0;break}}if(!k)return!1}return!0}function f(p,m,b,x){return m.size===0?!0:p instanceof Set?d([...p],[...m],b,x):!1}t.isMatchWith=i,t.isSetMatch=f})(iw)),iw}var vP;function S6(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pte();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(rw)),rw}var lw={},cw={},uw={},bP;function gte(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(uw)),uw}var dw={},xP;function T6(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(dw)),dw}var fw={},wP;function A6(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",b="[object ArrayBuffer]",x="[object Object]",_="[object Error]",S="[object DataView]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",O="[object Uint32Array]",V="[object BigUint64Array]",R="[object Int8Array]",F="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",M="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=S,t.dateTag=c,t.errorTag=_,t.float32ArrayTag=M,t.float64ArrayTag=L,t.functionTag=m,t.int16ArrayTag=F,t.int32ArrayTag=P,t.int8ArrayTag=R,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=O,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=k})(fw)),fw}var hw={},_P;function yte(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(hw)),hw}var EP;function k6(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte(),n=T6(),r=A6(),i=_6(),s=yte();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,b,x=new Map,_=void 0){const S=_?.(p,m,b,x);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const E=new Array(p.length);x.set(p,E);for(let k=0;k<p.length;k++)E[k]=c(p[k],k,b,x,_);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;x.set(p,E);for(const[k,j]of p)E.set(k,c(j,k,b,x,_));return E}if(p instanceof Set){const E=new Set;x.set(p,E);for(const k of p)E.add(c(k,void 0,b,x,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,E);for(let k=0;k<p.length;k++)E[k]=c(p[k],k,b,x,_);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,E),d(E,p,b,x,_),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return x.set(p,E),d(E,p,b,x,_),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return x.set(p,E),d(E,p,b,x,_),E}if(p instanceof Error){const E=new p.constructor;return x.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,d(E,p,b,x,_),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return x.set(p,E),d(E,p,b,x,_),E}if(p instanceof Number){const E=new Number(p.valueOf());return x.set(p,E),d(E,p,b,x,_),E}if(p instanceof String){const E=new String(p.valueOf());return x.set(p,E),d(E,p,b,x,_),E}if(typeof p=="object"&&f(p)){const E=Object.create(Object.getPrototypeOf(p));return x.set(p,E),d(E,p,b,x,_),E}return p}function d(p,m,b=p,x,_){const S=[...Object.keys(m),...e.getSymbols(m)];for(let E=0;E<S.length;E++){const k=S[E],j=Object.getOwnPropertyDescriptor(p,k);(j==null||j.writable)&&(p[k]=c(m[k],k,b,x,_))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(cw)),cw}var SP;function vte(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(lw)),lw}var TP;function bte(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6(),n=vte();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(nw)),nw}var mw={},pw={},gw={},AP;function xte(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k6(),n=A6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const p=s?.(l,c,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(gw)),gw}var kP;function wte(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xte();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(pw)),pw}var yw={},vw={},CP;function C6(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(vw)),vw}var bw={},IP;function _te(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(bw)),bw}var NP;function Ete(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p6(),n=C6(),r=_te(),i=IT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const m=d[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=s})(yw)),yw}var OP;function Ste(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6(),n=CT(),r=wte(),i=NT(),s=Ete();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,c);return p===void 0?s.has(f,c):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(mw)),mw}var PP;function Tte(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=mte(),r=bte(),i=Ste();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(ew)),ew}var RP;function Ate(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ute(),n=x6(),r=hte(),i=Tte();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(K1)),K1}var xw,jP;function kte(){return jP||(jP=1,xw=Ate().uniqBy),xw}var Cte=kte();const MP=ss(Cte);function Ite(t,e,n){return e===!0?MP(t,n):typeof e=="function"?MP(t,e):t}var ww={exports:{}},_w={},Ew={exports:{}},Sw={};var zP;function Nte(){if(zP)return Sw;zP=1;var t=Dd();function e(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(m,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),S=_[0].inst,E=_[1];return s(function(){S.value=x,S.getSnapshot=b,d(S)&&E({inst:S})},[m,x,b]),i(function(){return d(S)&&E({inst:S}),m(function(){d(S)&&E({inst:S})})},[m]),l(x),x}function d(m){var b=m.getSnapshot;m=m.value;try{var x=b();return!n(m,x)}catch{return!0}}function f(m,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Sw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Sw}var DP;function Ote(){return DP||(DP=1,Ew.exports=Nte()),Ew.exports}var LP;function Pte(){if(LP)return _w;LP=1;var t=Dd(),e=Ote();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return _w.useSyncExternalStoreWithSelector=function(f,p,m,b,x){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=c(function(){function k(F){if(!j){if(j=!0,O=F,F=b(F),x!==void 0&&S.hasValue){var P=S.value;if(x(P,F))return V=P}return V=F}if(P=V,r(O,F))return P;var C=b(F);return x!==void 0&&x(P,C)?(O=F,P):(O=F,V=C)}var j=!1,O,V,R=m===void 0?null:m;return[function(){return k(p())},R===null?void 0:function(){return k(R())}]},[p,m,b,x]);var E=i(f,_[0],_[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),d(E),E},_w}var VP;function Rte(){return VP||(VP=1,ww.exports=Pte()),ww.exports}var jte=Rte(),RT=T.createContext(null),Mte=t=>t,pn=()=>{var t=T.useContext(RT);return t?t.store.dispatch:Mte},E0=()=>{},zte=()=>E0,Dte=(t,e)=>t===e;function Ge(t){var e=T.useContext(RT);return jte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:zte,e?e.store.getState:E0,e?e.store.getState:E0,e?t:E0,Dte)}function Lte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Vte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Bte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var BP=t=>Array.isArray(t)?t:[t];function Ute(t){const e=Array.isArray(t[0])?t[0]:t;return Bte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Fte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var qte=class{constructor(t){this.value=t}deref(){return this.value}},$te=typeof WeakRef<"u"?WeakRef:qte,Hte=0,UP=1;function qg(){return{s:Hte,v:void 0,o:null,p:null}}function I6(t,e={}){let n=qg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let m=0,b=d;m<b;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let _=c.o;_===null&&(c.o=_=new WeakMap);const S=_.get(x);S===void 0?(c=qg(),_.set(x,c)):c=S}else{let _=c.p;_===null&&(c.p=_=new Map);const S=_.get(x);S===void 0?(c=qg(),_.set(x,c)):c=S}}const f=c;let p;if(c.s===UP)p=c.v;else if(p=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,p)&&(p=m,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new $te(p):p}return f.s=UP,f.v=p,p}return l.clearCache=()=>{n=qg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Gte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Lte(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:m,memoizeOptions:b=[],argsMemoize:x=I6,argsMemoizeOptions:_=[]}=p,S=BP(b),E=BP(_),k=Ute(i),j=m(function(){return s++,f.apply(null,arguments)},...S),O=x(function(){l++;const R=Fte(k,arguments);return c=j.apply(null,R),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:j,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var oe=Gte(I6),Kte=Object.assign((t,e=oe)=>{Vte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>Kte}),Tw={},Aw={},kw={},FP;function Yte(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(kw)),kw}var Cw={},Iw={},qP;function N6(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Iw)),Iw}var $P;function Wte(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Cw)),Cw}var HP;function Xte(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yte(),n=Wte(),r=IT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,_)=>{let S=x;for(let E=0;E<_.length&&S!=null;++E)S=S[_[E]];return S},p=(x,_)=>_==null||x==null?_:typeof x=="object"&&"key"in x?Object.hasOwn(_,x.key)?_[x.key]:f(_,x.path):typeof x=="function"?x(_):Array.isArray(x)?f(_,x):typeof _=="object"?_[x]:_,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:m.map(_=>p(_,x))})).slice().sort((x,_)=>{for(let S=0;S<m.length;S++){const E=e.compareValues(x.criteria[S],_.criteria[S],c[S]);if(E!==0)return E}return 0}).map(x=>x.original)}t.orderBy=i})(Aw)),Aw}var Nw={},GP;function Qte(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Nw)),Nw}var Ow={},KP;function O6(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C6(),n=PT(),r=w6(),i=E6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(Ow)),Ow}var YP;function Zte(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xte(),n=Qte(),r=O6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Tw)),Tw}var Pw,WP;function Jte(){return WP||(WP=1,Pw=Zte().sortBy),Pw}var ene=Jte();const kv=ss(ene);var P6=t=>t.legend.settings,tne=t=>t.legend.size,nne=t=>t.legend.payload;oe([nne,P6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?kv(r,n):r});var $g=1;function rne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>$g||Math.abs(l.left-e.left)>$g||Math.abs(l.top-e.top)>$g||Math.abs(l.width-e.width)>$g)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ine=typeof Symbol=="function"&&Symbol.observable||"@@observable",XP=ine,Rw=()=>Math.random().toString(36).substring(7).split("").join("."),ane={INIT:`@@redux/INIT${Rw()}`,REPLACE:`@@redux/REPLACE${Rw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rw()}`},uy=ane;function jT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R6(t,e,n){if(typeof t!="function")throw new Error(lr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lr(1));return n(R6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((E,k)=>{l.set(k,E)}))}function p(){if(d)throw new Error(lr(3));return i}function m(E){if(typeof E!="function")throw new Error(lr(4));if(d)throw new Error(lr(5));let k=!0;f();const j=c++;return l.set(j,E),function(){if(k){if(d)throw new Error(lr(6));k=!1,f(),l.delete(j),s=null}}}function b(E){if(!jT(E))throw new Error(lr(7));if(typeof E.type>"u")throw new Error(lr(8));if(typeof E.type!="string")throw new Error(lr(17));if(d)throw new Error(lr(9));try{d=!0,i=r(i,E)}finally{d=!1}return(s=l).forEach(j=>{j()}),E}function x(E){if(typeof E!="function")throw new Error(lr(10));r=E,b({type:uy.REPLACE})}function _(){const E=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(lr(11));function j(){const V=k;V.next&&V.next(p())}return j(),{unsubscribe:E(j)}},[XP](){return this}}}return b({type:uy.INIT}),{dispatch:b,subscribe:m,getState:p,replaceReducer:x,[XP]:_}}function sne(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:uy.INIT})>"u")throw new Error(lr(12));if(typeof n(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lr(13))})}function j6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{sne(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],b=n[m],x=l[m],_=b(x,c);if(typeof _>"u")throw c&&c.type,new Error(lr(14));f[m]=_,d=d||_!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function dy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function one(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(lr(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=dy(...c)(i.dispatch),{...i,dispatch:s}}}function M6(t){return jT(t)&&"type"in t&&typeof t.type=="string"}var z6=Symbol.for("immer-nothing"),QP=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object,Id=fi.getPrototypeOf,fy="constructor",Cv="prototype",mE="configurable",hy="enumerable",S0="writable",om="value",Hs=t=>!!t&&!!t[Or];function pa(t){return t?D6(t)||Nv(t)||!!t[QP]||!!t[fy]?.[QP]||Ov(t)||Pv(t):!1}var lne=fi[Cv][fy].toString(),ZP=new WeakMap;function D6(t){if(!t||!MT(t))return!1;const e=Id(t);if(e===null||e===fi[Cv])return!0;const n=fi.hasOwnProperty.call(e,fy)&&e[fy];if(n===Object)return!0;if(!Xu(n))return!1;let r=ZP.get(n);return r===void 0&&(r=Function.toString.call(n),ZP.set(n,r)),r===lne}function Iv(t,e,n=!0){$m(t)===0?(n?Reflect.ownKeys(t):fi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $m(t){const e=t[Or];return e?e.type_:Nv(t)?1:Ov(t)?2:Pv(t)?3:0}var JP=(t,e,n=$m(t))=>n===2?t.has(e):fi[Cv].hasOwnProperty.call(t,e),pE=(t,e,n=$m(t))=>n===2?t.get(e):t[e],my=(t,e,n,r=$m(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function cne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Nv=Array.isArray,Ov=t=>t instanceof Map,Pv=t=>t instanceof Set,MT=t=>typeof t=="object",Xu=t=>typeof t=="function",jw=t=>typeof t=="boolean";function une(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ks=t=>t.copy_||t.base_,zT=t=>t.modified_?t.copy_:t.base_;function gE(t,e){if(Ov(t))return new Map(t);if(Pv(t))return new Set(t);if(Nv(t))return Array[Cv].slice.call(t);const n=D6(t);if(e===!0||e==="class_only"&&!n){const r=fi.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[S0]===!1&&(c[S0]=!0,c[mE]=!0),(c.get||c.set)&&(r[l]={[mE]:!0,[S0]:!0,[hy]:c[hy],[om]:t[l]})}return fi.create(Id(t),r)}else{const r=Id(t);if(r!==null&&n)return{...t};const i=fi.create(r);return fi.assign(i,t)}}function DT(t,e=!1){return Rv(t)||Hs(t)||!pa(t)||($m(t)>1&&fi.defineProperties(t,{set:Hg,add:Hg,clear:Hg,delete:Hg}),fi.freeze(t),e&&Iv(t,(n,r)=>{DT(r,!0)},!1)),t}function dne(){oa(2)}var Hg={[om]:dne};function Rv(t){return t===null||!MT(t)?!0:fi.isFrozen(t)}var py="MapSet",yE="Patches",eR="ArrayMethods",L6={};function Rc(t){const e=L6[t];return e||oa(0,t),e}var tR=t=>!!L6[t],lm,V6=()=>lm,fne=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tR(py)?Rc(py):void 0,arrayMethodsPlugin_:tR(eR)?Rc(eR):void 0});function nR(t,e){e&&(t.patchPlugin_=Rc(yE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function vE(t){bE(t),t.drafts_.forEach(hne),t.drafts_=null}function bE(t){t===lm&&(lm=t.parent_)}var rR=t=>lm=fne(lm,t);function hne(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Or].modified_&&(vE(e),oa(4)),pa(t)&&(t=aR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Or].base_,t,e)}else t=aR(e,n);return mne(e,t,!0),vE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==z6?t:void 0}function aR(t,e){if(Rv(e))return e;const n=e[Or];if(!n)return gy(e,t.handledSet_,t);if(!jv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);F6(n,t)}return n.copy_}function mne(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DT(e,n)}function B6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var jv=(t,e)=>t.scope_===e,pne=[];function U6(t,e,n,r){const i=ks(t),s=t.type_;if(r!==void 0&&pE(i,r,s)===e){my(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Iv(i,(d,f)=>{if(Hs(f)){const p=c.get(f)||[];p.push(d),c.set(f,p)}})}const l=t.draftLocations_.get(e)??pne;for(const c of l)my(i,c,n,s)}function gne(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!jv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=zT(s);U6(t,s.draft_??s,l,n),F6(s,i)})}function F6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}B6(t)}}function yne(t,e,n){const{scope_:r}=t;if(Hs(n)){const i=n[Or];jv(i,r)&&i.callbacks_.push(function(){T0(t);const l=zT(i);U6(t,n,l,e)})}else pa(n)&&t.callbacks_.push(function(){const s=ks(t);t.type_===3?s.has(n)&&gy(n,r.handledSet_,r):pE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gy(pE(t.copy_,e,t.type_),r.handledSet_,r)})}function gy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Hs(t)||e.has(t)||!pa(t)||Rv(t)||(e.add(t),Iv(t,(r,i)=>{if(Hs(i)){const s=i[Or];if(jv(s,n)){const l=zT(s);my(t,r,l,t.type_),B6(s)}}else pa(i)&&gy(i,e,n)})),t}function vne(t,e){const n=Nv(t),r={type_:n?1:0,scope_:e?e.scope_:V6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=yy;n&&(i=[r],s=cm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var yy={get(t,e){if(e===Or)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ks(t);if(!JP(i,e,t.type_))return bne(t,i,e);const s=i[e];if(t.finalized_||!pa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&une(e))return s;if(s===Mw(t.base_,e)){T0(t);const l=t.type_===1?+e:e,c=wE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in ks(t)},ownKeys(t){return Reflect.ownKeys(ks(t))},set(t,e,n){const r=q6(ks(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Mw(ks(t),e),s=i?.[Or];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(cne(n,i)&&(n!==void 0||JP(t.base_,e,t.type_)))return!0;T0(t),xE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),yne(t,e,n)),!0},deleteProperty(t,e){return T0(t),Mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),xE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ks(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[S0]:!0,[mE]:t.type_!==1||e!=="length",[hy]:r[hy],[om]:n[e]}},defineProperty(){oa(11)},getPrototypeOf(t){return Id(t.base_)},setPrototypeOf(){oa(12)}},cm={};for(let t in yy){let e=yy[t];cm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}cm.deleteProperty=function(t,e){return cm.set.call(this,t,e,void 0)};cm.set=function(t,e,n){return yy.set.call(this,t[0],e,n,t[0])};function Mw(t,e){const n=t[Or];return(n?ks(n):t)[e]}function bne(t,e,n){const r=q6(e,n);return r?om in r?r[om]:r.get?.call(t.draft_):void 0}function q6(t,e){if(!(e in t))return;let n=Id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Id(n)}}function xE(t){t.modified_||(t.modified_=!0,t.parent_&&xE(t.parent_))}function T0(t){t.copy_||(t.assigned_=new Map,t.copy_=gE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Xu(n)&&!Xu(r)){const l=r;r=n;const c=this;return function(f=l,...p){return c.produce(f,m=>r.call(this,m,...p))}}Xu(r)||oa(6),i!==void 0&&!Xu(i)&&oa(7);let s;if(pa(n)){const l=rR(this),c=wE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?vE(l):bE(l)}return nR(l,i),iR(s,l)}else if(!n||!MT(n)){if(s=r(n),s===void 0&&(s=n),s===z6&&(s=void 0),this.autoFreeze_&&DT(s,!0),i){const l=[],c=[];Rc(yE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else oa(1,n)},this.produceWithPatches=(n,r)=>{if(Xu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},jw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),jw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),jw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pa(e)||oa(8),Hs(e)&&(e=ha(e));const n=rR(this),r=wE(n,e,void 0);return r[Or].isManual_=!0,bE(n),r}finishDraft(e,n){const r=e&&e[Or];(!r||!r.isManual_)&&oa(9);const{scope_:i}=r;return nR(i,n),iR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Rc(yE).applyPatches_;return Hs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function wE(t,e,n,r){const[i,s]=Ov(e)?Rc(py).proxyMap_(e,n):Pv(e)?Rc(py).proxySet_(e,n):vne(e,n);return(n?.scope_??V6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?gne(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function ha(t){return Hs(t)||oa(10,t),$6(t)}function $6(t){if(!pa(t)||Rv(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=gE(t,!0);return Iv(n,(i,s)=>{my(n,i,$6(s))},r),e&&(e.finalized_=!1),n}var wne=new xne,H6=wne.produce;function G6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var _ne=G6(),Ene=G6,Sne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function Fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(mi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>M6(r)&&r.type===t,n}var K6=class kh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kh.prototype)}static get[Symbol.species](){return kh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kh(...e[0].concat(this)):new kh(...e.concat(this))}};function sR(t){return pa(t)?H6(t,()=>{}):t}function Gg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Tne(t){return typeof t=="boolean"}var Ane=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new K6;return n&&(Tne(n)?l.push(_ne):l.push(Ene(n.extraArgument))),l},Y6="RTK_autoBatch",Qt=()=>t=>({payload:t,meta:{[Y6]:!0}}),oR=t=>e=>{setTimeout(e,t)},W6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oR(10):t.type==="callback"?t.queueNotification:oR(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),b=r.subscribe(m);return c.add(p),()=>{b(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[Y6],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},kne=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new K6(t);return r&&i.push(W6(typeof r=="object"?r:void 0)),i};function Cne(t){const e=Ane(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(jT(n))c=j6(n);else throw new Error(mi(1));let d;typeof r=="function"?d=r(e):d=e();let f=dy;i&&(f=Sne({trace:!1,...typeof i=="object"&&i}));const p=one(...d),m=kne(p);let b=typeof l=="function"?l(m):m();const x=f(...b);return R6(c,s,x)}function X6(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(mi(28));if(c in e)throw new Error(mi(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Ine(t){return typeof t=="function"}function Nne(t,e){let[n,r,i]=X6(e),s;if(Ine(t))s=()=>sR(t());else{const c=sR(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Hs(p)){const x=m(p,d);return x===void 0?p:x}else{if(pa(p))return H6(p,b=>m(b,d));{const b=m(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},c)}return l.getInitialState=s,l}var One="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Pne=(t=21)=>{let e="",n=t;for(;n--;)e+=One[Math.random()*64|0];return e},Rne=Symbol.for("rtk-slice-createasyncthunk");function jne(t,e){return`${t}/${e}`}function Mne({creators:t}={}){const e=t?.asyncThunk?.[Rne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(mi(11));const l=(typeof r.reducers=="function"?r.reducers(Dne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,V){const R=typeof O=="string"?O:O.type;if(!R)throw new Error(mi(12));if(R in d.sliceCaseReducersByType)throw new Error(mi(13));return d.sliceCaseReducersByType[R]=V,f},addMatcher(O,V){return d.sliceMatchers.push({matcher:O,reducer:V}),f},exposeAction(O,V){return d.actionCreators[O]=V,f},exposeCaseReducer(O,V){return d.sliceCaseReducersByName[O]=V,f}};c.forEach(O=>{const V=l[O],R={reducerName:O,type:jne(i,O),createNotation:typeof r.reducers=="function"};Vne(V)?Une(R,V,f,e):Lne(R,V,f)});function p(){const[O={},V=[],R=void 0]=typeof r.extraReducers=="function"?X6(r.extraReducers):[r.extraReducers],F={...O,...d.sliceCaseReducersByType};return Nne(r.initialState,P=>{for(let C in F)P.addCase(C,F[C]);for(let C of d.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of V)P.addMatcher(C.matcher,C.reducer);R&&P.addDefaultCase(R)})}const m=O=>O,b=new Map,x=new WeakMap;let _;function S(O,V){return _||(_=p()),_(O,V)}function E(){return _||(_=p()),_.getInitialState()}function k(O,V=!1){function R(P){let C=P[O];return typeof C>"u"&&V&&(C=Gg(x,R,E)),C}function F(P=m){const C=Gg(b,V,()=>new WeakMap);return Gg(C,P,()=>{const M={};for(const[L,z]of Object.entries(r.selectors??{}))M[L]=zne(z,P,()=>Gg(x,P,E),V);return M})}return{reducerPath:O,getSelectors:F,get selectors(){return F(R)},selectSlice:R}}const j={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...k(s),injectInto(O,{reducerPath:V,...R}={}){const F=V??s;return O.inject({reducerPath:F,reducer:S},R),{...j,...k(F,!0)}}};return j}}function zne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Gr=Mne();function Dne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Lne({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Bne(r))throw new Error(mi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Fi(t,l):Fi(t))}function Vne(t){return t._reducerDefinitionType==="asyncThunk"}function Bne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Une({type:t,reducerName:e},n,r,i){if(!i)throw new Error(mi(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:p}=n,m=i(t,s,p);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Kg,pending:c||Kg,rejected:d||Kg,settled:f||Kg})}function Kg(){}var Fne="task",Q6="listener",Z6="completed",LT="cancelled",qne=`task-${LT}`,$ne=`task-${Z6}`,_E=`${Q6}-${LT}`,Hne=`${Q6}-${Z6}`,Mv=class{constructor(t){this.code=t,this.message=`${Fne} ${LT} (reason: ${t})`}name="TaskAbortError";message},VT=(t,e)=>{if(typeof t!="function")throw new TypeError(mi(32))},vy=()=>{},J6=(t,e=vy)=>(t.catch(e),t),e9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vc=t=>{if(t.aborted)throw new Mv(t.reason)};function t9(t,e){let n=vy;return new Promise((r,i)=>{const s=()=>i(new Mv(t.reason));if(t.aborted){s();return}n=e9(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=vy})}var Gne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Mv?"cancelled":"rejected",error:n}}finally{e?.()}},by=t=>e=>J6(t9(t,e).then(n=>(vc(t),n))),n9=t=>{const e=by(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:id}=Object,lR={},zv="listenerMiddleware",Kne=(t,e)=>{const n=r=>e9(t,()=>r.abort(t.reason));return(r,i)=>{VT(r);const s=new AbortController;n(s);const l=Gne(async()=>{vc(t),vc(s.signal);const c=await r({pause:by(s.signal),delay:n9(s.signal),signal:s.signal});return vc(s.signal),c},()=>s.abort($ne));return i?.autoJoin&&e.push(l.catch(vy)),{result:by(t)(l),cancel(){s.abort(qne)}}}},Yne=(t,e)=>{const n=async(r,i)=>{vc(e);let s=()=>{};const c=[new Promise((d,f)=>{let p=t({predicate:r,effect:(m,b)=>{b.unsubscribe(),d([m,b.getState(),b.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await t9(e,Promise.race(c));return vc(e),d}finally{s()}};return(r,i)=>J6(n(r,i))},r9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mi(21));return VT(s),{predicate:i,type:e,effect:s}},i9=id(t=>{const{type:e,predicate:n,effect:r}=r9(t);return{id:Pne(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mi(22))}}},{withTypes:()=>i9}),cR=(t,e)=>{const{type:n,effect:r,predicate:i}=r9(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},EE=t=>{t.pending.forEach(e=>{e.abort(_E)})},Wne=(t,e)=>()=>{for(const n of e.keys())EE(n);t.clear()},uR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},a9=id(Fi(`${zv}/add`),{withTypes:()=>a9}),Xne=Fi(`${zv}/removeAll`),s9=id(Fi(`${zv}/remove`),{withTypes:()=>s9}),Qne=(...t)=>{console.error(`${zv}/error`,...t)},Hm=(t={})=>{const e=new Map,n=new Map,r=x=>{const _=n.get(x)??0;n.set(x,_+1)},i=x=>{const _=n.get(x)??1;_===1?n.delete(x):n.set(x,_-1)},{extra:s,onError:l=Qne}=t;VT(l);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),_=>{x.unsubscribe(),_?.cancelActive&&EE(x)}),d=x=>{const _=cR(e,x)??i9(x);return c(_)};id(d,{withTypes:()=>d});const f=x=>{const _=cR(e,x);return _&&(_.unsubscribe(),x.cancelActive&&EE(_)),!!_};id(f,{withTypes:()=>f});const p=async(x,_,S,E)=>{const k=new AbortController,j=Yne(d,k.signal),O=[];try{x.pending.add(k),r(x),await Promise.resolve(x.effect(_,id({},S,{getOriginalState:E,condition:(V,R)=>j(V,R).then(Boolean),take:j,delay:n9(k.signal),pause:by(k.signal),extra:s,signal:k.signal,fork:Kne(k.signal,O),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((V,R,F)=>{V!==k&&(V.abort(_E),F.delete(V))})},cancel:()=>{k.abort(_E),x.pending.delete(k)},throwIfCancelled:()=>{vc(k.signal)}})))}catch(V){V instanceof Mv||uR(l,V,{raisedBy:"effect"})}finally{await Promise.all(O),k.abort(Hne),i(x),x.pending.delete(k)}},m=Wne(e,n);return{middleware:x=>_=>S=>{if(!M6(S))return _(S);if(a9.match(S))return d(S.payload);if(Xne.match(S)){m();return}if(s9.match(S))return f(S.payload);let E=x.getState();const k=()=>{if(E===lR)throw new Error(mi(23));return E};let j;try{if(j=_(S),e.size>0){const O=x.getState(),V=Array.from(e.values());for(const R of V){let F=!1;try{F=R.predicate(S,O,E)}catch(P){F=!1,uR(l,P,{raisedBy:"predicate"})}F&&p(R,S,x,k)}}}finally{E=lR}return j},startListening:d,stopListening:f,clearListeners:m}};function mi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Zne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o9=Gr({name:"chartLayout",initialState:Zne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Jne,setLayout:ere,setChartSize:tre,setScale:nre}=o9.actions,rre=o9.reducer;function l9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function rn(t){return Number.isFinite(t)}function hl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hr(t,e,n){return Xn(t)||Xn(e)?n:is(e)?Cd(t,e,n):typeof e=="function"?e(t):n}var ore=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&qe(t[s]))return Qu(Qu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&qe(t[l]))return Qu(Qu({},t),{},{[l]:t[l]+(i||0)})}return t},Fc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",fR=1e-4,lre=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-fR,s=Math.max(r[0],r[1])+fR,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},cre=(t,e)=>{if(!e||e.length!==2||!qe(e[0])||!qe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(i[0]=n),(!qe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},ure=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var p=f[1],m=f[0],b=rs(p)?m:p;b>=0?(f[0]=s,f[1]=s+b,s=p):(f[0]=l,f[1]=l+b,l=p)}}}},dre=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=rs(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},fre={sign:ure,expand:Dee,none:Pc,silhouette:Lee,wiggle:Vee,positive:dre},hre=(t,e,n)=>{var r,i=(r=fre[n])!==null&&r!==void 0?r:Pc,s=zee().keys(e).value((c,d)=>Number(hr(c,d,0))).order(fE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,p)=>{var m=hr(t[p],e[d],0);Array.isArray(m)&&m.length===2&&qe(m[0])&&qe(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function mre(t){return t==null?void 0:String(t)}var hR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=hr(s,e.dataKey,e.scale.domain()[l]);return Xn(c)?null:e.scale(c)-i/2+r},pre=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},gre=t=>{var e=t.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},yre=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vre=(t,e,n)=>{if(t!=null)return yre(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var p=l9(f,e,n),m=gre(p);return!rn(m[0])||!rn(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},mR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=kv(e,p=>p.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function gR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Qu(Qu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function c9(t,e){if(t)return String(t);if(typeof e=="string")return e}var bre=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},xre=(t,e)=>e==="centric"?t.angle:t.radius,eo=t=>t.layout.width,to=t=>t.layout.height,wre=t=>t.layout.scale,u9=t=>t.layout.margin,Dv=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Lv=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),_re="data-recharts-item-index",Ere="data-recharts-item-id",Gm=60;function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kre=t=>t.brush.height;function Cre(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function Ire(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function Nre(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ore(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qn=oe([eo,to,u9,kre,Cre,Ire,Nre,Ore,P6,tne],(t,e,n,r,i,s,l,c,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Yg(Yg({},m),p),x=b.bottom;b.bottom+=r,b=ore(b,d,f);var _=t-b.left-b.right,S=e-b.top-b.bottom;return Yg(Yg({brushBottom:x},b),{},{width:Math.max(_,0),height:Math.max(S,0)})}),Pre=oe(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BT=oe(eo,to,(t,e)=>({x:0,y:0,width:t,height:e})),Rre=T.createContext(null),xi=()=>T.useContext(Rre)!=null,Vv=t=>t.brush,Bv=oe([Vv,Qn,u9],(t,e,n)=>({height:t.height,x:qe(t.x)?t.x:e.left,y:qe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:qe(t.width)?t.width:e.width})),zw={},Dw={},Lw={},vR;function jre(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{f&&p(),S()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,m()},r)},_=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{_(),l=void 0,c=null},E=()=>{p()},k=function(...j){if(i?.aborted)return;l=this,c=j;const O=b==null;x(),d&&O&&p()};return k.schedule=x,k.cancel=S,k.flush=E,i?.addEventListener("abort",S,{once:!0}),k}t.debounce=e})(Lw)),Lw}var bR;function Mre(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const b=e.debounce(function(...S){p=r.apply(this,S),m=null},i,{edges:f}),x=function(...S){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=r.apply(this,S),m=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},_=()=>(b.flush(),p);return x.cancel=b.cancel,x.flush=_,x}t.debounce=n})(Dw)),Dw}var xR;function zre(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(zw)),zw}var Vw,wR;function Dre(){return wR||(wR=1,Vw=zre().throttle),Vw}var Lre=Dre();const Vre=ss(Lre);var _R=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},d9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=$s(r)?t:Number(r),d=$s(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},Bre={width:0,height:0,overflow:"visible"},Ure={width:0,overflowX:"visible"},Fre={height:0,overflowY:"visible"},qre={},$re=t=>{var{width:e,height:n}=t,r=$s(e),i=$s(n);return r&&i?Bre:r?Ure:i?Fre:qre};function Hre(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f9=T.createContext({width:-1,height:-1});function Wre(t){return hl(t.width)&&hl(t.height)}function h9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Wre(i)?T.createElement(f9.Provider,{value:i},e):null}var UT=()=>T.useContext(f9),Xre=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:p=0,id:m,className:b,onResize:x,style:_={}}=t,S=T.useRef(null),E=T.useRef();E.current=x,T.useImperativeHandle(e,()=>S.current);var[k,j]=T.useState({containerWidth:r.width,containerHeight:r.height}),O=T.useCallback((C,M)=>{j(L=>{var z=Math.round(C),q=Math.round(M);return L.containerWidth===z&&L.containerHeight===q?L:{containerWidth:z,containerHeight:q}})},[]);T.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return qm;var C=q=>{var U,{width:ve,height:Ce}=q[0].contentRect;O(ve,Ce),(U=E.current)===null||U===void 0||U.call(E,ve,Ce)};p>0&&(C=Vre(C,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(C),{width:L,height:z}=S.current.getBoundingClientRect();return O(L,z),M.observe(S.current),()=>{M.disconnect()}},[O,p]);var{containerWidth:V,containerHeight:R}=k;_R(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:P}=d9(V,R,{width:i,height:s,aspect:n,maxHeight:d});return _R(F!=null&&F>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,P,i,s,l,c,n),T.createElement("div",{id:m?"".concat(m):void 0,className:xe("recharts-responsive-container",b),style:SR(SR({},_),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:S},T.createElement("div",{style:$re({width:i,height:s})},T.createElement(h9,{width:F,height:P},f)))}),m9=T.forwardRef((t,e)=>{var n=UT();if(hl(n.width)&&hl(n.height))return t.children;var{width:r,height:i}=Hre({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=d9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return qe(s)&&qe(l)?T.createElement(h9,{width:s,height:l},t.children):T.createElement(Xre,SE({},t,{width:r,height:i,ref:e}))});function p9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Uv=()=>{var t,e=xi(),n=Ge(Pre),r=Ge(Bv),i=(t=Ge(Vv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Qre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Zre=()=>{var t;return(t=Ge(Qn))!==null&&t!==void 0?t:Qre},Jre=()=>Ge(eo),eie=()=>Ge(to),Ct=t=>t.layout.layoutType,Km=()=>Ge(Ct),tie=()=>{var t=Km();return t!==void 0},Fv=t=>{var e=pn(),n=xi(),{width:r,height:i}=t,s=UT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&hl(l)&&hl(c)&&e(tre({width:l,height:c}))},[e,n,l,c]),null},g9=Symbol.for("immer-nothing"),TR=Symbol.for("immer-draftable"),vi=Symbol.for("immer-state");function la(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var um=Object.getPrototypeOf;function Nd(t){return!!t&&!!t[vi]}function jc(t){return t?y9(t)||Array.isArray(t)||!!t[TR]||!!t.constructor?.[TR]||Ym(t)||$v(t):!1}var nie=Object.prototype.constructor.toString(),AR=new WeakMap;function y9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=AR.get(n);return r===void 0&&(r=Function.toString.call(n),AR.set(n,r)),r===nie}function wy(t,e,n=!0){qv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function qv(t){const e=t[vi];return e?e.type_:Array.isArray(t)?1:Ym(t)?2:$v(t)?3:0}function TE(t,e){return qv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function v9(t,e,n){const r=qv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function rie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ym(t){return t instanceof Map}function $v(t){return t instanceof Set}function ec(t){return t.copy_||t.base_}function AE(t,e){if(Ym(t))return new Map(t);if($v(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=y9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[vi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(um(t),r)}else{const r=um(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function FT(t,e=!1){return Hv(t)||Nd(t)||!jc(t)||(qv(t)>1&&Object.defineProperties(t,{set:Wg,add:Wg,clear:Wg,delete:Wg}),Object.freeze(t),e&&Object.values(t).forEach(n=>FT(n,!0))),t}function iie(){la(2)}var Wg={value:iie};function Hv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var aie={};function Mc(t){const e=aie[t];return e||la(0,t),e}var dm;function b9(){return dm}function sie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kR(t,e){e&&(Mc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kE(t){CE(t),t.drafts_.forEach(oie),t.drafts_=null}function CE(t){t===dm&&(dm=t.parent_)}function CR(t){return dm=sie(dm,t)}function oie(t){const e=t[vi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function IR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[vi].modified_&&(kE(e),la(4)),jc(t)&&(t=_y(e,t),e.parent_||Ey(e,t)),e.patches_&&Mc("Patches").generateReplacementPatches_(n[vi].base_,t,e.patches_,e.inversePatches_)):t=_y(e,n,[]),kE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==g9?t:void 0}function _y(t,e,n){if(Hv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[vi];if(!i)return wy(e,(s,l)=>NR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Ey(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),wy(l,(d,f)=>NR(t,i,s,d,f,n,c),r),Ey(t,s,!1),n&&t.patches_&&Mc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function NR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Hv(i);if(!(c&&!l)){if(Nd(i)){const d=s&&e&&e.type_!==3&&!TE(e.assigned_,r)?s.concat(r):void 0,f=_y(t,i,d);if(v9(n,r,f),Nd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(jc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;_y(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ym(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ey(t,i)}}}function Ey(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FT(e,n)}function lie(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:b9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=qT;n&&(i=[r],s=fm);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var qT={get(t,e){if(e===vi)return t;const n=ec(t);if(!TE(n,e))return cie(t,n,e);const r=n[e];return t.finalized_||!jc(r)?r:r===Bw(t.base_,e)?(Uw(t),t.copy_[e]=NE(r,t)):r},has(t,e){return e in ec(t)},ownKeys(t){return Reflect.ownKeys(ec(t))},set(t,e,n){const r=x9(ec(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Bw(ec(t),e),s=i?.[vi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(rie(n,i)&&(n!==void 0||TE(t.base_,e)))return!0;Uw(t),IE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Bw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Uw(t),IE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ec(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){la(11)},getPrototypeOf(t){return um(t.base_)},setPrototypeOf(){la(12)}},fm={};wy(qT,(t,e)=>{fm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fm.deleteProperty=function(t,e){return fm.set.call(this,t,e,void 0)};fm.set=function(t,e,n){return qT.set.call(this,t[0],e,n,t[0])};function Bw(t,e){const n=t[vi];return(n?ec(n):t)[e]}function cie(t,e,n){const r=x9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function x9(t,e){if(!(e in t))return;let n=um(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=um(n)}}function IE(t){t.modified_||(t.modified_=!0,t.parent_&&IE(t.parent_))}function Uw(t){t.copy_||(t.copy_=AE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&la(6),r!==void 0&&typeof r!="function"&&la(7);let i;if(jc(e)){const s=CR(this),l=NE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?kE(s):CE(s)}return kR(s,r),IR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===g9&&(i=void 0),this.autoFreeze_&&FT(i,!0),r){const s=[],l=[];Mc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else la(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){jc(t)||la(8),Nd(t)&&(t=die(t));const e=CR(this),n=NE(t,void 0);return n[vi].isManual_=!0,CE(e),n}finishDraft(t,e){const n=t&&t[vi];(!n||!n.isManual_)&&la(9);const{scope_:r}=n;return kR(r,e),IR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Mc("Patches").applyPatches_;return Nd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function NE(t,e){const n=Ym(t)?Mc("MapSet").proxyMap_(t,e):$v(t)?Mc("MapSet").proxySet_(t,e):lie(t,e);return(e?e.scope_:b9()).drafts_.push(n),n}function die(t){return Nd(t)||la(10,t),w9(t)}function w9(t){if(!jc(t)||Hv(t))return t;const e=t[vi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=AE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=AE(t,!0);return wy(n,(i,s)=>{v9(n,i,w9(s))},r),e&&(e.finalized_=!1),n}var fie=new uie;fie.produce;var hie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_9=Gr({name:"legend",initialState:hie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ha(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qt()},removeLegendPayload:{reducer(t,e){var n=ha(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qt()}}}),{setLegendSize:fve,setLegendSettings:hve,addLegendPayload:mie,replaceLegendPayload:pie,removeLegendPayload:gie}=_9.actions,yie=_9.reducer;function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t){return Array.isArray(t)&&is(t[0])&&is(t[1])?t.join(" ~ "):t}var _ie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:b=!1}=t,x=()=>{if(s&&s.length){var R={padding:0,margin:0},F=(c?kv(s,c):s).map((P,C)=>{if(P.type==="none")return null;var M=P.formatter||l||wie,{value:L,name:z}=P,q=L,U=z;if(M){var ve=M(L,z,P,C,s);if(Array.isArray(ve))[q,U]=ve;else if(ve!=null)q=ve;else return null}var Ce=Fw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Ce},is(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,is(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},_=Fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Fw({margin:0},i),E=!Xn(p),k=E?p:"",j=xe("recharts-default-tooltip",d),O=xe("recharts-tooltip-label",f);E&&m&&s!==void 0&&s!==null&&(k=m(p,s));var V=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",OE({className:j,style:_},V),T.createElement("p",{className:O,style:S},T.isValidElement(k)?k:"".concat(k)),x())},mh="recharts-tooltip-wrapper",Eie={visibility:"hidden"};function Sie(t){var{coordinate:e,translateX:n,translateY:r}=t;return xe(mh,{["".concat(mh,"-right")]:qe(n)&&e&&qe(e.x)&&n>=e.x,["".concat(mh,"-left")]:qe(n)&&e&&qe(e.x)&&n<e.x,["".concat(mh,"-bottom")]:qe(r)&&e&&qe(e.y)&&r>=e.y,["".concat(mh,"-top")]:qe(r)&&e&&qe(e.y)&&r<e.y})}function PR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&qe(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?p:m;var b=d[r];if(b==null)return 0;if(l[r]){var x=p,_=b;return x<_?Math.max(m,b):Math.max(p,b)}if(f==null)return 0;var S=m+c,E=b+f;return S>E?Math.max(p,b):Math.max(m,b)}function Tie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Aie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,p,m;return l.height>0&&l.width>0&&n?(p=PR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=PR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Tie({translateX:p,translateY:m,useTranslate3d:c})):f=Eie,{cssProperties:f,cssClasses:Sie({translateX:p,translateY:m,coordinate:n})}}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){PE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PE(t,e,n){return(e=kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Cie(t,"string");return typeof e=="symbol"?e:e+""}function Cie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Iie extends T.PureComponent{constructor(){super(...arguments),PE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),PE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:m,useTranslate3d:b,viewBox:x,wrapperStyle:_,lastBoundingBox:S,innerRef:E,hasPortalFromProps:k}=this.props,{cssClasses:j,cssProperties:O}=Aie({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:x}),V=k?{}:Xg(Xg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=Xg(Xg({},V),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},_);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:R,ref:E},s)}}var E9=()=>{var t;return(t=Ge(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(null,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zR={curveBasisClosed:Tee,curveBasisOpen:Aee,curveBasis:See,curveBumpX:uee,curveBumpY:dee,curveLinearClosed:kee,curveLinear:Tv,curveMonotoneX:Cee,curveMonotoneY:Iee,curveNatural:Nee,curveStep:Oee,curveStepAfter:Ree,curveStepBefore:Pee},Sy=t=>rn(t.x)&&rn(t.y),DR=t=>t.base!=null&&Sy(t.base)&&Sy(t),ph=t=>t.x,gh=t=>t.y,Rie=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Fm(t));return(n==="curveMonotone"||n==="curveBump")&&e?zR["".concat(n).concat(e==="vertical"?"Y":"X")]:zR[n]||Tv},jie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=Rie(e,i),c=s?n.filter(Sy):n,d;if(Array.isArray(r)){var f=n.map((x,_)=>MR(MR({},x),{},{base:r[_]}));i==="vertical"?d=Fg().y(gh).x1(ph).x0(x=>x.base.x):d=Fg().x(ph).y1(gh).y0(x=>x.base.y);var p=d.defined(DR).curve(l),m=s?f.filter(DR):f;return p(m)}i==="vertical"&&qe(r)?d=Fg().y(gh).x1(ph).x0(r):qe(r)?d=Fg().x(ph).y1(gh).y0(r):d=i6().x(ph).y(gh);var b=d.defined(Sy).curve(l);return b(c)},S9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Km();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?jie(l):r;return T.createElement("path",RE({},fl(t),ite(t),{className:xe("recharts-curve",e),d:c===null?void 0:c,ref:i}))},Mie=["x","y","top","left","width","height","className"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bie(t,e){if(t==null)return{};var n,r,i=Uie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fie=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),qie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=Bie(t,Mie),f=zie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!qe(e)||!qe(n)||!qe(s)||!qe(l)||!qe(r)||!qe(i)?null:T.createElement("path",jE({},Ui(f),{className:xe("recharts-cross",c),d:Fie(e,n,s,l,r,i)}))};function $ie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Kie(t,"string");return typeof e=="symbol"?e:e+""}function Kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),T9=(t,e,n)=>t.map(r=>"".concat(Yie(r)," ").concat(e,"ms ").concat(n)).join(","),Wie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),hm=(t,e)=>Object.keys(e).reduce((n,r)=>BR(BR({},n),{},{[r]:t(r,e[r])}),{});function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return(e=Qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ty=(t,e,n)=>t+(e-t)*n,ME=t=>{var{from:e,to:n}=t;return e!==n},A9=(t,e,n)=>{var r=hm((i,s)=>{if(ME(s)){var[l,c]=t(s.from,s.to,s.velocity);return Pn(Pn({},s),{},{from:l,velocity:c})}return s},e);return n<1?hm((i,s)=>ME(s)&&r[i]!=null?Pn(Pn({},s),{},{velocity:Ty(s.velocity,r[i].velocity,n),from:Ty(s.from,r[i].from,n)}):s,e):A9(t,r,n-1)};function Jie(t,e,n,r,i,s){var l,c=r.reduce((b,x)=>Pn(Pn({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>hm((b,x)=>x.from,c),f=()=>!Object.values(c).filter(ME).length,p=null,m=b=>{l||(l=b);var x=b-l,_=x/n.dt;c=A9(n,c,_),i(Pn(Pn(Pn({},t),e),d())),l=b,f()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var b;(b=p)===null||b===void 0||b()})}function eae(t,e,n,r,i,s,l){var c=null,d=i.reduce((m,b)=>{var x=t[b],_=e[b];return x==null||_==null?m:Pn(Pn({},m),{},{[b]:[x,_]})},{}),f,p=m=>{f||(f=m);var b=(m-f)/r,x=hm((S,E)=>Ty(...E,n(b)),d);if(s(Pn(Pn(Pn({},t),e),x)),b<1)c=l.setTimeout(p);else{var _=hm((S,E)=>Ty(...E,n(1)),d);s(Pn(Pn(Pn({},t),e),_))}};return()=>(c=l.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const tae=(t,e,n,r,i,s)=>{var l=Wie(t,e);return n==null?()=>(i(Pn(Pn({},t),e)),()=>{}):n.isStepper===!0?Jie(t,e,n,l,i,s):eae(t,e,n,r,l,i,s)};var Ay=1e-4,k9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],C9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),FR=(t,e)=>n=>{var r=k9(t,e);return C9(r,n)},nae=(t,e)=>n=>{var r=k9(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return C9(i,n)},rae=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},iae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=rae(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},aae=(t,e,n,r)=>{var i=FR(t,n),s=FR(e,r),l=nae(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,m=p,b=0;b<8;++b){var x=i(m)-p,_=l(m);if(Math.abs(x-p)<Ay||_<Ay)return s(m);m=c(m-x/_)}return s(m)};return d.isStepper=!1,d},qR=function(){return aae(...iae(...arguments))},sae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,p=d*r,m=d+(f-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Ay&&Math.abs(m)<Ay?[c,0]:[b,m]};return s.isStepper=!0,s.dt=i,s},oae=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qR(t);case"spring":return sae();default:if(t.split("(")[0]==="cubic-bezier")return qR(t)}return typeof t=="function"?t:null};function lae(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class cae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function uae(){return lae(new cae)}var dae=T.createContext(uae);function fae(t,e){var n=T.useContext(dae);return T.useMemo(()=>e??n(t),[t,e,n])}var hae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gv={isSsr:hae()},mae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$R={t:0},qw={t:1};function $T(t){var e=$i(t,mae),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,p=n==="auto"?!Gv.isSsr:n,m=fae(e.animationId,e.animationManager),[b,x]=T.useState(p?$R:qw),_=T.useRef(null);return T.useEffect(()=>{p||x(qw)},[p]),T.useEffect(()=>{if(!p||!r)return qm;var S=tae($R,qw,oae(s),i,x,m.getTimeoutController()),E=()=>{_.current=S()};return m.start([d,l,E,i,c]),()=>{m.stop(),_.current&&_.current(),c()}},[p,r,i,s,l,d,c,m]),f(b.t)}function HT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(sm(e)),r=T.useRef(t);return r.current!==t&&(n.current=sm(e),r.current=t),n.current}var pae=["radius"],gae=["radius"],HR,GR,KR,YR,WR,XR,QR,ZR,JR,ej;function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function rj(t,e){if(t==null)return{};var n,r,i=xae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ua(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ij=(t,e,n,r,i)=>{var s=el(n),l=el(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,m;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],x=0,_=4;x<_;x++)b[x]=i[x]>c?c:i[x];m=on(HR||(HR=Ua(["M",",",""])),t,e+d*b[0]),b[0]>0&&(m+=on(GR||(GR=Ua(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+f*b[0],e)),m+=on(KR||(KR=Ua(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(m+=on(YR||(YR=Ua(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),m+=on(WR||(WR=Ua(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(m+=on(XR||(XR=Ua(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-f*b[2],e+r)),m+=on(QR||(QR=Ua(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(m+=on(ZR||(ZR=Ua(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),m+="Z"}else if(c>0&&i===+i&&i>0){var S=Math.min(c,i);m=on(JR||(JR=Ua(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*S,S,S,p,t+f*S,e,t+n-f*S,e,S,S,p,t+n,e+d*S,t+n,e+r-d*S,S,S,p,t+n-f*S,e+r,t+f*S,e+r,S,S,p,t,e+r-d*S)}else m=on(ej||(ej=Ua(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},aj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I9=t=>{var e=$i(t,aj),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&i(ne)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:p}=e,{animationEasing:m,animationDuration:b,animationBegin:x,isAnimationActive:_,isUpdateAnimationActive:S}=e,E=T.useRef(c),k=T.useRef(d),j=T.useRef(s),O=T.useRef(l),V=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),R=HT(V,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=xe("recharts-rectangle",p);if(!S){var P=Ui(e),{radius:C}=P,M=rj(P,pae);return T.createElement("path",ky({},M,{x:el(s),y:el(l),width:el(c),height:el(d),radius:typeof f=="number"?f:void 0,className:F,d:ij(s,l,c,d,f)}))}var L=E.current,z=k.current,q=j.current,U=O.current,ve="0px ".concat(r===-1?1:r,"px"),Ce="".concat(r,"px 0px"),Y=T9(["strokeDasharray"],b,typeof m=="string"?m:aj.animationEasing);return T.createElement($T,{animationId:R,key:R,canBegin:r>0,duration:b,easing:m,isActive:S,begin:x},ne=>{var W=dr(L,c,ne),pe=dr(z,d,ne),ke=dr(q,s,ne),$=dr(U,l,ne);n.current&&(E.current=W,k.current=pe,j.current=ke,O.current=$);var ie;_?ne>0?ie={transition:Y,strokeDasharray:Ce}:ie={strokeDasharray:ve}:ie={strokeDasharray:Ce};var re=Ui(e),{radius:ce}=re,be=rj(re,gae);return T.createElement("path",ky({},be,{radius:typeof f=="number"?f:void 0,className:F,d:ij(ke,$,W,pe,f),ref:n,style:nj(nj({},ie),e.style)}))})};function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cy=Math.PI/180,Sae=t=>t*180/Math.PI,fr=(t,e,n,r)=>({x:t+Math.cos(-Cy*r)*n,y:e+Math.sin(-Cy*r)*n}),Tae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Aae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},kae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=Aae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:Sae(d),angleInRadian:d}},Cae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Iae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},Nae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=kae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=Cae(e),p=s,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?oj(oj({},e),{},{radius:i,angle:Iae(p,e)}):null};function N9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=fr(e,n,r,i),c=fr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var lj,cj,uj,dj,fj,hj,mj;function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function cc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Oae=(t,e)=>{var n=di(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Qg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,p=Math.asin(c/f)/Cy,m=d?i:i+s*p,b=fr(e,n,f,m),x=fr(e,n,r,m),_=d?i-s*p:i,S=fr(e,n,f*Math.cos(p*Cy),_);return{center:b,circleTangency:x,lineTangency:S,theta:p}},O9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=Oae(s,l),d=s+c,f=fr(e,n,i,s),p=fr(e,n,i,d),m=on(lj||(lj=cc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),p.x,p.y);if(r>0){var b=fr(e,n,r,s),x=fr(e,n,r,d);m+=on(cj||(cj=cc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else m+=on(uj||(uj=cc(["L ",","," Z"])),e,n);return m},Pae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,p=di(f-d),{circleTangency:m,lineTangency:b,theta:x}=Qg({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:_,lineTangency:S,theta:E}=Qg({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-x-E;if(k<0)return l?on(dj||(dj=cc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):O9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var j=on(fj||(fj=cc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),m.x,m.y,i,i,+(k>180),+(p<0),_.x,_.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:O,lineTangency:V,theta:R}=Qg({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:F,lineTangency:P,theta:C}=Qg({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=c?Math.abs(d-f):Math.abs(d-f)-R-C;if(M<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=on(hj||(hj=cc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(p<0),F.x,F.y,r,r,+(M>180),+(p>0),O.x,O.y,s,s,+(p<0),V.x,V.y)}else j+=on(mj||(mj=cc(["L",",","Z"])),e,n);return j},Rae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},P9=t=>{var e=$i(t,Rae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:m}=e;if(s<i||f===p)return null;var b=xe("recharts-sector",m),x=s-i,_=ma(l,x,0,!0),S;return _>0&&Math.abs(f-p)<360?S=Pae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):S=O9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),T.createElement("path",zE({},Ui(e),{className:b,d:S}))};function jae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(b6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=fr(r,i,s,c),f=fr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return N9(e)}}var $w={},Hw={},Gw={},pj;function Mae(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Gw)),Gw}var gj;function zae(){return gj||(gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Hw)),Hw}var yj;function Dae(){return yj||(yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=zae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})($w)),$w}var Kw,vj;function Lae(){return vj||(vj=1,Kw=Dae().range),Kw}var Vae=Lae();const R9=ss(Vae);function ol(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GT(t){let e,n,r;t.length!==2?(e=ol,n=(c,d)=>ol(t(c),d),r=(c,d)=>t(c)-d):(e=t===ol||t===Bae?t:Uae,n=t,r=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function s(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(c,d,f=0,p=c.length){const m=i(c,d,f,p-1);return m>f&&r(c[m-1],d)>-r(c[m],d)?m-1:m}return{left:i,center:l,right:s}}function Uae(){return 0}function j9(t){return t===null?NaN:+t}function*Fae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qae=GT(ol),Wm=qae.right;GT(j9).center;class bj extends Map{constructor(e,n=Gae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xj(this,e))}has(e){return super.has(xj(this,e))}set(e,n){return super.set($ae(this,e),n)}delete(e){return super.delete(Hae(this,e))}}function xj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $ae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Gae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kae(t=ol){if(t===ol)return M9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function M9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yae=Math.sqrt(50),Wae=Math.sqrt(10),Xae=Math.sqrt(2);function Iy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Yae?10:s>=Wae?5:s>=Xae?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Iy(t,e,n*2):[c,d,f]}function DE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Iy(e,t,n):Iy(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function LE(t,e,n){return e=+e,t=+t,n=+n,Iy(t,e,n)[2]}function VE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?LE(e,t,n):LE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _j(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function z9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?M9:Kae(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*m/d+b)),_=Math.min(r,Math.floor(e+(d-f)*m/d+b));z9(t,e,x,_,i)}const s=t[e];let l=n,c=r;for(yh(t,n,e),i(t[r],s)>0&&yh(t,n,r);l<c;){for(yh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?yh(t,n,c):(++c,yh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function yh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qae(t,e,n){if(t=Float64Array.from(Fae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _j(t);if(e>=1)return wj(t);var r,i=(r-1)*e,s=Math.floor(i),l=wj(z9(t,s).subarray(0,s+1)),c=_j(t.subarray(s+1));return l+(c-l)*(i-s)}}function Zae(t,e,n=j9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function Jae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function no(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BE=Symbol("implicit");function KT(){var t=new bj,e=[],n=[],r=BE;function i(s){let l=t.get(s);if(l===void 0){if(r!==BE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new bj;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KT(e,n).unknown(r)},Hi.apply(i,arguments),i}function YT(){var t=KT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var b=e().length,x=i<r,_=x?i:r,S=x?r:i;s=(S-_)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),_+=(S-_-s*(b-d))*p,l=s*(1-d),c&&(_=Math.round(_),l=Math.round(l));var E=Jae(b).map(function(k){return _+s*k});return n(x?E.reverse():E)}return t.domain=function(b){return arguments.length?(e(b),m()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,m()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),m()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),m()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,m()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),m()):p},t.copy=function(){return YT(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Hi.apply(m(),arguments)}function D9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return D9(e())},t}function ese(){return D9(YT.apply(null,arguments).paddingInner(1))}function WT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function L9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xm(){}var mm=.7,Ny=1/mm,ad="\\s*([+-]?\\d+)\\s*",pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tse=/^#([0-9a-f]{3,8})$/,nse=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),rse=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),ise=new RegExp(`^rgba\\(${ad},${ad},${ad},${pm}\\)$`),ase=new RegExp(`^rgba\\(${es},${es},${es},${pm}\\)$`),sse=new RegExp(`^hsl\\(${pm},${es},${es}\\)$`),ose=new RegExp(`^hsla\\(${pm},${es},${es},${pm}\\)$`),Ej={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WT(Xm,gm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sj,formatHex:Sj,formatHex8:lse,formatHsl:cse,formatRgb:Tj,toString:Tj});function Sj(){return this.rgb().formatHex()}function lse(){return this.rgb().formatHex8()}function cse(){return V9(this).formatHsl()}function Tj(){return this.rgb().formatRgb()}function gm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Aj(e):n===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nse.exec(t))?new qr(e[1],e[2],e[3],1):(e=rse.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ise.exec(t))?Zg(e[1],e[2],e[3],e[4]):(e=ase.exec(t))?Zg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sse.exec(t))?Ij(e[1],e[2]/100,e[3]/100,1):(e=ose.exec(t))?Ij(e[1],e[2]/100,e[3]/100,e[4]):Ej.hasOwnProperty(t)?Aj(Ej[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function Aj(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function Zg(t,e,n,r){return r<=0&&(t=e=n=NaN),new qr(t,e,n,r)}function use(t){return t instanceof Xm||(t=gm(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function UE(t,e,n,r){return arguments.length===1?use(t):new qr(t,e,n,r??1)}function qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}WT(qr,UE,L9(Xm,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mm:Math.pow(mm,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(bc(this.r),bc(this.g),bc(this.b),Oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kj,formatHex:kj,formatHex8:dse,formatRgb:Cj,toString:Cj}));function kj(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}`}function dse(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}${uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cj(){const t=Oy(this.opacity);return`${t===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${t===1?")":`, ${t})`}`}function Oy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function uc(t){return t=bc(t),(t<16?"0":"")+t.toString(16)}function Ij(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,n,r)}function V9(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof Xm||(t=gm(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new ca(l,c,d,t.opacity)}function fse(t,e,n,r){return arguments.length===1?V9(t):new ca(t,e,n,r??1)}function ca(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}WT(ca,fse,L9(Xm,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mm:Math.pow(mm,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qr(Yw(t>=240?t-240:t+120,i,r),Yw(t,i,r),Yw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ca(Nj(this.h),Jg(this.s),Jg(this.l),Oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oy(this.opacity);return`${t===1?"hsl(":"hsla("}${Nj(this.h)}, ${Jg(this.s)*100}%, ${Jg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Nj(t){return t=(t||0)%360,t<0?t+360:t}function Jg(t){return Math.max(0,Math.min(1,t||0))}function Yw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XT=t=>()=>t;function hse(t,e){return function(n){return t+n*e}}function mse(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pse(t){return(t=+t)==1?B9:function(e,n){return n-e?mse(e,n,t):XT(isNaN(e)?n:e)}}function B9(t,e){var n=e-t;return n?hse(t,n):XT(isNaN(t)?e:t)}const Oj=(function t(e){var n=pse(e);function r(i,s){var l=n((i=UE(i)).r,(s=UE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=B9(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function gse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function yse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Zd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function bse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Py(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var FE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ww=new RegExp(FE.source,"g");function wse(t){return function(){return t}}function _se(t){return function(e){return t(e)+""}}function Ese(t,e){var n=FE.lastIndex=Ww.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=FE.exec(t))&&(i=Ww.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Py(r,i)})),n=Ww.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?_se(d[0].x):wse(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function Zd(t,e){var n=typeof e,r;return e==null||n==="boolean"?XT(e):(n==="number"?Py:n==="string"?(r=gm(e))?(e=r,Oj):Ese:e instanceof gm?Oj:e instanceof Date?bse:yse(e)?gse:Array.isArray(e)?vse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xse:Py)(t,e)}function QT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sse(t,e){e===void 0&&(e=t,t=Zd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function Tse(t){return function(){return t}}function Ry(t){return+t}var Pj=[0,1];function Cr(t){return t}function qE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Tse(isNaN(e)?NaN:.5)}function Ase(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kse(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=qE(i,r),s=n(l,s)):(r=qE(r,i),s=n(s,l)),function(c){return s(r(c))}}function Cse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=qE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Wm(t,c,1,r)-1;return s[d](i[d](c))}}function Qm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kv(){var t=Pj,e=Pj,n=Zd,r,i,s,l=Cr,c,d,f;function p(){var b=Math.min(t.length,e.length);return l!==Cr&&(l=Ase(t[0],t[b-1])),c=b>2?Cse:kse,d=f=null,m}function m(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return m.invert=function(b){return l(i((f||(f=c(e,t.map(r),Py)))(b)))},m.domain=function(b){return arguments.length?(t=Array.from(b,Ry),p()):t.slice()},m.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},m.rangeRound=function(b){return e=Array.from(b),n=QT,p()},m.clamp=function(b){return arguments.length?(l=b?!0:Cr,p()):l!==Cr},m.interpolate=function(b){return arguments.length?(n=b,p()):n},m.unknown=function(b){return arguments.length?(s=b,m):s},function(b,x){return r=b,i=x,p()}}function ZT(){return Kv()(Cr,Cr)}function Ise(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Od(t){return t=jy(Math.abs(t)),t?t[1]:NaN}function Nse(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Ose(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ym(t){if(!(e=Pse.exec(t)))throw new Error("invalid format: "+t);var e;return new JT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ym.prototype=JT.prototype;function JT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var U9;function jse(t,e){var n=jy(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(U9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+jy(t,Math.max(0,e+s-1))[0]}function Rj(t,e){var n=jy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ise,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Rj(t*100,e),r:Rj,s:jse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mj(t){return t}var zj=Array.prototype.map,Dj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mse(t){var e=t.grouping===void 0||t.thousands===void 0?Mj:Nse(zj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Mj:Ose(zj.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=ym(m);var b=m.fill,x=m.align,_=m.sign,S=m.symbol,E=m.zero,k=m.width,j=m.comma,O=m.precision,V=m.trim,R=m.type;R==="n"?(j=!0,R="g"):jj[R]||(O===void 0&&(O=12),V=!0,R="g"),(E||b==="0"&&x==="=")&&(E=!0,b="0",x="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",P=S==="$"?r:/[%p]/.test(R)?l:"",C=jj[R],M=/[defgprs%]/.test(R);O=O===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function L(z){var q=F,U=P,ve,Ce,Y;if(R==="c")U=C(z)+U,z="";else{z=+z;var ne=z<0||1/z<0;if(z=isNaN(z)?d:C(Math.abs(z),O),V&&(z=Rse(z)),ne&&+z==0&&_!=="+"&&(ne=!1),q=(ne?_==="("?_:c:_==="-"||_==="("?"":_)+q,U=(R==="s"?Dj[8+U9/3]:"")+U+(ne&&_==="("?")":""),M){for(ve=-1,Ce=z.length;++ve<Ce;)if(Y=z.charCodeAt(ve),48>Y||Y>57){U=(Y===46?i+z.slice(ve+1):z.slice(ve))+U,z=z.slice(0,ve);break}}}j&&!E&&(z=e(z,1/0));var W=q.length+z.length+U.length,pe=W<k?new Array(k-W+1).join(b):"";switch(j&&E&&(z=e(pe+z,pe.length?k-U.length:1/0),pe=""),x){case"<":z=q+z+U+pe;break;case"=":z=q+pe+z+U;break;case"^":z=pe.slice(0,W=pe.length>>1)+q+z+U+pe.slice(W);break;default:z=pe+q+z+U;break}return s(z)}return L.toString=function(){return m+""},L}function p(m,b){var x=f((m=ym(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(Od(b)/3)))*3,S=Math.pow(10,-_),E=Dj[8+_/3];return function(k){return x(S*k)+E}}return{format:f,formatPrefix:p}}var e0,e2,F9;zse({thousands:",",grouping:[3],currency:["$",""]});function zse(t){return e0=Mse(t),e2=e0.format,F9=e0.formatPrefix,e0}function Dse(t){return Math.max(0,-Od(Math.abs(t)))}function Lse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Od(e)/3)))*3-Od(Math.abs(t)))}function Vse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Od(e)-Od(t))+1}function q9(t,e,n,r){var i=VE(t,e,n),s;switch(r=ym(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Lse(i,l))&&(r.precision=s),F9(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Vse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dse(i))&&(r.precision=s-(r.type==="%")*2);break}}return e2(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return DE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return q9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,p=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=LE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function $9(){var t=ZT();return t.copy=function(){return Qm(t,$9())},Hi.apply(t,arguments),xl(t)}function H9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ry),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return H9(t).unknown(e)},t=arguments.length?Array.from(t,Ry):[0,1],xl(n)}function G9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Lj(t){return Math.log(t)}function Vj(t){return Math.exp(t)}function Bse(t){return-Math.log(-t)}function Use(t){return-Math.exp(-t)}function Fse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qse(t){return t===10?Fse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $se(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Bj(t){return(e,n)=>-t(-e,n)}function t2(t){const e=t(Lj,Vj),n=e.domain;let r=10,i,s;function l(){return i=$se(r),s=qse(r),n()[0]<0?(i=Bj(i),s=Bj(s),t(Bse,Use)):t(Lj,Vj),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let b=i(f),x=i(p),_,S;const E=c==null?10:+c;let k=[];if(!(r%1)&&x-b<E){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(_=1;_<r;++_)if(S=b<0?_/s(-b):_*s(b),!(S<f)){if(S>p)break;k.push(S)}}else for(;b<=x;++b)for(_=r-1;_>=1;--_)if(S=b>0?_/s(-b):_*s(b),!(S<f)){if(S>p)break;k.push(S)}k.length*2<E&&(k=DE(f,p,E))}else k=DE(b,x,Math.min(x-b,E)).map(s);return m?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ym(d)).precision==null&&(d.trim=!0),d=e2(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},e.nice=()=>n(G9(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function K9(){const t=t2(Kv()).domain([1,10]);return t.copy=()=>Qm(t,K9()).base(t.base()),Hi.apply(t,arguments),t}function Uj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Fj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function n2(t){var e=1,n=t(Uj(e),Fj(e));return n.constant=function(r){return arguments.length?t(Uj(e=+r),Fj(e)):e},xl(n)}function Y9(){var t=n2(Kv());return t.copy=function(){return Qm(t,Y9()).constant(t.constant())},Hi.apply(t,arguments)}function qj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gse(t){return t<0?-t*t:t*t}function r2(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(Hse,Gse):t(qj(n),qj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function i2(){var t=r2(Kv());return t.copy=function(){return Qm(t,i2()).exponent(t.exponent())},Hi.apply(t,arguments),t}function Kse(){return i2.apply(null,arguments).exponent(.5)}function $j(t){return Math.sign(t)*t*t}function Yse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W9(){var t=ZT(),e=[0,1],n=!1,r;function i(s){var l=Yse(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert($j(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ry)).map($j)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return W9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Hi.apply(i,arguments),xl(i)}function X9(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Zae(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Wm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ol),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return X9().domain(t).range(e).unknown(r)},Hi.apply(s,arguments)}function Q9(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Wm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Q9().domain([t,e]).range(i).unknown(s)},Hi.apply(xl(l),arguments)}function Z9(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Wm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Z9().domain(t).range(e).unknown(n)},Hi.apply(i,arguments)}const Xw=new Date,Qw=new Date;function Mn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Mn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Xw.setTime(+s),Qw.setTime(+l),t(Xw),t(Qw),Math.floor(n(Xw,Qw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const My=Mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);My.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):My);My.range;const js=1e3,Bi=js*60,Ms=Bi*60,Gs=Ms*24,a2=Gs*7,Hj=Gs*30,Zw=Gs*365,dc=Mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());dc.range;const s2=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getMinutes());s2.range;const o2=Mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCMinutes());o2.range;const l2=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*Bi)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getHours());l2.range;const c2=Mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCHours());c2.range;const Zm=Mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bi)/Gs,t=>t.getDate()-1);Zm.range;const Yv=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);Yv.range;const J9=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));J9.range;function qc(t){return Mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bi)/a2)}const Wv=qc(0),zy=qc(1),Wse=qc(2),Xse=qc(3),Pd=qc(4),Qse=qc(5),Zse=qc(6);Wv.range;zy.range;Wse.range;Xse.range;Pd.range;Qse.range;Zse.range;function $c(t){return Mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/a2)}const Xv=$c(0),Dy=$c(1),Jse=$c(2),eoe=$c(3),Rd=$c(4),toe=$c(5),noe=$c(6);Xv.range;Dy.range;Jse.range;eoe.range;Rd.range;toe.range;noe.range;const u2=Mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());u2.range;const d2=Mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());d2.range;const Ks=Mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Ys=Mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ys.range;function eL(t,e,n,r,i,s){const l=[[dc,1,js],[dc,5,5*js],[dc,15,15*js],[dc,30,30*js],[s,1,Bi],[s,5,5*Bi],[s,15,15*Bi],[s,30,30*Bi],[i,1,Ms],[i,3,3*Ms],[i,6,6*Ms],[i,12,12*Ms],[r,1,Gs],[r,2,2*Gs],[n,1,a2],[e,1,Hj],[e,3,3*Hj],[t,1,Zw]];function c(f,p,m){const b=p<f;b&&([f,p]=[p,f]);const x=m&&typeof m.range=="function"?m:d(f,p,m),_=x?x.range(f,+p+1):[];return b?_.reverse():_}function d(f,p,m){const b=Math.abs(p-f)/m,x=GT(([,,E])=>E).right(l,b);if(x===l.length)return t.every(VE(f/Zw,p/Zw,m));if(x===0)return My.every(Math.max(VE(f,p,m),1));const[_,S]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return _.every(S)}return[c,d]}const[roe,ioe]=eL(Ys,d2,Xv,J9,c2,o2),[aoe,soe]=eL(Ks,u2,Wv,Zm,l2,s2);function Jw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function e_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ooe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=bh(i),p=xh(i),m=bh(s),b=xh(s),x=bh(l),_=xh(l),S=bh(c),E=xh(c),k=bh(d),j=xh(d),O={a:ne,A:W,b:pe,B:ke,c:null,d:Qj,e:Qj,f:Noe,g:Boe,G:Foe,H:koe,I:Coe,j:Ioe,L:tL,m:Ooe,M:Poe,p:$,q:ie,Q:eM,s:tM,S:Roe,u:joe,U:Moe,V:zoe,w:Doe,W:Loe,x:null,X:null,y:Voe,Y:Uoe,Z:qoe,"%":Jj},V={a:re,A:ce,b:be,B:Se,c:null,d:Zj,e:Zj,f:Koe,g:rle,G:ale,H:$oe,I:Hoe,j:Goe,L:rL,m:Yoe,M:Woe,p:Te,q:Ve,Q:eM,s:tM,S:Xoe,u:Qoe,U:Zoe,V:Joe,w:ele,W:tle,x:null,X:null,y:nle,Y:ile,Z:sle,"%":Jj},R={a:L,A:z,b:q,B:U,c:ve,d:Wj,e:Wj,f:Eoe,g:Yj,G:Kj,H:Xj,I:Xj,j:boe,L:_oe,m:voe,M:xoe,p:M,q:yoe,Q:Toe,s:Aoe,S:woe,u:foe,U:hoe,V:moe,w:doe,W:poe,x:Ce,X:Y,y:Yj,Y:Kj,Z:goe,"%":Soe};O.x=F(n,O),O.X=F(r,O),O.c=F(e,O),V.x=F(n,V),V.X=F(r,V),V.c=F(e,V);function F(G,ye){return function(Ne){var de=[],bt=-1,Ke=0,Dt=G.length,gt,Bt,Vn;for(Ne instanceof Date||(Ne=new Date(+Ne));++bt<Dt;)G.charCodeAt(bt)===37&&(de.push(G.slice(Ke,bt)),(Bt=Gj[gt=G.charAt(++bt)])!=null?gt=G.charAt(++bt):Bt=gt==="e"?" ":"0",(Vn=ye[gt])&&(gt=Vn(Ne,Bt)),de.push(gt),Ke=bt+1);return de.push(G.slice(Ke,bt)),de.join("")}}function P(G,ye){return function(Ne){var de=vh(1900,void 0,1),bt=C(de,G,Ne+="",0),Ke,Dt;if(bt!=Ne.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ye&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ke=e_(vh(de.y,0,1)),Dt=Ke.getUTCDay(),Ke=Dt>4||Dt===0?Dy.ceil(Ke):Dy(Ke),Ke=Yv.offset(Ke,(de.V-1)*7),de.y=Ke.getUTCFullYear(),de.m=Ke.getUTCMonth(),de.d=Ke.getUTCDate()+(de.w+6)%7):(Ke=Jw(vh(de.y,0,1)),Dt=Ke.getDay(),Ke=Dt>4||Dt===0?zy.ceil(Ke):zy(Ke),Ke=Zm.offset(Ke,(de.V-1)*7),de.y=Ke.getFullYear(),de.m=Ke.getMonth(),de.d=Ke.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Dt="Z"in de?e_(vh(de.y,0,1)).getUTCDay():Jw(vh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Dt+5)%7:de.w+de.U*7-(Dt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,e_(de)):Jw(de)}}function C(G,ye,Ne,de){for(var bt=0,Ke=ye.length,Dt=Ne.length,gt,Bt;bt<Ke;){if(de>=Dt)return-1;if(gt=ye.charCodeAt(bt++),gt===37){if(gt=ye.charAt(bt++),Bt=R[gt in Gj?ye.charAt(bt++):gt],!Bt||(de=Bt(G,Ne,de))<0)return-1}else if(gt!=Ne.charCodeAt(de++))return-1}return de}function M(G,ye,Ne){var de=f.exec(ye.slice(Ne));return de?(G.p=p.get(de[0].toLowerCase()),Ne+de[0].length):-1}function L(G,ye,Ne){var de=x.exec(ye.slice(Ne));return de?(G.w=_.get(de[0].toLowerCase()),Ne+de[0].length):-1}function z(G,ye,Ne){var de=m.exec(ye.slice(Ne));return de?(G.w=b.get(de[0].toLowerCase()),Ne+de[0].length):-1}function q(G,ye,Ne){var de=k.exec(ye.slice(Ne));return de?(G.m=j.get(de[0].toLowerCase()),Ne+de[0].length):-1}function U(G,ye,Ne){var de=S.exec(ye.slice(Ne));return de?(G.m=E.get(de[0].toLowerCase()),Ne+de[0].length):-1}function ve(G,ye,Ne){return C(G,e,ye,Ne)}function Ce(G,ye,Ne){return C(G,n,ye,Ne)}function Y(G,ye,Ne){return C(G,r,ye,Ne)}function ne(G){return l[G.getDay()]}function W(G){return s[G.getDay()]}function pe(G){return d[G.getMonth()]}function ke(G){return c[G.getMonth()]}function $(G){return i[+(G.getHours()>=12)]}function ie(G){return 1+~~(G.getMonth()/3)}function re(G){return l[G.getUTCDay()]}function ce(G){return s[G.getUTCDay()]}function be(G){return d[G.getUTCMonth()]}function Se(G){return c[G.getUTCMonth()]}function Te(G){return i[+(G.getUTCHours()>=12)]}function Ve(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ye=F(G+="",O);return ye.toString=function(){return G},ye},parse:function(G){var ye=P(G+="",!1);return ye.toString=function(){return G},ye},utcFormat:function(G){var ye=F(G+="",V);return ye.toString=function(){return G},ye},utcParse:function(G){var ye=P(G+="",!0);return ye.toString=function(){return G},ye}}}var Gj={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,loe=/^%/,coe=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function uoe(t){return t.replace(coe,"\\$&")}function bh(t){return new RegExp("^(?:"+t.map(uoe).join("|")+")","i")}function xh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function doe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function foe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hoe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function moe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function poe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Kj(t,e,n){var r=Zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Yj(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function goe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yoe(t,e,n){var r=Zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function voe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Wj(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Xj(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=Zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=Zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=Zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Soe(t,e,n){var r=loe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Toe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Aoe(t,e,n){var r=Zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Qj(t,e){return pt(t.getDate(),e,2)}function koe(t,e){return pt(t.getHours(),e,2)}function Coe(t,e){return pt(t.getHours()%12||12,e,2)}function Ioe(t,e){return pt(1+Zm.count(Ks(t),t),e,3)}function tL(t,e){return pt(t.getMilliseconds(),e,3)}function Noe(t,e){return tL(t,e)+"000"}function Ooe(t,e){return pt(t.getMonth()+1,e,2)}function Poe(t,e){return pt(t.getMinutes(),e,2)}function Roe(t,e){return pt(t.getSeconds(),e,2)}function joe(t){var e=t.getDay();return e===0?7:e}function Moe(t,e){return pt(Wv.count(Ks(t)-1,t),e,2)}function nL(t){var e=t.getDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function zoe(t,e){return t=nL(t),pt(Pd.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function Doe(t){return t.getDay()}function Loe(t,e){return pt(zy.count(Ks(t)-1,t),e,2)}function Voe(t,e){return pt(t.getFullYear()%100,e,2)}function Boe(t,e){return t=nL(t),pt(t.getFullYear()%100,e,2)}function Uoe(t,e){return pt(t.getFullYear()%1e4,e,4)}function Foe(t,e){var n=t.getDay();return t=n>=4||n===0?Pd(t):Pd.ceil(t),pt(t.getFullYear()%1e4,e,4)}function qoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function Zj(t,e){return pt(t.getUTCDate(),e,2)}function $oe(t,e){return pt(t.getUTCHours(),e,2)}function Hoe(t,e){return pt(t.getUTCHours()%12||12,e,2)}function Goe(t,e){return pt(1+Yv.count(Ys(t),t),e,3)}function rL(t,e){return pt(t.getUTCMilliseconds(),e,3)}function Koe(t,e){return rL(t,e)+"000"}function Yoe(t,e){return pt(t.getUTCMonth()+1,e,2)}function Woe(t,e){return pt(t.getUTCMinutes(),e,2)}function Xoe(t,e){return pt(t.getUTCSeconds(),e,2)}function Qoe(t){var e=t.getUTCDay();return e===0?7:e}function Zoe(t,e){return pt(Xv.count(Ys(t)-1,t),e,2)}function iL(t){var e=t.getUTCDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function Joe(t,e){return t=iL(t),pt(Rd.count(Ys(t),t)+(Ys(t).getUTCDay()===4),e,2)}function ele(t){return t.getUTCDay()}function tle(t,e){return pt(Dy.count(Ys(t)-1,t),e,2)}function nle(t,e){return pt(t.getUTCFullYear()%100,e,2)}function rle(t,e){return t=iL(t),pt(t.getUTCFullYear()%100,e,2)}function ile(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function ale(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rd(t):Rd.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function sle(){return"+0000"}function Jj(){return"%"}function eM(t){return+t}function tM(t){return Math.floor(+t/1e3)}var Uu,aL,sL;ole({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ole(t){return Uu=ooe(t),aL=Uu.format,Uu.parse,sL=Uu.utcFormat,Uu.utcParse,Uu}function lle(t){return new Date(t)}function cle(t){return t instanceof Date?+t:+new Date(+t)}function f2(t,e,n,r,i,s,l,c,d,f){var p=ZT(),m=p.invert,b=p.domain,x=f(".%L"),_=f(":%S"),S=f("%I:%M"),E=f("%I %p"),k=f("%a %d"),j=f("%b %d"),O=f("%B"),V=f("%Y");function R(F){return(d(F)<F?x:c(F)<F?_:l(F)<F?S:s(F)<F?E:r(F)<F?i(F)<F?k:j:n(F)<F?O:V)(F)}return p.invert=function(F){return new Date(m(F))},p.domain=function(F){return arguments.length?b(Array.from(F,cle)):b().map(lle)},p.ticks=function(F){var P=b();return t(P[0],P[P.length-1],F??10)},p.tickFormat=function(F,P){return P==null?R:f(P)},p.nice=function(F){var P=b();return(!F||typeof F.range!="function")&&(F=e(P[0],P[P.length-1],F??10)),F?b(G9(P,F)):p},p.copy=function(){return Qm(p,f2(t,e,n,r,i,s,l,c,d,f))},p}function ule(){return Hi.apply(f2(aoe,soe,Ks,u2,Wv,Zm,l2,s2,dc,aL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dle(){return Hi.apply(f2(roe,ioe,Ys,d2,Xv,Yv,c2,o2,dc,sL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var t=0,e=1,n,r,i,s,l=Cr,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(b){var x,_;return arguments.length?([x,_]=b,l=m(x,_),f):[l(0),l(1)]}}return f.range=p(Zd),f.rangeRound=p(QT),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oL(){var t=xl(Qv()(Cr));return t.copy=function(){return wl(t,oL())},no.apply(t,arguments)}function lL(){var t=t2(Qv()).domain([1,10]);return t.copy=function(){return wl(t,lL()).base(t.base())},no.apply(t,arguments)}function cL(){var t=n2(Qv());return t.copy=function(){return wl(t,cL()).constant(t.constant())},no.apply(t,arguments)}function h2(){var t=r2(Qv());return t.copy=function(){return wl(t,h2()).exponent(t.exponent())},no.apply(t,arguments)}function fle(){return h2.apply(null,arguments).exponent(.5)}function uL(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ol),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Qae(t,s/r))},n.copy=function(){return uL(e).domain(t)},no.apply(n,arguments)}function Zv(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Cr,p,m=!1,b;function x(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-s)*(r*S<r*s?c:d),f(m?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(S){return arguments.length?(m=!!S,x):m},x.interpolator=function(S){return arguments.length?(f=S,x):f};function _(S){return function(E){var k,j,O;return arguments.length?([k,j,O]=E,f=Sse(S,[k,j,O]),x):[f(0),f(.5),f(1)]}}return x.range=_(Zd),x.rangeRound=_(QT),x.unknown=function(S){return arguments.length?(b=S,x):b},function(S){return p=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function dL(){var t=xl(Zv()(Cr));return t.copy=function(){return wl(t,dL())},no.apply(t,arguments)}function fL(){var t=t2(Zv()).domain([.1,1,10]);return t.copy=function(){return wl(t,fL()).base(t.base())},no.apply(t,arguments)}function hL(){var t=n2(Zv());return t.copy=function(){return wl(t,hL()).constant(t.constant())},no.apply(t,arguments)}function m2(){var t=r2(Zv());return t.copy=function(){return wl(t,m2()).exponent(t.exponent())},no.apply(t,arguments)}function hle(){return m2.apply(null,arguments).exponent(.5)}const Ch=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:YT,scaleDiverging:dL,scaleDivergingLog:fL,scaleDivergingPow:m2,scaleDivergingSqrt:hle,scaleDivergingSymlog:hL,scaleIdentity:H9,scaleImplicit:BE,scaleLinear:$9,scaleLog:K9,scaleOrdinal:KT,scalePoint:ese,scalePow:i2,scaleQuantile:X9,scaleQuantize:Q9,scaleRadial:W9,scaleSequential:oL,scaleSequentialLog:lL,scaleSequentialPow:h2,scaleSequentialQuantile:uL,scaleSequentialSqrt:fle,scaleSequentialSymlog:cL,scaleSqrt:Kse,scaleSymlog:Y9,scaleThreshold:Z9,scaleTime:ule,scaleUtc:dle,tickFormat:q9},Symbol.toStringTag,{value:"Module"}));var ro=t=>t.chartData,mL=oe([ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),pL=(t,e,n,r)=>r?mL(t):ro(t),mle=(t,e,n)=>n?mL(t):ro(t);function ml(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(rn(e)&&rn(n))return!0}return!1}function nM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function gL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(rn(n))i=n;else if(typeof n=="function")return;if(rn(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ml(l))return l}}function ple(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ml(r))return nM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(qe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&mR.test(i)){var d=mR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(qe(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&pR.test(s)){var p=pR.exec(s);if(p==null||p[1]==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e?.[1];var b=[l,c];if(ml(b))return e==null?b:nM(b,e,n)}}}var Jd=1e9,gle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g2,Jt=!0,qi="[DecimalError] ",xc=qi+"Invalid argument: ",p2=qi+"Exponent out of range: ",ef=Math.floor,tc=Math.pow,yle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,Yn=1e7,Kt=7,yL=9007199254740991,Ly=ef(yL/Kt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Ds(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Vt(Ds(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return kn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(li))throw Error(qi+"NaN");if(n.s<1)throw Error(qi+(n.s?"NaN":"-Infinity"));return n.eq(li)?new r(0):(Jt=!1,e=Ds(vm(n,s),vm(t,s),s),Jt=!0,Vt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xL(e,t):vL(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(qi+"NaN");return n.s?(Jt=!1,e=Ds(n,t,0,1).times(t),Jt=!0,n.minus(e)):Vt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return bL(this)};Pe.naturalLogarithm=Pe.ln=function(){return vm(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vL(e,t):xL(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xc+t);if(e=kn(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(qi+"NaN")}for(t=kn(c),Jt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Ya(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ef((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ds(c,s,l+2)).times(.5),Ya(s.d).slice(0,l)===(e=Ya(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Jt=!0,Vt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,s,l,c,d,f,p=this,m=p.constructor,b=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,f=x.length,d<f&&(s=b,b=x,x=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+x[r]*b[i-r-1]+e,s[i--]=c%Yn|0,e=c/Yn|0;s[i]=(s[i]+e)%Yn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Jt?Vt(t,m.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(as(t,0,Jd),e===void 0?e=r.rounding:as(e,0,8),Vt(n,t+kn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zc(r,!0):(as(t,0,Jd),e===void 0?e=i.rounding:as(e,0,8),r=Vt(new i(r),t+1,e),n=zc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?zc(i):(as(t,0,Jd),e===void 0?e=s.rounding:as(e,0,8),r=Vt(new s(i),t+kn(i)+1,e),n=zc(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),kn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(li);if(c=new d(c),!c.s){if(t.s<1)throw Error(qi+"Infinity");return c}if(c.eq(li))return c;if(r=d.precision,t.eq(li))return Vt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=yL){for(i=new d(li),e=Math.ceil(r/Kt+4),Jt=!1;n%2&&(i=i.times(c),iM(i.d,e)),n=ef(n/2),n!==0;)c=c.times(c),iM(c.d,e);return Jt=!0,t.s<0?new d(li).div(i):Vt(i,r)}}else if(s<0)throw Error(qi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Jt=!1,i=t.times(vm(c,r+f)),Jt=!0,i=bL(i),i.s=s,i};Pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=kn(i),r=zc(i,n<=s.toExpNeg||n>=s.toExpPos)):(as(t,1,Jd),e===void 0?e=s.rounding:as(e,0,8),i=Vt(new s(i),t,e),n=kn(i),r=zc(i,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(as(t,1,Jd),e===void 0?e=r.rounding:as(e,0,8)),Vt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return zc(t,e<=n.toExpNeg||e>=n.toExpPos)};function vL(t,e){var n,r,i,s,l,c,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jt?Vt(e,m):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(m/Kt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Yn|0,d[s]%=Yn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Jt?Vt(e,m):e}function as(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xc+t)}function Ya(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Kt-r.length,n&&(s+=Go(n)),s+=r;l=t[e],r=l+"",n=Kt-r.length,n&&(s+=Go(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ds=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Yn|0,l=s/Yn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,p,m,b,x,_,S,E,k,j,O,V,R,F,P,C,M=r.constructor,L=r.s==i.s?1:-1,z=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(qi+"Division by zero");for(d=r.e-i.e,P=q.length,R=z.length,x=new M(L),_=x.d=[],f=0;q[f]==(z[f]||0);)++f;if(q[f]>(z[f]||0)&&--d,s==null?j=s=M.precision:l?j=s+(kn(r)-kn(i))+1:j=s,j<0)return new M(0);if(j=j/Kt+2|0,f=0,P==1)for(p=0,q=q[0],j++;(f<R||p)&&j--;f++)O=p*Yn+(z[f]||0),_[f]=O/q|0,p=O%q|0;else{for(p=Yn/(q[0]+1)|0,p>1&&(q=t(q,p),z=t(z,p),P=q.length,R=z.length),V=P,S=z.slice(0,P),E=S.length;E<P;)S[E++]=0;C=q.slice(),C.unshift(0),F=q[0],q[1]>=Yn/2&&++F;do p=0,c=e(q,S,P,E),c<0?(k=S[0],P!=E&&(k=k*Yn+(S[1]||0)),p=k/F|0,p>1?(p>=Yn&&(p=Yn-1),m=t(q,p),b=m.length,E=S.length,c=e(m,S,b,E),c==1&&(p--,n(m,P<b?C:q,b))):(p==0&&(c=p=1),m=q.slice()),b=m.length,b<E&&m.unshift(0),n(S,m,E),c==-1&&(E=S.length,c=e(q,S,P,E),c<1&&(p++,n(S,P<E?C:q,E))),E=S.length):c===0&&(p++,S=[0]),_[f++]=p,c&&S[0]?S[E++]=z[V]||0:(S=[z[V]],E=1);while((V++<R||S[0]!==void 0)&&j--)}return _[0]||_.shift(),x.e=d,Vt(x,l?s+kn(x)+1:s)}})();function bL(t,e){var n,r,i,s,l,c,d=0,f=0,p=t.constructor,m=p.precision;if(kn(t)>16)throw Error(p2+kn(t));if(!t.s)return new p(li);for(Jt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(tc(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new p(li),p.precision=c;;){if(i=Vt(i.times(t),c),n=n.times(++d),l=s.plus(Ds(i,n,c)),Ya(l.d).slice(0,c)===Ya(s.d).slice(0,c)){for(;f--;)s=Vt(s.times(s),c);return p.precision=m,e==null?(Jt=!0,Vt(s,m)):s}s=l}}function kn(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function t_(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(qi+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function Go(t){for(var e="";t--;)e+="0";return e}function vm(t,e){var n,r,i,s,l,c,d,f,p,m=1,b=10,x=t,_=x.d,S=x.constructor,E=S.precision;if(x.s<1)throw Error(qi+(x.s?"NaN":"-Infinity"));if(x.eq(li))return new S(0);if(e==null?(Jt=!1,f=E):f=e,x.eq(10))return e==null&&(Jt=!0),t_(S,f);if(f+=b,S.precision=f,n=Ya(_),r=n.charAt(0),s=kn(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Ya(x.d),r=n.charAt(0),m++;s=kn(x),r>1?(x=new S("0."+n),s++):x=new S(r+"."+n.slice(1))}else return d=t_(S,f+2,E).times(s+""),x=vm(new S(r+"."+n.slice(1)),f-b).plus(d),S.precision=E,e==null?(Jt=!0,Vt(x,E)):x;for(c=l=x=Ds(x.minus(li),x.plus(li),f),p=Vt(x.times(x),f),i=3;;){if(l=Vt(l.times(p),f),d=c.plus(Ds(l,new S(i),f)),Ya(d.d).slice(0,f)===Ya(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(t_(S,f+2,E).times(s+""))),c=Ds(c,new S(m),f),S.precision=E,e==null?(Jt=!0,Vt(c,E)):c;c=d,i+=2}}function rM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ef(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kt;r<i;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>Ly||t.e<-Ly))throw Error(p2+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,l,c,d,f,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Kt,i=e,f=m[p=0];else{if(p=Math.ceil((r+1)/Kt),s=m.length,p>=s)return t;for(f=s=m[p],l=1;s>=10;s/=10)l++;r%=Kt,i=r-Kt+l}if(n!==void 0&&(s=tc(10,l-i-1),c=f/s%10|0,d=e<0||m[p+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/tc(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(s=kn(t),m.length=1,e=e-s-1,m[0]=tc(10,(Kt-e%Kt)%Kt),t.e=ef(-e/Kt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=tc(10,Kt-r),m[p]=i>0?(f/tc(10,l-i)%tc(10,i)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Yn&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Yn)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Jt&&(t.e>Ly||t.e<-Ly))throw Error(p2+kn(t));return t}function xL(t,e){var n,r,i,s,l,c,d,f,p,m,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Jt?Vt(e,x):e;if(d=t.d,m=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,c=m.length):(n=m,r=f,c=d.length),i=Math.max(Math.ceil(x/Kt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(s=i;s&&d[--s]===0;)d[s]=Yn-1;--d[s],d[i]+=Yn}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Jt?Vt(e,x):e):new b(0)}function zc(t,e,n){var r,i=kn(t),s=Ya(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Go(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Go(-i-1)+s,n&&(r=n-l)>0&&(s+=Go(r))):i>=l?(s+=Go(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Go(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Go(r))),t.s<0?"-"+s:s}function iM(t,e){if(t.length>e)return t.length=e,!0}function wL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return rM(l,s.toString())}else if(typeof s!="string")throw Error(xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,yle.test(s))rM(l,s);else throw Error(xc+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wL,i.config=i.set=vle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vle(t){if(!t||typeof t!="object")throw Error(qi+"Object expected");var e,n,r,i=["precision",1,Jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ef(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xc+n+": "+r);return this}var g2=wL(gle);li=new g2(1);const Tt=g2;var ble=t=>t,_L={},EL=t=>t===_L,aM=t=>function e(){return arguments.length===0||arguments.length===1&&EL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},SL=(t,e)=>t===1?e:aM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==_L).length;return s>=t?e(...r):SL(t-s,aM(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(p=>EL(p)?c.shift():p);return e(...f,...c)}))}),xle=t=>SL(t.length,t),$E=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},wle=xle((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),_le=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ble;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function TL(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function AL(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var kL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},CL=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=TL(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new Tt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new Tt(d.toNumber()):new Tt(Math.ceil(d.toNumber()))},Ele=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(TL(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var l=Math.floor((e-1)/2),c=_le(wle(d=>i.add(new Tt(d-l).mul(r)).toNumber()),$E);return c(0,e)},IL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var l=CL(new Tt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new Tt(0):(c=new Tt(e).add(n).div(2),c=c.sub(new Tt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new Tt(n).sub(c).div(l).toNumber()),p=d+f+1;return p>r?IL(e,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:c.sub(new Tt(d).mul(l)),tickMax:c.add(new Tt(f).mul(l))})},Sle=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=kL([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...$E(0,i-1).map(()=>1/0)]:[...$E(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return Ele(c,i,s);var{step:p,tickMin:m,tickMax:b}=IL(c,d,l,s,0),x=AL(m,b.add(new Tt(.1).mul(p)),p);return n>r?x.reverse():x},Tle=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=kL([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=CL(new Tt(c).sub(l).div(d-1),s,0),p=[...AL(new Tt(l),new Tt(c),f),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},NL=t=>t.rootProps.maxBarSize,Ale=t=>t.rootProps.barGap,OL=t=>t.rootProps.barCategoryGap,kle=t=>t.rootProps.barSize,Jv=t=>t.rootProps.stackOffset,PL=t=>t.rootProps.reverseStackOrder,y2=t=>t.options.chartName,v2=t=>t.rootProps.syncId,RL=t=>t.rootProps.syncMethod,b2=t=>t.options.eventEmitter,$r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},eb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Cle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:Is.reversed,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:Is.type,unit:void 0},Ile={allowDataOverflow:oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,ticks:void 0,type:oi.type,unit:void 0},Nle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ole={allowDataOverflow:oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,ticks:void 0,type:"category",unit:void 0},x2=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Nle:Cle,w2=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ole:Ile,tb=t=>t.polarOptions,_2=oe([eo,to,Qn],Tae),jL=oe([tb,_2],(t,e)=>{if(t!=null)return ma(t.innerRadius,e,0)}),ML=oe([tb,_2],(t,e)=>{if(t!=null)return ma(t.outerRadius,e,e*.8)}),Ple=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},zL=oe([tb],Ple);oe([x2,zL],eb);var DL=oe([_2,jL,ML],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([w2,DL],eb);var LL=oe([Ct,tb,jL,ML,eo,to],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:ma(l,i,i/2),cy:ma(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),zn=(t,e)=>e,nb=(t,e,n)=>n;function E2(t){return t?.id}function VL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=E2(c);f.forEach((m,b)=>{var x=s==null||i?b:String(hr(m,s,null)),_=hr(m,c.dataKey,0),S;l.has(x)?S=l.get(x):S={},Object.assign(S,{[p]:_}),l.set(x,S)})}}),Array.from(l.values())}function rb(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ib=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ab(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Rle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Dn=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},tf=t=>t.tooltip.settings.axisId;function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jle(t,e,n){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HE=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BL=(t,e)=>t.cartesianAxis.xAxis[e],io=(t,e)=>{var n=BL(t,e);return n??Hn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:HE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gm},UL=(t,e)=>t.cartesianAxis.yAxis[e],ao=(t,e)=>{var n=UL(t,e);return n??Gn},Dle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},S2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Dle},Pr=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"zAxis":return S2(t,n);case"angleAxis":return x2(t,n);case"radiusAxis":return w2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Lle=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Jm=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"angleAxis":return x2(t,n);case"radiusAxis":return w2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},FL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function qL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var T2=t=>t.graphicalItems.cartesianItems,Vle=oe([zn,nb],qL),$L=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ep=oe([T2,Pr,Vle],$L,{memoizeOptions:{resultEqualityCheck:ab}}),HL=oe([ep],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(rb)),GL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ble=oe([ep],GL),KL=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ule=oe([ep],KL,{memoizeOptions:{resultEqualityCheck:ab}}),YL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},A2=oe([Ule,pL],YL),WL=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:hr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:hr(i,r)}))):t.map(r=>({value:r})),sb=oe([A2,Pr,ep],WL);function XL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function A0(t){if(is(t)||t instanceof Date){var e=Number(t);if(rn(e))return e}}function oM(t){if(Array.isArray(t)){var e=[A0(t[0]),A0(t[1])];return ml(e)?e:void 0}var n=A0(t);if(n!=null)return[n,n]}function Ws(t){return t.map(A0).filter(Kee)}function Fle(t,e,n){return!n||typeof e!="number"||rs(e)?[]:n.length?Ws(n.flatMap(r=>{var i=hr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!rn(s)||!rn(l)))return[e-s,e+l]})):[]}var Ln=t=>{var e=Dn(t),n=tf(t);return Jm(t,e,n)},tp=oe([Ln],t=>t?.dataKey),qle=oe([HL,pL,Ln],VL),QL=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,p=f.map(E2);return[c,{stackedData:hre(t,p,n),graphicalItems:f}]}))},GE=oe([qle,HL,Jv,PL],QL),ZL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=vre(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$le=oe([Pr],t=>t.allowDataOverflow),k2=t=>{var e;if(t==null||!("domain"in t))return HE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ws(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:HE},JL=oe([Pr],k2),eV=oe([JL,$le],gL),Hle=oe([GE,ro,zn,eV],ZL,{memoizeOptions:{resultEqualityCheck:ib}}),C2=t=>t.errorBars,Gle=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>XL(n,r)),By=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},tV=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,p,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>XL(i,k)),b=hr(c,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),x=Fle(c,b,m);if(x.length>=2){var _=Math.min(...x),S=Math.max(...x);(s==null||_<s)&&(s=_),(l==null||S>l)&&(l=S)}var E=oM(b);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=oM(hr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),rn(s)&&rn(l))return[s,l]},Kle=oe([A2,Pr,Ble,C2,zn],tV,{memoizeOptions:{resultEqualityCheck:ib}});function Yle(t){var{value:e}=t;if(is(e)||e instanceof Date)return e}var Wle=(t,e,n)=>{var r=t.map(Yle).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&g6(r))?R9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},nV=t=>t.referenceElements.dots,nf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Xle=oe([nV,zn,nb],nf),rV=t=>t.referenceElements.areas,Qle=oe([rV,zn,nb],nf),iV=t=>t.referenceElements.lines,Zle=oe([iV,zn,nb],nf),aV=(t,e)=>{if(t!=null){var n=Ws(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jle=oe(Xle,zn,aV),sV=(t,e)=>{if(t!=null){var n=Ws(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ece=oe([Qle,zn],sV);function tce(t){var e;if(t.x!=null)return Ws([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ws(n)}function nce(t){var e;if(t.y!=null)return Ws([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ws(n)}var oV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?tce(r):nce(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rce=oe([Zle,zn],oV),ice=oe(Jle,rce,ece,(t,e,n)=>By(t,n,e)),lV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?By(r,s,i):By(s,i);return ple(e,f,t.allowDataOverflow)},ace=oe([Pr,JL,eV,Hle,Kle,ice,Ct,zn],lV,{memoizeOptions:{resultEqualityCheck:ib}}),sce=[0,1],cV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Fc(e,s);if(f&&c==null){var p;return R9(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?Wle(r,t,f):i==="expand"?sce:l}},I2=oe([Pr,Ct,A2,sb,Jv,zn,ace],cV),uV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Fm(s));return c in Ch?c:"point"}}},np=oe([Pr,Ct,FL,y2,zn],uV);function oce(t){if(t!=null){if(t in Ch)return Ch[t]();var e="scale".concat(Fm(t));if(e in Ch)return Ch[e]()}}function N2(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=oce(e);if(i!=null){var s=i.domain(n).range(r);return lre(s),s}}}var dV=(t,e,n)=>{var r=k2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(t))return Sle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ml(t))return Tle(t,e.tickCount,e.allowDecimals)}},O2=oe([I2,Jm,np],dV),fV=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ml(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},lce=oe([Pr,I2,O2,zn],fV),cce=oe(sb,Pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ws(t.map(m=>m.value))).sort((m,b)=>m-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var p=f-d;n=Math.min(n,p)}}return n/l}}),hV=oe(cce,Ct,OL,Qn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!rn(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=ma(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),uce=(t,e,n)=>{var r=io(t,e);return r==null||typeof r.padding!="string"?0:hV(t,"xAxis",e,n,r.padding)},dce=(t,e,n)=>{var r=ao(t,e);return r==null||typeof r.padding!="string"?0:hV(t,"yAxis",e,n,r.padding)},fce=oe(io,uce,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),hce=oe(ao,dce,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),mce=oe([Qn,fce,Bv,Vv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),pce=oe([Qn,Ct,hce,Bv,Vv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),rp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return mce(t,n,r);case"yAxis":return pce(t,n,r);case"zAxis":return(i=S2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return zL(t);case"radiusAxis":return DL(t,n);default:return}},mV=oe([Pr,rp],eb),ob=oe([Pr,np,lce,mV],N2);oe([ep,C2,zn],Gle);function pV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var lb=(t,e)=>e,cb=(t,e,n)=>n,gce=oe(Dv,lb,cb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(pV)),yce=oe(Lv,lb,cb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(pV)),gV=(t,e)=>({width:t.width,height:e.height}),vce=(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}},yV=oe(Qn,io,gV),bce=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},xce=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},wce=oe(to,Qn,gce,lb,cb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=gV(e,c);l==null&&(l=bce(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),_ce=oe(eo,Qn,yce,lb,cb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=vce(e,c);l==null&&(l=xce(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),Ece=(t,e)=>{var n=io(t,e);if(n!=null)return wce(t,n.orientation,n.mirror)},Sce=oe([Qn,io,Ece,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Tce=(t,e)=>{var n=ao(t,e);if(n!=null)return _ce(t,n.orientation,n.mirror)},Ace=oe([Qn,ao,Tce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),vV=oe(Qn,ao,(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}}),lM=(t,e,n)=>{switch(e){case"xAxis":return yV(t,n).width;case"yAxis":return vV(t,n).height;default:return}},bV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Fc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&g6(d))return d}},P2=oe([Ct,sb,Pr,zn],bV),xV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Fc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},R2=oe([Ct,sb,Jm,zn],xV);oe([Ct,Lle,np,ob,P2,R2,rp,O2,zn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Fc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var kce=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Fc(t,d),{type:p,ticks:m,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=p==="category"&&r.bandwidth?r.bandwidth()/x:0;_=d==="angleAxis"&&s!=null&&s.length>=2?di(s[0]-s[1])*2*_:_;var S=m||i;if(S){var E=S.map((k,j)=>{var O=l?l.indexOf(k):k;return{index:j,coordinate:r(O)+_,value:k,offset:_}});return E.filter(k=>rn(k.coordinate))}return f&&c?c.map((k,j)=>({coordinate:r(k)+_,value:k,index:j,offset:_})).filter(k=>rn(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+_,value:k,offset:_})):r.domain().map((k,j)=>({coordinate:r(k)+_,value:l?l[k]:k,index:j,offset:_}))}},wV=oe([Ct,Jm,np,ob,O2,rp,P2,R2,zn],kce),Cce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Fc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?di(r[0]-r[1])*2*f:f,c&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},jd=oe([Ct,Jm,ob,rp,P2,R2,zn],Cce),Md=oe(Pr,ob,(t,e)=>{if(!(t==null||e==null))return Vy(Vy({},t),{},{scale:e})}),Ice=oe([Pr,np,I2,mV],N2);oe((t,e,n)=>S2(t,n),Ice,(t,e)=>{if(!(t==null||e==null))return Vy(Vy({},t),{},{scale:e})});var Nce=oe([Ct,Dv,Lv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_V=t=>t.options.defaultTooltipEventType,EV=t=>t.options.validateTooltipEventTypes;function SV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function j2(t,e){var n=_V(t),r=EV(t);return SV(e,n,r)}function Oce(t){return Ge(e=>j2(e,t))}var TV=(t,e)=>{var n,r=Number(e);if(!(rs(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Pce=t=>t.tooltip.settings,Zo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Rce={itemInteraction:{click:Zo,hover:Zo},axisInteraction:{click:Zo,hover:Zo},keyboardInteraction:Zo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AV=Gr({name:"tooltip",initialState:Rce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ha(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qt()},removeTooltipEntrySettings:{reducer(t,e){var n=ha(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:jce,replaceTooltipEntrySettings:Mce,removeTooltipEntrySettings:zce,setTooltipSettingsState:Dce,setActiveMouseOverItemIndex:kV,mouseLeaveItem:Lce,mouseLeaveChart:CV,setActiveClickItemIndex:Vce,setMouseOverAxisIndex:IV,setMouseClickAxisIndex:Bce,setSyncInteraction:KE,setKeyboardInteraction:YE}=AV.actions,Uce=AV.reducer;function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=$ce(t,"string");return typeof e=="symbol"?e:e+""}function $ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Gce(t){return t.index!=null}var NV=(t,e,n,r)=>{if(e==null)return Zo;var i=Hce(t,e,n);if(i==null)return Zo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Gce(i)){if(s)return t0(t0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return t0(t0({},Zo),{},{coordinate:i.coordinate})};function Kce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Yce(t,e){var n=Kce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Wce(t,e,n){if(n==null||e==null)return!0;var r=hr(t,e);return r==null||!ml(n)?!0:Yce(r,n)}var M2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!rn(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||Wce(f,n,r)?String(d):null},OV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},PV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},ip=t=>t.options.tooltipPayloadSearcher,rf=t=>t.tooltip;function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jce(t,e){return t??e}var RV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,m=[];return t.reduce((b,x)=>{var _,{dataDefinedOnItem:S,settings:E}=x,k=Jce(S,c),j=Array.isArray(k)?l9(k,f,p):k,O=(_=E?.dataKey)!==null&&_!==void 0?_:r,V=E?.nameKey,R;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?R=Gee(j,r,i):R=s(j,e,d,V),Array.isArray(R))R.forEach(P=>{var C=dM(dM({},E),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(gR({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:hr(P.payload,P.dataKey),name:P.name}))});else{var F;b.push(gR({tooltipEntrySettings:E,dataKey:O,payload:R,value:hr(R,O),name:(F=hr(R,V))!==null&&F!==void 0?F:E?.name}))}return b},m)}},z2=oe([Ln,Ct,FL,y2,Dn],uV),eue=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),tue=oe([Dn,tf],qL),af=oe([eue,Ln,tue],$L,{memoizeOptions:{resultEqualityCheck:ab}}),nue=oe([af],t=>t.filter(rb)),rue=oe([af],KL,{memoizeOptions:{resultEqualityCheck:ab}}),sf=oe([rue,ro],YL),iue=oe([nue,ro,Ln],VL),D2=oe([sf,Ln,af],WL),jV=oe([Ln],k2),aue=oe([Ln],t=>t.allowDataOverflow),MV=oe([jV,aue],gL),sue=oe([af],t=>t.filter(rb)),oue=oe([iue,sue,Jv,PL],QL),lue=oe([oue,ro,Dn,MV],ZL),cue=oe([af],GL),uue=oe([sf,Ln,cue,C2,Dn],tV,{memoizeOptions:{resultEqualityCheck:ib}}),due=oe([nV,Dn,tf],nf),fue=oe([due,Dn],aV),hue=oe([rV,Dn,tf],nf),mue=oe([hue,Dn],sV),pue=oe([iV,Dn,tf],nf),gue=oe([pue,Dn],oV),yue=oe([fue,gue,mue],By),vue=oe([Ln,jV,MV,lue,uue,yue,Ct,Dn],lV),ap=oe([Ln,Ct,sf,D2,Jv,Dn,vue],cV),bue=oe([ap,Ln,z2],dV),xue=oe([Ln,ap,bue,Dn],fV),zV=t=>{var e=Dn(t),n=tf(t),r=!1;return rp(t,e,n,r)},DV=oe([Ln,zV],eb),LV=oe([Ln,z2,xue,DV],N2),wue=oe([Ct,D2,Ln,Dn],bV),_ue=oe([Ct,D2,Ln,Dn],xV),Eue=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Fc(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?di(i[0]-i[1])*2*m:m,f&&l?l.map((b,x)=>({coordinate:r(b)+m,value:b,index:x,offset:m})):r.domain().map((b,x)=>({coordinate:r(b)+m,value:s?s[b]:b,index:x,offset:m}))}}},so=oe([Ct,Ln,z2,LV,zV,wue,_ue,Dn],Eue),L2=oe([_V,EV,Pce],(t,e,n)=>SV(n.shared,t,e)),VV=t=>t.tooltip.settings.trigger,V2=t=>t.tooltip.settings.defaultIndex,sp=oe([rf,L2,VV,V2],NV),zd=oe([sp,sf,tp,ap],M2),BV=oe([so,zd],TV),UV=oe([sp],t=>{if(t)return t.dataKey});oe([sp],t=>{if(t)return t.graphicalItemId});var FV=oe([rf,L2,VV,V2],PV),Sue=oe([eo,to,Ct,Qn,so,V2,FV,ip],OV),Tue=oe([sp,Sue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Aue=oe([sp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),kue=oe([FV,zd,ro,tp,BV,ip,L2],RV);oe([kue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oue=()=>Ge(Ln),Pue=()=>{var t=Oue(),e=Ge(so),n=Ge(LV);return xy(!t||!n?void 0:hM(hM({},t),{},{scale:n}),e)};function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rue(t,e,n){return(e=jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Due=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Fu(Fu(Fu({},r),fr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Fu(Fu(Fu({},r),fr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var qV=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,p,m,b,x=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,_=(p=n[c])===null||p===void 0?void 0:p.coordinate,S=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,E=void 0;if(!(x==null||_==null||S==null))if(di(_-x)!==di(S-_)){var k=[];if(di(S-_)===di(i[1]-i[0])){E=S;var j=_+i[1]-i[0];k[0]=Math.min(j,(j+x)/2),k[1]=Math.max(j,(j+x)/2)}else{E=x;var O=S+i[1]-i[0];k[0]=Math.min(_,(O+_)/2),k[1]=Math.max(_,(O+_)/2)}var V=[Math.min(_,(E+_)/2),Math.max(_,(E+_)/2)];if(t>V[0]&&t<=V[1]||t>=k[0]&&t<=k[1]){var R;return(R=n[c])===null||R===void 0?void 0:R.index}}else{var F=Math.min(x,S),P=Math.max(x,S);if(t>(F+_)/2&&t<=(P+_)/2){var C;return(C=n[c])===null||C===void 0?void 0:C.index}}}else if(e)for(var M=0;M<l;M++){var L=e[M];if(L!=null){var z=e[M+1],q=e[M-1];if(M===0&&z!=null&&t<=(L.coordinate+z.coordinate)/2||M===l-1&&q!=null&&t>(L.coordinate+q.coordinate)/2||M>0&&M<l-1&&q!=null&&z!=null&&t>(L.coordinate+q.coordinate)/2&&t<=(L.coordinate+z.coordinate)/2)return L.index}}return-1},Vue=()=>Ge(y2),B2=(t,e)=>e,$V=(t,e,n)=>n,U2=(t,e,n,r)=>r,Bue=oe(so,t=>kv(t,e=>e.coordinate)),F2=oe([rf,B2,$V,U2],NV),q2=oe([F2,sf,tp,ap],M2),Uue=(t,e,n)=>{if(e!=null){var r=rf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},HV=oe([rf,B2,$V,U2],PV),Uy=oe([eo,to,Ct,Qn,so,U2,HV,ip],OV),Fue=oe([F2,Uy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),GV=oe([so,q2],TV),que=oe([HV,q2,ro,tp,GV,ip,B2],RV),$ue=oe([F2,q2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Hue=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Lue(t,l)){var c=bre(t,e),d=qV(c,s,i,n,r),f=zue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Gue=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=Nae(t,n);if(c){var d=xre(c,e),f=qV(d,l,s,r,i),p=Due(e,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},Kue=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Hue(t,e,r,i,s,l,c):Gue(t,e,n,r,i,s,l)},Yue=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Wue=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values($r)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Rle}});function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jue={},ede={zIndexMap:Object.values($r).reduce((t,e)=>gM(gM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Jue)},tde=new Set(Object.values($r));function nde(t){return tde.has(t)}var KV=Gr({name:"zIndex",initialState:ede,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!nde(n)&&delete t.zIndexMap[n])},prepare:Qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:rde,unregisterZIndexPortal:ide,registerZIndexPortalElement:ade,unregisterZIndexPortalElement:sde}=KV.actions,ode=KV.reducer;function _l(t){var{zIndex:e,children:n}=t,r=tie(),i=r&&e!==void 0&&e!==0,s=xi(),l=pn();T.useLayoutEffect(()=>i?(l(rde({zIndex:e})),()=>{l(ide({zIndex:e}))}):qm,[l,e,i]);var c=Ge(d=>Yue(d,e,s));return i?c?hS.createPortal(n,c):null:n}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dde(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function fde(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:p}=t,m=n,b=r,x=i;if(!d||!m||p!=="ScatterChart"&&f!=="axis")return null;var _,S,E;if(p==="ScatterChart")_=m,S=qie,E=$r.cursorLine;else if(p==="BarChart")_=$ie(c,m,s,l),S=I9,E=$r.cursorRectangle;else if(c==="radial"&&b6(m)){var{cx:k,cy:j,radius:O,startAngle:V,endAngle:R}=N9(m);_={cx:k,cy:j,startAngle:V,endAngle:R,innerRadius:O,outerRadius:O},S=P9,E=$r.cursorLine}else _={points:jae(c,m,s)},S=S9,E=$r.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,P=n0(n0(n0(n0({stroke:"#ccc",pointerEvents:"none"},s),_),ST(d)),{},{payload:b,payloadIndex:x,className:xe("recharts-tooltip-cursor",F)});return T.createElement(_l,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},T.createElement(dde,{cursor:d,cursorComp:S,cursorProps:P}))}function hde(t){var e=Pue(),n=Zre(),r=Km(),i=Vue();return e==null||n==null||r==null||i==null?null:T.createElement(fde,WE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var YV=T.createContext(null),mde=()=>T.useContext(YV),n_={exports:{}},vM;function pde(){return vM||(vM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,m,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,b),_=n?n+f:f;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],x]:d._events[_].push(x):(d._events[_]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,x=m.length,_=new Array(x);b<x;b++)_[b]=m[b].fn;return _},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,b,x,_){var S=n?n+f:f;if(!this._events[S])return!1;var E=this._events[S],k=arguments.length,j,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),k){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,m),!0;case 4:return E.fn.call(E.context,p,m,b),!0;case 5:return E.fn.call(E.context,p,m,b,x),!0;case 6:return E.fn.call(E.context,p,m,b,x,_),!0}for(O=1,j=new Array(k-1);O<k;O++)j[O-1]=arguments[O];E.fn.apply(E.context,j)}else{var V=E.length,R;for(O=0;O<V;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),k){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,p);break;case 3:E[O].fn.call(E[O].context,p,m);break;case 4:E[O].fn.call(E[O].context,p,m,b);break;default:if(!j)for(R=1,j=new Array(k-1);R<k;R++)j[R-1]=arguments[R];E[O].fn.apply(E[O].context,j)}}return!0},c.prototype.on=function(f,p,m){return s(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return s(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,b){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var _=this._events[x];if(_.fn)_.fn===p&&(!b||_.once)&&(!m||_.context===m)&&l(this,x);else{for(var S=0,E=[],k=_.length;S<k;S++)(_[S].fn!==p||b&&!_[S].once||m&&_[S].context!==m)&&E.push(_[S]);E.length?this._events[x]=E.length===1?E[0]:E:l(this,x)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(n_)),n_.exports}var gde=pde();const yde=ss(gde);var bm=new yde,XE="recharts.syncEvent.tooltip",bM="recharts.syncEvent.brush";function vde(t,e){if(e){var n=Number.parseInt(e,10);if(!rs(n))return t?.[n]}}var bde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},WV=Gr({name:"options",initialState:bde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xde=WV.reducer,{createEventEmitter:wde}=WV.actions;function _de(t){return t.tooltip.syncInteraction}var Ede={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XV=Gr({name:"chartData",initialState:Ede,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:xM,setDataStartEndIndexes:Sde,setComputedData:mve}=XV.actions,Tde=XV.reducer,Ade=["x","y"];function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e,n){return(e=Cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cde(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nde(t,e){if(t==null)return{};var n,r,i=Ode(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pde(){var t=Ge(v2),e=Ge(b2),n=pn(),r=Ge(RL),i=Ge(so),s=Km(),l=Uv(),c=Ge(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return qm;var d=(f,p,m)=>{if(e!==m&&t===f){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:_,y:S}=x,E=Nde(x,Ade),{x:k,y:j,width:O,height:V}=p.payload.sourceViewBox,R=qu(qu({},E),{},{x:l.x+(O?(_-k)/O:0)*l.width,y:l.y+(V?(S-j)/V:0)*l.height});n(qu(qu({},p),{},{payload:qu(qu({},p.payload),{},{coordinate:R})}))}else n(p);return}if(i!=null){var F;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=r(i,P);F=i[C]}else r==="value"&&(F=i.find(Y=>String(Y.value)===p.payload.label));var{coordinate:M}=p.payload;if(F==null||p.payload.active===!1||M==null||l==null){n(KE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:z}=M,q=Math.min(L,l.x+l.width),U=Math.min(z,l.y+l.height),ve={x:s==="horizontal"?F.coordinate:q,y:s==="horizontal"?U:F.coordinate},Ce=KE({active:p.payload.active,coordinate:ve,dataKey:p.payload.dataKey,index:String(F.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ce)}}};return bm.on(XE,d),()=>{bm.off(XE,d)}},[c,n,e,t,r,i,s,l])}function Rde(){var t=Ge(v2),e=Ge(b2),n=pn();T.useEffect(()=>{if(t==null)return qm;var r=(i,s,l)=>{e!==l&&t===i&&n(Sde(s))};return bm.on(bM,r),()=>{bm.off(bM,r)}},[n,e,t])}function jde(){var t=pn();T.useEffect(()=>{t(wde())},[t]),Pde(),Rde()}function Mde(t,e,n,r,i,s){var l=Ge(x=>Uue(x,t,e)),c=Ge(b2),d=Ge(v2),f=Ge(RL),p=Ge(_de),m=p?.active,b=Uv();T.useEffect(()=>{if(!m&&d!=null&&c!=null){var x=KE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});bm.emit(XE,d,x,c)}},[m,n,l,i,r,c,d,f,s,b])}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e,n){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vde(t){return t.dataKey}function Bde(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(_ie,e)}var SM=[],Ude={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QV(t){var e,n,r=$i(t,Ude),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:b,position:x,reverseDirection:_,useTranslate3d:S,wrapperStyle:E,cursor:k,shared:j,trigger:O,defaultIndex:V,portal:R,axisId:F}=r,P=pn(),C=typeof V=="number"?String(V):V;T.useEffect(()=>{P(Dce({shared:j,trigger:O,axisId:F,active:i,defaultIndex:C}))},[P,j,O,F,i,C]);var M=Uv(),L=E9(),z=Oce(j),{activeIndex:q,isActive:U}=(e=Ge(Te=>$ue(Te,z,O,C)))!==null&&e!==void 0?e:{},ve=Ge(Te=>que(Te,z,O,C)),Ce=Ge(Te=>GV(Te,z,O,C)),Y=Ge(Te=>Fue(Te,z,O,C)),ne=ve,W=mde(),pe=(n=i??U)!==null&&n!==void 0?n:!1,[ke,$]=rne([ne,pe]),ie=z==="axis"?Ce:void 0;Mde(z,O,Y,ie,q,pe);var re=R??W;if(re==null||M==null||z==null)return null;var ce=ne??SM;pe||(ce=SM),f&&ce.length&&(ce=Ite(ce.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),b,Vde));var be=ce.length>0,Se=T.createElement(Iie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:pe,coordinate:Y,hasPayload:be,offset:m,position:x,reverseDirection:_,useTranslate3d:S,viewBox:M,wrapperStyle:E,lastBoundingBox:ke,innerRef:$,hasPortalFromProps:!!R},Bde(d,EM(EM({},r),{},{payload:ce,label:ie,active:pe,activeIndex:q,coordinate:Y,accessibilityLayer:L})));return T.createElement(T.Fragment,null,hS.createPortal(Se,re),pe&&T.createElement(hde,{cursor:k,tooltipEventType:z,coordinate:Y,payload:ce,index:q}))}var ub=t=>null;ub.displayName="Cell";function Fde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hde{constructor(e){Fde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kde(t,e,n){return(e=Yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xde={cacheSize:2e3,enableCache:!0},ZV=Gde({},Xde),AM=new Hde(ZV.cacheSize),Qde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kM="recharts_measurement_span";function Zde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var CM=(t,e)=>{try{var n=document.getElementById(kM);n||(n=document.createElement("span"),n.setAttribute("id",kM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Qde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Uh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gv.isSsr)return{width:0,height:0};if(!ZV.enableCache)return CM(e,n);var r=Zde(e,n),i=AM.get(r);if(i)return i;var s=CM(e,n);return AM.set(r,s),s},JV;function Jde(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ife={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},afe=["cm","mm","pt","pc","in","Q","px"];function sfe(t){return afe.includes(t)}var Zu="NaN";function ofe(t,e){return t*ife[e]}class cr{static parse(e){var n,[,r,i]=(n=rfe.exec(e))!==null&&n!==void 0?n:[];return r==null?cr.NaN:new cr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,rs(e)&&(this.unit=""),n!==""&&!nfe.test(n)&&(this.num=NaN,this.unit=""),sfe(n)&&(this.num=ofe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return rs(this.num)}}JV=cr;Jde(cr,"NaN",new JV(NaN,""));function e8(t){if(t==null||t.includes(Zu))return Zu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=IM.exec(e))!==null&&n!==void 0?n:[],l=cr.parse(r??""),c=cr.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Zu;e=e.replace(IM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,m,b]=(f=NM.exec(e))!==null&&f!==void 0?f:[],x=cr.parse(p??""),_=cr.parse(b??""),S=m==="+"?x.add(_):x.subtract(_);if(S.isNaN())return Zu;e=e.replace(NM,S.toString())}return e}var OM=/\(([^()]*)\)/;function lfe(t){for(var e=t,n;(n=OM.exec(e))!=null;){var[,r]=n;e=e.replace(OM,e8(r))}return e}function cfe(t){var e=t.replace(/\s+/g,"");return e=lfe(e),e=e8(e),e}function ufe(t){try{return cfe(t)}catch{return Zu}}function r_(t){var e=ufe(t.slice(5,-1));return e===Zu?"":e}var dfe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ffe=["dx","dy","angle","className","breakAll"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function PM(t,e){if(t==null)return{};var n,r,i=hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t8=/[ \f\n\r\t\v\u2028\u2029]+/,n8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Xn(e)||(n?i=e.toString().split(""):i=e.toString().split(t8));var s=i.map(c=>({word:c,width:Uh(c,r).width})),l=n?0:Uh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function mfe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var r8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),i8=t=>t.reduce((e,n)=>e.width>n.width?e:n),pfe="",RM=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=n8({breakAll:n,style:r,children:d+pfe});if(!f)return[!1,[]];var p=r8(f.wordsWithComputedWidth,s,l,c),m=p.length>i||i8(p).width>Number(s);return[m,p]},gfe=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=qe(s),p=String(l),m=r8(e,r,n,i);if(!f||i)return m;var b=m.length>s||i8(m).width>Number(r);if(!b)return m;for(var x=0,_=p.length-1,S=0,E;x<=_&&S<=p.length-1;){var k=Math.floor((x+_)/2),j=k-1,[O,V]=RM(p,j,d,c,s,r,n,i),[R]=RM(p,k,d,c,s,r,n,i);if(!O&&!R&&(x=k+1),O&&R&&(_=k-1),!O&&R){E=V;break}S++}return E||m},jM=t=>{var e=Xn(t)?[]:t.toString().split(t8);return[{words:e,width:void 0}]},yfe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Gv.isSsr){var c,d,f=n8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,d=m}else return jM(r);return gfe({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return jM(r)},a8="#808080",vfe={angle:0,breakAll:!1,capHeight:"0.71em",fill:a8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$2=T.forwardRef((t,e)=>{var n=$i(t,vfe),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:p}=n,m=PM(n,dfe),b=T.useMemo(()=>yfe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:_,angle:S,className:E,breakAll:k}=m,j=PM(m,ffe);if(!is(r)||!is(i)||b.length===0)return null;var O=Number(r)+(qe(x)?x:0),V=Number(i)+(qe(_)?_:0);if(!rn(O)||!rn(V))return null;var R;switch(p){case"start":R=r_("calc(".concat(l,")"));break;case"middle":R=r_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:R=r_("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var P=b[0].width,{width:C}=m;F.push("scale(".concat(qe(C)&&qe(P)?C/P:1,")"))}return S&&F.push("rotate(".concat(S,", ").concat(O,", ").concat(V,")")),F.length&&(j.transform=F.join(" ")),T.createElement("text",QE({},Ui(j),{ref:e,x:O,y:V,className:xe("recharts-text",E),textAnchor:f,fill:c.includes("url")?a8:c}),b.map((M,L)=>{var z=M.words.join(k?"":" ");return T.createElement("tspan",{x:O,dy:L===0?R:s,key:"".concat(z,"-").concat(L)},z)}))});$2.displayName="Text";var bfe=["labelRef"],xfe=["content"];function MM(t,e){if(t==null)return{};var n,r,i=wfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}var s8=T.createContext(null),Tfe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(s8.Provider,{value:d},c)},o8=()=>{var t=T.useContext(s8),e=Uv();return t||p9(e)},Afe=T.createContext(null),kfe=()=>{var t=T.useContext(Afe),e=Ge(LL);return t||e},Cfe=t=>{var{value:e,formatter:n}=t,r=Xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},H2=t=>t!=null&&typeof t=="function",Ife=(t,e)=>{var n=di(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nfe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:b,clockWise:x}=i,_=(f+p)/2,S=Ife(m,b),E=S>=0?1:-1,k,j;switch(e){case"insideStart":k=m+E*s,j=x;break;case"insideEnd":k=b-E*s,j=!x;break;case"end":k=b+E*s,j=x;break;default:throw new Error("Unsupported position ".concat(e))}j=S<=0?j:!j;var O=fr(c,d,_,k),V=fr(c,d,_,k+(j?1:-1)*359),R="M".concat(O.x,",").concat(O.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(j?0:1,`,
    `).concat(V.x,",").concat(V.y),F=Xn(t.id)?sm("recharts-radial-line-"):t.id;return T.createElement("text",Ns({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:F,d:R})),T.createElement("textPath",{xlinkHref:"#".concat(F)},n))},Ofe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:p,y:m}=fr(r,i,l+e,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x,y:_}=fr(r,i,b,f);return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},ZE=t=>"cx"in t&&qe(t.cx),Pfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!ZE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:p}=e,m=l,b=l+(d-f)/2,x=(m+b)/2,_=(d+f)/2,S=m+d/2,E=p>=0?1:-1,k=E*r,j=E>0?"end":"start",O=E>0?"start":"end",V=d>=0?1:-1,R=V*r,F=V>0?"end":"start",P=V>0?"start":"end";if(i==="top"){var C={x:m+d/2,y:c-k,textAnchor:"middle",verticalAnchor:j};return fn(fn({},C),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var M={x:b+f/2,y:c+p+k,textAnchor:"middle",verticalAnchor:O};return fn(fn({},M),s?{height:Math.max(s.y+s.height-(c+p),0),width:f}:{})}if(i==="left"){var L={x:x-R,y:c+p/2,textAnchor:F,verticalAnchor:"middle"};return fn(fn({},L),s?{width:Math.max(L.x-s.x,0),height:p}:{})}if(i==="right"){var z={x:x+_+R,y:c+p/2,textAnchor:P,verticalAnchor:"middle"};return fn(fn({},z),s?{width:Math.max(s.x+s.width-z.x,0),height:p}:{})}var q=s?{width:_,height:p}:{};return i==="insideLeft"?fn({x:x+R,y:c+p/2,textAnchor:P,verticalAnchor:"middle"},q):i==="insideRight"?fn({x:x+_-R,y:c+p/2,textAnchor:F,verticalAnchor:"middle"},q):i==="insideTop"?fn({x:m+d/2,y:c+k,textAnchor:"middle",verticalAnchor:O},q):i==="insideBottom"?fn({x:b+f/2,y:c+p-k,textAnchor:"middle",verticalAnchor:j},q):i==="insideTopLeft"?fn({x:m+R,y:c+k,textAnchor:P,verticalAnchor:O},q):i==="insideTopRight"?fn({x:m+d-R,y:c+k,textAnchor:F,verticalAnchor:O},q):i==="insideBottomLeft"?fn({x:b+R,y:c+p-k,textAnchor:P,verticalAnchor:j},q):i==="insideBottomRight"?fn({x:b+f-R,y:c+p-k,textAnchor:F,verticalAnchor:j},q):i&&typeof i=="object"&&(qe(i.x)||$s(i.x))&&(qe(i.y)||$s(i.y))?fn({x:l+ma(i.x,_),y:c+ma(i.y,p),textAnchor:"end",verticalAnchor:"end"},q):fn({x:S,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},q)},Rfe={angle:0,offset:5,zIndex:$r.label,position:"middle",textBreakAll:!1};function Ko(t){var e=$i(t,Rfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,p=kfe(),m=o8(),b=r==="center"?m:p??m,x,_,S;if(n==null?x=b:ZE(n)?x=n:x=p9(n),!x||Xn(i)&&Xn(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var E=fn(fn({},e),{},{viewBox:x});if(T.isValidElement(l)){var{labelRef:k}=E,j=MM(E,bfe);return T.cloneElement(l,j)}if(typeof l=="function"){var{content:O}=E,V=MM(E,xfe);if(_=T.createElement(l,V),T.isValidElement(_))return _}else _=Cfe(e);var R=Ui(e);if(ZE(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Nfe(e,r,_,R,x);S=Ofe(x,e.offset,e.position)}else S=Pfe(e,x);return T.createElement(_l,{zIndex:e.zIndex},T.createElement($2,Ns({ref:f,className:xe("recharts-label",c)},R,S,{textAnchor:mfe(R.textAnchor)?R.textAnchor:S.textAnchor,breakAll:d}),_))}Ko.displayName="Label";var jfe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Ko,Ns({key:"label-implicit"},r)):is(t)?T.createElement(Ko,Ns({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Ko?T.cloneElement(t,fn({key:"label-implicit"},r)):T.createElement(Ko,Ns({key:"label-implicit",content:t},r)):H2(t)?T.createElement(Ko,Ns({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Ko,Ns({},t,{key:"label-implicit"},r)):null};function Mfe(t){var{label:e,labelRef:n}=t,r=o8();return jfe(e,r,n)||null}var i_={},a_={},DM;function zfe(){return DM||(DM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(a_)),a_}var s_={},LM;function Dfe(){return LM||(LM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(s_)),s_}var VM;function Lfe(){return VM||(VM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zfe(),n=Dfe(),r=PT();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(i_)),i_}var o_,BM;function Vfe(){return BM||(BM=1,o_=Lfe().last),o_}var Bfe=Vfe();const Ufe=ss(Bfe);var Ffe=["valueAccessor"],qfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(null,arguments)}function UM(t,e){if(t==null)return{};var n,r,i=$fe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hfe=t=>Array.isArray(t.value)?Ufe(t.value):t.value,l8=T.createContext(void 0),Gfe=l8.Provider,c8=T.createContext(void 0);c8.Provider;function Kfe(){return T.useContext(l8)}function Yfe(){return T.useContext(c8)}function k0(t){var{valueAccessor:e=Hfe}=t,n=UM(t,Ffe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=UM(n,qfe),f=Kfe(),p=Yfe(),m=f||p;return!m||!m.length?null:T.createElement(_l,{zIndex:c??$r.label},T.createElement(qs,{className:"recharts-label-list"},m.map((b,x)=>{var _,S=Xn(r)?e(b,x):hr(b&&b.payload,r),E=Xn(s)?{}:{id:"".concat(s,"-").concat(x)};return T.createElement(Ko,Fy({key:"label-".concat(x)},Ui(b),d,E,{fill:(_=n.fill)!==null&&_!==void 0?_:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}k0.displayName="LabelList";function Wfe(t){var{label:e}=t;return e?e===!0?T.createElement(k0,{key:"labelList-implicit"}):T.isValidElement(e)||H2(e)?T.createElement(k0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(k0,Fy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Xfe={radiusAxis:{},angleAxis:{}},u8=Gr({name:"polarAxis",initialState:Xfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:pve,removeRadiusAxis:gve,addAngleAxis:yve,removeAngleAxis:vve}=u8.actions,Qfe=u8.reducer,l_={exports:{}},Rt={};var FM;function Zfe(){if(FM)return Rt;FM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case n:case i:case r:case d:case f:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case m:case p:return S;case s:return S;default:return E}}case e:return E}}}return Rt.ContextConsumer=s,Rt.ContextProvider=l,Rt.Element=t,Rt.ForwardRef=c,Rt.Fragment=n,Rt.Lazy=m,Rt.Memo=p,Rt.Portal=e,Rt.Profiler=i,Rt.StrictMode=r,Rt.Suspense=d,Rt.SuspenseList=f,Rt.isContextConsumer=function(S){return _(S)===s},Rt.isContextProvider=function(S){return _(S)===l},Rt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Rt.isForwardRef=function(S){return _(S)===c},Rt.isFragment=function(S){return _(S)===n},Rt.isLazy=function(S){return _(S)===m},Rt.isMemo=function(S){return _(S)===p},Rt.isPortal=function(S){return _(S)===e},Rt.isProfiler=function(S){return _(S)===i},Rt.isStrictMode=function(S){return _(S)===r},Rt.isSuspense=function(S){return _(S)===d},Rt.isSuspenseList=function(S){return _(S)===f},Rt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===c||S.$$typeof===x||S.getModuleId!==void 0)},Rt.typeOf=_,Rt}var qM;function Jfe(){return qM||(qM=1,l_.exports=Zfe()),l_.exports}var ehe=Jfe(),$M=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",HM=null,c_=null,d8=t=>{if(t===HM&&Array.isArray(c_))return c_;var e=[];return T.Children.forEach(t,n=>{Xn(n)||(ehe.isFragment(n)?e=e.concat(d8(n.props.children)):e.push(n))}),c_=e,HM=t,e};function the(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>$M(i)):r=[$M(e)],d8(t).forEach(i=>{var s=Cd(i,"type.displayName")||Cd(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var u_={},GM;function nhe(){return GM||(GM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(u_)),u_}var d_,KM;function rhe(){return KM||(KM=1,d_=nhe().isPlainObject),d_}var ihe=rhe();const ahe=ss(ihe);var YM,WM,XM,QM,ZM;function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}function wh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tz=(t,e,n,r,i)=>{var s=n-r,l;return l=on(YM||(YM=wh(["M ",",",""])),t,e),l+=on(WM||(WM=wh(["L ",",",""])),t+n,e),l+=on(XM||(XM=wh(["L ",",",""])),t+n-s/2,e+i),l+=on(QM||(QM=wh(["L ",",",""])),t+n-s/2-r,e+i),l+=on(ZM||(ZM=wh(["L ",","," Z"])),t,e),l},che={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uhe=t=>{var e=$i(t,che),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=e,b=T.useRef(null),[x,_]=T.useState(-1),S=T.useRef(i),E=T.useRef(s),k=T.useRef(l),j=T.useRef(n),O=T.useRef(r),V=HT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ve=b.current.getTotalLength();ve&&_(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var R=xe("recharts-trapezoid",c);if(!m)return T.createElement("g",null,T.createElement("path",qy({},Ui(e),{className:R,d:tz(n,r,i,s,l)})));var F=S.current,P=E.current,C=k.current,M=j.current,L=O.current,z="0px ".concat(x===-1?1:x,"px"),q="".concat(x,"px 0px"),U=T9(["strokeDasharray"],f,d);return T.createElement($T,{animationId:V,key:V,canBegin:x>0,duration:f,easing:d,isActive:m,begin:p},ve=>{var Ce=dr(F,i,ve),Y=dr(P,s,ve),ne=dr(C,l,ve),W=dr(M,n,ve),pe=dr(L,r,ve);b.current&&(S.current=Ce,E.current=Y,k.current=ne,j.current=W,O.current=pe);var ke=ve>0?{transition:U,strokeDasharray:q}:{strokeDasharray:z};return T.createElement("path",qy({},Ui(e),{className:R,d:tz(W,pe,Ce,Y,ne),ref:b,style:ez(ez({},ke),e.style)}))})},dhe=["option","shapeType","activeClassName"];function fhe(t,e){if(t==null)return{};var n,r,i=hhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=ghe(t,"string");return typeof e=="symbol"?e:e+""}function ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e){return $y($y({},e),t)}function vhe(t,e){return t==="symbols"}function rz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(I9,n);case"trapezoid":return T.createElement(uhe,n);case"sector":return T.createElement(P9,n);case"symbols":if(vhe(e))return T.createElement(v6,n);break;case"curve":return T.createElement(S9,n);default:return null}}function bhe(t){return T.isValidElement(t)?t.props:t}function xhe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=fhe(t,dhe),s;if(T.isValidElement(e))s=T.cloneElement(e,$y($y({},i),bhe(e)));else if(typeof e=="function")s=e(i,i.index);else if(ahe(e)&&typeof e!="boolean"){var l=yhe(e,i);s=T.createElement(rz,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(rz,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(qs,{className:r},s):s}var f8=(t,e,n)=>{var r=pn();return(i,s)=>l=>{t?.(i,s,l),r(kV({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},h8=t=>{var e=pn();return(n,r)=>i=>{t?.(n,r,i),e(Lce())}},m8=(t,e,n)=>{var r=pn();return(i,s)=>l=>{t?.(i,s,l),r(Vce({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function whe(t){var{tooltipEntrySettings:e}=t,n=pn(),r=xi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(jce(e)):i.current!==e&&n(Mce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(zce(i.current)),i.current=null)},[n]),null}function _he(t){var{legendPayload:e}=t,n=pn(),r=xi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(mie(e)):i.current!==e&&n(pie({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(gie(i.current)),i.current=null)},[n]),null}var f_,Ehe=()=>{var[t]=T.useState(()=>sm("uid-"));return t},She=(f_=AU.useId)!==null&&f_!==void 0?f_:Ehe;function The(t,e){var n=She();return e||(t?"".concat(t,"-").concat(n):n)}var Ahe=T.createContext(void 0),khe=t=>{var{id:e,type:n,children:r}=t,i=The("recharts-".concat(n),e);return T.createElement(Ahe.Provider,{value:i},r(i))},Che={cartesianItems:[],polarItems:[]},p8=Gr({name:"graphicalItems",initialState:Che,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ha(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ha(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(t,e){var n=ha(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:Ihe,replaceCartesianGraphicalItem:Nhe,removeCartesianGraphicalItem:Ohe,addPolarGraphicalItem:bve,removePolarGraphicalItem:xve}=p8.actions,Phe=p8.reducer,Rhe=t=>{var e=pn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Ihe(t)):n.current!==t&&e(Nhe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Ohe(n.current)),n.current=null)},[e]),null},jhe=T.memo(Rhe);function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Dhe(t,"string");return typeof e=="symbol"?e:e+""}function Dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g8=0,Lhe={xAxis:{},yAxis:{},zAxis:{}},y8=Gr({name:"cartesianAxis",initialState:Lhe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=az(az({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Vhe,replaceXAxis:Bhe,removeXAxis:Uhe,addYAxis:Fhe,replaceYAxis:qhe,removeYAxis:$he,addZAxis:wve,replaceZAxis:_ve,removeZAxis:Eve,updateYAxisWidth:Hhe}=y8.actions,Ghe=y8.reducer,Khe=oe([Qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Yhe=oe([Khe,eo,to],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),v8=()=>Ge(Yhe),sz=(t,e,n)=>{var r=n??t;if(!Xn(r))return ma(r,e,0)},Whe=(t,e,n)=>{var r={},i=t.filter(rb),s=t.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(l).map(f=>{var[p,m]=f,b=m.map(_=>_.dataKey),x=sz(e,n,m[0].barSize);return{stackId:p,dataKeys:b,barSize:x}}),d=s.map(f=>{var p=[f.dataKey].filter(b=>b!=null),m=sz(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]};function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){Xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e,n){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jhe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=ma(t,n,0,!0),c,d=[];if(rn(r[0].barSize)){var f=!1,p=n/s,m=r.reduce((k,j)=>k+(j.barSize||0),0);m+=(s-1)*l,m>=n&&(m-=(s-1)*l,l=0),m>=n&&p>0&&(f=!0,p*=.9,m=s*p);var b=(n-m)/2>>0,x={offset:b-l,size:0};c=r.reduce((k,j)=>{var O,V={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:x.offset+x.size+l,size:f?p:(O=j.barSize)!==null&&O!==void 0?O:0}},R=[...k,V];return x=R[R.length-1].position,R},d)}else{var _=ma(e,n,0,!0);n-2*_-(s-1)*l<=0&&(l=0);var S=(n-2*_-(s-1)*l)/s;S>1&&(S>>=0);var E=rn(i)?Math.min(S,i):S;c=r.reduce((k,j,O)=>[...k,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:_+(S+l)*O+(S-E)/2,size:E}}],d)}return c}}var eme=(t,e,n,r,i,s,l)=>{var c=Xn(l)?e:l,d=Jhe(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>r0(r0({},f),{},{position:r0(r0({},f.position),{},{offset:f.position.offset-i/2})}))),d},tme=(t,e)=>{var n=E2(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function nme(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&rn(t.zIndex)?t.zIndex:e}var rme=t=>{var{chartData:e}=t,n=pn(),r=xi();return T.useEffect(()=>r?()=>{}:(n(xM(e)),()=>{n(xM(void 0))}),[e,n,r]),null},lz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},b8=Gr({name:"brush",initialState:lz,reducers:{setBrushSettings(t,e){return e.payload==null?lz:e.payload}}}),{setBrushSettings:Sve}=b8.actions,ime=b8.reducer;function ame(t,e,n){return(e=sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=ome(t,"string");return typeof e=="symbol"?e:e+""}function ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class G2{static create(e){return new G2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ame(G2,"EPS",1e-4);function lme(t){return(t%180+180)%180}var cme=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lme(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},ume={dots:[],areas:[],lines:[]},x8=Gr({name:"referenceElements",initialState:ume,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ha(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ha(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ha(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Tve,removeDot:Ave,addArea:kve,removeArea:Cve,addLine:Ive,removeLine:Nve}=x8.actions,dme=x8.reducer,fme=T.createContext(void 0),hme=t=>{var{children:e}=t,[n]=T.useState("".concat(sm("recharts"),"-clip")),r=v8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement(fme.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function w8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function mme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return cme(r,n)}function pme(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function xm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function gme(t,e){return w8(t,e+1)}function yme(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,p=l,m=function(){var _=r?.[d];if(_===void 0)return{v:w8(r,f)};var S=d,E,k=()=>(E===void 0&&(E=n(_,S)),E),j=_.coordinate,O=d===0||xm(t,j,k,p,c);O||(d=0,p=l,f+=1),O&&(p=j+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=m(),b)return b.v;return[]}function vme(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var p=(l-1)%f,m=c,b=!0,x=function(){var j=r[_],O=_,V,R=()=>(V===void 0&&(V=n(j,O)),V),F=j.coordinate,P=_===p||xm(t,F,R,m,d);if(!P)return b=!1,1;P&&(m=F+t*(R()/2+i))},_=p;_<l&&!x();_+=f);if(b){for(var S=[],E=p;E<l;E+=f)S.push(r[E]);return S}}return[]}function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(r){bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e,n){return(e=xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=wme(t,"string");return typeof e=="symbol"?e:e+""}function wme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _me(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var x=s[b],_,S=()=>(_===void 0&&(_=n(x,b)),_);if(b===l-1){var E=t*(x.coordinate+t*S()/2-d);s[b]=x=yr(yr({},x),{},{tickCoord:E>0?x.coordinate-E*t:x.coordinate})}else s[b]=x=yr(yr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=xm(t,x.tickCoord,S,c,d);k&&(d=x.tickCoord-t*(S()/2+i),s[b]=yr(yr({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function Eme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var p=r[c-1],m=n(p,c-1),b=t*(p.coordinate+t*m/2-f);if(l[c-1]=p=yr(yr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var x=xm(t,p.tickCoord,()=>m,d,f);x&&(f=p.tickCoord-t*(m/2+i),l[c-1]=yr(yr({},p),{},{isShow:!0}))}}for(var _=s?c-1:c,S=function(j){var O=l[j],V,R=()=>(V===void 0&&(V=n(O,j)),V);if(j===0){var F=t*(O.coordinate-t*R()/2-d);l[j]=O=yr(yr({},O),{},{tickCoord:F<0?O.coordinate-F*t:O.coordinate})}else l[j]=O=yr(yr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var P=xm(t,O.tickCoord,R,d,f);P&&(d=O.tickCoord+t*(R()/2+i),l[j]=yr(yr({},O),{},{isShow:!0}))}},E=0;E<_;E++)S(E);return l}function Sme(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:p,angle:m}=t;if(!i||!i.length||!r)return[];if(qe(d)||Gv.isSsr){var b;return(b=gme(i,qe(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],_=c==="top"||c==="bottom"?"width":"height",S=p&&_==="width"?Uh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(O,V)=>{var R=typeof f=="function"?f(O.value,V):O.value;return _==="width"?mme(Uh(R,{fontSize:e,letterSpacing:n}),S,m):Uh(R,{fontSize:e,letterSpacing:n})[_]},k=i.length>=2?di(i[1].coordinate-i[0].coordinate):1,j=pme(s,k,_);return d==="equidistantPreserveStart"?yme(k,j,E,i,l):d==="equidistantPreserveEnd"?vme(k,j,E,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=Eme(k,j,E,i,l,d==="preserveStartEnd"):x=_me(k,j,E,i,l),x.filter(O=>O.isShow))}var Tme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},Ame=["axisLine","width","height","className","hide","ticks","axisType"];function kme(t,e){if(t==null)return{};var n,r,i=Cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(null,arguments)}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return(e=Nme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:$r.axis};function Pme(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=Tn(Tn(Tn({},d),fl(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=Tn(Tn({},f),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var m=+(s==="left"&&!l||s==="right"&&l);f=Tn(Tn({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return T.createElement("line",Dc({},f,{className:xe("recharts-cartesian-axis-line",Cd(c,"className"))}))}function Rme(t,e,n,r,i,s,l,c,d){var f,p,m,b,x,_,S=c?-1:1,E=t.tickSize||l,k=qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=p=t.coordinate,b=n+ +!c*i,m=b-S*E,_=m-S*d,x=k;break;case"left":m=b=t.coordinate,p=e+ +!c*r,f=p-S*E,x=f-S*d,_=k;break;case"right":m=b=t.coordinate,p=e+ +c*r,f=p+S*E,x=f+S*d,_=k;break;default:f=p=t.coordinate,b=n+ +c*i,m=b+S*E,_=m+S*d,x=k;break}return{line:{x1:f,y1:m,x2:p,y2:b},tick:{x,y:_}}}function jme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Mme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function zme(t){var{option:e,tickProps:n,value:r}=t,i,s=xe(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Tn(Tn({},n),{},{className:s}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=xe(l,e?.className)),i=T.createElement($2,Dc({},n,{className:l}),r)}return i}var Dme=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:p,mirror:m,x:b,y:x,width:_,height:S,tickSize:E,tickMargin:k,fontSize:j,letterSpacing:O,getTicksConfig:V,events:R,axisType:F}=t,P=Sme(Tn(Tn({},V),{},{ticks:n}),j,O),C=jme(p,m),M=Mme(p,m),L=fl(V),z=ST(r),q={};typeof i=="object"&&(q=i);var U=Tn(Tn({},L),{},{fill:"none"},q),ve=P.map(ne=>Tn({entry:ne},Rme(ne,b,x,_,S,p,E,m,k))),Ce=ve.map(ne=>{var{entry:W,line:pe}=ne;return T.createElement(qs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&T.createElement("line",Dc({},U,pe,{className:xe("recharts-cartesian-axis-tick-line",Cd(i,"className"))})))}),Y=ve.map((ne,W)=>{var{entry:pe,tick:ke}=ne,$=Tn(Tn(Tn(Tn({textAnchor:C,verticalAnchor:M},L),{},{stroke:"none",fill:s},z),ke),{},{index:W,payload:pe,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return T.createElement(qs,Dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},OT(R,pe,W)),r&&T.createElement(zme,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(pe.value,W):pe.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},Y.length>0&&T.createElement(_l,{zIndex:$r.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},Y)),Ce.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},Ce))}),Lme=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=kme(t,Ame),[p,m]=T.useState(""),[b,x]=T.useState(""),_=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Tme({ticks:_.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=T.useCallback(E=>{if(E){var k=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=k;var j=k[0];if(j){var O=window.getComputedStyle(j),V=O.fontSize,R=O.letterSpacing;(V!==p||R!==b)&&(m(V),x(R))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(_l,{zIndex:t.zIndex},T.createElement(qs,{className:xe("recharts-cartesian-axis",s)},T.createElement(Pme,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:fl(t)}),T.createElement(Dme,{ref:S,axisType:d,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Tfe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Mfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),K2=T.forwardRef((t,e)=>{var n=$i(t,wc);return T.createElement(Lme,Dc({},n,{ref:e}))});K2.displayName="CartesianAxis";var Vme={},_8=Gr({name:"errorBars",initialState:Vme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ove,replaceErrorBar:Pve,removeErrorBar:Rve}=_8.actions,Bme=_8.reducer,Ume=["children"];function Fme(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $me={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hme=T.createContext($me);function Gme(t){var{children:e}=t,n=Fme(t,Ume);return T.createElement(Hme.Provider,{value:n},e)}function E8(t,e){var n,r,i=Ge(f=>io(f,t)),s=Ge(f=>ao(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function Kme(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=v8(),{needClipX:s,needClipY:l,needClip:c}=E8(e,n);if(!c||!i)return null;var{x:d,y:f,width:p,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-p/2,y:l?f:f-m/2,width:s?p:p*2,height:l?m:m*2}))}var h_={exports:{}},m_={};var dz;function Yme(){if(dz)return m_;dz=1;var t=Dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return m_.useSyncExternalStoreWithSelector=function(d,f,p,m,b){var x=i(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=l(function(){function E(R){if(!k){if(k=!0,j=R,R=m(R),b!==void 0&&_.hasValue){var F=_.value;if(b(F,R))return O=F}return O=R}if(F=O,n(j,R))return F;var P=m(R);return b!==void 0&&b(F,P)?(j=R,F):(j=R,O=P)}var k=!1,j,O,V=p===void 0?null:p;return[function(){return E(f())},V===null?void 0:function(){return E(V())}]},[f,p,m,b]);var S=r(d,x[0],x[1]);return s(function(){_.hasValue=!0,_.value=S},[S]),c(S),S},m_}var fz;function Wme(){return fz||(fz=1,h_.exports=Yme()),h_.exports}Wme();function Xme(t){t()}function Qme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var hz={notify(){},get:()=>[]};function Zme(t,e){let n,r=hz,i=0,s=!1;function l(S){p();const E=r.subscribe(S);let k=!1;return()=>{k||(k=!0,E(),m())}}function c(){r.notify()}function d(){_.onStateChange&&_.onStateChange()}function f(){return s}function p(){i++,n||(n=t.subscribe(d),r=Qme())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=hz)}function b(){s||(s=!0,p())}function x(){s&&(s=!1,m())}const _={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return _}var Jme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",epe=Jme(),tpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",npe=tpe(),rpe=()=>epe||npe?T.useLayoutEffect:T.useEffect,ipe=rpe();function mz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ape(t,e){if(mz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!mz(t[n[i]],e[n[i]]))return!1;return!0}var spe=Symbol.for("react-redux-context"),ope=typeof globalThis<"u"?globalThis:{};function lpe(){if(!T.createContext)return{};const t=ope[spe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var cpe=lpe();function upe(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=Zme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);ipe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||cpe;return T.createElement(c.Provider,{value:s},e)}var dpe=upe,fpe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hpe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Y2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(fpe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ape(t[r],e[r]))return!1}else if(!hpe(t[r],e[r]))return!1;return!0}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:g8}function Gc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:g8}var mpe="Invariant failed";function ppe(t,e){throw new Error(mpe)}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}function Hy(t){return T.createElement(xhe,JE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var gpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(qe(e))return e;var s=qe(r)||Xn(r);return s?e(r,i):(s||ppe(),n)}},ype=(t,e,n)=>n,vpe=(t,e)=>e,op=oe([T2,vpe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),bpe=oe([op],t=>t?.maxBarSize),xpe=(t,e,n,r)=>r,wpe=oe([Ct,T2,Hc,Gc,ype],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),_pe=(t,e,n)=>{var r=Ct(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null))return r==="horizontal"?GE(t,"yAxis",s,n):GE(t,"xAxis",i,n)},Epe=(t,e)=>{var n=Ct(t),r=Hc(t,e),i=Gc(t,e);if(!(r==null||i==null))return n==="horizontal"?lM(t,"xAxis",r):lM(t,"yAxis",i)},Spe=oe([wpe,kle,Epe],Whe),Tpe=(t,e,n)=>{var r,i,s=op(t,e);if(s!=null){var l=Hc(t,e),c=Gc(t,e);if(!(l==null||c==null)){var d=Ct(t),f=NL(t),{maxBarSize:p}=s,m=Xn(p)?f:p,b,x;return d==="horizontal"?(b=Md(t,"xAxis",l,n),x=jd(t,"xAxis",l,n)):(b=Md(t,"yAxis",c,n),x=jd(t,"yAxis",c,n)),(r=(i=xy(b,x,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},S8=(t,e,n)=>{var r=Ct(t),i=Hc(t,e),s=Gc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=Md(t,"xAxis",i,n),c=jd(t,"xAxis",i,n)):(l=Md(t,"yAxis",s,n),c=jd(t,"yAxis",s,n)),xy(l,c)}},Ape=oe([Spe,NL,Ale,OL,Tpe,S8,bpe],eme),kpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Md(t,"xAxis",r,n)},Cpe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return Md(t,"yAxis",r,n)},Ipe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return jd(t,"xAxis",r,n)},Npe=(t,e,n)=>{var r=Gc(t,e);if(r!=null)return jd(t,"yAxis",r,n)},Ope=oe([Ape,op],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ppe=oe([_pe,op],tme),Rpe=oe([Qn,BT,kpe,Cpe,Ipe,Npe,Ope,Ct,mle,S8,Ppe,op,xpe],(t,e,n,r,i,s,l,c,d,f,p,m,b)=>{var{chartData:x,dataStartIndex:_,dataEndIndex:S}=d;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:E}=m,k;if(E!=null&&E.length>0?k=E:k=x?.slice(_,S+1),k!=null)return lge({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:k,offset:t,cells:b,dataStartIndex:_})}}),jpe=["index"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function Mpe(t,e){if(t==null)return{};var n,r,i=zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T8=T.createContext(void 0),Dpe=t=>{var e=T.useContext(T8);if(e!=null)return e.stackId;if(t!=null)return mre(t)},Lpe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Vpe=t=>{var e=T.useContext(T8);if(e!=null){var{stackId:n}=e;return"url(#".concat(Lpe(n,t),")")}},Bpe=t=>{var{index:e}=t,n=Mpe(t,jpe),r=Vpe(e);return T.createElement(qs,eS({className:"recharts-bar-stack-layer",clipPath:r},n))},Upe=["onMouseEnter","onMouseLeave","onClick"],Fpe=["value","background","tooltipPosition"],qpe=["id"],$pe=["onMouseEnter","onClick","onMouseLeave"];function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(null,arguments)}function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){Hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hpe(t,e,n){return(e=Gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gpe(t){var e=Kpe(t,"string");return typeof e=="symbol"?e:e+""}function Kpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gy(t,e){if(t==null)return{};var n,r,i=Ype(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wpe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:c9(n,e),payload:t}]},Xpe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:c9(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(whe,{tooltipEntrySettings:p})});function Qpe(t){var e=Ge(zd),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=Gy(s,Upe),p=f8(l,r,s.id),m=h8(c),b=m8(d,r,s.id);if(!i||n==null)return null;var x=ST(i);return T.createElement(_l,{zIndex:nme(i,$r.barBackground)},n.map((_,S)=>{var{value:E,background:k,tooltipPosition:j}=_,O=Gy(_,Fpe);if(!k)return null;var V=p(_,S),R=m(_,S),F=b(_,S),P=kr(kr(kr(kr(kr({option:i,isActive:String(S)===e},O),{},{fill:"#eee"},k),x),OT(f,_,S)),{},{onMouseEnter:V,onMouseLeave:R,onClick:F,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return T.createElement(Hy,Xs({key:"background-bar-".concat(S)},P))}))}function Zpe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return kr(kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(Gfe,{value:e?i:void 0},n)}function Jpe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Ge(zd),d=Ge(UV),f=n&&String(s)===c&&(d==null||l===d),p=f?n:e;return f?T.createElement(_l,{zIndex:$r.activeBar},T.createElement(Hy,Xs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))):T.createElement(Hy,Xs({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:l}))}function ege(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(Hy,Xs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function tge(t){var e,{data:n,props:r}=t,i=(e=fl(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Gy(i,qpe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:p,onClick:m,onMouseLeave:b}=r,x=Gy(r,$pe),_=f8(p,d,s),S=h8(b),E=m8(m,d,s);return n?T.createElement(T.Fragment,null,n.map((k,j)=>T.createElement(Bpe,Xs({index:j,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(j),className:"recharts-bar-rectangle"},OT(x,k,j),{onMouseEnter:_(k,j),onMouseLeave:S(k,j),onClick:E(k,j)}),f?T.createElement(Jpe,{shape:c,activeBar:f,baseProps:l,entry:k,index:j,dataKey:d}):T.createElement(ege,{shape:c,baseProps:l,entry:k,index:j,dataKey:d})))):null}function nge(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=e,m=n.current,b=HT(e,"recharts-bar-"),[x,_]=T.useState(!1),S=!x,E=T.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),k=T.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return T.createElement(Zpe,{showLabels:S,rects:r},T.createElement($T,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:E,onAnimationStart:k,key:b},j=>{var O=j===1?r:r?.map((V,R)=>{var F=m&&m[R];if(F)return kr(kr({},V),{},{x:dr(F.x,V.x,j),y:dr(F.y,V.y,j),width:dr(F.width,V.width,j),height:dr(F.height,V.height,j)});if(i==="horizontal"){var P=dr(0,V.height,j),C=dr(V.stackedBarStart,V.y,j);return kr(kr({},V),{},{y:C,height:P})}var M=dr(0,V.width,j),L=dr(V.stackedBarStart,V.x,j);return kr(kr({},V),{},{width:M,x:L})});return j>0&&(n.current=O??null),O==null?null:T.createElement(qs,null,T.createElement(tge,{props:e,data:O}))}),T.createElement(Wfe,{label:e.label}),e.children)}function rge(t){var e=T.useRef(null);return T.createElement(nge,{previousRectanglesRef:e,props:t})}var A8=0,ige=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:hr(t,e)}};class age extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var p=xe("recharts-bar",i),m=f;return T.createElement(qs,{className:p,id:f},c&&T.createElement("defs",null,T.createElement(Kme,{clipPathId:m,xAxisId:s,yAxisId:l})),T.createElement(qs,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},T.createElement(Qpe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(rge,this.props)))}}var sge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:A8,xAxisId:0,yAxisId:0,zIndex:$r.bar};function oge(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=t,{needClip:m}=E8(e,n),b=Km(),x=xi(),_=the(t.children,ub),S=Ge(j=>Rpe(j,t.id,x,_));if(b!=="vertical"&&b!=="horizontal")return null;var E,k=S?.[0];return k==null||k.height==null||k.width==null?E=0:E=b==="vertical"?k.height/2:k.width/2,T.createElement(Gme,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:ige,errorBarOffset:E},T.createElement(age,Xs({},t,{layout:b,needClip:m,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function lge(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:m,offset:b,cells:x,parentViewBox:_,dataStartIndex:S}=t,E=e==="horizontal"?c:l,k=p?E.scale.domain():null,j=pre({numericAxis:E}),O=E.scale(j);return m.map((V,R)=>{var F,P,C,M,L,z;if(p){var q=p[R+S];if(q==null)return null;F=cre(q,k)}else F=hr(V,n),Array.isArray(F)||(F=[j,F]);var U=gpe(r,A8)(F[1],R);if(e==="horizontal"){var ve,[Ce,Y]=[c.scale(F[0]),c.scale(F[1])];P=hR({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:V,index:R}),C=(ve=Y??Ce)!==null&&ve!==void 0?ve:void 0,M=i.size;var ne=Ce-Y;if(L=rs(ne)?0:ne,z={x:P,y:b.top,width:M,height:b.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var W=di(L||U)*(Math.abs(U)-Math.abs(L));C-=W,L+=W}}else{var[pe,ke]=[l.scale(F[0]),l.scale(F[1])];if(P=pe,C=hR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:V,index:R}),M=ke-pe,L=i.size,z={x:b.left,y:C,width:b.width,height:L},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var $=di(M||U)*(Math.abs(U)-Math.abs(M));M+=$}}if(P==null||C==null||M==null||L==null)return null;var ie=kr(kr({},V),{},{stackedBarStart:O,x:P,y:C,width:M,height:L,value:p?F:F[1],payload:V,background:z,tooltipPosition:{x:P+M/2,y:C+L/2},parentViewBox:_},x&&x[R]&&x[R].props);return ie}).filter(Boolean)}function cge(t){var e=$i(t,sge),n=Dpe(e.stackId),r=xi();return T.createElement(khe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(_he,{legendPayload:Wpe(e)}),T.createElement(Xpe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(jhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(_l,{zIndex:e.zIndex},T.createElement(oge,Xs({},e,{id:i})))))}var W2=T.memo(cge,Y2);W2.displayName="Bar";var uge=["domain","range"],dge=["domain","range"];function gz(t,e){if(t==null)return{};var n,r,i=fge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function k8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=gz(t,uge),{domain:s,range:l}=e,c=gz(e,dge);return!yz(n,s)||!yz(r,l)?!1:Y2(i,c)}var hge=["dangerouslySetInnerHTML","ticks","scale"],mge=["id","scale"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function vz(t,e){if(t==null)return{};var n,r,i=pge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gge(t){var e=pn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Vhe(t)):n.current!==t&&e(Bhe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Uhe(n.current)),n.current=null)},[e]),null}var yge=t=>{var{xAxisId:e,className:n}=t,r=Ge(BT),i=xi(),s="xAxis",l=Ge(k=>wV(k,s,e,i)),c=Ge(k=>yV(k,e)),d=Ge(k=>Sce(k,e)),f=Ge(k=>BL(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:b}=t,x=vz(t,hge),{id:_,scale:S}=f,E=vz(f,mge);return T.createElement(K2,tS({},x,E,{x:d.x,y:d.y,width:c.width,height:c.height,className:xe("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},vge={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:wc.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Hn.type,xAxisId:0},bge=t=>{var e=$i(t,vge);return T.createElement(T.Fragment,null,T.createElement(gge,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(yge,e))},X2=T.memo(bge,k8);X2.displayName="XAxis";var xge=["dangerouslySetInnerHTML","ticks","scale"],wge=["id","scale"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function bz(t,e){if(t==null)return{};var n,r,i=_ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ege(t){var e=pn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Fhe(t)):n.current!==t&&e(qhe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e($he(n.current)),n.current=null)},[e]),null}var Sge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=Ge(BT),d=xi(),f=pn(),p="yAxis",m=Ge(F=>vV(F,e)),b=Ge(F=>Ace(F,e)),x=Ge(F=>wV(F,p,e,d)),_=Ge(F=>UL(F,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!m||H2(i)||T.isValidElement(i)||_==null)){var F=s.current;if(F){var P=F.getCalculatedWidth();Math.round(m.width)!==Math.round(P)&&f(Hhe({id:e,width:P}))}}},[x,m,f,i,e,r,_]),m==null||b==null||_==null)return null;var{dangerouslySetInnerHTML:S,ticks:E,scale:k}=t,j=bz(t,xge),{id:O,scale:V}=_,R=bz(_,wge);return T.createElement(K2,nS({},j,R,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:xe("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:x,axisType:p}))},Tge={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:wc.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:wc.tickLine,tickSize:wc.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},Age=t=>{var e=$i(t,Tge);return T.createElement(T.Fragment,null,T.createElement(Ege,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(Sge,e))},C8=T.memo(Age,k8);C8.displayName="YAxis";var kge=(t,e)=>e,Q2=oe([kge,Ct,LL,Dn,DV,so,Bue,Qn],Kue),Z2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},I8=Fi("mouseClick"),N8=Hm();N8.startListening({actionCreator:I8,effect:(t,e)=>{var n=t.payload,r=Q2(e.getState(),Z2(n));r?.activeIndex!=null&&e.dispatch(Bce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rS=Fi("mouseMove"),O8=Hm(),i0=null;O8.startListening({actionCreator:rS,effect:(t,e)=>{var n=t.payload;i0!==null&&cancelAnimationFrame(i0);var r=Z2(n);i0=requestAnimationFrame(()=>{var i=e.getState(),s=j2(i,i.tooltip.settings.shared);if(s==="axis"){var l=Q2(i,r);l?.activeIndex!=null?e.dispatch(IV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(CV())}i0=null})}});function Cge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var xz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},P8=Gr({name:"rootProps",initialState:xz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:xz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Ige=P8.reducer,{updateOptions:Nge}=P8.actions,R8=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:jve}=R8.actions,Oge=R8.reducer,j8=Fi("keyDown"),M8=Fi("focus"),J2=Hm();J2.startListening({actionCreator:j8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=M2(i,sf(n),tp(n),ap(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=so(n);if(s==="Enter"){var f=Uy(n,"axis","hover",String(i.index));e.dispatch(YE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var p=Nce(n),m=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,x=c+b*m;if(!(d==null||x>=d.length||x<0)){var _=Uy(n,"axis","hover",String(x));e.dispatch(YE({active:!0,activeIndex:x.toString(),activeCoordinate:_}))}}}}}});J2.startListening({actionCreator:M8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Uy(n,"axis","hover",String(s));e.dispatch(YE({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Di=Fi("externalEvent"),z8=Hm(),p_=new Map;z8.startListening({actionCreator:Di,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=p_.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:Tue(c),activeDataKey:UV(c),activeIndex:zd(c),activeLabel:BV(c),activeTooltipIndex:zd(c),isTooltipActive:Aue(c)};n(d,r)}finally{p_.delete(i)}});p_.set(i,l)}}});var Pge=oe([rf],t=>t.tooltipItemPayloads),Rge=oe([Pge,ip,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),D8=Fi("touchMove"),L8=Hm();L8.startListening({actionCreator:D8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=j2(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=Q2(r,Z2({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(IV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(_re),m=(c=f.getAttribute(Ere))!==null&&c!==void 0?c:void 0,b=af(r).find(S=>S.id===m);if(p==null||b==null||m==null)return;var{dataKey:x}=b,_=Rge(r,p,m);e.dispatch(kV({activeDataKey:x,activeIndex:p,activeCoordinate:_,activeGraphicalItemId:m}))}}}});var jge=j6({brush:ime,cartesianAxis:Ghe,chartData:Tde,errorBars:Bme,graphicalItems:Phe,layout:rre,legend:yie,options:xde,polarAxis:Qfe,polarOptions:Oge,referenceElements:dme,rootProps:Ige,tooltip:Uce,zIndex:ode}),Mge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Cne({reducer:jge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([N8.middleware,O8.middleware,J2.middleware,z8.middleware,L8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(W6({type:"raf"}))},devTools:{serialize:{replacer:Cge},name:"recharts-".concat(n)}})};function zge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=xi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=Mge(e,r));var l=RT;return T.createElement(dpe,{context:l,store:s.current},n)}function Dge(t){var{layout:e,margin:n}=t,r=pn(),i=xi();return T.useEffect(()=>{i||(r(ere(e)),r(Jne(n)))},[r,i,e,n]),null}var Lge=T.memo(Dge,Y2);function Vge(t){var e=pn();return T.useEffect(()=>{e(Nge(t))},[e,t]),null}function wz(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=pn();return T.useLayoutEffect(()=>(r.current&&i(ade({zIndex:e,element:r.current,isPanorama:n})),()=>{i(sde({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function _z(t){var{children:e,isPanorama:n}=t,r=Ge(Wue);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(wz,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(wz,{key:l,zIndex:l,isPanorama:n})))}var Bge=["children"];function Uge(t,e){if(t==null)return{};var n,r,i=Fge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(null,arguments)}var qge={width:"100%",height:"100%",display:"block"},$ge=T.forwardRef((t,e)=>{var n=Jre(),r=eie(),i=E9();if(!hl(n)||!hl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),T.createElement(Z3,Ky({},l,{title:c,desc:d,role:p,tabIndex:f,width:n,height:r,style:qge,ref:e}),s)}),Hge=t=>{var{children:e}=t,n=Ge(Bv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(Z3,{width:r,height:i,x:l,y:s},e)},Ez=T.forwardRef((t,e)=>{var{children:n}=t,r=Uge(t,Bge),i=xi();return i?T.createElement(Hge,null,T.createElement(_z,{isPanorama:!0},n)):T.createElement($ge,Ky({ref:e},r),T.createElement(_z,{isPanorama:!1},n))});function Gge(){var t=pn(),[e,n]=T.useState(null),r=Ge(wre);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;rn(s)&&s!==r&&t(nre(s))}},[e,t,r]),n}function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){Yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Xge(t,"string");return typeof e=="symbol"?e:e+""}function Xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}var Qge=()=>(jde(),null);function Yy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Zge=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Yy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Yy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,p)=>{l(m=>{var b=Math.round(f),x=Math.round(p);return m.containerWidth===b&&m.containerHeight===x?m:{containerWidth:b,containerHeight:x}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();c(p,m);var b=_=>{var{width:S,height:E}=_[0].contentRect;c(S,E)},x=new ResizeObserver(b);x.observe(f),i.current=x}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Fv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Lc({ref:d},t)))}),Jge=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Yy(n),containerHeight:Yy(r)}),l=T.useCallback((d,f)=>{s(p=>{var m=Math.round(d),b=Math.round(f);return p.containerWidth===m&&p.containerHeight===b?p:{containerWidth:m,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(Fv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Lc({ref:c},t)))}),e0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Fv,{width:n,height:r}),T.createElement("div",Lc({ref:e},t)))}),t0e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return $s(n)||$s(r)?T.createElement(Jge,Lc({},t,{ref:e})):T.createElement(e0e,Lc({},t,{ref:e}))});function n0e(t){return t===!0?Zge:t0e}var r0e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:b,onTouchEnd:x,onTouchMove:_,onTouchStart:S,style:E,width:k,responsive:j,dispatchTouchEvents:O=!0}=t,V=T.useRef(null),R=pn(),[F,P]=T.useState(null),[C,M]=T.useState(null),L=Gge(),z=UT(),q=z?.width>0?z.width:k,U=z?.height>0?z.height:i,ve=T.useCallback(G=>{L(G),typeof e=="function"&&e(G),P(G),M(G),G!=null&&(V.current=G)},[L,e,P,M]),Ce=T.useCallback(G=>{R(I8(G)),R(Di({handler:s,reactEvent:G}))},[R,s]),Y=T.useCallback(G=>{R(rS(G)),R(Di({handler:f,reactEvent:G}))},[R,f]),ne=T.useCallback(G=>{R(CV()),R(Di({handler:p,reactEvent:G}))},[R,p]),W=T.useCallback(G=>{R(rS(G)),R(Di({handler:m,reactEvent:G}))},[R,m]),pe=T.useCallback(()=>{R(M8())},[R]),ke=T.useCallback(G=>{R(j8(G.key))},[R]),$=T.useCallback(G=>{R(Di({handler:l,reactEvent:G}))},[R,l]),ie=T.useCallback(G=>{R(Di({handler:c,reactEvent:G}))},[R,c]),re=T.useCallback(G=>{R(Di({handler:d,reactEvent:G}))},[R,d]),ce=T.useCallback(G=>{R(Di({handler:b,reactEvent:G}))},[R,b]),be=T.useCallback(G=>{R(Di({handler:S,reactEvent:G}))},[R,S]),Se=T.useCallback(G=>{O&&R(D8(G)),R(Di({handler:_,reactEvent:G}))},[R,O,_]),Te=T.useCallback(G=>{R(Di({handler:x,reactEvent:G}))},[R,x]),Ve=n0e(j);return T.createElement(YV.Provider,{value:F},T.createElement(see.Provider,{value:C},T.createElement(Ve,{width:q??E?.width,height:U??E?.height,className:xe("recharts-wrapper",r),style:Kge({position:"relative",cursor:"default",width:q,height:U},E),onClick:Ce,onContextMenu:$,onDoubleClick:ie,onFocus:pe,onKeyDown:ke,onMouseDown:re,onMouseEnter:Y,onMouseLeave:ne,onMouseMove:W,onMouseUp:ce,onTouchEnd:Te,onTouchMove:Se,onTouchStart:be,ref:ve},T.createElement(Qge,null),n)))}),i0e=["width","height","responsive","children","className","style","compact","title","desc"];function a0e(t,e){if(t==null)return{};var n,r,i=s0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o0e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:p}=t,m=a0e(t,i0e),b=fl(m);return d?T.createElement(T.Fragment,null,T.createElement(Fv,{width:n,height:r}),T.createElement(Ez,{otherAttributes:b,title:f,desc:p},s)):T.createElement(r0e,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(Ez,{otherAttributes:b,title:f,desc:p,ref:e},T.createElement(hme,null,s)))});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(null,arguments)}var l0e={top:5,right:5,bottom:5,left:5},c0e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:l0e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},u0e=T.forwardRef(function(e,n){var r,i=$i(e.categoricalChartProps,c0e),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(zge,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(rme,{chartData:f.data}),T.createElement(Lge,{layout:i.layout,margin:i.margin}),T.createElement(Vge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(o0e,iS({},i,{ref:n})))}),d0e=["axis","item"],V8=T.forwardRef((t,e)=>T.createElement(u0e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:d0e,tooltipPayloadSearcher:vde,categoricalChartProps:t,ref:e}));const B8=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=wr(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?g.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:g.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[g.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),g.jsx("div",{className:"h-48 w-full mb-6",children:g.jsx(m9,{width:"100%",height:"100%",children:g.jsxs(V8,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[g.jsx(X2,{type:"number",hide:!0}),g.jsx(C8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),g.jsx(QV,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),g.jsx(W2,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>g.jsx(ub,{fill:i[l%i.length]},`cell-${l}`))})]})})}),g.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return g.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),g.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),g.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},f0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=Nr("expense"),{categories:i,addCategory:s}=kd("expense"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=wr(),p=t.filter(S=>{const[E,k]=S.date.split("-").map(Number);return k===d.getMonth()+1&&E===d.getFullYear()}),m=p.reduce((S,E)=>S+E.amount,0),b=()=>{const S=p.reduce((E,k)=>{const j=k.category||"Sin Categora";return E[j]=(E[j]||0)+k.amount,E},{});return Object.entries(S).map(([E,k])=>({name:E,value:k}))},x=S=>{l?(r(l.id,S),c(null)):e(S)},_=S=>{c(S),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(Ev,{}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(Y3,{type:"expense",onSubmit:x,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(W3,{transactions:p,onDelete:n,onEdit:_})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(B8,{data:b(),total:m})})})]})]})},h0e=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=Nr("income"),{categories:i,addCategory:s}=kd("income"),[l,c]=T.useState(null),{selectedDate:d}=Ld(),{currency:f}=wr(),p=t.filter(S=>{const[E,k]=S.date.split("-").map(Number);return k===d.getMonth()+1&&E===d.getFullYear()}),m=p.reduce((S,E)=>S+E.amount,0),b=()=>{const S=p.reduce((E,k)=>{const j=k.category||"Sin Categora";return E[j]=(E[j]||0)+k.amount,E},{});return Object.entries(S).map(([E,k])=>({name:E,value:k}))},x=S=>{l?(r(l.id,S),c(null)):e(S)},_=S=>{c(S),window.scrollTo({top:0,behavior:"smooth"})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[g.jsx(Ev,{}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[g.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[f,m.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsx(Y3,{type:"income",onSubmit:x,categories:i,onAddCategory:s,initialData:l||void 0}),g.jsx(W3,{transactions:p,onDelete:n,onEdit:_})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsx("div",{className:"sticky top-6",children:g.jsx(B8,{data:b(),total:m})})})]})]})},m0e=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,isGoalPaidThisMonth:i,addContribution:s,withdraw:l,getMonthlyQuota:c,updateGoal:d}=Bm(),{total:f}=Nr("income"),{total:p}=Nr("expense"),{currency:m}=wr(),b=t.reduce((W,pe)=>W+(pe.currentAmount||0),0),x=f-p-b,[_,S]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),E=_.deadline?new Date(_.deadline):null,k=E?Math.max(1,(E.getFullYear()-new Date().getFullYear())*12+(E.getMonth()-new Date().getMonth())):0,j=_.targetAmount&&k>0?Number(_.targetAmount)/k:0,[O,V]=T.useState({open:!1,title:"",message:""}),[R,F]=T.useState({open:!1,type:"deposit",goalId:"",goalName:""}),[P,C]=T.useState(""),[M,L]=T.useState({open:!1,goalId:""}),[z,q]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),U=W=>{L({open:!0,goalId:W.id}),q({name:W.name,targetAmount:W.targetAmount.toString(),deadline:W.deadline||"",icon:W.icon||""})},ve=()=>{!z.name||!z.targetAmount||!z.deadline||(d(M.goalId,{name:z.name,targetAmount:Number(z.targetAmount),deadline:z.deadline,icon:z.icon}),L({open:!1,goalId:""}))},Ce=()=>{const W=Number(P);if(!(!W||W<=0)){if(R.type==="withdraw"){const pe=t.find(ke=>ke.id===R.goalId);if(!pe||pe.currentAmount<W){alert("No hay suficientes fondos ahorrados en esta meta para retirar esa cantidad.");return}l(R.goalId,W)}else{if(x<W){alert(`No tienes saldo disponible suficiente (${m}${x.toFixed(2)})`);return}s(R.goalId,W,"Ingreso Extra")}F({...R,open:!1})}},Y=(W,pe,ke)=>{x>=pe?r(W,pe):V({open:!0,title:"Saldo Insuficiente",message:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["No tienes saldo disponible suficiente para pagar la cuota de ",g.jsx("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:ke}),"."]}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg border border-rose-100 dark:border-rose-900/30 space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Saldo Disponible:"}),g.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[m,x.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Cuota Necesaria:"}),g.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[m,pe.toFixed(2)]})]}),g.jsxs("div",{className:"border-t border-rose-200 dark:border-rose-800/50 pt-2 mt-2 flex justify-between text-sm font-bold",children:[g.jsx("span",{className:"text-rose-900 dark:text-rose-200",children:"Faltante:"}),g.jsxs("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:["-",m,(pe-x).toFixed(2)]})]})]})]})})},ne=W=>{W.preventDefault(),!(!_.name||!_.targetAmount||!_.deadline)&&(e({name:_.name,targetAmount:Number(_.targetAmount),deadline:_.deadline,startDate:new Date().toISOString().split("T")[0],icon:_.icon||""}),S({name:"",targetAmount:"",deadline:"",icon:""}))};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Calculadora de Metas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Planifica tus compras y objetivos de ahorro"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-1 space-y-6",children:g.jsxs("form",{onSubmit:ne,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl space-y-4 shadow-sm dark:shadow-none",children:[g.jsxs("h3",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-2",children:[g.jsx(gT,{size:18}),"Simular Meta"]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Objetivo"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Coche Nuevo",value:_.name,onChange:W=>S({..._,name:W.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),g.jsx("input",{type:"text",inputMode:"decimal",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:_.targetAmount,onChange:W=>{const pe=W.target.value;/^\d*\.?\d*$/.test(pe)&&S({..._,targetAmount:pe})}})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:_.deadline,onChange:W=>S({..._,deadline:W.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono (Emoji)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 text-center text-lg",placeholder:"",value:_.icon,onChange:W=>S({..._,icon:W.target.value}),maxLength:2})]}),g.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg text-center border border-zinc-200 dark:border-zinc-800 border-dashed mt-4",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase mb-1",children:"Ahorro Mensual Sugerido"}),g.jsxs("p",{className:"text-2xl font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:[m,isFinite(j)?j.toFixed(2):"0.00"]}),k>0&&g.jsxs("p",{className:"text-[10px] text-zinc-400 mt-1",children:["Durante ~",k," meses"]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Meta"})]})}),g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-300 flex items-center gap-2",children:[g.jsx(yc,{size:18}),"Metas"]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length===0?g.jsx("div",{className:"col-span-full bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-xl p-8 text-center",children:g.jsx("p",{className:"text-zinc-500",children:"No hay metas definidas."})}):t.map(W=>{const pe=i(W),ke=c(W),$=W.currentAmount/W.targetAmount*100;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-5 rounded-xl group relative shadow-sm dark:shadow-none flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-2xl mb-1 block",children:W.icon||""}),g.jsx("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg",children:W.name}),g.jsxs("p",{className:"text-[10px] text-zinc-400",children:["Vence: ",W.deadline||"Sin fecha"]})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>U(W),className:"text-zinc-400 hover:text-blue-500 transition-colors p-1",title:"Editar meta",children:g.jsx(FQ,{size:16})}),g.jsx("button",{onClick:()=>n(W.id),className:"text-zinc-400 hover:text-rose-500 transition-colors p-1",title:"Eliminar meta",children:g.jsx(fa,{size:16})})]})]}),g.jsxs("div",{className:"mt-4 space-y-1",children:[g.jsxs("div",{className:"flex justify-between text-xs text-zinc-500",children:[g.jsx("span",{children:"Progreso Total"}),g.jsxs("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[$.toFixed(1),"%"]})]}),g.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden border border-zinc-200 dark:border-zinc-700/50",children:g.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 relative",style:{width:`${Math.min($,100)}%`},children:$>=20&&g.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})})}),g.jsx("div",{className:"text-center py-2",children:g.jsx("p",{className:"text-xs italic text-zinc-400",children:$>=100?"Meta alcanzada! ":$>=75?"Ya casi ests ah! ":$>=50?"Ms de la mitad! ":$>=25?"Buen progreso, sigue as! ":"Todo viaje empieza con un paso! "})}),g.jsxs("div",{className:"flex justify-between text-xs mt-1 border-t border-dashed border-zinc-200 dark:border-zinc-800 pt-2",children:[g.jsxs("span",{className:"text-zinc-400 font-mono",children:[m,W.currentAmount.toFixed(2)]}),g.jsxs("span",{className:"text-zinc-400 font-mono",children:["/ ",m,W.targetAmount.toLocaleString()]})]})]})]}),g.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-zinc-500",children:"Cuota Mensual"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200",children:[m,ke.toFixed(2)]})]}),pe?g.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs font-bold rounded-lg border border-emerald-200 dark:border-emerald-800/50",children:"Pagado este mes!"}):g.jsx("button",{onClick:()=>Y(W.id,ke,W.name),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm shadow-emerald-900/20",children:"Pagar Cuota"})]}),pe&&g.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-right italic",children:"Suma al saldo de Ahorro"})]})]},W.id)})})]})]}),g.jsx(Ja,{isOpen:O.open,onClose:()=>V({...O,open:!1}),title:O.title,children:O.message}),g.jsx(Ja,{isOpen:R.open,onClose:()=>F({...R,open:!1}),title:R.type==="deposit"?"Ingresar Fondos Extra":"Retirar Fondos",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:R.type==="deposit"?"Aade dinero extra a esta meta desde tu saldo disponible.":"Mueve dinero de esta meta de vuelta a tu saldo disponible."}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:P,onChange:W=>C(W.target.value)})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{onClick:Ce,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${R.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:R.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})})]})}),g.jsx(Ja,{isOpen:M.open,onClose:()=>L({...M,open:!1}),title:"Editar Meta",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:z.name,onChange:W=>q({...z,name:W.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:z.targetAmount,onChange:W=>q({...z,targetAmount:W.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:z.deadline,onChange:W=>q({...z,deadline:W.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:z.icon,onChange:W=>q({...z,icon:W.target.value}),maxLength:2})]}),g.jsx("button",{onClick:ve,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors mt-4",children:"Guardar Cambios"})]})})]})},p0e=({project:t,onClose:e})=>{const{currency:n}=wr(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=wT(),{currentBalance:d}=Um(),{addTransaction:f}=Nr(),[p,m]=T.useState("overview"),b=c(t),[x,_]=T.useState({amount:"",description:"",type:"expense"}),[S,E]=T.useState(!1),k=R=>{R.preventDefault();const F=Number(x.amount);if(!(F<=0)){if(x.type==="income"){if(F>d){Mt.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:F,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:F,description:x.description,type:x.type,date:(()=>{const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`})()}),_({amount:"",description:"",type:"expense"}),E(!1)}},j=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},O=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(R=>({name:new Date(R.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:R.type==="income"?R.amount:-R.amount})),[t.transactions]),V=()=>{const R={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:R[t.status]})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),g.jsx("span",{onClick:V,className:xe("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),g.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),g.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:g.jsx(ry,{size:24})})]}),g.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[g.jsxs("button",{onClick:()=>m("overview"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(PX,{size:16})," Resumen"]}),g.jsxs("button",{onClick:()=>m("ledger"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(rE,{size:16})," Movimientos"]}),g.jsxs("button",{onClick:()=>m("settings"),className:xe("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",p==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[g.jsx(N3,{size:16})," Configuracin"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[p==="overview"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),g.jsxs("p",{className:xe("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),g.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[g.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),O.length>0?g.jsx(m9,{width:"100%",height:"100%",children:g.jsxs(V8,{data:O,children:[g.jsx(X2,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),g.jsx(QV,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),g.jsx(W2,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:O.map((R,F)=>g.jsx(ub,{fill:R.amount>=0?"#10b981":"#f43f5e"},`cell-${F}`))})]})}):g.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),p==="ledger"&&g.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>{_(R=>({...R,type:"income"})),E(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(eE,{size:18})," Inyectar Fondos"]}),g.jsxs("button",{onClick:()=>{_(R=>({...R,type:"expense"})),E(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[g.jsx(Ad,{size:18})," Registrar Gasto"]})]}),S&&g.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:x.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),g.jsx("button",{type:"button",onClick:()=>E(!1),className:"text-zinc-400 hover:text-zinc-600",children:g.jsx(ry,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.description,onChange:R=>_({...x,description:R.target.value})}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),g.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:x.amount,onChange:R=>_({...x,amount:R.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),g.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?g.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[g.jsx(rE,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(R=>g.jsxs("div",{className:xe("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:xe("w-10 h-10 rounded-full flex items-center justify-center",R.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:R.type==="income"?g.jsx(eE,{size:18}):g.jsx(Ad,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:R.description}),g.jsx("p",{className:"text-xs text-zinc-500",children:new Date(R.date).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:xe("font-mono font-bold",R.type==="income"?"text-emerald-600":"text-rose-600"),children:[R.type==="income"?"+":"-",n,R.amount.toFixed(2)]}),g.jsx("button",{onClick:()=>l(t.id,R.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:g.jsx(fa,{size:16})})]})]},R.id))})]}),p==="settings"&&g.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(R=>g.jsx("button",{onClick:()=>r(t.id,{status:R}),className:xe("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===R?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),g.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[g.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),g.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),g.jsxs("button",{onClick:j,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[g.jsx(fa,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},g0e=()=>{const{projects:t,addProject:e,updateProject:n,deleteProject:r,getProjectStats:i}=wT(),{currency:s}=wr(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState(null),[b,x]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),_=O=>{O.preventDefault();const V={name:b.name,targetBudget:Number(b.targetBudget),deadline:b.deadline,description:b.description};p?n(p,V):e(V),x({name:"",targetBudget:"",deadline:"",description:""}),c(!1),m(null)},S=(O,V)=>{O.stopPropagation(),x({name:V.name,targetBudget:V.targetBudget.toString(),deadline:V.deadline||"",description:V.description||""}),m(V.id),c(!0),window.scrollTo({top:0,behavior:"smooth"})},E=(O,V)=>{O.stopPropagation(),confirm("Ests seguro de eliminar este proyecto? Se eliminarn tambin sus transacciones.")&&r(V)},k=O=>{switch(O){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},j=(O,V)=>{O.stopPropagation();const R={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(V.id,{status:R[V.status]})};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),g.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(Za,{size:18}),g.jsx("span",{children:"Nuevo Proyecto"})]})]}),l&&g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[g.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:p?"Editar Proyecto":"Iniciar Nuevo Proyecto"}),g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),g.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.name,onChange:O=>x({...b,name:O.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),g.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.targetBudget,onChange:O=>x({...b,targetBudget:O.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),g.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.deadline,onChange:O=>x({...b,deadline:O.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),g.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:b.description,onChange:O=>x({...b,description:O.target.value})})]})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:p?"Guardar Cambios":"Crear Proyecto"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(O=>{const V=i(O);return g.jsxs("div",{onClick:()=>f(O),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:[g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:g.jsx(nE,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:O.name}),g.jsx("span",{onClick:R=>j(R,O),className:xe("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",k(O.status)),title:"Clic para cambiar estado",children:O.status==="planning"?"Planificacin":O.status==="active"?"En Curso":O.status==="completed"?"Completado":O.status==="paused"?"Pausado":"Cancelado"})]})]}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:R=>S(R,O),className:"p-2 text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar",children:g.jsx(_v,{size:18})}),g.jsx("button",{onClick:R=>E(R,O.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar",children:g.jsx(fa,{size:18})})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),g.jsxs("p",{className:xe("font-mono font-bold text-lg",V.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[s,V.currentBalance.toLocaleString()]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),g.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[s,V.totalExpenses.toLocaleString()]})]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[g.jsx("span",{className:"text-zinc-500",children:V.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),g.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[V.totalExpenses>0?V.percentConsumed.toFixed(0):V.percentFunded.toFixed(0),"%"]})]}),g.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:xe("h-full transition-all duration-500",(V.totalExpenses>0?V.percentConsumed:V.percentFunded)>100?"bg-rose-500":((V.totalExpenses>0?V.percentConsumed:V.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(V.totalExpenses>0?V.percentConsumed:V.percentFunded,100)}%`}})})]})]})]},O.id)}),t.length===0&&!l&&g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(nE,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),d&&g.jsx(p0e,{project:t.find(O=>O.id===d.id)||d,onClose:()=>f(null)})]})},g_={gift:gQ,money:C3,heart:vQ,phoenix:cQ,piggy:Dm,wallet:Lm,star:_Z,smile:bZ,briefcase:S3,car:NX,plane:YQ,home:SQ,coffee:eQ,game:mQ,phone:yZ,other:I3},y0e=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r,updateFund:i}=Qd(),{currency:s}=wr(),[l,c]=T.useState(!1),[d,f]=T.useState(null),[p,m]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[b,x]=T.useState({open:!1,type:"deposit",fundId:""}),[_,S]=T.useState(""),[E,k]=T.useState(""),j=L=>{L.preventDefault(),p.name&&(d?(i(d,p),Mt.success("Fondo actualizado")):(e(p),Mt.success("Fondo creado")),m({name:"",icon:"piggy",description:"",color:"emerald"}),f(null),c(!1))},O=()=>{f(null),m({name:"",icon:"piggy",description:"",color:"emerald"}),c(!0)},V=L=>{f(L.id),m({name:L.name,icon:L.icon,description:L.description||"",color:L.color||"emerald"}),c(!0)},{currentBalance:R}=Um(),F=L=>{L.preventDefault();const z=Number(_);if(!(!z||z<=0)){if(b.type==="deposit"&&z>R){Mt.error(`Fondos insuficientes. Solo tienes ${s}${R.toLocaleString()} disponibles.`);return}r(b.fundId,z,b.type,E),x({...b,open:!1}),S(""),k("")}},P=(L,z)=>{x({open:!0,type:L,fundId:z})},C=L=>{const z=g_[L]||I3;return g.jsx(z,{size:24})},M=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),g.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),g.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[g.jsx(Za,{size:20})," Nuevo Fondo"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(Dm,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(L=>{const z=M.find(q=>q.id===L.color)?.class||M[0].class;return g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:xe("p-3 rounded-xl transition-colors",z),children:C(L.icon)}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>V(L),className:"text-zinc-300 hover:text-blue-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Editar",children:g.jsx(_v,{size:18})}),g.jsx("button",{onClick:()=>n(L.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Eliminar",children:g.jsx(fa,{size:18})})]})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:L.name}),L.description&&g.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:L.description}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),g.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[s,L.currentAmount.toLocaleString()]})]}),g.jsxs("div",{className:"flex gap-2 mt-6",children:[g.jsxs("button",{onClick:()=>P("deposit",L.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[g.jsx(ny,{size:16})," Ingresar"]}),g.jsxs("button",{onClick:()=>P("withdraw",L.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[g.jsx(Ad,{size:16})," Retirar"]})]})]},L.id)})}),g.jsx(Ja,{isOpen:l,onClose:()=>c(!1),title:d?"Editar Fondo":"Crear Nuevo Fondo",children:g.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),g.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:p.name,onChange:L=>m({...p,name:L.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),g.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(g_).map(L=>{const z=g_[L];return g.jsx("button",{type:"button",onClick:()=>m({...p,icon:L}),className:xe("p-2 rounded-md flex items-center justify-center transition-all",p.icon===L?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:g.jsx(z,{size:20})},L)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),g.jsx("div",{className:"flex gap-2",children:M.map(L=>g.jsx("button",{type:"button",onClick:()=>m({...p,color:L.id}),className:xe("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",L.class.split(" ")[1],p.color===L.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:p.color===L.id&&g.jsx(A3,{size:14,className:"text-current"})},L.id))})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:p.description,onChange:L=>m({...p,description:L.target.value})})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:d?"Guardar Cambios":"Crear Fondo"})]})}),g.jsx(Ja,{isOpen:b.open,onClose:()=>x({...b,open:!1}),title:b.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:s}),g.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:_,onChange:L=>S(L.target.value)})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),g.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:b.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:E,onChange:L=>k(L.target.value)})]}),g.jsxs("button",{type:"submit",className:xe("w-full py-2 rounded-lg font-medium text-white transition-colors",b.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",b.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},U8=6048e5,v0e=864e5,Tz=Symbol.for("constructDateFrom");function pl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Tz in t?t[Tz](e):t instanceof Date?new t.constructor(e):new Date(e)}function va(t,e){return pl(e||t,t)}let b0e={};function db(){return b0e}function wm(t,e){const n=db(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=va(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Wy(t,e){return wm(t,{...e,weekStartsOn:1})}function F8(t,e){const n=va(t,e?.in),r=n.getFullYear(),i=pl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Wy(i),l=pl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Wy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Az(t){const e=va(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function x0e(t,...e){const n=pl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function kz(t,e){const n=va(t,e?.in);return n.setHours(0,0,0,0),n}function w0e(t,e,n){const[r,i]=x0e(n?.in,t,e),s=kz(r),l=kz(i),c=+s-Az(s),d=+l-Az(l);return Math.round((c-d)/v0e)}function _0e(t,e){const n=F8(t,e),r=pl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wy(r)}function E0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function S0e(t){return!(!E0e(t)&&typeof t!="number"||isNaN(+va(t)))}function T0e(t,e){const n=va(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const A0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k0e=(t,e,n)=>{let r;const i=A0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const C0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O0e={date:sd({formats:C0e,defaultWidth:"full"}),time:sd({formats:I0e,defaultWidth:"full"}),dateTime:sd({formats:N0e,defaultWidth:"full"})},P0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},R0e=(t,e,n,r)=>P0e[t];function $a(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const j0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U0e={ordinalNumber:B0e,era:$a({values:j0e,defaultWidth:"wide"}),quarter:$a({values:M0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$a({values:z0e,defaultWidth:"wide"}),day:$a({values:D0e,defaultWidth:"wide"}),dayPeriod:$a({values:L0e,defaultWidth:"wide",formattingValues:V0e,defaultFormattingWidth:"wide"})};function Ha(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?q0e(c,m=>m.test(l)):F0e(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function F0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function q0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function q8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const $0e=/^(\d+)(th|st|nd|rd)?/i,H0e=/\d+/i,G0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K0e={any:[/^b/i,/^(a|c)/i]},Y0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W0e={any:[/1/i,/2/i,/3/i,/4/i]},X0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nye={ordinalNumber:q8({matchPattern:$0e,parsePattern:H0e,valueCallback:t=>parseInt(t,10)}),era:Ha({matchPatterns:G0e,defaultMatchWidth:"wide",parsePatterns:K0e,defaultParseWidth:"any"}),quarter:Ha({matchPatterns:Y0e,defaultMatchWidth:"wide",parsePatterns:W0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ha({matchPatterns:X0e,defaultMatchWidth:"wide",parsePatterns:Q0e,defaultParseWidth:"any"}),day:Ha({matchPatterns:Z0e,defaultMatchWidth:"wide",parsePatterns:J0e,defaultParseWidth:"any"}),dayPeriod:Ha({matchPatterns:eye,defaultMatchWidth:"any",parsePatterns:tye,defaultParseWidth:"any"})},rye={code:"en-US",formatDistance:k0e,formatLong:O0e,formatRelative:R0e,localize:U0e,match:nye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iye(t,e){const n=va(t,e?.in);return w0e(n,T0e(n))+1}function aye(t,e){const n=va(t,e?.in),r=+Wy(n)-+_0e(n);return Math.round(r/U8)+1}function $8(t,e){const n=va(t,e?.in),r=n.getFullYear(),i=db(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=pl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=wm(l,e),d=pl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=wm(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function sye(t,e){const n=db(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=$8(t,e),s=pl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),wm(s,e)}function oye(t,e){const n=va(t,e?.in),r=+wm(n,e)-+sye(n,e);return Math.round(r/U8)+1}function St(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ho={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return St(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return St(i,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cz={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ho.y(t,e)},Y:function(t,e,n,r){const i=$8(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return St(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):St(s,e.length)},R:function(t,e){const n=F8(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ho.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=oye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},I:function(t,e,n){const r=aye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ho.d(t,e)},D:function(t,e,n){const r=iye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return St(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return St(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return St(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$u.noon:r===0?i=$u.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$u.evening:r>=12?i=$u.afternoon:r>=4?i=$u.morning:i=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ho.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ho.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ho.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ho.s(t,e)},S:function(t,e){return Ho.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Nz(r);case"XXXX":case"XX":return nc(r);default:return nc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Nz(r);case"xxxx":case"xx":return nc(r);default:return nc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Iz(r,":");default:return"GMT"+nc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Iz(r,":");default:return"GMT"+nc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return St(r,e.length)},T:function(t,e,n){return St(+t,e.length)}};function Iz(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+St(s,2)}function Nz(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):nc(t,e)}function nc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=St(Math.trunc(r/60),2),s=St(r%60,2);return n+i+e+s}const Oz=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},H8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},lye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Oz(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Oz(r,e)).replace("{{time}}",H8(i,e))},cye={p:H8,P:lye},uye=/^D+$/,dye=/^Y+$/,fye=["D","DD","YY","YYYY"];function hye(t){return uye.test(t)}function mye(t){return dye.test(t)}function pye(t,e,n){const r=gye(t,e,n);if(console.warn(r),fye.includes(t))throw new RangeError(r)}function gye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bye=/^'([^]*?)'?$/,xye=/''/g,wye=/[a-zA-Z]/;function _ye(t,e,n){const r=db(),i=n?.locale??r.locale??rye,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=va(t,n?.in);if(!S0e(c))throw new RangeError("Invalid time value");let d=e.match(vye).map(p=>{const m=p[0];if(m==="p"||m==="P"){const b=cye[m];return b(p,i.formatLong)}return p}).join("").match(yye).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:Eye(p)};if(Cz[m])return{isToken:!0,value:p};if(m.match(wye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&mye(m)||!n?.useAdditionalDayOfYearTokens&&hye(m))&&pye(m,e,String(t));const b=Cz[m[0]];return b(c,m,i.localize,f)}).join("")}function Eye(t){const e=t.match(bye);return e?e[1].replace(xye,"'"):t}const Sye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Tye=(t,e,n)=>{let r;const i=Sye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Aye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},kye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iye={date:sd({formats:Aye,defaultWidth:"full"}),time:sd({formats:kye,defaultWidth:"full"}),dateTime:sd({formats:Cye,defaultWidth:"full"})},Nye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Oye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Pye=(t,e,n,r)=>e.getHours()!==1?Oye[t]:Nye[t],Rye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},jye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Mye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},zye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Dye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Lye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Vye=(t,e)=>Number(t)+"",Bye={ordinalNumber:Vye,era:$a({values:Rye,defaultWidth:"wide"}),quarter:$a({values:jye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:$a({values:Mye,defaultWidth:"wide"}),day:$a({values:zye,defaultWidth:"wide"}),dayPeriod:$a({values:Dye,defaultWidth:"wide",formattingValues:Lye,defaultFormattingWidth:"wide"})},Uye=/^(\d+)()?/i,Fye=/\d+/i,qye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},$ye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Hye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Gye={any:[/1/i,/2/i,/3/i,/4/i]},Kye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Yye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Wye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Xye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Qye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Zye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Jye={ordinalNumber:q8({matchPattern:Uye,parsePattern:Fye,valueCallback:function(t){return parseInt(t,10)}}),era:Ha({matchPatterns:qye,defaultMatchWidth:"wide",parsePatterns:$ye,defaultParseWidth:"any"}),quarter:Ha({matchPatterns:Hye,defaultMatchWidth:"wide",parsePatterns:Gye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ha({matchPatterns:Kye,defaultMatchWidth:"wide",parsePatterns:Yye,defaultParseWidth:"any"}),day:Ha({matchPatterns:Wye,defaultMatchWidth:"wide",parsePatterns:Xye,defaultParseWidth:"any"}),dayPeriod:Ha({matchPatterns:Qye,defaultMatchWidth:"any",parsePatterns:Zye,defaultParseWidth:"any"})},eve={code:"es",formatDistance:Tye,formatLong:Iye,formatRelative:Pye,localize:Bye,match:Jye,options:{weekStartsOn:1,firstWeekContainsDate:1}},tve=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i,updateCredit:s}=_T(),{currency:l}=wr(),{addTransaction:c}=Nr(),{currentBalance:d}=Um(),[f,p]=T.useState(!1),[m,b]=T.useState(null),[x,_]=T.useState({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),[S,E]=T.useState({open:!1,creditId:""}),[k,j]=T.useState(""),O=C=>{C.preventDefault();const M=Number(x.principal),L=Number(x.interestRate),z=Number(x.term);!x.name||M<=0||z<=0||(m?(s(m,{name:x.name,principal:M,interestRate:L,term:z,startDate:x.startDate}),Mt.success("Crdito actualizado")):(e({name:x.name,principal:M,interestRate:L,term:z,startDate:x.startDate,status:"active"}),Mt.success("Crdito creado exitosamente")),p(!1),_({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),b(null))},V=()=>{b(null),_({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},R=C=>{b(C.id),_({name:C.name,principal:C.principal.toString(),interestRate:C.interestRate.toString(),term:C.term.toString(),startDate:C.startDate}),p(!0)},F=C=>{C.preventDefault();const M=Number(k);if(M<=0)return;if(M>d){Mt.error(`Saldo insuficiente. Tu saldo disponible es ${l}${d.toLocaleString()}`,{description:"Reduce tus gastos o libera fondos de ahorro."});return}r(S.creditId,M);const L=t.find(z=>z.id===S.creditId);c({amount:M,type:"expense",category:"Deudas",description:`Pago Crdito: ${L?.name||"Desconocido"}`,date:new Date().toISOString().split("T")[0]}),E({open:!1,creditId:""}),j(""),Mt.success("Pago registrado correctamente y descontado del saldo")},P=(C,M,L)=>{if(M===0)return C/L;const z=M/100/12;return C*z*Math.pow(1+z,L)/(Math.pow(1+z,L)-1)};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Crditos y Deudas"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestiona tus prstamos y planifica tus pagos"})]}),g.jsxs("button",{onClick:V,className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[g.jsx(Za,{size:18}),g.jsx("span",{children:"Nuevo Crdito"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?g.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[g.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:g.jsx(am,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Crditos Activos"}),g.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Registra un prstamo personal, hipoteca o tarjeta de crdito para llevar el control de tus pagos."})]}):t.map(C=>{const M=i(C),L=M.totalPaid/M.totalToPay*100,z=P(C.principal,C.interestRate,C.term),q=new Date(C.startDate);return q.setMonth(q.getMonth()+(C.payments?.length||0)+1),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none relative group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:g.jsx(am,{size:24})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>R(C),className:"text-zinc-300 hover:text-blue-500 transition-colors opacity-0 group-hover:opacity-100 p-1",title:"Editar",children:g.jsx(_v,{size:18})}),g.jsx("button",{onClick:()=>n(C.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100 p-1",children:g.jsx(fa,{size:18})})]})]}),g.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:C.name}),g.jsxs("div",{className:"flex gap-4 text-sm text-zinc-500 mb-6",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(C3,{size:14})," ",l,C.principal.toLocaleString()]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(HQ,{size:14})," ",C.interestRate,"% Anual"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(T3,{size:14})," ",C.term," Meses"]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-zinc-500",children:"Deuda Restante"}),g.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[l,M.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsx("div",{className:"relative h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(L,100)}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[g.jsxs("span",{children:["Pagado: ",l,M.totalPaid.toLocaleString()]}),g.jsxs("span",{children:["Total: ",l,M.totalToPay.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),C.status==="active"&&g.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Cuota Mensual"}),g.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[l,z.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Prx. Pago"}),g.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:_ye(q,"dd MMM yyyy",{locale:eve})})]})]}),g.jsxs("button",{onClick:()=>{E({open:!0,creditId:C.id}),j(z.toFixed(2))},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[g.jsx(FX,{size:16})," Registrar Pago"]})]})]},C.id)})}),g.jsx(Ja,{isOpen:f,onClose:()=>p(!1),title:m?"Editar Crdito":"Registrar Nuevo Crdito",children:g.jsxs("form",{onSubmit:O,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Nombre del Crdito"}),g.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Auto, Hipoteca",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:x.name,onChange:C=>_({...x,name:C.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto Prestado (",l,")"]}),g.jsx("input",{required:!0,type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:x.principal,onChange:C=>_({...x,principal:C.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Tasa Inters Anual (%)"}),g.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:x.interestRate,onChange:C=>_({...x,interestRate:C.target.value})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Plazo (Meses)"}),g.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12, 24, 36",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:x.term,onChange:C=>_({...x,term:C.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Fecha Inicio"}),g.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:x.startDate,onChange:C=>_({...x,startDate:C.target.value})})]})]}),g.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg mt-4",children:[g.jsx("p",{className:"text-xs text-rose-600 dark:text-rose-400 font-bold uppercase mb-1",children:"Resumen"}),g.jsxs("div",{className:"flex justify-between text-sm text-rose-800 dark:text-rose-200",children:[g.jsx("span",{children:"Cuota Estimada:"}),g.jsx("span",{className:"font-bold",children:x.principal&&x.term?`${l}${P(Number(x.principal),Number(x.interestRate),Number(x.term)).toLocaleString(void 0,{maximumFractionDigits:2})} / mes`:"-"})]})]}),g.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:m?"Guardar Cambios":"Crear Crdito"})]})}),g.jsx(Ja,{isOpen:S.open,onClose:()=>E({open:!1,creditId:""}),title:"Registrar Pago",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-zinc-500",children:"Registrar un pago reducir tu deuda restante. Asegrate de incluir intereses si aplica."}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",l,")"]}),g.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-emerald-500 dark:text-white",value:k,onChange:C=>j(C.target.value)})]}),g.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Confirmar Pago"})]})})]})},nve=()=>{const{data:t,updateData:e}=yi(),n=t.projections||{simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{},toggles:{includeGlobalBalance:!0,includeFundsInBalance:!1,autoIncludeScheduled:!0}},r=b=>{e({projections:{...n,...b}})};return{projections:n,addSimulatedTransaction:b=>{r({simulatedTransactions:[...n.simulatedTransactions,b]})},removeSimulatedTransaction:b=>{r({simulatedTransactions:n.simulatedTransactions.filter(x=>x.id!==b)})},clearSimulation:()=>{r({simulatedTransactions:[],categoryBudgets:{},simulatedCreditPayments:[],simulatedGoalContributions:[],simulatedFundTransfers:{}})},setCategoryBudgets:b=>{r({categoryBudgets:b})},setSimulatedCreditPayments:b=>{r({simulatedCreditPayments:b})},setSimulatedGoalContributions:b=>{r({simulatedGoalContributions:b})},setSimulatedFundTransfers:b=>{r({simulatedFundTransfers:b})},setToggle:(b,x)=>{r({toggles:{...n.toggles,[b]:x}})}}},rve=()=>{const{transactions:t}=Nr(),{credits:e}=_T(),{funds:n}=Qd(),{goals:r,getMonthlyQuota:i}=Bm(),{scheduled:s}=Vm(),{currency:l}=wr(),c=new Date,{availableBalance:d}=Um(),f=n.reduce((G,ye)=>G+ye.currentAmount,0),p=t.filter(G=>{const ye=new Date(G.date+"T12:00:00");return ye.getMonth()===c.getMonth()&&ye.getFullYear()===c.getFullYear()}),m=p.filter(G=>G.type==="income").reduce((G,ye)=>G+ye.amount,0),b=p.filter(G=>G.type==="expense").reduce((G,ye)=>G+ye.amount,0),x=T.useMemo(()=>{const G={};return p.filter(ye=>ye.type==="expense").forEach(ye=>{G[ye.category]=(G[ye.category]||0)+ye.amount}),G},[p]),{projections:_,addSimulatedTransaction:S,removeSimulatedTransaction:E,clearSimulation:k,setCategoryBudgets:j,setSimulatedCreditPayments:O,setSimulatedGoalContributions:V,setSimulatedFundTransfers:R,setToggle:F}=nve(),{simulatedTransactions:P,categoryBudgets:C,simulatedCreditPayments:M,simulatedGoalContributions:L,simulatedFundTransfers:z,toggles:q}=_,[U,ve]=T.useState(""),[Ce,Y]=T.useState(""),[ne,W]=T.useState("expense"),pe=T.useMemo(()=>new Set(M),[M]),ke=T.useMemo(()=>new Set(L),[L]),{includeGlobalBalance:$,includeFundsInBalance:ie,autoIncludeScheduled:re}=q,ce=()=>{if(!U||!Ce)return;const G=Number(Ce);isNaN(G)||G<=0||(S({id:Math.random().toString(36).substr(2,9),description:U,amount:G,type:ne}),ve(""),Y(""))},Se=(()=>{let G=0;$?(G=d,ie&&(G+=f)):G=0;const ye=P.filter(Fe=>Fe.type==="income").reduce((Fe,et)=>Fe+et.amount,0);let Ne=0;re&&s.filter(Fe=>Fe.type==="income"&&Fe.active).forEach(Fe=>{const et=Fe.lastProcessedDate?new Date(Fe.lastProcessedDate+"T12:00:00"):null;et&&et.getMonth()===c.getMonth()&&et.getFullYear()===c.getFullYear()||(Ne+=Fe.amount)});let de=0,bt=0;re&&s.filter(Fe=>Fe.type==="expense"&&Fe.active).forEach(Fe=>{const et=Fe.lastProcessedDate?new Date(Fe.lastProcessedDate+"T12:00:00"):null;et&&et.getMonth()===c.getMonth()&&et.getFullYear()===c.getFullYear()||(bt+=Fe.amount)});const Ke=[];Object.keys(x).forEach(Fe=>{const et=x[Fe],Cn=C[Fe]?Number(C[Fe]):et,fe=Math.max(et,Cn);de+=fe,Ke.push({category:Fe,real:et,projected:Cn,diff:fe-et})});const Dt=P.filter(Fe=>Fe.type==="expense").reduce((Fe,et)=>Fe+et.amount,0);let gt=0;e.filter(Fe=>Fe.status==="active"&&pe.has(Fe.id)).forEach(Fe=>{const et=Fe.principal*(1+Fe.interestRate/100)/Fe.term;gt+=et});let Bt=0;r.filter(Fe=>ke.has(Fe.id)).forEach(Fe=>{const et=i(Fe);Bt+=et});let Vn=0;Object.values(z).forEach(Fe=>{Vn+=Number(Fe)||0});const lt=de-b,qt=$?G+ye+Ne-lt-bt-Dt-gt-Bt-Vn:m+ye+Ne-(b+lt+bt+Dt+gt+Bt+Vn);return{baseBalance:G,incomeMonthReal:m,simulatedIncomeTotal:ye,scheduledIncome:Ne,expenseMonthReal:b,totalProjectedExpenses:de,simulatedExpenseTotal:Dt,scheduledExpenses:bt,totalCreditSimulated:gt,totalGoalSimulated:Bt,totalFundSimulated:Vn,finalBalance:qt,categoryComparisons:Ke}})(),Te=G=>{const ye=[...M];ye.includes(G)?O(ye.filter(Ne=>Ne!==G)):O([...ye,G])},Ve=G=>{const ye=[...L];ye.includes(G)?V(ye.filter(Ne=>Ne!==G)):V([...ye,G])};return g.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[g.jsx(gT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),g.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula ingresos y gastos del futuro. Agrega el pan de maana o la combi de pasado."})]}),g.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[g.jsxs("button",{onClick:()=>F("includeGlobalBalance",!$),className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",$?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[$?g.jsx(j1,{size:18}):g.jsx(R1,{size:18}),$?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),g.jsxs("button",{onClick:()=>{$||F("includeGlobalBalance",!0),F("includeFundsInBalance",!ie)},className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",ie?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[ie?g.jsx(j1,{size:18}):g.jsx(R1,{size:18}),"Incluir Ahorros (Fondos)"]}),g.jsxs("button",{onClick:()=>F("autoIncludeScheduled",!re),className:xe("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",re?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[re?g.jsx(j1,{size:18}):g.jsx(R1,{size:18}),"Auto-sumar Programados"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[g.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:$?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),g.jsx("div",{className:"flex items-end gap-2",children:g.jsxs("p",{className:xe("text-4xl font-black",Se.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,Se.baseBalance.toFixed(2)]})})]}),g.jsxs("div",{className:xe("p-6 rounded-3xl shadow-xl border transition-colors",Se.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[g.jsx("h2",{className:xe("text-sm font-bold uppercase tracking-wider mb-2",Se.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),g.jsxs("p",{className:xe("text-4xl font-black",Se.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,Se.finalBalance.toFixed(2)]}),g.jsx("p",{className:"text-xs mt-2 opacity-80",children:Se.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(hZ,{size:20,className:"text-purple-500"})," Simulador de Diario"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Qu quieres simular?"}),g.jsx("input",{type:"text",placeholder:"Ej. Pan, Combi, Cachuelo...",className:"w-full bg-zinc-50 dark:bg-zinc-950 px-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:U,onChange:G=>ve(G.target.value),onKeyDown:G=>G.key==="Enter"&&ce()})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Monto"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 pl-8 pr-4 py-2 rounded-xl border-none outline-none focus:ring-2 focus:ring-purple-500/20",value:Ce,onChange:G=>Y(G.target.value),onKeyDown:G=>G.key==="Enter"&&ce()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-zinc-400 uppercase",children:"Tipo"}),g.jsxs("div",{className:"flex bg-zinc-50 dark:bg-zinc-950 rounded-xl p-1",children:[g.jsx("button",{onClick:()=>W("expense"),className:xe("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",ne==="expense"?"bg-rose-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Gasto"}),g.jsx("button",{onClick:()=>W("income"),className:xe("flex-1 rounded-lg text-xs font-bold py-1.5 transition-all text-center",ne==="income"?"bg-emerald-500 text-white shadow-md":"text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:"Ingreso"})]})]})]}),g.jsxs("button",{onClick:ce,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[g.jsx(Za,{size:18})," Agregar"]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[P.length===0?g.jsx("div",{className:"p-8 text-center text-zinc-400 text-sm italic",children:"No has agregado simulaciones an."}):g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800 max-h-60 overflow-y-auto",children:P.map(G=>g.jsxs("div",{className:"p-3 flex items-center justify-between group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:xe("w-8 h-8 rounded-full flex items-center justify-center",G.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20":"bg-rose-100 text-rose-600 dark:bg-rose-900/20"),children:G.type==="income"?g.jsx(O3,{size:14}):g.jsx(iE,{size:14})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-zinc-700 dark:text-zinc-300",children:G.description}),g.jsx("p",{className:"text-xs text-zinc-400 capitalize",children:G.type==="income"?"Ingreso":"Gasto"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:xe("font-mono font-bold text-sm",G.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[G.type==="income"?"+":"-",l,G.amount.toLocaleString()]}),g.jsx("button",{onClick:()=>E(G.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(fa,{size:16})})]})]},G.id))}),P.length>0&&g.jsxs("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 flex justify-between items-center text-xs font-bold uppercase text-zinc-500",children:[g.jsx("span",{children:"Total Simulado"}),g.jsxs("span",{className:xe(Se.simulatedIncomeTotal-Se.simulatedExpenseTotal>=0?"text-emerald-500":"text-rose-500"),children:[l,(Se.simulatedIncomeTotal-Se.simulatedExpenseTotal).toFixed(2)]})]})]}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[g.jsx(Dm,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map(G=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:G.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold",children:G.name}),g.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,G.currentAmount]})]}),g.jsxs("div",{className:"w-24 relative",children:[g.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),g.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:z[G.id]||"",onChange:ye=>R({...z,[G.id]:ye.target.value})})]})]},G.id)),n.length===0&&g.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(iE,{size:20,className:"text-rose-500"})," Presupuesto y Categoras"]}),re&&Se.scheduledExpenses>0&&g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[g.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),g.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,Se.scheduledExpenses]})]}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[g.jsx("div",{className:"col-span-4",children:"Categora"}),g.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),g.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),g.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),g.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:Se.categoryComparisons.map(G=>g.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[g.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:G.category,children:G.category}),g.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,G.real]}),g.jsx("div",{className:"col-span-3 relative",children:g.jsx("input",{type:"number",className:xe("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(C[G.category])||0)<G.real&&C[G.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:G.real.toString(),value:C[G.category]||"",onChange:ye=>j({...C,[G.category]:ye.target.value})})}),g.jsxs("div",{className:xe("col-span-2 text-right text-xs font-bold",G.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,G.diff)]})]},G.category))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(am,{size:14})," Simular Crditos"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter(G=>G.status==="active").map(G=>{const ye=G.principal*(1+G.interestRate/100)/G.term,Ne=pe.has(G.id);return g.jsxs("button",{onClick:()=>Te(G.id),className:xe("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ne?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:xe("w-4 h-4 rounded-full border flex items-center justify-center",Ne?"border-rose-600 bg-rose-600":"border-zinc-400"),children:Ne&&g.jsx(Pz,{size:10,className:"text-white"})}),G.name," (",l,ye.toFixed(0),")"]},G.id)}),e.filter(G=>G.status==="active").length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),g.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[g.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(yc,{size:14})," Simular Metas"]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map(G=>{const ye=i(G),Ne=ke.has(G.id);return g.jsxs("button",{onClick:()=>Ve(G.id),className:xe("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",Ne?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[g.jsx("div",{className:xe("w-4 h-4 rounded-full border flex items-center justify-center",Ne?"border-purple-600 bg-purple-600":"border-zinc-400"),children:Ne&&g.jsx(Pz,{size:10,className:"text-white"})}),G.name," (",l,ye.toFixed(0),")"]},G.id)}),r.length===0&&g.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),g.jsx("div",{className:"flex justify-end pt-8",children:g.jsxs("button",{onClick:()=>{k(),Mt.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[g.jsx(yT,{size:20}),"Reiniciar Simulacin"]})})]})},Pz=({size:t,className:e})=>g.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:g.jsx("polyline",{points:"20 6 9 17 4 12"})}),ive=()=>{const{signInWithGoogle:t,user:e}=zm(),n=lS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):g.jsxs("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 flex items-center justify-center p-4 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl pointer-events-none"}),g.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 p-8 md:p-12 rounded-3xl shadow-2xl shadow-zinc-200/50 dark:shadow-zinc-950/50 max-w-sm w-full text-center space-y-8 animate-enter-app relative z-10",children:[g.jsx("div",{className:"flex justify-center transform scale-125 mb-8",children:g.jsx(xT,{})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Bienvenido"}),g.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:["Tu sistema financiero personal, ",g.jsx("br",{})," simplificado y seguro."]})]}),g.jsxs("div",{className:"space-y-4 pt-4",children:[g.jsxs("button",{onClick:r,className:"w-full bg-zinc-900 dark:bg-zinc-100 hover:bg-zinc-800 dark:hover:bg-zinc-200 text-white dark:text-zinc-900 font-bold py-4 px-4 rounded-2xl flex items-center justify-center gap-3 transition-all transform active:scale-[0.98] shadow-lg shadow-zinc-900/10 dark:shadow-zinc-100/10",children:[g.jsxs("svg",{className:"w-5 h-5 bg-white rounded-full p-0.5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),g.jsx("p",{className:"text-[10px] text-zinc-400 dark:text-zinc-600 uppercase tracking-widest font-mono",children:"Vaultly Finance v2.2"})]})]})]})},ave=({message:t="Iniciando..."})=>{const[e,n]=T.useState(!1);return T.useEffect(()=>{const r=setTimeout(()=>n(!0),300);return()=>clearTimeout(r)},[]),g.jsx("div",{className:"fixed inset-0 bg-zinc-50 dark:bg-zinc-950 flex flex-col items-center justify-center z-50",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"animate-in fade-in zoom-in duration-700 ease-out fill-mode-both",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse"}),g.jsx(bT,{className:"w-20 h-20 md:w-24 md:h-24 pb-4"})]})}),g.jsxs("div",{className:`mt-6 flex flex-col items-center transition-all duration-700 transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-[0.2em] text-zinc-900 dark:text-zinc-100 font-mono",children:"VAULTLY"}),g.jsx("div",{className:"h-1 w-12 bg-primary mt-4 rounded-full animate-pulse"})]}),g.jsx("div",{className:"absolute bottom-12 text-zinc-400 font-mono text-xs tracking-widest uppercase animate-pulse",children:t})]})})},sve=()=>{const{user:t,loading:e}=zm(),{isLoading:n}=yi(),[r,i]=T.useState(!1);return T.useEffect(()=>{const s=setTimeout(()=>{i(!0)},2500);return()=>clearTimeout(s)},[]),e||n||!r?g.jsx(ave,{message:e?"AUTENTICANDO...":"CARGANDO DATOS..."}):t?g.jsx(Qz,{}):g.jsx(Xz,{to:"/login",replace:!0})};function ove(){return g.jsx(DW,{children:g.jsx(dX,{children:g.jsx(dF,{children:g.jsxs(tF,{children:[g.jsxs(O7,{children:[g.jsx(ai,{path:"/login",element:g.jsx(ive,{})}),g.jsx(ai,{element:g.jsx(sve,{}),children:g.jsxs(ai,{path:"/",element:g.jsx(GJ,{}),children:[g.jsx(ai,{index:!0,element:g.jsx(XJ,{})}),g.jsx(ai,{path:"expenses",element:g.jsx(f0e,{})}),g.jsx(ai,{path:"income",element:g.jsx(h0e,{})}),g.jsx(ai,{path:"goals",element:g.jsx(m0e,{})}),g.jsx(ai,{path:"funds",element:g.jsx(y0e,{})}),g.jsx(ai,{path:"credits",element:g.jsx(tve,{})}),g.jsx(ai,{path:"projections",element:g.jsx(rve,{})}),g.jsx(ai,{path:"projects",element:g.jsx(g0e,{})}),g.jsx(ai,{path:"*",element:g.jsx(Xz,{to:"/",replace:!0})})]})})]}),g.jsx(w3,{richColors:!0,position:"top-center"})]})})})})}PU.createRoot(document.getElementById("root")).render(g.jsx(T.StrictMode,{children:g.jsx(Mz,{children:g.jsx(ove,{})})}));
