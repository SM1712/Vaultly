function yU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a1={exports:{}},rh={};var dC;function vU(){if(dC)return rh;dC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return rh.Fragment=e,rh.jsx=n,rh.jsxs=n,rh}var fC;function bU(){return fC||(fC=1,a1.exports=vU()),a1.exports}var y=bU(),s1={exports:{}},We={};var hC;function xU(){if(hC)return We;hC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(H,ne,ie){this.props=H,this.context=ne,this.refs=S,this.updater=ie||w}k.prototype.isReactComponent={},k.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=k.prototype;function N(H,ne,ie){this.props=H,this.context=ne,this.refs=S,this.updater=ie||w}var D=N.prototype=new j;D.constructor=N,E(D,k.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(H,ne,ie){var ue=ie.ref;return{$$typeof:t,type:H,key:ne,ref:ue!==void 0?ue:null,props:ie}}function q(H,ne){return V(H.type,ne,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return ne[ie]})}var U=/\/+/g;function be(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):ne.toString(36)}function Ee(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Y(H,ne,ie,ue,ge){var ke=typeof H;(ke==="undefined"||ke==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(ke){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case m:return we=H._init,Y(we(H._payload),ne,ie,ue,ge)}}if(we)return ge=ge(H),we=ue===""?"."+be(H,0):ue,R(ge)?(ie="",we!=null&&(ie=we.replace(U,"$&/")+"/"),Y(ge,ne,ie,"",function(Ie){return Ie})):ge!=null&&(L(ge)&&(ge=q(ge,ie+(ge.key==null||H&&H.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var Le=ue===""?".":ue+":";if(R(H))for(var X=0;X<H.length;X++)ue=H[X],ke=Le+be(ue,X),we+=Y(ue,ne,ie,ke,ge);else if(X=_(H),typeof X=="function")for(H=X.call(H),X=0;!(ue=H.next()).done;)ue=ue.value,ke=Le+be(ue,X++),we+=Y(ue,ne,ie,ke,ge);else if(ke==="object"){if(typeof H.then=="function")return Y(Ee(H),ne,ie,ue,ge);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(H,ne,ie){if(H==null)return H;var ue=[],ge=0;return Y(H,ue,"","",function(ke){return ne.call(ie,ke,ge++)}),ue}function $(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},_e={map:re,forEach:function(H,ne,ie){re(H,function(){ne.apply(this,arguments)},ie)},count:function(H){var ne=0;return re(H,function(){ne++}),ne},toArray:function(H){return re(H,function(ne){return ne})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return We.Activity=p,We.Children=_e,We.Component=k,We.Fragment=n,We.Profiler=i,We.PureComponent=N,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},We.cache=function(H){return function(){return H.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(H,ne,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ue=E({},H.props),ge=H.key;if(ne!=null)for(ke in ne.key!==void 0&&(ge=""+ne.key),ne)!O.call(ne,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ne.ref===void 0||(ue[ke]=ne[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ie;else if(1<ke){for(var we=Array(ke),Le=0;Le<ke;Le++)we[Le]=arguments[Le+2];ue.children=we}return V(H.type,ge,ue)},We.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},We.createElement=function(H,ne,ie){var ue,ge={},ke=null;if(ne!=null)for(ue in ne.key!==void 0&&(ke=""+ne.key),ne)O.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=ne[ue]);var we=arguments.length-2;if(we===1)ge.children=ie;else if(1<we){for(var Le=Array(we),X=0;X<we;X++)Le[X]=arguments[X+2];ge.children=Le}if(H&&H.defaultProps)for(ue in we=H.defaultProps,we)ge[ue]===void 0&&(ge[ue]=we[ue]);return V(H,ke,ge)},We.createRef=function(){return{current:null}},We.forwardRef=function(H){return{$$typeof:c,render:H}},We.isValidElement=L,We.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:$}},We.memo=function(H,ne){return{$$typeof:f,type:H,compare:ne===void 0?null:ne}},We.startTransition=function(H){var ne=P.T,ie={};P.T=ie;try{var ue=H(),ge=P.S;ge!==null&&ge(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(z,oe)}catch(ke){oe(ke)}finally{ne!==null&&ie.types!==null&&(ne.types=ie.types),P.T=ne}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function(H){return P.H.use(H)},We.useActionState=function(H,ne,ie){return P.H.useActionState(H,ne,ie)},We.useCallback=function(H,ne){return P.H.useCallback(H,ne)},We.useContext=function(H){return P.H.useContext(H)},We.useDebugValue=function(){},We.useDeferredValue=function(H,ne){return P.H.useDeferredValue(H,ne)},We.useEffect=function(H,ne){return P.H.useEffect(H,ne)},We.useEffectEvent=function(H){return P.H.useEffectEvent(H)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function(H,ne,ie){return P.H.useImperativeHandle(H,ne,ie)},We.useInsertionEffect=function(H,ne){return P.H.useInsertionEffect(H,ne)},We.useLayoutEffect=function(H,ne){return P.H.useLayoutEffect(H,ne)},We.useMemo=function(H,ne){return P.H.useMemo(H,ne)},We.useOptimistic=function(H,ne){return P.H.useOptimistic(H,ne)},We.useReducer=function(H,ne,ie){return P.H.useReducer(H,ne,ie)},We.useRef=function(H){return P.H.useRef(H)},We.useState=function(H){return P.H.useState(H)},We.useSyncExternalStore=function(H,ne,ie){return P.H.useSyncExternalStore(H,ne,ie)},We.useTransition=function(){return P.H.useTransition()},We.version="19.2.3",We}var mC;function Dd(){return mC||(mC=1,s1.exports=xU()),s1.exports}var T=Dd();const xe=es(T),_U=yU({__proto__:null,default:xe},[T]);var o1={exports:{}},ih={},l1={exports:{}},c1={};var pC;function wU(){return pC||(pC=1,(function(t){function e(Y,re){var $=Y.length;Y.push(re);e:for(;0<$;){var oe=$-1>>>1,_e=Y[oe];if(0<i(_e,re))Y[oe]=re,Y[$]=_e,$=oe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],$=Y.pop();if($!==re){Y[0]=$;e:for(var oe=0,_e=Y.length,H=_e>>>1;oe<H;){var ne=2*(oe+1)-1,ie=Y[ne],ue=ne+1,ge=Y[ue];if(0>i(ie,$))ue<_e&&0>i(ge,ie)?(Y[oe]=ge,Y[ue]=$,oe=ue):(Y[oe]=ie,Y[ne]=$,oe=ne);else if(ue<_e&&0>i(ge,$))Y[oe]=ge,Y[ue]=$,oe=ue;else break e}}return re}function i(Y,re){var $=Y.sortIndex-re.sortIndex;return $!==0?$:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,b=3,_=!1,w=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=Y)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function R(Y){if(E=!1,D(Y),!w)if(n(d)!==null)w=!0,z||(z=!0,F());else{var re=n(f);re!==null&&Ee(R,re.startTime-Y)}}var z=!1,P=-1,O=5,V=-1;function q(){return S?!0:!(t.unstable_now()-V<O)}function L(){if(S=!1,z){var Y=t.unstable_now();V=Y;var re=!0;try{e:{w=!1,E&&(E=!1,j(P),P=-1),_=!0;var $=b;try{t:{for(D(Y),p=n(d);p!==null&&!(p.expirationTime>Y&&q());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,b=p.priorityLevel;var _e=oe(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof _e=="function"){p.callback=_e,D(Y),re=!0;break t}p===n(d)&&r(d),D(Y)}else r(d);p=n(d)}if(p!==null)re=!0;else{var H=n(f);H!==null&&Ee(R,H.startTime-Y),re=!1}}break e}finally{p=null,b=$,_=!1}re=void 0}}finally{re?F():z=!1}}}var F;if(typeof N=="function")F=function(){N(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,be=U.port2;U.port1.onmessage=L,F=function(){be.postMessage(null)}}else F=function(){k(L,0)};function Ee(Y,re){P=k(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var $=b;b=re;try{return Y()}finally{b=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var $=b;b=Y;try{return re()}finally{b=$}},t.unstable_scheduleCallback=function(Y,re,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,Y){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=$+_e,Y={id:m++,callback:re,priorityLevel:Y,startTime:$,expirationTime:_e,sortIndex:-1},$>oe?(Y.sortIndex=$,e(f,Y),n(d)===null&&Y===n(f)&&(E?(j(P),P=-1):E=!0,Ee(R,$-oe))):(Y.sortIndex=_e,e(d,Y),w||_||(w=!0,z||(z=!0,F()))),Y},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Y){var re=b;return function(){var $=b;b=re;try{return Y.apply(this,arguments)}finally{b=$}}}})(c1)),c1}var gC;function EU(){return gC||(gC=1,l1.exports=wU()),l1.exports}var u1={exports:{}},dr={};var yC;function SU(){if(yC)return dr;yC=1;var t=Dd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,m)},dr.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},dr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},dr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},dr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},dr.requestFormReset=function(d){r.d.r(d)},dr.unstable_batchedUpdates=function(d,f){return d(f)},dr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},dr.version="19.2.3",dr}var vC;function TD(){if(vC)return u1.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u1.exports=SU(),u1.exports}var bC;function TU(){if(bC)return ih;bC=1;var t=EU(),e=Dd(),n=TD();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),a;if(x===h)return d(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=x;else{for(var I=!1,M=v.child;M;){if(M===u){I=!0,u=v,h=x;break}if(M===h){I=!0,h=v,u=x;break}M=M.sibling}if(!I){for(M=x.child;M;){if(M===u){I=!0,u=x,h=v;break}if(M===h){I=!0,h=x,u=v;break}M=M.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case N:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:be(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return be(a(o))}catch{}}return null}var Ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},oe=[],_e=-1;function H(a){return{current:a}}function ne(a){0>_e||(a.current=oe[_e],oe[_e]=null,_e--)}function ie(a,o){_e++,oe[_e]=a.current,a.current=o}var ue=H(null),ge=H(null),ke=H(null),we=H(null);function Le(a,o){switch(ie(ke,o),ie(ge,a),ie(ue,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?jk(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=jk(o),a=Mk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(ue),ie(ue,a)}function X(){ne(ue),ne(ge),ne(ke)}function Ie(a){a.memoizedState!==null&&ie(we,a);var o=ue.current,u=Mk(o,a.type);o!==u&&(ie(ge,a),ie(ue,u))}function Ve(a){ge.current===a&&(ne(ue),ne(ge)),we.current===a&&(ne(we),Jf._currentValue=$)}var he,zt;function Xe(a){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",zt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+a+zt}var Xt=!1;function Ot(a,o){if(!a||Xt)return"";Xt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var te=se}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(se){te=se}a.call(fe.prototype)}}else{try{throw Error()}catch(se){te=se}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),I=x[0],M=x[1];if(I&&M){var G=I.split(`
`),ee=M.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===ee.length)for(h=G.length-1,v=ee.length-1;1<=h&&0<=v&&G[h]!==ee[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==ee[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==ee[v]){var ce=`
`+G[h].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=h&&0<=v);break}}}finally{Xt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Xe(u):""}function an(a,o){switch(a.tag){case 26:case 27:case 5:return Xe(a.type);case 16:return Xe("Lazy");case 13:return a.child!==o&&o!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Ot(a.type,!1);case 11:return Ot(a.type.render,!1);case 1:return Ot(a.type,!0);case 31:return Xe("Activity");default:return""}}function ye(a){try{var o="",u=null;do o+=an(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ke=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,Ui=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,Fi=t.unstable_requestPaint,Yn=t.unstable_now,ts=t.unstable_getCurrentPriorityLevel,pa=t.unstable_ImmediatePriority,xl=t.unstable_UserBlockingPriority,qi=t.unstable_NormalPriority,_l=t.unstable_LowPriority,$i=t.unstable_IdlePriority,wl=t.log,Hi=t.unstable_setDisableYieldValue,Fr=null,Tn=null;function vr(a){if(typeof wl=="function"&&Hi(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(Fr,a)}catch{}}var Ft=Math.clz32?Math.clz32:qr,Gc=Math.log,ga=Math.LN2;function qr(a){return a>>>=0,a===0?32:31-(Gc(a)/ga|0)|0}var pi=256,ns=262144,Qt=4194304;function $r(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function qe(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,x=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~x,h!==0?v=$r(h):(I&=M,I!==0?v=$r(I):u||(u=M&~a,u!==0&&(v=$r(u))))):(M=h&~x,M!==0?v=$r(M):I!==0?v=$r(I):u||(u=h&~a,u!==0&&(v=$r(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function pt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function hn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var a=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),a}function br(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Lt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ur(a,o,u,h,v,x){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,G=a.expirationTimes,ee=a.hiddenUpdates;for(u=I&~u;0<u;){var ce=31-Ft(u),fe=1<<ce;M[ce]=0,G[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var se=te[ce];se!==null&&(se.lane&=-536870913)}u&=~fe}h!==0&&gi(a,h,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(I&~o))}function gi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Ft(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Wn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Ft(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function Xn(a,o){var u=o&-o;return u=(u&42)!==0?1:ya(u),(u&(a.suspendedLanes|o))!==0?0:u}function ya(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function af(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:iC(a.type))}function Gi(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var Ki=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ki,Dn="__reactProps$"+Ki,va="__reactContainer$"+Ki,Kc="__reactEvents$"+Ki,db="__reactListeners$"+Ki,ap="__reactHandles$"+Ki,sp="__reactResources$"+Ki,ba="__reactMarker$"+Ki;function Yc(a){delete a[mn],delete a[Dn],delete a[Kc],delete a[db],delete a[ap]}function xa(a){var o=a[mn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[va]||u[mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Fk(a);a!==null;){if(u=a[mn])return u;a=Fk(a)}return o}a=u,u=a.parentNode}return null}function yi(a){if(a=a[mn]||a[va]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Hr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function _a(a){var o=a[sp];return o||(o=a[sp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pn(a){a[ba]=!0}var sf=new Set,of={};function wa(a,o){Ea(a,o),Ea(a+"Capture",o)}function Ea(a,o){for(of[a]=o,a=0;a<o.length;a++)sf.add(o[a])}var lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cf={},uf={};function op(a){return Ke.call(uf,a)?!0:Ke.call(cf,a)?!1:lf.test(a)?uf[a]=!0:(cf[a]=!0,!1)}function Wc(a,o,u){if(op(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Gr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function gn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function zn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function io(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function df(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,x.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function gt(a){if(!a._valueTracker){var o=io(a)?"checked":"value";a._valueTracker=df(a,o,""+a[o])}}function El(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=io(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Sa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Sl=/[\n"\\]/g;function kr(a){return a.replace(Sl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xc(a,o,u,h,v,x,I,M){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+zn(o)):a.value!==""+zn(o)&&(a.value=""+zn(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?ff(a,I,zn(o)):u!=null?ff(a,I,zn(u)):h!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+zn(M):a.removeAttribute("name")}function lp(a,o,u,h,v,x,I,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){gt(a);return}u=u!=null?""+zn(u):"",o=o!=null?""+zn(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),gt(a)}function ff(a,o,u){o==="number"&&Sa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ao(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+zn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function cp(a,o,u){if(o!=null&&(o=""+zn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+zn(u):""}function so(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=zn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),gt(a)}function Cr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var up=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||up.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function mf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&hf(a,v,h)}else for(var x in o)o.hasOwnProperty(x)&&hf(a,x,o[x])}function Qc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(a){return oo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var pf=null;function vi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,Ta=null;function Tl(a){var o=yi(a);if(o&&(a=o.stateNode)){var u=a[Dn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Xc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+kr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Dn]||null;if(!v)throw Error(r(90));Xc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&El(h)}break e;case"textarea":cp(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ao(a,!!u.multiple,o,!1)}}}var Jc=!1;function co(a,o,u){if(Jc)return a(o,u);Jc=!0;try{var h=a(o);return h}finally{if(Jc=!1,(lo!==null||Ta!==null)&&(ig(),lo&&(o=lo,a=Ta,Ta=lo=null,Tl(o),a)))for(o=0;o<a.length;o++)Tl(a[o])}}function Wi(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Dn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(bi)try{var St={};Object.defineProperty(St,"passive",{get:function(){Al=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{Al=!1}var Aa=null,gf=null,Il=null;function yf(){if(Il)return Il;var a,o=gf,u=o.length,h,v="value"in Aa?Aa.value:Aa.textContent,x=v.length;for(a=0;a<u&&o[a]===v[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===v[x-h];h++);return Il=v.slice(a,1<h?1-h:void 0)}function kl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function rs(){return!0}function Xi(){return!1}function Zn(a){function o(u,h,v,x,I){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?rs:Xi,this.isPropagationStopped=Xi,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Zn(is),uo=p({},is,{view:0,detail:0}),vf=Zn(uo),fo,eu,ka,tu=p({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ka&&(ka&&a.type==="mousemove"?(fo=a.screenX-ka.screenX,eu=a.screenY-ka.screenY):eu=fo=0,ka=a),fo)},movementY:function(a){return"movementY"in a?a.movementY:eu}}),bf=Zn(tu),Cl=p({},tu,{dataTransfer:0}),fp=Zn(Cl),hp=p({},uo,{relatedTarget:0}),Nl=Zn(hp),xf=p({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=Zn(xf),nu=p({},is,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),pp=Zn(nu),gp=p({},is,{data:0}),Ca=Zn(gp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=bp[a])?!!o[a]:!1}function ho(){return xp}var xr=p({},uo,{key:function(a){if(a.key){var o=yp[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=kl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(a){return a.type==="keypress"?kl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?kl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_p=Zn(xr),wp=p({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Zn(wp),g=p({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),A=Zn(g),C=p({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=Zn(C),Z=p({},tu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Zn(Z),ve=p({},is,{newState:0,oldState:0}),Qe=Zn(ve),sn=[9,13,27,32],ht=bi&&"CompositionEvent"in window,qt=null;bi&&"documentMode"in document&&(qt=document.documentMode);var xi=bi&&"TextEvent"in window&&!qt,Na=bi&&(!ht||qt&&8<qt&&11>=qt),Qi=" ",Zi=!1;function Ol(a,o){switch(a){case"keyup":return sn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var iu=!1;function U8(a,o){switch(a){case"compositionend":return ru(o);case"keypress":return o.which!==32?null:(Zi=!0,Qi);case"textInput":return a=o.data,a===Qi&&Zi?null:a;default:return null}}function F8(a,o){if(iu)return a==="compositionend"||!ht&&Ol(a,o)?(a=yf(),Il=gf=Aa=null,iu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Na&&o.locale!=="ko"?null:o.data;default:return null}}var q8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!q8[a.type]:o==="textarea"}function GA(a,o,u,h){lo?Ta?Ta.push(h):Ta=[h]:lo=h,o=dg(o,"onChange"),0<o.length&&(u=new Ia("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var _f=null,wf=null;function $8(a){kk(a,0)}function Ep(a){var o=Hr(a);if(El(o))return a}function KA(a,o){if(a==="change")return o}var YA=!1;if(bi){var fb;if(bi){var hb="oninput"in document;if(!hb){var WA=document.createElement("div");WA.setAttribute("oninput","return;"),hb=typeof WA.oninput=="function"}fb=hb}else fb=!1;YA=fb&&(!document.documentMode||9<document.documentMode)}function XA(){_f&&(_f.detachEvent("onpropertychange",QA),wf=_f=null)}function QA(a){if(a.propertyName==="value"&&Ep(wf)){var o=[];GA(o,wf,a,vi(a)),co($8,o)}}function H8(a,o,u){a==="focusin"?(XA(),_f=o,wf=u,_f.attachEvent("onpropertychange",QA)):a==="focusout"&&XA()}function G8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ep(wf)}function K8(a,o){if(a==="click")return Ep(o)}function Y8(a,o){if(a==="input"||a==="change")return Ep(o)}function W8(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Kr=typeof Object.is=="function"?Object.is:W8;function Ef(a,o){if(Kr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Ke.call(o,v)||!Kr(a[v],o[v]))return!1}return!0}function ZA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function JA(a,o){var u=ZA(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ZA(u)}}function e2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?e2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function t2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Sa(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Sa(a.document)}return o}function mb(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var X8=bi&&"documentMode"in document&&11>=document.documentMode,au=null,pb=null,Sf=null,gb=!1;function n2(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gb||au==null||au!==Sa(h)||(h=au,"selectionStart"in h&&mb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sf&&Ef(Sf,h)||(Sf=h,h=dg(pb,"onSelect"),0<h.length&&(o=new Ia("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=au)))}function Pl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var su={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},yb={},r2={};bi&&(r2=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Rl(a){if(yb[a])return yb[a];if(!su[a])return a;var o=su[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in r2)return yb[a]=o[u];return a}var i2=Rl("animationend"),a2=Rl("animationiteration"),s2=Rl("animationstart"),Q8=Rl("transitionrun"),Z8=Rl("transitionstart"),J8=Rl("transitioncancel"),o2=Rl("transitionend"),l2=new Map,vb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vb.push("scrollEnd");function Ji(a,o){l2.set(a,o),wa(o,[a])}var Sp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],ou=0,bb=0;function Tp(){for(var a=ou,o=bb=ou=0;o<a;){var u=_i[o];_i[o++]=null;var h=_i[o];_i[o++]=null;var v=_i[o];_i[o++]=null;var x=_i[o];if(_i[o++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}x!==0&&c2(u,v,x)}}function Ap(a,o,u,h){_i[ou++]=a,_i[ou++]=o,_i[ou++]=u,_i[ou++]=h,bb|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function xb(a,o,u,h){return Ap(a,o,u,h),Ip(a)}function jl(a,o){return Ap(a,null,null,o),Ip(a)}function c2(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=a.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Ft(u),a=x.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),x):null}function Ip(a){if(50<Gf)throw Gf=0,Cx=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var lu={};function eB(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(a,o,u,h){return new eB(a,o,u,h)}function _b(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ss(a,o){var u=a.alternate;return u===null?(u=Yr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function u2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function kp(a,o,u,h,v,x){var I=0;if(h=a,typeof a=="function")_b(a)&&(I=1);else if(typeof a=="string")I=aU(a,u,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Yr(31,u,o,v),a.elementType=V,a.lanes=x,a;case E:return Ml(u.children,v,x,o);case S:I=8,v|=24;break;case k:return a=Yr(12,u,o,v|2),a.elementType=k,a.lanes=x,a;case R:return a=Yr(13,u,o,v),a.elementType=R,a.lanes=x,a;case z:return a=Yr(19,u,o,v),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:I=10;break e;case j:I=9;break e;case D:I=11;break e;case P:I=14;break e;case O:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Yr(I,u,o,v),o.elementType=a,o.type=h,o.lanes=x,o}function Ml(a,o,u,h){return a=Yr(7,a,h,o),a.lanes=u,a}function wb(a,o,u){return a=Yr(6,a,null,o),a.lanes=u,a}function d2(a){var o=Yr(18,null,null,0);return o.stateNode=a,o}function Eb(a,o,u){return o=Yr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var f2=new WeakMap;function wi(a,o){if(typeof a=="object"&&a!==null){var u=f2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ye(o)},f2.set(a,o),o)}return{value:a,source:o,stack:ye(o)}}var cu=[],uu=0,Cp=null,Tf=0,Ei=[],Si=0,mo=null,Oa=1,Pa="";function os(a,o){cu[uu++]=Tf,cu[uu++]=Cp,Cp=a,Tf=o}function h2(a,o,u){Ei[Si++]=Oa,Ei[Si++]=Pa,Ei[Si++]=mo,mo=a;var h=Oa;a=Pa;var v=32-Ft(h)-1;h&=~(1<<v),u+=1;var x=32-Ft(o)+v;if(30<x){var I=v-v%5;x=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Oa=1<<32-Ft(o)+v|u<<v|h,Pa=x+a}else Oa=1<<x|u<<v|h,Pa=a}function Sb(a){a.return!==null&&(os(a,1),h2(a,1,0))}function Tb(a){for(;a===Cp;)Cp=cu[--uu],cu[uu]=null,Tf=cu[--uu],cu[uu]=null;for(;a===mo;)mo=Ei[--Si],Ei[Si]=null,Pa=Ei[--Si],Ei[Si]=null,Oa=Ei[--Si],Ei[Si]=null}function m2(a,o){Ei[Si++]=Oa,Ei[Si++]=Pa,Ei[Si++]=mo,Oa=o.id,Pa=o.overflow,mo=a}var Jn=null,Vt=null,ot=!1,po=null,Ti=!1,Ab=Error(r(519));function go(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Af(wi(o,a)),Ab}function p2(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[mn]=a,o[Dn]=h,u){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(u=0;u<Yf.length;u++)rt(Yf[u],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),lp(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),so(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Pk(o.textContent,u)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=Yi),o=!0):o=!1,o||go(a,!0)}function g2(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Jn=Jn.return}}function du(a){if(a!==Jn)return!1;if(!ot)return g2(a),ot=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||$x(a.type,a.memoizedProps)),u=!u),u&&Vt&&go(a),g2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Vt=Uk(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Vt=Uk(a)}else o===27?(o=Vt,No(a.type)?(a=Wx,Wx=null,Vt=a):Vt=o):Vt=Jn?Ii(a.stateNode.nextSibling):null;return!0}function Dl(){Vt=Jn=null,ot=!1}function Ib(){var a=po;return a!==null&&(Rr===null?Rr=a:Rr.push.apply(Rr,a),po=null),a}function Af(a){po===null?po=[a]:po.push(a)}var kb=H(null),zl=null,ls=null;function yo(a,o,u){ie(kb,o._currentValue),o._currentValue=u}function cs(a){a._currentValue=kb.current,ne(kb)}function Cb(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Nb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var I=v.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=v;for(var G=0;G<o.length;G++)if(M.context===o[G]){x.lanes|=u,M=x.alternate,M!==null&&(M.lanes|=u),Cb(x.return,u,a),h||(I=null);break e}x=M.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,x=I.alternate,x!==null&&(x.lanes|=u),Cb(I,u,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function fu(a,o,u,h){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var M=v.type;Kr(v.pendingProps.value,I.value)||(a!==null?a.push(M):a=[M])}}else if(v===we.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Jf):a=[Jf])}v=v.return}a!==null&&Nb(o,a,u,h),o.flags|=262144}function Np(a){for(a=a.firstContext;a!==null;){if(!Kr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ll(a){zl=a,ls=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return y2(zl,a)}function Op(a,o){return zl===null&&Ll(a),y2(a,o)}function y2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ls===null){if(a===null)throw Error(r(308));ls=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ls=ls.next=o;return u}var tB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},nB=t.unstable_scheduleCallback,rB=t.unstable_NormalPriority,yn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ob(){return{controller:new tB,data:new Map,refCount:0}}function If(a){a.refCount--,a.refCount===0&&nB(rB,function(){a.controller.abort()})}var kf=null,Pb=0,hu=0,mu=null;function iB(a,o){if(kf===null){var u=kf=[];Pb=0,hu=Mx(),mu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Pb++,o.then(v2,v2),o}function v2(){if(--Pb===0&&kf!==null){mu!==null&&(mu.status="fulfilled");var a=kf;kf=null,hu=0,mu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function aB(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var b2=Y.S;Y.S=function(a,o){nk=Yn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iB(a,o),b2!==null&&b2(a,o)};var Vl=H(null);function Rb(){var a=Vl.current;return a!==null?a:Pt.pooledCache}function Pp(a,o){o===null?ie(Vl,Vl.current):ie(Vl,o.pool)}function x2(){var a=Rb();return a===null?null:{parent:yn._currentValue,pool:a}}var pu=Error(r(460)),jb=Error(r(474)),Rp=Error(r(542)),jp={then:function(){}};function _2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function w2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Yi,Yi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,S2(a),a;default:if(typeof o.status=="string")o.then(Yi,Yi);else{if(a=Pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,S2(a),a}throw Ul=o,pu}}function Bl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ul=u,pu):u}}var Ul=null;function E2(){if(Ul===null)throw Error(r(459));var a=Ul;return Ul=null,a}function S2(a){if(a===pu||a===Rp)throw Error(r(483))}var gu=null,Cf=0;function Mp(a){var o=Cf;return Cf+=1,gu===null&&(gu=[]),w2(gu,a,o)}function Nf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Dp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function T2(a){function o(W,K){if(a){var J=W.deletions;J===null?(W.deletions=[K],W.flags|=16):J.push(K)}}function u(W,K){if(!a)return null;for(;K!==null;)o(W,K),K=K.sibling;return null}function h(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function v(W,K){return W=ss(W,K),W.index=0,W.sibling=null,W}function x(W,K,J){return W.index=J,a?(J=W.alternate,J!==null?(J=J.index,J<K?(W.flags|=67108866,K):J):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function I(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function M(W,K,J,de){return K===null||K.tag!==6?(K=wb(J,W.mode,de),K.return=W,K):(K=v(K,J),K.return=W,K)}function G(W,K,J,de){var Be=J.type;return Be===E?ce(W,K,J.props.children,de,J.key):K!==null&&(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&Bl(Be)===K.type)?(K=v(K,J.props),Nf(K,J),K.return=W,K):(K=kp(J.type,J.key,J.props,null,W.mode,de),Nf(K,J),K.return=W,K)}function ee(W,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Eb(J,W.mode,de),K.return=W,K):(K=v(K,J.children||[]),K.return=W,K)}function ce(W,K,J,de,Be){return K===null||K.tag!==7?(K=Ml(J,W.mode,de,Be),K.return=W,K):(K=v(K,J),K.return=W,K)}function fe(W,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=wb(""+K,W.mode,J),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=kp(K.type,K.key,K.props,null,W.mode,J),Nf(J,K),J.return=W,J;case w:return K=Eb(K,W.mode,J),K.return=W,K;case O:return K=Bl(K),fe(W,K,J)}if(Ee(K)||F(K))return K=Ml(K,W.mode,J,null),K.return=W,K;if(typeof K.then=="function")return fe(W,Mp(K),J);if(K.$$typeof===N)return fe(W,Op(W,K),J);Dp(W,K)}return null}function te(W,K,J,de){var Be=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Be!==null?null:M(W,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Be?G(W,K,J,de):null;case w:return J.key===Be?ee(W,K,J,de):null;case O:return J=Bl(J),te(W,K,J,de)}if(Ee(J)||F(J))return Be!==null?null:ce(W,K,J,de,null);if(typeof J.then=="function")return te(W,K,Mp(J),de);if(J.$$typeof===N)return te(W,K,Op(W,J),de);Dp(W,J)}return null}function se(W,K,J,de,Be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(J)||null,M(K,W,""+de,Be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return W=W.get(de.key===null?J:de.key)||null,G(K,W,de,Be);case w:return W=W.get(de.key===null?J:de.key)||null,ee(K,W,de,Be);case O:return de=Bl(de),se(W,K,J,de,Be)}if(Ee(de)||F(de))return W=W.get(J)||null,ce(K,W,de,Be,null);if(typeof de.then=="function")return se(W,K,J,Mp(de),Be);if(de.$$typeof===N)return se(W,K,J,Op(K,de),Be);Dp(K,de)}return null}function Pe(W,K,J,de){for(var Be=null,ut=null,De=K,Je=K=0,at=null;De!==null&&Je<J.length;Je++){De.index>Je?(at=De,De=null):at=De.sibling;var dt=te(W,De,J[Je],de);if(dt===null){De===null&&(De=at);break}a&&De&&dt.alternate===null&&o(W,De),K=x(dt,K,Je),ut===null?Be=dt:ut.sibling=dt,ut=dt,De=at}if(Je===J.length)return u(W,De),ot&&os(W,Je),Be;if(De===null){for(;Je<J.length;Je++)De=fe(W,J[Je],de),De!==null&&(K=x(De,K,Je),ut===null?Be=De:ut.sibling=De,ut=De);return ot&&os(W,Je),Be}for(De=h(De);Je<J.length;Je++)at=se(De,W,Je,J[Je],de),at!==null&&(a&&at.alternate!==null&&De.delete(at.key===null?Je:at.key),K=x(at,K,Je),ut===null?Be=at:ut.sibling=at,ut=at);return a&&De.forEach(function(Mo){return o(W,Mo)}),ot&&os(W,Je),Be}function $e(W,K,J,de){if(J==null)throw Error(r(151));for(var Be=null,ut=null,De=K,Je=K=0,at=null,dt=J.next();De!==null&&!dt.done;Je++,dt=J.next()){De.index>Je?(at=De,De=null):at=De.sibling;var Mo=te(W,De,dt.value,de);if(Mo===null){De===null&&(De=at);break}a&&De&&Mo.alternate===null&&o(W,De),K=x(Mo,K,Je),ut===null?Be=Mo:ut.sibling=Mo,ut=Mo,De=at}if(dt.done)return u(W,De),ot&&os(W,Je),Be;if(De===null){for(;!dt.done;Je++,dt=J.next())dt=fe(W,dt.value,de),dt!==null&&(K=x(dt,K,Je),ut===null?Be=dt:ut.sibling=dt,ut=dt);return ot&&os(W,Je),Be}for(De=h(De);!dt.done;Je++,dt=J.next())dt=se(De,W,Je,dt.value,de),dt!==null&&(a&&dt.alternate!==null&&De.delete(dt.key===null?Je:dt.key),K=x(dt,K,Je),ut===null?Be=dt:ut.sibling=dt,ut=dt);return a&&De.forEach(function(gU){return o(W,gU)}),ot&&os(W,Je),Be}function It(W,K,J,de){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Be=J.key;K!==null;){if(K.key===Be){if(Be=J.type,Be===E){if(K.tag===7){u(W,K.sibling),de=v(K,J.props.children),de.return=W,W=de;break e}}else if(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===O&&Bl(Be)===K.type){u(W,K.sibling),de=v(K,J.props),Nf(de,J),de.return=W,W=de;break e}u(W,K);break}else o(W,K);K=K.sibling}J.type===E?(de=Ml(J.props.children,W.mode,de,J.key),de.return=W,W=de):(de=kp(J.type,J.key,J.props,null,W.mode,de),Nf(de,J),de.return=W,W=de)}return I(W);case w:e:{for(Be=J.key;K!==null;){if(K.key===Be)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(W,K.sibling),de=v(K,J.children||[]),de.return=W,W=de;break e}else{u(W,K);break}else o(W,K);K=K.sibling}de=Eb(J,W.mode,de),de.return=W,W=de}return I(W);case O:return J=Bl(J),It(W,K,J,de)}if(Ee(J))return Pe(W,K,J,de);if(F(J)){if(Be=F(J),typeof Be!="function")throw Error(r(150));return J=Be.call(J),$e(W,K,J,de)}if(typeof J.then=="function")return It(W,K,Mp(J),de);if(J.$$typeof===N)return It(W,K,Op(W,J),de);Dp(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(u(W,K.sibling),de=v(K,J),de.return=W,W=de):(u(W,K),de=wb(J,W.mode,de),de.return=W,W=de),I(W)):u(W,K)}return function(W,K,J,de){try{Cf=0;var Be=It(W,K,J,de);return gu=null,Be}catch(De){if(De===pu||De===Rp)throw De;var ut=Yr(29,De,null,W.mode);return ut.lanes=de,ut.return=W,ut}}}var Fl=T2(!0),A2=T2(!1),vo=!1;function Mb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Db(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function bo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xo(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(mt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Ip(a),c2(a,null,u),o}return Ap(a,h,o,u),Ip(a)}function Of(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}function zb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=I:x=x.next=I,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Lb=!1;function Pf(){if(Lb){var a=mu;if(a!==null)throw a}}function Rf(a,o,u,h){Lb=!1;var v=a.updateQueue;vo=!1;var x=v.firstBaseUpdate,I=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var G=M,ee=G.next;G.next=null,I===null?x=ee:I.next=ee,I=G;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==I&&(M===null?ce.firstBaseUpdate=ee:M.next=ee,ce.lastBaseUpdate=G))}if(x!==null){var fe=v.baseState;I=0,ce=ee=G=null,M=x;do{var te=M.lane&-536870913,se=te!==M.lane;if(se?(it&te)===te:(h&te)===te){te!==0&&te===hu&&(Lb=!0),ce!==null&&(ce=ce.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Pe=a,$e=M;te=o;var It=u;switch($e.tag){case 1:if(Pe=$e.payload,typeof Pe=="function"){fe=Pe.call(It,fe,te);break e}fe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=$e.payload,te=typeof Pe=="function"?Pe.call(It,fe,te):Pe,te==null)break e;fe=p({},fe,te);break e;case 2:vo=!0}}te=M.callback,te!==null&&(a.flags|=64,se&&(a.flags|=8192),se=v.callbacks,se===null?v.callbacks=[te]:se.push(te))}else se={lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(ee=ce=se,G=fe):ce=ce.next=se,I|=te;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;se=M,M=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);ce===null&&(G=fe),v.baseState=G,v.firstBaseUpdate=ee,v.lastBaseUpdate=ce,x===null&&(v.shared.lanes=0),To|=I,a.lanes=I,a.memoizedState=fe}}function I2(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function k2(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)I2(u[a],o)}var yu=H(null),zp=H(0);function C2(a,o){a=vs,ie(zp,a),ie(yu,o),vs=a|o.baseLanes}function Vb(){ie(zp,vs),ie(yu,yu.current)}function Bb(){vs=zp.current,ne(yu),ne(zp)}var Wr=H(null),Ai=null;function _o(a){var o=a.alternate;ie(on,on.current&1),ie(Wr,a),Ai===null&&(o===null||yu.current!==null||o.memoizedState!==null)&&(Ai=a)}function Ub(a){ie(on,on.current),ie(Wr,a),Ai===null&&(Ai=a)}function N2(a){a.tag===22?(ie(on,on.current),ie(Wr,a),Ai===null&&(Ai=a)):wo()}function wo(){ie(on,on.current),ie(Wr,Wr.current)}function Xr(a){ne(Wr),Ai===a&&(Ai=null),ne(on)}var on=H(0);function Lp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Kx(u)||Yx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var us=0,Ze=null,Tt=null,vn=null,Vp=!1,vu=!1,ql=!1,Bp=0,jf=0,bu=null,sB=0;function en(){throw Error(r(321))}function Fb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Kr(a[u],o[u]))return!1;return!0}function qb(a,o,u,h,v,x){return us=x,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?hI:ix,ql=!1,x=u(h,v),ql=!1,vu&&(x=P2(o,u,h,v)),O2(a),x}function O2(a){Y.H=zf;var o=Tt!==null&&Tt.next!==null;if(us=0,vn=Tt=Ze=null,Vp=!1,jf=0,bu=null,o)throw Error(r(300));a===null||bn||(a=a.dependencies,a!==null&&Np(a)&&(bn=!0))}function P2(a,o,u,h){Ze=a;var v=0;do{if(vu&&(bu=null),jf=0,vu=!1,25<=v)throw Error(r(301));if(v+=1,vn=Tt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=mI,x=o(u,h)}while(vu);return x}function oB(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?Mf(o):o,a=a.useState()[0],(Tt!==null?Tt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function $b(){var a=Bp!==0;return Bp=0,a}function Hb(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Gb(a){if(Vp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Vp=!1}us=0,vn=Tt=Ze=null,vu=!1,jf=Bp=0,bu=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ze.memoizedState=vn=a:vn=vn.next=a,vn}function ln(){if(Tt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=Tt.next;var o=vn===null?Ze.memoizedState:vn.next;if(o!==null)vn=o,Tt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Tt=a,a={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},vn===null?Ze.memoizedState=vn=a:vn=vn.next=a}return vn}function Up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mf(a){var o=jf;return jf+=1,bu===null&&(bu=[]),a=w2(bu,a,o),o=Ze,(vn===null?o.memoizedState:vn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?hI:ix),a}function Fp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mf(a);if(a.$$typeof===N)return er(a)}throw Error(r(438,String(a)))}function Kb(a){var o=null,u=Ze.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Up(),Ze.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function ds(a,o){return typeof o=="function"?o(a):o}function qp(a){var o=ln();return Yb(o,Tt,a)}function Yb(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,x=h.pending;if(x!==null){if(v!==null){var I=v.next;v.next=x.next,x.next=I}o.baseQueue=v=x,h.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var M=I=null,G=null,ee=o,ce=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(it&fe)===fe:(us&fe)===fe){var te=ee.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===hu&&(ce=!0);else if((us&te)===te){ee=ee.next,te===hu&&(ce=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(M=G=fe,I=x):G=G.next=fe,Ze.lanes|=te,To|=te;fe=ee.action,ql&&u(x,fe),x=ee.hasEagerState?ee.eagerState:u(x,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(M=G=te,I=x):G=G.next=te,Ze.lanes|=fe,To|=fe;ee=ee.next}while(ee!==null&&ee!==o);if(G===null?I=x:G.next=M,!Kr(x,a.memoizedState)&&(bn=!0,ce&&(u=mu,u!==null)))throw u;a.memoizedState=x,a.baseState=I,a.baseQueue=G,h.lastRenderedState=x}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Wb(a){var o=ln(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do x=a(x,I.action),I=I.next;while(I!==v);Kr(x,o.memoizedState)||(bn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function R2(a,o,u){var h=Ze,v=ln(),x=ot;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Kr((Tt||v).memoizedState,u);if(I&&(v.memoizedState=u,bn=!0),v=v.queue,Zb(D2.bind(null,h,v,a),[a]),v.getSnapshot!==o||I||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,xu(9,{destroy:void 0},M2.bind(null,h,v,u,o),null),Pt===null)throw Error(r(349));x||(us&127)!==0||j2(h,o,u)}return u}function j2(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o=Up(),Ze.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function M2(a,o,u,h){o.value=u,o.getSnapshot=h,z2(o)&&L2(a)}function D2(a,o,u){return u(function(){z2(o)&&L2(a)})}function z2(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Kr(a,u)}catch{return!0}}function L2(a){var o=jl(a,2);o!==null&&jr(o,a,2)}function Xb(a){var o=_r();if(typeof a=="function"){var u=a;if(a=u(),ql){vr(!0);try{u()}finally{vr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},o}function V2(a,o,u,h){return a.baseState=u,Yb(a,Tt,typeof h=="function"?h:ds)}function lB(a,o,u,h,v){if(Gp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};Y.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,B2(o,x)):(x.next=u.next,o.pending=u.next=x)}}function B2(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var x=Y.T,I={};Y.T=I;try{var M=u(v,h),G=Y.S;G!==null&&G(I,M),U2(a,o,M)}catch(ee){Qb(a,o,ee)}finally{x!==null&&I.types!==null&&(x.types=I.types),Y.T=x}}else try{x=u(v,h),U2(a,o,x)}catch(ee){Qb(a,o,ee)}}function U2(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){F2(a,o,h)},function(h){return Qb(a,o,h)}):F2(a,o,u)}function F2(a,o,u){o.status="fulfilled",o.value=u,q2(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,B2(a,u)))}function Qb(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,q2(o),o=o.next;while(o!==h)}a.action=null}function q2(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function $2(a,o){return o}function H2(a,o){if(ot){var u=Pt.formState;if(u!==null){e:{var h=Ze;if(ot){if(Vt){t:{for(var v=Vt,x=Ti;v.nodeType!==8;){if(!x){v=null;break t}if(v=Ii(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Vt=Ii(v.nextSibling),h=v.data==="F!";break e}}go(h)}h=!1}h&&(o=u[0])}}return u=_r(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$2,lastRenderedState:o},u.queue=h,u=uI.bind(null,Ze,h),h.dispatch=u,h=Xb(!1),x=rx.bind(null,Ze,!1,h.queue),h=_r(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=lB.bind(null,Ze,v,x,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function G2(a){var o=ln();return K2(o,Tt,a)}function K2(a,o,u){if(o=Yb(a,o,$2)[0],a=qp(ds)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Mf(o)}catch(I){throw I===pu?Rp:I}else h=o;o=ln();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Ze.flags|=2048,xu(9,{destroy:void 0},cB.bind(null,v,u),null)),[h,x,a]}function cB(a,o){a.action=o}function Y2(a){var o=ln(),u=Tt;if(u!==null)return K2(o,u,a);ln(),o=o.memoizedState,u=ln();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function xu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=Up(),Ze.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function W2(){return ln().memoizedState}function $p(a,o,u,h){var v=_r();Ze.flags|=a,v.memoizedState=xu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Hp(a,o,u,h){var v=ln();h=h===void 0?null:h;var x=v.memoizedState.inst;Tt!==null&&h!==null&&Fb(h,Tt.memoizedState.deps)?v.memoizedState=xu(o,x,u,h):(Ze.flags|=a,v.memoizedState=xu(1|o,x,u,h))}function X2(a,o){$p(8390656,8,a,o)}function Zb(a,o){Hp(2048,8,a,o)}function uB(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=Up(),Ze.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Q2(a){var o=ln().memoizedState;return uB({ref:o,nextImpl:a}),function(){if((mt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Z2(a,o){return Hp(4,2,a,o)}function J2(a,o){return Hp(4,4,a,o)}function eI(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function tI(a,o,u){u=u!=null?u.concat([a]):null,Hp(4,4,eI.bind(null,o,a),u)}function Jb(){}function nI(a,o){var u=ln();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Fb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function rI(a,o){var u=ln();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Fb(o,h[1]))return h[0];if(h=a(),ql){vr(!0);try{a()}finally{vr(!1)}}return u.memoizedState=[h,o],h}function ex(a,o,u){return u===void 0||(us&1073741824)!==0&&(it&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=ik(),Ze.lanes|=a,To|=a,u)}function iI(a,o,u,h){return Kr(u,o)?u:yu.current!==null?(a=ex(a,u,h),Kr(a,o)||(bn=!0),a):(us&42)===0||(us&1073741824)!==0&&(it&261930)===0?(bn=!0,a.memoizedState=u):(a=ik(),Ze.lanes|=a,To|=a,o)}function aI(a,o,u,h,v){var x=re.p;re.p=x!==0&&8>x?x:8;var I=Y.T,M={};Y.T=M,rx(a,!1,o,u);try{var G=v(),ee=Y.S;if(ee!==null&&ee(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=aB(G,h);Df(a,o,ce,Jr(a))}else Df(a,o,h,Jr(a))}catch(fe){Df(a,o,{then:function(){},status:"rejected",reason:fe},Jr())}finally{re.p=x,I!==null&&M.types!==null&&(I.types=M.types),Y.T=I}}function dB(){}function tx(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=sI(a).queue;aI(a,v,o,$,u===null?dB:function(){return oI(a),u(h)})}function sI(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function oI(a){var o=sI(a);o.next===null&&(o=a.alternate.memoizedState),Df(a,o.next.queue,{},Jr())}function nx(){return er(Jf)}function lI(){return ln().memoizedState}function cI(){return ln().memoizedState}function fB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Jr();a=bo(u);var h=xo(o,a,u);h!==null&&(jr(h,o,u),Of(h,o,u)),o={cache:Ob()},a.payload=o;return}o=o.return}}function hB(a,o,u){var h=Jr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gp(a)?dI(o,u):(u=xb(a,o,u,h),u!==null&&(jr(u,a,h),fI(u,o,h)))}function uI(a,o,u){var h=Jr();Df(a,o,u,h)}function Df(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gp(a))dI(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,M=x(I,u);if(v.hasEagerState=!0,v.eagerState=M,Kr(M,I))return Ap(a,o,v,0),Pt===null&&Tp(),!1}catch{}if(u=xb(a,o,v,h),u!==null)return jr(u,a,h),fI(u,o,h),!0}return!1}function rx(a,o,u,h){if(h={lane:2,revertLane:Mx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Gp(a)){if(o)throw Error(r(479))}else o=xb(a,u,h,2),o!==null&&jr(o,a,2)}function Gp(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function dI(a,o){vu=Vp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function fI(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Wn(a,u)}}var zf={readContext:er,use:Fp,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};zf.useEffectEvent=en;var hI={readContext:er,use:Fp,useCallback:function(a,o){return _r().memoizedState=[a,o===void 0?null:o],a},useContext:er,useEffect:X2,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,$p(4194308,4,eI.bind(null,o,a),u)},useLayoutEffect:function(a,o){return $p(4194308,4,a,o)},useInsertionEffect:function(a,o){$p(4,2,a,o)},useMemo:function(a,o){var u=_r();o=o===void 0?null:o;var h=a();if(ql){vr(!0);try{a()}finally{vr(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=_r();if(u!==void 0){var v=u(o);if(ql){vr(!0);try{u(o)}finally{vr(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=hB.bind(null,Ze,a),[h.memoizedState,a]},useRef:function(a){var o=_r();return a={current:a},o.memoizedState=a},useState:function(a){a=Xb(a);var o=a.queue,u=uI.bind(null,Ze,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Jb,useDeferredValue:function(a,o){var u=_r();return ex(u,a,o)},useTransition:function(){var a=Xb(!1);return a=aI.bind(null,Ze,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Ze,v=_r();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Pt===null)throw Error(r(349));(it&127)!==0||j2(h,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,X2(D2.bind(null,h,x,a),[a]),h.flags|=2048,xu(9,{destroy:void 0},M2.bind(null,h,x,u,o),null),u},useId:function(){var a=_r(),o=Pt.identifierPrefix;if(ot){var u=Pa,h=Oa;u=(h&~(1<<32-Ft(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Bp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=sB++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:nx,useFormState:H2,useActionState:H2,useOptimistic:function(a){var o=_r();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=rx.bind(null,Ze,!0,u),u.dispatch=o,[a,o]},useMemoCache:Kb,useCacheRefresh:function(){return _r().memoizedState=fB.bind(null,Ze)},useEffectEvent:function(a){var o=_r(),u={impl:a};return o.memoizedState=u,function(){if((mt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ix={readContext:er,use:Fp,useCallback:nI,useContext:er,useEffect:Zb,useImperativeHandle:tI,useInsertionEffect:Z2,useLayoutEffect:J2,useMemo:rI,useReducer:qp,useRef:W2,useState:function(){return qp(ds)},useDebugValue:Jb,useDeferredValue:function(a,o){var u=ln();return iI(u,Tt.memoizedState,a,o)},useTransition:function(){var a=qp(ds)[0],o=ln().memoizedState;return[typeof a=="boolean"?a:Mf(a),o]},useSyncExternalStore:R2,useId:lI,useHostTransitionStatus:nx,useFormState:G2,useActionState:G2,useOptimistic:function(a,o){var u=ln();return V2(u,Tt,a,o)},useMemoCache:Kb,useCacheRefresh:cI};ix.useEffectEvent=Q2;var mI={readContext:er,use:Fp,useCallback:nI,useContext:er,useEffect:Zb,useImperativeHandle:tI,useInsertionEffect:Z2,useLayoutEffect:J2,useMemo:rI,useReducer:Wb,useRef:W2,useState:function(){return Wb(ds)},useDebugValue:Jb,useDeferredValue:function(a,o){var u=ln();return Tt===null?ex(u,a,o):iI(u,Tt.memoizedState,a,o)},useTransition:function(){var a=Wb(ds)[0],o=ln().memoizedState;return[typeof a=="boolean"?a:Mf(a),o]},useSyncExternalStore:R2,useId:lI,useHostTransitionStatus:nx,useFormState:Y2,useActionState:Y2,useOptimistic:function(a,o){var u=ln();return Tt!==null?V2(u,Tt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Kb,useCacheRefresh:cI};mI.useEffectEvent=Q2;function ax(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var sx={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=Jr(),v=bo(h);v.payload=o,u!=null&&(v.callback=u),o=xo(a,v,h),o!==null&&(jr(o,a,h),Of(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=Jr(),v=bo(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=xo(a,v,h),o!==null&&(jr(o,a,h),Of(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Jr(),h=bo(u);h.tag=2,o!=null&&(h.callback=o),o=xo(a,h,u),o!==null&&(jr(o,a,u),Of(o,a,u))}};function pI(a,o,u,h,v,x,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,I):o.prototype&&o.prototype.isPureReactComponent?!Ef(u,h)||!Ef(v,x):!0}function gI(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&sx.enqueueReplaceState(o,o.state,null)}function $l(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function yI(a){Sp(a)}function vI(a){console.error(a)}function bI(a){Sp(a)}function Kp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function xI(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ox(a,o,u){return u=bo(u),u.tag=3,u.payload={element:null},u.callback=function(){Kp(a,o)},u}function _I(a){return a=bo(a),a.tag=3,a}function wI(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;a.payload=function(){return v(x)},a.callback=function(){xI(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){xI(o,u,h),typeof v!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function mB(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&fu(o,u,v,!0),u=Wr.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?ag():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===jp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Px(a,h,v)),!1;case 22:return u.flags|=65536,h===jp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Px(a,h,v)),!1}throw Error(r(435,u.tag))}return Px(a,h,v),ag(),!1}if(ot)return o=Wr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Ab&&(a=Error(r(422),{cause:h}),Af(wi(a,u)))):(h!==Ab&&(o=Error(r(423),{cause:h}),Af(wi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=wi(h,u),v=ox(a.stateNode,h,v),zb(a,v),tn!==4&&(tn=2)),!1;var x=Error(r(520),{cause:h});if(x=wi(x,u),Hf===null?Hf=[x]:Hf.push(x),tn!==4&&(tn=2),o===null)return!0;h=wi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=ox(u.stateNode,h,a),zb(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ao===null||!Ao.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=_I(v),wI(v,a,u,h),zb(u,v),!1}u=u.return}while(u!==null);return!1}var lx=Error(r(461)),bn=!1;function tr(a,o,u,h){o.child=a===null?A2(o,null,u,h):Fl(o,a.child,u,h)}function EI(a,o,u,h,v){u=u.render;var x=o.ref;if("ref"in h){var I={};for(var M in h)M!=="ref"&&(I[M]=h[M])}else I=h;return Ll(o),h=qb(a,o,u,I,x,v),M=$b(),a!==null&&!bn?(Hb(a,o,v),fs(a,o,v)):(ot&&M&&Sb(o),o.flags|=1,tr(a,o,h,v),o.child)}function SI(a,o,u,h,v){if(a===null){var x=u.type;return typeof x=="function"&&!_b(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,TI(a,o,x,h,v)):(a=kp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!gx(a,v)){var I=x.memoizedProps;if(u=u.compare,u=u!==null?u:Ef,u(I,h)&&a.ref===o.ref)return fs(a,o,v)}return o.flags|=1,a=ss(x,h),a.ref=o.ref,a.return=o,o.child=a}function TI(a,o,u,h,v){if(a!==null){var x=a.memoizedProps;if(Ef(x,h)&&a.ref===o.ref)if(bn=!1,o.pendingProps=h=x,gx(a,v))(a.flags&131072)!==0&&(bn=!0);else return o.lanes=a.lanes,fs(a,o,v)}return cx(a,o,u,h,v)}function AI(a,o,u,h){var v=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return II(a,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Pp(o,x!==null?x.cachePool:null),x!==null?C2(o,x):Vb(),N2(o);else return h=o.lanes=536870912,II(a,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(Pp(o,x.cachePool),C2(o,x),wo(),o.memoizedState=null):(a!==null&&Pp(o,null),Vb(),wo());return tr(a,o,v,u),o.child}function Lf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function II(a,o,u,h,v){var x=Rb();return x=x===null?null:{parent:yn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&Pp(o,null),Vb(),N2(o),a!==null&&fu(a,o,h,!0),o.childLanes=v,null}function Yp(a,o){return o=Xp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function kI(a,o,u){return Fl(o,a.child,null,u),a=Yp(o,o.pendingProps),a.flags|=2,Xr(o),o.memoizedState=null,a}function pB(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ot){if(h.mode==="hidden")return a=Yp(o,h),o.lanes=536870912,Lf(null,a);if(Ub(o),(a=Vt)?(a=Bk(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Oa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},u=d2(a),u.return=o,o.child=u,Jn=o,Vt=null)):a=null,a===null)throw go(o);return o.lanes=536870912,null}return Yp(o,h)}var x=a.memoizedState;if(x!==null){var I=x.dehydrated;if(Ub(o),v)if(o.flags&256)o.flags&=-257,o=kI(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(bn||fu(a,o,u,!1),v=(u&a.childLanes)!==0,bn||v){if(h=Pt,h!==null&&(I=Xn(h,u),I!==0&&I!==x.retryLane))throw x.retryLane=I,jl(a,I),jr(h,a,I),lx;ag(),o=kI(a,o,u)}else a=x.treeContext,Vt=Ii(I.nextSibling),Jn=o,ot=!0,po=null,Ti=!1,a!==null&&m2(o,a),o=Yp(o,h),o.flags|=4096;return o}return a=ss(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Wp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function cx(a,o,u,h,v){return Ll(o),u=qb(a,o,u,h,void 0,v),h=$b(),a!==null&&!bn?(Hb(a,o,v),fs(a,o,v)):(ot&&h&&Sb(o),o.flags|=1,tr(a,o,u,v),o.child)}function CI(a,o,u,h,v,x){return Ll(o),o.updateQueue=null,u=P2(o,h,u,v),O2(a),h=$b(),a!==null&&!bn?(Hb(a,o,x),fs(a,o,x)):(ot&&h&&Sb(o),o.flags|=1,tr(a,o,u,x),o.child)}function NI(a,o,u,h,v){if(Ll(o),o.stateNode===null){var x=lu,I=u.contextType;typeof I=="object"&&I!==null&&(x=er(I)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=sx,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Mb(o),I=u.contextType,x.context=typeof I=="object"&&I!==null?er(I):lu,x.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(ax(o,u,I,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&sx.enqueueReplaceState(x,x.state,null),Rf(o,h,x,v),Pf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var M=o.memoizedProps,G=$l(u,M);x.props=G;var ee=x.context,ce=u.contextType;I=lu,typeof ce=="object"&&ce!==null&&(I=er(ce));var fe=u.getDerivedStateFromProps;ce=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||ee!==I)&&gI(o,x,h,I),vo=!1;var te=o.memoizedState;x.state=te,Rf(o,h,x,v),Pf(),ee=o.memoizedState,M||te!==ee||vo?(typeof fe=="function"&&(ax(o,u,fe,h),ee=o.memoizedState),(G=vo||pI(o,u,G,h,te,ee,I))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),x.props=h,x.state=ee,x.context=I,h=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Db(a,o),I=o.memoizedProps,ce=$l(u,I),x.props=ce,fe=o.pendingProps,te=x.context,ee=u.contextType,G=lu,typeof ee=="object"&&ee!==null&&(G=er(ee)),M=u.getDerivedStateFromProps,(ee=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==fe||te!==G)&&gI(o,x,h,G),vo=!1,te=o.memoizedState,x.state=te,Rf(o,h,x,v),Pf();var se=o.memoizedState;I!==fe||te!==se||vo||a!==null&&a.dependencies!==null&&Np(a.dependencies)?(typeof M=="function"&&(ax(o,u,M,h),se=o.memoizedState),(ce=vo||pI(o,u,ce,h,te,se,G)||a!==null&&a.dependencies!==null&&Np(a.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,se,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,se,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),x.props=h,x.state=se,x.context=G,h=ce):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Wp(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=Fl(o,a.child,null,v),o.child=Fl(o,null,u,v)):tr(a,o,u,v),o.memoizedState=x.state,a=o.child):a=fs(a,o,v),a}function OI(a,o,u,h){return Dl(),o.flags|=256,tr(a,o,u,h),o.child}var ux={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dx(a){return{baseLanes:a,cachePool:x2()}}function fx(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Zr),a}function PI(a,o,u){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,I;if((I=x)||(I=a!==null&&a.memoizedState===null?!1:(on.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(ot){if(v?_o(o):wo(),(a=Vt)?(a=Bk(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:mo!==null?{id:Oa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},u=d2(a),u.return=o,o.child=u,Jn=o,Vt=null)):a=null,a===null)throw go(o);return Yx(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,v?(wo(),v=o.mode,M=Xp({mode:"hidden",children:M},v),h=Ml(h,v,u,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=dx(u),h.childLanes=fx(a,I,u),o.memoizedState=ux,Lf(null,h)):(_o(o),hx(o,M))}var G=a.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(x)o.flags&256?(_o(o),o.flags&=-257,o=mx(a,o,u)):o.memoizedState!==null?(wo(),o.child=a.child,o.flags|=128,o=null):(wo(),M=h.fallback,v=o.mode,h=Xp({mode:"visible",children:h.children},v),M=Ml(M,v,u,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,Fl(o,a.child,null,u),h=o.child,h.memoizedState=dx(u),h.childLanes=fx(a,I,u),o.memoizedState=ux,o=Lf(null,h));else if(_o(o),Yx(M)){if(I=M.nextSibling&&M.nextSibling.dataset,I)var ee=I.dgst;I=ee,h=Error(r(419)),h.stack="",h.digest=I,Af({value:h,source:null,stack:null}),o=mx(a,o,u)}else if(bn||fu(a,o,u,!1),I=(u&a.childLanes)!==0,bn||I){if(I=Pt,I!==null&&(h=Xn(I,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,jl(a,h),jr(I,a,h),lx;Kx(M)||ag(),o=mx(a,o,u)}else Kx(M)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Vt=Ii(M.nextSibling),Jn=o,ot=!0,po=null,Ti=!1,a!==null&&m2(o,a),o=hx(o,h.children),o.flags|=4096);return o}return v?(wo(),M=h.fallback,v=o.mode,G=a.child,ee=G.sibling,h=ss(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ee!==null?M=ss(ee,M):(M=Ml(M,v,u,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,Lf(null,h),h=o.child,M=a.child.memoizedState,M===null?M=dx(u):(v=M.cachePool,v!==null?(G=yn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=x2(),M={baseLanes:M.baseLanes|u,cachePool:v}),h.memoizedState=M,h.childLanes=fx(a,I,u),o.memoizedState=ux,Lf(a.child,h)):(_o(o),u=a.child,a=u.sibling,u=ss(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function hx(a,o){return o=Xp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Xp(a,o){return a=Yr(22,a,null,o),a.lanes=0,a}function mx(a,o,u){return Fl(o,a.child,null,u),a=hx(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function RI(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Cb(a.return,o,u)}function px(a,o,u,h,v,x){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=v,I.treeForkCount=x)}function jI(a,o,u){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var I=on.current,M=(I&2)!==0;if(M?(I=I&1|2,o.flags|=128):I&=1,ie(on,I),tr(a,o,h,u),h=ot?Tf:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&RI(a,u,o);else if(a.tag===19)RI(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Lp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),px(o,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Lp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}px(o,!0,u,null,x,h);break;case"together":px(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function fs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),To|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(fu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ss(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ss(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function gx(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Np(a)))}function gB(a,o,u){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),yo(o,yn,a.memoizedState.cache),Dl();break;case 27:case 5:Ie(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:yo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ub(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(_o(o),o.flags|=128,null):(u&o.child.childLanes)!==0?PI(a,o,u):(_o(o),a=fs(a,o,u),a!==null?a.sibling:null);_o(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(fu(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return jI(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ie(on,on.current),h)break;return null;case 22:return o.lanes=0,AI(a,o,u,o.pendingProps);case 24:yo(o,yn,a.memoizedState.cache)}return fs(a,o,u)}function MI(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)bn=!0;else{if(!gx(a,u)&&(o.flags&128)===0)return bn=!1,gB(a,o,u);bn=(a.flags&131072)!==0}else bn=!1,ot&&(o.flags&1048576)!==0&&h2(o,Tf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Bl(o.elementType),o.type=a,typeof a=="function")_b(a)?(h=$l(a,h),o.tag=1,o=NI(null,o,a,h,u)):(o.tag=0,o=cx(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===D){o.tag=11,o=EI(null,o,a,h,u);break e}else if(v===P){o.tag=14,o=SI(null,o,a,h,u);break e}}throw o=be(a)||a,Error(r(306,o,""))}}return o;case 0:return cx(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=$l(h,o.pendingProps),NI(a,o,h,v,u);case 3:e:{if(Le(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,Db(a,o),Rf(o,h,null,u);var I=o.memoizedState;if(h=I.cache,yo(o,yn,h),h!==x.cache&&Nb(o,[yn],u,!0),Pf(),h=I.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=OI(a,o,h,u);break e}else if(h!==v){v=wi(Error(r(424)),o),Af(v),o=OI(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Vt=Ii(a.firstChild),Jn=o,ot=!0,po=null,Ti=!0,u=A2(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Dl(),h===v){o=fs(a,o,u);break e}tr(a,o,h,u)}o=o.child}return o;case 26:return Wp(a,o),a===null?(u=Gk(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,a=o.pendingProps,h=fg(ke.current).createElement(u),h[mn]=o,h[Dn]=a,nr(h,u,a),pn(h),o.stateNode=h):o.memoizedState=Gk(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ie(o),a===null&&ot&&(h=o.stateNode=qk(o.type,o.pendingProps,ke.current),Jn=o,Ti=!0,v=Vt,No(o.type)?(Wx=v,Vt=Ii(h.firstChild)):Vt=v),tr(a,o,o.pendingProps.children,u),Wp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ot&&((v=h=Vt)&&(h=GB(h,o.type,o.pendingProps,Ti),h!==null?(o.stateNode=h,Jn=o,Vt=Ii(h.firstChild),Ti=!1,v=!0):v=!1),v||go(o)),Ie(o),v=o.type,x=o.pendingProps,I=a!==null?a.memoizedProps:null,h=x.children,$x(v,x)?h=null:I!==null&&$x(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=qb(a,o,oB,null,null,u),Jf._currentValue=v),Wp(a,o),tr(a,o,h,u),o.child;case 6:return a===null&&ot&&((a=u=Vt)&&(u=KB(u,o.pendingProps,Ti),u!==null?(o.stateNode=u,Jn=o,Vt=null,a=!0):a=!1),a||go(o)),null;case 13:return PI(a,o,u);case 4:return Le(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Fl(o,null,h,u):tr(a,o,h,u),o.child;case 11:return EI(a,o,o.type,o.pendingProps,u);case 7:return tr(a,o,o.pendingProps,u),o.child;case 8:return tr(a,o,o.pendingProps.children,u),o.child;case 12:return tr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,yo(o,o.type,h.value),tr(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Ll(o),v=er(v),h=h(v),o.flags|=1,tr(a,o,h,u),o.child;case 14:return SI(a,o,o.type,o.pendingProps,u);case 15:return TI(a,o,o.type,o.pendingProps,u);case 19:return jI(a,o,u);case 31:return pB(a,o,u);case 22:return AI(a,o,u,o.pendingProps);case 24:return Ll(o),h=er(yn),a===null?(v=Rb(),v===null&&(v=Pt,x=Ob(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:h,cache:v},Mb(o),yo(o,yn,v)):((a.lanes&u)!==0&&(Db(a,o),Rf(o,null,null,u),Pf()),v=a.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),yo(o,yn,h)):(h=x.cache,yo(o,yn,h),h!==v.cache&&Nb(o,[yn],u,!0))),tr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function hs(a){a.flags|=4}function yx(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(lk())a.flags|=8192;else throw Ul=jp,jb}else a.flags&=-16777217}function DI(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Qk(o))if(lk())a.flags|=8192;else throw Ul=jp,jb}function Qp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Mn():536870912,a.lanes|=o,Su|=o)}function Vf(a,o){if(!ot)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Bt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function yB(a,o,u){var h=o.pendingProps;switch(Tb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return Bt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),cs(yn),X(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(du(o)?hs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ib())),Bt(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(hs(o),x!==null?(Bt(o),DI(o,x)):(Bt(o),yx(o,v,null,h,u))):x?x!==a.memoizedState?(hs(o),Bt(o),DI(o,x)):(Bt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&hs(o),Bt(o),yx(o,v,a,h,u)),null;case 27:if(Ve(o),u=ke.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&hs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}a=ue.current,du(o)?p2(o):(a=qk(v,h,u),o.stateNode=a,hs(o))}return Bt(o),null;case 5:if(Ve(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&hs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}if(x=ue.current,du(o))p2(o);else{var I=fg(ke.current);switch(x){case 1:x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=I.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}x[mn]=o,x[Dn]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=x;e:switch(nr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&hs(o)}}return Bt(o),yx(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&hs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ke.current,du(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=Jn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[mn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Pk(a.nodeValue,u)),a||go(o,!0)}else a=fg(a).createTextNode(h),a[mn]=o,o.stateNode=a}return Bt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=du(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[mn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),a=!1}else u=Ib(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Xr(o),o):(Xr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Bt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=du(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),v=!1}else v=Ib(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Xr(o),o):(Xr(o),null)}return Xr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Qp(o,o.updateQueue),Bt(o),null);case 4:return X(),a===null&&Vx(o.stateNode.containerInfo),Bt(o),null;case 10:return cs(o.type),Bt(o),null;case 19:if(ne(on),h=o.memoizedState,h===null)return Bt(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)Vf(h,!1);else{if(tn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Lp(a),x!==null){for(o.flags|=128,Vf(h,!1),a=x.updateQueue,o.updateQueue=a,Qp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)u2(u,a),u=u.sibling;return ie(on,on.current&1|2),ot&&os(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Yn()>ng&&(o.flags|=128,v=!0,Vf(h,!1),o.lanes=4194304)}else{if(!v)if(a=Lp(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Qp(o,a),Vf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!ot)return Bt(o),null}else 2*Yn()-h.renderingStartTime>ng&&u!==536870912&&(o.flags|=128,v=!0,Vf(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Yn(),a.sibling=null,u=on.current,ie(on,v?u&1|2:u&1),ot&&os(o,h.treeForkCount),a):(Bt(o),null);case 22:case 23:return Xr(o),Bb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),u=o.updateQueue,u!==null&&Qp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ne(Vl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),cs(yn),Bt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function vB(a,o){switch(Tb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return cs(yn),X(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 31:if(o.memoizedState!==null){if(Xr(o),o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Xr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Dl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ne(on),null;case 4:return X(),null;case 10:return cs(o.type),null;case 22:case 23:return Xr(o),Bb(),a!==null&&ne(Vl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return cs(yn),null;case 25:return null;default:return null}}function zI(a,o){switch(Tb(o),o.tag){case 3:cs(yn),X();break;case 26:case 27:case 5:Ve(o);break;case 4:X();break;case 31:o.memoizedState!==null&&Xr(o);break;case 13:Xr(o);break;case 19:ne(on);break;case 10:cs(o.type);break;case 22:case 23:Xr(o),Bb(),a!==null&&ne(Vl);break;case 24:cs(yn)}}function Bf(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var x=u.create,I=u.inst;h=x(),I.destroy=h}u=u.next}while(u!==v)}}catch(M){vt(o,o.return,M)}}function Eo(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&a)===a){var I=h.inst,M=I.destroy;if(M!==void 0){I.destroy=void 0,v=o;var G=u,ee=M;try{ee()}catch(ce){vt(v,G,ce)}}}h=h.next}while(h!==x)}}catch(ce){vt(o,o.return,ce)}}function LI(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{k2(o,u)}catch(h){vt(a,a.return,h)}}}function VI(a,o,u){u.props=$l(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){vt(a,o,h)}}function Uf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){vt(a,o,v)}}function Ra(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){vt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){vt(a,o,v)}else u.current=null}function BI(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){vt(a,a.return,v)}}function vx(a,o,u){try{var h=a.stateNode;BB(h,a.type,u,o),h[Dn]=o}catch(v){vt(a,a.return,v)}}function UI(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&No(a.type)||a.tag===4}function bx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||UI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&No(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function xx(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yi));else if(h!==4&&(h===27&&No(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(xx(a,o,u),a=a.sibling;a!==null;)xx(a,o,u),a=a.sibling}function Zp(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&No(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Zp(a,o,u),a=a.sibling;a!==null;)Zp(a,o,u),a=a.sibling}function FI(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,h,u),o[mn]=a,o[Dn]=u}catch(x){vt(a,a.return,x)}}var ms=!1,xn=!1,_x=!1,qI=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function bB(a,o){if(a=a.containerInfo,Fx=bg,a=t2(a),mb(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var I=0,M=-1,G=-1,ee=0,ce=0,fe=a,te=null;t:for(;;){for(var se;fe!==u||v!==0&&fe.nodeType!==3||(M=I+v),fe!==x||h!==0&&fe.nodeType!==3||(G=I+h),fe.nodeType===3&&(I+=fe.nodeValue.length),(se=fe.firstChild)!==null;)te=fe,fe=se;for(;;){if(fe===a)break t;if(te===u&&++ee===v&&(M=I),te===x&&++ce===h&&(G=I),(se=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=se}u=M===-1||G===-1?null:{start:M,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(qx={focusedElem:a,selectionRange:u},bg=!1,Ln=o;Ln!==null;)if(o=Ln,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ln=a;else for(;Ln!==null;){switch(o=Ln,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var Pe=$l(u.type,v);a=h.getSnapshotBeforeUpdate(Pe,x),h.__reactInternalSnapshotBeforeUpdate=a}catch($e){vt(u,u.return,$e)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Gx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Gx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Ln=a;break}Ln=o.return}}function $I(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:gs(a,u),h&4&&Bf(5,u);break;case 1:if(gs(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){vt(u,u.return,I)}else{var v=$l(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){vt(u,u.return,I)}}h&64&&LI(u),h&512&&Uf(u,u.return);break;case 3:if(gs(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{k2(a,o)}catch(I){vt(u,u.return,I)}}break;case 27:o===null&&h&4&&FI(u);case 26:case 5:gs(a,u),o===null&&h&4&&BI(u),h&512&&Uf(u,u.return);break;case 12:gs(a,u);break;case 31:gs(a,u),h&4&&KI(a,u);break;case 13:gs(a,u),h&4&&YI(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=kB.bind(null,u),YB(a,u))));break;case 22:if(h=u.memoizedState!==null||ms,!h){o=o!==null&&o.memoizedState!==null||xn,v=ms;var x=xn;ms=h,(xn=o)&&!x?ys(a,u,(u.subtreeFlags&8772)!==0):gs(a,u),ms=v,xn=x}break;case 30:break;default:gs(a,u)}}function HI(a){var o=a.alternate;o!==null&&(a.alternate=null,HI(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Yc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Nr=!1;function ps(a,o,u){for(u=u.child;u!==null;)GI(a,o,u),u=u.sibling}function GI(a,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Fr,u)}catch{}switch(u.tag){case 26:xn||Ra(u,o),ps(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xn||Ra(u,o);var h=$t,v=Nr;No(u.type)&&($t=u.stateNode,Nr=!1),ps(a,o,u),Xf(u.stateNode),$t=h,Nr=v;break;case 5:xn||Ra(u,o);case 6:if(h=$t,v=Nr,$t=null,ps(a,o,u),$t=h,Nr=v,$t!==null)if(Nr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(u.stateNode)}catch(x){vt(u,o,x)}else try{$t.removeChild(u.stateNode)}catch(x){vt(u,o,x)}break;case 18:$t!==null&&(Nr?(a=$t,Lk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pu(a)):Lk($t,u.stateNode));break;case 4:h=$t,v=Nr,$t=u.stateNode.containerInfo,Nr=!0,ps(a,o,u),$t=h,Nr=v;break;case 0:case 11:case 14:case 15:Eo(2,u,o),xn||Eo(4,u,o),ps(a,o,u);break;case 1:xn||(Ra(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&VI(u,o,h)),ps(a,o,u);break;case 21:ps(a,o,u);break;case 22:xn=(h=xn)||u.memoizedState!==null,ps(a,o,u),xn=h;break;default:ps(a,o,u)}}function KI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pu(a)}catch(u){vt(o,o.return,u)}}}function YI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pu(a)}catch(u){vt(o,o.return,u)}}function xB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new qI),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new qI),o;default:throw Error(r(435,a.tag))}}function Jp(a,o){var u=xB(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=CB.bind(null,a,h);h.then(v,v)}})}function Or(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=a,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 27:if(No(M.type)){$t=M.stateNode,Nr=!1;break e}break;case 5:$t=M.stateNode,Nr=!1;break e;case 3:case 4:$t=M.stateNode.containerInfo,Nr=!0;break e}M=M.return}if($t===null)throw Error(r(160));GI(x,I,v),$t=null,Nr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)WI(o,a),o=o.sibling}var ea=null;function WI(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Or(o,a),Pr(a),h&4&&(Eo(3,a,a.return),Bf(3,a),Eo(5,a,a.return));break;case 1:Or(o,a),Pr(a),h&512&&(xn||u===null||Ra(u,u.return)),h&64&&ms&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=ea;if(Or(o,a),Pr(a),h&512&&(xn||u===null||Ra(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[ba]||x[mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),nr(x,h,u),x[mn]=a,pn(x),h=x;break e;case"link":var I=Wk("link","href",v).get(h+(u.href||""));if(I){for(var M=0;M<I.length;M++)if(x=I[M],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(M,1);break t}}x=v.createElement(h),nr(x,h,u),v.head.appendChild(x);break;case"meta":if(I=Wk("meta","content",v).get(h+(u.content||""))){for(M=0;M<I.length;M++)if(x=I[M],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(M,1);break t}}x=v.createElement(h),nr(x,h,u),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[mn]=a,pn(x),h=x}a.stateNode=h}else Xk(v,a.type,a.stateNode);else a.stateNode=Yk(v,h,a.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?Xk(v,a.type,a.stateNode):Yk(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&vx(a,a.memoizedProps,u.memoizedProps)}break;case 27:Or(o,a),Pr(a),h&512&&(xn||u===null||Ra(u,u.return)),u!==null&&h&4&&vx(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Or(o,a),Pr(a),h&512&&(xn||u===null||Ra(u,u.return)),a.flags&32){v=a.stateNode;try{Cr(v,"")}catch(Pe){vt(a,a.return,Pe)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,vx(a,v,u!==null?u.memoizedProps:v)),h&1024&&(_x=!0);break;case 6:if(Or(o,a),Pr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Pe){vt(a,a.return,Pe)}}break;case 3:if(pg=null,v=ea,ea=hg(o.containerInfo),Or(o,a),ea=v,Pr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Pu(o.containerInfo)}catch(Pe){vt(a,a.return,Pe)}_x&&(_x=!1,XI(a));break;case 4:h=ea,ea=hg(a.stateNode.containerInfo),Or(o,a),Pr(a),ea=h;break;case 12:Or(o,a),Pr(a);break;case 31:Or(o,a),Pr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jp(a,h)));break;case 13:Or(o,a),Pr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(tg=Yn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jp(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ee=ms,ce=xn;if(ms=ee||v,xn=ce||G,Or(o,a),xn=ce,ms=ee,Pr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||ms||xn||Hl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(x=G.stateNode,v)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{M=G.stateNode;var fe=G.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;M.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Pe){vt(G,G.return,Pe)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Pe){vt(G,G.return,Pe)}}}else if(o.tag===18){if(u===null){G=o;try{var se=G.stateNode;v?Vk(se,!0):Vk(G.stateNode,!1)}catch(Pe){vt(G,G.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Jp(a,u))));break;case 19:Or(o,a),Pr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jp(a,h)));break;case 30:break;case 21:break;default:Or(o,a),Pr(a)}}function Pr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(UI(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=bx(a);Zp(a,x,v);break;case 5:var I=u.stateNode;u.flags&32&&(Cr(I,""),u.flags&=-33);var M=bx(a);Zp(a,M,I);break;case 3:case 4:var G=u.stateNode.containerInfo,ee=bx(a);xx(a,ee,G);break;default:throw Error(r(161))}}catch(ce){vt(a,a.return,ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function XI(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;XI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function gs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$I(a,o.alternate,o),o=o.sibling}function Hl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Eo(4,o,o.return),Hl(o);break;case 1:Ra(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&VI(o,o.return,u),Hl(o);break;case 27:Xf(o.stateNode);case 26:case 5:Ra(o,o.return),Hl(o);break;case 22:o.memoizedState===null&&Hl(o);break;case 30:Hl(o);break;default:Hl(o)}a=a.sibling}}function ys(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,x=o,I=x.flags;switch(x.tag){case 0:case 11:case 15:ys(v,x,u),Bf(4,x);break;case 1:if(ys(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){vt(h,h.return,ee)}if(h=x,v=h.updateQueue,v!==null){var M=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)I2(G[v],M)}catch(ee){vt(h,h.return,ee)}}u&&I&64&&LI(x),Uf(x,x.return);break;case 27:FI(x);case 26:case 5:ys(v,x,u),u&&h===null&&I&4&&BI(x),Uf(x,x.return);break;case 12:ys(v,x,u);break;case 31:ys(v,x,u),u&&I&4&&KI(v,x);break;case 13:ys(v,x,u),u&&I&4&&YI(v,x);break;case 22:x.memoizedState===null&&ys(v,x,u),Uf(x,x.return);break;case 30:break;default:ys(v,x,u)}o=o.sibling}}function wx(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&If(u))}function Ex(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a))}function ta(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)QI(a,o,u,h),o=o.sibling}function QI(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,u,h),v&2048&&Bf(9,o);break;case 1:ta(a,o,u,h);break;case 3:ta(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&If(a)));break;case 12:if(v&2048){ta(a,o,u,h),a=o.stateNode;try{var x=o.memoizedProps,I=x.id,M=x.onPostCommit;typeof M=="function"&&M(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){vt(o,o.return,G)}}else ta(a,o,u,h);break;case 31:ta(a,o,u,h);break;case 13:ta(a,o,u,h);break;case 23:break;case 22:x=o.stateNode,I=o.alternate,o.memoizedState!==null?x._visibility&2?ta(a,o,u,h):Ff(a,o):x._visibility&2?ta(a,o,u,h):(x._visibility|=2,_u(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&wx(I,o);break;case 24:ta(a,o,u,h),v&2048&&Ex(o.alternate,o);break;default:ta(a,o,u,h)}}function _u(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,I=o,M=u,G=h,ee=I.flags;switch(I.tag){case 0:case 11:case 15:_u(x,I,M,G,v),Bf(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?_u(x,I,M,G,v):Ff(x,I):(ce._visibility|=2,_u(x,I,M,G,v)),v&&ee&2048&&wx(I.alternate,I);break;case 24:_u(x,I,M,G,v),v&&ee&2048&&Ex(I.alternate,I);break;default:_u(x,I,M,G,v)}o=o.sibling}}function Ff(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Ff(u,h),v&2048&&wx(h.alternate,h);break;case 24:Ff(u,h),v&2048&&Ex(h.alternate,h);break;default:Ff(u,h)}o=o.sibling}}var qf=8192;function wu(a,o,u){if(a.subtreeFlags&qf)for(a=a.child;a!==null;)ZI(a,o,u),a=a.sibling}function ZI(a,o,u){switch(a.tag){case 26:wu(a,o,u),a.flags&qf&&a.memoizedState!==null&&sU(u,ea,a.memoizedState,a.memoizedProps);break;case 5:wu(a,o,u);break;case 3:case 4:var h=ea;ea=hg(a.stateNode.containerInfo),wu(a,o,u),ea=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=qf,qf=16777216,wu(a,o,u),qf=h):wu(a,o,u));break;default:wu(a,o,u)}}function JI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function $f(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ln=h,tk(h,a)}JI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ek(a),a=a.sibling}function ek(a){switch(a.tag){case 0:case 11:case 15:$f(a),a.flags&2048&&Eo(9,a,a.return);break;case 3:$f(a);break;case 12:$f(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,eg(a)):$f(a);break;default:$f(a)}}function eg(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ln=h,tk(h,a)}JI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Eo(8,o,o.return),eg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,eg(o));break;default:eg(o)}a=a.sibling}}function tk(a,o){for(;Ln!==null;){var u=Ln;switch(u.tag){case 0:case 11:case 15:Eo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:If(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ln=h;else e:for(u=a;Ln!==null;){h=Ln;var v=h.sibling,x=h.return;if(HI(h),h===u){Ln=null;break e}if(v!==null){v.return=x,Ln=v;break e}Ln=x}}}var _B={getCacheForType:function(a){var o=er(yn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return er(yn).controller.signal}},wB=typeof WeakMap=="function"?WeakMap:Map,mt=0,Pt=null,nt=null,it=0,yt=0,Qr=null,So=!1,Eu=!1,Sx=!1,vs=0,tn=0,To=0,Gl=0,Tx=0,Zr=0,Su=0,Hf=null,Rr=null,Ax=!1,tg=0,nk=0,ng=1/0,rg=null,Ao=null,An=0,Io=null,Tu=null,bs=0,Ix=0,kx=null,rk=null,Gf=0,Cx=null;function Jr(){return(mt&2)!==0&&it!==0?it&-it:Y.T!==null?Mx():af()}function ik(){if(Zr===0)if((it&536870912)===0||ot){var a=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),Zr=a}else Zr=536870912;return a=Wr.current,a!==null&&(a.flags|=32),Zr}function jr(a,o,u){(a===Pt&&(yt===2||yt===9)||a.cancelPendingCommit!==null)&&(Au(a,0),ko(a,it,Zr,!1)),Lt(a,u),((mt&2)===0||a!==Pt)&&(a===Pt&&((mt&2)===0&&(Gl|=u),tn===4&&ko(a,it,Zr,!1)),ja(a))}function ak(a,o,u){if((mt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||pt(a,o),v=h?TB(a,o):Ox(a,o,!0),x=h;do{if(v===0){Eu&&!h&&ko(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!EB(u)){v=Ox(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var M=a;v=Hf;var G=M.current.memoizedState.isDehydrated;if(G&&(Au(M,I).flags|=256),I=Ox(M,I,!1),I!==2){if(Sx&&!G){M.errorRecoveryDisabledLanes|=x,Gl|=x,v=4;break e}x=Rr,Rr=v,x!==null&&(Rr===null?Rr=x:Rr.push.apply(Rr,x))}v=I}if(x=!1,v!==2)continue}}if(v===1){Au(a,0),ko(a,o,0,!0);break}e:{switch(h=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ko(h,o,Zr,!So);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=tg+300-Yn(),10<v)){if(ko(h,o,Zr,!So),qe(h,0,!0)!==0)break e;bs=o,h.timeoutHandle=Dk(sk.bind(null,h,u,Rr,rg,Ax,o,Zr,Gl,Su,So,x,"Throttled",-0,0),v);break e}sk(h,u,Rr,rg,Ax,o,Zr,Gl,Su,So,x,null,-0,0)}}break}while(!0);ja(a)}function sk(a,o,u,h,v,x,I,M,G,ee,ce,fe,te,se){if(a.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},ZI(o,x,fe);var Pe=(x&62914560)===x?tg-Yn():(x&4194048)===x?nk-Yn():0;if(Pe=oU(fe,Pe),Pe!==null){bs=x,a.cancelPendingCommit=Pe(mk.bind(null,a,o,x,u,h,v,I,M,G,ce,fe,null,te,se)),ko(a,x,I,!ee);return}}mk(a,o,x,u,h,v,I,M,G)}function EB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!Kr(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ko(a,o,u,h){o&=~Tx,o&=~Gl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var x=31-Ft(v),I=1<<x;h[x]=-1,v&=~I}u!==0&&gi(a,u,o)}function ig(){return(mt&6)===0?(Kf(0),!1):!0}function Nx(){if(nt!==null){if(yt===0)var a=nt.return;else a=nt,ls=zl=null,Gb(a),gu=null,Cf=0,a=nt;for(;a!==null;)zI(a.alternate,a),a=a.return;nt=null}}function Au(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,qB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),bs=0,Nx(),Pt=a,nt=u=ss(a.current,null),it=o,yt=0,Qr=null,So=!1,Eu=pt(a,o),Sx=!1,Su=Zr=Tx=Gl=To=tn=0,Rr=Hf=null,Ax=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Ft(h),x=1<<v;o|=a[v],h&=~x}return vs=o,Tp(),u}function ok(a,o){Ze=null,Y.H=zf,o===pu||o===Rp?(o=E2(),yt=3):o===jb?(o=E2(),yt=4):yt=o===lx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qr=o,nt===null&&(tn=1,Kp(a,wi(o,a.current)))}function lk(){var a=Wr.current;return a===null?!0:(it&4194048)===it?Ai===null:(it&62914560)===it||(it&536870912)!==0?a===Ai:!1}function ck(){var a=Y.H;return Y.H=zf,a===null?zf:a}function uk(){var a=Y.A;return Y.A=_B,a}function ag(){tn=4,So||(it&4194048)!==it&&Wr.current!==null||(Eu=!0),(To&134217727)===0&&(Gl&134217727)===0||Pt===null||ko(Pt,it,Zr,!1)}function Ox(a,o,u){var h=mt;mt|=2;var v=ck(),x=uk();(Pt!==a||it!==o)&&(rg=null,Au(a,o)),o=!1;var I=tn;e:do try{if(yt!==0&&nt!==null){var M=nt,G=Qr;switch(yt){case 8:Nx(),I=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(o=!0);var ee=yt;if(yt=0,Qr=null,Iu(a,M,G,ee),u&&Eu){I=0;break e}break;default:ee=yt,yt=0,Qr=null,Iu(a,M,G,ee)}}SB(),I=tn;break}catch(ce){ok(a,ce)}while(!0);return o&&a.shellSuspendCounter++,ls=zl=null,mt=h,Y.H=v,Y.A=x,nt===null&&(Pt=null,it=0,Tp()),I}function SB(){for(;nt!==null;)dk(nt)}function TB(a,o){var u=mt;mt|=2;var h=ck(),v=uk();Pt!==a||it!==o?(rg=null,ng=Yn()+500,Au(a,o)):Eu=pt(a,o);e:do try{if(yt!==0&&nt!==null){o=nt;var x=Qr;t:switch(yt){case 1:yt=0,Qr=null,Iu(a,o,x,1);break;case 2:case 9:if(_2(x)){yt=0,Qr=null,fk(o);break}o=function(){yt!==2&&yt!==9||Pt!==a||(yt=7),ja(a)},x.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:_2(x)?(yt=0,Qr=null,fk(o)):(yt=0,Qr=null,Iu(a,o,x,7));break;case 5:var I=null;switch(nt.tag){case 26:I=nt.memoizedState;case 5:case 27:var M=nt;if(I?Qk(I):M.stateNode.complete){yt=0,Qr=null;var G=M.sibling;if(G!==null)nt=G;else{var ee=M.return;ee!==null?(nt=ee,sg(ee)):nt=null}break t}}yt=0,Qr=null,Iu(a,o,x,5);break;case 6:yt=0,Qr=null,Iu(a,o,x,6);break;case 8:Nx(),tn=6;break e;default:throw Error(r(462))}}AB();break}catch(ce){ok(a,ce)}while(!0);return ls=zl=null,Y.H=h,Y.A=v,mt=u,nt!==null?0:(Pt=null,it=0,Tp(),tn)}function AB(){for(;nt!==null&&!Kn();)dk(nt)}function dk(a){var o=MI(a.alternate,a,vs);a.memoizedProps=a.pendingProps,o===null?sg(a):nt=o}function fk(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=CI(u,o,o.pendingProps,o.type,void 0,it);break;case 11:o=CI(u,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:Gb(o);default:zI(u,o),o=nt=u2(o,vs),o=MI(u,o,vs)}a.memoizedProps=a.pendingProps,o===null?sg(a):nt=o}function Iu(a,o,u,h){ls=zl=null,Gb(o),gu=null,Cf=0;var v=o.return;try{if(mB(a,v,o,u,it)){tn=1,Kp(a,wi(u,a.current)),nt=null;return}}catch(x){if(v!==null)throw nt=v,x;tn=1,Kp(a,wi(u,a.current)),nt=null;return}o.flags&32768?(ot||h===1?a=!0:Eu||(it&536870912)!==0?a=!1:(So=a=!0,(h===2||h===9||h===3||h===6)&&(h=Wr.current,h!==null&&h.tag===13&&(h.flags|=16384))),hk(o,a)):sg(o)}function sg(a){var o=a;do{if((o.flags&32768)!==0){hk(o,So);return}a=o.return;var u=yB(o.alternate,o,vs);if(u!==null){nt=u;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);tn===0&&(tn=5)}function hk(a,o){do{var u=vB(a.alternate,a);if(u!==null){u.flags&=32767,nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=u}while(a!==null);tn=6,nt=null}function mk(a,o,u,h,v,x,I,M,G){a.cancelPendingCommit=null;do og();while(An!==0);if((mt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=bb,ur(a,u,x,I,M,G),a===Pt&&(nt=Pt=null,it=0),Tu=o,Io=a,bs=u,Ix=x,kx=v,rk=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,NB(qi,function(){return bk(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=re.p,re.p=2,I=mt,mt|=4;try{bB(a,o,u)}finally{mt=I,re.p=v,Y.T=h}}An=1,pk(),gk(),yk()}}function pk(){if(An===1){An=0;var a=Io,o=Tu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=mt;mt|=4;try{WI(o,a);var x=qx,I=t2(a.containerInfo),M=x.focusedElem,G=x.selectionRange;if(I!==M&&M&&M.ownerDocument&&e2(M.ownerDocument.documentElement,M)){if(G!==null&&mb(M)){var ee=G.start,ce=G.end;if(ce===void 0&&(ce=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(ce,M.value.length);else{var fe=M.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var se=te.getSelection(),Pe=M.textContent.length,$e=Math.min(G.start,Pe),It=G.end===void 0?$e:Math.min(G.end,Pe);!se.extend&&$e>It&&(I=It,It=$e,$e=I);var W=JA(M,$e),K=JA(M,It);if(W&&K&&(se.rangeCount!==1||se.anchorNode!==W.node||se.anchorOffset!==W.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(W.node,W.offset),se.removeAllRanges(),$e>It?(se.addRange(J),se.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),se.addRange(J))}}}}for(fe=[],se=M;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<fe.length;M++){var de=fe[M];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}bg=!!Fx,qx=Fx=null}finally{mt=v,re.p=h,Y.T=u}}a.current=o,An=2}}function gk(){if(An===2){An=0;var a=Io,o=Tu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=re.p;re.p=2;var v=mt;mt|=4;try{$I(a,o.alternate,o)}finally{mt=v,re.p=h,Y.T=u}}An=3}}function yk(){if(An===4||An===3){An=0,Fi();var a=Io,o=Tu,u=bs,h=rk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?An=5:(An=0,Tu=Io=null,vk(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ao=null),Qn(u),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Fr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,v=re.p,re.p=2,Y.T=null;try{for(var x=a.onRecoverableError,I=0;I<h.length;I++){var M=h[I];x(M.value,{componentStack:M.stack})}}finally{Y.T=o,re.p=v}}(bs&3)!==0&&og(),ja(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===Cx?Gf++:(Gf=0,Cx=a):Gf=0,Kf(0)}}function vk(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,If(o)))}function og(){return pk(),gk(),yk(),bk()}function bk(){if(An!==5)return!1;var a=Io,o=Ix;Ix=0;var u=Qn(bs),h=Y.T,v=re.p;try{re.p=32>u?32:u,Y.T=null,u=kx,kx=null;var x=Io,I=bs;if(An=0,Tu=Io=null,bs=0,(mt&6)!==0)throw Error(r(331));var M=mt;if(mt|=4,ek(x.current),QI(x,x.current,I,u),mt=M,Kf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Fr,x)}catch{}return!0}finally{re.p=v,Y.T=h,vk(a,o)}}function xk(a,o,u){o=wi(u,o),o=ox(a.stateNode,o,2),a=xo(a,o,2),a!==null&&(Lt(a,2),ja(a))}function vt(a,o,u){if(a.tag===3)xk(a,a,u);else for(;o!==null;){if(o.tag===3){xk(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ao===null||!Ao.has(h))){a=wi(u,a),u=_I(2),h=xo(o,u,2),h!==null&&(wI(u,h,o,a),Lt(h,2),ja(h));break}}o=o.return}}function Px(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new wB;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(Sx=!0,v.add(u),a=IB.bind(null,a,o,u),o.then(a,a))}function IB(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Pt===a&&(it&u)===u&&(tn===4||tn===3&&(it&62914560)===it&&300>Yn()-tg?(mt&2)===0&&Au(a,0):Tx|=u,Su===it&&(Su=0)),ja(a)}function _k(a,o){o===0&&(o=Mn()),a=jl(a,o),a!==null&&(Lt(a,o),ja(a))}function kB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),_k(a,u)}function CB(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),_k(a,u)}function NB(a,o){return jt(a,o)}var lg=null,ku=null,Rx=!1,cg=!1,jx=!1,Co=0;function ja(a){a!==ku&&a.next===null&&(ku===null?lg=ku=a:ku=ku.next=a),cg=!0,Rx||(Rx=!0,PB())}function Kf(a,o){if(!jx&&cg){jx=!0;do for(var u=!1,h=lg;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var I=h.suspendedLanes,M=h.pingedLanes;x=(1<<31-Ft(42|a)+1)-1,x&=v&~(I&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,Tk(h,x))}else x=it,x=qe(h,h===Pt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||pt(h,x)||(u=!0,Tk(h,x));h=h.next}while(u);jx=!1}}function OB(){wk()}function wk(){cg=Rx=!1;var a=0;Co!==0&&FB()&&(a=Co);for(var o=Yn(),u=null,h=lg;h!==null;){var v=h.next,x=Ek(h,o);x===0?(h.next=null,u===null?lg=v:u.next=v,v===null&&(ku=u)):(u=h,(a!==0||(x&3)!==0)&&(cg=!0)),h=v}An!==0&&An!==5||Kf(a),Co!==0&&(Co=0)}function Ek(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var I=31-Ft(x),M=1<<I,G=v[I];G===-1?((M&u)===0||(M&h)!==0)&&(v[I]=hn(M,o)):G<=o&&(a.expiredLanes|=M),x&=~M}if(o=Pt,u=it,u=qe(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(yt===2||yt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ui(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||pt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&Ui(h),Qn(u)){case 2:case 8:u=xl;break;case 32:u=qi;break;case 268435456:u=$i;break;default:u=qi}return h=Sk.bind(null,a),u=jt(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&Ui(h),a.callbackPriority=2,a.callbackNode=null,2}function Sk(a,o){if(An!==0&&An!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(og()&&a.callbackNode!==u)return null;var h=it;return h=qe(a,a===Pt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(ak(a,h,o),Ek(a,Yn()),a.callbackNode!=null&&a.callbackNode===u?Sk.bind(null,a):null)}function Tk(a,o){if(og())return null;ak(a,o,!0)}function PB(){$B(function(){(mt&6)!==0?jt(pa,OB):wk()})}function Mx(){if(Co===0){var a=hu;a===0&&(a=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Co=a}return Co}function Ak(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zc(""+a)}function Ik(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function RB(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var x=Ak((v[Dn]||null).action),I=h.submitter;I&&(o=(o=I[Dn]||null)?Ak(o.formAction):I.getAttribute("formAction"),o!==null&&(x=o,I=null));var M=new Ia("action","action",null,h,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Co!==0){var G=I?Ik(v,I):new FormData(v);tx(u,{pending:!0,data:G,method:v.method,action:x},null,G)}}else typeof x=="function"&&(M.preventDefault(),G=I?Ik(v,I):new FormData(v),tx(u,{pending:!0,data:G,method:v.method,action:x},x,G))},currentTarget:v}]})}}for(var Dx=0;Dx<vb.length;Dx++){var zx=vb[Dx],jB=zx.toLowerCase(),MB=zx[0].toUpperCase()+zx.slice(1);Ji(jB,"on"+MB)}Ji(i2,"onAnimationEnd"),Ji(a2,"onAnimationIteration"),Ji(s2,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Q8,"onTransitionRun"),Ji(Z8,"onTransitionStart"),Ji(J8,"onTransitionCancel"),Ji(o2,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yf));function kk(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var I=h.length-1;0<=I;I--){var M=h[I],G=M.instance,ee=M.currentTarget;if(M=M.listener,G!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ee;try{x(v)}catch(ce){Sp(ce)}v.currentTarget=null,x=G}else for(I=0;I<h.length;I++){if(M=h[I],G=M.instance,ee=M.currentTarget,M=M.listener,G!==x&&v.isPropagationStopped())break e;x=M,v.currentTarget=ee;try{x(v)}catch(ce){Sp(ce)}v.currentTarget=null,x=G}}}}function rt(a,o){var u=o[Kc];u===void 0&&(u=o[Kc]=new Set);var h=a+"__bubble";u.has(h)||(Ck(o,a,2,!1),u.add(h))}function Lx(a,o,u){var h=0;o&&(h|=4),Ck(u,a,h,o)}var ug="_reactListening"+Math.random().toString(36).slice(2);function Vx(a){if(!a[ug]){a[ug]=!0,sf.forEach(function(u){u!=="selectionchange"&&(DB.has(u)||Lx(u,!1,a),Lx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ug]||(o[ug]=!0,Lx("selectionchange",!1,o))}}function Ck(a,o,u,h){switch(iC(o)){case 2:var v=uU;break;case 8:v=dU;break;default:v=e1}u=v.bind(null,o,u,a),v=void 0,!Al||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function Bx(a,o,u,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var M=h.stateNode.containerInfo;if(M===v)break;if(I===4)for(I=h.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;M!==null;){if(I=xa(M),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){h=x=I;continue e}M=M.parentNode}}h=h.return}co(function(){var ee=x,ce=vi(u),fe=[];e:{var te=l2.get(a);if(te!==void 0){var se=Ia,Pe=a;switch(a){case"keypress":if(kl(u)===0)break e;case"keydown":case"keyup":se=_p;break;case"focusin":Pe="focus",se=Nl;break;case"focusout":Pe="blur",se=Nl;break;case"beforeblur":case"afterblur":se=Nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=A;break;case i2:case a2:case s2:se=mp;break;case o2:se=B;break;case"scroll":case"scrollend":se=vf;break;case"wheel":se=ae;break;case"copy":case"cut":case"paste":se=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=as;break;case"toggle":case"beforetoggle":se=Qe}var $e=(o&4)!==0,It=!$e&&(a==="scroll"||a==="scrollend"),W=$e?te!==null?te+"Capture":null:te;$e=[];for(var K=ee,J;K!==null;){var de=K;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||W===null||(de=Wi(K,W),de!=null&&$e.push(Wf(K,de,J))),It)break;K=K.return}0<$e.length&&(te=new se(te,Pe,null,u,ce),fe.push({event:te,listeners:$e}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",te&&u!==pf&&(Pe=u.relatedTarget||u.fromElement)&&(xa(Pe)||Pe[va]))break e;if((se||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Pe=u.relatedTarget||u.toElement,se=ee,Pe=Pe?xa(Pe):null,Pe!==null&&(It=s(Pe),$e=Pe.tag,Pe!==It||$e!==5&&$e!==27&&$e!==6)&&(Pe=null)):(se=null,Pe=ee),se!==Pe)){if($e=bf,de="onMouseLeave",W="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&($e=as,de="onPointerLeave",W="onPointerEnter",K="pointer"),It=se==null?te:Hr(se),J=Pe==null?te:Hr(Pe),te=new $e(de,K+"leave",se,u,ce),te.target=It,te.relatedTarget=J,de=null,xa(ce)===ee&&($e=new $e(W,K+"enter",Pe,u,ce),$e.target=J,$e.relatedTarget=It,de=$e),It=de,se&&Pe)t:{for($e=zB,W=se,K=Pe,J=0,de=W;de;de=$e(de))J++;de=0;for(var Be=K;Be;Be=$e(Be))de++;for(;0<J-de;)W=$e(W),J--;for(;0<de-J;)K=$e(K),de--;for(;J--;){if(W===K||K!==null&&W===K.alternate){$e=W;break t}W=$e(W),K=$e(K)}$e=null}else $e=null;se!==null&&Nk(fe,te,se,$e,!1),Pe!==null&&It!==null&&Nk(fe,It,Pe,$e,!0)}}e:{if(te=ee?Hr(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var ut=KA;else if(HA(te))if(YA)ut=Y8;else{ut=G8;var De=H8}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Qc(ee.elementType)&&(ut=KA):ut=K8;if(ut&&(ut=ut(a,ee))){GA(fe,ut,u,ce);break e}De&&De(a,te,ee),a==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&ff(te,"number",te.value)}switch(De=ee?Hr(ee):window,a){case"focusin":(HA(De)||De.contentEditable==="true")&&(au=De,pb=ee,Sf=null);break;case"focusout":Sf=pb=au=null;break;case"mousedown":gb=!0;break;case"contextmenu":case"mouseup":case"dragend":gb=!1,n2(fe,u,ce);break;case"selectionchange":if(X8)break;case"keydown":case"keyup":n2(fe,u,ce)}var Je;if(ht)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else iu?Ol(a,u)&&(at="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(Na&&u.locale!=="ko"&&(iu||at!=="onCompositionStart"?at==="onCompositionEnd"&&iu&&(Je=yf()):(Aa=ce,gf="value"in Aa?Aa.value:Aa.textContent,iu=!0)),De=dg(ee,at),0<De.length&&(at=new Ca(at,a,null,u,ce),fe.push({event:at,listeners:De}),Je?at.data=Je:(Je=ru(u),Je!==null&&(at.data=Je)))),(Je=xi?U8(a,u):F8(a,u))&&(at=dg(ee,"onBeforeInput"),0<at.length&&(De=new Ca("onBeforeInput","beforeinput",null,u,ce),fe.push({event:De,listeners:at}),De.data=Je)),RB(fe,a,ee,u,ce)}kk(fe,o)})}function Wf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function dg(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Wi(a,u),v!=null&&h.unshift(Wf(a,v,x)),v=Wi(a,o),v!=null&&h.push(Wf(a,v,x))),a.tag===3)return h;a=a.return}return[]}function zB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Nk(a,o,u,h,v){for(var x=o._reactName,I=[];u!==null&&u!==h;){var M=u,G=M.alternate,ee=M.stateNode;if(M=M.tag,G!==null&&G===h)break;M!==5&&M!==26&&M!==27||ee===null||(G=ee,v?(ee=Wi(u,x),ee!=null&&I.unshift(Wf(u,ee,G))):v||(ee=Wi(u,x),ee!=null&&I.push(Wf(u,ee,G)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var LB=/\r\n?/g,VB=/\u0000|\uFFFD/g;function Ok(a){return(typeof a=="string"?a:""+a).replace(LB,`
`).replace(VB,"")}function Pk(a,o){return o=Ok(o),Ok(a)===o}function At(a,o,u,h,v,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Cr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Cr(a,""+h);break;case"className":Gr(a,"class",h);break;case"tabIndex":Gr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(a,u,h);break;case"style":mf(a,h,x);break;case"data":if(o!=="object"){Gr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Zc(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&At(a,o,"name",v.name,v,null),At(a,o,"formEncType",v.formEncType,v,null),At(a,o,"formMethod",v.formMethod,v,null),At(a,o,"formTarget",v.formTarget,v,null)):(At(a,o,"encType",v.encType,v,null),At(a,o,"method",v.method,v,null),At(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Zc(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Yi);break;case"onScroll":h!=null&&rt("scroll",a);break;case"onScrollEnd":h!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Zc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":rt("beforetoggle",a),rt("toggle",a),Wc(a,"popover",h);break;case"xlinkActuate":gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":gn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":gn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":gn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":gn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Wc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=dp.get(u)||u,Wc(a,u,h))}}function Ux(a,o,u,h,v,x){switch(u){case"style":mf(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Cr(a,h):(typeof h=="number"||typeof h=="bigint")&&Cr(a,""+h);break;case"onScroll":h!=null&&rt("scroll",a);break;case"onScrollEnd":h!=null&&rt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!of.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=a[Dn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Wc(a,u,h)}}}function nr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var I=u[x];if(I!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(a,o,x,I,u,null)}}v&&At(a,o,"srcSet",u.srcSet,u,null),h&&At(a,o,"src",u.src,u,null);return;case"input":rt("invalid",a);var M=x=I=v=null,G=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var ce=u[h];if(ce!=null)switch(h){case"name":v=ce;break;case"type":I=ce;break;case"checked":G=ce;break;case"defaultChecked":ee=ce;break;case"value":x=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:At(a,o,h,ce,u,null)}}lp(a,x,M,G,ee,I,v,!1);return;case"select":rt("invalid",a),h=I=x=null;for(v in u)if(u.hasOwnProperty(v)&&(M=u[v],M!=null))switch(v){case"value":x=M;break;case"defaultValue":I=M;break;case"multiple":h=M;default:At(a,o,v,M,u,null)}o=x,u=I,a.multiple=!!h,o!=null?ao(a,!!h,o,!1):u!=null&&ao(a,!!h,u,!0);return;case"textarea":rt("invalid",a),x=v=h=null;for(I in u)if(u.hasOwnProperty(I)&&(M=u[I],M!=null))switch(I){case"value":h=M;break;case"defaultValue":v=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:At(a,o,I,M,u,null)}so(a,h,v,x);return;case"option":for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":At(a,o,G,h,u,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(h=0;h<Yf.length;h++)rt(Yf[h],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(a,o,ee,h,u,null)}return;default:if(Qc(o)){for(ce in u)u.hasOwnProperty(ce)&&(h=u[ce],h!==void 0&&Ux(a,o,ce,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&At(a,o,M,h,u,null))}function BB(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,I=null,M=null,G=null,ee=null,ce=null;for(se in u){var fe=u[se];if(u.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=fe;default:h.hasOwnProperty(se)||At(a,o,se,null,h,fe)}}for(var te in h){var se=h[te];if(fe=u[te],h.hasOwnProperty(te)&&(se!=null||fe!=null))switch(te){case"type":x=se;break;case"name":v=se;break;case"checked":ee=se;break;case"defaultChecked":ce=se;break;case"value":I=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==fe&&At(a,o,te,se,h,fe)}}Xc(a,I,M,G,ee,ce,x,v);return;case"select":se=I=M=te=null;for(x in u)if(G=u[x],u.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":se=G;default:h.hasOwnProperty(x)||At(a,o,x,null,h,G)}for(v in h)if(x=h[v],G=u[v],h.hasOwnProperty(v)&&(x!=null||G!=null))switch(v){case"value":te=x;break;case"defaultValue":M=x;break;case"multiple":I=x;default:x!==G&&At(a,o,v,x,h,G)}o=M,u=I,h=se,te!=null?ao(a,!!u,te,!1):!!h!=!!u&&(o!=null?ao(a,!!u,o,!0):ao(a,!!u,u?[]:"",!1));return;case"textarea":se=te=null;for(M in u)if(v=u[M],u.hasOwnProperty(M)&&v!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:At(a,o,M,null,h,v)}for(I in h)if(v=h[I],x=u[I],h.hasOwnProperty(I)&&(v!=null||x!=null))switch(I){case"value":te=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&At(a,o,I,v,h,x)}cp(a,te,se);return;case"option":for(var Pe in u)te=u[Pe],u.hasOwnProperty(Pe)&&te!=null&&!h.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:At(a,o,Pe,null,h,te));for(G in h)te=h[G],se=u[G],h.hasOwnProperty(G)&&te!==se&&(te!=null||se!=null)&&(G==="selected"?a.selected=te&&typeof te!="function"&&typeof te!="symbol":At(a,o,G,te,h,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in u)te=u[$e],u.hasOwnProperty($e)&&te!=null&&!h.hasOwnProperty($e)&&At(a,o,$e,null,h,te);for(ee in h)if(te=h[ee],se=u[ee],h.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:At(a,o,ee,te,h,se)}return;default:if(Qc(o)){for(var It in u)te=u[It],u.hasOwnProperty(It)&&te!==void 0&&!h.hasOwnProperty(It)&&Ux(a,o,It,void 0,h,te);for(ce in h)te=h[ce],se=u[ce],!h.hasOwnProperty(ce)||te===se||te===void 0&&se===void 0||Ux(a,o,ce,te,h,se);return}}for(var W in u)te=u[W],u.hasOwnProperty(W)&&te!=null&&!h.hasOwnProperty(W)&&At(a,o,W,null,h,te);for(fe in h)te=h[fe],se=u[fe],!h.hasOwnProperty(fe)||te===se||te==null&&se==null||At(a,o,fe,te,h,se)}function Rk(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,I=v.initiatorType,M=v.duration;if(x&&M&&Rk(I)){for(I=0,M=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],ee=G.startTime;if(ee>M)break;var ce=G.transferSize,fe=G.initiatorType;ce&&Rk(fe)&&(G=G.responseEnd,I+=ce*(G<M?1:(M-ee)/(G-ee)))}if(--h,o+=8*(x+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Fx=null,qx=null;function fg(a){return a.nodeType===9?a:a.ownerDocument}function jk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mk(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function $x(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hx=null;function FB(){var a=window.event;return a&&a.type==="popstate"?a===Hx?!1:(Hx=a,!0):(Hx=null,!1)}var Dk=typeof setTimeout=="function"?setTimeout:void 0,qB=typeof clearTimeout=="function"?clearTimeout:void 0,zk=typeof Promise=="function"?Promise:void 0,$B=typeof queueMicrotask=="function"?queueMicrotask:typeof zk<"u"?function(a){return zk.resolve(null).then(a).catch(HB)}:Dk;function HB(a){setTimeout(function(){throw a})}function No(a){return a==="head"}function Lk(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Pu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Xf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Xf(u);for(var x=u.firstChild;x;){var I=x.nextSibling,M=x.nodeName;x[ba]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=I}}else u==="body"&&Xf(a.ownerDocument.body);u=v}while(u);Pu(o)}function Vk(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function Gx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Gx(u),Yc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function GB(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ba])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ii(a.nextSibling),a===null)break}return null}function KB(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ii(a.nextSibling),a===null))return null;return a}function Bk(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ii(a.nextSibling),a===null))return null;return a}function Kx(a){return a.data==="$?"||a.data==="$~"}function Yx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function YB(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ii(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Wx=null;function Uk(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ii(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function Fk(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function qk(a,o,u){switch(o=fg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Xf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Yc(a)}var ki=new Map,$k=new Set;function hg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xs=re.d;re.d={f:WB,r:XB,D:QB,C:ZB,L:JB,m:eU,X:nU,S:tU,M:rU};function WB(){var a=xs.f(),o=ig();return a||o}function XB(a){var o=yi(a);o!==null&&o.tag===5&&o.type==="form"?oI(o):xs.r(a)}var Cu=typeof document>"u"?null:document;function Hk(a,o,u){var h=Cu;if(h&&typeof o=="string"&&o){var v=kr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),$k.has(v)||($k.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),nr(o,"link",a),pn(o),h.head.appendChild(o)))}}function QB(a){xs.D(a),Hk("dns-prefetch",a,null)}function ZB(a,o){xs.C(a,o),Hk("preconnect",a,o)}function JB(a,o,u){xs.L(a,o,u);var h=Cu;if(h&&a&&o){var v='link[rel="preload"][as="'+kr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+kr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+kr(u.imageSizes)+'"]')):v+='[href="'+kr(a)+'"]';var x=v;switch(o){case"style":x=Nu(a);break;case"script":x=Ou(a)}ki.has(x)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ki.set(x,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Qf(x))||o==="script"&&h.querySelector(Zf(x))||(o=h.createElement("link"),nr(o,"link",a),pn(o),h.head.appendChild(o)))}}function eU(a,o){xs.m(a,o);var u=Cu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+kr(h)+'"][href="'+kr(a)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ou(a)}if(!ki.has(x)&&(a=p({rel:"modulepreload",href:a},o),ki.set(x,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zf(x)))return}h=u.createElement("link"),nr(h,"link",a),pn(h),u.head.appendChild(h)}}}function tU(a,o,u){xs.S(a,o,u);var h=Cu;if(h&&a){var v=_a(h).hoistableStyles,x=Nu(a);o=o||"default";var I=v.get(x);if(!I){var M={loading:0,preload:null};if(I=h.querySelector(Qf(x)))M.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ki.get(x))&&Xx(a,u);var G=I=h.createElement("link");pn(G),nr(G,"link",a),G._p=new Promise(function(ee,ce){G.onload=ee,G.onerror=ce}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,mg(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:M},v.set(x,I)}}}function nU(a,o){xs.X(a,o);var u=Cu;if(u&&a){var h=_a(u).hoistableScripts,v=Ou(a),x=h.get(v);x||(x=u.querySelector(Zf(v)),x||(a=p({src:a,async:!0},o),(o=ki.get(v))&&Qx(a,o),x=u.createElement("script"),pn(x),nr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function rU(a,o){xs.M(a,o);var u=Cu;if(u&&a){var h=_a(u).hoistableScripts,v=Ou(a),x=h.get(v);x||(x=u.querySelector(Zf(v)),x||(a=p({src:a,async:!0,type:"module"},o),(o=ki.get(v))&&Qx(a,o),x=u.createElement("script"),pn(x),nr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function Gk(a,o,u,h){var v=(v=ke.current)?hg(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Nu(u.href),u=_a(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Nu(u.href);var x=_a(v).hoistableStyles,I=x.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,I),(x=v.querySelector(Qf(a)))&&!x._p&&(I.instance=x,I.state.loading=5),ki.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ki.set(a,u),x||iU(v,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ou(u),u=_a(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Nu(a){return'href="'+kr(a)+'"'}function Qf(a){return'link[rel="stylesheet"]['+a+"]"}function Kk(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function iU(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",u),pn(o),a.head.appendChild(o))}function Ou(a){return'[src="'+kr(a)+'"]'}function Zf(a){return"script[async]"+a}function Yk(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+kr(u.href)+'"]');if(h)return o.instance=h,pn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),pn(h),nr(h,"style",v),mg(h,u.precedence,a),o.instance=h;case"stylesheet":v=Nu(u.href);var x=a.querySelector(Qf(v));if(x)return o.state.loading|=4,o.instance=x,pn(x),x;h=Kk(u),(v=ki.get(v))&&Xx(h,v),x=(a.ownerDocument||a).createElement("link"),pn(x);var I=x;return I._p=new Promise(function(M,G){I.onload=M,I.onerror=G}),nr(x,"link",h),o.state.loading|=4,mg(x,u.precedence,a),o.instance=x;case"script":return x=Ou(u.src),(v=a.querySelector(Zf(x)))?(o.instance=v,pn(v),v):(h=u,(v=ki.get(x))&&(h=p({},u),Qx(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),pn(v),nr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,mg(h,u.precedence,a));return o.instance}function mg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,I=0;I<h.length;I++){var M=h[I];if(M.dataset.precedence===o)x=M;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Xx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Qx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var pg=null;function Wk(a,o,u){if(pg===null){var h=new Map,v=pg=new Map;v.set(u,h)}else v=pg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var x=u[v];if(!(x[ba]||x[mn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(o)||"";I=a+I;var M=h.get(I);M?M.push(x):h.set(I,[x])}}return h}function Xk(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function aU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Qk(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function sU(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Nu(h.href),x=o.querySelector(Qf(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=gg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,pn(x);return}x=o.ownerDocument||o,h=Kk(h),(v=ki.get(v))&&Xx(h,v),x=x.createElement("link"),pn(x);var I=x;I._p=new Promise(function(M,G){I.onload=M,I.onerror=G}),nr(x,"link",h),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=gg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Zx=0;function oU(a,o){return a.stylesheets&&a.count===0&&vg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&vg(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Zx===0&&(Zx=62500*UB());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&vg(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Zx?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function gg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yg=null;function vg(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yg=new Map,o.forEach(lU,a),yg=null,gg.call(a))}function lU(a,o){if(!(o.state.loading&4)){var u=yg.get(a);if(u)var h=u.get(null);else{u=new Map,yg.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var I=v[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}v=o.instance,I=v.getAttribute("data-precedence"),x=u.get(I)||h,x===h&&u.set(null,v),u.set(I,v),this.count++,h=gg.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Jf={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function cU(a,o,u,h,v,x,I,M,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Zk(a,o,u,h,v,x,I,M,G,ee,ce,fe){return a=new cU(a,o,u,I,G,ee,ce,fe,M),o=1,x===!0&&(o|=24),x=Yr(3,null,null,o),a.current=x,x.stateNode=a,o=Ob(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},Mb(x),a}function Jk(a){return a?(a=lu,a):lu}function eC(a,o,u,h,v,x){v=Jk(v),h.context===null?h.context=v:h.pendingContext=v,h=bo(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=xo(a,h,o),u!==null&&(jr(u,a,o),Of(u,a,o))}function tC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Jx(a,o){tC(a,o),(a=a.alternate)&&tC(a,o)}function nC(a){if(a.tag===13||a.tag===31){var o=jl(a,67108864);o!==null&&jr(o,a,67108864),Jx(a,67108864)}}function rC(a){if(a.tag===13||a.tag===31){var o=Jr();o=ya(o);var u=jl(a,o);u!==null&&jr(u,a,o),Jx(a,o)}}var bg=!0;function uU(a,o,u,h){var v=Y.T;Y.T=null;var x=re.p;try{re.p=2,e1(a,o,u,h)}finally{re.p=x,Y.T=v}}function dU(a,o,u,h){var v=Y.T;Y.T=null;var x=re.p;try{re.p=8,e1(a,o,u,h)}finally{re.p=x,Y.T=v}}function e1(a,o,u,h){if(bg){var v=t1(h);if(v===null)Bx(a,o,h,xg,u),aC(a,h);else if(hU(v,a,o,u,h))h.stopPropagation();else if(aC(a,h),o&4&&-1<fU.indexOf(a)){for(;v!==null;){var x=yi(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=$r(x.pendingLanes);if(I!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;I;){var G=1<<31-Ft(I);M.entanglements[1]|=G,I&=~G}ja(x),(mt&6)===0&&(ng=Yn()+500,Kf(0))}}break;case 31:case 13:M=jl(x,2),M!==null&&jr(M,x,2),ig(),Jx(x,2)}if(x=t1(h),x===null&&Bx(a,o,h,xg,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else Bx(a,o,h,null,u)}}function t1(a){return a=vi(a),n1(a)}var xg=null;function n1(a){if(xg=null,a=xa(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return xg=a,null}function iC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case pa:return 2;case xl:return 8;case qi:case _l:return 32;case $i:return 268435456;default:return 32}default:return 32}}var r1=!1,Oo=null,Po=null,Ro=null,eh=new Map,th=new Map,jo=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aC(a,o){switch(a){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":eh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(o.pointerId)}}function nh(a,o,u,h,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=yi(o),o!==null&&nC(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function hU(a,o,u,h,v){switch(o){case"focusin":return Oo=nh(Oo,a,o,u,h,v),!0;case"dragenter":return Po=nh(Po,a,o,u,h,v),!0;case"mouseover":return Ro=nh(Ro,a,o,u,h,v),!0;case"pointerover":var x=v.pointerId;return eh.set(x,nh(eh.get(x)||null,a,o,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,th.set(x,nh(th.get(x)||null,a,o,u,h,v)),!0}return!1}function sC(a){var o=xa(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Gi(a.priority,function(){rC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Gi(a.priority,function(){rC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _g(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=t1(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);pf=h,u.target.dispatchEvent(h),pf=null}else return o=yi(u),o!==null&&nC(o),a.blockedOn=u,!1;o.shift()}return!0}function oC(a,o,u){_g(a)&&u.delete(o)}function mU(){r1=!1,Oo!==null&&_g(Oo)&&(Oo=null),Po!==null&&_g(Po)&&(Po=null),Ro!==null&&_g(Ro)&&(Ro=null),eh.forEach(oC),th.forEach(oC)}function wg(a,o){a.blockedOn===o&&(a.blockedOn=null,r1||(r1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mU)))}var Eg=null;function lC(a){Eg!==a&&(Eg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eg===a&&(Eg=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(n1(h||u)===null)continue;break}var x=yi(u);x!==null&&(a.splice(o,3),o-=3,tx(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Pu(a){function o(G){return wg(G,a)}Oo!==null&&wg(Oo,a),Po!==null&&wg(Po,a),Ro!==null&&wg(Ro,a),eh.forEach(o),th.forEach(o);for(var u=0;u<jo.length;u++){var h=jo[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<jo.length&&(u=jo[0],u.blockedOn===null);)sC(u),u.blockedOn===null&&jo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],I=v[Dn]||null;if(typeof x=="function")I||lC(u);else if(I){var M=null;if(x&&x.hasAttribute("formAction")){if(v=x,I=x[Dn]||null)M=I.formAction;else if(n1(v)!==null)continue}else M=I.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),lC(u)}}}function cC(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function i1(a){this._internalRoot=a}Sg.prototype.render=i1.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Jr();eC(u,h,a,o,null,null)},Sg.prototype.unmount=i1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;eC(a.current,2,null,a,null,null),ig(),o[va]=null}};function Sg(a){this._internalRoot=a}Sg.prototype.unstable_scheduleHydration=function(a){if(a){var o=af();a={blockedOn:null,target:a,priority:o};for(var u=0;u<jo.length&&o!==0&&o<jo[u].priority;u++);jo.splice(u,0,a),u===0&&sC(a)}};var uC=e.version;if(uC!=="19.2.3")throw Error(r(527,uC,"19.2.3"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var pU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{Fr=Tg.inject(pU),Tn=Tg}catch{}}return ih.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=yI,x=vI,I=bI;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=Zk(a,1,!1,null,null,u,h,null,v,x,I,cC),a[va]=o.current,Vx(a),new i1(o)},ih.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",x=yI,I=vI,M=bI,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=Zk(a,1,!0,o,u??null,h,v,G,x,I,M,cC),o.context=Jk(null),u=o.current,h=Jr(),h=ya(h),v=bo(h),v.callback=null,xo(u,v,h),u=h,o.current.lanes=u,Lt(o,u),ja(o),a[va]=o.current,Vx(a),new Sg(o)},ih.version="19.2.3",ih}var xC;function AU(){if(xC)return o1.exports;xC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o1.exports=TU(),o1.exports}var IU=AU();const AD=T.createContext(void 0),ID=({children:t})=>{const[e,n]=T.useState(new Date),r=()=>{n(new Date(e.getFullYear(),e.getMonth()-1,1))},i=()=>{n(new Date(e.getFullYear(),e.getMonth()+1,1))},s=()=>{n(new Date)};return y.jsx(AD.Provider,{value:{selectedDate:e,setSelectedDate:n,prevMonth:r,nextMonth:i,goToCurrentMonth:s},children:t})},zd=()=>{const t=T.useContext(AD);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t};var _C="popstate";function kU(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:d=""}=Lc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),gw("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof s=="string"?s:Bh(s))}function r(i,s){ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return NU(e,n,r,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CU(){return Math.random().toString(36).substring(2,10)}function wC(t,e){return{usr:t.state,key:t.key,idx:e}}function gw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:n,key:e&&e.key||r||CU()}}function Bh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let S=m(),k=S==null?null:S-f;f=S,d&&d({action:c,location:E.location,delta:k})}function b(S,k){c="PUSH";let j=gw(E.location,S,k);n&&n(j,S),f=m()+1;let N=wC(j,f),D=E.createHref(j);try{l.pushState(N,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(D)}s&&d&&d({action:c,location:E.location,delta:1})}function _(S,k){c="REPLACE";let j=gw(E.location,S,k);n&&n(j,S),f=m();let N=wC(j,f),D=E.createHref(j);l.replaceState(N,"",D),s&&d&&d({action:c,location:E.location,delta:0})}function w(S){return OU(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(_C,p),d=S,()=>{i.removeEventListener(_C,p),d=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(S){return l.go(S)}};return E}function OU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kD(t,e,n="/"){return PU(t,e,n,!1)}function PU(t,e,n,r){let i=typeof e=="string"?Lc(e):e,s=Ds(i.pathname||"/",n);if(s==null)return null;let l=CD(t);RU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=$U(s);c=FU(l[d],f,r)}return c}function CD(t,e=[],n=[],r="",i=!1){let s=(l,c,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Wt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Ps([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),CD(l.children,e,b,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:BU(p,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of ND(l.path))s(l,c,!0,d)}),e}function ND(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=ND(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function RU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jU=/^:[\w-]+$/,MU=3,DU=2,zU=1,LU=10,VU=-2,EC=t=>t==="*";function BU(t,e){let n=t.split("/"),r=n.length;return n.some(EC)&&(r+=VU),e&&(r+=DU),n.filter(i=>!EC(i)).reduce((i,s)=>i+(jU.test(s)?MU:s===""?zU:LU),r)}function UU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FU(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=A0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=A0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Ps([s,p.pathname]),pathnameBase:YU(Ps([s,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(s=Ps([s,p.pathnameBase]))}return l}function A0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let w=c[b]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[b];return p&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function qU(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $U(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HU=t=>OD.test(t);function GU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lc(t):t,s;if(n)if(HU(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ui(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=SC(n.substring(1),"/"):s=SC(n,e)}else s=e;return{pathname:s,search:WU(r),hash:XU(i)}}function SC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eS(t){let e=KU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tS(t,e,n,r=!1){let i;typeof t=="string"?i=Lc(t):(i={...t},Wt(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}c=p>=0?e[p]:"/"}let d=GU(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ps=t=>t.join("/").replace(/\/\/+/g,"/"),YU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,QU=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ZU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function JU(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RD(t,e){let n=t;if(typeof n!="string"||!OD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(PD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Ds(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jD=["POST","PUT","PATCH","DELETE"];new Set(jD);var e7=["GET",...jD];new Set(e7);var Ld=T.createContext(null);Ld.displayName="DataRouter";var Yy=T.createContext(null);Yy.displayName="DataRouterState";var t7=T.createContext(!1),MD=T.createContext({isTransitioning:!1});MD.displayName="ViewTransition";var n7=T.createContext(new Map);n7.displayName="Fetchers";var r7=T.createContext(null);r7.displayName="Await";var hi=T.createContext(null);hi.displayName="Navigation";var xm=T.createContext(null);xm.displayName="Location";var fa=T.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var nS=T.createContext(null);nS.displayName="RouteError";var DD="REACT_ROUTER_ERROR",i7="REDIRECT",a7="ROUTE_ERROR_RESPONSE";function s7(t){if(t.startsWith(`${DD}:${i7}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function o7(t){if(t.startsWith(`${DD}:${a7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QU(e.status,e.statusText,e.data)}catch{}}function l7(t,{relative:e}={}){Wt(Vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(hi),{hash:i,pathname:s,search:l}=_m(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Ps([n,s])),r.createHref({pathname:c,search:l,hash:i})}function Vd(){return T.useContext(xm)!=null}function fl(){return Wt(Vd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(xm).location}var zD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LD(t){T.useContext(hi).static||T.useLayoutEffect(t)}function rS(){let{isDataRoute:t}=T.useContext(fa);return t?E7():c7()}function c7(){Wt(Vd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Ld),{basename:e,navigator:n}=T.useContext(hi),{matches:r}=T.useContext(fa),{pathname:i}=fl(),s=JSON.stringify(eS(r)),l=T.useRef(!1);return LD(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(ui(l.current,zD),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=tS(d,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ps([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}var u7=T.createContext(null);function d7(t){let e=T.useContext(fa).outlet;return T.useMemo(()=>e&&T.createElement(u7.Provider,{value:t},e),[e,t])}function _m(t,{relative:e}={}){let{matches:n}=T.useContext(fa),{pathname:r}=fl(),i=JSON.stringify(eS(n));return T.useMemo(()=>tS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function f7(t,e){return VD(t,e)}function VD(t,e,n,r,i){Wt(Vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(hi),{matches:l}=T.useContext(fa),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let j=p&&p.path||"";UD(f,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=fl(),_;if(e){let j=typeof e=="string"?Lc(e):e;Wt(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=b;let w=_.pathname||"/",E=w;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=kD(t,{pathname:E});ui(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ui(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=y7(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Ps([m,s.encodeLocation?s.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Ps([m,s.encodeLocation?s.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,i);return e&&k?T.createElement(xm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function h7(){let t=w7(),e=ZU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var m7=T.createElement(h7,null),BD=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=o7(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(fa.Provider,{value:this.props.routeContext},T.createElement(nS.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(p7,{error:t},e):e}};BD.contextType=t7;var f1=new WeakMap;function p7({children:t,error:e}){let{basename:n}=T.useContext(hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=s7(e.digest);if(r){let i=f1.get(e);if(i)throw i;let s=RD(r.location,n);if(PD&&!f1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw f1.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function g7({routeContext:t,match:e,children:n}){let r=T.useContext(Ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(fa.Provider,{value:t},n)}function y7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Wt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:_}=n,w=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JU(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,b)=>{let _,w=!1,E=null,S=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||m7,c&&(d<0&&b===0?(UD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===b&&(w=!0,S=p.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,b+1)),j=()=>{let N;return _?N=E:w?N=S:p.route.Component?N=T.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,T.createElement(g7,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?T.createElement(BD,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):j()},null)}function iS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v7(t){let e=T.useContext(Ld);return Wt(e,iS(t)),e}function b7(t){let e=T.useContext(Yy);return Wt(e,iS(t)),e}function x7(t){let e=T.useContext(fa);return Wt(e,iS(t)),e}function aS(t){let e=x7(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _7(){return aS("useRouteId")}function w7(){let t=T.useContext(nS),e=b7("useRouteError"),n=aS("useRouteError");return t!==void 0?t:e.errors?.[n]}function E7(){let{router:t}=v7("useNavigate"),e=aS("useNavigate"),n=T.useRef(!1);return LD(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{ui(n.current,zD),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var TC={};function UD(t,e,n){!e&&!TC[t]&&(TC[t]=!0,ui(!1,n))}T.memo(S7);function S7({routes:t,future:e,state:n,onError:r}){return VD(t,void 0,n,r,e)}function FD({to:t,replace:e,state:n,relative:r}){Wt(Vd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(hi);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(fa),{pathname:l}=fl(),c=rS(),d=tS(t,eS(s),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function qD(t){return d7(t.context)}function ei(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Wt(!Vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Lc(n));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:_="default"}=n,w=T.useMemo(()=>{let E=Ds(f,c);return E==null?null:{location:{pathname:E,search:m,hash:p,state:b,key:_},navigationType:r}},[c,f,m,p,b,_,r]);return ui(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(hi.Provider,{value:d},T.createElement(xm.Provider,{children:e,value:w}))}function A7({children:t,location:e}){return f7(yw(t),e)}function yw(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,yw(r.props.children,s));return}Wt(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=yw(r.props.children,s)),n.push(l)}),n}var r0="get",i0="application/x-www-form-urlencoded";function Wy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function I7(t){return Wy(t)&&t.tagName.toLowerCase()==="button"}function k7(t){return Wy(t)&&t.tagName.toLowerCase()==="form"}function C7(t){return Wy(t)&&t.tagName.toLowerCase()==="input"}function N7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O7(t,e){return t.button===0&&(!e||e==="_self")&&!N7(t)}var Ag=null;function P7(){if(Ag===null)try{new FormData(document.createElement("form"),0),Ag=!1}catch{Ag=!0}return Ag}var R7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h1(t){return t!=null&&!R7.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${i0}"`),null):t}function j7(t,e){let n,r,i,s,l;if(k7(t)){let c=t.getAttribute("action");r=c?Ds(c,e):null,n=t.getAttribute("method")||r0,i=h1(t.getAttribute("enctype"))||i0,s=new FormData(t)}else if(I7(t)||C7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ds(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||r0,i=h1(t.getAttribute("formenctype"))||h1(c.getAttribute("enctype"))||i0,s=new FormData(c,t),!P7()){let{name:f,type:m,value:p}=t;if(m==="image"){let b=f?`${f}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else f&&s.append(f,p)}}else{if(Wy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=r0,r=null,i=i0,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ds(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function D7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L7(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await D7(s,n);return l.links?l.links():[]}return[]}));return F7(r.flat(1).filter(z7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AC(t,e,n,r,i,s){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function V7(t,e,{includeHydrateFallback:n}={}){return B7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function B7(t){return[...new Set(t)]}function U7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(U7(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function $D(){let t=T.useContext(Ld);return sS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function q7(){let t=T.useContext(Yy);return sS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var oS=T.createContext(void 0);oS.displayName="FrameworkContext";function HD(){let t=T.useContext(oS);return sS(t,"You must render this element inside a <HydratedRouter> element"),t}function $7(t,e){let n=T.useContext(oS),[r,i]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,b=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:ah(c,_),onBlur:ah(d,w),onMouseEnter:ah(f,_),onMouseLeave:ah(m,w),onTouchStart:ah(p,_)}]:[!1,b,{}]}function ah(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H7({page:t,...e}){let{router:n}=$D(),r=T.useMemo(()=>kD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(K7,{page:t,matches:r,...e}):null}function G7(t){let{manifest:e,routeModules:n}=HD(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return L7(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function K7({page:t,matches:e,...n}){let r=fl(),{manifest:i,routeModules:s}=HD(),{basename:l}=$D(),{loaderData:c,matches:d}=q7(),f=T.useMemo(()=>AC(t,e,d,i,r,"data"),[t,e,d,i,r]),m=T.useMemo(()=>AC(t,e,d,i,r,"assets"),[t,e,d,i,r]),p=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(k=>{let j=i.routes[k.route.id];!j||!j.hasLoader||(!f.some(N=>N.route.id===k.route.id)&&k.route.id in c&&s[k.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let S=M7(t,l,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[l,c,r,i,f,e,t,s]),b=T.useMemo(()=>V7(m,i),[m,i]),_=G7(m);return T.createElement(T.Fragment,null,p.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function Y7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W7&&(window.__reactRouterVersion="7.11.0")}catch{}function X7({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=kU({window:r,v5Compat:!0}));let s=i.current,[l,c]=T.useState({action:s.action,location:s.location}),d=T.useCallback(f=>{n===!1?c(f):T.startTransition(()=>c(f))},[n]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(T7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var GD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KD=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,..._},w){let{basename:E,unstable_useTransitions:S}=T.useContext(hi),k=typeof f=="string"&&GD.test(f),j=RD(f,E);f=j.to;let N=l7(f,{relative:i}),[D,R,z]=$7(r,_),P=J7(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function O(q){e&&e(q),q.defaultPrevented||P(q)}let V=T.createElement("a",{..._,...z,href:j.absoluteURL||N,onClick:j.isExternal||s?e:O,ref:Y7(w,R),target:d,"data-discover":!k&&n==="render"?"true":void 0});return D&&!k?T.createElement(T.Fragment,null,V,T.createElement(H7,{page:N})):V});KD.displayName="Link";var YD=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:d,...f},m){let p=_m(l,{relative:f.relative}),b=fl(),_=T.useContext(Yy),{navigator:w,basename:E}=T.useContext(hi),S=_!=null&&iF(p)&&c===!0,k=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,j=b.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(j=j.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&E&&(N=Ds(N,E)||N);const D=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=j===k||!i&&j.startsWith(k)&&j.charAt(D)==="/",z=N!=null&&(N===k||!i&&N.startsWith(k)&&N.charAt(k.length)==="/"),P={isActive:R,isPending:z,isTransitioning:S},O=R?e:void 0,V;typeof r=="function"?V=r(P):V=[r,R?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(P):s;return T.createElement(KD,{...f,"aria-current":O,className:V,ref:m,style:q,to:l,viewTransition:c},typeof d=="function"?d(P):d)});YD.displayName="NavLink";var Q7=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=r0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,..._},w)=>{let{unstable_useTransitions:E}=T.useContext(hi),S=nF(),k=rF(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&GD.test(c),D=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,P=z?.getAttribute("formmethod")||l,O=()=>S(z||R.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});E&&n!==!1?T.startTransition(()=>O()):O()};return T.createElement("form",{ref:w,method:j,action:k,onSubmit:r?d:D,..._,"data-discover":!N&&t==="render"?"true":void 0})});Q7.displayName="Form";function Z7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WD(t){let e=T.useContext(Ld);return Wt(e,Z7(t)),e}function J7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=rS(),m=fl(),p=_m(t,{relative:s});return T.useCallback(b=>{if(O7(b,e)){b.preventDefault();let _=n!==void 0?n:Bh(m)===Bh(p),w=()=>f(t,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});d?T.startTransition(()=>w()):w()}},[m,f,p,n,r,e,t,i,s,l,c,d])}var eF=0,tF=()=>`__${String(++eF)}__`;function nF(){let{router:t}=WD("useSubmit"),{basename:e}=T.useContext(hi),n=_7(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=j7(s,e);if(l.navigate===!1){let b=l.fetcherKey||tF();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function rF(t,{relative:e}={}){let{basename:n}=T.useContext(hi),r=T.useContext(fa);Wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._m(t||".",{relative:e})},l=fl();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ps([n,s.pathname])),Bh(s)}function iF(t,{relative:e}={}){let n=T.useContext(MD);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WD("useViewTransitionState"),i=_m(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return A0(i.pathname,l)!=null||A0(i.pathname,s)!=null}var lS=TD();const aF=es(lS),XD=T.createContext(void 0),sF=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("vault_theme")||"dark"),[r,i]=T.useState(()=>localStorage.getItem("vault_theme_style")||"classic");T.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(e),localStorage.setItem("vault_theme",e)},[e]),T.useEffect(()=>{const c=window.document.documentElement;r==="classic"?c.removeAttribute("data-theme"):c.setAttribute("data-theme",r),localStorage.setItem("vault_theme_style",r)},[r]);const s=()=>{n(c=>c==="dark"?"light":"dark")},l=c=>{i(c)};return y.jsx(XD.Provider,{value:{theme:e,themeStyle:r,toggleTheme:s,setThemeStyle:l},children:t})},QD=()=>{const t=T.useContext(XD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},oF=()=>{};var IC={};const ZD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},JD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,_=f&63;d||(_=64,l||(b=64)),r.push(n[m],n[p],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new cF;const b=s<<2|c>>4;if(r.push(b),f!==64){const _=c<<4&240|f>>2;if(r.push(_),p!==64){const w=f<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uF=function(t){const e=ZD(t);return JD.encodeByteArray(e,!0)},ez=function(t){return uF(t).replace(/\./g,"")},tz=function(t){try{return JD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dF=()=>nz().__FIREBASE_DEFAULTS__,fF=()=>{if(typeof process>"u"||typeof IC>"u")return;const t=IC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tz(t[1]);return e&&JSON.parse(e)},Xy=()=>{try{return oF()||dF()||fF()||hF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mF=t=>Xy()?.emulatorHosts?.[t],rz=()=>Xy()?.config,iz=t=>Xy()?.[`_${t}`];class pF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Bd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function az(t){return(await fetch(t,{credentials:"include"})).ok}const Ih={};function gF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?t.emulator.push(e):t.prod.push(e);return t}function yF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kC=!1;function vF(t,e){if(typeof window>"u"||typeof document>"u"||!Bd(window.location.host)||Ih[t]===e||Ih[t]||kC)return;Ih[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=gF().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kC=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=yF(r),_=n("text"),w=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const N=b.element;c(N),m(S,E);const D=f();d(j,k),N.append(j,w,S,D),document.body.appendChild(N)}s?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function sz(){const t=Xy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _F(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EF(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oz(){return!sz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lz(){return!sz()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function cz(){try{return typeof indexedDB=="object"}catch{return!1}}function SF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const TF="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TF,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wm.prototype.create)}}class wm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?AF(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ws(i,c,r)}}function AF(t,e){return t.replace(IF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IF=/\{\$([^}]+)}/g;function kF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(CC(s)&&CC(l)){if(!_c(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CC(t){return t!==null&&typeof t=="object"}function Em(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function CF(t,e){const n=new NF(t,e);return n.subscribe.bind(n)}class NF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m1),i.error===void 0&&(i.error=m1),i.complete===void 0&&(i.complete=m1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m1(){}function Br(t){return t&&t._delegate?t._delegate:t}class wc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wl="[DEFAULT]";let PF=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jF(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RF(t){return t===Wl?void 0:t}function jF(t){return t.instantiationMode==="EAGER"}class MF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const DF={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},zF=st.INFO,LF={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cS{constructor(e){this.name=e,this._logLevel=zF,this._logHandler=VF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const BF=(t,e)=>e.some(n=>t instanceof n);let NC,OC;function UF(){return NC||(NC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FF(){return OC||(OC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uz=new WeakMap,vw=new WeakMap,dz=new WeakMap,p1=new WeakMap,uS=new WeakMap;function qF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Qo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&uz.set(n,t)}).catch(()=>{}),uS.set(e,t),e}function $F(t){if(vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});vw.set(t,e)}let bw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HF(t){bw=t(bw)}function GF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(g1(this),e,...n);return dz.set(r,e.sort?e.sort():[e]),Qo(r)}:FF().includes(t)?function(...e){return t.apply(g1(this),e),Qo(uz.get(this))}:function(...e){return Qo(t.apply(g1(this),e))}}function KF(t){return typeof t=="function"?GF(t):(t instanceof IDBTransaction&&$F(t),BF(t,UF())?new Proxy(t,bw):t)}function Qo(t){if(t instanceof IDBRequest)return qF(t);if(p1.has(t))return p1.get(t);const e=KF(t);return e!==t&&(p1.set(t,e),uS.set(e,t)),e}const g1=t=>uS.get(t);function YF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Qo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qo(l.result),d.oldVersion,d.newVersion,Qo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WF=["get","getKey","getAll","getAllKeys","count"],XF=["put","add","delete","clear"],y1=new Map;function PC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y1.get(e))return y1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return y1.set(e,s),s}HF(t=>({...t,get:(e,n,r)=>PC(e,n)||t.get(e,n,r),has:(e,n)=>!!PC(e,n)||t.has(e,n)}));class QF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZF(t){return t.getComponent()?.type==="VERSION"}const xw="@firebase/app",RC="0.14.6";const zs=new cS("@firebase/app"),JF="@firebase/app-compat",eq="@firebase/analytics-compat",tq="@firebase/analytics",nq="@firebase/app-check-compat",rq="@firebase/app-check",iq="@firebase/auth",aq="@firebase/auth-compat",sq="@firebase/database",oq="@firebase/data-connect",lq="@firebase/database-compat",cq="@firebase/functions",uq="@firebase/functions-compat",dq="@firebase/installations",fq="@firebase/installations-compat",hq="@firebase/messaging",mq="@firebase/messaging-compat",pq="@firebase/performance",gq="@firebase/performance-compat",yq="@firebase/remote-config",vq="@firebase/remote-config-compat",bq="@firebase/storage",xq="@firebase/storage-compat",_q="@firebase/firestore",wq="@firebase/ai",Eq="@firebase/firestore-compat",Sq="firebase",Tq="12.6.0";const _w="[DEFAULT]",Aq={[xw]:"fire-core",[JF]:"fire-core-compat",[tq]:"fire-analytics",[eq]:"fire-analytics-compat",[rq]:"fire-app-check",[nq]:"fire-app-check-compat",[iq]:"fire-auth",[aq]:"fire-auth-compat",[sq]:"fire-rtdb",[oq]:"fire-data-connect",[lq]:"fire-rtdb-compat",[cq]:"fire-fn",[uq]:"fire-fn-compat",[dq]:"fire-iid",[fq]:"fire-iid-compat",[hq]:"fire-fcm",[mq]:"fire-fcm-compat",[pq]:"fire-perf",[gq]:"fire-perf-compat",[yq]:"fire-rc",[vq]:"fire-rc-compat",[bq]:"fire-gcs",[xq]:"fire-gcs-compat",[_q]:"fire-fst",[Eq]:"fire-fst-compat",[wq]:"fire-vertex","fire-js":"fire-js",[Sq]:"fire-js-all"};const I0=new Map,Iq=new Map,ww=new Map;function jC(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sd(t){const e=t.name;if(ww.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;ww.set(e,t);for(const n of I0.values())jC(n,t);for(const n of Iq.values())jC(n,t);return!0}function dS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t==null?!1:t.settings!==void 0}const kq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new wm("app","Firebase",kq);class Cq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}const Ud=Tq;function fz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_w,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(n||(n=rz()),!n)throw Zo.create("no-options");const s=I0.get(i);if(s){if(_c(n,s.options)&&_c(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}const l=new MF(i);for(const d of ww.values())l.addComponent(d);const c=new Cq(n,r,l);return I0.set(i,c),c}function Nq(t=_w){const e=I0.get(t);if(!e&&t===_w&&rz())return fz();if(!e)throw Zo.create("no-app",{appName:t});return e}function Jo(t,e,n){let r=Aq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}sd(new wc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Oq="firebase-heartbeat-database",Pq=1,Uh="firebase-heartbeat-store";let v1=null;function hz(){return v1||(v1=YF(Oq,Pq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zo.create("idb-open",{originalErrorMessage:t.message})})),v1}async function Rq(t){try{const n=(await hz()).transaction(Uh),r=await n.objectStore(Uh).get(mz(t));return await n.done,r}catch(e){if(e instanceof Ws)zs.warn(e.message);else{const n=Zo.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function MC(t,e){try{const r=(await hz()).transaction(Uh,"readwrite");await r.objectStore(Uh).put(e,mz(t)),await r.done}catch(n){if(n instanceof Ws)zs.warn(n.message);else{const r=Zo.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function mz(t){return`${t.name}!${t.options.appId}`}const jq=1024,Mq=30;class Dq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Mq){const i=Vq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DC(),{heartbeatsToSend:n,unsentEntries:r}=zq(this._heartbeatsCache.heartbeats),i=ez(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zs.warn(e),""}}}function DC(){return new Date().toISOString().substring(0,10)}function zq(t,e=jq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),zC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cz()?SF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zC(t){return ez(JSON.stringify({version:2,heartbeats:t})).length}function Vq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Bq(t){sd(new wc("platform-logger",e=>new QF(e),"PRIVATE")),sd(new wc("heartbeat",e=>new Dq(e),"PRIVATE")),Jo(xw,RC,t),Jo(xw,RC,"esm2020"),Jo("fire-js","")}Bq("");function pz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uq=pz,gz=new wm("auth","Firebase",pz());const k0=new cS("@firebase/auth");function Fq(t,...e){k0.logLevel<=st.WARN&&k0.warn(`Auth (${Ud}): ${t}`,...e)}function a0(t,...e){k0.logLevel<=st.ERROR&&k0.error(`Auth (${Ud}): ${t}`,...e)}function Wa(t,...e){throw hS(t,...e)}function la(t,...e){return hS(t,...e)}function fS(t,e,n){const r={...Uq(),[e]:n};return new wm("auth","Firebase",r).create(e,{appName:t.name})}function dc(t){return fS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wa(t,"argument-error"),fS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gz.create(t,...e)}function Ge(t,e,...n){if(!t)throw hS(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw a0(e),new Error(e)}function Ls(t,e){t||Is(e)}function Ew(){return typeof self<"u"&&self.location?.href||""}function $q(){return LC()==="http:"||LC()==="https:"}function LC(){return typeof self<"u"&&self.location?.protocol||null}function Hq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($q()||_F()||"connection"in navigator)?navigator.onLine:!0}function Gq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Sm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=bF()||wF()}get(){return Hq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mS(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class yz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Yq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wq=new Sm(3e4,6e4);function pS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fd(t,e,n,r,i={}){return vz(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Em({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return xF()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Bd(t.emulatorConfig.host)&&(f.credentials="include"),yz.fetch()(await bz(t,t.config.apiHost,n,c),f)})}async function vz(t,e,n){t._canInitEmulator=!1;const r={...Kq,...e};try{const i=new Qq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ig(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ig(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ig(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ig(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fS(t,m,f);Wa(t,m)}}catch(i){if(i instanceof Ws)throw i;Wa(t,"network-request-failed",{message:String(i)})}}async function Xq(t,e,n,r,i={}){const s=await Fd(t,e,n,r,i);return"mfaPendingCredential"in s&&Wa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function bz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?mS(t.config,i):`${t.config.apiScheme}://${i}`;return Yq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class Qq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),Wq.get())})}}function Ig(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=la(t,e,r);return i.customData._tokenResponse=n,i}async function Zq(t,e){return Fd(t,"POST","/v1/accounts:delete",e)}async function C0(t,e){return Fd(t,"POST","/v1/accounts:lookup",e)}function kh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jq(t,e=!1){const n=Br(t),r=await n.getIdToken(e),i=gS(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:kh(b1(i.auth_time)),issuedAtTime:kh(b1(i.iat)),expirationTime:kh(b1(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function b1(t){return Number(t)*1e3}function gS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return a0("JWT malformed, contained fewer than 3 sections"),null;try{const i=tz(n);return i?JSON.parse(i):(a0("Failed to decode base64 JWT payload"),null)}catch(i){return a0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VC(t){const e=gS(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&e$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class t${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kh(this.lastLoginAt),this.creationTime=kh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function N0(t){const e=t.auth,n=await t.getIdToken(),r=await Fh(t,C0(e,{idToken:n}));Ge(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?xz(i.providerUserInfo):[],l=r$(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Sw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function n$(t){const e=Br(t);await N0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function i$(t,e){const n=await vz(t,{},async()=>{const r=Em({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await bz(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Bd(t.emulatorConfig.host)&&(d.credentials="include"),yz.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a$(t,e){return Fd(t,"POST","/v2/accounts:revokeToken",pS(t,e))}class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=VC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Zu;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return Is("not implemented")}}function Do(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new t$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jq(this,e)}reload(){return n$(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await N0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(dc(this.auth));const e=await this.getIdToken();return await Fh(this,Zq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:E}=n;Ge(p&&E,e,"internal-error");const S=Zu.fromJSON(this.name,E);Ge(typeof p=="string",e,"internal-error"),Do(r,e.name),Do(i,e.name),Ge(typeof b=="boolean",e,"internal-error"),Ge(typeof _=="boolean",e,"internal-error"),Do(s,e.name),Do(l,e.name),Do(c,e.name),Do(d,e.name),Do(f,e.name),Do(m,e.name);const k=new oa({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return w&&Array.isArray(w)&&(k.providerData=w.map(j=>({...j}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zu;i.updateFromServerResponse(n);const s=new oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await N0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xz(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,c=new Zu;c.updateFromIdToken(r);const d=new oa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}const BC=new Map;function ks(t){Ls(t instanceof Function,"Expected a class definition");let e=BC.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BC.set(t,e),e)}class _z{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_z.type="NONE";const UC=_z;function s0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=s0(this.userKey,i.apiKey,s),this.fullPersistenceKey=s0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await C0(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ju(ks(UC),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ks(UC);const l=s0(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const b=await C0(e,{idToken:m}).catch(()=>{});if(!b)break;p=await oa._fromGetAccountInfoResponse(e,b,m)}else p=oa._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Ju(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Ju(s,e,r))}}function FC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iz(e))return"Blackberry";if(kz(e))return"Webos";if(Ez(e))return"Safari";if((e.includes("chrome/")||Sz(e))&&!e.includes("edge/"))return"Chrome";if(Az(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wz(t=Cn()){return/firefox\//i.test(t)}function Ez(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sz(t=Cn()){return/crios\//i.test(t)}function Tz(t=Cn()){return/iemobile/i.test(t)}function Az(t=Cn()){return/android/i.test(t)}function Iz(t=Cn()){return/blackberry/i.test(t)}function kz(t=Cn()){return/webos/i.test(t)}function yS(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s$(t=Cn()){return yS(t)&&!!window.navigator?.standalone}function o$(){return EF()&&document.documentMode===10}function Cz(t=Cn()){return yS(t)||Az(t)||kz(t)||Iz(t)||/windows phone/i.test(t)||Tz(t)}function Nz(t,e=[]){let n;switch(t){case"Browser":n=FC(Cn());break;case"Worker":n=`${FC(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ud}/${r}`}class l${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function c$(t,e={}){return Fd(t,"GET","/v2/passwordPolicy",pS(t,e))}const u$=6;class d${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class f${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qC(this),this.idTokenSubscription=new qC(this),this.beforeStateQueue=new l$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await C0(this,{idToken:e}),r=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ra(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await N0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(dc(this));const n=e?Br(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(dc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(dc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c$(this),n=new d$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Fq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qy(t){return Br(t)}class qC{constructor(e){this.auth=e,this.observer=null,this.addObserver=CF(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h$(t){vS=t}function m$(t){return vS.loadJS(t)}function p$(){return vS.gapiScript}function g$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function y$(t,e){const n=dS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_c(s,e??{}))return i;Wa(i,"already-initialized")}return n.initialize({options:e})}function v$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function b$(t,e,n){const r=Qy(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Oz(e),{host:l,port:c}=x$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(_c(f,r.config.emulator)&&_c(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Bd(l)?(az(`${s}//${l}${d}`),vF("Auth",!0)):_$()}function Oz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x$(t){const e=Oz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$C(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:$C(l)}}}function $C(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Pz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function ed(t,e){return Xq(t,"POST","/v1/accounts:signInWithIdp",pS(t,e))}const w$="http://localhost";class Ec extends Pz{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Ec(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:w$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Em(n)}return e}}class bS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tm extends bS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $o extends Tm{constructor(){super("facebook.com")}static credential(e){return Ec._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.FACEBOOK_SIGN_IN_METHOD="facebook.com";$o.PROVIDER_ID="facebook.com";class Ss extends Tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ec._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";class Ho extends Tm{constructor(){super("github.com")}static credential(e){return Ec._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";class Go extends Tm{constructor(){super("twitter.com")}static credential(e,n){return Ec._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";class od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oa._fromIdTokenResponse(e,r,i),l=HC(r);return new od({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HC(r);return new od({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class O0 extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,O0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new O0(e,n,r,i)}}function Rz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?O0._fromErrorAndOperation(t,s,e,r):s})}async function E$(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return od._forOperation(t,"link",r)}async function S$(t,e,n=!1){const{auth:r}=t;if(ra(r.app))return Promise.reject(dc(r));const i="reauthenticate";try{const s=await Fh(t,Rz(r,i,e,t),n);Ge(s.idToken,r,"internal-error");const l=gS(s.idToken);Ge(l,r,"internal-error");const{sub:c}=l;return Ge(t.uid===c,r,"user-mismatch"),od._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wa(r,"user-mismatch"),s}}async function T$(t,e,n=!1){if(ra(t.app))return Promise.reject(dc(t));const r="signIn",i=await Rz(t,r,e),s=await od._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function A$(t,e){return Br(t).setPersistence(e)}function I$(t,e,n,r){return Br(t).onIdTokenChanged(e,n,r)}function k$(t,e,n){return Br(t).beforeAuthStateChanged(e,n)}function C$(t,e,n,r){return Br(t).onAuthStateChanged(e,n,r)}function N$(t){return Br(t).signOut()}const P0="__sak";class jz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(P0,"1"),this.storage.removeItem(P0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const O$=1e3,P$=10;class Mz extends jz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);o$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mz.type="LOCAL";const Dz=Mz;class zz extends jz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zz.type="SESSION";const Lz=zz;function R$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await R$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zy.receivers=[];function xS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class j${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=xS("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function $a(){return window}function M$(t){$a().location.href=t}function Vz(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function D$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z$(){return navigator?.serviceWorker?.controller||null}function L$(){return Vz()?self:null}const Bz="firebaseLocalStorageDb",V$=1,R0="firebaseLocalStorage",Uz="fbase_key";class Am{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jy(t,e){return t.transaction([R0],e?"readwrite":"readonly").objectStore(R0)}function B$(){const t=indexedDB.deleteDatabase(Bz);return new Am(t).toPromise()}function Tw(){const t=indexedDB.open(Bz,V$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(R0,{keyPath:Uz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(R0)?e(r):(r.close(),await B$(),e(await Tw()))})})}async function GC(t,e,n){const r=Jy(t,!0).put({[Uz]:e,value:n});return new Am(r).toPromise()}async function U$(t,e){const n=Jy(t,!1).get(e),r=await new Am(n).toPromise();return r===void 0?null:r.value}function KC(t,e){const n=Jy(t,!0).delete(e);return new Am(n).toPromise()}const F$=800,q$=3;class Fz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zy._getInstance(L$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D$(),!this.activeServiceWorker)return;this.sender=new j$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tw();return await GC(e,P0,"1"),await KC(e,P0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jy(i,!1).getAll();return new Am(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fz.type="LOCAL";const $$=Fz;new Sm(3e4,6e4);function qz(t,e){return e?ks(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _S extends Pz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H$(t){return T$(t.auth,new _S(t),t.bypassAuthState)}function G$(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),S$(n,new _S(t),t.bypassAuthState)}async function K$(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),E$(n,new _S(t),t.bypassAuthState)}class $z{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H$;case"linkViaPopup":case"linkViaRedirect":return K$;case"reauthViaPopup":case"reauthViaRedirect":return G$;default:Wa(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y$=new Sm(2e3,1e4);async function W$(t,e,n){if(ra(t.app))return Promise.reject(la(t,"operation-not-supported-in-this-environment"));const r=Qy(t);qq(t,e,bS);const i=qz(r,n);return new sc(r,"signInViaPopup",e,i).executeNotNull()}class sc extends $z{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=xS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y$.get())};e()}}sc.currentPopupAction=null;const X$="pendingRedirect",o0=new Map;class Q$ extends $z{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=o0.get(this.auth._key());if(!e){try{const r=await Z$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}o0.set(this.auth._key(),e)}return this.bypassAuthState||o0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z$(t,e){const n=tH(e),r=eH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J$(t,e){o0.set(t._key(),e)}function eH(t){return ks(t._redirectPersistence)}function tH(t){return s0(X$,t.config.apiKey,t.name)}async function nH(t,e,n=!1){if(ra(t.app))return Promise.reject(dc(t));const r=Qy(t),i=qz(r,e),l=await new Q$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const rH=600*1e3;class iH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(la(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(YC(e))}saveEventToCache(e){this.cachedEventUids.add(YC(e)),this.lastProcessedEventTime=Date.now()}}function YC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hz(t);default:return!1}}async function sH(t,e={}){return Fd(t,"GET","/v1/projects",e)}const oH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lH=/^https?/;async function cH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sH(t);for(const n of e)try{if(uH(n))return}catch{}Wa(t,"unauthorized-domain")}function uH(t){const e=Ew(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lH.test(n))return!1;if(oH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dH=new Sm(3e4,6e4);function WC(){const t=$a().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fH(t){return new Promise((e,n)=>{function r(){WC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WC(),n(la(t,"network-request-failed"))},timeout:dH.get()})}if($a().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($a().gapi?.load)r();else{const i=g$("iframefcb");return $a()[i]=()=>{gapi.load?r():n(la(t,"network-request-failed"))},m$(`${p$()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw l0=null,e})}let l0=null;function hH(t){return l0=l0||fH(t),l0}const mH=new Sm(5e3,15e3),pH="__/auth/iframe",gH="emulator/auth/iframe",yH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mS(e,gH):`https://${t.config.authDomain}/${pH}`,r={apiKey:e.apiKey,appName:t.name,v:Ud},i=vH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Em(r).slice(1)}`}async function xH(t){const e=await hH(t),n=$a().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:bH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=la(t,"network-request-failed"),c=$a().setTimeout(()=>{s(l)},mH.get());function d(){$a().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const _H={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wH=500,EH=600,SH="_blank",TH="http://localhost";class XC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AH(t,e,n,r=wH,i=EH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={..._H,width:r.toString(),height:i.toString(),top:s,left:l},f=Cn().toLowerCase();n&&(c=Sz(f)?SH:n),wz(f)&&(e=e||TH,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[_,w])=>`${b}${_}=${w},`,"");if(s$(f)&&c!=="_self")return IH(e||"",c),new XC(null);const p=window.open(e||"",c,m);Ge(p,t,"popup-blocked");try{p.focus()}catch{}return new XC(p)}function IH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const kH="__/auth/handler",CH="emulator/auth/handler",NH=encodeURIComponent("fac");async function QC(t,e,n,r,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ud,eventId:i};if(e instanceof bS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",kF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Tm){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${NH}=${encodeURIComponent(d)}`:"";return`${OH(t)}?${Em(c).slice(1)}${f}`}function OH({config:t}){return t.emulator?mS(t,CH):`https://${t.authDomain}/${kH}`}const x1="webStorageSupport";class PH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lz,this._completeRedirectFn=nH,this._overrideRedirectResult=J$}async _openPopup(e,n,r,i){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await QC(e,n,r,Ew(),i);return AH(e,s,xS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await QC(e,n,r,Ew(),i);return M$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xH(e),r=new iH(e);return n.register("authEvent",i=>(Ge(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x1,{type:x1},i=>{const s=i?.[0]?.[x1];s!==void 0&&n(!!s),Wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cz()||Ez()||yS()}}const RH=PH;var ZC="@firebase/auth",JC="1.12.0";class jH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DH(t){sd(new wc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nz(t)},f=new f$(r,i,s,d);return v$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sd(new wc("auth-internal",e=>{const n=Qy(e.getProvider("auth").getImmediate());return(r=>new jH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jo(ZC,JC,MH(t)),Jo(ZC,JC,"esm2020")}const zH=300,LH=iz("authIdTokenMaxAge")||zH;let eN=null;const VH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LH)return;const i=n?.token;eN!==i&&(eN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BH(t=Nq()){const e=dS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y$(t,{popupRedirectResolver:RH,persistence:[$$,Dz,Lz]}),r=iz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=VH(s.toString());k$(n,l,()=>l(n.currentUser)),I$(n,c=>l(c))}}const i=mF("auth");return i&&b$(n,`http://${i}`),n}function UH(){return document.getElementsByTagName("head")?.[0]??document}h$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DH("Browser");var FH="firebase",qH="12.7.0";Jo(FH,qH,"app");var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var el,Gz;(function(){var t;function e(P,O){function V(){}V.prototype=O.prototype,P.F=O.prototype,P.prototype=new V,P.prototype.constructor=P,P.D=function(q,L,F){for(var U=Array(arguments.length-2),be=2;be<arguments.length;be++)U[be-2]=arguments[be];return O.prototype[L].apply(q,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,V){V||(V=0);const q=Array(16);if(typeof O=="string")for(var L=0;L<16;++L)q[L]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(L=0;L<16;++L)q[L]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=P.g[0],V=P.g[1],L=P.g[2];let F=P.g[3],U;U=O+(F^V&(L^F))+q[0]+3614090360&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[2]+606105819&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[3]+3250441966&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[4]+4118548399&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[6]+2821735955&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[7]+4249261313&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[8]+1770035416&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[10]+4294925233&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[11]+2304563134&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(F^V&(L^F))+q[12]+1804603682&4294967295,O=V+(U<<7&4294967295|U>>>25),U=F+(L^O&(V^L))+q[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=L+(V^F&(O^V))+q[14]+2792965006&4294967295,L=F+(U<<17&4294967295|U>>>15),U=V+(O^L&(F^O))+q[15]+1236535329&4294967295,V=L+(U<<22&4294967295|U>>>10),U=O+(L^F&(V^L))+q[1]+4129170786&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[11]+643717713&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[0]+3921069994&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[5]+3593408605&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[15]+3634488961&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[4]+3889429448&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[9]+568446438&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[3]+4107603335&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[8]+1163531501&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(L^F&(V^L))+q[13]+2850285829&4294967295,O=V+(U<<5&4294967295|U>>>27),U=F+(V^L&(O^V))+q[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=L+(O^V&(F^O))+q[7]+1735328473&4294967295,L=F+(U<<14&4294967295|U>>>18),U=V+(F^O&(L^F))+q[12]+2368359562&4294967295,V=L+(U<<20&4294967295|U>>>12),U=O+(V^L^F)+q[5]+4294588738&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[11]+1839030562&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[14]+4259657740&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[1]+2763975236&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[7]+4139469664&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[10]+3200236656&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[13]+681279174&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[3]+3572445317&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[6]+76029189&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(V^L^F)+q[9]+3654602809&4294967295,O=V+(U<<4&4294967295|U>>>28),U=F+(O^V^L)+q[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=L+(F^O^V)+q[15]+530742520&4294967295,L=F+(U<<16&4294967295|U>>>16),U=V+(L^F^O)+q[2]+3299628645&4294967295,V=L+(U<<23&4294967295|U>>>9),U=O+(L^(V|~F))+q[0]+4096336452&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[14]+2878612391&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[5]+4237533241&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[12]+1700485571&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[10]+4293915773&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[1]+2240044497&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[8]+1873313359&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[6]+2734768916&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[13]+1309151649&4294967295,V=L+(U<<21&4294967295|U>>>11),U=O+(L^(V|~F))+q[4]+4149444226&4294967295,O=V+(U<<6&4294967295|U>>>26),U=F+(V^(O|~L))+q[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=L+(O^(F|~V))+q[2]+718787259&4294967295,L=F+(U<<15&4294967295|U>>>17),U=V+(F^(L|~O))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,O){O===void 0&&(O=P.length);const V=O-this.blockSize,q=this.C;let L=this.h,F=0;for(;F<O;){if(L==0)for(;F<=V;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<O;)if(q[L++]=P.charCodeAt(F++),L==this.blockSize){i(this,q),L=0;break}}else for(;F<O;)if(q[L++]=P[F++],L==this.blockSize){i(this,q),L=0;break}}this.h=L,this.o+=O},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var V=P.length-8;V<P.length;++V)P[V]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,V=0;V<4;++V)for(let q=0;q<32;q+=8)P[O++]=this.g[V]>>>q&255;return P};function s(P,O){var V=c;return Object.prototype.hasOwnProperty.call(V,P)?V[P]:V[P]=O(P)}function l(P,O){this.h=O;const V=[];let q=!0;for(let L=P.length-1;L>=0;L--){const F=P[L]|0;q&&F==O||(V[L]=F,q=!1)}this.g=V}var c={};function d(P){return-128<=P&&P<128?s(P,function(O){return new l([O|0],O<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(f(-P));const O=[];let V=1;for(let q=0;P>=V;q++)O[q]=P/V|0,V*=4294967296;return new l(O,0)}function m(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return S(m(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let q=p;for(let F=0;F<P.length;F+=8){var L=Math.min(8,P.length-F);const U=parseInt(P.substring(F,F+L),O);L<8?(L=f(Math.pow(O,L)),q=q.j(L).add(f(U))):(q=q.j(V),q=q.add(f(U)))}return q}var p=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let P=0,O=1;for(let V=0;V<this.g.length;V++){const q=this.i(V);P+=(q>=0?q:4294967296+q)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(E(this))return"-"+S(this).toString(P);const O=f(Math.pow(P,6));var V=this;let q="";for(;;){const L=D(V,O).g;V=k(V,L.j(O));let F=((V.g.length>0?V.g[0]:V.h)>>>0).toString(P);if(V=L,w(V))return F+q;for(;F.length<6;)F="0"+F;q=F+q}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=k(this,P),E(P)?-1:w(P)?0:1};function S(P){const O=P.g.length,V=[];for(let q=0;q<O;q++)V[q]=~P.g[q];return new l(V,~P.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),V=[];let q=0;for(let L=0;L<=O;L++){let F=q+(this.i(L)&65535)+(P.i(L)&65535),U=(F>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);q=U>>>16,F&=65535,U&=65535,V[L]=U<<16|F}return new l(V,V[V.length-1]&-2147483648?-1:0)};function k(P,O){return P.add(S(O))}t.j=function(P){if(w(this)||w(P))return p;if(E(this))return E(P)?S(this).j(S(P)):S(S(this).j(P));if(E(P))return S(this.j(S(P)));if(this.l(_)<0&&P.l(_)<0)return f(this.m()*P.m());const O=this.g.length+P.g.length,V=[];for(var q=0;q<2*O;q++)V[q]=0;for(q=0;q<this.g.length;q++)for(let L=0;L<P.g.length;L++){const F=this.i(q)>>>16,U=this.i(q)&65535,be=P.i(L)>>>16,Ee=P.i(L)&65535;V[2*q+2*L]+=U*Ee,j(V,2*q+2*L),V[2*q+2*L+1]+=F*Ee,j(V,2*q+2*L+1),V[2*q+2*L+1]+=U*be,j(V,2*q+2*L+1),V[2*q+2*L+2]+=F*be,j(V,2*q+2*L+2)}for(P=0;P<O;P++)V[P]=V[2*P+1]<<16|V[2*P];for(P=O;P<2*O;P++)V[P]=0;return new l(V,0)};function j(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function N(P,O){this.g=P,this.h=O}function D(P,O){if(w(O))throw Error("division by zero");if(w(P))return new N(p,p);if(E(P))return O=D(S(P),O),new N(S(O.g),S(O.h));if(E(O))return O=D(P,S(O)),new N(S(O.g),O.h);if(P.g.length>30){if(E(P)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var V=b,q=O;q.l(P)<=0;)V=R(V),q=R(q);var L=z(V,1),F=z(q,1);for(q=z(q,2),V=z(V,2);!w(q);){var U=F.add(q);U.l(P)<=0&&(L=L.add(V),F=U),q=z(q,1),V=z(V,1)}return O=k(P,L.j(O)),new N(L,O)}for(L=p;P.l(O)>=0;){for(V=Math.max(1,Math.floor(P.m()/O.m())),q=Math.ceil(Math.log(V)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),F=f(V),U=F.j(O);E(U)||U.l(P)>0;)V-=q,F=f(V),U=F.j(O);w(F)&&(F=b),L=L.add(F),P=k(P,U)}return new N(L,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)&P.i(q);return new l(V,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)|P.i(q);return new l(V,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),V=[];for(let q=0;q<O;q++)V[q]=this.i(q)^P.i(q);return new l(V,this.h^P.h)};function R(P){const O=P.g.length+1,V=[];for(let q=0;q<O;q++)V[q]=P.i(q)<<1|P.i(q-1)>>>31;return new l(V,P.h)}function z(P,O){const V=O>>5;O%=32;const q=P.g.length-V,L=[];for(let F=0;F<q;F++)L[F]=O>0?P.i(F+V)>>>O|P.i(F+V+1)<<32-O:P.i(F+V);return new l(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gz=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,el=l}).apply(typeof tN<"u"?tN:typeof self<"u"?self:typeof window<"u"?window:{});var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kz,xh,Yz,c0,Aw,Wz,Xz,Qz;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof kg=="object"&&kg];for(var A=0;A<g.length;++A){var C=g[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var C=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var Z=g[B];if(!(Z in C))break e;C=C[Z]}g=g[g.length-1],B=C[g],A=A(B),A!=B&&A!=null&&e(C,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var C=[],B;for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&C.push([B,A[B]]);return C}});var s=s||{},l=this||self;function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function d(g,A,C){return g.call.apply(g.bind,arguments)}function f(g,A,C){return f=d,f.apply(null,arguments)}function m(g,A){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,A){function C(){}C.prototype=A.prototype,g.Z=A.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(B,Z,ae){for(var ve=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ve[Qe-2]=arguments[Qe];return A.prototype[Z].apply(B,ve)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const A=g.length;if(A>0){const C=Array(A);for(let B=0;B<A;B++)C[B]=g[B];return C}return[]}function w(g,A){for(let B=1;B<arguments.length;B++){const Z=arguments[B];var C=typeof Z;if(C=C!="object"?C:Z?Array.isArray(Z)?"array":C:"null",C=="array"||C=="object"&&typeof Z.length=="number"){C=g.length||0;const ae=Z.length||0;g.length=C+ae;for(let ve=0;ve<ae;ve++)g[C+ve]=Z[ve]}else g.push(Z)}}class E{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function S(g){l.setTimeout(()=>{throw g},0)}function k(){var g=P;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,C){const B=N.get();B.set(A,C),this.h?this.h.next=B:this.g=B,this.h=B}}var N=new E(()=>new D,g=>g.reset());class D{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let R,z=!1,P=new j,O=()=>{const g=Promise.resolve(void 0);R=()=>{g.then(V)}};function V(){for(var g;g=k();){try{g.h.call(g.g)}catch(C){S(C)}var A=N;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}z=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};l.addEventListener("test",C,A),l.removeEventListener("test",C,A)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function be(g,A){L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}p(be,L),be.prototype.init=function(g,A){const C=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(C=="mouseover"?A=g.fromElement:C=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(g,A,C,B,Z){this.listener=g,this.proxy=null,this.src=A,this.type=C,this.capture=!!B,this.ha=Z,this.key=++Y,this.da=this.fa=!1}function $(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function oe(g,A,C){for(const B in g)A.call(C,g[B],B,g)}function _e(g,A){for(const C in g)A.call(void 0,g[C],C,g)}function H(g){const A={};for(const C in g)A[C]=g[C];return A}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(g,A){let C,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(C in B)g[C]=B[C];for(let ae=0;ae<ne.length;ae++)C=ne[ae],Object.prototype.hasOwnProperty.call(B,C)&&(g[C]=B[C])}}function ue(g){this.src=g,this.g={},this.h=0}ue.prototype.add=function(g,A,C,B,Z){const ae=g.toString();g=this.g[ae],g||(g=this.g[ae]=[],this.h++);const ve=ke(g,A,B,Z);return ve>-1?(A=g[ve],C||(A.fa=!1)):(A=new re(A,this.src,ae,!!B,Z),A.fa=C,g.push(A)),A};function ge(g,A){const C=A.type;if(C in g.g){var B=g.g[C],Z=Array.prototype.indexOf.call(B,A,void 0),ae;(ae=Z>=0)&&Array.prototype.splice.call(B,Z,1),ae&&($(A),g.g[C].length==0&&(delete g.g[C],g.h--))}}function ke(g,A,C,B){for(let Z=0;Z<g.length;++Z){const ae=g[Z];if(!ae.da&&ae.listener==A&&ae.capture==!!C&&ae.ha==B)return Z}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Le={};function X(g,A,C,B,Z){if(Array.isArray(A)){for(let ae=0;ae<A.length;ae++)X(g,A[ae],C,B,Z);return null}return C=ye(C),g&&g[Ee]?g.J(A,C,c(B)?!!B.capture:!1,Z):Ie(g,A,C,!1,B,Z)}function Ie(g,A,C,B,Z,ae){if(!A)throw Error("Invalid event type");const ve=c(Z)?!!Z.capture:!!Z;let Qe=Ot(g);if(Qe||(g[we]=Qe=new ue(g)),C=Qe.add(A,C,B,ve,ae),C.proxy)return C;if(B=Ve(),C.proxy=B,B.src=g,B.listener=C,g.addEventListener)F||(Z=ve),Z===void 0&&(Z=!1),g.addEventListener(A.toString(),B,Z);else if(g.attachEvent)g.attachEvent(Xe(A.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ve(){function g(C){return A.call(g.src,g.listener,C)}const A=Xt;return g}function he(g,A,C,B,Z){if(Array.isArray(A))for(var ae=0;ae<A.length;ae++)he(g,A[ae],C,B,Z);else B=c(B)?!!B.capture:!!B,C=ye(C),g&&g[Ee]?(g=g.i,ae=String(A).toString(),ae in g.g&&(A=g.g[ae],C=ke(A,C,B,Z),C>-1&&($(A[C]),Array.prototype.splice.call(A,C,1),A.length==0&&(delete g.g[ae],g.h--)))):g&&(g=Ot(g))&&(A=g.g[A.toString()],g=-1,A&&(g=ke(A,C,B,Z)),(C=g>-1?A[g]:null)&&zt(C))}function zt(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[Ee])ge(A.i,g);else{var C=g.type,B=g.proxy;A.removeEventListener?A.removeEventListener(C,B,g.capture):A.detachEvent?A.detachEvent(Xe(C),B):A.addListener&&A.removeListener&&A.removeListener(B),(C=Ot(A))?(ge(C,g),C.h==0&&(C.src=null,A[we]=null)):$(g)}}}function Xe(g){return g in Le?Le[g]:Le[g]="on"+g}function Xt(g,A){if(g.da)g=!0;else{A=new be(A,this);const C=g.listener,B=g.ha||g.src;g.fa&&zt(g),g=C.call(B,A)}return g}function Ot(g){return g=g[we],g instanceof ue?g:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function ye(g){return typeof g=="function"?g:(g[an]||(g[an]=function(A){return g.handleEvent(A)}),g[an])}function Ke(){q.call(this),this.i=new ue(this),this.M=this,this.G=null}p(Ke,q),Ke.prototype[Ee]=!0,Ke.prototype.removeEventListener=function(g,A,C,B){he(this,g,A,C,B)};function jt(g,A){var C,B=g.G;if(B)for(C=[];B;B=B.G)C.push(B);if(g=g.M,B=A.type||A,typeof A=="string")A=new L(A,g);else if(A instanceof L)A.target=A.target||g;else{var Z=A;A=new L(B,g),ie(A,Z)}Z=!0;let ae,ve;if(C)for(ve=C.length-1;ve>=0;ve--)ae=A.g=C[ve],Z=Ui(ae,B,!0,A)&&Z;if(ae=A.g=g,Z=Ui(ae,B,!0,A)&&Z,Z=Ui(ae,B,!1,A)&&Z,C)for(ve=0;ve<C.length;ve++)ae=A.g=C[ve],Z=Ui(ae,B,!1,A)&&Z}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const C=g.g[A];for(let B=0;B<C.length;B++)$(C[B]);delete g.g[A],g.h--}}this.G=null},Ke.prototype.J=function(g,A,C,B){return this.i.add(String(g),A,!1,C,B)},Ke.prototype.K=function(g,A,C,B){return this.i.add(String(g),A,!0,C,B)};function Ui(g,A,C,B){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let Z=!0;for(let ae=0;ae<A.length;++ae){const ve=A[ae];if(ve&&!ve.da&&ve.capture==C){const Qe=ve.listener,sn=ve.ha||ve.src;ve.fa&&ge(g.i,ve),Z=Qe.call(sn,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function Kn(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function Fi(g){g.g=Kn(()=>{g.g=null,g.i&&(g.i=!1,Fi(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Yn extends q{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(g){q.call(this),this.h=g,this.g={}}p(ts,q);var pa=[];function xl(g){oe(g.g,function(A,C){this.g.hasOwnProperty(C)&&zt(A)},g),g.g={}}ts.prototype.N=function(){ts.Z.N.call(this),xl(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=l.JSON.stringify,_l=l.JSON.parse,$i=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function wl(){}function Hi(){}var Fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){L.call(this,"d")}p(Tn,L);function vr(){L.call(this,"c")}p(vr,L);var Ft={},Gc=null;function ga(){return Gc=Gc||new Ke}Ft.Ia="serverreachability";function qr(g){L.call(this,Ft.Ia,g)}p(qr,L);function pi(g){const A=ga();jt(A,new qr(A))}Ft.STAT_EVENT="statevent";function ns(g,A){L.call(this,Ft.STAT_EVENT,g),this.stat=A}p(ns,L);function Qt(g){const A=ga();jt(A,new ns(A,g))}Ft.Ja="timingevent";function $r(g,A){L.call(this,Ft.Ja,g),this.size=A}p($r,L);function qe(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function hn(g,A,C,B,Z,ae){g.info(function(){if(g.g)if(ae){var ve="",Qe=ae.split("&");for(let ht=0;ht<Qe.length;ht++){var sn=Qe[ht].split("=");if(sn.length>1){const qt=sn[0];sn=sn[1];const xi=qt.split("_");ve=xi.length>=2&&xi[1]=="type"?ve+(qt+"="+sn+"&"):ve+(qt+"=redacted&")}}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+A+`
`+C+`
`+ve})}function Mn(g,A,C,B,Z,ae,ve){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+A+`
`+C+`
`+ae+" "+ve})}function br(g,A,C,B){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+ur(g,C)+(B?" "+B:"")})}function Lt(g,A){g.info(function(){return"TIMEOUT: "+A})}pt.prototype.info=function(){};function ur(g,A){if(!g.g)return A;if(!A)return null;try{const ae=JSON.parse(A);if(ae){for(g=0;g<ae.length;g++)if(Array.isArray(ae[g])){var C=ae[g];if(!(C.length<2)){var B=C[1];if(Array.isArray(B)&&!(B.length<1)){var Z=B[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ve=1;ve<B.length;ve++)B[ve]=""}}}}return qi(ae)}catch{return A}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xn;function ya(){}p(ya,wl),ya.prototype.g=function(){return new XMLHttpRequest},Xn=new ya;function Qn(g){return encodeURIComponent(String(g))}function af(g){var A=1;g=g.split(":");const C=[];for(;A>0&&g.length;)C.push(g.shift()),A--;return g.length&&C.push(g.join(":")),C}function Gi(g,A,C,B){this.j=g,this.i=A,this.l=C,this.S=B||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var mn={},Dn={};function va(g,A,C){g.M=1,g.A=El(gn(A)),g.u=C,g.R=!0,Kc(g,null)}function Kc(g,A){g.F=Date.now(),ba(g),g.B=gn(g.A);var C=g.B,B=g.S;Array.isArray(B)||(B=[String(B)]),Qc(C.i,"t",B),g.C=0,C=g.j.L,g.h=new Ki,g.g=bp(g.j,C?A:null,!g.u),g.P>0&&(g.O=new Yn(f(g.Y,g,g.g),g.P)),A=g.V,C=g.g,B=g.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(pa[0]=Z.toString()),Z=pa);for(let ae=0;ae<Z.length;ae++){const ve=X(C,Z[ae],B||A.handleEvent,!1,A.h||A);if(!ve)break;A.g[ve.key]=ve}A=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),pi(),hn(g.i,g.v,g.B,g.l,g.S,g.u)}Gi.prototype.ba=function(g){g=g.target;const A=this.O;A&&Xi(g)==3?A.j():this.Y(g)},Gi.prototype.Y=function(g){try{if(g==this.g)e:{const Qe=Xi(this.g),sn=this.g.ya(),ht=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Zn(this.g)))){this.K||Qe!=4||sn==7||(sn==8||ht<=0?pi(3):pi(2)),xa(this);var A=this.g.ca();this.X=A;var C=db(this);if(this.o=A==200,Mn(this.i,this.v,this.B,this.l,this.S,Qe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var B,Z=this.g;if((B=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(B)){var ae=B;break t}}ae=null}if(g=ae)br(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_a(this,g);else{this.o=!1,this.m=3,Qt(12),Hr(this),yi(this);break e}}if(this.R){g=!0;let qt;for(;!this.K&&this.C<C.length;)if(qt=sp(this,C),qt==Dn){Qe==4&&(this.m=4,Qt(14),g=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==mn){this.m=4,Qt(15),br(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else br(this.i,this.l,qt,null),_a(this,qt);if(ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||C.length!=0||this.h.h||(this.m=1,Qt(16),g=!1),this.o=this.o&&g,!g)br(this.i,this.l,C,"[Invalid Chunked Response]"),Hr(this),yi(this);else if(C.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),xf(ve),ve.P=!0,Qt(11))}}else br(this.i,this.l,C,null),_a(this,C);Qe==4&&Hr(this),this.o&&!this.K&&(Qe==4?pp(this.j,this):(this.o=!1,ba(this)))}else is(this.g),A==400&&C.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Hr(this),yi(this)}}}catch{}};function db(g){if(!ap(g))return g.g.la();const A=Zn(g.g);if(A==="")return"";let C="";const B=A.length,Z=Xi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Hr(g),yi(g),"";g.h.i=new l.TextDecoder}for(let ae=0;ae<B;ae++)g.h.h=!0,C+=g.h.i.decode(A[ae],{stream:!(Z&&ae==B-1)});return A.length=0,g.h.g+=C,g.C=0,g.h.g}function ap(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function sp(g,A){var C=g.C,B=A.indexOf(`
`,C);return B==-1?Dn:(C=Number(A.substring(C,B)),isNaN(C)?mn:(B+=1,B+C>A.length?Dn:(A=A.slice(B,B+C),g.C=B+C,A)))}Gi.prototype.cancel=function(){this.K=!0,Hr(this)};function ba(g){g.T=Date.now()+g.H,Yc(g,g.H)}function Yc(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=qe(f(g.aa,g),A)}function xa(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Gi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Lt(this.i,this.B),this.M!=2&&(pi(),Qt(17)),Hr(this),this.m=2,yi(this)):Yc(this,this.T-g)};function yi(g){g.j.I==0||g.K||pp(g.j,g)}function Hr(g){xa(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,xl(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function _a(g,A){try{var C=g.j;if(C.I!=0&&(C.g==g||Ea(C.h,g))){if(!g.L&&Ea(C.h,g)&&C.I==3){try{var B=C.Ba.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)nu(C),fo(C);else break e;Nl(C),Qt(18)}}else C.xa=Z[1],0<C.xa-C.K&&Z[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=qe(f(C.Va,C),6e3));wa(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ca(C,11)}else if((g.L||C.g==g)&&nu(C),!U(A))for(Z=C.Ba.g.parse(A),A=0;A<Z.length;A++){let ht=Z[A];const qt=ht[0];if(!(qt<=C.K))if(C.K=qt,ht=ht[1],C.I==2)if(ht[0]=="c"){C.M=ht[1],C.ba=ht[2];const xi=ht[3];xi!=null&&(C.ka=xi,C.j.info("VER="+C.ka));const Na=ht[4];Na!=null&&(C.za=Na,C.j.info("SVER="+C.za));const Qi=ht[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(B=1.5*Qi,C.O=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const Zi=g.g;if(Zi){const Ol=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var ae=B.h;ae.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(lf(ae,ae.h),ae.h=null))}if(B.G){const ru=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(B.wa=ru,gt(B.J,B.G,ru))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),B=C;var ve=g;if(B.na=vp(B,B.L?B.ba:null,B.W),ve.L){cf(B.h,ve);var Qe=ve,sn=B.O;sn&&(Qe.H=sn),Qe.D&&(xa(Qe),ba(Qe)),B.g=ve}else hp(B);C.i.length>0&&ka(C)}else ht[0]!="stop"&&ht[0]!="close"||Ca(C,7);else C.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Ca(C,7):vf(C):ht[0]!="noop"&&C.l&&C.l.qa(ht),C.A=0)}}pi(4)}catch{}}var pn=class{constructor(g,A){this.g=g,this.map=A}};function sf(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function of(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function wa(g){return g.h?1:g.g?g.g.size:0}function Ea(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function lf(g,A){g.g?g.g.add(A):g.h=A}function cf(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}sf.prototype.cancel=function(){if(this.i=uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function uf(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const C of g.g.values())A=A.concat(C.G);return A}return _(g.i)}var op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(g,A){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const B=g[C].indexOf("=");let Z,ae=null;B>=0?(Z=g[C].substring(0,B),ae=g[C].substring(B+1)):Z=g[C],A(Z,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Gr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof Gr?(this.l=g.l,zn(this,g.j),this.o=g.o,this.g=g.g,io(this,g.u),this.h=g.h,df(this,dp(g.i)),this.m=g.m):g&&(A=String(g).match(op))?(this.l=!1,zn(this,A[1]||"",!0),this.o=Sa(A[2]||""),this.g=Sa(A[3]||"",!0),io(this,A[4]),this.h=Sa(A[5]||"",!0),df(this,A[6]||"",!0),this.m=Sa(A[7]||"")):(this.l=!1,this.i=new so(null,this.l))}Gr.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(Sl(A,Xc,!0),":");var C=this.g;return(C||A=="file")&&(g.push("//"),(A=this.o)&&g.push(Sl(A,Xc,!0),"@"),g.push(Qn(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Sl(C,C.charAt(0)=="/"?ff:lp,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Sl(C,cp)),g.join("")},Gr.prototype.resolve=function(g){const A=gn(this);let C=!!g.j;C?zn(A,g.j):C=!!g.o,C?A.o=g.o:C=!!g.g,C?A.g=g.g:C=g.u!=null;var B=g.h;if(C)io(A,g.u);else if(C=!!g.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var Z=A.h.lastIndexOf("/");Z!=-1&&(B=A.h.slice(0,Z+1)+B)}if(Z=B,Z==".."||Z==".")B="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){B=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ae=[];for(let ve=0;ve<Z.length;){const Qe=Z[ve++];Qe=="."?B&&ve==Z.length&&ae.push(""):Qe==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),B&&ve==Z.length&&ae.push("")):(ae.push(Qe),B=!0)}B=ae.join("/")}else B=Z}return C?A.h=B:C=g.i.toString()!=="",C?df(A,dp(g.i)):C=!!g.m,C&&(A.m=g.m),A};function gn(g){return new Gr(g)}function zn(g,A,C){g.j=C?Sa(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function io(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function df(g,A,C){A instanceof so?(g.i=A,Zc(g.i,g.l)):(C||(A=Sl(A,ao)),g.i=new so(A,g.l))}function gt(g,A,C){g.i.set(A,C)}function El(g){return gt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Sa(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Sl(g,A,C){return typeof g=="string"?(g=encodeURI(g).replace(A,kr),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function kr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Xc=/[#\/\?@]/g,lp=/[#\?:]/g,ff=/[#\?]/g,ao=/[#\?@]/g,cp=/#/g;function so(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Cr(g){g.g||(g.g=new Map,g.h=0,g.i&&Wc(g.i,function(A,C){g.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=so.prototype,t.add=function(g,A){Cr(this),this.i=null,g=oo(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(A),this.h+=1,this};function up(g,A){Cr(g),A=oo(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function hf(g,A){return Cr(g),A=oo(g,A),g.g.has(A)}t.forEach=function(g,A){Cr(this),this.g.forEach(function(C,B){C.forEach(function(Z){g.call(A,Z,B,this)},this)},this)};function mf(g,A){Cr(g);let C=[];if(typeof A=="string")hf(g,A)&&(C=C.concat(g.g.get(oo(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)C=C.concat(g[A]);return C}t.set=function(g,A){return Cr(this),this.i=null,g=oo(this,g),hf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=mf(this,g),g.length>0?String(g[0]):A):A};function Qc(g,A,C){up(g,A),C.length>0&&(g.i=null,g.g.set(oo(g,A),_(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let B=0;B<A.length;B++){var C=A[B];const Z=Qn(C);C=mf(this,C);for(let ae=0;ae<C.length;ae++){let ve=Z;C[ae]!==""&&(ve+="="+Qn(C[ae])),g.push(ve)}}return this.i=g.join("&")};function dp(g){const A=new so;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function oo(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Zc(g,A){A&&!g.j&&(Cr(g),g.i=null,g.g.forEach(function(C,B){const Z=B.toLowerCase();B!=Z&&(up(this,B),Qc(this,Z,C))},g)),g.j=A}function Yi(g,A){const C=new pt;if(l.Image){const B=new Image;B.onload=m(vi,C,"TestLoadImage: loaded",!0,A,B),B.onerror=m(vi,C,"TestLoadImage: error",!1,A,B),B.onabort=m(vi,C,"TestLoadImage: abort",!1,A,B),B.ontimeout=m(vi,C,"TestLoadImage: timeout",!1,A,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else A(!1)}function pf(g,A){const C=new pt,B=new AbortController,Z=setTimeout(()=>{B.abort(),vi(C,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:B.signal}).then(ae=>{clearTimeout(Z),ae.ok?vi(C,"TestPingServer: ok",!0,A):vi(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Z),vi(C,"TestPingServer: error",!1,A)})}function vi(g,A,C,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(C)}catch{}}function lo(){this.g=new $i}function Ta(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Ta,wl),Ta.prototype.g=function(){return new Tl(this.i,this.h)};function Tl(g,A){Ke.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Tl,Ke),t=Tl.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,Wi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?co(this):Wi(this),this.readyState==3&&Jc(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,co(this))},t.Na=function(g){this.g&&(this.response=g,co(this))},t.ga=function(){this.g&&co(this)};function co(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Wi(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=A.next();return g.join(`\r
`)};function Wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let A="";return oe(g,function(C,B){A+=B,A+=":",A+=C,A+=`\r
`}),A}function Al(g,A,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=bi(C),typeof g=="string"?C!=null&&Qn(C):gt(g,A,C))}function St(g){Ke.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(St,Ke);var Aa=/^https?$/i,gf=["POST","PUT"];t=St.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(ae){Il(this,ae);return}if(g=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)C.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ae of B.keys())C.set(ae,B.get(ae));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(gf,A,void 0)>=0)||B||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of C)this.g.setRequestHeader(ae,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ae){Il(this,ae)}};function Il(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,yf(g),rs(g)}function yf(g){g.A||(g.A=!0,jt(g,"complete"),jt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,jt(this,"complete"),jt(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?kl(this):this.Xa())},t.Xa=function(){kl(this)};function kl(g){if(g.h&&typeof s<"u"){if(g.v&&Xi(g)==4)setTimeout(g.Ca.bind(g),0);else if(jt(g,"readystatechange"),Xi(g)==4){g.h=!1;try{const ae=g.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var B;if(B=ae===0){let ve=String(g.D).match(op)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),B=!Aa.test(ve?ve.toLowerCase():"")}C=B}if(C)jt(g,"complete"),jt(g,"success");else{g.o=6;try{var Z=Xi(g)>2?g.g.statusText:""}catch{Z=""}g.l=Z+" ["+g.ca()+"]",yf(g)}}finally{rs(g)}}}}function rs(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,A||jt(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),_l(A)}};function Zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function is(g){const A={};g=(g.g&&Xi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(U(g[B]))continue;var C=af(g[B]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ae=A[Z]||[];A[Z]=ae,ae.push(C)}_e(A,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(g,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||A}function uo(g){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ia("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ia("baseRetryDelayMs",5e3,g),this.Za=Ia("retryDelaySeedMs",1e4,g),this.Ta=Ia("forwardChannelMaxRetries",2,g),this.va=Ia("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new sf(g&&g.concurrentRequestLimit),this.Ba=new lo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uo.prototype,t.ka=8,t.I=1,t.connect=function(g,A,C,B){Qt(0),this.W=g,this.H=A||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.J=vp(this,null,this.W),ka(this)};function vf(g){if(eu(g),g.I==3){var A=g.V++,C=gn(g.J);if(gt(C,"SID",g.M),gt(C,"RID",A),gt(C,"TYPE","terminate"),Cl(g,C),A=new Gi(g,g.j,A),A.M=2,A.A=El(gn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=A.A,C=!0),C||(A.g=bp(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ba(A)}yp(g)}function fo(g){g.g&&(xf(g),g.g.cancel(),g.g=null)}function eu(g){fo(g),g.v&&(l.clearTimeout(g.v),g.v=null),nu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function ka(g){if(!of(g.h)&&!g.m){g.m=!0;var A=g.Ea;R||O(),z||(R(),z=!0),P.add(A,g),g.D=0}}function tu(g,A){return wa(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=qe(f(g.Ea,g,A),gp(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Z=new Gi(this,this.j,g);let ae=this.o;if(this.U&&(ae?(ae=H(ae),ie(ae,this.U)):ae=this.U),this.u!==null||this.R||(Z.J=ae,ae=null),this.S)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,A>4096){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=fp(this,Z,A),C=gn(this.J),gt(C,"RID",g),gt(C,"CVER",22),this.G&&gt(C,"X-HTTP-Session-Id",this.G),Cl(this,C),ae&&(this.R?A="headers="+Qn(bi(ae))+"&"+A:this.u&&Al(C,this.u,ae)),lf(this.h,Z),this.Ra&&gt(C,"TYPE","init"),this.S?(gt(C,"$req",A),gt(C,"SID","null"),Z.U=!0,va(Z,C,null)):va(Z,C,A),this.I=2}}else this.I==3&&(g?bf(this,g):this.i.length==0||of(this.h)||bf(this))};function bf(g,A){var C;A?C=A.l:C=g.V++;const B=gn(g.J);gt(B,"SID",g.M),gt(B,"RID",C),gt(B,"AID",g.K),Cl(g,B),g.u&&g.o&&Al(B,g.u,g.o),C=new Gi(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),A&&(g.i=A.G.concat(g.i)),A=fp(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),lf(g.h,C),va(C,B,A)}function Cl(g,A){g.H&&oe(g.H,function(C,B){gt(A,B,C)}),g.l&&oe({},function(C,B){gt(A,B,C)})}function fp(g,A,C){C=Math.min(g.i.length,C);const B=g.l?f(g.l.Ka,g.l,g):null;e:{var Z=g.i;let Qe=-1;for(;;){const sn=["count="+C];Qe==-1?C>0?(Qe=Z[0].g,sn.push("ofs="+Qe)):Qe=0:sn.push("ofs="+Qe);let ht=!0;for(let qt=0;qt<C;qt++){var ae=Z[qt].g;const xi=Z[qt].map;if(ae-=Qe,ae<0)Qe=Math.max(0,Z[qt].g-100),ht=!1;else try{ae="req"+ae+"_"||"";try{var ve=xi instanceof Map?xi:Object.entries(xi);for(const[Na,Qi]of ve){let Zi=Qi;c(Qi)&&(Zi=qi(Qi)),sn.push(ae+Na+"="+encodeURIComponent(Zi))}}catch(Na){throw sn.push(ae+"type="+encodeURIComponent("_badmap")),Na}}catch{B&&B(xi)}}if(ht){ve=sn.join("&");break e}}ve=void 0}return g=g.i.splice(0,C),A.G=g,ve}function hp(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;R||O(),z||(R(),z=!0),P.add(A,g),g.A=0}}function Nl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=qe(f(g.Da,g),gp(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,mp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=qe(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),fo(this),mp(this))};function xf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function mp(g){g.g=new Gi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=gn(g.na);gt(A,"RID","rpc"),gt(A,"SID",g.M),gt(A,"AID",g.K),gt(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&gt(A,"TO",g.ia),gt(A,"TYPE","xmlhttp"),Cl(g,A),g.u&&g.o&&Al(A,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=El(gn(A)),C.u=null,C.R=!0,Kc(C,g)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),Nl(this),Qt(19))};function nu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function pp(g,A){var C=null;if(g.g==A){nu(g),xf(g),g.g=null;var B=2}else if(Ea(g.h,A))C=A.G,cf(g.h,A),B=1;else return;if(g.I!=0){if(A.o)if(B==1){C=A.u?A.u.length:0,A=Date.now()-A.F;var Z=g.D;B=ga(),jt(B,new $r(B,C)),ka(g)}else hp(g);else if(Z=A.m,Z==3||Z==0&&A.X>0||!(B==1&&tu(g,A)||B==2&&Nl(g)))switch(C&&C.length>0&&(A=g.h,A.i=A.i.concat(C)),Z){case 1:Ca(g,5);break;case 4:Ca(g,10);break;case 3:Ca(g,6);break;default:Ca(g,2)}}}function gp(g,A){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*A}function Ca(g,A){if(g.j.info("Error code "+A),A==2){var C=f(g.bb,g),B=g.Ua;const Z=!B;B=new Gr(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zn(B,"https"),El(B),Z?Yi(B.toString(),C):pf(B.toString(),C)}else Qt(2);g.I=0,g.l&&g.l.pa(A),yp(g),eu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function yp(g){if(g.I=0,g.ja=[],g.l){const A=uf(g.h);(A.length!=0||g.i.length!=0)&&(w(g.ja,A),w(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function vp(g,A,C){var B=C instanceof Gr?gn(C):new Gr(C);if(B.g!="")A&&(B.g=A+"."+B.g),io(B,B.u);else{var Z=l.location;B=Z.protocol,A=A?A+"."+Z.hostname:Z.hostname,Z=+Z.port;const ae=new Gr(null);B&&zn(ae,B),A&&(ae.g=A),Z&&io(ae,Z),C&&(ae.h=C),B=ae}return C=g.G,A=g.wa,C&&A&&gt(B,C,A),gt(B,"VER",g.ka),Cl(g,B),B}function bp(g,A,C){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new St(new Ta({ab:C})):new St(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xp(){}t=xp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ho(){}ho.prototype.g=function(g,A){return new xr(g,A)};function xr(g,A){Ke.call(this),this.g=new uo(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!U(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!U(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new as(this)}p(xr,Ke),xr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){vf(this.g)},xr.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=qi(g),g=C);A.i.push(new pn(A.Ya++,g)),A.I==3&&ka(A)},xr.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,xr.Z.N.call(this)};function _p(g){Tn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const C in A){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(_p,Tn);function wp(){vr.call(this),this.status=1}p(wp,vr);function as(g){this.g=g}p(as,xp),as.prototype.ra=function(){jt(this.g,"a")},as.prototype.qa=function(g){jt(this.g,new _p(g))},as.prototype.pa=function(g){jt(this.g,new wp)},as.prototype.oa=function(){jt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,Qz=function(){return new ho},Xz=function(){return ga()},Wz=Ft,Aw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,c0=gi,Wn.COMPLETE="complete",Yz=Wn,Hi.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,xh=Hi,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,Kz=St}).apply(typeof kg<"u"?kg:typeof self<"u"?self:typeof window<"u"?window:{});const nN="@firebase/firestore",rN="4.9.3";let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let qd="12.7.0";const Sc=new cS("@firebase/firestore");function $u(){return Sc.logLevel}function pe(t,...e){if(Sc.logLevel<=st.DEBUG){const n=e.map(wS);Sc.debug(`Firestore (${qd}): ${t}`,...n)}}function un(t,...e){if(Sc.logLevel<=st.ERROR){const n=e.map(wS);Sc.error(`Firestore (${qd}): ${t}`,...n)}}function qh(t,...e){if(Sc.logLevel<=st.WARN){const n=e.map(wS);Sc.warn(`Firestore (${qd}): ${t}`,...n)}}function wS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Zz(t,r,n)}function Zz(t,e,n){let r=`FIRESTORE (${qd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw un(r),new Error(r)}function ze(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Zz(e,i,r)}function Me(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $H{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mr.UNAUTHENTICATED)))}shutdown(){}}class GH{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tl)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new $H(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class KH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ra(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Iw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _1(i)===_1(s)?Ye(i,s):_1(i)?1:-1}return Ye(t.length,e.length)}const QH=55296,ZH=57343;function _1(t){const e=t.charCodeAt(0);return e>=QH&&e<=ZH}function ld(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function Jz(t){return t+"\0"}const aN="__name__";class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ye(e.length,n.length)}static compareSegments(e,n){const r=za.isNumericId(e),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(e).compare(za.extractNumericId(n)):Iw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class Ct extends za{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const JH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends za{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return JH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aN}static keyField(){return new Zt([aN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ce(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Ce(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Ct.fromString(e))}static fromName(e){return new Ae(Ct.fromString(e).popFirst(5))}static empty(){return new Ae(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Ct(e.slice()))}}function eG(t,e,n){if(!n)throw new Ce(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tG(t,e,n,r){if(e===!0&&r===!0)throw new Ce(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sN(t){if(!Ae.isDocumentKey(t))throw new Ce(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function SS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ch(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SS(t);throw new Ce(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function Im(t,e){if(!e4(t))throw new Ce(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ce(me.INVALID_ARGUMENT,n);return!0}const oN=-62135596800,lN=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lN);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oN)throw new Ce(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lN}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Im(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:En("string",_t._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new _t(0,0))}static max(){return new Ue(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cd=-1;class j0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function kw(t){return t.fields.find((e=>e.kind===2))}function Xl(t){return t.fields.filter((e=>e.kind!==2))}j0.UNKNOWN_ID=-1;class u0{constructor(e,n){this.fieldPath=e,this.kind=n}}class $h{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new $h(0,di.min())}}function t4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new di(i,Ae.empty(),e)}function n4(t){return new di(t.readTime,t.key,cd)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(Ue.min(),Ae.empty(),cd)}static max(){return new di(Ue.max(),Ae.empty(),cd)}}function TS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==r4)throw t;pe("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const ti="SimpleDb";class ev{static open(e,n,r,i){try{return new ev(n,e.transaction(i,r))}catch(s){throw new Nh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new tl,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Nh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=AS(r.target.error);this.S.reject(new Nh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(ti,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new rG(n)}}class nl{static delete(e){return pe(ti,"Removing database:",e),nc(nz().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!cz())return!1;if(nl.F())return!0;const e=Cn(),n=nl.M(e),r=0<n&&n<10,i=a4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,nl.M(Cn())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(ti,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new Nh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new Ce(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ce(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Nh(e,l))},i.onupgradeneeded=s=>{pe(ti,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{pe(ti,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=ev.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(pe(ti,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function a4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class nG{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return nc(this.U.delete())}}class Nh extends Ce{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ml(t){return t.name==="IndexedDbTransactionError"}class rG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pe(ti,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe(ti,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nc(r)}add(e){return pe(ti,"ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next((n=>(n===void 0&&(n=null),pe(ti,"GET",this.store.name,e,n),n)))}delete(e){return pe(ti,"DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return pe(ti,"COUNT",this.store.name),nc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){pe(ti,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=s=>{const l=AS(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new nG(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const m=f.catch((p=>(d.done(),Q.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function nc(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=AS(r.target.error);n(i)}}))}let cN=!1;function AS(t){const e=nl.M(Cn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cN||(cN=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Oh="IndexBackfiller";class iG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(Oh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pe(Oh,`Documents written: ${n}`)}catch(n){ml(n)?pe(Oh,"Ignoring IndexedDB error during index backfill: ",n):await hl(n)}await this.re(6e4)}))}}class aG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Q.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return pe(Oh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(pe(Oh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=n4(s);TS(l,r)>0&&(r=l)})),new di(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class zr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zr.ce=-1;const fc=-1;function tv(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function s4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const M0="";function gr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uN(e)),e=sG(t.get(n),e);return uN(e)}function sG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case M0:n+="";break;default:n+=s}}return n}function uN(t){return t+M0+""}function Ua(t){const e=t.length;if(ze(e>=2,64408,{path:t}),e===2)return ze(t.charAt(0)===M0&&t.charAt(1)==="",56145,{path:t}),Ct.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(M0,s);switch((l<0||l>n)&&Ne(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Ne(61167,{path:t})}s=l+2}return new Ct(r)}const Ql="remoteDocuments",km="owner",Ru="owner",Gh="mutationQueues",oG="userId",na="mutations",dN="batchId",oc="userMutationsIndex",fN=["userId","batchId"];function d0(t,e){return[t,gr(e)]}function o4(t,e,n){return[t,gr(e),n]}const lG={},ud="documentMutations",D0="remoteDocumentsV14",cG=["prefixPath","collectionGroup","readTime","documentId"],f0="documentKeyIndex",uG=["prefixPath","collectionGroup","documentId"],l4="collectionGroupIndex",dG=["collectionGroup","readTime","prefixPath","documentId"],Kh="remoteDocumentGlobal",Cw="remoteDocumentGlobalKey",dd="targets",c4="queryTargetsIndex",fG=["canonicalId","targetId"],fd="targetDocuments",hG=["targetId","path"],IS="documentTargetsIndex",mG=["path","targetId"],z0="targetGlobalKey",hc="targetGlobal",Yh="collectionParents",pG=["collectionId","parent"],hd="clientMetadata",gG="clientId",nv="bundles",yG="bundleId",rv="namedQueries",vG="name",kS="indexConfiguration",bG="indexId",Nw="collectionGroupIndex",xG="collectionGroup",Ph="indexState",_G=["indexId","uid"],u4="sequenceNumberIndex",wG=["uid","sequenceNumber"],Rh="indexEntries",EG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d4="documentKeyIndex",SG=["indexId","uid","orderedDocumentKey"],iv="documentOverlays",TG=["userId","collectionPath","documentId"],Ow="collectionPathOverlayIndex",AG=["userId","collectionPath","largestBatchId"],f4="collectionGroupOverlayIndex",IG=["userId","collectionGroup","largestBatchId"],CS="globals",kG="name",h4=[Gh,na,ud,Ql,dd,km,hc,fd,hd,Kh,Yh,nv,rv],CG=[...h4,iv],m4=[Gh,na,ud,D0,dd,km,hc,fd,hd,Kh,Yh,nv,rv,iv],p4=m4,NS=[...p4,kS,Ph,Rh],NG=NS,g4=[...NS,CS],OG=g4;class Pw extends i4{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=Me(t);return nl.O(n.le,e)}function hN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Dt{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cg(this.root,e,this.comparator,!0)}}class Cg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=s??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mN(this.data.getIterator())}getIteratorFrom(e){return new mN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class mN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ju(t){return t.hasNext()?t.getNext():void 0}class Ri{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new wt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v4("Invalid base64 string: "+s):s}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const PG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=PG.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}const b4="server_timestamp",x4="__type__",_4="__previous_value__",w4="__local_write_time__";function OS(t){return(t?.mapValue?.fields||{})[x4]?.stringValue===b4}function av(t){const e=t.mapValue.fields[_4];return OS(e)?av(e):e}function Wh(t){const e=Vs(t.mapValue.fields[w4].timestampValue);return new _t(e.seconds,e.nanos)}class RG{constructor(e,n,r,i,s,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const L0="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||L0}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===L0}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const PS="__type__",E4="__max__",Wo={mapValue:{fields:{__type__:{stringValue:E4}}}},RS="__vector__",md="value",h0={nullValue:"NULL_VALUE"};function il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OS(t)?4:S4(t)?9007199254740991:sv(t)?10:11:Ne(28295,{value:t})}function Xa(t,e){if(t===e)return!0;const n=il(t);if(n!==il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wh(t).isEqual(Wh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Vs(i.timestampValue),c=Vs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Gt(i.geoPointValue.latitude)===Gt(s.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Gt(i.integerValue)===Gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Gt(i.doubleValue),c=Gt(s.doubleValue);return l===c?Hh(l)===Hh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ld(t.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(hN(l)!==hN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Xa(l[d],c[d])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Xh(t,e){return(t.values||[]).find((n=>Xa(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=il(t),r=il(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Gt(s.integerValue||s.doubleValue),d=Gt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return pN(t.timestampValue,e.timestampValue);case 4:return pN(Wh(t),Wh(e));case 5:return Iw(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Bs(s),d=Bs(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ye(c[f],d[f]);if(m!==0)return m}return Ye(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ye(Gt(s.latitude),Gt(l.latitude));return c!==0?c:Ye(Gt(s.longitude),Gt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gN(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const c=s.fields||{},d=l.fields||{},f=c[md]?.arrayValue,m=d[md]?.arrayValue,p=Ye(f?.values?.length||0,m?.values?.length||0);return p!==0?p:gN(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Wo.mapValue&&l===Wo.mapValue)return 0;if(s===Wo.mapValue)return 1;if(l===Wo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const b=Iw(d[p],m[p]);if(b!==0)return b;const _=al(c[d[p]],f[m[p]]);if(_!==0)return _}return Ye(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function pN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Vs(t),r=Vs(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function gN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=al(n[i],r[i]);if(s)return s}return Ye(n.length,r.length)}function pd(t){return Rw(t)}function Rw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Rw(n.fields[l])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function m0(t){switch(il(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=av(t);return e?16+m0(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+m0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vc(r.fields,((s,l)=>{i+=s.length+m0(l)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function jS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jw(t){return!!t&&"integerValue"in t}function Qh(t){return!!t&&"arrayValue"in t}function yN(t){return!!t&&"nullValue"in t}function vN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function p0(t){return!!t&&"mapValue"in t}function sv(t){return(t?.mapValue?.fields||{})[PS]?.stringValue===RS}function jh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jh(t.arrayValue.values[n]);return e}return{...t}}function S4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E4}const T4={mapValue:{fields:{[PS]:{stringValue:RS},[md]:{arrayValue:{}}}}};function jG(t){return"nullValue"in t?h0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?jS(Tc.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?T4:{mapValue:{}}:Ne(35942,{value:t})}function MG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?jS(Tc.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?T4:"mapValue"in t?sv(t)?{mapValue:{}}:Wo:Ne(61959,{value:t})}function bN(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function xN(t,e){const n=al(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!p0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jh(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=jh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());p0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];p0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Dr(jh(this.value))}}function A4(t){const e=[];return Vc(t.fields,((n,r)=>{const i=new Zt([n]);if(p0(r)){const s=A4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Ri(e)}class rn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new rn(e,0,Ue.min(),Ue.min(),Ue.min(),Dr.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,Ue.min(),Ue.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ue.min(),Ue.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gd{constructor(e,n){this.position=e,this.inclusive=n}}function _N(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=al(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xa(t.position[n],e.position[n]))return!1;return!0}class V0{constructor(e,n="asc"){this.field=e,this.dir=n}}function DG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class I4{}class lt extends I4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zG(e,n,r):n==="array-contains"?new BG(e,r):n==="in"?new R4(e,r):n==="not-in"?new UG(e,r):n==="array-contains-any"?new FG(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LG(e,r):new VG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&il(this.value)===il(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nt extends I4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nt(e,n)}matches(e){return yd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yd(t){return t.op==="and"}function Mw(t){return t.op==="or"}function MS(t){return k4(t)&&yd(t)}function k4(t){for(const e of t.filters)if(e instanceof Nt)return!1;return!0}function Dw(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+pd(t.value);if(MS(t))return t.filters.map((e=>Dw(e))).join(",");{const e=t.filters.map((n=>Dw(n))).join(",");return`${t.op}(${e})`}}function C4(t,e){return t instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Xa(r.value,i.value)})(t,e):t instanceof Nt?(function(r,i){return i instanceof Nt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&C4(l,i.filters[c])),!0):!1})(t,e):void Ne(19439)}function N4(t,e){const n=t.filters.concat(e);return Nt.create(n,t.op)}function O4(t){return t instanceof lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pd(n.value)}`})(t):t instanceof Nt?(function(n){return n.op.toString()+" {"+n.getFilters().map(O4).join(" ,")+"}"})(t):"Filter"}class zG extends lt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class LG extends lt{constructor(e,n){super(e,"in",n),this.keys=P4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VG extends lt{constructor(e,n){super(e,"not-in",n),this.keys=P4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P4(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class BG extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qh(n)&&Xh(n.arrayValue,this.value)}}class R4 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xh(this.value.arrayValue,n)}}class UG extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xh(this.value.arrayValue,n)}}class FG extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xh(this.value.arrayValue,r)))}}class qG{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function zw(t,e=null,n=[],r=[],i=null,s=null,l=null){return new qG(t,e,n,r,i,s,l)}function Ac(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pd(r))).join(",")),e.Te=n}return e.Te}function Cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wN(t.startAt,e.startAt)&&wN(t.endAt,e.endAt)}function B0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function U0(t,e){return t.filters.filter((n=>n instanceof lt&&n.field.isEqual(e)))}function EN(t,e,n){let r=h0,i=!0;for(const s of U0(t,e)){let l=h0,c=!0;switch(s.op){case"<":case"<=":l=jG(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=h0}bN({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];bN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function SN(t,e,n){let r=Wo,i=!0;for(const s of U0(t,e)){let l=Wo,c=!0;switch(s.op){case">=":case">":l=MG(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Wo}xN({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];xN({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class ov{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j4(t,e,n,r,i,s,l,c){return new ov(t,e,n,r,i,s,l,c)}function lv(t){return new ov(t)}function TN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $G(t){return t.collectionGroup!==null}function Mh(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wt(Zt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new V0(s,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new V0(Zt.keyField(),r))}return e.Ie}function li(t){const e=Me(t);return e.Ee||(e.Ee=HG(e,Mh(t))),e.Ee}function HG(t,e){if(t.limitType==="F")return zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new V0(i.field,s)}));const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lw(t,e,n){return new ov(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cv(t,e){return Cm(li(t),li(e))&&t.limitType===e.limitType}function M4(t){return`${Ac(li(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>O4(i))).join(", ")}]`),tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pd(i))).join(",")),`Target(${r})`})(li(t))}; limitType=${t.limitType})`}function Nm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=_N(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Mh(r),i)||r.endAt&&!(function(l,c,d){const f=_N(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Mh(r),i))})(t,e)}function D4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z4(t){return(e,n)=>{let r=!1;for(const i of Mh(t)){const s=GG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GG(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?al(d,f):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}const KG=new Dt(Ae.comparator);function ii(){return KG}const L4=new Dt(Ae.comparator);function _h(...t){let e=L4;for(const n of t)e=e.insert(n.key,n);return e}function V4(t){let e=L4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fa(){return Dh()}function B4(){return Dh()}function Dh(){return new Xs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YG=new Dt(Ae.comparator),WG=new wt(Ae.comparator);function tt(...t){let e=WG;for(const n of t)e=e.add(n);return e}const XG=new wt(Ye);function DS(){return XG}function zS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function U4(t){return{integerValue:""+t}}function QG(t,e){return s4(e)?U4(e):zS(t,e)}class uv{constructor(){this._=void 0}}function ZG(t,e,n){return t instanceof Zh?(function(i,s){const l={fields:{[x4]:{stringValue:b4},[w4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&OS(s)&&(s=av(s)),s&&(l.fields[_4]=s),{mapValue:l}})(n,e):t instanceof vd?q4(t,e):t instanceof bd?$4(t,e):(function(i,s){const l=F4(i,s),c=AN(l)+AN(i.Ae);return jw(l)&&jw(i.Ae)?U4(c):zS(i.serializer,c)})(t,e)}function JG(t,e,n){return t instanceof vd?q4(t,e):t instanceof bd?$4(t,e):n}function F4(t,e){return t instanceof Jh?(function(r){return jw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Zh extends uv{}class vd extends uv{constructor(e){super(),this.elements=e}}function q4(t,e){const n=H4(e);for(const r of t.elements)n.some((i=>Xa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class bd extends uv{constructor(e){super(),this.elements=e}}function $4(t,e){let n=H4(e);for(const r of t.elements)n=n.filter((i=>!Xa(i,r)));return{arrayValue:{values:n}}}class Jh extends uv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AN(t){return Gt(t.integerValue||t.doubleValue)}function H4(t){return Qh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class eK{constructor(e,n){this.field=e,this.transform=n}}function tK(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vd&&i instanceof vd||r instanceof bd&&i instanceof bd?ld(r.elements,i.elements,Xa):r instanceof Jh&&i instanceof Jh?Xa(r.Ae,i.Ae):r instanceof Zh&&i instanceof Zh})(t.transform,e.transform)}class nK{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dv{}function G4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LS(t.key,ai.none()):new $d(t.key,t.data,ai.none());{const n=t.data,r=Dr.empty();let i=new wt(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new pl(t.key,r,new Ri(i.toArray()),ai.none())}}function rK(t,e,n){t instanceof $d?(function(i,s,l){const c=i.value.clone(),d=kN(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof pl?(function(i,s,l){if(!g0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=kN(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(K4(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function zh(t,e,n,r){return t instanceof $d?(function(s,l,c,d){if(!g0(s.precondition,l))return c;const f=s.value.clone(),m=CN(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof pl?(function(s,l,c,d){if(!g0(s.precondition,l))return c;const f=CN(s.fieldTransforms,d,l),m=l.data;return m.setAll(K4(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return g0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function iK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=F4(r.transform,i||null);s!=null&&(n===null&&(n=Dr.empty()),n.set(r.field,s))}return n||null}function IN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ld(r,i,((s,l)=>tK(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends dv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends dv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function kN(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,JG(l,c,n[i]))}return r}function CN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,ZG(s,l,e))}return r}class LS extends dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4 extends dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rK(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=G4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,((n,r)=>IN(n,r)))&&ld(this.baseMutations,e.baseMutations,((n,r)=>IN(n,r)))}}class BS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return YG})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new BS(e,n,r,i)}}class US{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aK{constructor(e,n){this.count=e,this.unchangedNames=n}}var _n,ct;function sK(t){switch(t){case me.OK:return Ne(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function W4(t){if(t===void 0)return un("GRPC error has no .code"),me.UNKNOWN;switch(t){case _n.OK:return me.OK;case _n.CANCELLED:return me.CANCELLED;case _n.UNKNOWN:return me.UNKNOWN;case _n.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case _n.INTERNAL:return me.INTERNAL;case _n.UNAVAILABLE:return me.UNAVAILABLE;case _n.UNAUTHENTICATED:return me.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case _n.NOT_FOUND:return me.NOT_FOUND;case _n.ALREADY_EXISTS:return me.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return me.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case _n.ABORTED:return me.ABORTED;case _n.OUT_OF_RANGE:return me.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return me.UNIMPLEMENTED;case _n.DATA_LOSS:return me.DATA_LOSS;default:return Ne(39323,{code:t})}}(ct=_n||(_n={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function oK(){return new TextEncoder}const lK=new el([4294967295,4294967295],0);function NN(t){const e=oK().encode(t),n=new Gz;return n.update(e),new Uint8Array(n.digest())}function ON(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new el([n,r],0),new el([i,s],0)]}class FS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(el.fromNumber(r)));return i.compare(lK)===1&&(i=new el([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NN(e),[r,i]=ON(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new FS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=NN(e),[r,i]=ON(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Om(Ue.min(),i,new Dt(Ye),ii(),tt())}}class Pm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pm(r,n,tt(),tt(),tt())}}class y0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class X4{constructor(e,n){this.targetId=e,this.Ce=n}}class Q4{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PN{constructor(){this.ve=0,this.Fe=RN(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:s})}})),new Pm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=RN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Ng(),this.He=Ng(),this.Ye=new Dt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(B0(s))if(r===0){const l=new Ae(s.path);this.et(n,l,rn.newNoDocument(l,Ue.min()))}else ze(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Bs(r).toUint8Array()}catch(d){if(d instanceof v4)return qh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new FS(l,i,s)}catch(d){return qh(d instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&B0(c.target)){const d=new Ae(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,rn.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=tt();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Om(e,n,this.Ye,this.je,r);return this.je=ii(),this.Je=Ng(),this.He=Ng(),this.Ye=new Dt(Ye),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wt(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wt(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ng(){return new Dt(Ae.comparator)}function RN(){return new Dt(Ae.comparator)}const uK={asc:"ASCENDING",desc:"DESCENDING"},dK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fK={and:"AND",or:"OR"};class hK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vw(t,e){return t.useProto3Json||tv(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mK(t,e){return xd(t,e.toTimestamp())}function Sr(t){return ze(!!t,49232),Ue.fromTimestamp((function(n){const r=Vs(n);return new _t(r.seconds,r.nanos)})(t))}function qS(t,e){return Bw(t,e).canonicalString()}function Bw(t,e){const n=(function(i){return new Ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function J4(t){const e=Ct.fromString(t);return ze(l5(e),10190,{key:e.toString()}),e}function F0(t,e){return qS(t.databaseId,e.path)}function mc(t,e){const n=J4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(n5(n))}function e5(t,e){return qS(t.databaseId,e)}function t5(t){const e=J4(t);return e.length===4?Ct.emptyPath():n5(e)}function Uw(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n5(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jN(t,e,n){return{name:F0(t,e),fields:n.value.mapValue.fields}}function pK(t,e,n){const r=mc(t,e.name),i=Sr(e.updateTime),s=e.createTime?Sr(e.createTime):Ue.min(),l=new Dr({mapValue:{fields:e.fields}}),c=rn.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function gK(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ne(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(ze(m===void 0||typeof m=="string",58123),dn.fromBase64String(m||"")):(ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),dn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?me.UNKNOWN:W4(f.code);return new Ce(m,f.message||"")})(l);n=new Q4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mc(t,r.document.name),s=Sr(r.document.updateTime),l=r.document.createTime?Sr(r.document.createTime):Ue.min(),c=new Dr({mapValue:{fields:r.document.fields}}),d=rn.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new y0(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mc(t,r.document),s=r.readTime?Sr(r.readTime):Ue.min(),l=rn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new y0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mc(t,r.document),s=r.removedTargetIds||[];n=new y0([],s,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new aK(i,s),c=r.targetId;n=new X4(c,l)}}return n}function q0(t,e){let n;if(e instanceof $d)n={update:jN(t,e.key,e.value)};else if(e instanceof LS)n={delete:F0(t,e.key)};else if(e instanceof pl)n={update:jN(t,e.key,e.data),updateMask:wK(e.fieldMask)};else{if(!(e instanceof Y4))return Ne(16599,{Vt:e.type});n={verify:F0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ne(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:mK(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ne(27497)})(t,e.precondition)),n}function Fw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?ai.updateTime(Sr(s.updateTime)):s.exists!==void 0?ai.exists(s.exists):ai.none()})(e.currentDocument):ai.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)ze(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new Zh;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new vd(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new bd(m)}else"increment"in c?d=new Jh(l,c.increment):Ne(16584,{proto:c});const f=Zt.fromServerFormat(c.fieldPath);return new eK(f,d)})(t,i))):[];if(e.update){e.update.name;const i=mc(t,e.update.name),s=new Dr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Ri(f.map((m=>Zt.fromServerFormat(m))))})(e.updateMask);return new pl(i,s,l,n,r)}return new $d(i,s,n,r)}if(e.delete){const i=mc(t,e.delete);return new LS(i,n)}if(e.verify){const i=mc(t,e.verify);return new Y4(i,n)}return Ne(1463,{proto:e})}function yK(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Sr(i.updateTime):Sr(s);return l.isEqual(Ue.min())&&(l=Sr(s)),new nK(l,i.transformResults||[])})(n,e)))):[]}function r5(t,e){return{documents:[e5(t,e.path)]}}function i5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=e5(t,i);const s=(function(f){if(f.length!==0)return o5(Nt.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(b){return{field:Gu(b.field),direction:bK(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Vw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function a5(t){let e=t5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=s5(p);return b instanceof Nt&&MS(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(w){return new V0(Ku(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,tv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(p){const b=!!p.before,_=p.values||[];return new gd(_,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const b=!p.before,_=p.values||[];return new gd(_,b)})(n.endAt)),j4(e,i,l,s,c,"F",d,f)}function vK(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ku(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ku(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ku(n.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lt.create(Ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Nt.create(n.compositeFilter.filters.map((r=>s5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function bK(t){return uK[t]}function xK(t){return dK[t]}function _K(t){return fK[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return Zt.fromServerFormat(t.fieldPath)}function o5(t){return t instanceof lt?(function(n){if(n.op==="=="){if(vN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NAN"}};if(yN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NAN"}};if(yN(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(n.field),op:xK(n.op),value:n.value}}})(t):t instanceof Nt?(function(n){const r=n.getFilters().map((i=>o5(i)));return r.length===1?r[0]:{compositeFilter:{op:_K(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function wK(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function l5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Cs{constructor(e,n,r,i,s=Ue.min(),l=Ue.min(),c=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class c5{constructor(e){this.yt=e}}function EK(t,e){let n;if(e.document)n=pK(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ae.fromSegments(e.noDocument.path),i=kc(e.noDocument.readTime);n=rn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ne(56709);{const r=Ae.fromSegments(e.unknownDocument.path),i=kc(e.unknownDocument.version);n=rn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new _t(i[0],i[1]);return Ue.fromTimestamp(s)})(e.readTime)),n}function MN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:F0(s,l.key),fields:l.data.value.mapValue.fields,updateTime:xd(s,l.version.toTimestamp()),createTime:xd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ic(e.version)};else{if(!e.isUnknownDocument())return Ne(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Ic(e.version)}}return r}function $0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ic(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kc(t){const e=new _t(t.seconds,t.nanoseconds);return Ue.fromTimestamp(e)}function rc(t,e){const n=(e.baseMutations||[]).map((s=>Fw(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Fw(t.yt,s))),i=_t.fromMillis(e.localWriteTimeMs);return new VS(e.batchId,i,n,r)}function Eh(t){const e=kc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?kc(t.lastLimboFreeSnapshotVersion):Ue.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return ze(l===1,1966,{count:l}),li(lv(t5(s.documents[0])))})(t.query):(function(s){return li(a5(s))})(t.query),new Cs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,dn.fromBase64String(t.resumeToken))}function u5(t,e){const n=Ic(e.snapshotVersion),r=Ic(e.lastLimboFreeSnapshotVersion);let i;i=B0(e.target)?r5(t.yt,e.target):i5(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ac(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function d5(t){const e=a5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lw(e,e.limit,"L"):e}function w1(t,e){return new US(e.largestBatchId,Fw(t.yt,e.overlayMutation))}function DN(t,e){const n=e.path.lastSegment();return[t,gr(e.path.popLast()),n]}function zN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ic(r.readTime),documentKey:gr(r.documentKey.path),largestBatchId:r.largestBatchId}}class SK{getBundleMetadata(e,n){return LN(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:kc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return LN(e).put((function(i){return{bundleId:i.id,createTime:Ic(Sr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return VN(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:d5(s.bundledQuery),readTime:kc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return VN(e).put((function(i){return{name:i.name,readTime:Ic(Sr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function LN(t){return Nn(t,nv)}function VN(t){return Nn(t,rv)}class fv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new fv(e,r)}getOverlay(e,n){return sh(e).get(DN(this.userId,n)).next((r=>r?w1(this.serializer,r):null))}getOverlays(e,n){const r=Fa();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new US(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(gr(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(sh(e).Z(Ow,c))})),Q.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Fa(),s=gr(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sh(e).J(Ow,l).next((c=>{for(const d of c){const f=w1(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Fa();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return sh(e).ee({index:f4,range:c},((d,f,m)=>{const p=w1(this.serializer,f);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return sh(e).put((function(i,s,l){const[c,d,f]=DN(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:q0(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function sh(t){return Nn(t,iv)}class TK{bt(e){return Nn(e,CS)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?dn.fromUint8Array(r):dn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class ic{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Gt(e.integerValue));else if("doubleValue"in e){const r=Gt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Hh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Vs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Bs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?S4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):sv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ne(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=md,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Gt(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ae.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ic.Kt=new ic;const Mu=255;function AK(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function BN(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=AK(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class IK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=BN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=BN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Mu?(this.sn(Mu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kK{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class CK{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class oh{constructor(){this.cn=new IK,this.ln=new kK(this.cn),this.hn=new CK(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class ac{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ac(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:v0(this.En),directionalValue:v0(this.dn),orderedDocumentKey:v0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function zo(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=UN(t.En,e.En),n!==0?n:(n=UN(t.dn,e.dn),n!==0?n:Ae.comparator(t.In,e.In)))}function UN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function v0(t){return lz()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function FN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class qN{constructor(e){this.mn=new wt(((n,r)=>Zt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(ze(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=kw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Xl(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(Zt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new u0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new u0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new u0(r.field,r.dir==="asc"?0:1)));return new j0(j0.UNKNOWN_ID,this.collectionId,n,$h.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function f5(t){if(ze(t instanceof lt||t instanceof Nt,20012),t instanceof lt){if(t instanceof R4){const n=t.value.arrayValue?.values?.map((r=>lt.create(t.field,"==",r)))||[];return Nt.create(n,"or")}return t}const e=t.filters.map((n=>f5(n)));return Nt.create(e,t.op)}function NK(t){if(t.getFilters().length===0)return[];const e=Hw(f5(t));return ze(h5(e),7391),qw(e)||$w(e)?[e]:e.getFilters()}function qw(t){return t instanceof lt}function $w(t){return t instanceof Nt&&MS(t)}function h5(t){return qw(t)||$w(t)||(function(n){if(n instanceof Nt&&Mw(n)){for(const r of n.getFilters())if(!qw(r)&&!$w(r))return!1;return!0}return!1})(t)}function Hw(t){if(ze(t instanceof lt||t instanceof Nt,34018),t instanceof lt)return t;if(t.filters.length===1)return Hw(t.filters[0]);const e=t.filters.map((r=>Hw(r)));let n=Nt.create(e,t.op);return n=H0(n),h5(n)?n:(ze(n instanceof Nt,64498),ze(yd(n),40251),ze(n.filters.length>1,57927),n.filters.reduce(((r,i)=>$S(r,i))))}function $S(t,e){let n;return ze(t instanceof lt||t instanceof Nt,38388),ze(e instanceof lt||e instanceof Nt,25473),n=t instanceof lt?e instanceof lt?(function(i,s){return Nt.create([i,s],"and")})(t,e):$N(t,e):e instanceof lt?$N(e,t):(function(i,s){if(ze(i.filters.length>0&&s.filters.length>0,48005),yd(i)&&yd(s))return N4(i,s.getFilters());const l=Mw(i)?i:s,c=Mw(i)?s:i,d=l.filters.map((f=>$S(f,c)));return Nt.create(d,"or")})(t,e),H0(n)}function $N(t,e){if(yd(e))return N4(e,t.getFilters());{const n=e.filters.map((r=>$S(t,r)));return Nt.create(n,"or")}}function H0(t){if(ze(t instanceof lt||t instanceof Nt,11850),t instanceof lt)return t;const e=t.getFilters();if(e.length===1)return H0(e[0]);if(k4(t))return t;const n=e.map((i=>H0(i))),r=[];return n.forEach((i=>{i instanceof lt?r.push(i):i instanceof Nt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Nt.create(r,t.op)}class OK{constructor(){this.Cn=new HS}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(di.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class HS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(Ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(Ct.comparator)).toArray()}}const HN="IndexedDbIndexManager",Og=new Uint8Array(0);class PK{constructor(e,n){this.databaseId=n,this.vn=new HS,this.Fn=new Xs((r=>Ac(r)),((r,i)=>Cm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:gr(i)};return GN(e).put(s)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Jz(n),""],!1,!0);return GN(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ua(l.parent))}return r}))}addFieldIndex(e,n){const r=lh(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=zu(e);return s.next((c=>{l.put(zN(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=lh(e),i=zu(e),s=Du(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=lh(e),r=Du(e),i=zu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new qN(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const s=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=tt();const c=[];return Q.forEach(s,((d,f)=>{pe(HN,`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(d)} to execute ${Ac(n)}`);const m=(function(N,D){const R=kw(D);if(R===void 0)return null;for(const z of U0(N,R.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(f,d),p=(function(N,D){const R=new Map;for(const z of Xl(D))for(const P of U0(N,z.fieldPath))switch(P.op){case"==":case"in":R.set(z.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return R.set(z.fieldPath.canonicalString(),P.value),Array.from(R.values())}return null})(f,d),b=(function(N,D){const R=[];let z=!0;for(const P of Xl(D)){const O=P.kind===0?EN(N,P.fieldPath,N.startAt):SN(N,P.fieldPath,N.startAt);R.push(O.value),z&&(z=O.inclusive)}return new gd(R,z)})(f,d),_=(function(N,D){const R=[];let z=!0;for(const P of Xl(D)){const O=P.kind===0?SN(N,P.fieldPath,N.endAt):EN(N,P.fieldPath,N.endAt);R.push(O.value),z&&(z=O.inclusive)}return new gd(R,z)})(f,d),w=this.On(d,f,b),E=this.On(d,f,_),S=this.Nn(d,f,p),k=this.Bn(d.indexId,m,w,b.inclusive,E,_.inclusive,S);return Q.forEach(k,(j=>r.Y(j,n.limit).next((N=>{N.forEach((D=>{const R=Ae.fromSegments(D.documentKey);l.has(R)||(l=l.add(R),c.push(R))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=NK(Nt.create(e.filters,"and")).map((r=>zw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const b=n?this.Ln(n[p/f]):Og,_=this.kn(e,b,r[p%f],i),w=this.qn(e,b,s[p%f],l),E=c.map((S=>this.kn(e,b,S,!0)));m.push(...this.createRange(_,w,E))}return m}kn(e,n,r,i){const s=new ac(e,Ae.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new ac(e,Ae.empty(),n,r);return i?s.An():s}xn(e,n){const r=new qN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new wt(Zt.comparator),m=!1;for(const p of d.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:f=f.add(b.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new oh;for(const i of Xl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);ic.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new oh;return ic.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new oh;return ic.Kt.Dt(jS(this.databaseId,n),r.Pn((function(s){const l=Xl(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new oh);let s=0;for(const l of Xl(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&Qh(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);ic.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new oh;d.seed(c.un()),ic.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=lh(e),i=zu(e);return(n?r.J(Nw,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return Q.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const b=p?new $h(p.sequenceNumber,new di(kc(p.readTime),new Ae(Ua(p.documentKey)),p.largestBatchId)):$h.empty(),_=m.fields.map((([w,E])=>new u0(Zt.fromServerFormat(w),E)));return new j0(m.indexId,m.collectionGroup,_,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ye(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=lh(e),s=zu(e);return this.Gn(e).next((l=>i.J(Nw,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>s.put(zN(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?Q.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let s=new wt(zo);return i.ee({index:d4,range:IDBKeyRange.only([r.indexId,this.uid,v0(this.$n(r,n))])},((l,c)=>{s=s.add(new ac(r.indexId,n,FN(c.arrayValue),FN(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new wt(zo);const i=this.Qn(n,e);if(i==null)return r;const s=kw(n);if(s!=null){const l=e.data.field(s.fieldPath);if(Qh(l))for(const c of l.arrayValue.values||[])r=r.add(new ac(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new ac(n.indexId,e.key,Og,i));return r}Jn(e,n,r,i,s){pe(HN,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,b){const _=d.getIterator(),w=f.getIterator();let E=ju(_),S=ju(w);for(;E||S;){let k=!1,j=!1;if(E&&S){const N=m(E,S);N<0?j=!0:N>0&&(k=!0)}else E!=null?j=!0:k=!0;k?(p(S),S=ju(w)):j?(b(E),E=ju(_)):(E=ju(_),S=ju(w))}})(i,s,zo,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return zu(e).ee({index:u4,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>zo(l,c))).filter(((l,c,d)=>!c||zo(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=zo(l,e),d=zo(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Og,Ae.empty()),d=i[l+1].Vn(this.uid,Og,Ae.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return zo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(KN)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ne(44426))))).next(KN)}}function GN(t){return Nn(t,Yh)}function Du(t){return Nn(t,Rh)}function lh(t){return Nn(t,kS)}function zu(t){return Nn(t,Ph)}function KN(t){ze(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;TS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new di(e.readTime,e.documentKey,n)}const YN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m5=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function p5(t,e,n){const r=t.store(na),i=t.store(ud),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(d.next((()=>{ze(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=o4(e,m.key.path,n.batchId);s.push(i.delete(p)),f.push(m.key)}return Q.waitFor(s).next((()=>f))}function G0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ne(14731);e=t.noDocument}return JSON.stringify(e).length}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(m5,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class hv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){ze(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new hv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lo(e).ee({index:oc,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Yu(e),l=Lo(e);return l.add({}).next((c=>{ze(typeof c=="number",49019);const d=new VS(c,n,r,i),f=(function(_,w,E){const S=E.baseMutations.map((j=>q0(_.yt,j))),k=E.mutations.map((j=>q0(_.yt,j)));return{userId:w,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:k}})(this.serializer,this.userId,d),m=[];let p=new wt(((b,_)=>Ye(b.canonicalString(),_.canonicalString())));for(const b of i){const _=o4(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(f)),m.push(s.put(_,lG))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return Lo(e).get(n).next((r=>r?(ze(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),rc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Lo(e).ee({index:oc,range:i},((l,c,d)=>{c.userId===this.userId&&(ze(c.batchId>=r,47524,{tr:r}),s=rc(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=fc;return Lo(e).ee({index:oc,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,fc],[this.userId,Number.POSITIVE_INFINITY]);return Lo(e).J(oc,n).next((r=>r.map((i=>rc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=d0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Yu(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,b=Ua(m);if(f===this.userId&&n.path.isEqual(b))return Lo(e).get(p).next((_=>{if(!_)throw Ne(61480,{nr:l,batchId:p});ze(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:p}),s.push(rc(this.serializer,_))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ye);const i=[];return n.forEach((s=>{const l=d0(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Yu(e).ee({range:c},((f,m,p)=>{const[b,_,w]=f,E=Ua(_);b===this.userId&&s.path.isEqual(E)?r=r.add(w):p.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=d0(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new wt(Ye);return Yu(e).ee({range:l},((d,f,m)=>{const[p,b,_]=d,w=Ua(b);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(c=c.add(_)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Lo(e).get(s).next((l=>{if(l===null)throw Ne(35274,{batchId:s});ze(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(rc(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return p5(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Yu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ua(s[1]);i.push(d)}else c.done()})).next((()=>{ze(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return g5(e,this.userId,n)}_r(e){return y5(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:fc,lastStreamToken:""}))}}function g5(t,e,n){const r=d0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Yu(t).ee({range:s,X:!0},((c,d,f)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function Lo(t){return Nn(t,na)}function Yu(t){return Nn(t,ud)}function y5(t){return Nn(t,Gh)}class Cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cc(0)}static cr(){return new Cc(-1)}}class RK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Cc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ue.fromTimestamp(new _t(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Lu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(ze(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Lu(e).ee(((l,c)=>{const d=Eh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Lu(e).ee(((r,i)=>{const s=Eh(i);n(s)}))}lr(e){return WN(e).get(z0).next((n=>(ze(n!==null,2888),n)))}hr(e,n){return WN(e).put(z0,n)}Pr(e,n){return Lu(e).put(u5(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ac(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Lu(e).ee({range:i,index:c4},((l,c,d)=>{const f=Eh(c);Cm(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Ko(e);return n.forEach((l=>{const c=gr(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ko(e);return Q.forEach(n,(s=>{const l=gr(s.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Ko(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ko(e);let s=tt();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ua(l[1]),m=new Ae(f);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=gr(n.path),i=IDBKeyRange.bound([r],[Jz(r)],!1,!0);let s=0;return Ko(e).ee({index:IS,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Lu(e).get(n).next((r=>r?Eh(r):null))}}function Lu(t){return Nn(t,dd)}function WN(t){return Nn(t,hc)}function Ko(t){return Nn(t,fd)}const XN="LruGarbageCollector",v5=1048576;function QN([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class jK{constructor(e){this.Ir=e,this.buffer=new wt(QN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(XN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?pe(XN,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class MK{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(zr.ce);const r=new jK(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(YN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),$u()<=st.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function x5(t,e){return new MK(t,e)}class DK{constructor(e,n){this.db=e,this.garbageCollector=x5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Pg(e,r)}removeReference(e,n,r){return Pg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Pg(e,n)}br(e,n){return(function(i,s){let l=!1;return y5(i).te((c=>g5(i,c,s).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ue.min()),Ko(e).delete((function(p){return[0,gr(p.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Pg(e,n)}Sr(e,n){const r=Ko(e);let i,s=zr.ce;return r.ee({index:IS},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==zr.ce&&n(new Ae(Ua(i)),s),s=f,i=d):s=zr.ce})).next((()=>{s!==zr.ce&&n(new Ae(Ua(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pg(t,e){return Ko(t).put((function(r,i){return{targetId:0,path:gr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class _5{constructor(){this.changes=new Xs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Kl(e).put(r)}removeEntry(e,n,r){return Kl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],$0(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=rn.newInvalidDocument(n);return Kl(e).ee({index:f0,range:IDBKeyRange.only(ch(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:rn.newInvalidDocument(n)};return Kl(e).ee({index:f0,range:IDBKeyRange.only(ch(n))},((i,s)=>{r={document:this.Cr(n,s),size:G0(s)}})).next((()=>r))}getEntries(e,n){let r=ii();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ii(),i=new Dt(Ae.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,G0(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new wt(eO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(ch(i.first()),ch(i.last())),l=i.getIterator();let c=l.getNext();return Kl(e).ee({index:f0,range:s},((d,f,m)=>{const p=Ae.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&eO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(ch(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),$0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=ii();for(const p of f){const b=this.Cr(Ae.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(Nm(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=ii();const l=JN(n,r),c=JN(n,di.max());return Kl(e).ee({index:l4,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(Ae.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new LK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return ZN(e).get(Cw).next((n=>(ze(!!n,20021),n)))}Dr(e,n){return ZN(e).put(Cw,n)}Cr(e,n){if(n){const r=EK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ue.min())))return r}return rn.newInvalidDocument(e)}}function w5(t){return new zK(t)}class LK extends _5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Xs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new wt(((s,l)=>Ye(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=MN(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=G0(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=MN(this.Nr.serializer,l.convertToNoDocument(Ue.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function ZN(t){return Nn(t,Kh)}function Kl(t){return Nn(t,D0)}function ch(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JN(t,e){const n=e.documentKey.path.toArray();return[t,$0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ye(n[s],r[s]),i)return i;return i=Ye(n.length,r.length),i||(i=Ye(n[n.length-2],r[r.length-2]),i||Ye(n[n.length-1],r[r.length-1]))}class VK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class E5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&zh(r.mutation,i,Ri.empty(),_t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=Fa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=_h();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ii();const l=Dh(),c=(function(){return Dh()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof pl)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),zh(m.mutation,f,m.mutation.getFieldMask(),_t.now())):l.set(f.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new VK(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Dh();let i=new Dt(((l,c)=>l-c)),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Ri.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||tt()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=B4();m.forEach((b=>{if(!s.has(b)){const _=G4(n.get(b),r.get(b));_!==null&&p.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$G(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Fa());let c=cd,d=s;return l.next((f=>Q.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,tt()))).next((m=>({batchId:c,changes:V4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let i=_h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=_h();return this.indexManager.getCollectionParents(e,s).next((c=>Q.forEach(c,(d=>{const f=(function(p,b){return new ov(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,rn.newInvalidDocument(m)))}));let c=_h();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&zh(m.mutation,f,Ri.empty(),_t.now()),Nm(n,f)&&(c=c.insert(d,f))})),c}))}}class BK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sr(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:d5(i.bundledQuery),readTime:Sr(i.readTime)}})(n)),Q.resolve()}}class UK{constructor(){this.overlays=new Dt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return Q.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),s=n.length+1,l=new Ae(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Dt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Fa(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Fa(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new US(n,r));let s=this.qr.get(n);s===void 0&&(s=tt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class FK{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class GS{constructor(){this.Qr=new wt(Un.$r),this.Ur=new wt(Un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Un(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ae(new Ct([])),r=new Un(n,e),i=new Un(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new Ct([])),r=new Un(n,e),i=new Un(n,e+1);let s=tt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Un(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}class qK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wt(Un.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Un(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?fc:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),i=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ye);return n.forEach((i=>{const s=new Un(i,0),l=new Un(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const l=new Un(new Ae(s),0);let c=new wt(Ye);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const s=new Un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Un(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $K{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ii();const l=n.path,c=new Ae(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||TS(n4(m),r)<=0||(i.has(m.key)||Nm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HK(this)}getSize(e){return Q.resolve(this.size)}}class HK extends _5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class GK{constructor(e){this.persistence=e,this.si=new Xs((n=>Ac(n)),Cm),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new GS,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(s).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class KS{constructor(e,n){this.ui={},this.overlays={},this.ci=new zr(0),this.li=!1,this.li=!0,this.hi=new FK,this.referenceDelegate=e(this),this.Pi=new GK(this),this.indexManager=new OK,this.remoteDocumentCache=(function(i){return new $K(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c5(n),this.Ii=new BK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new KK(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class KK extends i4{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Ri=new GS,this.Vi=null}static mi(e){return new mv(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=Ae.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class K0{constructor(e,n){this.persistence=e,this.pi=new Xs((r=>gr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=x5(this,n)}static mi(e,n){return new K0(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Ue.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=m0(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class YK{constructor(e){this.serializer=e}k(e,n,r,i){const s=new ev("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(km)})(e),(function(d){d.createObjectStore(Gh,{keyPath:oG}),d.createObjectStore(na,{keyPath:dN,autoIncrement:!0}).createIndex(oc,fN,{unique:!0}),d.createObjectStore(ud)})(e),tO(e),(function(d){d.createObjectStore(Ql)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(fd),d.deleteObjectStore(dd),d.deleteObjectStore(hc)})(e),tO(e)),l=l.next((()=>(function(d){const f=d.store(hc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ue.min().toTimestamp(),targetCount:0};return f.put(z0,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(na).J().next((p=>{d.deleteObjectStore(na),d.createObjectStore(na,{keyPath:dN,autoIncrement:!0}).createIndex(oc,fN,{unique:!0});const b=f.store(na),_=p.map((w=>b.put(w)));return Q.waitFor(_)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(hd,{keyPath:gG})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Kh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(nv,{keyPath:yG})})(e),(function(d){d.createObjectStore(rv,{keyPath:vG})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(iv,{keyPath:TG});f.createIndex(Ow,AG,{unique:!1}),f.createIndex(f4,IG,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(D0,{keyPath:cG});f.createIndex(f0,uG),f.createIndex(l4,dG)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ql)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(kS,{keyPath:bG,autoIncrement:!0}).createIndex(Nw,xG,{unique:!1}),d.createObjectStore(Ph,{keyPath:_G}).createIndex(u4,wG,{unique:!1}),d.createObjectStore(Rh,{keyPath:EG}).createIndex(d4,SG,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Ph).clear()})).next((()=>{n.objectStore(Rh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(CS,{keyPath:kG})})(e)}))),r<18&&i>=18&&lz()&&(l=l.next((()=>{n.objectStore(Ph).clear()})).next((()=>{n.objectStore(Rh).clear()}))),l}wi(e){let n=0;return e.store(Ql).ee(((r,i)=>{n+=G0(i)})).next((()=>{const r={byteSize:n};return e.store(Kh).put(Cw,r)}))}yi(e){const n=e.store(Gh),r=e.store(na);return n.J().next((i=>Q.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,fc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(oc,l).next((c=>Q.forEach(c,(d=>{ze(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=rc(this.serializer,d);return p5(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(fd),r=e.store(Ql);return e.store(hc).get(z0).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new Ct(l),f=(function(p){return[0,gr(p)]})(d);s.push(n.get(f).next((m=>m?Q.resolve():(p=>n.put({targetId:0,path:gr(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(s)))}))}bi(e,n){e.createObjectStore(Yh,{keyPath:pG});const r=n.store(Yh),i=new HS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:gr(d)})}};return n.store(Ql).ee({X:!0},((l,c)=>{const d=new Ct(l);return s(d.popLast())})).next((()=>n.store(ud).ee({X:!0},(([l,c,d],f)=>{const m=Ua(c);return s(m.popLast())}))))}Di(e){const n=e.store(dd);return n.ee(((r,i)=>{const s=Eh(i),l=u5(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Ql),i=[];return r.ee(((s,l)=>{const c=n.store(D0),d=(function(p){return p.document?new Ae(Ct.fromString(p.document.name).popFirst(5)):p.noDocument?Ae.fromSegments(p.noDocument.path):p.unknownDocument?Ae.fromSegments(p.unknownDocument.path):Ne(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(na),i=w5(this.serializer),s=new KS(mv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??tt();rc(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const m=new mr(f),p=fv.wt(this.serializer,m),b=s.getIndexManager(m),_=hv.wt(m,this.serializer,b,s.referenceDelegate);return new E5(i,_,p,b).recalculateAndSaveOverlaysForDocumentKeys(new Pw(n,zr.ce),d).next()}))}))}}function tO(t){t.createObjectStore(fd,{keyPath:hG}).createIndex(IS,mG,{unique:!0}),t.createObjectStore(dd,{keyPath:"targetId"}).createIndex(c4,fG,{unique:!0}),t.createObjectStore(hc)}const Vo="IndexedDbPersistence",E1=18e5,S1=5e3,T1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WK="main";class YS{constructor(e,n,r,i,s,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!YS.v())throw new Ce(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DK(this,i),this.$i=n+WK,this.serializer=new c5(d),this.Ui=new nl(this.$i,this.Ni,new YK(this.serializer)),this.hi=new TK,this.Pi=new RK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=w5(this.serializer),this.Ii=new SK,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&un(Vo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(me.FAILED_PRECONDITION,T1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new zr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Rg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ml(e))return pe(Vo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Vo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return uh(e).get(Ru).next((n=>Q.resolve(this.es(n))))}ts(e){return Rg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,E1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Nn(n,hd);return r.J().next((i=>{const s=this.ss(i,E1),l=i.filter((c=>s.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):uh(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,S1)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ce(me.FAILED_PRECONDITION,T1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rg(e).J().next((r=>this.ss(r,S1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pe(Vo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[km,hd],(e=>{const n=new Pw(e,zr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Rg(e).J().next((n=>this.ss(n,E1).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return hv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe(Vo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?OG:d===17?g4:d===16?NG:d===15?NS:d===14?p4:d===13?m4:d===12?CG:d===11?h4:void Ne(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new Pw(c,this.ci?this.ci.next():zr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ce(me.FAILED_PRECONDITION,r4);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return uh(e).get(Ru).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,S1)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ce(me.FAILED_PRECONDITION,T1)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uh(e).put(Ru,n)}static v(){return nl.v()}Zi(e){const n=uh(e);return n.get(Ru).next((r=>this.es(r)?(pe(Vo,"Releasing primary lease."),n.delete(Ru)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(un(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;oz()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return pe(Vo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return un(Vo,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uh(t){return Nn(t,km)}function Rg(t){return Nn(t,hd)}function S5(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class WS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=tt(),i=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WS(e,n.fromCache,r,i)}}class XK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class T5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oz()?8:a4(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new XK;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?($u()<=st.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):($u()<=st.DEBUG&&pe("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($u()<=st.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):Q.resolve())}ys(e,n){if(TN(n))return Q.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Lw(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=tt(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,Lw(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return TN(n)||i.isEqual(Ue.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Q.resolve(null):($u()<=st.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,t4(i,cd)).next((c=>c)))}))}Ds(e,n){let r=new wt(z4(e));return n.forEach(((i,s)=>{Nm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return $u()<=st.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,di.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const XS="LocalStore",QK=3e8;class ZK{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Dt(Ye),this.xs=new Xs((s=>Ac(s)),Cm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function A5(t,e,n,r){return new ZK(t,e,n,r)}async function I5(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=tt();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function JK(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,b=p.keys();let _=Q.resolve();return b.forEach((w=>{_=_.next((()=>m.getEntry(d,w))).next((E=>{const S=f.docVersions.get(w);ze(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=tt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function k5(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eY(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(dn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=QK?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(b,_,m)&&c.push(n.Pi.updateTargetData(s,_))}));let d=ii(),f=tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(tY(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Ue.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Q.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function tY(t,e,n){let r=tt(),i=tt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ii();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):pe(XS,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function nY(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y0(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Cs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function _d(t,e,n){const r=Me(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ml(l))throw l;pe(XS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Gw(t,e,n){const r=Me(t);let i=Ue.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=Me(d),b=p.xs.get(m);return b!==void 0?Q.resolve(p.Ms.get(b)):p.Pi.getTargetData(f,m)})(r,l,li(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ue.min(),n?s:tt()))).next((c=>(O5(r,D4(e),c),{documents:c,Qs:s})))))}function C5(t,e){const n=Me(t),r=Me(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function N5(t,e){const n=Me(t),r=n.Os.get(e)||Ue.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,t4(r,cd),Number.MAX_SAFE_INTEGER))).then((i=>(O5(n,e,i),i)))}function O5(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}const P5="firestore_clients";function nO(t,e){return`${P5}_${t}_${e}`}const R5="firestore_mutations";function rO(t,e,n){let r=`${R5}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const j5="firestore_targets";function A1(t,e){return`${j5}_${t}_${e}`}const La="SharedClientState";class W0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new Ce(i.error.code,i.error.message))),l?new W0(e,n,i.state,s):(un(La,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ce(r.error.code,r.error.message))),s?new Lh(e,r.state,i):(un(La,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class X0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=DS();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=s4(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new X0(e,s):(un(La,`Failed to parse client data for instance '${e}': ${n}`),null)}}class QS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new QS(n.clientId,n.onlineState):(un(La,`Failed to parse online state: ${e}`),null)}}class Kw{constructor(){this.activeTargetIds=DS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I1{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Dt(Ye),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=nO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Kw),this.ro=new RegExp(`^${P5}_${l}_([^_]*)$`),this.io=new RegExp(`^${R5}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${j5}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(nO(this.persistenceKey,r));if(i){const s=X0.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(A1(this.persistenceKey,e));if(i){const s=Lh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(A1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pe(La,"READ",e,n),n}setItem(e,n){pe(La,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){pe(La,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(pe(La,"EVENT",n.key,n.newValue),n.key===this.eo)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=zr.ce;if(s!=null)try{const c=JSON.parse(s);ze(typeof c=="number",30636,{So:s}),l=c}catch(c){un(La,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==zr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new W0(this.currentUser,e,n,r),s=rO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=rO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=A1(this.persistenceKey,e),s=new Lh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return X0.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return W0.Ws(new mr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Lh.Ws(i,n)}uo(e){return QS.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(La,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=DS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class M5{constructor(){this.Mo=new Kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rY{Oo(e){}shutdown(){}}const iO="ConnectivityMonitor";class aO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(iO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(iO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jg=null;function Yw(){return jg===null?jg=(function(){return 268435456+Math.round(2147483648*Math.random())})():jg++,"0x"+jg.toString(16)}const k1="RestConnection",iY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aY{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===L0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Yw(),c=this.zo(e,n.toUriEncodedString());pe(k1,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),m=Bd(f);return this.Jo(e,c,d,r,m).then((p=>(pe(k1,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw qh(k1,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=iY[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class sY{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fr="WebChannelConnection";class oY extends aY{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Yw();return new Promise(((c,d)=>{const f=new Kz;f.setWithCredentials(!0),f.listenOnce(Yz.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case c0.NO_ERROR:const p=f.getResponseJson();pe(fr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case c0.TIMEOUT:pe(fr,`RPC '${e}' ${l} timed out`),d(new Ce(me.DEADLINE_EXCEEDED,"Request time out"));break;case c0.HTTP_ERROR:const b=f.getStatus();if(pe(fr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_?.error;if(w&&w.status&&w.message){const E=(function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(j)>=0?j:me.UNKNOWN})(w.status);d(new Ce(E,w.message))}else d(new Ce(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ce(me.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(fr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);pe(fr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Yw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Qz(),c=Xz(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");pe(fr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let b=!1,_=!1;const w=new sY({Yo:S=>{_?pe(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(pe(fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),pe(fr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,k,j)=>{S.listen(k,(N=>{try{j(N)}catch(D){setTimeout((()=>{throw D}),0)}}))};return E(p,xh.EventType.OPEN,(()=>{_||(pe(fr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),E(p,xh.EventType.CLOSE,(()=>{_||(_=!0,pe(fr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),E(p,xh.EventType.ERROR,(S=>{_||(_=!0,qh(fr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new Ce(me.UNAVAILABLE,"The operation could not be completed")))})),E(p,xh.EventType.MESSAGE,(S=>{if(!_){const k=S.data[0];ze(!!k,16349);const j=k,N=j?.error||j[0]?.error;if(N){pe(fr,`RPC '${e}' stream ${i} received error:`,N);const D=N.status;let R=(function(O){const V=_n[O];if(V!==void 0)return W4(V)})(D),z=N.message;R===void 0&&(R=me.INTERNAL,z="Unknown error status: "+D+" with message "+N.message),_=!0,w.a_(new Ce(R,z)),p.close()}else pe(fr,`RPC '${e}' stream ${i} received:`,k),w.u_(k)}})),E(c,Wz.STAT_EVENT,(S=>{S.stat===Aw.PROXY?pe(fr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Aw.NOPROXY&&pe(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function D5(){return typeof window<"u"?window:null}function b0(){return typeof document<"u"?document:null}function pv(t){return new hK(t,!0)}class z5{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sO="PersistentStream";class L5{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ce(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(sO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(sO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lY extends L5{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gK(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ue.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Sr(l.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Uw(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=B0(d)?{documents:r5(s,d)}:{query:i5(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Z4(s,l.resumeToken);const f=Vw(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ue.min())>0){c.readTime=xd(s,l.snapshotVersion.toTimestamp());const f=Vw(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=vK(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Uw(this.serializer),n.removeTarget=e,this.q_(n)}}class cY extends L5{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yK(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Uw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>q0(this.serializer,r)))};this.q_(n)}}class uY{}class dY extends uY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Bw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(me.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Bw(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Nc="RemoteStore";class hY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bc(this)&&(pe(Nc,"Restarting streams for network reachability change."),await(async function(d){const f=Me(d);f.Ea.add(4),await Rm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await gv(f)})(this))}))})),this.Ra=new fY(r,i)}}async function gv(t){if(Bc(t))for(const e of t.da)await e(!0)}async function Rm(t){for(const e of t.da)await e(!1)}function yv(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eT(n)?JS(n):Gd(n).O_()&&ZS(n,e))}function wd(t,e){const n=Me(t),r=Gd(n);n.Ia.delete(e),r.O_()&&V5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bc(n)&&n.Ra.set("Unknown"))}function ZS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gd(t).Y_(e)}function V5(t,e){t.Va.Ue(e),Gd(t).Z_(e)}function JS(t){t.Va=new cK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gd(t).start(),t.Ra.ua()}function eT(t){return Bc(t)&&!Gd(t).x_()&&t.Ia.size>0}function Bc(t){return Me(t).Ea.size===0}function B5(t){t.Va=void 0}async function mY(t){t.Ra.set("Online")}async function pY(t){t.Ia.forEach(((e,n)=>{ZS(t,e)}))}async function gY(t,e){B5(t),eT(t)?(t.Ra.ha(e),JS(t)):t.Ra.set("Unknown")}async function yY(t,e,n){if(t.Ra.set("Online"),e instanceof Q4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){pe(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Q0(t,r)}else if(e instanceof y0?t.Va.Ze(e):e instanceof X4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await k5(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(dn.EMPTY_BYTE_STRING,m.snapshotVersion)),V5(s,d);const p=new Cs(m.target,d,f,m.sequenceNumber);ZS(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){pe(Nc,"Failed to raise snapshot:",r),await Q0(t,r)}}async function Q0(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Rm(t),t.Ra.set("Offline"),n||(n=()=>k5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Nc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gv(t)}))}function U5(t,e){return e().catch((n=>Q0(t,n,e)))}async function Hd(t){const e=Me(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fc;for(;vY(e);)try{const i=await nY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,bY(e,i)}catch(i){await Q0(e,i)}F5(e)&&q5(e)}function vY(t){return Bc(t)&&t.Ta.length<10}function bY(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function F5(t){return Bc(t)&&!sl(t).x_()&&t.Ta.length>0}function q5(t){sl(t).start()}async function xY(t){sl(t).ra()}async function _Y(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function wY(t,e,n){const r=t.Ta.shift(),i=BS.from(r,e,n);await U5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Hd(t)}async function EY(t,e){e&&sl(t).X_&&await(async function(r,i){if((function(l){return sK(l)&&l!==me.ABORTED})(i.code)){const s=r.Ta.shift();sl(r).B_(),await U5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Hd(r)}})(t,e),F5(t)&&q5(t)}async function oO(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),pe(Nc,"RemoteStore received new credentials");const r=Bc(n);n.Ea.add(3),await Rm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gv(n)}async function Ww(t,e){const n=Me(t);e?(n.Ea.delete(2),await gv(n)):e||(n.Ea.add(2),await Rm(n),n.Ra.set("Unknown"))}function Gd(t){return t.ma||(t.ma=(function(n,r,i){const s=Me(n);return s.sa(),new lY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mY.bind(null,t),t_:pY.bind(null,t),r_:gY.bind(null,t),H_:yY.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),eT(t)?JS(t):t.Ra.set("Unknown")):(await t.ma.stop(),B5(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const s=Me(n);return s.sa(),new cY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xY.bind(null,t),r_:EY.bind(null,t),ta:_Y.bind(null,t),na:wY.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Nc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class tT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new tT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nT(t,e){if(un("AsyncQueue",`${e}: ${t}`),ml(t))return new Ce(me.UNAVAILABLE,`${e}: ${t}`);throw t}class td{static emptySet(e){return new td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=_h(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lO{constructor(){this.ga=new Dt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ed{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ed(e,n,td.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class SY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TY{constructor(){this.queries=cO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Me(n),s=i.queries;i.queries=cO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Ce(me.ABORTED,"Firestore shutting down"))}}function cO(){return new Xs((t=>M4(t)),cv)}async function AY(t,e){const n=Me(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new SY,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=nT(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rT(n)}async function IY(t,e){const n=Me(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kY(t,e){const n=Me(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&rT(n)}function CY(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function rT(t){t.Ca.forEach((e=>{e.next()}))}var Xw,uO;(uO=Xw||(Xw={})).Ma="default",uO.Cache="cache";class NY{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xw.Cache}}class $5{constructor(e){this.key=e}}class H5{constructor(e){this.key=e}}class OY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=z4(e),this.tu=new td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),_=Nm(this.query,p)?p:null,w=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;b&&_?b.data.isEqual(_.data)?w!==E&&(r.track({type:3,doc:_}),S=!0):this.su(b,_)||(r.track({type:2,doc:_}),S=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),S=!0):b&&!_&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(c=!0)),S&&(_?(l=l.add(_),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:S})}};return E(_)-E(w)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Ed(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new H5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ed.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kd="SyncEngine";class PY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RY{constructor(e){this.key=e,this.hu=!1}}class jY{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xs((c=>M4(c)),cv),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ae.comparator),this.Au=new Map,this.Ru=new GS,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MY(t,e,n=!0){const r=vv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await G5(r,e,n,!0),i}async function DY(t,e){const n=vv(t);await G5(n,e,!0,!1)}async function G5(t,e,n,r){const i=await Y0(t.localStore,li(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await iT(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&yv(t.remoteStore,i),c}async function iT(t,e,n,r,i){t.pu=(p,b,_)=>(async function(E,S,k,j){let N=S.view.ru(k);N.Cs&&(N=await Gw(E.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,N))));const D=j&&j.targetChanges.get(S.targetId),R=j&&j.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(N,E.isPrimaryClient,D,R);return Qw(E,S.targetId,z.au),z.snapshot})(t,p,b,_);const s=await Gw(t.localStore,e,!0),l=new OY(e,s.Qs),c=l.ru(s.documents),d=Pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);Qw(t,n,f.au);const m=new PY(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function zY(t,e,n){const r=Me(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!cv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _d(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wd(r.remoteStore,i.targetId),Sd(r,i.targetId)})).catch(hl)):(Sd(r,i.targetId),await _d(r.localStore,i.targetId,!0))}async function LY(t,e){const n=Me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wd(n.remoteStore,r.targetId))}async function VY(t,e,n){const r=lT(t);try{const i=await(function(l,c){const d=Me(l),f=_t.now(),m=c.reduce(((_,w)=>_.add(w.key)),tt());let p,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let w=ii(),E=tt();return d.Ns.getEntries(_,m).next((S=>{w=S,w.forEach(((k,j)=>{j.isValidDocument()||(E=E.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,w))).next((S=>{p=S;const k=[];for(const j of c){const N=iK(j,p.get(j.key).overlayedDocument);N!=null&&k.push(new pl(j.key,N,A4(N.value.mapValue),ai.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,k,c)})).next((S=>{b=S;const k=S.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(_,S.batchId,k)}))})).then((()=>({batchId:b.batchId,changes:V4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Dt(Ye)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await gl(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=nT(i,"Failed to persist write");n.reject(s)}}async function K5(t,e){const n=Me(t);try{const r=await eY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ze(l.hu,14607):i.removedDocuments.size>0&&(ze(l.hu,42227),l.hu=!1))})),await gl(n,r,e)}catch(r){await hl(r)}}function dO(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Me(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(c)&&(f=!0)})),f&&rT(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BY(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Dt(Ae.comparator);l=l.insert(s,rn.newNoDocument(s,Ue.min()));const c=tt().add(s),d=new Om(Ue.min(),new Map,new Dt(Ye),l,c);await K5(r,d),r.du=r.du.remove(s),r.Au.delete(e),oT(r)}else await _d(r.localStore,e,!1).then((()=>Sd(r,e,n))).catch(hl)}async function UY(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await JK(n.localStore,e);sT(n,r,null),aT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gl(n,i)}catch(i){await hl(i)}}async function FY(t,e,n){const r=Me(t);try{const i=await(function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(ze(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);sT(r,e,n),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gl(r,i)}catch(i){await hl(i)}}function aT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sT(t,e,n){const r=Me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Y5(t,r)}))}function Y5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),oT(t))}function Qw(t,e,n){for(const r of n)r instanceof $5?(t.Ru.addReference(r.key,e),qY(t,r)):r instanceof H5?(pe(Kd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Y5(t,r.key)):Ne(19791,{wu:r})}function qY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(Kd,"New document in limbo: "+n),t.Eu.add(r),oT(t))}function oT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new RY(n)),t.du=t.du.insert(n,r),yv(t.remoteStore,new Cs(li(lv(n.path)),r,"TargetPurposeLimboResolution",zr.ce))}}async function gl(t,e,n){const r=Me(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=WS.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(f,(b=>Q.forEach(b.Es,(_=>m.persistence.referenceDelegate.addReference(p,b.targetId,_))).next((()=>Q.forEach(b.ds,(_=>m.persistence.referenceDelegate.removeReference(p,b.targetId,_)))))))))}catch(p){if(!ml(p))throw p;pe(XS,"Failed to update sequence numbers: "+p)}for(const p of f){const b=p.targetId;if(!p.fromCache){const _=m.Ms.get(b),w=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function $Y(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){pe(Kd,"User change. New user:",e.toKey());const r=await I5(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ce(me.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gl(n,r.Ls)}}function HY(t,e){const n=Me(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let i=tt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function GY(t,e){const n=Me(t),r=await Gw(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&Qw(n,e.targetId,i.au),i}async function KY(t,e){const n=Me(t);return N5(n.localStore,e).then((r=>gl(n,r)))}async function YY(t,e,n,r){const i=Me(t),s=await(function(c,d){const f=Me(c),m=Me(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,d).next((b=>b?f.localDocuments.getDocuments(p,b):Q.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Hd(i.remoteStore):n==="acknowledged"||n==="rejected"?(sT(i,e,r||null),aT(i,e),(function(c,d){Me(Me(c).mutationQueue).ir(d)})(i.localStore,e)):Ne(6720,"Unknown batchState",{Su:n}),await gl(i,s)):pe(Kd,"Cannot apply mutation batch with id: "+e)}async function WY(t,e){const n=Me(t);if(vv(n),lT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await fO(n,r.toArray());n.gu=!0,await Ww(n.remoteStore,!0);for(const s of i)yv(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Sd(n,l),_d(n.localStore,l,!0)))),wd(n.remoteStore,l)})),await i,await fO(n,r),(function(l){const c=Me(l);c.Au.forEach(((d,f)=>{wd(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Dt(Ae.comparator)})(n),n.gu=!1,await Ww(n.remoteStore,!1)}}async function fO(t,e,n){const r=Me(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await Y0(r.localStore,li(d[0]));for(const f of d){const m=r.Tu.get(f),p=await GY(r,m);p.snapshot&&s.push(p.snapshot)}}else{const f=await C5(r.localStore,l);c=await Y0(r.localStore,f),await iT(r,W5(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function W5(t){return j4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function XY(t){return(function(n){return Me(Me(n).persistence).Ts()})(Me(t).localStore)}async function QY(t,e,n,r){const i=Me(t);if(i.gu)return void pe(Kd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await N5(i.localStore,D4(s[0])),c=Om.createSynthesizedRemoteEventForCurrentChange(e,n==="current",dn.EMPTY_BYTE_STRING);await gl(i,l,c);break}case"rejected":await _d(i.localStore,e,!0),Sd(i,e,r);break;default:Ne(64155,n)}}async function ZY(t,e,n){const r=vv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(Kd,"Adding an already active target "+i);continue}const s=await C5(r.localStore,i),l=await Y0(r.localStore,s);await iT(r,W5(s),l.targetId,!1,l.resumeToken),yv(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await _d(r.localStore,i,!1).then((()=>{wd(r.remoteStore,i),Sd(r,i)})).catch(hl)}}function vv(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BY.bind(null,e),e.Pu.H_=kY.bind(null,e.eventManager),e.Pu.yu=CY.bind(null,e.eventManager),e}function lT(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FY.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return A5(this.persistence,new T5,e.initialUser,this.serializer)}Cu(e){return new KS(mv.mi,this.serializer)}Du(e){return new M5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class JY extends em{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ze(this.persistence.referenceDelegate instanceof K0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new b5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new KS((r=>K0.mi(r,n)),this.serializer)}}class X5 extends em{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await lT(this.xu.syncEngine),await Hd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return A5(this.persistence,new T5,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new b5(r,e.asyncQueue,n)}Mu(e,n){const r=new aG(n,this.persistence);return new iG(e.asyncQueue,r)}Cu(e){const n=S5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new YS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,D5(),b0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new M5}}class eW extends X5{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof I1&&(this.sharedClientState.syncEngine={Co:YY.bind(null,n),vo:QY.bind(null,n),Fo:ZY.bind(null,n),Ts:XY.bind(null,n),Do:KY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await WY(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=D5();if(!I1.v(n))throw new Ce(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=S5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new I1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Y.bind(null,this.syncEngine),await Ww(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TY})()}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=(function(s){return new oY(s)})(e.databaseInfo);return(function(s,l,c,d){return new dY(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new hY(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>dO(this.syncEngine,n,0)),(function(){return aO.v()?new aO:new rY})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,m){const p=new jY(i,s,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Me(n);pe(Nc,"RemoteStore shutting down."),r.Ea.add(5),await Rm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class tW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ol="FirestoreClient";class nW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{pe(ol,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(ol,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function C1(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ol,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await I5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rW(t);pe(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oO(e.remoteStore,i))),t._onlineComponents=e}async function rW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ol,"Using user provided OfflineComponentProvider");try{await C1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;qh("Error using user provided cache. Falling back to memory cache: "+n),await C1(t,new em)}}else pe(ol,"Using default OfflineComponentProvider"),await C1(t,new JY(void 0));return t._offlineComponents}async function Q5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ol,"Using user provided OnlineComponentProvider"),await hO(t,t._uninitializedComponentsProvider._online)):(pe(ol,"Using default OnlineComponentProvider"),await hO(t,new tm))),t._onlineComponents}function iW(t){return Q5(t).then((e=>e.syncEngine))}async function mO(t){const e=await Q5(t),n=e.eventManager;return n.onListen=MY.bind(null,e.syncEngine),n.onUnlisten=zY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LY.bind(null,e.syncEngine),n}function Z5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pO=new Map;const aW="firestore.googleapis.com",gO=!0;class yO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aW,this.ssl=gO}else this.host=e.host,this.ssl=e.ssl??gO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v5)throw new Ce(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J5{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HH;switch(r.type){case"firstParty":return new YH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pO.get(n);r&&(pe("ComponentProvider","Removing Datastore"),pO.delete(n),r.terminate())})(this),Promise.resolve()}}class bv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bv(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}toJSON(){return{type:qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Im(n,qn._jsonSchema))return new qn(e,r||null,new Ae(Ct.fromString(n.referencePath)))}}qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:En("string",qn._jsonSchemaVersion),referencePath:En("string")};class nm extends bv{constructor(e,n,r){super(e,n,lv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ae(e))}withConverter(e){return new nm(this.firestore,e,this._path)}}function N1(t,e,...n){if(t=Br(t),arguments.length===1&&(e=ES.newId()),eG("doc","path",e),t instanceof J5){const r=Ct.fromString(e,...n);return sN(r),new qn(t,null,new Ae(r))}{if(!(t instanceof qn||t instanceof nm))throw new Ce(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return sN(r),new qn(t.firestore,t instanceof nm?t.converter:null,new Ae(r))}}const vO="AsyncQueue";class bO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z5(this,"async_queue_retry"),this._c=()=>{const r=b0();r&&pe(vO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=b0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=b0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;pe(vO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",xO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=tT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:xO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function _O(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Z0 extends J5{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bO(e),this._firestoreClient=void 0,await e}}}function sW(t,e,n){n||(n=L0);const r=dS(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(_c(s,e))return i;throw new Ce(me.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ce(me.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v5)throw new Ce(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Bd(e.host)&&az(e.host),r.initialize({options:e,instanceIdentifier:n})}function e3(t){if(t._terminated)throw new Ce(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oW(t),t._firestoreClient}function oW(t){const e=t._freezeSettings(),n=(function(i,s,l,c){return new RG(i,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Z5(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(dn.fromBase64String(e))}catch(n){throw new Ce(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Im(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:En("string",Pi._jsonSchemaVersion),bytes:En("string")};class cT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t3{constructor(e){this._methodName=e}}class Ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ha._jsonSchemaVersion}}static fromJSON(e){if(Im(e,Ha._jsonSchema))return new Ha(e.latitude,e.longitude)}}Ha._jsonSchemaVersion="firestore/geoPoint/1.0",Ha._jsonSchema={type:En("string",Ha._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class Ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Im(e,Ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ga(e.vectorValues);throw new Ce(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ga._jsonSchemaVersion="firestore/vectorValue/1.0",Ga._jsonSchema={type:En("string",Ga._jsonSchemaVersion),vectorValues:En("object")};const lW=/^__.*__$/;class cW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}function n3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class uT{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return J0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n3(this.Ac)&&lW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}Cc(e,n,r,i=!1){return new uT({Ac:e,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dW(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new uW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fW(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);s3("Data must be an object, but it was:",l,r);const c=i3(r,l);let d,f;if(s.merge)d=new Ri(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=hW(e,p,n);if(!l.contains(b))throw new Ce(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);pW(m,b)||m.push(b)}d=new Ri(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new cW(new Dr(c),d,f)}function r3(t,e){if(a3(t=Br(t)))return s3("Unsupported field value:",e,t),i3(t,e);if(t instanceof t3)return(function(r,i){if(!n3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=r3(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Br(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:xd(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,s)}}if(r instanceof Ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:Z4(i.serializer,r._byteString)};if(r instanceof qn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return(function(l,c){return{mapValue:{fields:{[PS]:{stringValue:RS},[md]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return zS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${SS(r)}`)})(t,e)}function i3(t,e){const n={};return y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(t,((r,i)=>{const s=r3(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function a3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Ha||t instanceof Pi||t instanceof qn||t instanceof t3||t instanceof Ga)}function s3(t,e,n){if(!a3(n)||!e4(n)){const r=SS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function hW(t,e,n){if((e=Br(e))instanceof cT)return e._internalPath;if(typeof e=="string")return o3(t,e);throw J0("Field path arguments must be of type string or ",t,!1,void 0,n)}const mW=new RegExp("[~\\*/\\[\\]]");function o3(t,e,n){if(e.search(mW)>=0)throw J0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cT(...e.split("."))._internalPath}catch{throw J0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J0(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ce(me.INVALID_ARGUMENT,c+t+d)}function pW(t,e){return t.some((n=>n.isEqual(e)))}class l3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gW extends l3{data(){return super.data()}}function c3(t,e){return typeof e=="string"?o3(t,e):e instanceof cT?e._internalPath:e._delegate._internalPath}function yW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vW{convertValue(e,n="none"){switch(il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[md].arrayValue?.values?.map((r=>Gt(r.doubleValue)));return new Ga(n)}convertGeoPoint(e){return new Ha(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wh(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);ze(l5(r),9688,{name:e});const i=new Tc(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bW(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pc extends l3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(c3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",pc._jsonSchema={type:En("string",pc._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class x0 extends pc{data(e={}){return super.data(e)}}class nd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new x0(this._firestore,this._userDataWriter,r.key,r,new Sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:xW(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ES.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}nd._jsonSchemaVersion="firestore/querySnapshot/1.0",nd._jsonSchema={type:En("string",nd._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class u3 extends vW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function _W(t,e,n){t=Ch(t,qn);const r=Ch(t.firestore,Z0),i=bW(t.converter,e);return wW(r,[fW(dW(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ai.none())])}function wO(t,...e){t=Br(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_O(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_O(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,c;if(t instanceof qn)l=Ch(t.firestore,Z0),c=lv(t._key.path),s={next:d=>{e[r]&&e[r](EW(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ch(t,bv);l=Ch(d.firestore,Z0),c=d._query;const f=new u3(l);s={next:m=>{e[r]&&e[r](new nd(l,f,d,m))},error:e[r+1],complete:e[r+2]},yW(t._query)}return(function(f,m,p,b){const _=new tW(b),w=new NY(m,_,p);return f.asyncQueue.enqueueAndForget((async()=>AY(await mO(f),w))),()=>{_.Nu(),f.asyncQueue.enqueueAndForget((async()=>IY(await mO(f),w)))}})(e3(l),c,i,s)}function wW(t,e){return(function(r,i){const s=new tl;return r.asyncQueue.enqueueAndForget((async()=>VY(await iW(r),i,s))),s.promise})(e3(t),e)}function EW(t,e,n){const r=n.docs.get(e._key),i=new u3(t);return new pc(t,i,e._key,r,new Sh(n.hasPendingWrites,n.fromCache),e.converter)}class SW{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=kW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function TW(t){return new SW(t)}class AW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=tm.provider,this._offlineComponentProvider={build:n=>new X5(n,e?.cacheSizeBytes,this.forceOwnership)}}}class IW{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=tm.provider,this._offlineComponentProvider={build:n=>new eW(n,e?.cacheSizeBytes)}}}function kW(t){return new AW(t?.forceOwnership)}function CW(){return new IW}(function(e,n=!0){(function(i){qd=i})(Ud),sd(new wc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Z0(new GH(r.getProvider("auth-internal")),new WH(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ce(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Jo(nN,rN,e),Jo(nN,rN,"esm2020")})();const NW={apiKey:"AIzaSyAqUzObMbnenCmuXeTan2V87YjAQ4HQ30s",authDomain:"vaultly-ce7e1.firebaseapp.com",projectId:"vaultly-ce7e1",storageBucket:"vaultly-ce7e1.firebasestorage.app",messagingSenderId:"",appId:""},d3=fz(NW),Mg=BH(d3),OW=new Ss,O1=sW(d3,{localCache:TW({tabManager:CW()})}),f3=T.createContext(void 0),PW=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const c=C$(Mg,d=>{n(d),i(!1)});return()=>c()},[]);const s=async()=>{try{await A$(Mg,Dz),await W$(Mg,OW)}catch(c){throw console.error("Error signing in with Google",c),c}},l=async()=>{try{await N$(Mg)}catch(c){console.error("Error signing out",c)}};return y.jsx(f3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},jm=()=>{const t=T.useContext(f3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_s={transactions:[],categories:{income:["Salario","Freelance","Inversiones","Regalos","Ventas","Otros"],expense:["Comida","Transporte","Entretenimiento","Servicios","Vivienda","Salud","Educacin","Otros"]},projects:[],scheduledTransactions:[],presets:[],settings:{currency:"$",theme:"classic",hasSeenOnboarding:!1},goals:[],funds:[],credits:[],version:2,lastUpdated:Date.now()},Dg={subscribeToMasterDoc(t,e,n){const r=N1(O1,"users",t,"data","master");return console.log(`[CloudStorage] Subscribing to ${r.path}`),wO(r,i=>{const s=i.metadata.fromCache?"local cache":"server";console.log(`[CloudStorage] Data received from ${s}`),i.exists()?e(i.data()):(console.log("[CloudStorage] Document does not exist"),e(null))},i=>{console.error("[CloudStorage] Snapshot Error:",i),i.code==="permission-denied"&&console.error("CRITICAL: Permission Denied. Check Firestore Rules/Auth."),n(i)})},async fetchMasterDoc(t){return new Promise((e,n)=>{const r=N1(O1,"users",t,"data","master"),i=wO(r,s=>{i(),s.exists()?e(s.data()):e(null)},s=>{i(),n(s)})})},async saveMasterDoc(t,e){try{const n=N1(O1,"users",t,"data","master");await _W(n,{...e,lastUpdated:Date.now()}),console.log("[CloudStorage] Master Doc Saved Successfully")}catch(n){throw console.error("Error saving master doc:",n),n.code==="permission-denied"?new Error("Permiso denegado al guardar. Ests logueado?"):n}}};function RW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const jW=t=>{switch(t){case"success":return zW;case"info":return VW;case"warning":return LW;case"error":return BW;default:return null}},MW=Array(12).fill(0),DW=({visible:t,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},xe.createElement("div",{className:"sonner-spinner"},MW.map((n,r)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zW=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LW=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VW=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BW=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UW=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FW=()=>{const[t,e]=xe.useState(document.hidden);return xe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Zw=1;class qW{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Zw++,l=this.toasts.find(d=>d.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...e,id:s,title:r}),{...d,...e,id:s,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],xe.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(HW(f)&&!f.ok){s=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(f instanceof Error){s=!1;const p=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:b,...w})}else if(n.success!==void 0){s=!1;const p=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:b,...w})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){s=!1;const m=typeof n.error=="function"?await n.error(f):n.error,p=typeof n.description=="function"?await n.description(f):n.description,_=typeof m=="object"&&!xe.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,..._})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||Zw++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mr=new qW,$W=(t,e)=>{const n=e?.id||Zw++;return Mr.addToast({title:t,...e,id:n}),n},HW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GW=$W,KW=()=>Mr.toasts,YW=()=>Mr.getActiveToasts(),Kt=Object.assign(GW,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:KW,getToasts:YW});RW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function zg(t){return t.label!==void 0}const WW=3,XW="24px",QW="16px",EO=4e3,ZW=356,JW=14,eX=45,tX=200;function Ma(...t){return t.filter(Boolean).join(" ")}function nX(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const rX=t=>{var e,n,r,i,s,l,c,d,f;const{invert:m,toast:p,unstyled:b,interacting:_,setHeights:w,visibleToasts:E,heights:S,index:k,toasts:j,expanded:N,removeToast:D,defaultRichColors:R,closeButton:z,style:P,cancelButtonStyle:O,actionButtonStyle:V,className:q="",descriptionClassName:L="",duration:F,position:U,gap:be,expandByDefault:Ee,classNames:Y,icons:re,closeButtonAriaLabel:$="Close toast"}=t,[oe,_e]=xe.useState(null),[H,ne]=xe.useState(null),[ie,ue]=xe.useState(!1),[ge,ke]=xe.useState(!1),[we,Le]=xe.useState(!1),[X,Ie]=xe.useState(!1),[Ve,he]=xe.useState(!1),[zt,Xe]=xe.useState(0),[Xt,Ot]=xe.useState(0),an=xe.useRef(p.duration||F||EO),ye=xe.useRef(null),Ke=xe.useRef(null),jt=k===0,Ui=k+1<=E,Kn=p.type,Fi=p.dismissible!==!1,Yn=p.className||"",ts=p.descriptionClassName||"",pa=xe.useMemo(()=>S.findIndex(qe=>qe.toastId===p.id)||0,[S,p.id]),xl=xe.useMemo(()=>{var qe;return(qe=p.closeButton)!=null?qe:z},[p.closeButton,z]),qi=xe.useMemo(()=>p.duration||F||EO,[p.duration,F]),_l=xe.useRef(0),$i=xe.useRef(0),wl=xe.useRef(0),Hi=xe.useRef(null),[Fr,Tn]=U.split("-"),vr=xe.useMemo(()=>S.reduce((qe,pt,hn)=>hn>=pa?qe:qe+pt.height,0),[S,pa]),Ft=FW(),Gc=p.invert||m,ga=Kn==="loading";$i.current=xe.useMemo(()=>pa*be+vr,[pa,vr]),xe.useEffect(()=>{an.current=qi},[qi]),xe.useEffect(()=>{ue(!0)},[]),xe.useEffect(()=>{const qe=Ke.current;if(qe){const pt=qe.getBoundingClientRect().height;return Ot(pt),w(hn=>[{toastId:p.id,height:pt,position:p.position},...hn]),()=>w(hn=>hn.filter(Mn=>Mn.toastId!==p.id))}},[w,p.id]),xe.useLayoutEffect(()=>{if(!ie)return;const qe=Ke.current,pt=qe.style.height;qe.style.height="auto";const hn=qe.getBoundingClientRect().height;qe.style.height=pt,Ot(hn),w(Mn=>Mn.find(Lt=>Lt.toastId===p.id)?Mn.map(Lt=>Lt.toastId===p.id?{...Lt,height:hn}:Lt):[{toastId:p.id,height:hn,position:p.position},...Mn])},[ie,p.title,p.description,w,p.id,p.jsx,p.action,p.cancel]);const qr=xe.useCallback(()=>{ke(!0),Xe($i.current),w(qe=>qe.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{D(p)},tX)},[p,D,w,$i]);xe.useEffect(()=>{if(p.promise&&Kn==="loading"||p.duration===1/0||p.type==="loading")return;let qe;return N||_||Ft?(()=>{if(wl.current<_l.current){const Mn=new Date().getTime()-_l.current;an.current=an.current-Mn}wl.current=new Date().getTime()})():an.current!==1/0&&(_l.current=new Date().getTime(),qe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),qr()},an.current)),()=>clearTimeout(qe)},[N,_,p,Kn,Ft,qr]),xe.useEffect(()=>{p.delete&&(qr(),p.onDismiss==null||p.onDismiss.call(p,p))},[qr,p.delete]);function pi(){var qe;if(re?.loading){var pt;return xe.createElement("div",{className:Ma(Y?.loader,p==null||(pt=p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Kn==="loading"},re.loading)}return xe.createElement(DW,{className:Ma(Y?.loader,p==null||(qe=p.classNames)==null?void 0:qe.loader),visible:Kn==="loading"})}const ns=p.icon||re?.[Kn]||jW(Kn);var Qt,$r;return xe.createElement("li",{tabIndex:0,ref:Ke,className:Ma(q,Yn,Y?.toast,p==null||(e=p.classNames)==null?void 0:e.toast,Y?.default,Y?.[Kn],p==null||(n=p.classNames)==null?void 0:n[Kn]),"data-sonner-toast":"","data-rich-colors":(Qt=p.richColors)!=null?Qt:R,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":ie,"data-promise":!!p.promise,"data-swiped":Ve,"data-removed":ge,"data-visible":Ui,"data-y-position":Fr,"data-x-position":Tn,"data-index":k,"data-front":jt,"data-swiping":we,"data-dismissible":Fi,"data-type":Kn,"data-invert":Gc,"data-swipe-out":X,"data-swipe-direction":H,"data-expanded":!!(N||Ee&&ie),"data-testid":p.testId,style:{"--index":k,"--toasts-before":k,"--z-index":j.length-k,"--offset":`${ge?zt:$i.current}px`,"--initial-height":Ee?"auto":`${Xt}px`,...P,...p.style},onDragEnd:()=>{Le(!1),_e(null),Hi.current=null},onPointerDown:qe=>{qe.button!==2&&(ga||!Fi||(ye.current=new Date,Xe($i.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Le(!0),Hi.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,pt,hn;if(X||!Fi)return;Hi.current=null;const Mn=Number(((qe=Ke.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),br=Number(((pt=Ke.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((hn=ye.current)==null?void 0:hn.getTime()),ur=oe==="x"?Mn:br,gi=Math.abs(ur)/Lt;if(Math.abs(ur)>=eX||gi>.11){Xe($i.current),p.onDismiss==null||p.onDismiss.call(p,p),ne(oe==="x"?Mn>0?"right":"left":br>0?"down":"up"),qr(),Ie(!0);return}else{var Wn,Xn;(Wn=Ke.current)==null||Wn.style.setProperty("--swipe-amount-x","0px"),(Xn=Ke.current)==null||Xn.style.setProperty("--swipe-amount-y","0px")}he(!1),Le(!1),_e(null)},onPointerMove:qe=>{var pt,hn,Mn;if(!Hi.current||!Fi||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Lt=qe.clientY-Hi.current.y,ur=qe.clientX-Hi.current.x;var gi;const Wn=(gi=t.swipeDirections)!=null?gi:nX(U);!oe&&(Math.abs(ur)>1||Math.abs(Lt)>1)&&_e(Math.abs(ur)>Math.abs(Lt)?"x":"y");let Xn={x:0,y:0};const ya=Qn=>1/(1.5+Math.abs(Qn)/20);if(oe==="y"){if(Wn.includes("top")||Wn.includes("bottom"))if(Wn.includes("top")&&Lt<0||Wn.includes("bottom")&&Lt>0)Xn.y=Lt;else{const Qn=Lt*ya(Lt);Xn.y=Math.abs(Qn)<Math.abs(Lt)?Qn:Lt}}else if(oe==="x"&&(Wn.includes("left")||Wn.includes("right")))if(Wn.includes("left")&&ur<0||Wn.includes("right")&&ur>0)Xn.x=ur;else{const Qn=ur*ya(ur);Xn.x=Math.abs(Qn)<Math.abs(ur)?Qn:ur}(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&he(!0),(hn=Ke.current)==null||hn.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(Mn=Ke.current)==null||Mn.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},xl&&!p.jsx&&Kn!=="loading"?xe.createElement("button",{"aria-label":$,"data-disabled":ga,"data-close-button":!0,onClick:ga||!Fi?()=>{}:()=>{qr(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Ma(Y?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},($r=re?.close)!=null?$r:UW):null,(Kn||p.icon||p.promise)&&p.icon!==null&&(re?.[Kn]!==null||p.icon)?xe.createElement("div",{"data-icon":"",className:Ma(Y?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||pi():null,p.type!=="loading"?ns:null):null,xe.createElement("div",{"data-content":"",className:Ma(Y?.content,p==null||(s=p.classNames)==null?void 0:s.content)},xe.createElement("div",{"data-title":"",className:Ma(Y?.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?xe.createElement("div",{"data-description":"",className:Ma(L,ts,Y?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),xe.isValidElement(p.cancel)?p.cancel:p.cancel&&zg(p.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:qe=>{zg(p.cancel)&&Fi&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,qe),qr())},className:Ma(Y?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,xe.isValidElement(p.action)?p.action:p.action&&zg(p.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||V,onClick:qe=>{zg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,qe),!qe.defaultPrevented&&qr())},className:Ma(Y?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function SO(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function iX(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",c=s?QW:XW;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const h3=xe.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:b="light",richColors:_,duration:w,style:E,visibleToasts:S=WW,toastOptions:k,dir:j=SO(),gap:N=JW,icons:D,containerAriaLabel:R="Notifications"}=e,[z,P]=xe.useState([]),O=xe.useMemo(()=>r?z.filter(ie=>ie.toasterId===r):z.filter(ie=>!ie.toasterId),[z,r]),V=xe.useMemo(()=>Array.from(new Set([s].concat(O.filter(ie=>ie.position).map(ie=>ie.position)))),[O,s]),[q,L]=xe.useState([]),[F,U]=xe.useState(!1),[be,Ee]=xe.useState(!1),[Y,re]=xe.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=xe.useRef(null),oe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),_e=xe.useRef(null),H=xe.useRef(!1),ne=xe.useCallback(ie=>{P(ue=>{var ge;return(ge=ue.find(ke=>ke.id===ie.id))!=null&&ge.delete||Mr.dismiss(ie.id),ue.filter(({id:ke})=>ke!==ie.id)})},[]);return xe.useEffect(()=>Mr.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{P(ue=>ue.map(ge=>ge.id===ie.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{aF.flushSync(()=>{P(ue=>{const ge=ue.findIndex(ke=>ke.id===ie.id);return ge!==-1?[...ue.slice(0,ge),{...ue[ge],...ie},...ue.slice(ge+1)]:[ie,...ue]})})})}),[z]),xe.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:ue})=>{re(ue?"dark":"light")})}catch{ie.addListener(({matches:ge})=>{try{re(ge?"dark":"light")}catch(ke){console.error(ke)}})}},[b]),xe.useEffect(()=>{z.length<=1&&U(!1)},[z]),xe.useEffect(()=>{const ie=ue=>{var ge;if(l.every(Le=>ue[Le]||ue.code===Le)){var we;U(!0),(we=$.current)==null||we.focus()}ue.code==="Escape"&&(document.activeElement===$.current||(ge=$.current)!=null&&ge.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[l]),xe.useEffect(()=>{if($.current)return()=>{_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null,H.current=!1)}},[$.current]),xe.createElement("section",{ref:n,"aria-label":`${R} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((ie,ue)=>{var ge;const[ke,we]=ie.split("-");return O.length?xe.createElement("ol",{key:ie,dir:j==="auto"?SO():j,tabIndex:-1,ref:$,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":ke,"data-x-position":we,style:{"--front-toast-height":`${((ge=q[0])==null?void 0:ge.height)||0}px`,"--width":`${ZW}px`,"--gap":`${N}px`,...E,...iX(m,p)},onBlur:Le=>{H.current&&!Le.currentTarget.contains(Le.relatedTarget)&&(H.current=!1,_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null))},onFocus:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||H.current||(H.current=!0,_e.current=Le.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{be||U(!1)},onDragEnd:()=>U(!1),onPointerDown:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||Ee(!0)},onPointerUp:()=>Ee(!1)},O.filter(Le=>!Le.position&&ue===0||Le.position===ie).map((Le,X)=>{var Ie,Ve;return xe.createElement(rX,{key:Le.id,icons:D,index:X,toast:Le,defaultRichColors:_,duration:(Ie=k?.duration)!=null?Ie:w,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Ve=k?.closeButton)!=null?Ve:d,interacting:be,position:ie,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:ne,toasts:O.filter(he=>he.position==Le.position),heights:q.filter(he=>he.position==Le.position),setHeights:L,expandByDefault:c,gap:N,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),m3=T.createContext(void 0),aX=({children:t})=>{const{user:e}=jm(),[n,r]=T.useState(_s),[i,s]=T.useState(!0),[l,c]=T.useState(!1),[d,f]=T.useState(!1),m=T.useRef(null);T.useEffect(()=>{if(!e){r(_s),s(!1);return}s(!0),f(!1);const w=Dg.subscribeToMasterDoc(e.uid,E=>{if(E){const S={..._s,...E,settings:{..._s.settings,...E.settings||{}},categories:{..._s.categories,...E.categories||{}}};r(S)}else console.log("[DataContext] New user setup initialized"),r(_s),Dg.saveMasterDoc(e.uid,_s).catch(S=>{console.error("Failed to create initial doc:",S),f(!0)});s(!1),f(!1)},E=>{console.error("[DataContext] Sync Error:",E),f(!0),Kt.error("Error de sincronizacin. Cambios no se guardarn en la nube."),s(!1)});return()=>w()},[e]);const p=w=>{if(e){if(d){console.warn("[DataContext] Save blocked due to sync error state"),Kt.error("No se puede guardar: Error de conexin previo");return}c(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{try{await Dg.saveMasterDoc(e.uid,w),c(!1),console.log("Auto-saved to cloud")}catch(E){console.error("Auto-save failed",E),c(!1),Kt.error("Error al guardar cambios")}},2e3)}},b=w=>{r(E=>{const S={...E,...w};return p(S),S})},_=async()=>{if(e)try{c(!0),await Dg.saveMasterDoc(e.uid,_s),r(_s),Kt.success("Mundo reinstalado desde cero.")}catch(w){console.error("Failed to nuke data:",w),Kt.error("Fallo en la detonacin. Los datos persisten.")}finally{c(!1)}};return y.jsx(m3.Provider,{value:{data:n,updateData:b,isLoading:i,isSaving:l,resetData:_},children:t})},Mi=()=>{const t=T.useContext(m3);if(!t)throw new Error("useData must be used within a DataProvider");return t};const sX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TO=t=>{const e=oX(t);return e.charAt(0).toUpperCase()+e.slice(1)},p3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uX=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>T.createElement("svg",{ref:d,...cX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p3("lucide",i),...!s&&!lX(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>T.createElement(f,m)),...Array.isArray(s)?s:[s]]));const Te=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(uX,{ref:s,iconNode:e,className:p3(`lucide-${sX(TO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TO(t),n};const dX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ey=Te("arrow-down-left",dX);const fX=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Jw=Te("arrow-down-right",fX);const hX=[["path",{d:"M7 17V7h10",key:"11bw93"}],["path",{d:"M17 17 7 7",key:"2786uv"}]],mX=Te("arrow-up-left",hX);const pX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Td=Te("arrow-up-right",pX);const gX=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],AO=Te("bomb",gX);const yX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vX=Te("book-open",yX);const bX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],xX=Te("briefcase",bX);const _X=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],dT=Te("calculator",_X);const wX=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],g3=Te("calendar-clock",wX);const EX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y3=Te("calendar",EX);const SX=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],TX=Te("car",SX);const AX=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],IX=Te("chart-pie",AX);const kX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],v3=Te("check",kX);const CX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NX=Te("chevron-down",CX);const OX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PX=Te("chevron-left",OX);const RX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b3=Te("chevron-right",RX);const jX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],IO=Te("circle-arrow-down",jX);const MX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],kO=Te("circle-arrow-up",MX);const DX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CO=Te("circle-check-big",DX);const zX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],LX=Te("circle-pause",zX);const VX=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BX=Te("circle-play",VX);const UX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],FX=Te("cloud-off",UX);const qX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$X=Te("cloud",qX);const HX=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],GX=Te("coffee",HX);const KX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YX=Te("database",KX);const WX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],x3=Te("dollar-sign",WX);const XX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QX=Te("download",XX);const ZX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],_3=Te("ellipsis",ZX);const JX=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],eQ=Te("flame",JX);const tQ=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],eE=Te("folder-kanban",tQ);const nQ=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],rQ=Te("gamepad-2",nQ);const iQ=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],aQ=Te("gift",iQ);const sQ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],oQ=Te("heart",sQ);const lQ=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],cQ=Te("hourglass",lQ);const uQ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dQ=Te("house",uQ);const fQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hQ=Te("info",fQ);const mQ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ty=Te("landmark",mQ);const pQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gQ=Te("layers",pQ);const yQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vQ=Te("layout-dashboard",yQ);const bQ=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],NO=Te("list",bQ);const xQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_Q=Te("loader-circle",xQ);const wQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EQ=Te("log-out",wQ);const SQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TQ=Te("menu",SQ);const AQ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],IQ=Te("moon",AQ);const kQ=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],CQ=Te("mouse-pointer-click",kQ);const NQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OQ=Te("pen",NQ);const PQ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],RQ=Te("percent",PQ);const jQ=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Mm=Te("piggy-bank",jQ);const MQ=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],DQ=Te("plane",MQ);const zQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rs=Te("plus",zQ);const LQ=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 15.4641a4 4 0 0 1-4 0L7.52786 19.74597 A 1 1 0 0 0 7.99303 21.16211 10 10 0 0 0 16.00697 21.16211 1 1 0 0 0 16.47214 19.74597z",key:"1y4lzb"}],["path",{d:"M16 12a4 4 0 0 0-2-3.464l2.472-4.282a1 1 0 0 1 1.46-.305 10 10 0 0 1 4.006 6.94A1 1 0 0 1 21 12z",key:"163ggk"}],["path",{d:"M8 12a4 4 0 0 1 2-3.464L7.528 4.254a1 1 0 0 0-1.46-.305 10 10 0 0 0-4.006 6.94A1 1 0 0 0 3 12z",key:"1l9i0b"}]],OO=Te("radiation",LQ);const VQ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],BQ=Te("receipt",VQ);const UQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fT=Te("refresh-cw",UQ);const FQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],qQ=Te("rocket",FQ);const $Q=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],HQ=Te("rotate-ccw",$Q);const GQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],KQ=Te("save",GQ);const YQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PO=Te("search",YQ);const WQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w3=Te("settings",WQ);const XQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QQ=Te("shield",XQ);const ZQ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],JQ=Te("siren",ZQ);const eZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],tZ=Te("smartphone",eZ);const nZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rZ=Te("smile",nZ);const iZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aZ=Te("star",iZ);const sZ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oZ=Te("sun",sZ);const lZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gc=Te("target",lZ);const cZ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],uZ=Te("text-align-start",cZ);const dZ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],P1=Te("toggle-left",dZ);const fZ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],R1=Te("toggle-right",fZ);const hZ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],js=Te("trash-2",hZ);const mZ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],E3=Te("trending-down",mZ);const pZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],S3=Te("trending-up",pZ);const gZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yZ=Te("upload",gZ);const vZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bZ=Te("user",vZ);const xZ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xv=Te("wallet",xZ);const _Z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rm=Te("x",_Z);const wZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],EZ=Te("zap",wZ);function T3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=T3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=T3(t))&&(r&&(r+=" "),r+=e);return r}const SZ=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},TZ=(t,e)=>({classGroupId:t,validator:e}),A3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ny="-",RO=[],AZ="arbitrary..",IZ=t=>{const e=CZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return kZ(l);const c=l.split(ny),d=c[0]===""&&c.length>1?1:0;return I3(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?SZ(f,d):d:f||RO}return n[l]||RO}}},I3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const f=I3(t,e+1,s);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(ny):t.slice(e).join(ny),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},kZ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?AZ+r:void 0})(),CZ=t=>{const{theme:e,classGroups:n}=t;return NZ(n,e)},NZ=(t,e)=>{const n=A3();for(const r in t){const i=t[r];hT(i,n,r,e)}return n},hT=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const l=t[s];OZ(l,e,n,r)}},OZ=(t,e,n,r)=>{if(typeof t=="string"){PZ(t,e,n);return}if(typeof t=="function"){RZ(t,e,n,r);return}jZ(t,e,n,r)},PZ=(t,e,n)=>{const r=t===""?e:k3(e,t);r.classGroupId=n},RZ=(t,e,n,r)=>{if(MZ(t)){hT(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(TZ(n,t))},jZ=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let l=0;l<s;l++){const[c,d]=i[l];hT(d,k3(e,c),n,r)}},k3=(t,e)=>{let n=t;const r=e.split(ny),i=r.length;for(let s=0;s<i;s++){const l=r[s];let c=n.nextPart.get(l);c||(c=A3(),n.nextPart.set(l,c)),n=c}return n},MZ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,DZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,l)=>{n[s]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return i(s,l),l},set(s,l){s in n?n[s]=l:i(s,l)}}},tE="!",jO=":",zZ=[],MO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),LZ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let l=0,c=0,d=0,f;const m=i.length;for(let E=0;E<m;E++){const S=i[E];if(l===0&&c===0){if(S===jO){s.push(i.slice(d,E)),d=E+1;continue}if(S==="/"){f=E;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const p=s.length===0?i:i.slice(d);let b=p,_=!1;p.endsWith(tE)?(b=p.slice(0,-1),_=!0):p.startsWith(tE)&&(b=p.slice(1),_=!0);const w=f&&f>d?f-d:void 0;return MO(s,_,b,w)};if(e){const i=e+jO,s=r;r=l=>l.startsWith(i)?s(l.slice(i.length)):MO(zZ,!1,l,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},VZ=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const l=n[s],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},BZ=t=>({cache:DZ(t.cacheSize),parseClassName:LZ(t),sortModifiers:VZ(t),...IZ(t)}),UZ=/\s+/,FZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,l=[],c=t.trim().split(UZ);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:b,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:E}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let S=!!E,k=r(S?w.substring(0,E):w);if(!k){if(!S){d=m+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=m+(d.length>0?" "+d:d);continue}S=!1}const j=b.length===0?"":b.length===1?b[0]:s(b).join(":"),N=_?j+tE:j,D=N+k;if(l.indexOf(D)>-1)continue;l.push(D);const R=i(k,S);for(let z=0;z<R.length;++z){const P=R[z];l.push(N+P)}d=m+(d.length>0?" "+d:d)}return d},qZ=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=C3(n))&&(i&&(i+=" "),i+=r);return i},C3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=C3(t[r]))&&(n&&(n+=" "),n+=e);return n},$Z=(t,...e)=>{let n,r,i,s;const l=d=>{const f=e.reduce((m,p)=>p(m),t());return n=BZ(f),r=n.cache.get,i=n.cache.set,s=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=FZ(d,n);return i(d,m),m};return s=l,(...d)=>s(qZ(...d))},HZ=[],In=t=>{const e=n=>n[t]||HZ;return e.isThemeGetter=!0,e},N3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,O3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GZ=/^\d+\/\d+$/,KZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vu=t=>GZ.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),Bo=t=>!!t&&Number.isInteger(Number(t)),j1=t=>t.endsWith("%")&&et(t.slice(0,-1)),ws=t=>KZ.test(t),ZZ=()=>!0,JZ=t=>YZ.test(t)&&!WZ.test(t),P3=()=>!1,eJ=t=>XZ.test(t),tJ=t=>QZ.test(t),nJ=t=>!Re(t)&&!je(t),rJ=t=>Yd(t,M3,P3),Re=t=>N3.test(t),Yl=t=>Yd(t,D3,JZ),M1=t=>Yd(t,lJ,et),DO=t=>Yd(t,R3,P3),iJ=t=>Yd(t,j3,tJ),Lg=t=>Yd(t,z3,eJ),je=t=>O3.test(t),dh=t=>Wd(t,D3),aJ=t=>Wd(t,cJ),zO=t=>Wd(t,R3),sJ=t=>Wd(t,M3),oJ=t=>Wd(t,j3),Vg=t=>Wd(t,z3,!0),Yd=(t,e,n)=>{const r=N3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Wd=(t,e,n=!1)=>{const r=O3.exec(t);return r?r[1]?e(r[1]):n:!1},R3=t=>t==="position"||t==="percentage",j3=t=>t==="image"||t==="url",M3=t=>t==="length"||t==="size"||t==="bg-size",D3=t=>t==="length",lJ=t=>t==="number",cJ=t=>t==="family-name",z3=t=>t==="shadow",uJ=()=>{const t=In("color"),e=In("font"),n=In("text"),r=In("font-weight"),i=In("tracking"),s=In("leading"),l=In("breakpoint"),c=In("container"),d=In("spacing"),f=In("radius"),m=In("shadow"),p=In("inset-shadow"),b=In("text-shadow"),_=In("drop-shadow"),w=In("blur"),E=In("perspective"),S=In("aspect"),k=In("ease"),j=In("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...D(),je,Re],z=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[je,Re,d],V=()=>[Vu,"full","auto",...O()],q=()=>[Bo,"none","subgrid",je,Re],L=()=>["auto",{span:["full",Bo,je,Re]},Bo,je,Re],F=()=>[Bo,"auto",je,Re],U=()=>["auto","min","max","fr",je,Re],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...O()],re=()=>[Vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],$=()=>[t,je,Re],oe=()=>[...D(),zO,DO,{position:[je,Re]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",sJ,rJ,{size:[je,Re]}],ne=()=>[j1,dh,Yl],ie=()=>["","none","full",f,je,Re],ue=()=>["",et,dh,Yl],ge=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[et,j1,zO,DO],Le=()=>["","none",w,je,Re],X=()=>["none",et,je,Re],Ie=()=>["none",et,je,Re],Ve=()=>[et,je,Re],he=()=>[Vu,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[ZZ],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[nJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",et],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vu,Re,je,S]}],container:["container"],columns:[{columns:[et,Re,je,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Bo,"auto",je,Re]}],basis:[{basis:[Vu,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Vu,"auto","initial","none",Re]}],grow:[{grow:["",et,je,Re]}],shrink:[{shrink:["",et,je,Re]}],order:[{order:[Bo,"first","last","none",je,Re]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,dh,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,M1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",j1,Re]}],"font-family":[{font:[aJ,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,Re]}],"line-clamp":[{"line-clamp":[et,"none",je,M1]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",je,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",je,Yl]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[et,"auto",je,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bo,je,Re],radial:["",je,Re],conic:[Bo,je,Re]},oJ,iJ]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,je,Re]}],"outline-w":[{outline:["",et,dh,Yl]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",m,Vg,Lg]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",p,Vg,Lg]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[et,Yl]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,Vg,Lg]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[et,je,Re]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[je,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Re]}],filter:[{filter:["","none",je,Re]}],blur:[{blur:Le()}],brightness:[{brightness:[et,je,Re]}],contrast:[{contrast:[et,je,Re]}],"drop-shadow":[{"drop-shadow":["","none",_,Vg,Lg]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",et,je,Re]}],"hue-rotate":[{"hue-rotate":[et,je,Re]}],invert:[{invert:["",et,je,Re]}],saturate:[{saturate:[et,je,Re]}],sepia:[{sepia:["",et,je,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Re]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[et,je,Re]}],"backdrop-contrast":[{"backdrop-contrast":[et,je,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,je,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,je,Re]}],"backdrop-invert":[{"backdrop-invert":["",et,je,Re]}],"backdrop-opacity":[{"backdrop-opacity":[et,je,Re]}],"backdrop-saturate":[{"backdrop-saturate":[et,je,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",et,je,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",je,Re]}],ease:[{ease:["linear","initial",k,je,Re]}],delay:[{delay:[et,je,Re]}],animate:[{animate:["none",j,je,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,je,Re]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:Ie()}],"scale-x":[{"scale-x":Ie()}],"scale-y":[{"scale-y":Ie()}],"scale-z":[{"scale-z":Ie()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[je,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Re]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[et,dh,Yl,M1]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dJ=$Z(uJ),fJ=()=>{const{user:t}=jm(),[e,n]=T.useState("synced"),[r,i]=T.useState(navigator.onLine);return T.useEffect(()=>{const s=()=>{i(!0),n("syncing"),setTimeout(()=>n("synced"),2e3)},l=()=>{i(!1),n("offline")};return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),t?r?e==="syncing"?y.jsxs("div",{className:"flex items-center gap-2 text-blue-400 bg-blue-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-blue-500/20",children:[y.jsx(fT,{size:14,className:"animate-spin"}),y.jsx("span",{children:"Sincronizando..."})]}):y.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-emerald-500/20",title:"Todos los datos estn seguros en la nube.",children:[y.jsx($X,{size:14}),y.jsx("span",{children:"Nube Activa"})]}):y.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-3 py-1.5 rounded-full text-xs font-medium border border-yellow-500/20",title:"Sin conexin. Los cambios se guardarn en tu dispositivo y se enviarn al volver.",children:[y.jsx(FX,{size:14}),y.jsx("span",{children:"Modo Local"})]}):null},hJ=({isOpen:t,onClose:e,onOpenSettings:n})=>{const{theme:r,toggleTheme:i}=QD(),s=[{to:"/",icon:vQ,label:"Dashboard"},{to:"/expenses",icon:xv,label:"Gastos"},{to:"/income",icon:BQ,label:"Ingresos"},{to:"/goals",icon:gc,label:"Metas"},{to:"/funds",icon:Mm,label:"Fondos"},{to:"/credits",icon:ty,label:"Crditos"},{to:"/projects",icon:eE,label:"Proyectos"},{to:"/projections",icon:dT,label:"Proyecciones"}];return y.jsxs(y.Fragment,{children:[t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:e}),y.jsxs("aside",{className:Se("fixed md:static inset-y-0 left-0 z-40 w-72 md:w-64 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col","h-screen bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-2xl md:shadow-none",t?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[y.jsxs("div",{className:"p-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-500 font-mono tracking-wider",children:"VAULTLY"}),y.jsx("p",{className:"text-[10px] text-zinc-400 font-medium",children:"Personal Finance v2.0"})]}),y.jsx("button",{onClick:e,className:"md:hidden text-zinc-500",children:y.jsx(rm,{size:20})})]}),y.jsx("nav",{className:"flex-1 space-y-1 px-3 py-2",children:s.map(l=>y.jsxs(YD,{to:l.to,onClick:()=>window.innerWidth<768&&e(),className:({isActive:c})=>dJ(Se("flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl transition-all duration-200 group font-bold md:font-medium","md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900/50 active:scale-95 md:active:scale-100",c?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md md:shadow-none":"text-zinc-500 dark:text-zinc-400")),children:[y.jsx(l.icon,{size:22,className:Se("transition-colors md:w-[18px] md:h-[18px]",({isActive:c})=>c?"text-emerald-400 dark:text-emerald-600":"group-hover:text-emerald-500")}),y.jsx("span",{className:"text-base md:text-sm",children:l.label})]},l.to))}),y.jsxs("div",{className:"p-3 mx-2 mb-2 border-t border-zinc-100 dark:border-zinc-800 space-y-2",children:[y.jsxs("button",{onClick:n,className:"w-full flex items-center gap-4 px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl text-zinc-500 dark:text-zinc-400 md:hover:bg-zinc-50 md:dark:hover:bg-zinc-900 md:hover:text-emerald-500 transition-all font-bold md:font-medium active:bg-zinc-100 dark:active:bg-zinc-900",children:[y.jsx(w3,{size:22,className:"md:w-[18px] md:h-[18px]"}),y.jsx("span",{className:"text-base md:text-sm",children:"Configuracin"})]}),y.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between px-5 py-3.5 md:py-2.5 rounded-2xl md:rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 md:hover:text-emerald-500 transition-colors border border-transparent md:hover:border-zinc-200 md:dark:hover:border-zinc-700 active:scale-95 md:active:scale-100",children:[y.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),r==="dark"?y.jsx(IQ,{size:18}):y.jsx(oZ,{size:18})]}),y.jsx("div",{className:"flex justify-center pt-1",children:y.jsx(fJ,{})})]})]})]})},L3=T.createContext(void 0),mJ=({children:t})=>{const{data:e,updateData:n,isLoading:r}=Mi(),i=e.settings||{currency:"$",hasSeenOnboarding:!1,theme:"classic"},s=i.currency||"$",l=i.hasSeenOnboarding||!1,c=f=>{n({settings:{...i,currency:f}})},d=f=>{n({settings:{...i,hasSeenOnboarding:f}}),localStorage.setItem("vault_has_seen_onboarding",JSON.stringify(f))};return y.jsx(L3.Provider,{value:{currency:s,setCurrency:c,hasSeenOnboarding:l,setHasSeenOnboarding:d,loading:r},children:t})},yr=()=>{const t=T.useContext(L3);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Ad=t=>{const{data:e,updateData:n}=Mi(),r=e.categories||{income:[],expense:[]},i=r[t]||[];return{categories:i,addCategory:c=>{if(!i.includes(c)){const d=[...i,c].sort();n({categories:{...r,[t]:d}})}},removeCategory:c=>{const d=i.filter(f=>f!==c);n({categories:{...r,[t]:d}})}}},rr=[];for(let t=0;t<256;++t)rr.push((t+256).toString(16).slice(1));function pJ(t,e=0){return(rr[t[e+0]]+rr[t[e+1]]+rr[t[e+2]]+rr[t[e+3]]+"-"+rr[t[e+4]]+rr[t[e+5]]+"-"+rr[t[e+6]]+rr[t[e+7]]+"-"+rr[t[e+8]]+rr[t[e+9]]+"-"+rr[t[e+10]]+rr[t[e+11]]+rr[t[e+12]]+rr[t[e+13]]+rr[t[e+14]]+rr[t[e+15]]).toLowerCase()}let D1;const gJ=new Uint8Array(16);function yJ(){if(!D1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D1=crypto.getRandomValues.bind(crypto)}return D1(gJ)}const vJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),LO={randomUUID:vJ};function bJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??yJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pJ(r)}function xJ(t,e,n){return LO.randomUUID&&!t?LO.randomUUID():bJ(t)}const Tr=t=>{const{data:e,updateData:n}=Mi(),r=e.transactions||[],i=m=>{const p={id:xJ(),...m};n({transactions:[...r,p]})},s=m=>{const p=r.filter(b=>b.id!==m);n({transactions:p})},l=(m,p)=>{const b=r.map(_=>_.category===m?{..._,category:p}:_);n({transactions:b})},c=t?r.filter(m=>m.type===t):r,d=c.reduce((m,p)=>m+p.amount,0);return{transactions:c,addTransaction:i,deleteTransaction:s,total:d,getByCategory:()=>{const m=c.reduce((p,b)=>{const _=b.category||"Sin Categora";return p[_]=(p[_]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))},allTransactions:r,updateCategory:l}},_v=()=>{const{data:t,updateData:e}=Mi(),n=t.scheduledTransactions||[],{addTransaction:r}=Tr();return{scheduled:n,addScheduled:d=>{const f={id:crypto.randomUUID(),...d,active:!0,createdAt:new Date().toISOString()};e({scheduledTransactions:[...n,f]}),Kt.success("Transaccin programada creada")},deleteScheduled:d=>{const f=n.filter(m=>m.id!==d);e({scheduledTransactions:f})},toggleActive:(d,f)=>{const m=n.map(p=>p.id===d?{...p,active:!f}:p);e({scheduledTransactions:m}),Kt.success(f?"Programacin pausada":"Programacin reactivada")},processScheduledTransactions:()=>{const d=new Date,f=d.getDate();let m=0;const p=n.map(b=>{if(!b.active)return b;const _=b.lastProcessedDate?new Date(b.lastProcessedDate):null,w=_&&_.getMonth()===d.getMonth()&&_.getFullYear()===d.getFullYear();if(f>=b.dayOfMonth&&!w)return r({type:b.type,amount:b.amount,category:b.category,date:d.toISOString().split("T")[0],description:`(Recurrente) ${b.description}`}),m++,{...b,lastProcessedDate:d.toISOString().split("T")[0]};if(!w){const E=b.dayOfMonth-f;E>0&&E<=2&&setTimeout(()=>{Kt.warning(`Prximo vencimiento: ${b.description} ($${b.amount})`,{description:`Vence el da ${b.dayOfMonth}`,duration:5e3})},1e3*Math.random())}return b});m>0&&(e({scheduledTransactions:p}),Kt.info(`${m} transacciones recurrentes procesadas`))}}},V3=()=>{const{data:t,updateData:e}=Mi(),n=t.presets||[];return{presets:n,addPreset:s=>{if(n.length>=10){Kt.error("Lmite de 10 atajos alcanzado");return}const l={id:crypto.randomUUID(),...s};e({presets:[...n,l]}),Kt.success("Atajo creado")},deletePreset:s=>{const l=n.filter(c=>c.id!==s);e({presets:l})}}},Ka=({isOpen:t,onClose:e,title:n,children:r})=>(T.useEffect(()=>{const i=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[t,e]),t?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-zinc-900/60 backdrop-blur-sm transition-opacity",onClick:e}),y.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-md border border-zinc-200 dark:border-zinc-800 transform transition-all animate-in fade-in zoom-in-95 duration-200 max-h-[85vh] flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-100 dark:border-zinc-800/50 flex-shrink-0",children:[y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:n}),y.jsx("button",{onClick:e,className:"p-1 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:y.jsx(rm,{size:20})})]}),y.jsx("div",{className:"p-6 overflow-y-auto no-scrollbar",children:r})]})]}):null),_J=({isOpen:t,onClose:e})=>{const{currency:n,setCurrency:r}=yr(),{themeStyle:i,setThemeStyle:s}=QD(),{logout:l,user:c}=jm(),{data:d}=Mi(),{categories:f,addCategory:m,removeCategory:p}=Ad("income"),{categories:b,addCategory:_,removeCategory:w}=Ad("expense"),{updateCategory:E}=Tr(),{scheduled:S,toggleActive:k,deleteScheduled:j}=_v(),{presets:N,addPreset:D,deletePreset:R}=V3(),[z,P]=T.useState("general"),[O,V]=T.useState("expense"),[q,L]=T.useState(""),[F,U]=T.useState(""),[be,Ee]=T.useState(""),[Y,re]=T.useState(""),[$,oe]=T.useState("expense"),[_e,H]=T.useState(!1),[ne,ie]=T.useState(["","","",""]),[ue,ge]=T.useState(!1),[ke,we]=T.useState(!1),[Le,X]=T.useState(""),{resetData:Ie}=Mi(),Ve=(ye,Ke)=>{if(Ke.length>1&&(Ke=Ke[Ke.length-1]),!/^\d*$/.test(Ke))return;const jt=[...ne];jt[ye]=Ke,ie(jt),Ke&&ye<3&&document.getElementById(`nuclear-digit-${ye+1}`)?.focus()},he=async()=>{if(ne.join("").length!==4){Kt.error("CDIGO DE LANZAMIENTO INCOMPLETO");return}ge(!0),await new Promise(ye=>setTimeout(ye,2e3)),await Ie(),ge(!1),H(!1),ie(["","","",""]),e()},zt=async()=>{we(!0),X("INICIANDO ENLACE SATELITAL..."),await new Promise(ye=>setTimeout(ye,1500)),X("BUSCANDO PAQUETES DE DATOS..."),await new Promise(ye=>setTimeout(ye,1500)),X("OPTIMIZANDO NCLEO..."),await new Promise(ye=>setTimeout(ye,1e3)),X("SISTEMA ACTUALIZADO. REINICIANDO."),setTimeout(()=>{window.location.reload()},1e3)},Xe=["$","","","","COP","MXN","ARS","S/"],Xt=()=>{const ye=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(d))}`,Ke=document.createElement("a");Ke.href=ye,Ke.download=`vault_backup_${new Date().toISOString().split("T")[0]}.json`,Ke.click(),Kt.success("Copia de seguridad descargada")},Ot=()=>{q.trim()&&(O==="income"?m(q):_(q),L(""))},an=ye=>{confirm(`Eliminar categora "${ye}"? Las transacciones pasarn a "Desconocido".`)&&(O==="income"?p(ye):w(ye),E(ye,"Desconocido"))};return y.jsxs(Ka,{isOpen:t,onClose:e,title:"Configuracin",children:[y.jsxs("div",{className:"flex flex-col h-[55vh] md:h-[500px] max-h-[70vh]",children:[y.jsxs("div",{className:"flex gap-4 border-b border-zinc-200 dark:border-zinc-800 mb-4 overflow-x-auto shrink-0",children:[y.jsx("button",{onClick:()=>P("general"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${z==="general"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"General"}),y.jsx("button",{onClick:()=>P("categories"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${z==="categories"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Categoras"}),y.jsx("button",{onClick:()=>P("scheduled"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${z==="scheduled"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Programados"}),y.jsx("button",{onClick:()=>P("presets"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${z==="presets"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Atajos"}),y.jsx("button",{onClick:()=>P("data"),className:`pb-2 text-sm font-medium transition-colors whitespace-nowrap ${z==="data"?"text-emerald-600 border-b-2 border-emerald-600":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Datos"})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pr-1 no-scrollbar",children:[z==="general"&&y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-3 flex items-center gap-2",children:[y.jsx(bZ,{size:16}),"Cuenta"]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-4 border border-zinc-100 dark:border-zinc-800",children:[c&&y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:c.photoURL||`https://ui-avatars.com/api/?name=${c.displayName}`,alt:"User",className:"w-12 h-12 rounded-full bg-zinc-800"}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("p",{className:"text-sm font-medium text-zinc-900 dark:text-white truncate",children:c.displayName}),y.jsx("p",{className:"text-xs text-zinc-500 truncate",children:c.email})]})]}),y.jsxs("button",{onClick:()=>{l(),e()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/20 transition-all font-medium text-sm",children:[y.jsx(EQ,{size:16}),"Cerrar Sesin"]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Moneda Principal"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:Xe.map(ye=>y.jsx("button",{onClick:()=>r(ye),className:`w-12 h-12 rounded-xl flex items-center justify-center font-mono font-bold transition-all ${n===ye?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"}`,children:ye},ye))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Estilo Visual"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"classic",name:"Clsico",color:"bg-stone-500"},{id:"sepia",name:"Sepia (Eye Care)",color:"bg-orange-500"},{id:"ocean",name:"Ocano",color:"bg-slate-500"},{id:"midnight",name:"Medianoche",color:"bg-indigo-500"},{id:"bloom",name:"Bloom Flower",color:"bg-rose-500"},{id:"royal",name:"Royal Purple",color:"bg-purple-500"}].map(ye=>y.jsxs("button",{onClick:()=>s(ye.id),className:`p-3 rounded-xl border-2 flex items-center gap-3 transition-all ${i===ye.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 ring-1 ring-emerald-500":"border-transparent bg-zinc-50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-900"}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full ${ye.color}`}),y.jsx("span",{className:`text-sm font-medium ${i===ye.id?"text-emerald-700 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"}`,children:ye.name})]},ye.id))})]})]}),z==="categories"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-lg mb-4",children:[y.jsx("button",{onClick:()=>V("expense"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${O==="expense"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Gastos"}),y.jsx("button",{onClick:()=>V("income"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${O==="income"?"bg-white dark:bg-zinc-800 shadow-sm text-zinc-900 dark:text-zinc-100":"text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300"}`,children:"Ingresos"})]}),y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("input",{type:"text",placeholder:"Nueva categora...",value:q,onChange:ye=>L(ye.target.value),className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-emerald-500 transition-colors",onKeyDown:ye=>ye.key==="Enter"&&Ot()}),y.jsx("button",{onClick:Ot,className:"p-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors",children:y.jsx(Rs,{size:20})})]}),y.jsx("div",{className:"space-y-2",children:(O==="income"?f:b).map(ye=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/40 rounded-xl border border-transparent hover:border-zinc-100 dark:hover:border-zinc-800 group transition-colors",children:[y.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:ye}),y.jsx("button",{onClick:()=>an(ye),className:"text-zinc-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",title:"Eliminar y mover gastos a 'Desconocido'",children:y.jsx(js,{size:16})})]},ye))})]}),z==="scheduled"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gestiona tus ingresos y gastos recurrentes automticos."}),S.length===0?y.jsxs("div",{className:"text-center py-10 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[y.jsx(g3,{className:"mx-auto text-zinc-400 mb-2",size:32}),y.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:"No hay reglas programadas"})]}):y.jsx("div",{className:"space-y-3",children:S.map(ye=>y.jsxs("div",{className:`p-4 rounded-xl border transition-all ${ye.active?"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800":"bg-zinc-100 dark:bg-zinc-900/30 border-zinc-200 dark:border-zinc-800 opacity-70"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-bold uppercase px-2 py-0.5 rounded-full ${ye.type==="income"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:ye.type==="income"?"Ingreso":"Gasto"}),y.jsxs("span",{className:"text-xs text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-md",children:["Da ",ye.dayOfMonth]})]}),y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:ye.description||"Sin descripcin"}),y.jsxs("p",{className:"text-sm text-zinc-500",children:[ye.category,"  ",n,ye.amount.toFixed(2)]})]}),y.jsx("button",{onClick:()=>j(ye.id),className:"p-2 text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Eliminar regla permanentemente",children:y.jsx(js,{size:18})})]}),y.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("span",{className:"text-xs text-zinc-400",children:ye.lastProcessedDate?`ltima vez: ${ye.lastProcessedDate}`:"Nunca ejecutado"}),y.jsx("button",{onClick:()=>k(ye.id,ye.active),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${ye.active?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,children:ye.active?y.jsxs(y.Fragment,{children:[y.jsx(LX,{size:14})," Pausar"]}):y.jsxs(y.Fragment,{children:[y.jsx(BX,{size:14})," Reactivar"]})})]})]},ye.id))})]}),z==="presets"&&y.jsxs("div",{className:"space-y-4 pb-2",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold mb-2 flex items-center gap-2 text-zinc-500 uppercase tracking-wider",children:[y.jsx(Rs,{size:14})," Nuevo Atajo"]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Nombre (ej. Caf)",className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:F,onChange:ye=>U(ye.target.value)}),y.jsx("input",{type:"number",placeholder:"Monto",className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:be,onChange:ye=>Ee(ye.target.value)})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{className:"flex-1 min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20 appearance-none bg-no-repeat",value:$,onChange:ye=>{oe(ye.target.value),re("")},children:[y.jsx("option",{value:"expense",children:"Gasto"}),y.jsx("option",{value:"income",children:"Ingreso"})]}),y.jsxs("select",{className:"flex-[2] min-w-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500/20",value:Y,onChange:ye=>re(ye.target.value),children:[y.jsx("option",{value:"",children:"Categora..."}),($==="expense"?b:f).map(ye=>y.jsx("option",{value:ye,children:ye},ye))]})]}),y.jsx("button",{disabled:!F||!Y,onClick:()=>{D({label:F,amount:be?Number(be):void 0,category:Y,type:$}),U(""),Ee("")},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 py-2.5 rounded-xl text-sm font-bold hover:opacity-90 disabled:opacity-50 transition-opacity mt-1",children:"Agregar Botn"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.map(ye=>y.jsxs("div",{className:"p-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl flex items-center justify-between group relative overflow-hidden",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm truncate",children:ye.label}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[ye.amount?`${n}${ye.amount}`:"-","  ",ye.category]})]}),y.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 flex items-center justify-center bg-rose-50 dark:bg-rose-900/20 translate-x-full group-hover:translate-x-0 transition-transform cursor-pointer",onClick:()=>R(ye.id),children:y.jsx(js,{size:16,className:"text-rose-500"})})]},ye.id)),N.length===0&&y.jsxs("div",{className:"col-span-2 text-center py-6 text-zinc-400 text-sm border border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl",children:[y.jsx(CQ,{className:"mx-auto mb-2 opacity-50"}),"Crea botones rpidos para tus gastos frecuentes"]})]})]}),z==="data"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-4 rounded-xl border border-amber-200 dark:border-amber-900/30",children:[y.jsxs("h4",{className:"text-amber-800 dark:text-amber-400 font-bold mb-2 flex items-center gap-2",children:[y.jsx(YX,{size:18})," Zona de Peligro Nuclear"]}),y.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-500/80 mb-4",children:'Descarga tu "Master Doc" para tener una copia de seguridad fsica o crgalo para restaurar tus finanzas.'})]}),y.jsxs("div",{className:"grid gap-4",children:[y.jsx("button",{onClick:Xt,className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all group",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:y.jsx(QX,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Exportar Datos"}),y.jsx("p",{className:"text-xs text-zinc-500",children:"Descargar backup .json"})]})]})}),y.jsx("label",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500 dark:hover:border-blue-500 transition-all cursor-pointer",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:y.jsx(yZ,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Restaurar Datos"}),y.jsx("p",{className:"text-xs text-zinc-500",children:"Sobrescribir desde .json"})]})]})}),y.jsxs("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800 space-y-4",children:[y.jsx("button",{onClick:zt,disabled:ke,className:"w-full flex items-center justify-between p-4 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 rounded-xl hover:opacity-90 disabled:opacity-70 transition-all",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 rounded-full bg-zinc-800 dark:bg-zinc-200 ${ke?"animate-spin":""}`,children:y.jsx(fT,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-sm",children:ke?Le:"Buscar Actualizaciones"}),y.jsx("p",{className:"text-xs opacity-70",children:"Forzar sincronizacin PWA"})]})]})}),y.jsxs("button",{onClick:()=>H(!0),className:"group w-full relative overflow-hidden flex items-center justify-between p-4 bg-rose-500 hover:bg-rose-600 text-white rounded-xl transition-all shadow-lg hover:shadow-rose-500/40 hover:scale-[1.02]",children:[y.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(45deg,transparent,transparent_10px,#00000010_10px,#00000010_20px)]"}),y.jsxs("div",{className:"relative flex items-center gap-3 z-10",children:[y.jsx("div",{className:"p-2 rounded-full bg-rose-700 animate-[pulse_1.5s_ease-in-out_infinite]",children:y.jsx(AO,{size:24})}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold font-mono tracking-wider",children:"OPCIN NUCLEAR"}),y.jsx("p",{className:"text-xs opacity-90 font-mono",children:"BORRADO TOTAL DE DATOS"})]})]}),y.jsx(OO,{className:"relative z-10 opacity-50 group-hover:rotate-180 transition-transform duration-700",size:32})]})]})]})]})]})]}),_e&&y.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-6 animate-in fade-in duration-200 backdrop-blur-sm rounded-2xl",children:y.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[y.jsx("div",{className:"animate-[bounce_1s_infinite]",children:y.jsx(JQ,{size:64,className:"text-rose-500 mx-auto"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-black text-rose-500 font-mono tracking-widest mb-2",children:"PELIGRO!"}),y.jsxs("p",{className:"text-zinc-400 text-sm font-mono leading-relaxed",children:["ESTA ACCIN ES IRREVERSIBLE.",y.jsx("br",{}),"SE ELIMINARN TODAS LAS TRANSACCIONES Y CONFIGURACIONES.",y.jsx("br",{}),"INTRODUZCA CDIGO DE LANZAMIENTO PARA CONFIRMAR."]})]}),y.jsx("div",{className:"flex justify-center gap-3 my-6",children:ne.map((ye,Ke)=>y.jsx("input",{id:`nuclear-digit-${Ke}`,type:"text",maxLength:1,value:ye,onChange:jt=>Ve(Ke,jt.target.value),className:"w-12 h-16 bg-zinc-900 border-2 border-rose-500/50 focus:border-rose-500 text-rose-500 text-3xl font-mono text-center rounded-lg shadow-[0_0_15px_rgba(244,63,94,0.3)] focus:shadow-[0_0_25px_rgba(244,63,94,0.6)] outline-none transition-all"},Ke))}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:()=>{H(!1),ie(["","","",""])},className:"py-3 px-4 bg-zinc-800 text-zinc-300 font-mono font-bold rounded-lg hover:bg-zinc-700 transition-colors",children:"ABORTAR"}),y.jsx("button",{onClick:he,disabled:ue,className:"py-3 px-4 bg-rose-600 text-white font-mono font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-rose-600/50",children:ue?y.jsxs(y.Fragment,{children:[y.jsx(OO,{className:"animate-spin",size:18})," DETONANDO"]}):y.jsxs(y.Fragment,{children:[y.jsx(AO,{size:18})," DETONAR"]})})]})]})})]})},wJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState("expense"),[l,c]=T.useState(""),[d,f]=T.useState(""),[m,p]=T.useState(""),{addTransaction:b}=Tr(),{categories:_}=Ad("expense"),{categories:w}=Ad("income"),{currency:E}=yr(),{presets:S}=V3();T.useEffect(()=>{t&&(f(""),c(""),p(""),s("expense"))},[t]);const k=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},300)},j=()=>{const D=Number(l);!D||D<=0||(b({amount:D,type:i,category:d||"Otros",date:new Date().toLocaleDateString("en-CA"),description:m||(i==="expense"?"Gasto Rpido":"Ingreso Rpido")}),k())};if(!t&&!n)return y.jsx("button",{onClick:()=>e(!0),className:"md:hidden fixed bottom-6 right-6 w-16 h-16 bg-zinc-900 dark:bg-emerald-600 text-white rounded-full shadow-2xl shadow-zinc-900/40 dark:shadow-emerald-600/40 flex items-center justify-center active:scale-95 transition-transform z-50","aria-label":"Agregar transaccin",children:y.jsx(Rs,{size:32,strokeWidth:2.5})});const N=i==="expense"?_:w;return y.jsxs("div",{className:"fixed inset-0 z-50 md:hidden flex items-end justify-center pointer-events-none",children:[y.jsx("div",{className:Se("absolute inset-0 bg-black/60 backdrop-blur-sm pointer-events-auto transition-opacity duration-300",n?"opacity-0":"opacity-100"),onClick:k}),y.jsxs("div",{className:Se("w-full bg-white dark:bg-zinc-950 rounded-t-[2.5rem] shadow-2xl pointer-events-auto transform transition-transform duration-300 ease-out border-t border-zinc-100/10 max-h-[90vh] flex flex-col",n?"translate-y-full":"translate-y-0"),children:[y.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",onClick:k,children:y.jsx("div",{className:"w-12 h-1.5 bg-zinc-300 dark:bg-zinc-700 rounded-full"})}),y.jsxs("div",{className:"px-6 pb-2 flex items-center justify-between",children:[y.jsx("button",{onClick:k,className:"p-2 -ml-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200",children:y.jsx(NX,{size:28})}),y.jsx("span",{className:"font-bold text-zinc-400 text-xs uppercase tracking-widest",children:"Nueva Transaccin"}),y.jsx("div",{className:"w-10"})," "]}),y.jsxs("div",{className:"px-6 pb-8 overflow-y-auto no-scrollbar",children:[S.length>0&&y.jsxs("div",{className:"mb-8",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider mb-3",children:"Atajos Rpidos"}),y.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:S.map(D=>y.jsxs("button",{onClick:()=>{D.amount&&c(D.amount.toString()),s(D.type),f(D.category),p(D.label)},className:Se("flex-shrink-0 flex flex-col items-center justify-center w-20 h-20 rounded-2xl border-2 transition-all snap-start","border-zinc-100 bg-white dark:border-zinc-800 dark:bg-zinc-900 active:scale-95",d===D.category&&i===D.type?"border-emerald-500 ring-1 ring-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":""),children:[y.jsx("div",{className:`w-8 h-8 rounded-full mb-1 flex items-center justify-center ${D.type==="expense"?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:D.type==="expense"?y.jsx(ey,{size:16}):y.jsx(Td,{size:16})}),y.jsx("span",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate max-w-full px-1",children:D.label}),D.amount&&y.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[E,D.amount]})]},D.id))})]}),y.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-2xl mb-8",children:[y.jsxs("button",{onClick:()=>s("expense"),className:Se("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="expense"?"bg-white dark:bg-zinc-800 text-rose-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:[y.jsx(ey,{size:20,strokeWidth:2.5})," Gasto"]}),y.jsxs("button",{onClick:()=>s("income"),className:Se("flex-1 py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200",i==="income"?"bg-white dark:bg-zinc-800 text-emerald-600 shadow-md transform scale-[1.02]":"text-zinc-400 hover:text-zinc-600"),children:["Ingreso ",y.jsx(Td,{size:20,strokeWidth:2.5})]})]}),y.jsxs("div",{className:"mb-8 relative flex items-center justify-center",children:[y.jsx("span",{className:Se("text-3xl font-bold text-zinc-400 mr-2 pb-1 transition-all duration-300",l?"opacity-100":"opacity-30"),children:E}),y.jsx("input",{type:"number",inputMode:"decimal",value:l,onChange:D=>c(D.target.value),placeholder:"0",autoFocus:!0,className:"bg-transparent text-center text-6xl font-black text-zinc-900 dark:text-zinc-100 focus:outline-none placeholder:text-zinc-200 dark:placeholder:text-zinc-800 py-2 caret-emerald-500 w-[180px]"})]}),y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-wider ml-1",children:"Categora"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-6 px-6 no-scrollbar snap-x",children:[N.map(D=>y.jsx("button",{onClick:()=>f(D),className:Se("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start whitespace-nowrap",d===D?"border-zinc-900 bg-zinc-900 text-white dark:border-zinc-100 dark:bg-zinc-100 dark:text-zinc-900":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-400"),children:D},D)),y.jsx("button",{onClick:()=>f("Otros"),className:Se("flex-shrink-0 px-5 py-3 rounded-2xl text-sm font-bold border-2 transition-all snap-start",d==="Otros"?"border-zinc-900 bg-zinc-900 text-white":"border-zinc-100 bg-white text-zinc-500 dark:border-zinc-800 dark:bg-zinc-900"),children:"Otros"})]})]}),y.jsx("div",{className:"mb-8",children:y.jsx("input",{type:"text",value:m,onChange:D=>p(D.target.value),placeholder:i==="expense"?"En qu gastaste?":"De dnde provino?",className:"w-full bg-zinc-50 dark:bg-zinc-900/50 border-none rounded-2xl px-5 py-4 text-base font-medium placeholder:text-zinc-400 focus:ring-2 focus:ring-emerald-500/20 transition-all"})}),y.jsxs("button",{onClick:j,disabled:!l,className:Se("w-full py-5 rounded-2xl font-bold text-lg text-white shadow-xl transition-all duration-300 flex items-center justify-center gap-3 active:scale-[0.98]",l?"bg-zinc-900 dark:bg-emerald-600 shadow-zinc-900/20 dark:shadow-emerald-600/20":"bg-zinc-300 dark:bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"),children:[y.jsx(v3,{size:28,strokeWidth:3}),l?"Confirmar":"Ingresa un monto"]})]})]})]})},B3=T.createContext(void 0),EJ=({children:t})=>{const{data:e,updateData:n}=Mi(),r=e.projects||[],i=m=>{const p={id:crypto.randomUUID(),...m,status:"planning",startDate:(()=>{const b=new Date;return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`})(),transactions:[],targetBudget:m.targetBudget||0};n({projects:[p,...r]})},s=(m,p)=>{const b=r.map(_=>_.id===m?{..._,...p}:_);n({projects:b})},l=m=>{const p=r.filter(b=>b.id!==m);n({projects:p})},c=(m,p)=>{const b=r.find(E=>E.id===m);if(!b)return;const _={id:crypto.randomUUID(),projectId:m,...p},w={...b,transactions:[_,...b.transactions||[]]};s(m,w)},d=(m,p)=>{const b=r.find(w=>w.id===m);if(!b)return;const _={...b,transactions:(b.transactions||[]).filter(w=>w.id!==p)};s(m,_)},f=m=>{const p=m.transactions||[],b=p.filter(j=>j.type==="income").reduce((j,N)=>j+N.amount,0),_=p.filter(j=>j.type==="expense").reduce((j,N)=>j+N.amount,0),w=b-_,E=m.targetBudget||m.budget||0,S=E>0?_/E*100:0,k=E>0?w/E*100:0;return{totalIncome:b,totalExpenses:_,currentBalance:w,percentConsumed:S,percentFunded:k}};return y.jsx(B3.Provider,{value:{projects:r,addProject:i,updateProject:s,deleteProject:l,addProjectTransaction:c,deleteProjectTransaction:d,getProjectStats:f},children:t})},U3=()=>{const t=T.useContext(B3);if(!t)throw new Error("useProjects must be used within a ProjectsProvider");return t},SJ=()=>{const{hasSeenOnboarding:t,setHasSeenOnboarding:e}=yr(),[n,r]=T.useState(0),[i,s]=T.useState(!t);T.useEffect(()=>{t&&s(!1)},[t]);const l=[{title:"La Hermandad del Ahorro",icon:y.jsx(QQ,{size:48,className:"text-zinc-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Bienvenido, Iniciado. El Yermo financiero es implacable, pero aqu tienes un refugio seguro para tu capital."}),y.jsx("p",{className:"text-sm border-l-2 border-zinc-500 pl-3 italic text-zinc-500",children:'"Ad victoriam, ad parsimonia." (Hacia la victoria, hacia el ahorro).'}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-3 rounded-lg text-xs text-zinc-600 dark:text-zinc-400",children:[y.jsx("span",{className:"font-bold",children:"Misin:"})," Proteger tus finanzas de la radiacin inflacionaria."]})]})},{title:"El Equilibrio de la Fuerza",icon:y.jsx(xv,{size:48,className:"text-emerald-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"Para mantener el orden en la galaxia, debes registrar cada crdito."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Cmo funciona:"}),y.jsxs("ul",{className:"text-sm text-zinc-600 dark:text-zinc-400 list-disc list-inside space-y-1",children:[y.jsxs("li",{children:["Usa el botn ",y.jsx("span",{className:"font-bold text-emerald-600",children:"+"})," para aadir Ingresos o Gastos."]}),y.jsx("li",{children:"Clasifcalos para ver tus grficas de poder."})]})]}),y.jsx("p",{className:"text-xs text-zinc-400 italic text-center mt-2",children:'"Controlar tus gastos? No lo intentes. Hazlo."'})]})},{title:"Atajos Tcticos",icon:y.jsx(EZ,{size:48,className:"text-yellow-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"En el calor de la batalla diaria, no hay tiempo para formularios largos."}),y.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-900/30",children:[y.jsx("p",{className:"text-sm font-bold text-yellow-700 dark:text-yellow-500 mb-1",children:"Nueva Funcin: La Botonera"}),y.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:'Configura "Atajos" en Ajustes para tus gastos frecuentes (Caf, Transporte, Supermercado). Regstralos con un solo toque desde el mvil.'})]})]})},{title:"Silos de Recursos",icon:y.jsx(gQ,{size:48,className:"text-blue-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-300",children:"No mezcles el combustible de la nave con las provisiones de la tripulacin."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-sm font-bold text-zinc-800 dark:text-zinc-200",children:"Seccin: Fondos"}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:'Crea carpetas separadas para dinero que ya tienes pero no quieres gastar (ej: "Fondo de Emergencia" o "Impuestos"). Este dinero se "oculta" de tu saldo disponible diario.'})]})]})},{title:"Relatividad Financiera",icon:y.jsx(cQ,{size:48,className:"text-cyan-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["Usa las ",y.jsx("span",{className:"font-bold",children:"Proyecciones"})," para viajar al futuro y ver cmo terminar tu mes antes de que empiece."]}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-black p-4 text-center",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2072&auto=format&fit=crop')] opacity-40 bg-cover bg-center"}),y.jsx("p",{className:"text-white font-bold relative z-10 text-sm italic",children:'"Un pequeo desliz aqu podra costarnos 51 aos de intereses."'})]}),y.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Simula gastos extra y pagos de crdito para evitar agujeros negros."})]})},{title:"Protocolo T.A.R.S.",icon:y.jsx(qQ,{size:48,className:"text-rose-500"}),content:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:[y.jsx("span",{className:"font-bold text-rose-500",children:"T"}),"u ",y.jsx("span",{className:"font-bold text-rose-500",children:"A"}),"sesor de ",y.jsx("span",{className:"font-bold text-rose-500",children:"R"}),"entabilidad ",y.jsx("span",{className:"font-bold text-rose-500",children:"S"}),"incera."]}),y.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Crea metas con fecha lmite. Si te retrasas un mes, TARS recalcular automticamente tus cuotas futuras. Honestidad al 95%."}),y.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded text-xs text-center italic text-zinc-500",children:'"Ahorrar para esa meta no es imposible. Es necesario."'})]})}],c=()=>{n<l.length-1?r(n+1):d()},d=()=>{e(!0),s(!1)};return t&&!i?null:y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-opacity",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 relative animate-in fade-in zoom-in-95 duration-300",children:[y.jsxs("div",{className:"h-32 bg-zinc-900 relative overflow-hidden flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:20px_20px]"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"}),y.jsx("div",{className:"relative z-10 transform transition-all duration-500 ease-out key={step}",children:l[n].icon})]}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-tight",children:l[n].title}),y.jsxs("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-full",children:[n+1," / ",l.length]})]}),y.jsx("div",{className:"min-h-[160px]",children:l[n].content}),y.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("button",{onClick:d,className:"text-sm font-medium text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:"Saltar Tutorial"}),y.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-bold transition-all active:scale-95 shadow-lg shadow-emerald-900/20",children:[n===l.length-1?"Despegar! ":"Siguiente",n<l.length-1&&y.jsx(b3,{size:16})]})]})]})]})})},TJ=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),{processScheduledTransactions:i}=_v();return T.useEffect(()=>{i()},[i]),y.jsx(ID,{children:y.jsx(mJ,{children:y.jsx(EJ,{children:y.jsxs("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300",children:[y.jsx("button",{className:"lg:hidden fixed top-4 right-4 z-50 p-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg shadow-lg",onClick:()=>e(!t),children:t?y.jsx(rm,{size:20}):y.jsx(TQ,{size:20})}),y.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-40 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:y.jsx(hJ,{isOpen:t,onClose:()=>e(!1),onOpenSettings:()=>r(!0)})}),t&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>e(!1)}),y.jsxs("main",{className:"flex-1 overflow-auto p-4 lg:p-8 w-full max-w-[1600px] mx-auto relative",children:[y.jsx("div",{className:"fixed bottom-2 right-2 text-[10px] text-zinc-500 font-mono opacity-50 pointer-events-none",children:"v2.2 - Non-Blocking Load"}),y.jsx(qD,{})]}),y.jsx(wJ,{}),y.jsx(_J,{isOpen:n,onClose:()=>r(!1)}),y.jsx(SJ,{}),y.jsx(h3,{position:"top-center"})]})})})})},Dm=()=>{const{data:t,updateData:e}=Mi(),n=t.goals||[],r=w=>{const E={id:crypto.randomUUID(),...w,currentAmount:0,history:[]};e({goals:[...n,E]})},i=(w,E)=>{const S=n.map(k=>k.id===w?{...k,...E}:k);e({goals:S})},s=w=>{const E=n.filter(S=>S.id!==w);e({goals:E})},l=(w,E,S)=>{const k=n.find(z=>z.id===w);if(!k)return;const j=new Date().toISOString().split("T")[0],N={id:crypto.randomUUID(),date:j,amount:E,type:"deposit",note:S||"Contribucin manual"},D=k.history?[...k.history,N]:[N],R={...k,currentAmount:(k.currentAmount||0)+E,lastContributionDate:j,history:D};i(w,R)},c=(w,E,S)=>{const k=n.find(z=>z.id===w);if(!k)return;const j=new Date().toISOString().split("T")[0],N={id:crypto.randomUUID(),date:j,amount:E,type:"withdrawal",note:S||"Retiro de fondos"},D=k.history?[...k.history,N]:[N],R={...k,currentAmount:Math.max(0,(k.currentAmount||0)-E),history:D};i(w,R)},d=(w,E)=>{l(w,E,"Cuota Mensual")},f=w=>{if(!w.deadline)return 0;const E=new Date,S=new Date(w.deadline),k=w.targetAmount-w.currentAmount;if(k<=0)return 0;const j=S.getFullYear()-E.getFullYear(),N=S.getMonth()-E.getMonth();let D=j*12+N;return D<1&&(D=1),k/D},m=w=>{const S=p(w,new Date),k=f(w);return S>=k-1},p=(w,E)=>{if(!w.history)return 0;const S=E.getMonth(),k=E.getFullYear();return w.history.reduce((j,N)=>{const[D,R]=N.date.split("-").map(Number);return D===k&&R-1===S?N.type==="deposit"?j+N.amount:j-N.amount:j},0)};return{goals:n,addGoal:r,updateGoal:i,deleteGoal:s,contributeToGoal:d,addContribution:l,withdraw:c,getMonthlyQuota:f,isGoalPaidThisMonth:m,getTotalSavingsAtDate:w=>n.reduce((E,S)=>{if(!S.history||S.history.length===0)return E;const k=new Date(w.getFullYear(),w.getMonth()+1,0),j=S.history.reduce((N,D)=>new Date(D.date)<=k?D.type==="deposit"?N+D.amount:N-D.amount:N,0);return E+Math.max(0,j)},0),getMonthsRemaining:w=>{if(!w.deadline)return 0;const E=new Date,S=new Date(w.deadline),k=S.getFullYear()-E.getFullYear(),j=S.getMonth()-E.getMonth();return Math.max(0,k*12+j)}}},zm=()=>{const{data:t,updateData:e}=Mi(),n=t.funds||[];return{funds:n,addFund:l=>{const c={id:crypto.randomUUID(),currentAmount:0,history:[],...l};e({funds:[...n,c]})},deleteFund:l=>{const c=n.filter(d=>d.id!==l);e({funds:c})},addTransaction:(l,c,d,f)=>{const m=n.find(S=>S.id===l);if(!m)return;const p={id:crypto.randomUUID(),fundId:l,date:new Date().toISOString().split("T")[0],amount:c,type:d,note:f},b=d==="deposit"?(m.currentAmount||0)+c:(m.currentAmount||0)-c,_=m.history?[p,...m.history]:[p],w={...m,currentAmount:Math.max(0,b),history:_},E=n.map(S=>S.id===l?w:S);e({funds:E})}}},Lm=()=>{const{allTransactions:t}=Tr(),{goals:e}=Dm(),{funds:n}=zm(),{selectedDate:r}=zd(),i=c=>{const d=new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59),m=(t||[]).filter(k=>new Date(k.date+"T12:00:00")<=d),p=m.filter(k=>k.type==="income").reduce((k,j)=>k+j.amount,0),b=m.filter(k=>k.type==="expense").reduce((k,j)=>k+j.amount,0),w=(e||[]).reduce((k,j)=>{if(!j.history)return k;const N=j.history.reduce((D,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?D+R.amount:D-R.amount:D,0);return k+Math.max(0,N)},0),S=(n||[]).reduce((k,j)=>{if(!j.history)return k;const N=j.history.reduce((D,R)=>new Date(R.date+"T12:00:00")<=d?R.type==="deposit"?D+R.amount:D-R.amount:D,0);return k+Math.max(0,N)},0);return p-b-(w+S)},s=i(r),l=i(new Date);return{availableBalance:s,currentBalance:l,getBalanceAtDate:i}},wv=()=>{const{selectedDate:t,prevMonth:e,nextMonth:n,goToCurrentMonth:r}=zd(),i=new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(t),s=i.charAt(0).toUpperCase()+i.slice(1),l=t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return y.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("button",{onClick:e,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Anterior",children:y.jsx(PX,{size:16})}),y.jsxs("div",{className:"flex items-center gap-2 px-2 min-w-[140px] justify-center",children:[y.jsx(y3,{size:16,className:"text-zinc-400"}),y.jsx("span",{className:"font-bold text-zinc-800 dark:text-zinc-200 text-sm select-none",children:s})]}),y.jsx("button",{onClick:n,className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",title:"Mes Siguiente",children:y.jsx(b3,{size:16})}),!l&&y.jsx("button",{onClick:r,className:"ml-2 text-xs font-medium text-emerald-600 dark:text-emerald-400 hover:underline px-2",children:"Hoy"})]})},AJ=({isOpen:t,onClose:e})=>{const{goals:n,addContribution:r,withdraw:i}=Dm(),{funds:s,addTransaction:l}=zm(),{total:c}=Tr("income"),{total:d}=Tr("expense"),{currency:f}=yr(),m=n.reduce((N,D)=>N+(D.currentAmount||0),0),p=s.reduce((N,D)=>N+D.currentAmount,0),b=c-d-(m+p),[_,w]=T.useState({active:!1,type:"deposit",targetId:"",targetName:"",targetType:"goal"}),[E,S]=T.useState(""),k=(N,D,R,z)=>{w({active:!0,type:N,targetId:D,targetName:R,targetType:z}),S("")},j=()=>{const N=Number(E);if(!(!N||N<=0)){if(_.type==="withdraw")if(_.targetType==="goal"){const D=n.find(R=>R.id===_.targetId);if(!D||D.currentAmount<N)return Kt.error("Fondos insuficientes en la meta.");i(_.targetId,N)}else{const D=s.find(R=>R.id===_.targetId);if(!D||D.currentAmount<N)return Kt.error("Fondos insuficientes en el fondo.");l(_.targetId,N,"withdraw","Retiro desde Gestin")}else{if(b<N)return Kt.error(`Saldo insuficiente. Disponible: ${f}${b.toFixed(2)}`);_.targetType==="goal"?r(_.targetId,N,"Ingreso desde Gestin"):l(_.targetId,N,"deposit","Ingreso desde Gestin")}w({..._,active:!1})}};return y.jsx(Ka,{isOpen:t,onClose:e,title:"Gestin de Ahorros",children:_.active?y.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-200",children:[y.jsx("button",{onClick:()=>w({..._,active:!1}),className:"text-xs text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-200 flex items-center gap-1",children:" Volver a la lista"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[_.type==="deposit"?"Ingresar en":"Retirar de"," ",_.targetName]}),y.jsx("p",{className:"text-sm text-zinc-500",children:_.type==="deposit"?`Disponible: ${f}${b.toFixed(2)}`:`Disponible en ${_.targetType==="goal"?"meta":"fondo"}: ${f}${_.targetType==="goal"?n.find(N=>N.id===_.targetId)?.currentAmount.toFixed(2)||"0.00":s.find(N=>N.id===_.targetId)?.currentAmount.toFixed(2)||"0.00"}`})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:E,onChange:N=>S(N.target.value),onKeyDown:N=>N.key==="Enter"&&j()})]}),y.jsx("button",{onClick:j,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${_.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:"Confirmar"})]}):y.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-1",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(gc,{size:14})," Metas de Ahorro"]}),n.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay metas activas."}):n.map(N=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:N.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,N.currentAmount.toFixed(2)," ",y.jsxs("span",{className:"text-[10px] text-zinc-400",children:["/ ",f,N.targetAmount.toLocaleString()]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",N.id,N.name,"goal"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx(IO,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",N.id,N.name,"goal"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(kO,{size:18})})]})]},N.id))]}),y.jsxs("div",{className:"space-y-3 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(Mm,{size:14})," Fondos Independientes"]}),s.length===0?y.jsx("p",{className:"text-xs text-zinc-400 italic",children:"No hay fondos creados."}):s.map(N=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-sm",children:N.name}),y.jsxs("p",{className:"text-xs text-zinc-500 font-mono mt-0.5",children:[f,N.currentAmount.toFixed(2)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>k("withdraw",N.id,N.name,"fund"),className:"p-2 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Retirar",children:y.jsx(IO,{size:18})}),y.jsx("button",{onClick:()=>k("deposit",N.id,N.name,"fund"),className:"p-2 text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-colors",title:"Ingresar",children:y.jsx(kO,{size:18})})]})]},N.id))]})]})})},IJ=({isOpen:t,onClose:e})=>{const{allTransactions:n}=Tr(),{selectedDate:r}=zd(),{currency:i}=yr(),s=T.useMemo(()=>[...n].sort((_,w)=>new Date(w.date).getTime()-new Date(_.date).getTime()),[n]),[l,c]=T.useState(""),f=s.filter(_=>_.description.toLowerCase().includes(l.toLowerCase())||_.category.toLowerCase().includes(l.toLowerCase())).filter(_=>{const[w,E]=_.date.split("-").map(Number);return E===r.getMonth()+1&&w===r.getFullYear()}),m=f.filter(_=>_.type==="income").reduce((_,w)=>_+w.amount,0),p=f.filter(_=>_.type==="expense").reduce((_,w)=>_+w.amount,0),b=m-p;return y.jsx(Ka,{isOpen:t,onClose:e,title:"Libro Contable",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(wv,{})}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center pb-2 border-b border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Ingresos"}),y.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-mono font-bold",children:["+",i,m.toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1 border-x border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Balance"}),y.jsxs("p",{className:`font-mono font-bold ${b>=0?"text-zinc-900 dark:text-zinc-100":"text-rose-600"}`,children:[b>=0?"+":"",i,Math.abs(b).toFixed(2)]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Gastos"}),y.jsxs("p",{className:"text-rose-600 dark:text-rose-400 font-mono font-bold",children:["-",i,p.toFixed(2)]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx(PO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),y.jsx("input",{type:"text",placeholder:"Buscar transaccin...",className:"w-full bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-300 dark:focus:border-zinc-700",value:l,onChange:_=>c(_.target.value)})]}),y.jsx("div",{className:"space-y-2 min-h-[300px]",children:f.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-400 opacity-60",children:[y.jsx(PO,{size:48,className:"mb-4"}),y.jsx("p",{className:"italic text-sm",children:"No hay movimientos que coincidan."})]}):f.map(_=>y.jsxs("div",{className:"group flex items-center justify-between p-3 bg-zinc-50/50 dark:bg-zinc-900/30 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-all border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:[y.jsxs("div",{className:"flex items-center gap-3.5",children:[y.jsx("div",{className:Se("w-10 h-10 rounded-full flex items-center justify-center shadow-sm",_.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"),children:_.type==="income"?y.jsx(Jw,{size:18}):y.jsx(mX,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 leading-tight",children:_.description||"Sin descripcin"}),y.jsxs("div",{className:"flex gap-2 text-[11px] text-zinc-500 mt-0.5 font-medium uppercase tracking-wide",children:[y.jsx("span",{children:new Date(_.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),y.jsx("span",{className:"opacity-50",children:""}),y.jsx("span",{children:_.category})]})]})]}),y.jsxs("span",{className:Se("font-mono font-bold text-sm tracking-tight",_.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[_.type==="income"?"+":"-",i,_.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},_.id))})]})})},kJ=()=>{const{selectedDate:t}=zd(),{transactions:e}=Tr(),{goals:n,getTotalSavingsAtDate:r,isGoalPaidThisMonth:i,getMonthlyQuota:s,getMonthsRemaining:l}=Dm(),{funds:c}=zm(),{currency:d}=yr(),[f,m]=T.useState(!1),[p,b]=T.useState(!1),_=e.filter(z=>{const[P,O]=z.date.split("-").map(Number);return O===t.getMonth()+1&&P===t.getFullYear()}),w=_.filter(z=>z.type==="income").reduce((z,P)=>z+P.amount,0),E=_.filter(z=>z.type==="expense").reduce((z,P)=>z+P.amount,0),S=r(t),k=c.reduce((z,P)=>z+P.currentAmount,0),j=S+k,N=z=>{const P=i(z),O=s(z);return P?y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"inline-block px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-[10px] font-bold uppercase rounded-full",children:"Pagado"}),y.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Mes Completado"})]}):y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300",children:["$",O.toFixed(2)]}),y.jsx("p",{className:"text-[10px] text-rose-500 uppercase tracking-wider font-bold",children:"Pendiente"})]})},{availableBalance:D}=Lm(),R=[{label:"Saldo Disponible",amount:D,icon:xv,color:"text-zinc-900 dark:text-zinc-100",bg:"bg-white dark:bg-zinc-900",border:"border-zinc-200 dark:border-zinc-800"},{label:"Ahorro Total",amount:j,icon:gc,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30"},{label:"Ingresos",amount:w,icon:S3,color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-950/20",border:"border-emerald-200 dark:border-emerald-900/30"},{label:"Gastos",amount:E,icon:E3,color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-950/20",border:"border-rose-200 dark:border-rose-900/30"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Panel de Control"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Resumen financiero general"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>b(!0),className:"p-3 md:p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl md:rounded-lg text-zinc-500 md:hover:text-emerald-600 md:dark:hover:text-emerald-400 md:hover:border-emerald-200 md:dark:hover:border-emerald-900 active:scale-95 transition-all shadow-sm",title:"Ver Libro Contable",children:y.jsx(vX,{size:20})}),y.jsx(wv,{})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R.map(z=>y.jsxs("div",{onClick:()=>{z.label==="Ahorro Total"&&m(!0)},className:`${z.bg} border ${z.border} p-6 rounded-3xl transition-all md:hover:scale-[1.02] md:hover:shadow-lg md:hover:shadow-zinc-200/50 md:dark:hover:shadow-zinc-900/50 active:scale-[0.98] ${z.label==="Ahorro Total"?"cursor-pointer ring-offset-2 md:hover:ring-2 ring-emerald-500/50":""}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium uppercase tracking-wider flex items-center gap-2",children:[z.label,z.label==="Ahorro Total"&&y.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-bold ml-1",children:"GESTIONAR"})]}),y.jsx(z.icon,{size:20,className:z.color})]}),y.jsxs("p",{className:`text-3xl font-mono font-bold ${z.color}`,children:[d,z.amount.toFixed(2)]})]},z.label))}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-8 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-200 mb-6 flex items-center gap-2",children:[y.jsx(gc,{size:20,className:"text-emerald-500"}),"Metas en Curso"]}),n.length===0?y.jsx("p",{className:"text-zinc-500 text-sm",children:"No tienes metas activas. Crea una para empezar a ahorrar!"}):y.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(z=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 hover:bg-white dark:hover:bg-zinc-900 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:y.jsx(gc,{size:20})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-base",children:z.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:[l(z)," meses restantes"]})]})]}),N(z)]},z.id)),n.length>3&&y.jsxs("p",{className:"text-center text-xs text-zinc-500 mt-2",children:["+",n.length-3," metas ms..."]})]})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-3xl p-10 text-center",children:[y.jsx("h3",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-200 mb-3",children:"Bienvenido a Vaultly"}),y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 max-w-md mx-auto leading-relaxed",children:["Gestiona tus finanzas con precisin. Navega a los espacios de",y.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:" Ingresos"})," y",y.jsx("span",{className:"text-rose-600 dark:text-rose-400 font-medium",children:" Gastos"})," para comenzar tu registro."]})]}),y.jsx(AJ,{isOpen:f,onClose:()=>m(!1)}),y.jsx(IJ,{isOpen:p,onClose:()=>b(!1)})]})},F3=({type:t,onSubmit:e,categories:n,onAddCategory:r})=>{const{currency:i}=yr(),{addScheduled:s}=_v(),[l,c]=T.useState(""),[d,f]=T.useState(n[0]||""),[m,p]=T.useState(""),[b,_]=T.useState(new Date().toISOString().split("T")[0]),[w,E]=T.useState(!1),[S,k]=T.useState(new Date().getDate()),[j,N]=T.useState(!1),[D,R]=T.useState(""),z=O=>{O.preventDefault(),!(!l||!d)&&(w?s({type:t,amount:Number(l),category:d,description:m,dayOfMonth:Number(S)}):e({amount:Number(l),type:t,category:d,description:m,date:b}),c(""),p(""),E(!1))},P=()=>{D.trim()&&(r(D.trim()),f(D.trim()),R(""),N(!1))};return y.jsxs("form",{onSubmit:z,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-3xl shadow-sm space-y-5",children:[y.jsxs("h3",{className:Se("text-lg font-bold flex items-center gap-2",t==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[y.jsx(Rs,{size:20}),w?"Programar":"Registrar"," ",t==="income"?"Ingreso":"Gasto"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 font-mono text-xl font-bold group-focus-within:text-zinc-600 dark:group-focus-within:text-zinc-300 transition-colors",children:i}),y.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:l,onChange:O=>c(O.target.value),className:"w-full pl-12 pr-4 py-4 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-3xl font-mono font-bold text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-800 transition-all placeholder:text-zinc-300"})]}),y.jsxs("div",{className:Se("p-4 rounded-xl border transition-all duration-300",w?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-transparent border-transparent"),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group select-none",onClick:()=>E(!w),children:[y.jsx("div",{className:Se("w-12 h-7 rounded-full p-1 transition-colors duration-300 relative",w?"bg-indigo-600":"bg-zinc-300 dark:bg-zinc-700"),children:y.jsx("div",{className:Se("w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300",w?"translate-x-5":"translate-x-0")})}),y.jsx("div",{className:"flex flex-col",children:y.jsx("span",{className:Se("text-sm font-bold transition-colors",w?"text-indigo-700 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400"),children:w?"Transaccin Recurrente":"Pago nico"})})]}),w&&y.jsxs("div",{className:"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-300",children:[y.jsx("div",{className:"text-right mr-2",children:y.jsx("p",{className:"text-[10px] uppercase font-bold text-indigo-400 dark:text-indigo-300 tracking-wider",children:"Da del mes"})}),y.jsxs("div",{className:"relative",children:[y.jsx(g3,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500",size:16}),y.jsx("input",{type:"number",min:"1",max:"31",value:S,onChange:O=>k(Number(O.target.value)),className:"w-20 pl-8 pr-2 py-2 bg-white dark:bg-zinc-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg text-lg font-bold text-indigo-700 dark:text-indigo-300 focus:outline-none focus:border-indigo-500 text-center"})]})]})]}),w&&y.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-indigo-600 dark:text-indigo-400 bg-white/50 dark:bg-black/20 p-2 rounded-lg",children:[y.jsx(HQ,{size:14,className:"mt-0.5"}),y.jsxs("p",{children:["Se agregar automticamente cada da ",y.jsx("strong",{children:S})," del mes. Te avisaremos 2 das antes."]})]})]}),!w&&y.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[y.jsx("span",{className:"text-xs text-zinc-400 uppercase font-bold absolute left-4 -top-2.5 bg-white dark:bg-zinc-900 px-1",children:"Fecha"}),y.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-zinc-400 font-medium",value:b,onChange:O=>_(O.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider ml-1",children:"Categora"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:j?y.jsxs("div",{className:"w-full flex gap-2 animate-in fade-in slide-in-from-left-2",children:[y.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nombre de nueva categora...",className:"flex-1 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-emerald-500",value:D,onChange:O=>R(O.target.value),onKeyDown:O=>O.key==="Enter"&&(O.preventDefault(),P())}),y.jsx("button",{type:"button",onClick:P,className:"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors",children:y.jsx(Rs,{size:20})}),y.jsx("button",{type:"button",onClick:()=>N(!1),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 p-2 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:""})]}):y.jsxs(y.Fragment,{children:[n.map(O=>y.jsx("button",{type:"button",onClick:()=>f(O),className:Se("px-3 py-1.5 rounded-lg text-xs font-bold transition-all border",d===O?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:O},O)),y.jsxs("button",{type:"button",onClick:()=>N(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors border border-transparent flex items-center gap-1",children:[y.jsx(Rs,{size:12})," Nueva"]})]})})]}),y.jsxs("div",{className:"relative",children:[y.jsx(uZ,{className:"absolute left-4 top-3 text-zinc-400",size:18}),y.jsx("textarea",{placeholder:"Descripcin (opcional)",value:m,onChange:O=>p(O.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl text-zinc-700 dark:text-zinc-300 focus:outline-none focus:border-zinc-400 transition-colors resize-none h-20 text-sm"})]})]}),y.jsxs("button",{type:"submit",className:Se("w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 shadow-lg",t==="income"?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-500/20"),children:[y.jsx(KQ,{size:20}),w?"Programar Recurrencia":"Guardar Transaccin"]})]})},q3=({transactions:t,onDelete:e})=>t.length===0?y.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800/50 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500 italic",children:"No hay registros en este periodo."})}):y.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm dark:shadow-none",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-950 text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Fecha"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Descripcin"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider",children:"Categora"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-right",children:"Monto"}),y.jsx("th",{className:"px-6 py-3 font-medium uppercase tracking-wider text-center",children:"Accin"})]})}),y.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:t.map(n=>y.jsxs("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors bg-white dark:bg-zinc-900",children:[y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 whitespace-nowrap font-mono text-sm font-medium",children:n.date}),y.jsx("td",{className:"px-6 py-4 text-zinc-900 dark:text-zinc-100 font-medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[n.type==="income"?y.jsx(Td,{size:16,className:"text-emerald-600"}):y.jsx(ey,{size:16,className:"text-rose-600"}),y.jsxs("p",{className:"font-semibold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[n.description,n.isRecurring&&y.jsx("span",{className:"px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-md border border-blue-200 dark:border-blue-800/50",children:"Fijo"})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-300 dark:border-zinc-700",children:n.category||"General"})}),y.jsxs("td",{className:Se("px-6 py-4 text-right font-mono font-bold text-base",n.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"),children:[n.type==="expense"?"-":"+","$",n.amount.toFixed(2)]}),y.jsx("td",{className:"px-6 py-4 text-center",children:y.jsx("button",{onClick:()=>e(n.id),className:"p-2 text-zinc-400 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-900/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar registro",children:y.jsx(js,{size:18})})})]},n.id))})]})})});var CJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mT(t){if(typeof t!="string")return!1;var e=CJ;return e.includes(t)}var NJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OJ=new Set(NJ);function $3(t){return typeof t!="string"?!1:OJ.has(t)}function H3(t){return typeof t=="string"&&t.startsWith("data-")}function ll(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&($3(n)||H3(n))&&(e[n]=t[n]);return e}function pT(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ll(e)}return typeof t=="object"&&!Array.isArray(t)?ll(t):null}function Di(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&($3(n)||H3(n)||mT(n))&&(e[n]=t[n]);return e}var PJ=["children","width","height","viewBox","className","style","title","desc"];function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(null,arguments)}function RJ(t,e){if(t==null)return{};var n,r,i=jJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var G3=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,m=RJ(t,PJ),p=s||{width:r,height:i,x:0,y:0},b=Se("recharts-surface",l);return T.createElement("svg",nE({},Di(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),MJ=["children","className"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(null,arguments)}function DJ(t,e){if(t==null)return{};var n,r,i=zJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Us=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=DJ(t,MJ),s=Se("recharts-layer",r);return T.createElement("g",rE({className:s},Di(i),{ref:e}),n)}),LJ=T.createContext(null);function Mt(t){return function(){return t}}const K3=Math.cos,ry=Math.sin,ha=Math.sqrt,iy=Math.PI,Ev=2*iy,iE=Math.PI,aE=2*iE,Zl=1e-6,VJ=aE-Zl;function Y3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Y3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class UJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Y3:BJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Zl)if(!(Math.abs(p*d-f*m)>Zl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,w=i-c,E=d*d+f*f,S=_*_+w*w,k=Math.sqrt(E),j=Math.sqrt(b),N=s*Math.tan((iE-Math.acos((E+b-S)/(2*k*j)))/2),D=N/j,R=N/k;Math.abs(D-1)>Zl&&this._append`L${e+D*m},${n+D*p}`,this._append`A${s},${s},0,0,${+(p*_>m*w)},${this._x1=e+R*d},${this._y1=n+R*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Zl||Math.abs(this._y1-m)>Zl)&&this._append`L${f},${m}`,r&&(b<0&&(b=b%aE+aE),b>VJ?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:b>Zl&&this._append`A${r},${r},0,${+(b>=iE)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UJ(e)}function yT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W3(t){this._context=t}W3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sv(t){return new W3(t)}function X3(t){return t[0]}function Q3(t){return t[1]}function Z3(t,e){var n=Mt(!0),r=null,i=Sv,s=null,l=gT(c);t=typeof t=="function"?t:t===void 0?X3:Mt(t),e=typeof e=="function"?e:e===void 0?Q3:Mt(e);function c(d){var f,m=(d=yT(d)).length,p,b=!1,_;for(r==null&&(s=i(_=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,f,d),+e(p,f,d));if(_)return s=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Mt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function Bg(t,e,n){var r=null,i=Mt(!0),s=null,l=Sv,c=null,d=gT(f);t=typeof t=="function"?t:t===void 0?X3:Mt(+t),e=typeof e=="function"?e:Mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Q3:Mt(+n);function f(p){var b,_,w,E=(p=yT(p)).length,S,k=!1,j,N=new Array(E),D=new Array(E);for(s==null&&(c=l(j=d())),b=0;b<=E;++b){if(!(b<E&&i(S=p[b],b,p))===k)if(k=!k)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=b-1;w>=_;--w)c.point(N[w],D[w]);c.lineEnd(),c.areaEnd()}k&&(N[b]=+t(S,b,p),D[b]=+e(S,b,p),c.point(r?+r(S,b,p):N[b],n?+n(S,b,p):D[b]))}if(j)return c=null,j+""||null}function m(){return Z3().defined(i).curve(l).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Mt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Mt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Mt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Mt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Mt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Mt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Mt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class J3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function FJ(t){return new J3(t,!0)}function qJ(t){return new J3(t,!1)}const vT={draw(t,e){const n=ha(e/iy);t.moveTo(n,0),t.arc(0,0,n,0,Ev)}},$J={draw(t,e){const n=ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},e6=ha(1/3),HJ=e6*2,GJ={draw(t,e){const n=ha(e/HJ),r=n*e6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},KJ={draw(t,e){const n=ha(e),r=-n/2;t.rect(r,r,n,n)}},YJ=.8908130915292852,t6=ry(iy/10)/ry(7*iy/10),WJ=ry(Ev/10)*t6,XJ=-K3(Ev/10)*t6,QJ={draw(t,e){const n=ha(e*YJ),r=WJ*n,i=XJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Ev*s/5,c=K3(l),d=ry(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},z1=ha(3),ZJ={draw(t,e){const n=-ha(e/(z1*3));t.moveTo(0,n*2),t.lineTo(-z1*n,-n),t.lineTo(z1*n,-n),t.closePath()}},Ci=-.5,Ni=ha(3)/2,sE=1/ha(12),JJ=(sE/2+1)*3,eee={draw(t,e){const n=ha(e/JJ),r=n/2,i=n*sE,s=r,l=n*sE+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Ci*r-Ni*i,Ni*r+Ci*i),t.lineTo(Ci*s-Ni*l,Ni*s+Ci*l),t.lineTo(Ci*c-Ni*d,Ni*c+Ci*d),t.lineTo(Ci*r+Ni*i,Ci*i-Ni*r),t.lineTo(Ci*s+Ni*l,Ci*l-Ni*s),t.lineTo(Ci*c+Ni*d,Ci*d-Ni*c),t.closePath()}};function tee(t,e){let n=null,r=gT(i);t=typeof t=="function"?t:Mt(t||vT),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Mt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Mt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ay(){}function sy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function n6(t){this._context=t}n6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nee(t){return new n6(t)}function r6(t){this._context=t}r6.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ree(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iee(t){return new i6(t)}function a6(t){this._context=t}a6.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aee(t){return new a6(t)}function VO(t){return t<0?-1:1}function BO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(VO(s)+VO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function UO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function L1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function oy(t){this._context=t}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L1(this,this._t0,UO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L1(this,UO(this,n=BO(this,t,e)),n);break;default:L1(this,this._t0,n=BO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function s6(t){this._context=new o6(t)}(s6.prototype=Object.create(oy.prototype)).point=function(t,e){oy.prototype.point.call(this,e,t)};function o6(t){this._context=t}o6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function see(t){return new oy(t)}function oee(t){return new s6(t)}function l6(t){this._context=t}l6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FO(t),i=FO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function lee(t){return new l6(t)}function Tv(t,e){this._context=t,this._t=e}Tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cee(t){return new Tv(t,.5)}function uee(t){return new Tv(t,0)}function dee(t){return new Tv(t,1)}function Oc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function oE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fee(t,e){return t[e]}function hee(t){const e=[];return e.key=t,e}function mee(){var t=Mt([]),e=oE,n=Oc,r=fee;function i(s){var l=Array.from(t.apply(this,arguments),hee),c,d=l.length,f=-1,m;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,s)]).data=p;for(c=0,m=yT(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Mt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Mt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?oE:typeof s=="function"?s:Mt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Oc,i):n},i}function pee(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Oc(t,e)}}function gee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Oc(t,e)}}function yee(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,_=(p-b)/2,w=0;w<c;++w){var E=t[e[w]],S=E[r][1]||0,k=E[r-1][1]||0;_+=S-k}d+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Oc(t,e)}}var V1={},B1={},qO;function vee(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(B1)),B1}var U1={},$O;function c6(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(U1)),U1}var F1={},HO;function bT(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(F1)),F1}var q1={},$1={},GO;function bee(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})($1)),$1}var KO;function xT(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bee(),n=bT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(q1)),q1}var YO;function _T(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vee(),n=c6(),r=bT(),i=xT();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=s})(V1)),V1}var H1,WO;function xee(){return WO||(WO=1,H1=_T().get),H1}var _ee=xee();const Id=es(_ee);var wee=4;function Xo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wee,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+Xo(c)+s:i+s},"")}var si=t=>t===0?0:t>0?1:-1,Qa=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Fe=t=>(typeof t=="number"||t instanceof Number)&&!Qa(t),Za=t=>Fe(t)||typeof t=="string",Eee=0,im=t=>{var e=++Eee;return"".concat(t||"").concat(e)},ua=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&typeof e!="string")return r;var s;if(Fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Qa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},u6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function or(t,e,n){return Fe(t)&&Fe(e)?Xo(t+n*(e-t)):e}function See(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Id(r,e))===n)}var $n=t=>t===null||typeof t>"u",Vm=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Tee(t){return t!=null}function Bm(){}var Aee=["type","size","sizeType"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(null,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nee(t,e){if(t==null)return{};var n,r,i=Oee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d6={symbolCircle:vT,symbolCross:$J,symbolDiamond:GJ,symbolSquare:KJ,symbolStar:QJ,symbolTriangle:ZJ,symbolWye:eee},Pee=Math.PI/180,Ree=t=>{var e="symbol".concat(Vm(t));return d6[e]||vT},jee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Pee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mee=(t,e)=>{d6["symbol".concat(Vm(t))]=e},f6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Nee(t,Aee),s=QO(QO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=Ree(l),_=tee().type(b).size(jee(n,r,l)),w=_();if(w!==null)return w},{className:d,cx:f,cy:m}=s,p=Di(s);return Fe(f)&&Fe(m)&&Fe(n)?T.createElement("path",lE({},p,{className:Se("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};f6.registerSymbol=Mee;var h6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Dee=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{mT(i)&&(r[i]=(s=>n[i](n,s)))}),r},zee=(t,e,n)=>r=>(t(e,n,r),null),wT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];mT(i)&&typeof s=="function"&&(r||(r={}),r[i]=zee(s,e,n))}),r};function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vee(t,e,n){return(e=Bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(t,e){var n=Lee({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var G1={},K1={},JO;function Fee(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(K1)),K1}var Y1={},eP;function m6(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Y1)),Y1}var W1={},X1={},Q1={},tP;function qee(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Q1)),Q1}var nP;function ET(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(X1)),X1}var Z1={},rP;function $ee(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Z1)),Z1}var iP;function Hee(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ET(),n=$ee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(W1)),W1}var J1={},e_={},aP;function Gee(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_T();function n(r){return function(i){return e.get(i,r)}}t.property=n})(e_)),e_}var t_={},n_={},r_={},i_={},sP;function p6(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(i_)),i_}var a_={},oP;function g6(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(a_)),a_}var s_={},lP;function y6(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(s_)),s_}var cP;function Kee(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p6(),n=g6(),r=y6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function _(w,E,S,k,j,N){const D=b(w,E,S,k,j,N);return D!==void 0?!!D:s(w,E,_,N)},new Map)}function s(m,p,b,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,_);case"function":return Object.keys(p).length>0?s(m,{...p},b,_):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,_){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,_);if(p instanceof Map)return c(m,p,b,_);if(p instanceof Set)return f(m,p,b,_);const w=Object.keys(p);if(m==null||n.isPrimitive(m))return w.length===0;if(w.length===0)return!0;if(_?.has(p))return _.get(p)===m;_?.set(p,m);try{for(let E=0;E<w.length;E++){const S=w[E];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!b(m[S],p[S],S,m,p,_))return!1}return!0}finally{_?.delete(p)}}function c(m,p,b,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,E]of p.entries()){const S=m.get(w);if(b(S,E,w,m,p,_)===!1)return!1}return!0}function d(m,p,b,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let E=0;E<p.length;E++){const S=p[E];let k=!1;for(let j=0;j<m.length;j++){if(w.has(j))continue;const N=m[j];let D=!1;if(b(N,S,E,m,p,_)&&(D=!0),D){w.add(j),k=!0;break}}if(!k)return!1}return!0}function f(m,p,b,_){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,_):!1}t.isMatchWith=i,t.isSetMatch=f})(r_)),r_}var uP;function v6(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kee();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(n_)),n_}var o_={},l_={},c_={},dP;function Yee(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(c_)),c_}var u_={},fP;function b6(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(u_)),u_}var d_={},hP;function x6(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",_="[object Object]",w="[object Error]",E="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",N="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",z="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=V,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=z,t.int32ArrayTag=P,t.int8ArrayTag=R,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(d_)),d_}var f_={},mP;function Wee(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(f_)),f_}var pP;function _6(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yee(),n=b6(),r=x6(),i=g6(),s=Wee();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,_=new Map,w=void 0){const E=w?.(m,p,b,_);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const S=new Array(m.length);_.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,_,w);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;_.set(m,S);for(const[k,j]of m)S.set(k,c(j,k,b,_,w));return S}if(m instanceof Set){const S=new Set;_.set(m,S);for(const k of m)S.add(c(k,void 0,b,_,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,S);for(let k=0;k<m.length;k++)S[k]=c(m[k],k,b,_,w);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,S),d(S,m,b,_,w),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return _.set(m,S),d(S,m,b,_,w),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return _.set(m,S),d(S,m,b,_,w),S}if(m instanceof Error){const S=new m.constructor;return _.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,b,_,w),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return _.set(m,S),d(S,m,b,_,w),S}if(m instanceof Number){const S=new Number(m.valueOf());return _.set(m,S),d(S,m,b,_,w),S}if(m instanceof String){const S=new String(m.valueOf());return _.set(m,S),d(S,m,b,_,w),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return _.set(m,S),d(S,m,b,_,w),S}return m}function d(m,p,b=m,_,w){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const k=E[S],j=Object.getOwnPropertyDescriptor(m,k);(j==null||j.writable)&&(m[k]=c(p[k],k,b,_,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(l_)),l_}var gP;function Xee(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(o_)),o_}var yP;function Qee(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v6(),n=Xee();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(t_)),t_}var h_={},m_={},p_={},vP;function Zee(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6(),n=x6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=s?.(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(p_)),p_}var bP;function Jee(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(m_)),m_}var g_={},y_={},xP;function w6(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(y_)),y_}var v_={},_P;function ete(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(v_)),v_}var wP;function tte(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c6(),n=w6(),r=ete(),i=xT();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(g_)),g_}var EP;function nte(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v6(),n=bT(),r=Jee(),i=_T(),s=tte();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(h_)),h_}var SP;function rte(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m6(),n=Gee(),r=Qee(),i=nte();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(J1)),J1}var TP;function ite(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fee(),n=m6(),r=Hee(),i=rte();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(G1)),G1}var b_,AP;function ate(){return AP||(AP=1,b_=ite().uniqBy),b_}var ste=ate();const IP=es(ste);function ote(t,e,n){return e===!0?IP(t,n):typeof e=="function"?IP(t,e):t}var x_={exports:{}},__={},w_={exports:{}},E_={};var kP;function lte(){if(kP)return E_;kP=1;var t=Dd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var _=b(),w=r({inst:{value:_,getSnapshot:b}}),E=w[0].inst,S=w[1];return s(function(){E.value=_,E.getSnapshot=b,d(E)&&S({inst:E})},[p,_,b]),i(function(){return d(E)&&S({inst:E}),p(function(){d(E)&&S({inst:E})})},[p]),l(_),_}function d(p){var b=p.getSnapshot;p=p.value;try{var _=b();return!n(p,_)}catch{return!0}}function f(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return E_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,E_}var CP;function cte(){return CP||(CP=1,w_.exports=lte()),w_.exports}var NP;function ute(){if(NP)return __;NP=1;var t=Dd(),e=cte();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return __.useSyncExternalStoreWithSelector=function(f,m,p,b,_){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function k(z){if(!j){if(j=!0,N=z,z=b(z),_!==void 0&&E.hasValue){var P=E.value;if(_(P,z))return D=P}return D=z}if(P=D,r(N,z))return P;var O=b(z);return _!==void 0&&_(P,O)?(N=z,P):(N=z,D=O)}var j=!1,N,D,R=p===void 0?null:p;return[function(){return k(m())},R===null?void 0:function(){return k(R())}]},[m,p,b,_]);var S=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},__}var OP;function dte(){return OP||(OP=1,x_.exports=ute()),x_.exports}var fte=dte(),ST=T.createContext(null),hte=t=>t,fn=()=>{var t=T.useContext(ST);return t?t.store.dispatch:hte},_0=()=>{},mte=()=>_0,pte=(t,e)=>t===e;function He(t){var e=T.useContext(ST);return fte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:mte,e?e.store.getState:_0,e?e.store.getState:_0,e?t:_0,pte)}function gte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var PP=t=>Array.isArray(t)?t:[t];function bte(t){const e=Array.isArray(t[0])?t[0]:t;return vte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function xte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var _te=class{constructor(t){this.value=t}deref(){return this.value}},wte=typeof WeakRef<"u"?WeakRef:_te,Ete=0,RP=1;function Ug(){return{s:Ete,v:void 0,o:null,p:null}}function E6(t,e={}){let n=Ug();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let c=n;const{length:d}=arguments;for(let p=0,b=d;p<b;p++){const _=arguments[p];if(typeof _=="function"||typeof _=="object"&&_!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const E=w.get(_);E===void 0?(c=Ug(),w.set(_,c)):c=E}else{let w=c.p;w===null&&(c.p=w=new Map);const E=w.get(_);E===void 0?(c=Ug(),w.set(_,c)):c=E}}const f=c;let m;if(c.s===RP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new wte(m):m}return f.s=RP,f.v=m,m}return l.clearCache=()=>{n=Ug(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Ste(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),gte(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:b=[],argsMemoize:_=E6,argsMemoizeOptions:w=[]}=m,E=PP(b),S=PP(w),k=bte(i),j=p(function(){return s++,f.apply(null,arguments)},...E),N=_(function(){l++;const R=xte(k,arguments);return c=j.apply(null,R),c},...S);return Object.assign(N,{resultFunc:f,memoizedResultFunc:j,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var le=Ste(E6),Tte=Object.assign((t,e=le)=>{yte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>Tte}),S_={},T_={},A_={},jP;function Ate(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(A_)),A_}var I_={},k_={},MP;function S6(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(k_)),k_}var DP;function Ite(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(I_)),I_}var zP;function kte(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ate(),n=Ite(),r=xT();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const f=(_,w)=>{let E=_;for(let S=0;S<w.length&&E!=null;++S)E=E[w[S]];return E},m=(_,w)=>w==null||_==null?w:typeof _=="object"&&"key"in _?Object.hasOwn(w,_.key)?w[_.key]:f(w,_.path):typeof _=="function"?_(w):Array.isArray(_)?f(w,_):typeof w=="object"?w[_]:w,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:p.map(w=>m(w,_))})).slice().sort((_,w)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(_.criteria[E],w.criteria[E],c[E]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=i})(T_)),T_}var C_={},LP;function Cte(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(C_)),C_}var N_={},VP;function T6(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w6(),n=ET(),r=p6(),i=y6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(N_)),N_}var BP;function Nte(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kte(),n=Cte(),r=T6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(S_)),S_}var O_,UP;function Ote(){return UP||(UP=1,O_=Nte().sortBy),O_}var Pte=Ote();const Av=es(Pte);var A6=t=>t.legend.settings,Rte=t=>t.legend.size,jte=t=>t.legend.payload;le([jte,A6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Av(r,n):r});var Fg=1;function Mte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Fg||Math.abs(l.left-e.left)>Fg||Math.abs(l.top-e.top)>Fg||Math.abs(l.width-e.width)>Fg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ir(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dte=typeof Symbol=="function"&&Symbol.observable||"@@observable",FP=Dte,P_=()=>Math.random().toString(36).substring(7).split("").join("."),zte={INIT:`@@redux/INIT${P_()}`,REPLACE:`@@redux/REPLACE${P_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P_()}`},ly=zte;function TT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function I6(t,e,n){if(typeof t!="function")throw new Error(ir(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(I6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,k)=>{l.set(k,S)}))}function m(){if(d)throw new Error(ir(3));return i}function p(S){if(typeof S!="function")throw new Error(ir(4));if(d)throw new Error(ir(5));let k=!0;f();const j=c++;return l.set(j,S),function(){if(k){if(d)throw new Error(ir(6));k=!1,f(),l.delete(j),s=null}}}function b(S){if(!TT(S))throw new Error(ir(7));if(typeof S.type>"u")throw new Error(ir(8));if(typeof S.type!="string")throw new Error(ir(17));if(d)throw new Error(ir(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(j=>{j()}),S}function _(S){if(typeof S!="function")throw new Error(ir(10));r=S,b({type:ly.REPLACE})}function w(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ir(11));function j(){const D=k;D.next&&D.next(m())}return j(),{unsubscribe:S(j)}},[FP](){return this}}}return b({type:ly.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:_,[FP]:w}}function Lte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ly.INIT})>"u")throw new Error(ir(12));if(typeof n(void 0,{type:ly.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function k6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{Lte(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],_=l[p],w=b(_,c);if(typeof w>"u")throw c&&c.type,new Error(ir(14));f[p]=w,d=d||w!==_}return d=d||r.length!==Object.keys(l).length,d?f:l}}function cy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Vte(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ir(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=cy(...c)(i.dispatch),{...i,dispatch:s}}}function C6(t){return TT(t)&&"type"in t&&typeof t.type=="string"}var N6=Symbol.for("immer-nothing"),qP=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oi=Object,kd=oi.getPrototypeOf,uy="constructor",Iv="prototype",cE="configurable",dy="enumerable",w0="writable",am="value",qs=t=>!!t&&!!t[Ar];function da(t){return t?O6(t)||Cv(t)||!!t[qP]||!!t[uy]?.[qP]||Nv(t)||Ov(t):!1}var Bte=oi[Iv][uy].toString(),$P=new WeakMap;function O6(t){if(!t||!AT(t))return!1;const e=kd(t);if(e===null||e===oi[Iv])return!0;const n=oi.hasOwnProperty.call(e,uy)&&e[uy];if(n===Object)return!0;if(!Wu(n))return!1;let r=$P.get(n);return r===void 0&&(r=Function.toString.call(n),$P.set(n,r)),r===Bte}function kv(t,e,n=!0){Um(t)===0?(n?Reflect.ownKeys(t):oi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Um(t){const e=t[Ar];return e?e.type_:Cv(t)?1:Nv(t)?2:Ov(t)?3:0}var HP=(t,e,n=Um(t))=>n===2?t.has(e):oi[Iv].hasOwnProperty.call(t,e),uE=(t,e,n=Um(t))=>n===2?t.get(e):t[e],fy=(t,e,n,r=Um(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Ute(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Cv=Array.isArray,Nv=t=>t instanceof Map,Ov=t=>t instanceof Set,AT=t=>typeof t=="object",Wu=t=>typeof t=="function",R_=t=>typeof t=="boolean";function Fte(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Es=t=>t.copy_||t.base_,IT=t=>t.modified_?t.copy_:t.base_;function dE(t,e){if(Nv(t))return new Map(t);if(Ov(t))return new Set(t);if(Cv(t))return Array[Iv].slice.call(t);const n=O6(t);if(e===!0||e==="class_only"&&!n){const r=oi.getOwnPropertyDescriptors(t);delete r[Ar];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[w0]===!1&&(c[w0]=!0,c[cE]=!0),(c.get||c.set)&&(r[l]={[cE]:!0,[w0]:!0,[dy]:c[dy],[am]:t[l]})}return oi.create(kd(t),r)}else{const r=kd(t);if(r!==null&&n)return{...t};const i=oi.create(r);return oi.assign(i,t)}}function kT(t,e=!1){return Pv(t)||qs(t)||!da(t)||(Um(t)>1&&oi.defineProperties(t,{set:qg,add:qg,clear:qg,delete:qg}),oi.freeze(t),e&&kv(t,(n,r)=>{kT(r,!0)},!1)),t}function qte(){ia(2)}var qg={[am]:qte};function Pv(t){return t===null||!AT(t)?!0:oi.isFrozen(t)}var hy="MapSet",fE="Patches",GP="ArrayMethods",P6={};function Pc(t){const e=P6[t];return e||ia(0,t),e}var KP=t=>!!P6[t],sm,R6=()=>sm,$te=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KP(hy)?Pc(hy):void 0,arrayMethodsPlugin_:KP(GP)?Pc(GP):void 0});function YP(t,e){e&&(t.patchPlugin_=Pc(fE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hE(t){mE(t),t.drafts_.forEach(Hte),t.drafts_=null}function mE(t){t===sm&&(sm=t.parent_)}var WP=t=>sm=$te(sm,t);function Hte(t){const e=t[Ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ar].modified_&&(hE(e),ia(4)),da(t)&&(t=QP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ar].base_,t,e)}else t=QP(e,n);return Gte(e,t,!0),hE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==N6?t:void 0}function QP(t,e){if(Pv(e))return e;const n=e[Ar];if(!n)return my(e,t.handledSet_,t);if(!Rv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);D6(n,t)}return n.copy_}function Gte(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kT(e,n)}function j6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Rv=(t,e)=>t.scope_===e,Kte=[];function M6(t,e,n,r){const i=Es(t),s=t.type_;if(r!==void 0&&uE(i,r,s)===e){fy(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;kv(i,(d,f)=>{if(qs(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=t.draftLocations_.get(e)??Kte;for(const c of l)fy(i,c,n,s)}function Yte(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Rv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=IT(s);M6(t,s.draft_??s,l,n),D6(s,i)})}function D6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}j6(t)}}function Wte(t,e,n){const{scope_:r}=t;if(qs(n)){const i=n[Ar];Rv(i,r)&&i.callbacks_.push(function(){E0(t);const l=IT(i);M6(t,n,l,e)})}else da(n)&&t.callbacks_.push(function(){const s=Es(t);t.type_===3?s.has(n)&&my(n,r.handledSet_,r):uE(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&my(uE(t.copy_,e,t.type_),r.handledSet_,r)})}function my(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||qs(t)||e.has(t)||!da(t)||Pv(t)||(e.add(t),kv(t,(r,i)=>{if(qs(i)){const s=i[Ar];if(Rv(s,n)){const l=IT(s);fy(t,r,l,t.type_),j6(s)}}else da(i)&&my(i,e,n)})),t}function Xte(t,e){const n=Cv(t),r={type_:n?1:0,scope_:e?e.scope_:R6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=py;n&&(i=[r],s=om);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var py={get(t,e){if(e===Ar)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Es(t);if(!HP(i,e,t.type_))return Qte(t,i,e);const s=i[e];if(t.finalized_||!da(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Fte(e))return s;if(s===j_(t.base_,e)){E0(t);const l=t.type_===1?+e:e,c=gE(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Es(t)},ownKeys(t){return Reflect.ownKeys(Es(t))},set(t,e,n){const r=z6(Es(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=j_(Es(t),e),s=i?.[Ar];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Ute(n,i)&&(n!==void 0||HP(t.base_,e,t.type_)))return!0;E0(t),pE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Wte(t,e,n)),!0},deleteProperty(t,e){return E0(t),j_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),pE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Es(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[w0]:!0,[cE]:t.type_!==1||e!=="length",[dy]:r[dy],[am]:n[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return kd(t.base_)},setPrototypeOf(){ia(12)}},om={};for(let t in py){let e=py[t];om[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}om.deleteProperty=function(t,e){return om.set.call(this,t,e,void 0)};om.set=function(t,e,n){return py.set.call(this,t[0],e,n,t[0])};function j_(t,e){const n=t[Ar];return(n?Es(n):t)[e]}function Qte(t,e,n){const r=z6(e,n);return r?am in r?r[am]:r.get?.call(t.draft_):void 0}function z6(t,e){if(!(e in t))return;let n=kd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kd(n)}}function pE(t){t.modified_||(t.modified_=!0,t.parent_&&pE(t.parent_))}function E0(t){t.copy_||(t.assigned_=new Map,t.copy_=dE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Zte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wu(n)&&!Wu(r)){const l=r;r=n;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}Wu(r)||ia(6),i!==void 0&&!Wu(i)&&ia(7);let s;if(da(n)){const l=WP(this),c=gE(l,n,void 0);let d=!0;try{s=r(c),d=!1}finally{d?hE(l):mE(l)}return YP(l,i),XP(s,l)}else if(!n||!AT(n)){if(s=r(n),s===void 0&&(s=n),s===N6&&(s=void 0),this.autoFreeze_&&kT(s,!0),i){const l=[],c=[];Pc(fE).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else ia(1,n)},this.produceWithPatches=(n,r)=>{if(Wu(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,s;return[this.produce(n,r,(c,d)=>{i=c,s=d}),i,s]},R_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),R_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),R_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){da(e)||ia(8),qs(e)&&(e=ca(e));const n=WP(this),r=gE(n,e,void 0);return r[Ar].isManual_=!0,mE(n),r}finishDraft(e,n){const r=e&&e[Ar];(!r||!r.isManual_)&&ia(9);const{scope_:i}=r;return YP(i,n),XP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Pc(fE).applyPatches_;return qs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function gE(t,e,n,r){const[i,s]=Nv(e)?Pc(hy).proxyMap_(e,n):Ov(e)?Pc(hy).proxySet_(e,n):Xte(e,n);return(n?.scope_??R6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Yte(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),i}function ca(t){return qs(t)||ia(10,t),L6(t)}function L6(t){if(!da(t)||Pv(t))return t;const e=t[Ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dE(t,!0);return kv(n,(i,s)=>{fy(n,i,L6(s))},r),e&&(e.finalized_=!1),n}var Jte=new Zte,V6=Jte.produce;function B6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var ene=B6(),tne=B6,nne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cy:cy.apply(null,arguments)};function zi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>C6(r)&&r.type===t,n}var U6=class Th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Th.prototype)}static get[Symbol.species](){return Th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Th(...e[0].concat(this)):new Th(...e.concat(this))}};function ZP(t){return da(t)?V6(t,()=>{}):t}function $g(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function rne(t){return typeof t=="boolean"}var ine=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new U6;return n&&(rne(n)?l.push(ene):l.push(tne(n.extraArgument))),l},F6="RTK_autoBatch",Ht=()=>t=>({payload:t,meta:{[F6]:!0}}),JP=t=>e=>{setTimeout(e,t)},q6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JP(10):t.type==="callback"?t.queueNotification:JP(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[F6],s=!i,s&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},ane=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new U6(t);return r&&i.push(q6(typeof r=="object"?r:void 0)),i};function sne(t){const e=ine(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(TT(n))c=k6(n);else throw new Error(ci(1));let d;typeof r=="function"?d=r(e):d=e();let f=cy;i&&(f=nne({trace:!1,...typeof i=="object"&&i}));const m=Vte(...d),p=ane(m);let b=typeof l=="function"?l(p):p();const _=f(...b);return I6(c,s,_)}function $6(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ci(28));if(c in e)throw new Error(ci(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function one(t){return typeof t=="function"}function lne(t,e){let[n,r,i]=$6(e),s;if(one(t))s=()=>ZP(t());else{const c=ZP(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(qs(m)){const _=p(m,d);return _===void 0?m:_}else{if(da(m))return V6(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var cne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",une=(t=21)=>{let e="",n=t;for(;n--;)e+=cne[Math.random()*64|0];return e},dne=Symbol.for("rtk-slice-createasyncthunk");function fne(t,e){return`${t}/${e}`}function hne({creators:t}={}){const e=t?.asyncThunk?.[dne];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ci(11));const l=(typeof r.reducers=="function"?r.reducers(pne()):r.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,D){const R=typeof N=="string"?N:N.type;if(!R)throw new Error(ci(12));if(R in d.sliceCaseReducersByType)throw new Error(ci(13));return d.sliceCaseReducersByType[R]=D,f},addMatcher(N,D){return d.sliceMatchers.push({matcher:N,reducer:D}),f},exposeAction(N,D){return d.actionCreators[N]=D,f},exposeCaseReducer(N,D){return d.sliceCaseReducersByName[N]=D,f}};c.forEach(N=>{const D=l[N],R={reducerName:N,type:fne(i,N),createNotation:typeof r.reducers=="function"};yne(D)?bne(R,D,f,e):gne(R,D,f)});function m(){const[N={},D=[],R=void 0]=typeof r.extraReducers=="function"?$6(r.extraReducers):[r.extraReducers],z={...N,...d.sliceCaseReducersByType};return lne(r.initialState,P=>{for(let O in z)P.addCase(O,z[O]);for(let O of d.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of D)P.addMatcher(O.matcher,O.reducer);R&&P.addDefaultCase(R)})}const p=N=>N,b=new Map,_=new WeakMap;let w;function E(N,D){return w||(w=m()),w(N,D)}function S(){return w||(w=m()),w.getInitialState()}function k(N,D=!1){function R(P){let O=P[N];return typeof O>"u"&&D&&(O=$g(_,R,S)),O}function z(P=p){const O=$g(b,D,()=>new WeakMap);return $g(O,P,()=>{const V={};for(const[q,L]of Object.entries(r.selectors??{}))V[q]=mne(L,P,()=>$g(_,P,S),D);return V})}return{reducerPath:N,getSelectors:z,get selectors(){return z(R)},selectSlice:R}}const j={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...k(s),injectInto(N,{reducerPath:D,...R}={}){const z=D??s;return N.inject({reducerPath:z,reducer:E},R),{...j,...k(z,!0)}}};return j}}function mne(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var Ur=hne();function pne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function gne({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!vne(r))throw new Error(ci(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?zi(t,l):zi(t))}function yne(t){return t._reducerDefinitionType==="asyncThunk"}function vne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function bne({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ci(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Hg,pending:c||Hg,rejected:d||Hg,settled:f||Hg})}function Hg(){}var xne="task",H6="listener",G6="completed",CT="cancelled",_ne=`task-${CT}`,wne=`task-${G6}`,yE=`${H6}-${CT}`,Ene=`${H6}-${G6}`,jv=class{constructor(t){this.code=t,this.message=`${xne} ${CT} (reason: ${t})`}name="TaskAbortError";message},NT=(t,e)=>{if(typeof t!="function")throw new TypeError(ci(32))},gy=()=>{},K6=(t,e=gy)=>(t.catch(e),t),Y6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),yc=t=>{if(t.aborted)throw new jv(t.reason)};function W6(t,e){let n=gy;return new Promise((r,i)=>{const s=()=>i(new jv(t.reason));if(t.aborted){s();return}n=Y6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=gy})}var Sne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof jv?"cancelled":"rejected",error:n}}finally{e?.()}},yy=t=>e=>K6(W6(t,e).then(n=>(yc(t),n))),X6=t=>{const e=yy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:rd}=Object,eR={},Mv="listenerMiddleware",Tne=(t,e)=>{const n=r=>Y6(t,()=>r.abort(t.reason));return(r,i)=>{NT(r);const s=new AbortController;n(s);const l=Sne(async()=>{yc(t),yc(s.signal);const c=await r({pause:yy(s.signal),delay:X6(s.signal),signal:s.signal});return yc(s.signal),c},()=>s.abort(wne));return i?.autoJoin&&e.push(l.catch(gy)),{result:yy(t)(l),cancel(){s.abort(_ne)}}}},Ane=(t,e)=>{const n=async(r,i)=>{yc(e);let s=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await W6(e,Promise.race(c));return yc(e),d}finally{s()}};return(r,i)=>K6(n(r,i))},Q6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=zi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ci(21));return NT(s),{predicate:i,type:e,effect:s}},Z6=rd(t=>{const{type:e,predicate:n,effect:r}=Q6(t);return{id:une(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ci(22))}}},{withTypes:()=>Z6}),tR=(t,e)=>{const{type:n,effect:r,predicate:i}=Q6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},vE=t=>{t.pending.forEach(e=>{e.abort(yE)})},Ine=(t,e)=>()=>{for(const n of e.keys())vE(n);t.clear()},nR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},J6=rd(zi(`${Mv}/add`),{withTypes:()=>J6}),kne=zi(`${Mv}/removeAll`),e9=rd(zi(`${Mv}/remove`),{withTypes:()=>e9}),Cne=(...t)=>{console.error(`${Mv}/error`,...t)},Fm=(t={})=>{const e=new Map,n=new Map,r=_=>{const w=n.get(_)??0;n.set(_,w+1)},i=_=>{const w=n.get(_)??1;w===1?n.delete(_):n.set(_,w-1)},{extra:s,onError:l=Cne}=t;NT(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),w=>{_.unsubscribe(),w?.cancelActive&&vE(_)}),d=_=>{const w=tR(e,_)??Z6(_);return c(w)};rd(d,{withTypes:()=>d});const f=_=>{const w=tR(e,_);return w&&(w.unsubscribe(),_.cancelActive&&vE(w)),!!w};rd(f,{withTypes:()=>f});const m=async(_,w,E,S)=>{const k=new AbortController,j=Ane(d,k.signal),N=[];try{_.pending.add(k),r(_),await Promise.resolve(_.effect(w,rd({},E,{getOriginalState:S,condition:(D,R)=>j(D,R).then(Boolean),take:j,delay:X6(k.signal),pause:yy(k.signal),extra:s,signal:k.signal,fork:Tne(k.signal,N),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((D,R,z)=>{D!==k&&(D.abort(yE),z.delete(D))})},cancel:()=>{k.abort(yE),_.pending.delete(k)},throwIfCancelled:()=>{yc(k.signal)}})))}catch(D){D instanceof jv||nR(l,D,{raisedBy:"effect"})}finally{await Promise.all(N),k.abort(Ene),i(_),_.pending.delete(k)}},p=Ine(e,n);return{middleware:_=>w=>E=>{if(!C6(E))return w(E);if(J6.match(E))return d(E.payload);if(kne.match(E)){p();return}if(e9.match(E))return f(E.payload);let S=_.getState();const k=()=>{if(S===eR)throw new Error(ci(23));return S};let j;try{if(j=w(E),e.size>0){const N=_.getState(),D=Array.from(e.values());for(const R of D){let z=!1;try{z=R.predicate(E,N,S)}catch(P){z=!1,nR(l,P,{raisedBy:"predicate"})}z&&m(R,E,_,k)}}}finally{S=eR}return j},startListening:d,stopListening:f,clearListeners:p}};function ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t9=Ur({name:"chartLayout",initialState:Nne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:One,setLayout:Pne,setChartSize:Rne,setScale:jne}=t9.actions,Mne=t9.reducer;function n9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Jt(t){return Number.isFinite(t)}function cl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dne(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e,n){return $n(t)||$n(e)?n:Za(e)?Id(t,e,n):typeof e=="function"?e(t):n}var Vne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Fe(t[s]))return Xu(Xu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Fe(t[l]))return Xu(Xu({},t),{},{[l]:t[l]+(i||0)})}return t},Uc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",iR=1e-4,Bne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-iR,s=Math.max(r[0],r[1])+iR,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},Une=(t,e)=>{if(!e||e.length!==2||!Fe(e[0])||!Fe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Fe(t[0])||t[0]<n)&&(i[0]=n),(!Fe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Fne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var d=t[c],f=d?.[i];if(f!=null){var m=f[1],p=f[0],b=Qa(m)?p:m;b>=0?(f[0]=s,f[1]=s+b,s=m):(f[0]=l,f[1]=l+b,l=m)}}}},qne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=Qa(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},$ne={sign:Fne,expand:pee,none:Oc,silhouette:gee,wiggle:yee,positive:qne},Hne=(t,e,n)=>{var r,i=(r=$ne[n])!==null&&r!==void 0?r:Oc,s=mee().keys(e).value((c,d)=>Number(cr(c,d,0))).order(oE).offset(i),l=s(t);return l.forEach((c,d)=>{c.forEach((f,m)=>{var p=cr(t[m],e[d],0);Array.isArray(p)&&p.length===2&&Fe(p[0])&&Fe(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function Gne(t){return t==null?void 0:String(t)}var aR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=cr(s,e.dataKey,e.scale.domain()[l]);return $n(c)?null:e.scale(c)-i/2+r},Kne=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Yne=t=>{var e=t.flat(2).filter(Fe);return[Math.min(...e),Math.max(...e)]},Wne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Xne=(t,e,n)=>{if(t!=null)return Wne(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((d,f)=>{var m=n9(f,e,n),p=Yne(m);return!Jt(p[0])||!Jt(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},sR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Av(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function lR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Xu(Xu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function r9(t,e){if(t)return String(t);if(typeof e=="string")return e}var Qne=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Zne=(t,e)=>e==="centric"?t.angle:t.radius,Qs=t=>t.layout.width,Zs=t=>t.layout.height,Jne=t=>t.layout.scale,i9=t=>t.layout.margin,Dv=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zv=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ere="data-recharts-item-index",tre="data-recharts-item-id",qm=60;function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return(e=rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var are=t=>t.brush.height;function sre(t){var e=zv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qm;return n+i}return n},0)}function ore(t){var e=zv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qm;return n+i}return n},0)}function lre(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cre(t){var e=Dv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=le([Qs,Zs,i9,are,sre,ore,lre,cre,A6,Rte],(t,e,n,r,i,s,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Gg(Gg({},p),m),_=b.bottom;b.bottom+=r,b=Vne(b,d,f);var w=t-b.left-b.right,E=e-b.top-b.bottom;return Gg(Gg({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(E,0)})}),ure=le(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),OT=le(Qs,Zs,(t,e)=>({x:0,y:0,width:t,height:e})),dre=T.createContext(null),mi=()=>T.useContext(dre)!=null,Lv=t=>t.brush,Vv=le([Lv,Hn,i9],(t,e,n)=>({height:t.height,x:Fe(t.x)?t.x:e.left,y:Fe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Fe(t.width)?t.width:e.width})),M_={},D_={},z_={},uR;function fre(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},w=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{w(),l=void 0,c=null},S=()=>{m()},k=function(...j){if(i?.aborted)return;l=this,c=j;const N=b==null;_(),d&&N&&m()};return k.schedule=_,k.cancel=E,k.flush=S,i?.addEventListener("abort",E,{once:!0}),k}t.debounce=e})(z_)),z_}var dR;function hre(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fre();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),_=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},w=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=w,_}t.debounce=n})(D_)),D_}var fR;function mre(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hre();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(M_)),M_}var L_,hR;function pre(){return hR||(hR=1,L_=mre().throttle),L_}var gre=pre();const yre=es(gre);var mR=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},a9=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Fs(r)?t:Number(r),d=Fs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},vre={width:0,height:0,overflow:"visible"},bre={width:0,overflowX:"visible"},xre={height:0,overflowY:"visible"},_re={},wre=t=>{var{width:e,height:n}=t,r=Fs(e),i=Fs(n);return r&&i?vre:r?bre:i?xre:_re};function Ere(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s9=T.createContext({width:-1,height:-1});function Ire(t){return cl(t.width)&&cl(t.height)}function o9(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return Ire(i)?T.createElement(s9.Provider,{value:i},e):null}var PT=()=>T.useContext(s9),kre=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:b,onResize:_,style:w={}}=t,E=T.useRef(null),S=T.useRef();S.current=_,T.useImperativeHandle(e,()=>E.current);var[k,j]=T.useState({containerWidth:r.width,containerHeight:r.height}),N=T.useCallback((O,V)=>{j(q=>{var L=Math.round(O),F=Math.round(V);return q.containerWidth===L&&q.containerHeight===F?q:{containerWidth:L,containerHeight:F}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Bm;var O=F=>{var U,{width:be,height:Ee}=F[0].contentRect;N(be,Ee),(U=S.current)===null||U===void 0||U.call(S,be,Ee)};m>0&&(O=yre(O,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(O),{width:q,height:L}=E.current.getBoundingClientRect();return N(q,L),V.observe(E.current),()=>{V.disconnect()}},[N,m]);var{containerWidth:D,containerHeight:R}=k;mR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:P}=a9(D,R,{width:i,height:s,aspect:n,maxHeight:d});return mR(z!=null&&z>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,P,i,s,l,c,n),T.createElement("div",{id:p?"".concat(p):void 0,className:Se("recharts-responsive-container",b),style:gR(gR({},w),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},T.createElement("div",{style:wre({width:i,height:s})},T.createElement(o9,{width:z,height:P},f)))}),l9=T.forwardRef((t,e)=>{var n=PT();if(cl(n.width)&&cl(n.height))return t.children;var{width:r,height:i}=Ere({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=a9(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Fe(s)&&Fe(l)?T.createElement(o9,{width:s,height:l},t.children):T.createElement(kre,bE({},t,{width:r,height:i,ref:e}))});function c9(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Bv=()=>{var t,e=mi(),n=He(ure),r=He(Vv),i=(t=He(Lv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Cre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nre=()=>{var t;return(t=He(Hn))!==null&&t!==void 0?t:Cre},Ore=()=>He(Qs),Pre=()=>He(Zs),Et=t=>t.layout.layoutType,$m=()=>He(Et),Rre=()=>{var t=$m();return t!==void 0},Uv=t=>{var e=fn(),n=mi(),{width:r,height:i}=t,s=PT(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),T.useEffect(()=>{!n&&cl(l)&&cl(c)&&e(Rne({width:l,height:c}))},[e,n,l,c]),null},u9=Symbol.for("immer-nothing"),yR=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var lm=Object.getPrototypeOf;function Cd(t){return!!t&&!!t[fi]}function Rc(t){return t?d9(t)||Array.isArray(t)||!!t[yR]||!!t.constructor?.[yR]||Hm(t)||qv(t):!1}var jre=Object.prototype.constructor.toString(),vR=new WeakMap;function d9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=vR.get(n);return r===void 0&&(r=Function.toString.call(n),vR.set(n,r)),r===jre}function by(t,e,n=!0){Fv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fv(t){const e=t[fi];return e?e.type_:Array.isArray(t)?1:Hm(t)?2:qv(t)?3:0}function xE(t,e){return Fv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function f9(t,e,n){const r=Fv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Mre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hm(t){return t instanceof Map}function qv(t){return t instanceof Set}function Jl(t){return t.copy_||t.base_}function _E(t,e){if(Hm(t))return new Map(t);if(qv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=d9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[fi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(lm(t),r)}else{const r=lm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function RT(t,e=!1){return $v(t)||Cd(t)||!Rc(t)||(Fv(t)>1&&Object.defineProperties(t,{set:Kg,add:Kg,clear:Kg,delete:Kg}),Object.freeze(t),e&&Object.values(t).forEach(n=>RT(n,!0))),t}function Dre(){aa(2)}var Kg={value:Dre};function $v(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var zre={};function jc(t){const e=zre[t];return e||aa(0,t),e}var cm;function h9(){return cm}function Lre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bR(t,e){e&&(jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wE(t){EE(t),t.drafts_.forEach(Vre),t.drafts_=null}function EE(t){t===cm&&(cm=t.parent_)}function xR(t){return cm=Lre(cm,t)}function Vre(t){const e=t[fi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _R(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fi].modified_&&(wE(e),aa(4)),Rc(t)&&(t=xy(e,t),e.parent_||_y(e,t)),e.patches_&&jc("Patches").generateReplacementPatches_(n[fi].base_,t,e.patches_,e.inversePatches_)):t=xy(e,n,[]),wE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==u9?t:void 0}function xy(t,e,n){if($v(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[fi];if(!i)return by(e,(s,l)=>wR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return _y(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),by(l,(d,f)=>wR(t,i,s,d,f,n,c),r),_y(t,s,!1),n&&t.patches_&&jc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function wR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=$v(i);if(!(c&&!l)){if(Cd(i)){const d=s&&e&&e.type_!==3&&!xE(e.assigned_,r)?s.concat(r):void 0,f=xy(t,i,d);if(f9(n,r,f),Cd(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Rc(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;xy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Hm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_y(t,i)}}}function _y(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&RT(e,n)}function Bre(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:h9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=jT;n&&(i=[r],s=um);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var jT={get(t,e){if(e===fi)return t;const n=Jl(t);if(!xE(n,e))return Ure(t,n,e);const r=n[e];return t.finalized_||!Rc(r)?r:r===V_(t.base_,e)?(B_(t),t.copy_[e]=TE(r,t)):r},has(t,e){return e in Jl(t)},ownKeys(t){return Reflect.ownKeys(Jl(t))},set(t,e,n){const r=m9(Jl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=V_(Jl(t),e),s=i?.[fi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Mre(n,i)&&(n!==void 0||xE(t.base_,e)))return!0;B_(t),SE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return V_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,B_(t),SE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return lm(t.base_)},setPrototypeOf(){aa(12)}},um={};by(jT,(t,e)=>{um[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});um.deleteProperty=function(t,e){return um.set.call(this,t,e,void 0)};um.set=function(t,e,n){return jT.set.call(this,t[0],e,n,t[0])};function V_(t,e){const n=t[fi];return(n?Jl(n):t)[e]}function Ure(t,e,n){const r=m9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function m9(t,e){if(!(e in t))return;let n=lm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lm(n)}}function SE(t){t.modified_||(t.modified_=!0,t.parent_&&SE(t.parent_))}function B_(t){t.copy_||(t.copy_=_E(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Fre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&aa(6),r!==void 0&&typeof r!="function"&&aa(7);let i;if(Rc(e)){const s=xR(this),l=TE(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?wE(s):EE(s)}return bR(s,r),_R(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===u9&&(i=void 0),this.autoFreeze_&&RT(i,!0),r){const s=[],l=[];jc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else aa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rc(t)||aa(8),Cd(t)&&(t=qre(t));const e=xR(this),n=TE(t,void 0);return n[fi].isManual_=!0,EE(e),n}finishDraft(t,e){const n=t&&t[fi];(!n||!n.isManual_)&&aa(9);const{scope_:r}=n;return bR(r,e),_R(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=jc("Patches").applyPatches_;return Cd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function TE(t,e){const n=Hm(t)?jc("MapSet").proxyMap_(t,e):qv(t)?jc("MapSet").proxySet_(t,e):Bre(t,e);return(e?e.scope_:h9()).drafts_.push(n),n}function qre(t){return Cd(t)||aa(10,t),p9(t)}function p9(t){if(!Rc(t)||$v(t))return t;const e=t[fi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_E(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_E(t,!0);return by(n,(i,s)=>{f9(n,i,p9(s))},r),e&&(e.finalized_=!1),n}var $re=new Fre;$re.produce;var Hre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},g9=Ur({name:"legend",initialState:Hre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ht()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ht()},removeLegendPayload:{reducer(t,e){var n=ca(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ht()}}}),{setLegendSize:Fye,setLegendSettings:qye,addLegendPayload:Gre,replaceLegendPayload:Kre,removeLegendPayload:Yre}=g9.actions,Wre=g9.reducer;function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(null,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t){return Array.isArray(t)&&Za(t[0])&&Za(t[1])?t.join(" ~ "):t}var eie=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var R={padding:0,margin:0},z=(c?Av(s,c):s).map((P,O)=>{if(P.type==="none")return null;var V=P.formatter||l||Jre,{value:q,name:L}=P,F=q,U=L;if(V){var be=V(q,L,P,O,s);if(Array.isArray(be))[F,U]=be;else if(be!=null)F=be;else return null}var Ee=U_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Ee},Za(U)?T.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Za(U)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},F),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:R},z)}return null},w=U_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=U_({margin:0},i),S=!$n(m),k=S?m:"",j=Se("recharts-default-tooltip",d),N=Se("recharts-tooltip-label",f);S&&p&&s!==void 0&&s!==null&&(k=p(m,s));var D=b?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",AE({className:j,style:w},D),T.createElement("p",{className:N,style:E},T.isValidElement(k)?k:"".concat(k)),_())},fh="recharts-tooltip-wrapper",tie={visibility:"hidden"};function nie(t){var{coordinate:e,translateX:n,translateY:r}=t;return Se(fh,{["".concat(fh,"-right")]:Fe(n)&&e&&Fe(e.x)&&n>=e.x,["".concat(fh,"-left")]:Fe(n)&&e&&Fe(e.x)&&n<e.x,["".concat(fh,"-bottom")]:Fe(r)&&e&&Fe(e.y)&&r>=e.y,["".concat(fh,"-top")]:Fe(r)&&e&&Fe(e.y)&&r<e.y})}function SR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&Fe(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=d[r];if(b==null)return 0;if(l[r]){var _=m,w=b;return _<w?Math.max(p,b):Math.max(m,b)}if(f==null)return 0;var E=p+c,S=b+f;return E>S?Math.max(m,b):Math.max(p,b)}function rie(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iie(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=SR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=SR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=rie({translateX:m,translateY:p,useTranslate3d:c})):f=tie,{cssProperties:f,cssClasses:nie({translateX:m,translateY:p,coordinate:n})}}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){IE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IE(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oie extends T.PureComponent{constructor(){super(...arguments),IE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:b,viewBox:_,wrapperStyle:w,lastBoundingBox:E,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:j,cssProperties:N}=iie({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),D=k?{}:Yg(Yg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=Yg(Yg({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:R,ref:S},s)}}var y9=()=>{var t;return(t=He(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(null,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return(e=cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=uie(t,"string");return typeof e=="symbol"?e:e+""}function uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kR={curveBasisClosed:ree,curveBasisOpen:iee,curveBasis:nee,curveBumpX:FJ,curveBumpY:qJ,curveLinearClosed:aee,curveLinear:Sv,curveMonotoneX:see,curveMonotoneY:oee,curveNatural:lee,curveStep:cee,curveStepAfter:dee,curveStepBefore:uee},wy=t=>Jt(t.x)&&Jt(t.y),CR=t=>t.base!=null&&wy(t.base)&&wy(t),hh=t=>t.x,mh=t=>t.y,die=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Vm(t));return(n==="curveMonotone"||n==="curveBump")&&e?kR["".concat(n).concat(e==="vertical"?"Y":"X")]:kR[n]||Sv},fie=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=die(e,i),c=s?n.filter(wy):n,d;if(Array.isArray(r)){var f=n.map((_,w)=>IR(IR({},_),{},{base:r[w]}));i==="vertical"?d=Bg().y(mh).x1(hh).x0(_=>_.base.x):d=Bg().x(hh).y1(mh).y0(_=>_.base.y);var m=d.defined(CR).curve(l),p=s?f.filter(CR):f;return m(p)}i==="vertical"&&Fe(r)?d=Bg().y(mh).x1(hh).x0(r):Fe(r)?d=Bg().x(hh).y1(mh).y0(r):d=Z3().x(hh).y(mh);var b=d.defined(wy).curve(l);return b(c)},v9=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=$m();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?fie(l):r;return T.createElement("path",kE({},ll(t),Dee(t),{className:Se("recharts-curve",e),d:c===null?void 0:c,ref:i}))},hie=["x","y","top","left","width","height","className"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vie(t,e){if(t==null)return{};var n,r,i=bie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xie=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),_ie=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=vie(t,hie),f=mie({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Fe(e)||!Fe(n)||!Fe(s)||!Fe(l)||!Fe(r)||!Fe(i)?null:T.createElement("path",CE({},Di(f),{className:Se("recharts-cross",c),d:xie(e,n,s,l,r,i)}))};function wie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aie=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),b9=(t,e,n)=>t.map(r=>"".concat(Aie(r)," ").concat(e,"ms ").concat(n)).join(","),Iie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),dm=(t,e)=>Object.keys(e).reduce((n,r)=>PR(PR({},n),{},{[r]:t(r,e[r])}),{});function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=Nie(t,"string");return typeof e=="symbol"?e:e+""}function Nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ey=(t,e,n)=>t+(e-t)*n,NE=t=>{var{from:e,to:n}=t;return e!==n},x9=(t,e,n)=>{var r=dm((i,s)=>{if(NE(s)){var[l,c]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:c})}return s},e);return n<1?dm((i,s)=>NE(s)&&r[i]!=null?kn(kn({},s),{},{velocity:Ey(s.velocity,r[i].velocity,n),from:Ey(s.from,r[i].from,n)}):s,e):x9(t,r,n-1)};function Oie(t,e,n,r,i,s){var l,c=r.reduce((b,_)=>kn(kn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>dm((b,_)=>_.from,c),f=()=>!Object.values(c).filter(NE).length,m=null,p=b=>{l||(l=b);var _=b-l,w=_/n.dt;c=x9(n,c,w),i(kn(kn(kn({},t),e),d())),l=b,f()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function Pie(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,b)=>{var _=t[b],w=e[b];return _==null||w==null?p:kn(kn({},p),{},{[b]:[_,w]})},{}),f,m=p=>{f||(f=p);var b=(p-f)/r,_=dm((E,S)=>Ey(...S,n(b)),d);if(s(kn(kn(kn({},t),e),_)),b<1)c=l.setTimeout(m);else{var w=dm((E,S)=>Ey(...S,n(1)),d);s(kn(kn(kn({},t),e),w))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Rie=(t,e,n,r,i,s)=>{var l=Iie(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?Oie(t,e,n,l,i,s):Pie(t,e,n,r,l,i,s)};var Sy=1e-4,_9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],w9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),jR=(t,e)=>n=>{var r=_9(t,e);return w9(r,n)},jie=(t,e)=>n=>{var r=_9(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return w9(i,n)},Mie=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Die=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Mie(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},zie=(t,e,n,r)=>{var i=jR(t,n),s=jR(e,r),l=jie(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,b=0;b<8;++b){var _=i(p)-m,w=l(p);if(Math.abs(_-m)<Sy||w<Sy)return s(p);p=c(p-_/w)}return s(p)};return d.isStepper=!1,d},MR=function(){return zie(...Die(...arguments))},Lie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Sy&&Math.abs(p)<Sy?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},Vie=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MR(t);case"spring":return Lie();default:if(t.split("(")[0]==="cubic-bezier")return MR(t)}return typeof t=="function"?t:null};function Bie(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Uie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Fie(){return Bie(new Uie)}var qie=T.createContext(Fie);function $ie(t,e){var n=T.useContext(qie);return T.useMemo(()=>e??n(t),[t,e,n])}var Hie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hv={isSsr:Hie()},Gie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DR={t:0},F_={t:1};function MT(t){var e=Vi(t,Gie),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=n==="auto"?!Hv.isSsr:n,p=$ie(e.animationId,e.animationManager),[b,_]=T.useState(m?DR:F_),w=T.useRef(null);return T.useEffect(()=>{m||_(F_)},[m]),T.useEffect(()=>{if(!m||!r)return Bm;var E=Rie(DR,F_,Vie(s),i,_,p.getTimeoutController()),S=()=>{w.current=E()};return p.start([d,l,S,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[m,r,i,s,l,d,c,p]),f(b.t)}function DT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(im(e)),r=T.useRef(t);return r.current!==t&&(n.current=im(e),r.current=t),n.current}var Kie=["radius"],Yie=["radius"],zR,LR,VR,BR,UR,FR,qR,$R,HR,GR;function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Qie(t,"string");return typeof e=="symbol"?e:e+""}function Qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}function WR(t,e){if(t==null)return{};var n,r,i=Zie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Da(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XR=(t,e,n,r,i)=>{var s=Xo(n),l=Xo(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,w=4;_<w;_++)b[_]=i[_]>c?c:i[_];p=nn(zR||(zR=Da(["M",",",""])),t,e+d*b[0]),b[0]>0&&(p+=nn(LR||(LR=Da(["A ",",",",0,0,",",",",",""])),b[0],b[0],m,t+f*b[0],e)),p+=nn(VR||(VR=Da(["L ",",",""])),t+n-f*b[1],e),b[1]>0&&(p+=nn(BR||(BR=Da(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],m,t+n,e+d*b[1])),p+=nn(UR||(UR=Da(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(p+=nn(FR||(FR=Da(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],m,t+n-f*b[2],e+r)),p+=nn(qR||(qR=Da(["L ",",",""])),t+f*b[3],e+r),b[3]>0&&(p+=nn($R||($R=Da(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],m,t,e+r-d*b[3])),p+="Z"}else if(c>0&&i===+i&&i>0){var E=Math.min(c,i);p=nn(HR||(HR=Da(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,m,t+f*E,e,t+n-f*E,e,E,E,m,t+n,e+d*E,t+n,e+r-d*E,E,E,m,t+n-f*E,e+r,t+f*E,e+r,E,E,m,t,e+r-d*E)}else p=nn(GR||(GR=Da(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},QR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E9=t=>{var e=Vi(t,QR),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:_,isAnimationActive:w,isUpdateAnimationActive:E}=e,S=T.useRef(c),k=T.useRef(d),j=T.useRef(s),N=T.useRef(l),D=T.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),R=DT(D,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var z=Se("recharts-rectangle",m);if(!E){var P=Di(e),{radius:O}=P,V=WR(P,Kie);return T.createElement("path",Ty({},V,{x:Xo(s),y:Xo(l),width:Xo(c),height:Xo(d),radius:typeof f=="number"?f:void 0,className:z,d:XR(s,l,c,d,f)}))}var q=S.current,L=k.current,F=j.current,U=N.current,be="0px ".concat(r===-1?1:r,"px"),Ee="".concat(r,"px 0px"),Y=b9(["strokeDasharray"],b,typeof p=="string"?p:QR.animationEasing);return T.createElement(MT,{animationId:R,key:R,canBegin:r>0,duration:b,easing:p,isActive:E,begin:_},re=>{var $=or(q,c,re),oe=or(L,d,re),_e=or(F,s,re),H=or(U,l,re);n.current&&(S.current=$,k.current=oe,j.current=_e,N.current=H);var ne;w?re>0?ne={transition:Y,strokeDasharray:Ee}:ne={strokeDasharray:be}:ne={strokeDasharray:Ee};var ie=Di(e),{radius:ue}=ie,ge=WR(ie,Yie);return T.createElement("path",Ty({},ge,{radius:typeof f=="number"?f:void 0,className:z,d:XR(_e,H,$,oe,f),ref:n,style:YR(YR({},ne),e.style)}))})};function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=Math.PI/180,nae=t=>t*180/Math.PI,lr=(t,e,n,r)=>({x:t+Math.cos(-Ay*r)*n,y:e+Math.sin(-Ay*r)*n}),rae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},iae=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},aae=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=iae({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:nae(d),angleInRadian:d}},sae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},oae=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},lae=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=aae({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=sae(e),m=s,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?JR(JR({},e),{},{radius:i,angle:oae(m,e)}):null};function S9(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=lr(e,n,r,i),c=lr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var ej,tj,nj,rj,ij,aj,sj;function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}function lc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cae=(t,e)=>{var n=si(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Wg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Ay,p=d?i:i+s*m,b=lr(e,n,f,p),_=lr(e,n,r,p),w=d?i-s*m:i,E=lr(e,n,f*Math.cos(m*Ay),w);return{center:b,circleTangency:_,lineTangency:E,theta:m}},T9=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=cae(s,l),d=s+c,f=lr(e,n,i,s),m=lr(e,n,i,d),p=nn(ej||(ej=lc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(c)>180),+(s>d),m.x,m.y);if(r>0){var b=lr(e,n,r,s),_=lr(e,n,r,d);p+=nn(tj||(tj=lc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(c)>180),+(s<=d),b.x,b.y)}else p+=nn(nj||(nj=lc(["L ",","," Z"])),e,n);return p},uae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=si(f-d),{circleTangency:p,lineTangency:b,theta:_}=Wg({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:E,theta:S}=Wg({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(d-f):Math.abs(d-f)-_-S;if(k<0)return l?nn(rj||(rj=lc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):T9({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var j=nn(ij||(ij=lc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(m<0),p.x,p.y,i,i,+(k>180),+(m<0),w.x,w.y,s,s,+(m<0),E.x,E.y);if(r>0){var{circleTangency:N,lineTangency:D,theta:R}=Wg({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:z,lineTangency:P,theta:O}=Wg({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=c?Math.abs(d-f):Math.abs(d-f)-R-O;if(V<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=nn(aj||(aj=lc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(m<0),z.x,z.y,r,r,+(V>180),+(m>0),N.x,N.y,s,s,+(m<0),D.x,D.y)}else j+=nn(sj||(sj=lc(["L",",","Z"])),e,n);return j},dae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A9=t=>{var e=Vi(t,dae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(s<i||f===m)return null;var b=Se("recharts-sector",p),_=s-i,w=ua(l,_,0,!0),E;return w>0&&Math.abs(f-m)<360?E=uae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=T9({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),T.createElement("path",OE({},Di(e),{className:b,d:E}))};function fae(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(h6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=lr(r,i,s,c),f=lr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return S9(e)}}var q_={},$_={},H_={},oj;function hae(){return oj||(oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(H_)),H_}var lj;function mae(){return lj||(lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hae();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($_)),$_}var cj;function pae(){return cj||(cj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6(),n=mae();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(q_)),q_}var G_,uj;function gae(){return uj||(uj=1,G_=pae().range),G_}var yae=gae();const I9=es(yae);function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zT(t){let e,n,r;t.length!==2?(e=rl,n=(c,d)=>rl(t(c),d),r=(c,d)=>t(c)-d):(e=t===rl||t===vae?t:bae,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function bae(){return 0}function k9(t){return t===null?NaN:+t}function*xae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _ae=zT(rl),Gm=_ae.right;zT(k9).center;class dj extends Map{constructor(e,n=Sae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(fj(this,e))}has(e){return super.has(fj(this,e))}set(e,n){return super.set(wae(this,e),n)}delete(e){return super.delete(Eae(this,e))}}function fj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Eae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tae(t=rl){if(t===rl)return C9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function C9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Aae=Math.sqrt(50),Iae=Math.sqrt(10),kae=Math.sqrt(2);function Iy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Aae?10:s>=Iae?5:s>=kae?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?Iy(t,e,n*2):[c,d,f]}function PE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Iy(e,t,n):Iy(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function RE(t,e,n){return e=+e,t=+t,n=+n,Iy(t,e,n)[2]}function jE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?RE(e,t,n):RE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function N9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?C9:Tae(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/d+b)),w=Math.min(r,Math.floor(e+(d-f)*p/d+b));N9(t,e,_,w,i)}const s=t[e];let l=n,c=r;for(ph(t,n,e),i(t[r],s)>0&&ph(t,n,r);l<c;){for(ph(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?ph(t,n,c):(++c,ph(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function ph(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Cae(t,e,n){if(t=Float64Array.from(xae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return mj(t);if(e>=1)return hj(t);var r,i=(r-1)*e,s=Math.floor(i),l=hj(N9(t,s).subarray(0,s+1)),c=mj(t.subarray(s+1));return l+(c-l)*(i-s)}}function Nae(t,e,n=k9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function Oae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Js(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ME=Symbol("implicit");function LT(){var t=new dj,e=[],n=[],r=ME;function i(s){let l=t.get(s);if(l===void 0){if(r!==ME)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new dj;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return LT(e,n).unknown(r)},Bi.apply(i,arguments),i}function VT(){var t=LT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var b=e().length,_=i<r,w=_?i:r,E=_?r:i;s=(E-w)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),w+=(E-w-s*(b-d))*m,l=s*(1-d),c&&(w=Math.round(w),l=Math.round(l));var S=Oae(b).map(function(k){return w+s*k});return n(_?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return VT(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Bi.apply(p(),arguments)}function O9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O9(e())},t}function Pae(){return O9(VT.apply(null,arguments).paddingInner(1))}function BT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function P9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Km(){}var fm=.7,ky=1/fm,id="\\s*([+-]?\\d+)\\s*",hm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rae=/^#([0-9a-f]{3,8})$/,jae=new RegExp(`^rgb\\(${id},${id},${id}\\)$`),Mae=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),Dae=new RegExp(`^rgba\\(${id},${id},${id},${hm}\\)$`),zae=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${hm}\\)$`),Lae=new RegExp(`^hsl\\(${hm},${Ya},${Ya}\\)$`),Vae=new RegExp(`^hsla\\(${hm},${Ya},${Ya},${hm}\\)$`),pj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BT(Km,mm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gj,formatHex:gj,formatHex8:Bae,formatHsl:Uae,formatRgb:yj,toString:yj});function gj(){return this.rgb().formatHex()}function Bae(){return this.rgb().formatHex8()}function Uae(){return R9(this).formatHsl()}function yj(){return this.rgb().formatRgb()}function mm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vj(e):n===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jae.exec(t))?new Lr(e[1],e[2],e[3],1):(e=Mae.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dae.exec(t))?Xg(e[1],e[2],e[3],e[4]):(e=zae.exec(t))?Xg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lae.exec(t))?_j(e[1],e[2]/100,e[3]/100,1):(e=Vae.exec(t))?_j(e[1],e[2]/100,e[3]/100,e[4]):pj.hasOwnProperty(t)?vj(pj[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function vj(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function Xg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lr(t,e,n,r)}function Fae(t){return t instanceof Km||(t=mm(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function DE(t,e,n,r){return arguments.length===1?Fae(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BT(Lr,DE,P9(Km,{brighter(t){return t=t==null?ky:Math.pow(ky,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fm:Math.pow(fm,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(vc(this.r),vc(this.g),vc(this.b),Cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bj,formatHex:bj,formatHex8:qae,formatRgb:xj,toString:xj}));function bj(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function qae(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function xj(){const t=Cy(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function Cy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function _j(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sa(t,e,n,r)}function R9(t){if(t instanceof sa)return new sa(t.h,t.s,t.l,t.opacity);if(t instanceof Km||(t=mm(t)),!t)return new sa;if(t instanceof sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new sa(l,c,d,t.opacity)}function $ae(t,e,n,r){return arguments.length===1?R9(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BT(sa,$ae,P9(Km,{brighter(t){return t=t==null?ky:Math.pow(ky,t),new sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fm:Math.pow(fm,t),new sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lr(K_(t>=240?t-240:t+120,i,r),K_(t,i,r),K_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sa(wj(this.h),Qg(this.s),Qg(this.l),Cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cy(this.opacity);return`${t===1?"hsl(":"hsla("}${wj(this.h)}, ${Qg(this.s)*100}%, ${Qg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wj(t){return t=(t||0)%360,t<0?t+360:t}function Qg(t){return Math.max(0,Math.min(1,t||0))}function K_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UT=t=>()=>t;function Hae(t,e){return function(n){return t+n*e}}function Gae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kae(t){return(t=+t)==1?j9:function(e,n){return n-e?Gae(e,n,t):UT(isNaN(e)?n:e)}}function j9(t,e){var n=e-t;return n?Hae(t,n):UT(isNaN(t)?e:t)}const Ej=(function t(e){var n=Kae(e);function r(i,s){var l=n((i=DE(i)).r,(s=DE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=j9(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function Yae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Wae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Xd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function Qae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ny(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zae(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var zE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y_=new RegExp(zE.source,"g");function Jae(t){return function(){return t}}function ese(t){return function(e){return t(e)+""}}function tse(t,e){var n=zE.lastIndex=Y_.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=zE.exec(t))&&(i=Y_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Ny(r,i)})),n=Y_.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?ese(d[0].x):Jae(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Xd(t,e){var n=typeof e,r;return e==null||n==="boolean"?UT(e):(n==="number"?Ny:n==="string"?(r=mm(e))?(e=r,Ej):tse:e instanceof mm?Ej:e instanceof Date?Qae:Wae(e)?Yae:Array.isArray(e)?Xae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zae:Ny)(t,e)}function FT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nse(t,e){e===void 0&&(e=t,t=Xd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function rse(t){return function(){return t}}function Oy(t){return+t}var Sj=[0,1];function Er(t){return t}function LE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rse(isNaN(e)?NaN:.5)}function ise(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ase(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=LE(i,r),s=n(l,s)):(r=LE(r,i),s=n(s,l)),function(c){return s(r(c))}}function sse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=LE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Gm(t,c,1,r)-1;return s[d](i[d](c))}}function Ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gv(){var t=Sj,e=Sj,n=Xd,r,i,s,l=Er,c,d,f;function m(){var b=Math.min(t.length,e.length);return l!==Er&&(l=ise(t[0],t[b-1])),c=b>2?sse:ase,d=f=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((f||(f=c(e,t.map(r),Ny)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,Oy),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=FT,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Er,m()):l!==Er},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,_){return r=b,i=_,m()}}function qT(){return Gv()(Er,Er)}function ose(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Py(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nd(t){return t=Py(Math.abs(t)),t?t[1]:NaN}function lse(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function cse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var use=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pm(t){if(!(e=use.exec(t)))throw new Error("invalid format: "+t);var e;return new $T({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pm.prototype=$T.prototype;function $T(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$T.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var M9;function fse(t,e){var n=Py(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(M9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Py(t,Math.max(0,e+s-1))[0]}function Tj(t,e){var n=Py(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Aj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ose,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tj(t*100,e),r:Tj,s:fse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ij(t){return t}var kj=Array.prototype.map,Cj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hse(t){var e=t.grouping===void 0||t.thousands===void 0?Ij:lse(kj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ij:cse(kj.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=pm(p);var b=p.fill,_=p.align,w=p.sign,E=p.symbol,S=p.zero,k=p.width,j=p.comma,N=p.precision,D=p.trim,R=p.type;R==="n"?(j=!0,R="g"):Aj[R]||(N===void 0&&(N=12),D=!0,R="g"),(S||b==="0"&&_==="=")&&(S=!0,b="0",_="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",P=E==="$"?r:/[%p]/.test(R)?l:"",O=Aj[R],V=/[defgprs%]/.test(R);N=N===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(L){var F=z,U=P,be,Ee,Y;if(R==="c")U=O(L)+U,L="";else{L=+L;var re=L<0||1/L<0;if(L=isNaN(L)?d:O(Math.abs(L),N),D&&(L=dse(L)),re&&+L==0&&w!=="+"&&(re=!1),F=(re?w==="("?w:c:w==="-"||w==="("?"":w)+F,U=(R==="s"?Cj[8+M9/3]:"")+U+(re&&w==="("?")":""),V){for(be=-1,Ee=L.length;++be<Ee;)if(Y=L.charCodeAt(be),48>Y||Y>57){U=(Y===46?i+L.slice(be+1):L.slice(be))+U,L=L.slice(0,be);break}}}j&&!S&&(L=e(L,1/0));var $=F.length+L.length+U.length,oe=$<k?new Array(k-$+1).join(b):"";switch(j&&S&&(L=e(oe+L,oe.length?k-U.length:1/0),oe=""),_){case"<":L=F+L+U+oe;break;case"=":L=F+oe+L+U;break;case"^":L=oe.slice(0,$=oe.length>>1)+F+L+U+oe.slice($);break;default:L=oe+F+L+U;break}return s(L)}return q.toString=function(){return p+""},q}function m(p,b){var _=f((p=pm(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Nd(b)/3)))*3,E=Math.pow(10,-w),S=Cj[8+w/3];return function(k){return _(E*k)+S}}return{format:f,formatPrefix:m}}var Zg,HT,D9;mse({thousands:",",grouping:[3],currency:["$",""]});function mse(t){return Zg=hse(t),HT=Zg.format,D9=Zg.formatPrefix,Zg}function pse(t){return Math.max(0,-Nd(Math.abs(t)))}function gse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nd(e)/3)))*3-Nd(Math.abs(t)))}function yse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nd(e)-Nd(t))+1}function z9(t,e,n,r){var i=jE(t,e,n),s;switch(r=pm(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=gse(i,l))&&(r.precision=s),D9(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=yse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=pse(i))&&(r.precision=s-(r.type==="%")*2);break}}return HT(r)}function yl(t){var e=t.domain;return t.ticks=function(n){var r=e();return PE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return z9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);m-- >0;){if(f=RE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function L9(){var t=qT();return t.copy=function(){return Ym(t,L9())},Bi.apply(t,arguments),yl(t)}function V9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Oy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return V9(t).unknown(e)},t=arguments.length?Array.from(t,Oy):[0,1],yl(n)}function B9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Nj(t){return Math.log(t)}function Oj(t){return Math.exp(t)}function vse(t){return-Math.log(-t)}function bse(t){return-Math.exp(-t)}function xse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _se(t){return t===10?xse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Pj(t){return(e,n)=>-t(-e,n)}function GT(t){const e=t(Nj,Oj),n=e.domain;let r=10,i,s;function l(){return i=wse(r),s=_se(r),n()[0]<0?(i=Pj(i),s=Pj(s),t(vse,bse)):t(Nj,Oj),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let b=i(f),_=i(m),w,E;const S=c==null?10:+c;let k=[];if(!(r%1)&&_-b<S){if(b=Math.floor(b),_=Math.ceil(_),f>0){for(;b<=_;++b)for(w=1;w<r;++w)if(E=b<0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}}else for(;b<=_;++b)for(w=r-1;w>=1;--w)if(E=b>0?w/s(-b):w*s(b),!(E<f)){if(E>m)break;k.push(E)}k.length*2<S&&(k=PE(f,m,S))}else k=PE(b,_,Math.min(_-b,S)).map(s);return p?k.reverse():k},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=pm(d)).precision==null&&(d.trim=!0),d=HT(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(B9(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function U9(){const t=GT(Gv()).domain([1,10]);return t.copy=()=>Ym(t,U9()).base(t.base()),Bi.apply(t,arguments),t}function Rj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KT(t){var e=1,n=t(Rj(e),jj(e));return n.constant=function(r){return arguments.length?t(Rj(e=+r),jj(e)):e},yl(n)}function F9(){var t=KT(Gv());return t.copy=function(){return Ym(t,F9()).constant(t.constant())},Bi.apply(t,arguments)}function Mj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ese(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sse(t){return t<0?-t*t:t*t}function YT(t){var e=t(Er,Er),n=1;function r(){return n===1?t(Er,Er):n===.5?t(Ese,Sse):t(Mj(n),Mj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yl(e)}function WT(){var t=YT(Gv());return t.copy=function(){return Ym(t,WT()).exponent(t.exponent())},Bi.apply(t,arguments),t}function Tse(){return WT.apply(null,arguments).exponent(.5)}function Dj(t){return Math.sign(t)*t*t}function Ase(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function q9(){var t=qT(),e=[0,1],n=!1,r;function i(s){var l=Ase(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(Dj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Oy)).map(Dj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return q9(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bi.apply(i,arguments),yl(i)}function $9(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Nae(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Gm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(rl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return $9().domain(t).range(e).unknown(r)},Bi.apply(s,arguments)}function H9(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Gm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return H9().domain([t,e]).range(i).unknown(s)},Bi.apply(yl(l),arguments)}function G9(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Gm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return G9().domain(t).range(e).unknown(n)},Bi.apply(i,arguments)}const W_=new Date,X_=new Date;function On(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>On(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(W_.setTime(+s),X_.setTime(+l),t(W_),t(X_),Math.floor(n(W_,X_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ry=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ry.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ry);Ry.range;const Ns=1e3,ji=Ns*60,Os=ji*60,$s=Os*24,XT=$s*7,zj=$s*30,Q_=$s*365,uc=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());uc.range;const QT=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getMinutes());QT.range;const ZT=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCMinutes());ZT.range;const JT=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*ji)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());JT.range;const eA=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());eA.range;const Wm=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ji)/$s,t=>t.getDate()-1);Wm.range;const Kv=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);Kv.range;const K9=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));K9.range;function Fc(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ji)/XT)}const Yv=Fc(0),jy=Fc(1),Ise=Fc(2),kse=Fc(3),Od=Fc(4),Cse=Fc(5),Nse=Fc(6);Yv.range;jy.range;Ise.range;kse.range;Od.range;Cse.range;Nse.range;function qc(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XT)}const Wv=qc(0),My=qc(1),Ose=qc(2),Pse=qc(3),Pd=qc(4),Rse=qc(5),jse=qc(6);Wv.range;My.range;Ose.range;Pse.range;Pd.range;Rse.range;jse.range;const tA=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tA.range;const nA=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nA.range;const Hs=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Gs=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function Y9(t,e,n,r,i,s){const l=[[uc,1,Ns],[uc,5,5*Ns],[uc,15,15*Ns],[uc,30,30*Ns],[s,1,ji],[s,5,5*ji],[s,15,15*ji],[s,30,30*ji],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,$s],[r,2,2*$s],[n,1,XT],[e,1,zj],[e,3,3*zj],[t,1,Q_]];function c(f,m,p){const b=m<f;b&&([f,m]=[m,f]);const _=p&&typeof p.range=="function"?p:d(f,m,p),w=_?_.range(f,+m+1):[];return b?w.reverse():w}function d(f,m,p){const b=Math.abs(m-f)/p,_=zT(([,,S])=>S).right(l,b);if(_===l.length)return t.every(jE(f/Q_,m/Q_,p));if(_===0)return Ry.every(Math.max(jE(f,m,p),1));const[w,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return w.every(E)}return[c,d]}const[Mse,Dse]=Y9(Gs,nA,Wv,K9,eA,ZT),[zse,Lse]=Y9(Hs,tA,Yv,Wm,JT,QT);function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vse(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=yh(i),m=vh(i),p=yh(s),b=vh(s),_=yh(l),w=vh(l),E=yh(c),S=vh(c),k=yh(d),j=vh(d),N={a:re,A:$,b:oe,B:_e,c:null,d:qj,e:qj,f:loe,g:voe,G:xoe,H:aoe,I:soe,j:ooe,L:W9,m:coe,M:uoe,p:H,q:ne,Q:Gj,s:Kj,S:doe,u:foe,U:hoe,V:moe,w:poe,W:goe,x:null,X:null,y:yoe,Y:boe,Z:_oe,"%":Hj},D={a:ie,A:ue,b:ge,B:ke,c:null,d:$j,e:$j,f:Toe,g:Moe,G:zoe,H:woe,I:Eoe,j:Soe,L:Q9,m:Aoe,M:Ioe,p:we,q:Le,Q:Gj,s:Kj,S:koe,u:Coe,U:Noe,V:Ooe,w:Poe,W:Roe,x:null,X:null,y:joe,Y:Doe,Z:Loe,"%":Hj},R={a:q,A:L,b:F,B:U,c:be,d:Uj,e:Uj,f:toe,g:Bj,G:Vj,H:Fj,I:Fj,j:Qse,L:eoe,m:Xse,M:Zse,p:V,q:Wse,Q:roe,s:ioe,S:Jse,u:$se,U:Hse,V:Gse,w:qse,W:Kse,x:Ee,X:Y,y:Bj,Y:Vj,Z:Yse,"%":noe};N.x=z(n,N),N.X=z(r,N),N.c=z(e,N),D.x=z(n,D),D.X=z(r,D),D.c=z(e,D);function z(X,Ie){return function(Ve){var he=[],zt=-1,Xe=0,Xt=X.length,Ot,an,ye;for(Ve instanceof Date||(Ve=new Date(+Ve));++zt<Xt;)X.charCodeAt(zt)===37&&(he.push(X.slice(Xe,zt)),(an=Lj[Ot=X.charAt(++zt)])!=null?Ot=X.charAt(++zt):an=Ot==="e"?" ":"0",(ye=Ie[Ot])&&(Ot=ye(Ve,an)),he.push(Ot),Xe=zt+1);return he.push(X.slice(Xe,zt)),he.join("")}}function P(X,Ie){return function(Ve){var he=gh(1900,void 0,1),zt=O(he,X,Ve+="",0),Xe,Xt;if(zt!=Ve.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ie&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Xe=J_(gh(he.y,0,1)),Xt=Xe.getUTCDay(),Xe=Xt>4||Xt===0?My.ceil(Xe):My(Xe),Xe=Kv.offset(Xe,(he.V-1)*7),he.y=Xe.getUTCFullYear(),he.m=Xe.getUTCMonth(),he.d=Xe.getUTCDate()+(he.w+6)%7):(Xe=Z_(gh(he.y,0,1)),Xt=Xe.getDay(),Xe=Xt>4||Xt===0?jy.ceil(Xe):jy(Xe),Xe=Wm.offset(Xe,(he.V-1)*7),he.y=Xe.getFullYear(),he.m=Xe.getMonth(),he.d=Xe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Xt="Z"in he?J_(gh(he.y,0,1)).getUTCDay():Z_(gh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Xt+5)%7:he.w+he.U*7-(Xt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,J_(he)):Z_(he)}}function O(X,Ie,Ve,he){for(var zt=0,Xe=Ie.length,Xt=Ve.length,Ot,an;zt<Xe;){if(he>=Xt)return-1;if(Ot=Ie.charCodeAt(zt++),Ot===37){if(Ot=Ie.charAt(zt++),an=R[Ot in Lj?Ie.charAt(zt++):Ot],!an||(he=an(X,Ve,he))<0)return-1}else if(Ot!=Ve.charCodeAt(he++))return-1}return he}function V(X,Ie,Ve){var he=f.exec(Ie.slice(Ve));return he?(X.p=m.get(he[0].toLowerCase()),Ve+he[0].length):-1}function q(X,Ie,Ve){var he=_.exec(Ie.slice(Ve));return he?(X.w=w.get(he[0].toLowerCase()),Ve+he[0].length):-1}function L(X,Ie,Ve){var he=p.exec(Ie.slice(Ve));return he?(X.w=b.get(he[0].toLowerCase()),Ve+he[0].length):-1}function F(X,Ie,Ve){var he=k.exec(Ie.slice(Ve));return he?(X.m=j.get(he[0].toLowerCase()),Ve+he[0].length):-1}function U(X,Ie,Ve){var he=E.exec(Ie.slice(Ve));return he?(X.m=S.get(he[0].toLowerCase()),Ve+he[0].length):-1}function be(X,Ie,Ve){return O(X,e,Ie,Ve)}function Ee(X,Ie,Ve){return O(X,n,Ie,Ve)}function Y(X,Ie,Ve){return O(X,r,Ie,Ve)}function re(X){return l[X.getDay()]}function $(X){return s[X.getDay()]}function oe(X){return d[X.getMonth()]}function _e(X){return c[X.getMonth()]}function H(X){return i[+(X.getHours()>=12)]}function ne(X){return 1+~~(X.getMonth()/3)}function ie(X){return l[X.getUTCDay()]}function ue(X){return s[X.getUTCDay()]}function ge(X){return d[X.getUTCMonth()]}function ke(X){return c[X.getUTCMonth()]}function we(X){return i[+(X.getUTCHours()>=12)]}function Le(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var Ie=z(X+="",N);return Ie.toString=function(){return X},Ie},parse:function(X){var Ie=P(X+="",!1);return Ie.toString=function(){return X},Ie},utcFormat:function(X){var Ie=z(X+="",D);return Ie.toString=function(){return X},Ie},utcParse:function(X){var Ie=P(X+="",!0);return Ie.toString=function(){return X},Ie}}}var Lj={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,Bse=/^%/,Use=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Fse(t){return t.replace(Use,"\\$&")}function yh(t){return new RegExp("^(?:"+t.map(Fse).join("|")+")","i")}function vh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $se(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Hse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vj(t,e,n){var r=Gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bj(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wse(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Uj(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qse(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fj(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Zse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jse(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eoe(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function toe(t,e,n){var r=Gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function noe(t,e,n){var r=Bse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function roe(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ioe(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qj(t,e){return ft(t.getDate(),e,2)}function aoe(t,e){return ft(t.getHours(),e,2)}function soe(t,e){return ft(t.getHours()%12||12,e,2)}function ooe(t,e){return ft(1+Wm.count(Hs(t),t),e,3)}function W9(t,e){return ft(t.getMilliseconds(),e,3)}function loe(t,e){return W9(t,e)+"000"}function coe(t,e){return ft(t.getMonth()+1,e,2)}function uoe(t,e){return ft(t.getMinutes(),e,2)}function doe(t,e){return ft(t.getSeconds(),e,2)}function foe(t){var e=t.getDay();return e===0?7:e}function hoe(t,e){return ft(Yv.count(Hs(t)-1,t),e,2)}function X9(t){var e=t.getDay();return e>=4||e===0?Od(t):Od.ceil(t)}function moe(t,e){return t=X9(t),ft(Od.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function poe(t){return t.getDay()}function goe(t,e){return ft(jy.count(Hs(t)-1,t),e,2)}function yoe(t,e){return ft(t.getFullYear()%100,e,2)}function voe(t,e){return t=X9(t),ft(t.getFullYear()%100,e,2)}function boe(t,e){return ft(t.getFullYear()%1e4,e,4)}function xoe(t,e){var n=t.getDay();return t=n>=4||n===0?Od(t):Od.ceil(t),ft(t.getFullYear()%1e4,e,4)}function _oe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function $j(t,e){return ft(t.getUTCDate(),e,2)}function woe(t,e){return ft(t.getUTCHours(),e,2)}function Eoe(t,e){return ft(t.getUTCHours()%12||12,e,2)}function Soe(t,e){return ft(1+Kv.count(Gs(t),t),e,3)}function Q9(t,e){return ft(t.getUTCMilliseconds(),e,3)}function Toe(t,e){return Q9(t,e)+"000"}function Aoe(t,e){return ft(t.getUTCMonth()+1,e,2)}function Ioe(t,e){return ft(t.getUTCMinutes(),e,2)}function koe(t,e){return ft(t.getUTCSeconds(),e,2)}function Coe(t){var e=t.getUTCDay();return e===0?7:e}function Noe(t,e){return ft(Wv.count(Gs(t)-1,t),e,2)}function Z9(t){var e=t.getUTCDay();return e>=4||e===0?Pd(t):Pd.ceil(t)}function Ooe(t,e){return t=Z9(t),ft(Pd.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function Poe(t){return t.getUTCDay()}function Roe(t,e){return ft(My.count(Gs(t)-1,t),e,2)}function joe(t,e){return ft(t.getUTCFullYear()%100,e,2)}function Moe(t,e){return t=Z9(t),ft(t.getUTCFullYear()%100,e,2)}function Doe(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function zoe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pd(t):Pd.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function Loe(){return"+0000"}function Hj(){return"%"}function Gj(t){return+t}function Kj(t){return Math.floor(+t/1e3)}var Bu,J9,eL;Voe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Voe(t){return Bu=Vse(t),J9=Bu.format,Bu.parse,eL=Bu.utcFormat,Bu.utcParse,Bu}function Boe(t){return new Date(t)}function Uoe(t){return t instanceof Date?+t:+new Date(+t)}function rA(t,e,n,r,i,s,l,c,d,f){var m=qT(),p=m.invert,b=m.domain,_=f(".%L"),w=f(":%S"),E=f("%I:%M"),S=f("%I %p"),k=f("%a %d"),j=f("%b %d"),N=f("%B"),D=f("%Y");function R(z){return(d(z)<z?_:c(z)<z?w:l(z)<z?E:s(z)<z?S:r(z)<z?i(z)<z?k:j:n(z)<z?N:D)(z)}return m.invert=function(z){return new Date(p(z))},m.domain=function(z){return arguments.length?b(Array.from(z,Uoe)):b().map(Boe)},m.ticks=function(z){var P=b();return t(P[0],P[P.length-1],z??10)},m.tickFormat=function(z,P){return P==null?R:f(P)},m.nice=function(z){var P=b();return(!z||typeof z.range!="function")&&(z=e(P[0],P[P.length-1],z??10)),z?b(B9(P,z)):m},m.copy=function(){return Ym(m,rA(t,e,n,r,i,s,l,c,d,f))},m}function Foe(){return Bi.apply(rA(zse,Lse,Hs,tA,Yv,Wm,JT,QT,uc,J9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qoe(){return Bi.apply(rA(Mse,Dse,Gs,nA,Wv,Kv,eA,ZT,uc,eL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xv(){var t=0,e=1,n,r,i,s,l=Er,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(b){var _,w;return arguments.length?([_,w]=b,l=p(_,w),f):[l(0),l(1)]}}return f.range=m(Xd),f.rangeRound=m(FT),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function vl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tL(){var t=yl(Xv()(Er));return t.copy=function(){return vl(t,tL())},Js.apply(t,arguments)}function nL(){var t=GT(Xv()).domain([1,10]);return t.copy=function(){return vl(t,nL()).base(t.base())},Js.apply(t,arguments)}function rL(){var t=KT(Xv());return t.copy=function(){return vl(t,rL()).constant(t.constant())},Js.apply(t,arguments)}function iA(){var t=YT(Xv());return t.copy=function(){return vl(t,iA()).exponent(t.exponent())},Js.apply(t,arguments)}function $oe(){return iA.apply(null,arguments).exponent(.5)}function iL(){var t=[],e=Er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Cae(t,s/r))},n.copy=function(){return iL(e).domain(t)},Js.apply(n,arguments)}function Qv(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=Er,m,p=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:d),f(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(f=E,_):f};function w(E){return function(S){var k,j,N;return arguments.length?([k,j,N]=S,f=nse(E,[k,j,N]),_):[f(0),f(.5),f(1)]}}return _.range=w(Xd),_.rangeRound=w(FT),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function aL(){var t=yl(Qv()(Er));return t.copy=function(){return vl(t,aL())},Js.apply(t,arguments)}function sL(){var t=GT(Qv()).domain([.1,1,10]);return t.copy=function(){return vl(t,sL()).base(t.base())},Js.apply(t,arguments)}function oL(){var t=KT(Qv());return t.copy=function(){return vl(t,oL()).constant(t.constant())},Js.apply(t,arguments)}function aA(){var t=YT(Qv());return t.copy=function(){return vl(t,aA()).exponent(t.exponent())},Js.apply(t,arguments)}function Hoe(){return aA.apply(null,arguments).exponent(.5)}const Ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VT,scaleDiverging:aL,scaleDivergingLog:sL,scaleDivergingPow:aA,scaleDivergingSqrt:Hoe,scaleDivergingSymlog:oL,scaleIdentity:V9,scaleImplicit:ME,scaleLinear:L9,scaleLog:U9,scaleOrdinal:LT,scalePoint:Pae,scalePow:WT,scaleQuantile:$9,scaleQuantize:H9,scaleRadial:q9,scaleSequential:tL,scaleSequentialLog:nL,scaleSequentialPow:iA,scaleSequentialQuantile:iL,scaleSequentialSqrt:$oe,scaleSequentialSymlog:rL,scaleSqrt:Tse,scaleSymlog:F9,scaleThreshold:G9,scaleTime:Foe,scaleUtc:qoe,tickFormat:z9},Symbol.toStringTag,{value:"Module"}));var eo=t=>t.chartData,lL=le([eo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),cL=(t,e,n,r)=>r?lL(t):eo(t),Goe=(t,e,n)=>n?lL(t):eo(t);function ul(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Jt(e)&&Jt(n))return!0}return!1}function Yj(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Jt(n))i=n;else if(typeof n=="function")return;if(Jt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ul(l))return l}}function Koe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ul(r))return Yj(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Fe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&sR.test(i)){var d=sR.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Fe(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&oR.test(s)){var m=oR.exec(s);if(m==null||m[1]==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e?.[1];var b=[l,c];if(ul(b))return e==null?b:Yj(b,e,n)}}}var Qd=1e9,Yoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oA,Yt=!0,Li="[DecimalError] ",bc=Li+"Invalid argument: ",sA=Li+"Exponent out of range: ",Zd=Math.floor,ec=Math.pow,Woe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,Fn=1e7,Ut=7,dL=9007199254740991,Dy=Zd(dL/Ut),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Ms(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Rt(Ms(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Sn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ri))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(ri)?new r(0):(Yt=!1,e=Ms(gm(n,s),gm(t,s),s),Yt=!0,Rt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):fL(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(Yt=!1,e=Ms(n,t,0,1).times(t),Yt=!0,n.minus(e)):Rt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return hL(this)};Oe.naturalLogarithm=Oe.ln=function(){return gm(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fL(e,t):mL(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bc+t);if(e=Sn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Li+"NaN")}for(t=Sn(c),Yt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=qa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ms(c,s,l+2)).times(.5),qa(s.d).slice(0,l)===(e=qa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Rt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Yt=!0,Rt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,s,l,c,d,f,m=this,p=m.constructor,b=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,f=_.length,d<f&&(s=b,b=_,_=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+_[r]*b[i-r-1]+e,s[i--]=c%Fn|0,e=c/Fn|0;s[i]=(s[i]+e)%Fn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Yt?Rt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,Qd),e===void 0?e=r.rounding:Ja(e,0,8),Rt(n,t+Sn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mc(r,!0):(Ja(t,0,Qd),e===void 0?e=i.rounding:Ja(e,0,8),r=Rt(new i(r),t+1,e),n=Mc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Mc(i):(Ja(t,0,Qd),e===void 0?e=s.rounding:Ja(e,0,8),r=Rt(new s(i),t+Sn(i)+1,e),n=Mc(r.abs(),!1,t+Sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Rt(new e(t),Sn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(ri);if(c=new d(c),!c.s){if(t.s<1)throw Error(Li+"Infinity");return c}if(c.eq(ri))return c;if(r=d.precision,t.eq(ri))return Rt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=dL){for(i=new d(ri),e=Math.ceil(r/Ut+4),Yt=!1;n%2&&(i=i.times(c),Xj(i.d,e)),n=Zd(n/2),n!==0;)c=c.times(c),Xj(c.d,e);return Yt=!0,t.s<0?new d(ri).div(i):Rt(i,r)}}else if(s<0)throw Error(Li+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Yt=!1,i=t.times(gm(c,r+f)),Yt=!0,i=hL(i),i.s=s,i};Oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Sn(i),r=Mc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ja(t,1,Qd),e===void 0?e=s.rounding:Ja(e,0,8),i=Rt(new s(i),t,e),n=Sn(i),r=Mc(i,t<=n||n<=s.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,Qd),e===void 0?e=r.rounding:Ja(e,0,8)),Rt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return Mc(t,e<=n.toExpNeg||e>=n.toExpPos)};function fL(t,e){var n,r,i,s,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Yt?Rt(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/Ut),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Fn|0,d[s]%=Fn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Yt?Rt(e,p):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bc+t)}function qa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(s+=Fo(n)),s+=r;l=t[e],r=l+"",n=Ut-r.length,n&&(s+=Fo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ms=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Fn|0,l=s/Fn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Fn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,m,p,b,_,w,E,S,k,j,N,D,R,z,P,O,V=r.constructor,q=r.s==i.s?1:-1,L=r.d,F=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Li+"Division by zero");for(d=r.e-i.e,P=F.length,R=L.length,_=new V(q),w=_.d=[],f=0;F[f]==(L[f]||0);)++f;if(F[f]>(L[f]||0)&&--d,s==null?j=s=V.precision:l?j=s+(Sn(r)-Sn(i))+1:j=s,j<0)return new V(0);if(j=j/Ut+2|0,f=0,P==1)for(m=0,F=F[0],j++;(f<R||m)&&j--;f++)N=m*Fn+(L[f]||0),w[f]=N/F|0,m=N%F|0;else{for(m=Fn/(F[0]+1)|0,m>1&&(F=t(F,m),L=t(L,m),P=F.length,R=L.length),D=P,E=L.slice(0,P),S=E.length;S<P;)E[S++]=0;O=F.slice(),O.unshift(0),z=F[0],F[1]>=Fn/2&&++z;do m=0,c=e(F,E,P,S),c<0?(k=E[0],P!=S&&(k=k*Fn+(E[1]||0)),m=k/z|0,m>1?(m>=Fn&&(m=Fn-1),p=t(F,m),b=p.length,S=E.length,c=e(p,E,b,S),c==1&&(m--,n(p,P<b?O:F,b))):(m==0&&(c=m=1),p=F.slice()),b=p.length,b<S&&p.unshift(0),n(E,p,S),c==-1&&(S=E.length,c=e(F,E,P,S),c<1&&(m++,n(E,P<S?O:F,S))),S=E.length):c===0&&(m++,E=[0]),w[f++]=m,c&&E[0]?E[S++]=L[D]||0:(E=[L[D]],S=1);while((D++<R||E[0]!==void 0)&&j--)}return w[0]||w.shift(),_.e=d,Rt(_,l?s+Sn(_)+1:s)}})();function hL(t,e){var n,r,i,s,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(Sn(t)>16)throw Error(sA+Sn(t));if(!t.s)return new m(ri);for(Yt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(ec(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new m(ri),m.precision=c;;){if(i=Rt(i.times(t),c),n=n.times(++d),l=s.plus(Ms(i,n,c)),qa(l.d).slice(0,c)===qa(s.d).slice(0,c)){for(;f--;)s=Rt(s.times(s),c);return m.precision=p,e==null?(Yt=!0,Rt(s,p)):s}s=l}}function Sn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function ew(t,e,n){if(e>t.LN10.sd())throw Yt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return Rt(new t(t.LN10),e)}function Fo(t){for(var e="";t--;)e+="0";return e}function gm(t,e){var n,r,i,s,l,c,d,f,m,p=1,b=10,_=t,w=_.d,E=_.constructor,S=E.precision;if(_.s<1)throw Error(Li+(_.s?"NaN":"-Infinity"));if(_.eq(ri))return new E(0);if(e==null?(Yt=!1,f=S):f=e,_.eq(10))return e==null&&(Yt=!0),ew(E,f);if(f+=b,E.precision=f,n=qa(w),r=n.charAt(0),s=Sn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=qa(_.d),r=n.charAt(0),p++;s=Sn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return d=ew(E,f+2,S).times(s+""),_=gm(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(Yt=!0,Rt(_,S)):_;for(c=l=_=Ms(_.minus(ri),_.plus(ri),f),m=Rt(_.times(_),f),i=3;;){if(l=Rt(l.times(m),f),d=c.plus(Ms(l,new E(i),f)),qa(d.d).slice(0,f)===qa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(ew(E,f+2,S).times(s+""))),c=Ms(c,new E(p),f),E.precision=S,e==null?(Yt=!0,Rt(c,S)):c;c=d,i+=2}}function Wj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zd(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Yt&&(t.e>Dy||t.e<-Dy))throw Error(sA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rt(t,e,n){var r,i,s,l,c,d,f,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ut,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Ut),s=p.length,m>=s)return t;for(f=s=p[m],l=1;s>=10;s/=10)l++;r%=Ut,i=r-Ut+l}if(n!==void 0&&(s=ec(10,l-i-1),c=f/s%10|0,d=e<0||p[m+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/ec(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=Sn(t),p.length=1,e=e-s-1,p[0]=ec(10,(Ut-e%Ut)%Ut),t.e=Zd(-e/Ut)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=ec(10,Ut-r),p[m]=i>0?(f/ec(10,l-i)%ec(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==Fn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Fn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Yt&&(t.e>Dy||t.e<-Dy))throw Error(sA+Sn(t));return t}function mL(t,e){var n,r,i,s,l,c,d,f,m,p,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Yt?Rt(e,_):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(_/Ut),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=Fn-1;--d[s],d[i]+=Fn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Yt?Rt(e,_):e):new b(0)}function Mc(t,e,n){var r,i=Sn(t),s=qa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Fo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fo(-i-1)+s,n&&(r=n-l)>0&&(s+=Fo(r))):i>=l?(s+=Fo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Fo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Fo(r))),t.s<0?"-"+s:s}function Xj(t,e){if(t.length>e)return t.length=e,!0}function pL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(bc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Wj(l,s.toString())}else if(typeof s!="string")throw Error(bc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Woe.test(s))Wj(l,s);else throw Error(bc+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pL,i.config=i.set=Xoe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Xoe(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,Qd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bc+n+": "+r);return this}var oA=pL(Yoe);ri=new oA(1);const xt=oA;var Qoe=t=>t,gL={},yL=t=>t===gL,Qj=t=>function e(){return arguments.length===0||arguments.length===1&&yL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},vL=(t,e)=>t===1?e:Qj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==gL).length;return s>=t?e(...r):vL(t-s,Qj(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>yL(m)?c.shift():m);return e(...f,...c)}))}),Zoe=t=>vL(t.length,t),VE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Joe=Zoe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ele=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Qoe;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}};function bL(t){var e;return t===0?e=1:e=Math.floor(new xt(t).abs().log(10).toNumber())+1,e}function xL(t,e,n){for(var r=new xt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var _L=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},wL=(t,e,n)=>{if(t.lte(0))return new xt(0);var r=bL(t.toNumber()),i=new xt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new xt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new xt(d.toNumber()):new xt(Math.ceil(d.toNumber()))},tle=(t,e,n)=>{var r=new xt(1),i=new xt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new xt(10).pow(bL(t)-1),i=new xt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new xt(Math.floor(t)))}else t===0?i=new xt(Math.floor((e-1)/2)):n||(i=new xt(Math.floor(t)));var l=Math.floor((e-1)/2),c=ele(Joe(d=>i.add(new xt(d-l).mul(r)).toNumber()),VE);return c(0,e)},EL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var l=wL(new xt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new xt(0):(c=new xt(e).add(n).div(2),c=c.sub(new xt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new xt(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?EL(e,n,r,i,s+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new xt(d).mul(l)),tickMax:c.add(new xt(f).mul(l))})},nle=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,d]=_L([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...VE(0,i-1).map(()=>1/0)]:[...VE(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(c===d)return tle(c,i,s);var{step:m,tickMin:p,tickMax:b}=EL(c,d,l,s,0),_=xL(p,b.add(new xt(.1).mul(m)),m);return n>r?_.reverse():_},rle=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=_L([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(n,2),f=wL(new xt(c).sub(l).div(d-1),s,0),m=[...xL(new xt(l),new xt(c),f),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},SL=t=>t.rootProps.maxBarSize,ile=t=>t.rootProps.barGap,TL=t=>t.rootProps.barCategoryGap,ale=t=>t.rootProps.barSize,Zv=t=>t.rootProps.stackOffset,AL=t=>t.rootProps.reverseStackOrder,lA=t=>t.options.chartName,cA=t=>t.rootProps.syncId,IL=t=>t.rootProps.syncMethod,uA=t=>t.options.eventEmitter,Vr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},sle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},ole={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:ni.type,unit:void 0},lle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cle={allowDataOverflow:ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,ticks:void 0,type:"category",unit:void 0},dA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?lle:sle,fA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?cle:ole,eb=t=>t.polarOptions,hA=le([Qs,Zs,Hn],rae),kL=le([eb,hA],(t,e)=>{if(t!=null)return ua(t.innerRadius,e,0)}),CL=le([eb,hA],(t,e)=>{if(t!=null)return ua(t.outerRadius,e,e*.8)}),ule=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},NL=le([eb],ule);le([dA,NL],Jv);var OL=le([hA,kL,CL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([fA,OL],Jv);var PL=le([Et,eb,kL,CL,Qs,Zs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:ua(l,i,i/2),cy:ua(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Pn=(t,e)=>e,tb=(t,e,n)=>n;function mA(t){return t?.id}function RL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=mA(c);f.forEach((p,b)=>{var _=s==null||i?b:String(cr(p,s,null)),w=cr(p,c.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[m]:w}),l.set(_,E)})}}),Array.from(l.values())}function nb(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var rb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ib(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function dle(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Rn=t=>{var e=Et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jd=t=>t.tooltip.settings.axisId;function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BE=[0,"auto"],Vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jL=(t,e)=>t.cartesianAxis.xAxis[e],to=(t,e)=>{var n=jL(t,e);return n??Vn},Bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:BE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qm},ML=(t,e)=>t.cartesianAxis.yAxis[e],no=(t,e)=>{var n=ML(t,e);return n??Bn},ple={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},pA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ple},Ir=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);case"zAxis":return pA(t,n);case"angleAxis":return dA(t,n);case"radiusAxis":return fA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gle=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xm=(t,e,n)=>{switch(e){case"xAxis":return to(t,n);case"yAxis":return no(t,n);case"angleAxis":return dA(t,n);case"radiusAxis":return fA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},DL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function zL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var gA=t=>t.graphicalItems.cartesianItems,yle=le([Pn,tb],zL),LL=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Qm=le([gA,Ir,yle],LL,{memoizeOptions:{resultEqualityCheck:ib}}),VL=le([Qm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(nb)),BL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),vle=le([Qm],BL),UL=t=>t.map(e=>e.data).filter(Boolean).flat(1),ble=le([Qm],UL,{memoizeOptions:{resultEqualityCheck:ib}}),FL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},yA=le([ble,cL],FL),qL=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:cr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:cr(i,r)}))):t.map(r=>({value:r})),ab=le([yA,Ir,Qm],qL);function $L(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function S0(t){if(Za(t)||t instanceof Date){var e=Number(t);if(Jt(e))return e}}function Jj(t){if(Array.isArray(t)){var e=[S0(t[0]),S0(t[1])];return ul(e)?e:void 0}var n=S0(t);if(n!=null)return[n,n]}function Ks(t){return t.map(S0).filter(Tee)}function xle(t,e,n){return!n||typeof e!="number"||Qa(e)?[]:n.length?Ks(n.flatMap(r=>{var i=cr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Jt(s)||!Jt(l)))return[e-s,e+l]})):[]}var jn=t=>{var e=Rn(t),n=Jd(t);return Xm(t,e,n)},Zm=le([jn],t=>t?.dataKey),_le=le([VL,cL,jn],RL),HL=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=r?[...d].reverse():d,m=f.map(mA);return[c,{stackedData:Hne(t,m,n),graphicalItems:f}]}))},UE=le([_le,VL,Zv,AL],HL),GL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=Xne(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},wle=le([Ir],t=>t.allowDataOverflow),vA=t=>{var e;if(t==null||!("domain"in t))return BE;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ks(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:BE},KL=le([Ir],vA),YL=le([KL,wle],uL),Ele=le([UE,eo,Pn,YL],GL,{memoizeOptions:{resultEqualityCheck:rb}}),bA=t=>t.errorBars,Sle=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>$L(n,r)),Ly=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},WL=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(k=>$L(i,k)),b=cr(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),_=xle(c,b,p);if(_.length>=2){var w=Math.min(..._),E=Math.max(..._);(s==null||w<s)&&(s=w),(l==null||E>l)&&(l=E)}var S=Jj(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=Jj(cr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Jt(s)&&Jt(l))return[s,l]},Tle=le([yA,Ir,vle,bA,Pn],WL,{memoizeOptions:{resultEqualityCheck:rb}});function Ale(t){var{value:e}=t;if(Za(e)||e instanceof Date)return e}var Ile=(t,e,n)=>{var r=t.map(Ale).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&u6(r))?I9(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},XL=t=>t.referenceElements.dots,ef=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),kle=le([XL,Pn,tb],ef),QL=t=>t.referenceElements.areas,Cle=le([QL,Pn,tb],ef),ZL=t=>t.referenceElements.lines,Nle=le([ZL,Pn,tb],ef),JL=(t,e)=>{if(t!=null){var n=Ks(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ole=le(kle,Pn,JL),eV=(t,e)=>{if(t!=null){var n=Ks(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ple=le([Cle,Pn],eV);function Rle(t){var e;if(t.x!=null)return Ks([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ks(n)}function jle(t){var e;if(t.y!=null)return Ks([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ks(n)}var tV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Rle(r):jle(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Mle=le([Nle,Pn],tV),Dle=le(Ole,Mle,Ple,(t,e,n)=>Ly(t,n,e)),nV=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?Ly(r,s,i):Ly(s,i);return Koe(e,f,t.allowDataOverflow)},zle=le([Ir,KL,YL,Ele,Tle,Dle,Et,Pn],nV,{memoizeOptions:{resultEqualityCheck:rb}}),Lle=[0,1],rV=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=Uc(e,s);if(f&&c==null){var m;return I9(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?Ile(r,t,f):i==="expand"?Lle:l}},xA=le([Ir,Et,yA,ab,Zv,Pn,zle],rV),iV=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Vm(s));return c in Ah?c:"point"}}},Jm=le([Ir,Et,DL,lA,Pn],iV);function Vle(t){if(t!=null){if(t in Ah)return Ah[t]();var e="scale".concat(Vm(t));if(e in Ah)return Ah[e]()}}function _A(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Vle(e);if(i!=null){var s=i.domain(n).range(r);return Bne(s),s}}}var aV=(t,e,n)=>{var r=vA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(t))return nle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ul(t))return rle(t,e.tickCount,e.allowDecimals)}},wA=le([xA,Xm,Jm],aV),sV=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ul(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Ble=le([Ir,xA,wA,Pn],sV),Ule=le(ab,Ir,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ks(t.map(p=>p.value))).sort((p,b)=>p-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],f=r[c+1];if(!(d==null||f==null)){var m=f-d;n=Math.min(n,m)}}return n/l}}),oV=le(Ule,Et,TL,Hn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Jt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=ua(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Fle=(t,e,n)=>{var r=to(t,e);return r==null||typeof r.padding!="string"?0:oV(t,"xAxis",e,n,r.padding)},qle=(t,e,n)=>{var r=no(t,e);return r==null||typeof r.padding!="string"?0:oV(t,"yAxis",e,n,r.padding)},$le=le(to,Fle,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Hle=le(no,qle,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Gle=le([Hn,$le,Vv,Lv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Kle=le([Hn,Et,Hle,Vv,Lv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ep=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Gle(t,n,r);case"yAxis":return Kle(t,n,r);case"zAxis":return(i=pA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return NL(t);case"radiusAxis":return OL(t,n);default:return}},lV=le([Ir,ep],Jv),sb=le([Ir,Jm,Ble,lV],_A);le([Qm,bA,Pn],Sle);function cV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ob=(t,e)=>e,lb=(t,e,n)=>n,Yle=le(Dv,ob,lb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(cV)),Wle=le(zv,ob,lb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(cV)),uV=(t,e)=>({width:t.width,height:e.height}),Xle=(t,e)=>{var n=typeof e.width=="number"?e.width:qm;return{width:n,height:t.height}},dV=le(Hn,to,uV),Qle=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Zle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Jle=le(Zs,Hn,Yle,ob,lb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=uV(e,c);l==null&&(l=Qle(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),ece=le(Qs,Hn,Wle,ob,lb,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=Xle(e,c);l==null&&(l=Zle(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),tce=(t,e)=>{var n=to(t,e);if(n!=null)return Jle(t,n.orientation,n.mirror)},nce=le([Hn,to,tce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),rce=(t,e)=>{var n=no(t,e);if(n!=null)return ece(t,n.orientation,n.mirror)},ice=le([Hn,no,rce,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),fV=le(Hn,no,(t,e)=>{var n=typeof e.width=="number"?e.width:qm;return{width:n,height:t.height}}),eM=(t,e,n)=>{switch(e){case"xAxis":return dV(t,n).width;case"yAxis":return fV(t,n).height;default:return}},hV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=Uc(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&u6(d))return d}},EA=le([Et,ab,Ir,Pn],hV),mV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Uc(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},SA=le([Et,ab,Xm,Pn],mV);le([Et,gle,Jm,sb,EA,SA,ep,wA,Pn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=Uc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}});var ace=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=Uc(t,d),{type:m,ticks:p,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/_:0;w=d==="angleAxis"&&s!=null&&s.length>=2?si(s[0]-s[1])*2*w:w;var E=p||i;if(E){var S=E.map((k,j)=>{var N=l?l.indexOf(k):k;return{index:j,coordinate:r(N)+w,value:k,offset:w}});return S.filter(k=>Jt(k.coordinate))}return f&&c?c.map((k,j)=>({coordinate:r(k)+w,value:k,index:j,offset:w})).filter(k=>Jt(k.coordinate)):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,j)=>({coordinate:r(k)+w,value:l?l[k]:k,index:j,offset:w}))}},pV=le([Et,Xm,Jm,sb,wA,ep,EA,SA,Pn],ace),sce=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Uc(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?si(r[0]-r[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},Rd=le([Et,Xm,sb,ep,EA,SA,Pn],sce),jd=le(Ir,sb,(t,e)=>{if(!(t==null||e==null))return zy(zy({},t),{},{scale:e})}),oce=le([Ir,Jm,xA,lV],_A);le((t,e,n)=>pA(t,n),oce,(t,e)=>{if(!(t==null||e==null))return zy(zy({},t),{},{scale:e})});var lce=le([Et,Dv,zv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gV=t=>t.options.defaultTooltipEventType,yV=t=>t.options.validateTooltipEventTypes;function vV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function TA(t,e){var n=gV(t),r=yV(t);return vV(e,n,r)}function cce(t){return He(e=>TA(e,t))}var bV=(t,e)=>{var n,r=Number(e);if(!(Qa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},uce=t=>t.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},dce={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},xV=Ur({name:"tooltip",initialState:dce,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ht()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ht()},removeTooltipEntrySettings:{reducer(t,e){var n=ca(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ht()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:fce,replaceTooltipEntrySettings:hce,removeTooltipEntrySettings:mce,setTooltipSettingsState:pce,setActiveMouseOverItemIndex:_V,mouseLeaveItem:gce,mouseLeaveChart:wV,setActiveClickItemIndex:yce,setMouseOverAxisIndex:EV,setMouseClickAxisIndex:vce,setSyncInteraction:FE,setKeyboardInteraction:qE}=xV.actions,bce=xV.reducer;function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ece(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Sce(t){return t.index!=null}var SV=(t,e,n,r)=>{if(e==null)return Yo;var i=Ece(t,e,n);if(i==null)return Yo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Sce(i)){if(s)return Jg(Jg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Jg(Jg({},Yo),{},{coordinate:i.coordinate})};function Tce(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Ace(t,e){var n=Tce(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Ice(t,e,n){if(n==null||e==null)return!0;var r=cr(t,e);return r==null||!ul(n)?!0:Ace(r,n)}var AA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Jt(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(l,Math.min(s,c)),f=e[d];return f==null||Ice(f,n,r)?String(d):null},TV=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=i?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:m.coordinate}}},AV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},tp=t=>t.options.tooltipPayloadSearcher,tf=t=>t.tooltip;function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){return t??e}var IV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((b,_)=>{var w,{dataDefinedOnItem:E,settings:S}=_,k=Oce(E,c),j=Array.isArray(k)?n9(k,f,m):k,N=(w=S?.dataKey)!==null&&w!==void 0?w:r,D=S?.nameKey,R;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?R=See(j,r,i):R=s(j,e,d,D),Array.isArray(R))R.forEach(P=>{var O=rM(rM({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(lR({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:cr(P.payload,P.dataKey),name:P.name}))});else{var z;b.push(lR({tooltipEntrySettings:S,dataKey:N,payload:R,value:cr(R,N),name:(z=cr(R,D))!==null&&z!==void 0?z:S?.name}))}return b},p)}},IA=le([jn,Et,DL,lA,Rn],iV),Pce=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Rce=le([Rn,Jd],zL),nf=le([Pce,jn,Rce],LL,{memoizeOptions:{resultEqualityCheck:ib}}),jce=le([nf],t=>t.filter(nb)),Mce=le([nf],UL,{memoizeOptions:{resultEqualityCheck:ib}}),rf=le([Mce,eo],FL),Dce=le([jce,eo,jn],RL),kA=le([rf,jn,nf],qL),kV=le([jn],vA),zce=le([jn],t=>t.allowDataOverflow),CV=le([kV,zce],uL),Lce=le([nf],t=>t.filter(nb)),Vce=le([Dce,Lce,Zv,AL],HL),Bce=le([Vce,eo,Rn,CV],GL),Uce=le([nf],BL),Fce=le([rf,jn,Uce,bA,Rn],WL,{memoizeOptions:{resultEqualityCheck:rb}}),qce=le([XL,Rn,Jd],ef),$ce=le([qce,Rn],JL),Hce=le([QL,Rn,Jd],ef),Gce=le([Hce,Rn],eV),Kce=le([ZL,Rn,Jd],ef),Yce=le([Kce,Rn],tV),Wce=le([$ce,Yce,Gce],Ly),Xce=le([jn,kV,CV,Bce,Fce,Wce,Et,Rn],nV),np=le([jn,Et,rf,kA,Zv,Rn,Xce],rV),Qce=le([np,jn,IA],aV),Zce=le([jn,np,Qce,Rn],sV),NV=t=>{var e=Rn(t),n=Jd(t),r=!1;return ep(t,e,n,r)},OV=le([jn,NV],Jv),PV=le([jn,IA,Zce,OV],_A),Jce=le([Et,kA,jn,Rn],hV),eue=le([Et,kA,jn,Rn],mV),tue=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=Uc(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?si(i[0]-i[1])*2*p:p,f&&l?l.map((b,_)=>({coordinate:r(b)+p,value:b,index:_,offset:p})):r.domain().map((b,_)=>({coordinate:r(b)+p,value:s?s[b]:b,index:_,offset:p}))}}},ro=le([Et,jn,IA,PV,NV,Jce,eue,Rn],tue),CA=le([gV,yV,uce],(t,e,n)=>vV(n.shared,t,e)),RV=t=>t.tooltip.settings.trigger,NA=t=>t.tooltip.settings.defaultIndex,rp=le([tf,CA,RV,NA],SV),Md=le([rp,rf,Zm,np],AA),jV=le([ro,Md],bV),MV=le([rp],t=>{if(t)return t.dataKey});le([rp],t=>{if(t)return t.graphicalItemId});var DV=le([tf,CA,RV,NA],AV),nue=le([Qs,Zs,Et,Hn,ro,NA,DV,tp],TV),rue=le([rp,nue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),iue=le([rp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),aue=le([DV,Md,eo,Zm,jV,tp,CA],IV);le([aue],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return(e=oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=lue(t,"string");return typeof e=="symbol"?e:e+""}function lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=()=>He(jn),uue=()=>{var t=cue(),e=He(ro),n=He(PV);return vy(!t||!n?void 0:aM(aM({},t),{},{scale:n}),e)};function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mue=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},pue=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Uu(Uu(Uu({},r),lr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Uu(Uu(Uu({},r),lr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var zV=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,m,p,b,_=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,w=(m=n[c])===null||m===void 0?void 0:m.coordinate,E=c>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(_==null||w==null||E==null))if(si(w-_)!==si(E-w)){var k=[];if(si(E-w)===si(i[1]-i[0])){S=E;var j=w+i[1]-i[0];k[0]=Math.min(j,(j+_)/2),k[1]=Math.max(j,(j+_)/2)}else{S=_;var N=E+i[1]-i[0];k[0]=Math.min(w,(N+w)/2),k[1]=Math.max(w,(N+w)/2)}var D=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>D[0]&&t<=D[1]||t>=k[0]&&t<=k[1]){var R;return(R=n[c])===null||R===void 0?void 0:R.index}}else{var z=Math.min(_,E),P=Math.max(_,E);if(t>(z+w)/2&&t<=(P+w)/2){var O;return(O=n[c])===null||O===void 0?void 0:O.index}}}else if(e)for(var V=0;V<l;V++){var q=e[V];if(q!=null){var L=e[V+1],F=e[V-1];if(V===0&&L!=null&&t<=(q.coordinate+L.coordinate)/2||V===l-1&&F!=null&&t>(q.coordinate+F.coordinate)/2||V>0&&V<l-1&&F!=null&&L!=null&&t>(q.coordinate+F.coordinate)/2&&t<=(q.coordinate+L.coordinate)/2)return q.index}}return-1},yue=()=>He(lA),OA=(t,e)=>e,LV=(t,e,n)=>n,PA=(t,e,n,r)=>r,vue=le(ro,t=>Av(t,e=>e.coordinate)),RA=le([tf,OA,LV,PA],SV),jA=le([RA,rf,Zm,np],AA),bue=(t,e,n)=>{if(e!=null){var r=tf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},VV=le([tf,OA,LV,PA],AV),Vy=le([Qs,Zs,Et,Hn,ro,PA,VV,tp],TV),xue=le([RA,Vy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),BV=le([ro,jA],bV),_ue=le([VV,jA,eo,Zm,BV,tp,OA],IV),wue=le([RA,jA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Eue=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&gue(t,l)){var c=Qne(t,e),d=zV(c,s,i,n,r),f=mue(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Sue=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=lae(t,n);if(c){var d=Zne(c,e),f=zV(d,l,s,r,i),m=pue(e,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Tue=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Eue(t,e,r,i,s,l,c):Sue(t,e,n,r,i,s,l)},Aue=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Iue=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Vr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:dle}});function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oue={},Pue={zIndexMap:Object.values(Vr).reduce((t,e)=>lM(lM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Oue)},Rue=new Set(Object.values(Vr));function jue(t){return Rue.has(t)}var UV=Ur({name:"zIndex",initialState:Pue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ht()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!jue(n)&&delete t.zIndexMap[n])},prepare:Ht()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ht()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Ht()}}}),{registerZIndexPortal:Mue,unregisterZIndexPortal:Due,registerZIndexPortalElement:zue,unregisterZIndexPortalElement:Lue}=UV.actions,Vue=UV.reducer;function bl(t){var{zIndex:e,children:n}=t,r=Rre(),i=r&&e!==void 0&&e!==0,s=mi(),l=fn();T.useLayoutEffect(()=>i?(l(Mue({zIndex:e})),()=>{l(Due({zIndex:e}))}):Bm,[l,e,i]);var c=He(d=>Aue(d,e,s));return i?c?lS.createPortal(n,c):null:n}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bue(t,e,n){return(e=Uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function que(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function $ue(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,b=r,_=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var w,E,S;if(m==="ScatterChart")w=p,E=_ie,S=Vr.cursorLine;else if(m==="BarChart")w=wie(c,p,s,l),E=E9,S=Vr.cursorRectangle;else if(c==="radial"&&h6(p)){var{cx:k,cy:j,radius:N,startAngle:D,endAngle:R}=S9(p);w={cx:k,cy:j,startAngle:D,endAngle:R,innerRadius:N,outerRadius:N},E=A9,S=Vr.cursorLine}else w={points:fae(c,p,s)},E=v9,S=Vr.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,P=e0(e0(e0(e0({stroke:"#ccc",pointerEvents:"none"},s),w),pT(d)),{},{payload:b,payloadIndex:_,className:Se("recharts-tooltip-cursor",z)});return T.createElement(bl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},T.createElement(que,{cursor:d,cursorComp:E,cursorProps:P}))}function Hue(t){var e=uue(),n=Nre(),r=$m(),i=yue();return e==null||n==null||r==null||i==null?null:T.createElement($ue,$E({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var FV=T.createContext(null),Gue=()=>T.useContext(FV),tw={exports:{}},uM;function Kue(){return uM||(uM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||d,b),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],_]:d._events[w].push(_):(d._events[w]=_,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,_=p.length,w=new Array(_);b<_;b++)w[b]=p[b].fn;return w},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,b,_,w){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],k=arguments.length,j,N;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,b),!0;case 5:return S.fn.call(S.context,m,p,b,_),!0;case 6:return S.fn.call(S.context,m,p,b,_,w),!0}for(N=1,j=new Array(k-1);N<k;N++)j[N-1]=arguments[N];S.fn.apply(S.context,j)}else{var D=S.length,R;for(N=0;N<D;N++)switch(S[N].once&&this.removeListener(f,S[N].fn,void 0,!0),k){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,m);break;case 3:S[N].fn.call(S[N].context,m,p);break;case 4:S[N].fn.call(S[N].context,m,p,b);break;default:if(!j)for(R=1,j=new Array(k-1);R<k;R++)j[R-1]=arguments[R];S[N].fn.apply(S[N].context,j)}}return!0},c.prototype.on=function(f,m,p){return s(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return s(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,b){var _=n?n+f:f;if(!this._events[_])return this;if(!m)return l(this,_),this;var w=this._events[_];if(w.fn)w.fn===m&&(!b||w.once)&&(!p||w.context===p)&&l(this,_);else{for(var E=0,S=[],k=w.length;E<k;E++)(w[E].fn!==m||b&&!w[E].once||p&&w[E].context!==p)&&S.push(w[E]);S.length?this._events[_]=S.length===1?S[0]:S:l(this,_)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(tw)),tw.exports}var Yue=Kue();const Wue=es(Yue);var ym=new Wue,HE="recharts.syncEvent.tooltip",dM="recharts.syncEvent.brush";function Xue(t,e){if(e){var n=Number.parseInt(e,10);if(!Qa(n))return t?.[n]}}var Que={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qV=Ur({name:"options",initialState:Que,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zue=qV.reducer,{createEventEmitter:Jue}=qV.actions;function ede(t){return t.tooltip.syncInteraction}var tde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$V=Ur({name:"chartData",initialState:tde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fM,setDataStartEndIndexes:nde,setComputedData:$ye}=$V.actions,rde=$V.reducer,ide=["x","y"];function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return(e=sde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return typeof e=="symbol"?e:e+""}function ode(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lde(t,e){if(t==null)return{};var n,r,i=cde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ude(){var t=He(cA),e=He(uA),n=fn(),r=He(IL),i=He(ro),s=$m(),l=Bv(),c=He(d=>d.rootProps.className);T.useEffect(()=>{if(t==null)return Bm;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:w,y:E}=_,S=lde(_,ide),{x:k,y:j,width:N,height:D}=m.payload.sourceViewBox,R=Fu(Fu({},S),{},{x:l.x+(N?(w-k)/N:0)*l.width,y:l.y+(D?(E-j)/D:0)*l.height});n(Fu(Fu({},m),{},{payload:Fu(Fu({},m.payload),{},{coordinate:R})}))}else n(m);return}if(i!=null){var z;if(typeof r=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=r(i,P);z=i[O]}else r==="value"&&(z=i.find(Y=>String(Y.value)===m.payload.label));var{coordinate:V}=m.payload;if(z==null||m.payload.active===!1||V==null||l==null){n(FE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:L}=V,F=Math.min(q,l.x+l.width),U=Math.min(L,l.y+l.height),be={x:s==="horizontal"?z.coordinate:F,y:s==="horizontal"?U:z.coordinate},Ee=FE({active:m.payload.active,coordinate:be,dataKey:m.payload.dataKey,index:String(z.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Ee)}}};return ym.on(HE,d),()=>{ym.off(HE,d)}},[c,n,e,t,r,i,s,l])}function dde(){var t=He(cA),e=He(uA),n=fn();T.useEffect(()=>{if(t==null)return Bm;var r=(i,s,l)=>{e!==l&&t===i&&n(nde(s))};return ym.on(dM,r),()=>{ym.off(dM,r)}},[n,e,t])}function fde(){var t=fn();T.useEffect(()=>{t(Jue())},[t]),ude(),dde()}function hde(t,e,n,r,i,s){var l=He(_=>bue(_,t,e)),c=He(uA),d=He(cA),f=He(IL),m=He(ede),p=m?.active,b=Bv();T.useEffect(()=>{if(!p&&d!=null&&c!=null){var _=FE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});ym.emit(HE,d,_,c)}},[p,n,l,i,r,c,d,f,s,b])}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mde(t,e,n){return(e=pde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yde(t){return t.dataKey}function vde(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(eie,e)}var gM=[],bde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HV(t){var e,n,r=Vi(t,bde),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:b,position:_,reverseDirection:w,useTranslate3d:E,wrapperStyle:S,cursor:k,shared:j,trigger:N,defaultIndex:D,portal:R,axisId:z}=r,P=fn(),O=typeof D=="number"?String(D):D;T.useEffect(()=>{P(pce({shared:j,trigger:N,axisId:z,active:i,defaultIndex:O}))},[P,j,N,z,i,O]);var V=Bv(),q=y9(),L=cce(j),{activeIndex:F,isActive:U}=(e=He(we=>wue(we,L,N,O)))!==null&&e!==void 0?e:{},be=He(we=>_ue(we,L,N,O)),Ee=He(we=>BV(we,L,N,O)),Y=He(we=>xue(we,L,N,O)),re=be,$=Gue(),oe=(n=i??U)!==null&&n!==void 0?n:!1,[_e,H]=Mte([re,oe]),ne=L==="axis"?Ee:void 0;hde(L,N,Y,ne,F,oe);var ie=R??$;if(ie==null||V==null||L==null)return null;var ue=re??gM;oe||(ue=gM),f&&ue.length&&(ue=ote(ue.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,yde));var ge=ue.length>0,ke=T.createElement(oie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:oe,coordinate:Y,hasPayload:ge,offset:p,position:_,reverseDirection:w,useTranslate3d:E,viewBox:V,wrapperStyle:S,lastBoundingBox:_e,innerRef:H,hasPortalFromProps:!!R},vde(d,pM(pM({},r),{},{payload:ue,label:ne,active:oe,activeIndex:F,coordinate:Y,accessibilityLayer:q})));return T.createElement(T.Fragment,null,lS.createPortal(ke,ie),oe&&T.createElement(Hue,{cursor:k,tooltipEventType:L,coordinate:Y,payload:ue,index:F}))}var cb=t=>null;cb.displayName="Cell";function xde(t,e,n){return(e=_de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=wde(t,"string");return typeof e=="symbol"?e:e+""}function wde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ede{constructor(e){xde(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return(e=Ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kde={cacheSize:2e3,enableCache:!0},GV=Sde({},kde),vM=new Ede(GV.cacheSize),Cde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bM="recharts_measurement_span";function Nde(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var xM=(t,e)=>{try{var n=document.getElementById(bM);n||(n=document.createElement("span"),n.setAttribute("id",bM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Cde,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Hv.isSsr)return{width:0,height:0};if(!GV.enableCache)return xM(e,n);var r=Nde(e,n),i=vM.get(r);if(i)return i;var s=xM(e,n);return vM.set(r,s),s},KV;function Ode(t,e,n){return(e=Pde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pde(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _M=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zde=["cm","mm","pt","pc","in","Q","px"];function Lde(t){return zde.includes(t)}var Qu="NaN";function Vde(t,e){return t*Dde[e]}class ar{static parse(e){var n,[,r,i]=(n=Mde.exec(e))!==null&&n!==void 0?n:[];return r==null?ar.NaN:new ar(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Qa(e)&&(this.unit=""),n!==""&&!jde.test(n)&&(this.num=NaN,this.unit=""),Lde(n)&&(this.num=Vde(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ar(NaN,""):new ar(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ar(NaN,""):new ar(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qa(this.num)}}KV=ar;Ode(ar,"NaN",new KV(NaN,""));function YV(t){if(t==null||t.includes(Qu))return Qu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=_M.exec(e))!==null&&n!==void 0?n:[],l=ar.parse(r??""),c=ar.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Qu;e=e.replace(_M,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,b]=(f=wM.exec(e))!==null&&f!==void 0?f:[],_=ar.parse(m??""),w=ar.parse(b??""),E=p==="+"?_.add(w):_.subtract(w);if(E.isNaN())return Qu;e=e.replace(wM,E.toString())}return e}var EM=/\(([^()]*)\)/;function Bde(t){for(var e=t,n;(n=EM.exec(e))!=null;){var[,r]=n;e=e.replace(EM,YV(r))}return e}function Ude(t){var e=t.replace(/\s+/g,"");return e=Bde(e),e=YV(e),e}function Fde(t){try{return Ude(t)}catch{return Qu}}function nw(t){var e=Fde(t.slice(5,-1));return e===Qu?"":e}var qde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$de=["dx","dy","angle","className","breakAll"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function SM(t,e){if(t==null)return{};var n,r,i=Hde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WV=/[ \f\n\r\t\v\u2028\u2029]+/,XV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(WV));var s=i.map(c=>({word:c,width:Vh(c,r).width})),l=n?0:Vh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Gde(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var QV=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),ZV=t=>t.reduce((e,n)=>e.width>n.width?e:n),Kde="",TM=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=XV({breakAll:n,style:r,children:d+Kde});if(!f)return[!1,[]];var m=QV(f.wordsWithComputedWidth,s,l,c),p=m.length>i||ZV(m).width>Number(s);return[p,m]},Yde=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=Fe(s),m=String(l),p=QV(e,r,n,i);if(!f||i)return p;var b=p.length>s||ZV(p).width>Number(r);if(!b)return p;for(var _=0,w=m.length-1,E=0,S;_<=w&&E<=m.length-1;){var k=Math.floor((_+w)/2),j=k-1,[N,D]=TM(m,j,d,c,s,r,n,i),[R]=TM(m,k,d,c,s,r,n,i);if(!N&&!R&&(_=k+1),N&&R&&(w=k-1),!N&&R){S=D;break}E++}return S||p},AM=t=>{var e=$n(t)?[]:t.toString().split(WV);return[{words:e,width:void 0}]},Wde=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Hv.isSsr){var c,d,f=XV({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return AM(r);return Yde({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return AM(r)},JV="#808080",Xde={angle:0,breakAll:!1,capHeight:"0.71em",fill:JV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},MA=T.forwardRef((t,e)=>{var n=Vi(t,Xde),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=SM(n,qde),b=T.useMemo(()=>Wde({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:_,dy:w,angle:E,className:S,breakAll:k}=p,j=SM(p,$de);if(!Za(r)||!Za(i)||b.length===0)return null;var N=Number(r)+(Fe(_)?_:0),D=Number(i)+(Fe(w)?w:0);if(!Jt(N)||!Jt(D))return null;var R;switch(m){case"start":R=nw("calc(".concat(l,")"));break;case"middle":R=nw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:R=nw("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var P=b[0].width,{width:O}=p;z.push("scale(".concat(Fe(O)&&Fe(P)?O/P:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(N,", ").concat(D,")")),z.length&&(j.transform=z.join(" ")),T.createElement("text",GE({},Di(j),{ref:e,x:N,y:D,className:Se("recharts-text",S),textAnchor:f,fill:c.includes("url")?JV:c}),b.map((V,q)=>{var L=V.words.join(k?"":" ");return T.createElement("tspan",{x:N,dy:q===0?R:s,key:"".concat(L,"-").concat(q)},L)}))});MA.displayName="Text";var Qde=["labelRef"],Zde=["content"];function IM(t,e){if(t==null)return{};var n,r,i=Jde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function efe(t,e,n){return(e=tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return typeof e=="symbol"?e:e+""}function nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(null,arguments)}var e8=T.createContext(null),rfe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return T.createElement(e8.Provider,{value:d},c)},t8=()=>{var t=T.useContext(e8),e=Bv();return t||c9(e)},ife=T.createContext(null),afe=()=>{var t=T.useContext(ife),e=He(PL);return t||e},sfe=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},DA=t=>t!=null&&typeof t=="function",ofe=(t,e)=>{var n=si(e-t),r=Math.min(Math.abs(e-t),360);return n*r},lfe=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:b,clockWise:_}=i,w=(f+m)/2,E=ofe(p,b),S=E>=0?1:-1,k,j;switch(e){case"insideStart":k=p+S*s,j=_;break;case"insideEnd":k=b-S*s,j=!_;break;case"end":k=b+S*s,j=_;break;default:throw new Error("Unsupported position ".concat(e))}j=E<=0?j:!j;var N=lr(c,d,w,k),D=lr(c,d,w,k+(j?1:-1)*359),R="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(D.x,",").concat(D.y),z=$n(t.id)?im("recharts-radial-line-"):t.id;return T.createElement("text",As({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:z,d:R})),T.createElement("textPath",{xlinkHref:"#".concat(z)},n))},cfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=lr(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:w}=lr(r,i,b,f);return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},KE=t=>"cx"in t&&Fe(t.cx),ufe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!KE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,b=l+(d-f)/2,_=(p+b)/2,w=(d+f)/2,E=p+d/2,S=m>=0?1:-1,k=S*r,j=S>0?"end":"start",N=S>0?"start":"end",D=d>=0?1:-1,R=D*r,z=D>0?"end":"start",P=D>0?"start":"end";if(i==="top"){var O={x:p+d/2,y:c-k,textAnchor:"middle",verticalAnchor:j};return cn(cn({},O),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var V={x:b+f/2,y:c+m+k,textAnchor:"middle",verticalAnchor:N};return cn(cn({},V),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(i==="left"){var q={x:_-R,y:c+m/2,textAnchor:z,verticalAnchor:"middle"};return cn(cn({},q),s?{width:Math.max(q.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:_+w+R,y:c+m/2,textAnchor:P,verticalAnchor:"middle"};return cn(cn({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var F=s?{width:w,height:m}:{};return i==="insideLeft"?cn({x:_+R,y:c+m/2,textAnchor:P,verticalAnchor:"middle"},F):i==="insideRight"?cn({x:_+w-R,y:c+m/2,textAnchor:z,verticalAnchor:"middle"},F):i==="insideTop"?cn({x:p+d/2,y:c+k,textAnchor:"middle",verticalAnchor:N},F):i==="insideBottom"?cn({x:b+f/2,y:c+m-k,textAnchor:"middle",verticalAnchor:j},F):i==="insideTopLeft"?cn({x:p+R,y:c+k,textAnchor:P,verticalAnchor:N},F):i==="insideTopRight"?cn({x:p+d-R,y:c+k,textAnchor:z,verticalAnchor:N},F):i==="insideBottomLeft"?cn({x:b+R,y:c+m-k,textAnchor:P,verticalAnchor:j},F):i==="insideBottomRight"?cn({x:b+f-R,y:c+m-k,textAnchor:z,verticalAnchor:j},F):i&&typeof i=="object"&&(Fe(i.x)||Fs(i.x))&&(Fe(i.y)||Fs(i.y))?cn({x:l+ua(i.x,w),y:c+ua(i.y,m),textAnchor:"end",verticalAnchor:"end"},F):cn({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},dfe={angle:0,offset:5,zIndex:Vr.label,position:"middle",textBreakAll:!1};function qo(t){var e=Vi(t,dfe),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=afe(),p=t8(),b=r==="center"?p:m??p,_,w,E;if(n==null?_=b:KE(n)?_=n:_=c9(n),!_||$n(i)&&$n(s)&&!T.isValidElement(l)&&typeof l!="function")return null;var S=cn(cn({},e),{},{viewBox:_});if(T.isValidElement(l)){var{labelRef:k}=S,j=IM(S,Qde);return T.cloneElement(l,j)}if(typeof l=="function"){var{content:N}=S,D=IM(S,Zde);if(w=T.createElement(l,D),T.isValidElement(w))return w}else w=sfe(e);var R=Di(e);if(KE(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return lfe(e,r,w,R,_);E=cfe(_,e.offset,e.position)}else E=ufe(e,_);return T.createElement(bl,{zIndex:e.zIndex},T.createElement(MA,As({ref:f,className:Se("recharts-label",c)},R,E,{textAnchor:Gde(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:d}),w))}qo.displayName="Label";var ffe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(qo,As({key:"label-implicit"},r)):Za(t)?T.createElement(qo,As({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===qo?T.cloneElement(t,cn({key:"label-implicit"},r)):T.createElement(qo,As({key:"label-implicit",content:t},r)):DA(t)?T.createElement(qo,As({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(qo,As({},t,{key:"label-implicit"},r)):null};function hfe(t){var{label:e,labelRef:n}=t,r=t8();return ffe(e,r,n)||null}var rw={},iw={},CM;function mfe(){return CM||(CM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(iw)),iw}var aw={},NM;function pfe(){return NM||(NM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(aw)),aw}var OM;function gfe(){return OM||(OM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mfe(),n=pfe(),r=ET();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(rw)),rw}var sw,PM;function yfe(){return PM||(PM=1,sw=gfe().last),sw}var vfe=yfe();const bfe=es(vfe);var xfe=["valueAccessor"],_fe=["dataKey","clockWise","id","textBreakAll","zIndex"];function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}function RM(t,e){if(t==null)return{};var n,r,i=wfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Efe=t=>Array.isArray(t.value)?bfe(t.value):t.value,n8=T.createContext(void 0),Sfe=n8.Provider,r8=T.createContext(void 0);r8.Provider;function Tfe(){return T.useContext(n8)}function Afe(){return T.useContext(r8)}function T0(t){var{valueAccessor:e=Efe}=t,n=RM(t,xfe),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=RM(n,_fe),f=Tfe(),m=Afe(),p=f||m;return!p||!p.length?null:T.createElement(bl,{zIndex:c??Vr.label},T.createElement(Us,{className:"recharts-label-list"},p.map((b,_)=>{var w,E=$n(r)?e(b,_):cr(b&&b.payload,r),S=$n(s)?{}:{id:"".concat(s,"-").concat(_)};return T.createElement(qo,By({key:"label-".concat(_)},Di(b),d,S,{fill:(w=n.fill)!==null&&w!==void 0?w:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}T0.displayName="LabelList";function Ife(t){var{label:e}=t;return e?e===!0?T.createElement(T0,{key:"labelList-implicit"}):T.isValidElement(e)||DA(e)?T.createElement(T0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(T0,By({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var kfe={radiusAxis:{},angleAxis:{}},i8=Ur({name:"polarAxis",initialState:kfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Hye,removeRadiusAxis:Gye,addAngleAxis:Kye,removeAngleAxis:Yye}=i8.actions,Cfe=i8.reducer,ow={exports:{}},kt={};var jM;function Nfe(){if(jM)return kt;jM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return S}}case e:return S}}}return kt.ContextConsumer=s,kt.ContextProvider=l,kt.Element=t,kt.ForwardRef=c,kt.Fragment=n,kt.Lazy=p,kt.Memo=m,kt.Portal=e,kt.Profiler=i,kt.StrictMode=r,kt.Suspense=d,kt.SuspenseList=f,kt.isContextConsumer=function(E){return w(E)===s},kt.isContextProvider=function(E){return w(E)===l},kt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},kt.isForwardRef=function(E){return w(E)===c},kt.isFragment=function(E){return w(E)===n},kt.isLazy=function(E){return w(E)===p},kt.isMemo=function(E){return w(E)===m},kt.isPortal=function(E){return w(E)===e},kt.isProfiler=function(E){return w(E)===i},kt.isStrictMode=function(E){return w(E)===r},kt.isSuspense=function(E){return w(E)===d},kt.isSuspenseList=function(E){return w(E)===f},kt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===_||E.getModuleId!==void 0)},kt.typeOf=w,kt}var MM;function Ofe(){return MM||(MM=1,ow.exports=Nfe()),ow.exports}var Pfe=Ofe(),DM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",zM=null,lw=null,a8=t=>{if(t===zM&&Array.isArray(lw))return lw;var e=[];return T.Children.forEach(t,n=>{$n(n)||(Pfe.isFragment(n)?e=e.concat(a8(n.props.children)):e.push(n))}),lw=e,zM=t,e};function Rfe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>DM(i)):r=[DM(e)],a8(t).forEach(i=>{var s=Id(i,"type.displayName")||Id(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var cw={},LM;function jfe(){return LM||(LM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(cw)),cw}var uw,VM;function Mfe(){return VM||(VM=1,uw=jfe().isPlainObject),uw}var Dfe=Mfe();const zfe=es(Dfe);var BM,UM,FM,qM,$M;function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lfe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(null,arguments)}function bh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var KM=(t,e,n,r,i)=>{var s=n-r,l;return l=nn(BM||(BM=bh(["M ",",",""])),t,e),l+=nn(UM||(UM=bh(["L ",",",""])),t+n,e),l+=nn(FM||(FM=bh(["L ",",",""])),t+n-s/2,e+i),l+=nn(qM||(qM=bh(["L ",",",""])),t+n-s/2-r,e+i),l+=nn($M||($M=bh(["L ",","," Z"])),t,e),l},Ufe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ffe=t=>{var e=Vi(t,Ufe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,b=T.useRef(null),[_,w]=T.useState(-1),E=T.useRef(i),S=T.useRef(s),k=T.useRef(l),j=T.useRef(n),N=T.useRef(r),D=DT(t,"trapezoid-");if(T.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var be=b.current.getTotalLength();be&&w(be)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var R=Se("recharts-trapezoid",c);if(!p)return T.createElement("g",null,T.createElement("path",Uy({},Di(e),{className:R,d:KM(n,r,i,s,l)})));var z=E.current,P=S.current,O=k.current,V=j.current,q=N.current,L="0px ".concat(_===-1?1:_,"px"),F="".concat(_,"px 0px"),U=b9(["strokeDasharray"],f,d);return T.createElement(MT,{animationId:D,key:D,canBegin:_>0,duration:f,easing:d,isActive:p,begin:m},be=>{var Ee=or(z,i,be),Y=or(P,s,be),re=or(O,l,be),$=or(V,n,be),oe=or(q,r,be);b.current&&(E.current=Ee,S.current=Y,k.current=re,j.current=$,N.current=oe);var _e=be>0?{transition:U,strokeDasharray:F}:{strokeDasharray:L};return T.createElement("path",Uy({},Di(e),{className:R,d:KM($,oe,Ee,Y,re),ref:b,style:GM(GM({},_e),e.style)}))})},qfe=["option","shapeType","activeClassName"];function $fe(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t,e){return Fy(Fy({},e),t)}function Xfe(t,e){return t==="symbols"}function WM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(E9,n);case"trapezoid":return T.createElement(Ffe,n);case"sector":return T.createElement(A9,n);case"symbols":if(Xfe(e))return T.createElement(f6,n);break;case"curve":return T.createElement(v9,n);default:return null}}function Qfe(t){return T.isValidElement(t)?t.props:t}function Zfe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=$fe(t,qfe),s;if(T.isValidElement(e))s=T.cloneElement(e,Fy(Fy({},i),Qfe(e)));else if(typeof e=="function")s=e(i,i.index);else if(zfe(e)&&typeof e!="boolean"){var l=Wfe(e,i);s=T.createElement(WM,{shapeType:n,elementProps:l})}else{var c=i;s=T.createElement(WM,{shapeType:n,elementProps:c})}return i.isActive?T.createElement(Us,{className:r},s):s}var s8=(t,e,n)=>{var r=fn();return(i,s)=>l=>{t?.(i,s,l),r(_V({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},o8=t=>{var e=fn();return(n,r)=>i=>{t?.(n,r,i),e(gce())}},l8=(t,e,n)=>{var r=fn();return(i,s)=>l=>{t?.(i,s,l),r(yce({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Jfe(t){var{tooltipEntrySettings:e}=t,n=fn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(fce(e)):i.current!==e&&n(hce({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(mce(i.current)),i.current=null)},[n]),null}function ehe(t){var{legendPayload:e}=t,n=fn(),r=mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Gre(e)):i.current!==e&&n(Kre({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Yre(i.current)),i.current=null)},[n]),null}var dw,the=()=>{var[t]=T.useState(()=>im("uid-"));return t},nhe=(dw=_U.useId)!==null&&dw!==void 0?dw:the;function rhe(t,e){var n=nhe();return e||(t?"".concat(t,"-").concat(n):n)}var ihe=T.createContext(void 0),ahe=t=>{var{id:e,type:n,children:r}=t,i=rhe("recharts-".concat(n),e);return T.createElement(ihe.Provider,{value:i},r(i))},she={cartesianItems:[],polarItems:[]},c8=Ur({name:"graphicalItems",initialState:she,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ht()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ht()},removeCartesianGraphicalItem:{reducer(t,e){var n=ca(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ht()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ht()},removePolarGraphicalItem:{reducer(t,e){var n=ca(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ht()}}}),{addCartesianGraphicalItem:ohe,replaceCartesianGraphicalItem:lhe,removeCartesianGraphicalItem:che,addPolarGraphicalItem:Wye,removePolarGraphicalItem:Xye}=c8.actions,uhe=c8.reducer,dhe=t=>{var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(ohe(t)):n.current!==t&&e(lhe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(che(n.current)),n.current=null)},[e]),null},fhe=T.memo(dhe);function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8=0,ghe={xAxis:{},yAxis:{},zAxis:{}},d8=Ur({name:"cartesianAxis",initialState:ghe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ht()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ht()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ht()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ht()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ht()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ht()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ht()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ht()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ht()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=QM(QM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:yhe,replaceXAxis:vhe,removeXAxis:bhe,addYAxis:xhe,replaceYAxis:_he,removeYAxis:whe,addZAxis:Qye,replaceZAxis:Zye,removeZAxis:Jye,updateYAxisWidth:Ehe}=d8.actions,She=d8.reducer,The=le([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Ahe=le([The,Qs,Zs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),f8=()=>He(Ahe),ZM=(t,e,n)=>{var r=n??t;if(!$n(r))return ua(r,e,0)},Ihe=(t,e,n)=>{var r={},i=t.filter(nb),s=t.filter(f=>f.stackId==null),l=i.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),c=Object.entries(l).map(f=>{var[m,p]=f,b=p.map(w=>w.dataKey),_=ZM(e,n,p[0].barSize);return{stackId:m,dataKeys:b,barSize:_}}),d=s.map(f=>{var m=[f.dataKey].filter(b=>b!=null),p=ZM(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ohe(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=ua(t,n,0,!0),c,d=[];if(Jt(r[0].barSize)){var f=!1,m=n/s,p=r.reduce((k,j)=>k+(j.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(f=!0,m*=.9,p=s*m);var b=(n-p)/2>>0,_={offset:b-l,size:0};c=r.reduce((k,j)=>{var N,D={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:_.offset+_.size+l,size:f?m:(N=j.barSize)!==null&&N!==void 0?N:0}},R=[...k,D];return _=R[R.length-1].position,R},d)}else{var w=ua(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var E=(n-2*w-(s-1)*l)/s;E>1&&(E>>=0);var S=Jt(i)?Math.min(E,i):E;c=r.reduce((k,j,N)=>[...k,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:w+(E+l)*N+(E-S)/2,size:S}}],d)}return c}}var Phe=(t,e,n,r,i,s,l)=>{var c=$n(l)?e:l,d=Ohe(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(f=>t0(t0({},f),{},{position:t0(t0({},f.position),{},{offset:f.position.offset-i/2})}))),d},Rhe=(t,e)=>{var n=mA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function jhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Jt(t.zIndex)?t.zIndex:e}var Mhe=t=>{var{chartData:e}=t,n=fn(),r=mi();return T.useEffect(()=>r?()=>{}:(n(fM(e)),()=>{n(fM(void 0))}),[e,n,r]),null},eD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},h8=Ur({name:"brush",initialState:eD,reducers:{setBrushSettings(t,e){return e.payload==null?eD:e.payload}}}),{setBrushSettings:eve}=h8.actions,Dhe=h8.reducer;function zhe(t,e,n){return(e=Lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=Vhe(t,"string");return typeof e=="symbol"?e:e+""}function Vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zA{static create(e){return new zA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}zhe(zA,"EPS",1e-4);function Bhe(t){return(t%180+180)%180}var Uhe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Bhe(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Fhe={dots:[],areas:[],lines:[]},m8=Ur({name:"referenceElements",initialState:Fhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ca(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ca(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ca(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tve,removeDot:nve,addArea:rve,removeArea:ive,addLine:ave,removeLine:sve}=m8.actions,qhe=m8.reducer,$he=T.createContext(void 0),Hhe=t=>{var{children:e}=t,[n]=T.useState("".concat(im("recharts"),"-clip")),r=f8();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return T.createElement($he.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function p8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Ghe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Uhe(r,n)}function Khe(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function vm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Yhe(t,e){return p8(t,e+1)}function Whe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var w=r?.[d];if(w===void 0)return{v:p8(r,f)};var E=d,S,k=()=>(S===void 0&&(S=n(w,E)),S),j=w.coordinate,N=d===0||vm(t,j,k,m,c);N||(d=0,m=l,f+=1),N&&(m=j+t*(k()/2+i),d+=f)},b;f<=s.length;)if(b=p(),b)return b.v;return[]}function Xhe(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:c,end:d}=e,f=1;f<=l;f++){for(var m=(l-1)%f,p=c,b=!0,_=function(){var j=r[w],N=w,D,R=()=>(D===void 0&&(D=n(j,N)),D),z=j.coordinate,P=w===m||vm(t,z,R,p,d);if(!P)return b=!1,1;P&&(p=z+t*(R()/2+i))},w=m;w<l&&!_();w+=f);if(b){for(var E=[],S=m;S<l;S+=f)E.push(r[S]);return E}}return[]}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eme(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var _=s[b],w,E=()=>(w===void 0&&(w=n(_,b)),w);if(b===l-1){var S=t*(_.coordinate+t*E()/2-d);s[b]=_=hr(hr({},_),{},{tickCoord:S>0?_.coordinate-S*t:_.coordinate})}else s[b]=_=hr(hr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var k=vm(t,_.tickCoord,E,c,d);k&&(d=_.tickCoord-t*(E()/2+i),s[b]=hr(hr({},_),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function tme(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var m=r[c-1],p=n(m,c-1),b=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=hr(hr({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var _=vm(t,m.tickCoord,()=>p,d,f);_&&(f=m.tickCoord-t*(p/2+i),l[c-1]=hr(hr({},m),{},{isShow:!0}))}}for(var w=s?c-1:c,E=function(j){var N=l[j],D,R=()=>(D===void 0&&(D=n(N,j)),D);if(j===0){var z=t*(N.coordinate-t*R()/2-d);l[j]=N=hr(hr({},N),{},{tickCoord:z<0?N.coordinate-z*t:N.coordinate})}else l[j]=N=hr(hr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var P=vm(t,N.tickCoord,R,d,f);P&&(d=N.tickCoord+t*(R()/2+i),l[j]=hr(hr({},N),{},{isShow:!0}))}},S=0;S<w;S++)E(S);return l}function nme(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Fe(d)||Hv.isSsr){var b;return(b=Yhe(i,Fe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],w=c==="top"||c==="bottom"?"width":"height",E=m&&w==="width"?Vh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(N,D)=>{var R=typeof f=="function"?f(N.value,D):N.value;return w==="width"?Ghe(Vh(R,{fontSize:e,letterSpacing:n}),E,p):Vh(R,{fontSize:e,letterSpacing:n})[w]},k=i.length>=2?si(i[1].coordinate-i[0].coordinate):1,j=Khe(s,k,w);return d==="equidistantPreserveStart"?Whe(k,j,S,i,l):d==="equidistantPreserveEnd"?Xhe(k,j,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=tme(k,j,S,i,l,d==="preserveStartEnd"):_=eme(k,j,S,i,l),_.filter(N=>N.isShow))}var rme=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},ime=["axisLine","width","height","className","hide","ticks","axisType"];function ame(t,e){if(t==null)return{};var n,r,i=sme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(null,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return(e=lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=cme(t,"string");return typeof e=="symbol"?e:e+""}function cme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vr.axis};function ume(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=wn(wn(wn({},d),ll(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=wn(wn({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=wn(wn({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return T.createElement("line",Dc({},f,{className:Se("recharts-cartesian-axis-line",Id(c,"className"))}))}function dme(t,e,n,r,i,s,l,c,d){var f,m,p,b,_,w,E=c?-1:1,S=t.tickSize||l,k=Fe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,b=n+ +!c*i,p=b-E*S,w=p-E*d,_=k;break;case"left":p=b=t.coordinate,m=e+ +!c*r,f=m-E*S,_=f-E*d,w=k;break;case"right":p=b=t.coordinate,m=e+ +c*r,f=m+E*S,_=f+E*d,w=k;break;default:f=m=t.coordinate,b=n+ +c*i,p=b+E*S,w=p+E*d,_=k;break}return{line:{x1:f,y1:p,x2:m,y2:b},tick:{x:_,y:w}}}function fme(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function hme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function mme(t){var{option:e,tickProps:n,value:r}=t,i,s=Se(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,wn(wn({},n),{},{className:s}));else if(typeof e=="function")i=e(wn(wn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Se(l,e?.className)),i=T.createElement(MA,Dc({},n,{className:l}),r)}return i}var pme=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:b,y:_,width:w,height:E,tickSize:S,tickMargin:k,fontSize:j,letterSpacing:N,getTicksConfig:D,events:R,axisType:z}=t,P=nme(wn(wn({},D),{},{ticks:n}),j,N),O=fme(m,p),V=hme(m,p),q=ll(D),L=pT(r),F={};typeof i=="object"&&(F=i);var U=wn(wn({},q),{},{fill:"none"},F),be=P.map(re=>wn({entry:re},dme(re,b,_,w,E,m,S,p,k))),Ee=be.map(re=>{var{entry:$,line:oe}=re;return T.createElement(Us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&T.createElement("line",Dc({},U,oe,{className:Se("recharts-cartesian-axis-tick-line",Id(i,"className"))})))}),Y=be.map((re,$)=>{var{entry:oe,tick:_e}=re,H=wn(wn(wn(wn({textAnchor:O,verticalAnchor:V},q),{},{stroke:"none",fill:s},L),_e),{},{index:$,payload:oe,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return T.createElement(Us,Dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},wT(R,oe,$)),r&&T.createElement(mme,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(oe.value,$):oe.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},Y.length>0&&T.createElement(bl,{zIndex:Vr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},Y)),Ee.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},Ee))}),gme=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=ame(t,ime),[m,p]=T.useState(""),[b,_]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return rme({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var j=k[0];if(j){var N=window.getComputedStyle(j),D=N.fontSize,R=N.letterSpacing;(D!==m||R!==b)&&(p(D),_(R))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(bl,{zIndex:t.zIndex},T.createElement(Us,{className:Se("recharts-cartesian-axis",s)},T.createElement(ume,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ll(t)}),T.createElement(pme,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(rfe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(hfe,{label:t.label,labelRef:t.labelRef}),t.children)))}),LA=T.forwardRef((t,e)=>{var n=Vi(t,xc);return T.createElement(gme,Dc({},n,{ref:e}))});LA.displayName="CartesianAxis";var yme={},g8=Ur({name:"errorBars",initialState:yme,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ove,replaceErrorBar:lve,removeErrorBar:cve}=g8.actions,vme=g8.reducer,bme=["children"];function xme(t,e){if(t==null)return{};var n,r,i=_me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Eme=T.createContext(wme);function Sme(t){var{children:e}=t,n=xme(t,bme);return T.createElement(Eme.Provider,{value:n},e)}function y8(t,e){var n,r,i=He(f=>to(f,t)),s=He(f=>no(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Vn.allowDataOverflow,c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Bn.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function Tme(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=f8(),{needClipX:s,needClipY:l,needClip:c}=y8(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?d:d-m/2,y:l?f:f-p/2,width:s?m:m*2,height:l?p:p*2}))}var fw={exports:{}},hw={};var rD;function Ame(){if(rD)return hw;rD=1;var t=Dd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return hw.useSyncExternalStoreWithSelector=function(d,f,m,p,b){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(R){if(!k){if(k=!0,j=R,R=p(R),b!==void 0&&w.hasValue){var z=w.value;if(b(z,R))return N=z}return N=R}if(z=N,n(j,R))return z;var P=p(R);return b!==void 0&&b(z,P)?(j=R,z):(j=R,N=P)}var k=!1,j,N,D=m===void 0?null:m;return[function(){return S(f())},D===null?void 0:function(){return S(D())}]},[f,m,p,b]);var E=r(d,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},hw}var iD;function Ime(){return iD||(iD=1,fw.exports=Ame()),fw.exports}Ime();function kme(t){t()}function Cme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var aD={notify(){},get:()=>[]};function Nme(t,e){let n,r=aD,i=0,s=!1;function l(E){m();const S=r.subscribe(E);let k=!1;return()=>{k||(k=!0,S(),p())}}function c(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return s}function m(){i++,n||(n=t.subscribe(d),r=Cme())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=aD)}function b(){s||(s=!0,m())}function _(){s&&(s=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return w}var Ome=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pme=Ome(),Rme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jme=Rme(),Mme=()=>Pme||jme?T.useLayoutEffect:T.useEffect,Dme=Mme();function sD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function zme(t,e){if(sD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!sD(t[n[i]],e[n[i]]))return!1;return!0}var Lme=Symbol.for("react-redux-context"),Vme=typeof globalThis<"u"?globalThis:{};function Bme(){if(!T.createContext)return{};const t=Vme[Lme]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var Ume=Bme();function Fme(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const d=Nme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=T.useMemo(()=>i.getState(),[i]);Dme(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||Ume;return T.createElement(c.Provider,{value:s},e)}var qme=Fme,$me=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Hme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function VA(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if($me.has(r)){if(t[r]==null&&e[r]==null)continue;if(!zme(t[r],e[r]))return!1}else if(!Hme(t[r],e[r]))return!1;return!0}function $c(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:u8}function Hc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:u8}var Gme="Invariant failed";function Kme(t,e){throw new Error(Gme)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function qy(t){return T.createElement(Zfe,YE({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Yme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Fe(e))return e;var s=Fe(r)||$n(r);return s?e(r,i):(s||Kme(),n)}},Wme=(t,e,n)=>n,Xme=(t,e)=>e,ip=le([gA,Xme],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Qme=le([ip],t=>t?.maxBarSize),Zme=(t,e,n,r)=>r,Jme=le([Et,gA,$c,Hc,Wme],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),epe=(t,e,n)=>{var r=Et(t),i=$c(t,e),s=Hc(t,e);if(!(i==null||s==null))return r==="horizontal"?UE(t,"yAxis",s,n):UE(t,"xAxis",i,n)},tpe=(t,e)=>{var n=Et(t),r=$c(t,e),i=Hc(t,e);if(!(r==null||i==null))return n==="horizontal"?eM(t,"xAxis",r):eM(t,"yAxis",i)},npe=le([Jme,ale,tpe],Ihe),rpe=(t,e,n)=>{var r,i,s=ip(t,e);if(s!=null){var l=$c(t,e),c=Hc(t,e);if(!(l==null||c==null)){var d=Et(t),f=SL(t),{maxBarSize:m}=s,p=$n(m)?f:m,b,_;return d==="horizontal"?(b=jd(t,"xAxis",l,n),_=Rd(t,"xAxis",l,n)):(b=jd(t,"yAxis",c,n),_=Rd(t,"yAxis",c,n)),(r=(i=vy(b,_,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0}}},v8=(t,e,n)=>{var r=Et(t),i=$c(t,e),s=Hc(t,e);if(!(i==null||s==null)){var l,c;return r==="horizontal"?(l=jd(t,"xAxis",i,n),c=Rd(t,"xAxis",i,n)):(l=jd(t,"yAxis",s,n),c=Rd(t,"yAxis",s,n)),vy(l,c)}},ipe=le([npe,SL,ile,TL,rpe,v8,Qme],Phe),ape=(t,e,n)=>{var r=$c(t,e);if(r!=null)return jd(t,"xAxis",r,n)},spe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return jd(t,"yAxis",r,n)},ope=(t,e,n)=>{var r=$c(t,e);if(r!=null)return Rd(t,"xAxis",r,n)},lpe=(t,e,n)=>{var r=Hc(t,e);if(r!=null)return Rd(t,"yAxis",r,n)},cpe=le([ipe,ip],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),upe=le([epe,ip],Rhe),dpe=le([Hn,OT,ape,spe,ope,lpe,cpe,Et,Goe,v8,upe,ip,Zme],(t,e,n,r,i,s,l,c,d,f,m,p,b)=>{var{chartData:_,dataStartIndex:w,dataEndIndex:E}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:S}=p,k;if(S!=null&&S.length>0?k=S:k=_?.slice(w,E+1),k!=null)return Bpe({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:k,offset:t,cells:b,dataStartIndex:w})}}),fpe=["index"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function hpe(t,e){if(t==null)return{};var n,r,i=mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b8=T.createContext(void 0),ppe=t=>{var e=T.useContext(b8);if(e!=null)return e.stackId;if(t!=null)return Gne(t)},gpe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ype=t=>{var e=T.useContext(b8);if(e!=null){var{stackId:n}=e;return"url(#".concat(gpe(n,t),")")}},vpe=t=>{var{index:e}=t,n=hpe(t,fpe),r=ype(e);return T.createElement(Us,WE({className:"recharts-bar-stack-layer",clipPath:r},n))},bpe=["onMouseEnter","onMouseLeave","onClick"],xpe=["value","background","tooltipPosition"],_pe=["id"],wpe=["onMouseEnter","onClick","onMouseLeave"];function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(null,arguments)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return(e=Spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Tpe(t,"string");return typeof e=="symbol"?e:e+""}function Tpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $y(t,e){if(t==null)return{};var n,r,i=Ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ipe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:r9(n,e),payload:t}]},kpe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:r9(s,e),hide:l,type:d,color:i,unit:c,graphicalItemId:f}};return T.createElement(Jfe,{tooltipEntrySettings:m})});function Cpe(t){var e=He(Md),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,f=$y(s,bpe),m=s8(l,r,s.id),p=o8(c),b=l8(d,r,s.id);if(!i||n==null)return null;var _=pT(i);return T.createElement(bl,{zIndex:jhe(i,Vr.barBackground)},n.map((w,E)=>{var{value:S,background:k,tooltipPosition:j}=w,N=$y(w,xpe);if(!k)return null;var D=m(w,E),R=p(w,E),z=b(w,E),P=wr(wr(wr(wr(wr({option:i,isActive:String(E)===e},N),{},{fill:"#eee"},k),_),wT(f,w,E)),{},{onMouseEnter:D,onMouseLeave:R,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(qy,Ys({key:"background-bar-".concat(E)},P))}))}function Npe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return wr(wr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return T.createElement(Sfe,{value:e?i:void 0},n)}function Ope(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=He(Md),d=He(MV),f=n&&String(s)===c&&(d==null||l===d),m=f?n:e;return f?T.createElement(bl,{zIndex:Vr.activeBar},T.createElement(qy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))):T.createElement(qy,Ys({},r,{name:String(r.name)},i,{isActive:f,option:m,index:s,dataKey:l}))}function Ppe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(qy,Ys({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Rpe(t){var e,{data:n,props:r}=t,i=(e=ll(r))!==null&&e!==void 0?e:{},{id:s}=i,l=$y(i,_pe),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:p,onMouseLeave:b}=r,_=$y(r,wpe),w=s8(m,d,s),E=o8(b),S=l8(p,d,s);return n?T.createElement(T.Fragment,null,n.map((k,j)=>T.createElement(vpe,Ys({index:j,key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(j),className:"recharts-bar-rectangle"},wT(_,k,j),{onMouseEnter:w(k,j),onMouseLeave:E(k,j),onClick:S(k,j)}),f?T.createElement(Ope,{shape:c,activeBar:f,baseProps:l,entry:k,index:j,dataKey:d}):T.createElement(Ppe,{shape:c,baseProps:l,entry:k,index:j,dataKey:d})))):null}function jpe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=e,p=n.current,b=DT(e,"recharts-bar-"),[_,w]=T.useState(!1),E=!_,S=T.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),k=T.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return T.createElement(Npe,{showLabels:E,rects:r},T.createElement(MT,{animationId:b,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:k,key:b},j=>{var N=j===1?r:r?.map((D,R)=>{var z=p&&p[R];if(z)return wr(wr({},D),{},{x:or(z.x,D.x,j),y:or(z.y,D.y,j),width:or(z.width,D.width,j),height:or(z.height,D.height,j)});if(i==="horizontal"){var P=or(0,D.height,j),O=or(D.stackedBarStart,D.y,j);return wr(wr({},D),{},{y:O,height:P})}var V=or(0,D.width,j),q=or(D.stackedBarStart,D.x,j);return wr(wr({},D),{},{width:V,x:q})});return j>0&&(n.current=N??null),N==null?null:T.createElement(Us,null,T.createElement(Rpe,{props:e,data:N}))}),T.createElement(Ife,{label:e.label}),e.children)}function Mpe(t){var e=T.useRef(null);return T.createElement(jpe,{previousRectanglesRef:e,props:t})}var x8=0,Dpe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:cr(t,e)}};class zpe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(e||n==null)return null;var m=Se("recharts-bar",i),p=f;return T.createElement(Us,{className:m,id:f},c&&T.createElement("defs",null,T.createElement(Tme,{clipPathId:p,xAxisId:s,yAxisId:l})),T.createElement(Us,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Cpe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(Mpe,this.props)))}}var Lpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:x8,xAxisId:0,yAxisId:0,zIndex:Vr.bar};function Vpe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=t,{needClip:p}=y8(e,n),b=$m(),_=mi(),w=Rfe(t.children,cb),E=He(j=>dpe(j,t.id,_,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=E?.[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,T.createElement(Sme,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Dpe,errorBarOffset:S},T.createElement(zpe,Ys({},t,{layout:b,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function Bpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:b,cells:_,parentViewBox:w,dataStartIndex:E}=t,S=e==="horizontal"?c:l,k=m?S.scale.domain():null,j=Kne({numericAxis:S}),N=S.scale(j);return p.map((D,R)=>{var z,P,O,V,q,L;if(m){var F=m[R+E];if(F==null)return null;z=Une(F,k)}else z=cr(D,n),Array.isArray(z)||(z=[j,z]);var U=Yme(r,x8)(z[1],R);if(e==="horizontal"){var be,[Ee,Y]=[c.scale(z[0]),c.scale(z[1])];P=aR({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:D,index:R}),O=(be=Y??Ee)!==null&&be!==void 0?be:void 0,V=i.size;var re=Ee-Y;if(q=Qa(re)?0:re,L={x:P,y:b.top,width:V,height:b.height},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var $=si(q||U)*(Math.abs(U)-Math.abs(q));O-=$,q+=$}}else{var[oe,_e]=[l.scale(z[0]),l.scale(z[1])];if(P=oe,O=aR({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:D,index:R}),V=_e-oe,q=i.size,L={x:b.left,y:O,width:b.width,height:q},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var H=si(V||U)*(Math.abs(U)-Math.abs(V));V+=H}}if(P==null||O==null||V==null||q==null)return null;var ne=wr(wr({},D),{},{stackedBarStart:N,x:P,y:O,width:V,height:q,value:m?z:z[1],payload:D,background:L,tooltipPosition:{x:P+V/2,y:O+q/2},parentViewBox:w},_&&_[R]&&_[R].props);return ne}).filter(Boolean)}function Upe(t){var e=Vi(t,Lpe),n=ppe(e.stackId),r=mi();return T.createElement(ahe,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(ehe,{legendPayload:Ipe(e)}),T.createElement(kpe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(fhe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(bl,{zIndex:e.zIndex},T.createElement(Vpe,Ys({},e,{id:i})))))}var BA=T.memo(Upe,VA);BA.displayName="Bar";var Fpe=["domain","range"],qpe=["domain","range"];function lD(t,e){if(t==null)return{};var n,r,i=$pe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function _8(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=lD(t,Fpe),{domain:s,range:l}=e,c=lD(e,qpe);return!cD(n,s)||!cD(r,l)?!1:VA(i,c)}var Hpe=["dangerouslySetInnerHTML","ticks","scale"],Gpe=["id","scale"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function uD(t,e){if(t==null)return{};var n,r,i=Kpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ype(t){var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(yhe(t)):n.current!==t&&e(vhe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(bhe(n.current)),n.current=null)},[e]),null}var Wpe=t=>{var{xAxisId:e,className:n}=t,r=He(OT),i=mi(),s="xAxis",l=He(k=>pV(k,s,e,i)),c=He(k=>dV(k,e)),d=He(k=>nce(k,e)),f=He(k=>jL(k,e));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:b}=t,_=uD(t,Hpe),{id:w,scale:E}=f,S=uD(f,Gpe);return T.createElement(LA,XE({},_,S,{x:d.x,y:d.y,width:c.width,height:c.height,className:Se("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Xpe={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:Vn.allowDecimals,allowDuplicatedCategory:Vn.allowDuplicatedCategory,angle:Vn.angle,axisLine:xc.axisLine,height:Vn.height,hide:!1,includeHidden:Vn.includeHidden,interval:Vn.interval,minTickGap:Vn.minTickGap,mirror:Vn.mirror,orientation:Vn.orientation,padding:Vn.padding,reversed:Vn.reversed,scale:Vn.scale,tick:Vn.tick,tickCount:Vn.tickCount,tickLine:xc.tickLine,tickSize:xc.tickSize,type:Vn.type,xAxisId:0},Qpe=t=>{var e=Vi(t,Xpe);return T.createElement(T.Fragment,null,T.createElement(Ype,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(Wpe,e))},UA=T.memo(Qpe,_8);UA.displayName="XAxis";var Zpe=["dangerouslySetInnerHTML","ticks","scale"],Jpe=["id","scale"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(null,arguments)}function dD(t,e){if(t==null)return{};var n,r,i=ege(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ege(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tge(t){var e=fn(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(xhe(t)):n.current!==t&&e(_he({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(whe(n.current)),n.current=null)},[e]),null}var nge=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),l=T.useRef(null),c=He(OT),d=mi(),f=fn(),m="yAxis",p=He(z=>fV(z,e)),b=He(z=>ice(z,e)),_=He(z=>pV(z,m,e,d)),w=He(z=>ML(z,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!p||DA(i)||T.isValidElement(i)||w==null)){var z=s.current;if(z){var P=z.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&f(Ehe({id:e,width:P}))}}},[_,p,f,i,e,r,w]),p==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:k}=t,j=dD(t,Zpe),{id:N,scale:D}=w,R=dD(w,Jpe);return T.createElement(LA,QE({},j,R,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Se("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:_,axisType:m}))},rge={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:Bn.allowDecimals,allowDuplicatedCategory:Bn.allowDuplicatedCategory,angle:Bn.angle,axisLine:xc.axisLine,hide:!1,includeHidden:Bn.includeHidden,interval:Bn.interval,minTickGap:Bn.minTickGap,mirror:Bn.mirror,orientation:Bn.orientation,padding:Bn.padding,reversed:Bn.reversed,scale:Bn.scale,tick:Bn.tick,tickCount:Bn.tickCount,tickLine:xc.tickLine,tickSize:xc.tickSize,type:Bn.type,width:Bn.width,yAxisId:0},ige=t=>{var e=Vi(t,rge);return T.createElement(T.Fragment,null,T.createElement(tge,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(nge,e))},w8=T.memo(ige,_8);w8.displayName="YAxis";var age=(t,e)=>e,FA=le([age,Et,PL,Rn,OV,ro,vue,Hn],Tue),qA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},E8=zi("mouseClick"),S8=Fm();S8.startListening({actionCreator:E8,effect:(t,e)=>{var n=t.payload,r=FA(e.getState(),qA(n));r?.activeIndex!=null&&e.dispatch(vce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ZE=zi("mouseMove"),T8=Fm(),n0=null;T8.startListening({actionCreator:ZE,effect:(t,e)=>{var n=t.payload;n0!==null&&cancelAnimationFrame(n0);var r=qA(n);n0=requestAnimationFrame(()=>{var i=e.getState(),s=TA(i,i.tooltip.settings.shared);if(s==="axis"){var l=FA(i,r);l?.activeIndex!=null?e.dispatch(EV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(wV())}n0=null})}});function sge(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var fD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},A8=Ur({name:"rootProps",initialState:fD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:fD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),oge=A8.reducer,{updateOptions:lge}=A8.actions,I8=Ur({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uve}=I8.actions,cge=I8.reducer,k8=zi("keyDown"),C8=zi("focus"),$A=Fm();$A.startListening({actionCreator:k8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=AA(i,rf(n),Zm(n),np(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=ro(n);if(s==="Enter"){var f=Vy(n,"axis","hover",String(i.index));e.dispatch(qE({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var m=lce(n),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=c+b*p;if(!(d==null||_>=d.length||_<0)){var w=Vy(n,"axis","hover",String(_));e.dispatch(qE({active:!0,activeIndex:_.toString(),activeCoordinate:w}))}}}}}});$A.startListening({actionCreator:C8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Vy(n,"axis","hover",String(s));e.dispatch(qE({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Oi=zi("externalEvent"),N8=Fm(),mw=new Map;N8.startListening({actionCreator:Oi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=mw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:rue(c),activeDataKey:MV(c),activeIndex:Md(c),activeLabel:jV(c),activeTooltipIndex:Md(c),isTooltipActive:iue(c)};n(d,r)}finally{mw.delete(i)}});mw.set(i,l)}}});var uge=le([tf],t=>t.tooltipItemPayloads),dge=le([uge,tp,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),O8=zi("touchMove"),P8=Fm();P8.startListening({actionCreator:O8,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=TA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=FA(r,qA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(EV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(ere),p=(c=f.getAttribute(tre))!==null&&c!==void 0?c:void 0,b=nf(r).find(E=>E.id===p);if(m==null||b==null||p==null)return;var{dataKey:_}=b,w=dge(r,m,p);e.dispatch(_V({activeDataKey:_,activeIndex:m,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var fge=k6({brush:Dhe,cartesianAxis:She,chartData:rde,errorBars:vme,graphicalItems:uhe,layout:Mne,legend:Wre,options:Zue,polarAxis:Cfe,polarOptions:cge,referenceElements:qhe,rootProps:oge,tooltip:bce,zIndex:Vue}),hge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sne({reducer:fge,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([S8.middleware,T8.middleware,$A.middleware,N8.middleware,P8.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(q6({type:"raf"}))},devTools:{serialize:{replacer:sge},name:"recharts-".concat(n)}})};function mge(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=mi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=hge(e,r));var l=ST;return T.createElement(qme,{context:l,store:s.current},n)}function pge(t){var{layout:e,margin:n}=t,r=fn(),i=mi();return T.useEffect(()=>{i||(r(Pne(e)),r(One(n)))},[r,i,e,n]),null}var gge=T.memo(pge,VA);function yge(t){var e=fn();return T.useEffect(()=>{e(lge(t))},[e,t]),null}function hD(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=fn();return T.useLayoutEffect(()=>(r.current&&i(zue({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Lue({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function mD(t){var{children:e,isPanorama:n}=t,r=He(Iue);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return T.createElement(T.Fragment,null,i.map(l=>T.createElement(hD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>T.createElement(hD,{key:l,zIndex:l,isPanorama:n})))}var vge=["children"];function bge(t,e){if(t==null)return{};var n,r,i=xge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}var _ge={width:"100%",height:"100%",display:"block"},wge=T.forwardRef((t,e)=>{var n=Ore(),r=Pre(),i=y9();if(!cl(n)||!cl(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),T.createElement(G3,Hy({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:_ge,ref:e}),s)}),Ege=t=>{var{children:e}=t,n=He(Vv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return T.createElement(G3,{width:r,height:i,x:l,y:s},e)},pD=T.forwardRef((t,e)=>{var{children:n}=t,r=bge(t,vge),i=mi();return i?T.createElement(Ege,null,T.createElement(mD,{isPanorama:!0},n)):T.createElement(wge,Hy({ref:e},r),T.createElement(mD,{isPanorama:!1},n))});function Sge(){var t=fn(),[e,n]=T.useState(null),r=He(Jne);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Jt(s)&&s!==r&&t(jne(s))}},[e,t,r]),n}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){Age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e,n){return(e=Ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=kge(t,"string");return typeof e=="symbol"?e:e+""}function kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(null,arguments)}var Cge=()=>(fde(),null);function Gy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Nge=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,l]=T.useState({containerWidth:Gy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Gy((r=t.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,m)=>{l(p=>{var b=Math.round(f),_=Math.round(m);return p.containerWidth===b&&p.containerHeight===_?p:{containerWidth:b,containerHeight:_}})},[]),d=T.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var b=w=>{var{width:E,height:S}=w[0].contentRect;c(E,S)},_=new ResizeObserver(b);_.observe(f),i.current=_}},[e,c]);return T.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Uv,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",zc({ref:d},t)))}),Oge=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:Gy(n),containerHeight:Gy(r)}),l=T.useCallback((d,f)=>{s(m=>{var p=Math.round(d),b=Math.round(f);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return T.createElement(T.Fragment,null,T.createElement(Uv,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",zc({ref:c},t)))}),Pge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Uv,{width:n,height:r}),T.createElement("div",zc({ref:e},t)))}),Rge=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Fs(n)||Fs(r)?T.createElement(Oge,zc({},t,{ref:e})):T.createElement(Pge,zc({},t,{ref:e}))});function jge(t){return t===!0?Nge:Rge}var Mge=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:_,onTouchMove:w,onTouchStart:E,style:S,width:k,responsive:j,dispatchTouchEvents:N=!0}=t,D=T.useRef(null),R=fn(),[z,P]=T.useState(null),[O,V]=T.useState(null),q=Sge(),L=PT(),F=L?.width>0?L.width:k,U=L?.height>0?L.height:i,be=T.useCallback(X=>{q(X),typeof e=="function"&&e(X),P(X),V(X),X!=null&&(D.current=X)},[q,e,P,V]),Ee=T.useCallback(X=>{R(E8(X)),R(Oi({handler:s,reactEvent:X}))},[R,s]),Y=T.useCallback(X=>{R(ZE(X)),R(Oi({handler:f,reactEvent:X}))},[R,f]),re=T.useCallback(X=>{R(wV()),R(Oi({handler:m,reactEvent:X}))},[R,m]),$=T.useCallback(X=>{R(ZE(X)),R(Oi({handler:p,reactEvent:X}))},[R,p]),oe=T.useCallback(()=>{R(C8())},[R]),_e=T.useCallback(X=>{R(k8(X.key))},[R]),H=T.useCallback(X=>{R(Oi({handler:l,reactEvent:X}))},[R,l]),ne=T.useCallback(X=>{R(Oi({handler:c,reactEvent:X}))},[R,c]),ie=T.useCallback(X=>{R(Oi({handler:d,reactEvent:X}))},[R,d]),ue=T.useCallback(X=>{R(Oi({handler:b,reactEvent:X}))},[R,b]),ge=T.useCallback(X=>{R(Oi({handler:E,reactEvent:X}))},[R,E]),ke=T.useCallback(X=>{N&&R(O8(X)),R(Oi({handler:w,reactEvent:X}))},[R,N,w]),we=T.useCallback(X=>{R(Oi({handler:_,reactEvent:X}))},[R,_]),Le=jge(j);return T.createElement(FV.Provider,{value:z},T.createElement(LJ.Provider,{value:O},T.createElement(Le,{width:F??S?.width,height:U??S?.height,className:Se("recharts-wrapper",r),style:Tge({position:"relative",cursor:"default",width:F,height:U},S),onClick:Ee,onContextMenu:H,onDoubleClick:ne,onFocus:oe,onKeyDown:_e,onMouseDown:ie,onMouseEnter:Y,onMouseLeave:re,onMouseMove:$,onMouseUp:ue,onTouchEnd:we,onTouchMove:ke,onTouchStart:ge,ref:be},T.createElement(Cge,null),n)))}),Dge=["width","height","responsive","children","className","style","compact","title","desc"];function zge(t,e){if(t==null)return{};var n,r,i=Lge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vge=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:m}=t,p=zge(t,Dge),b=ll(p);return d?T.createElement(T.Fragment,null,T.createElement(Uv,{width:n,height:r}),T.createElement(pD,{otherAttributes:b,title:f,desc:m},s)):T.createElement(Mge,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(pD,{otherAttributes:b,title:f,desc:m,ref:e},T.createElement(Hhe,null,s)))});function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}var Bge={top:5,right:5,bottom:5,left:5},Uge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Bge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Fge=T.forwardRef(function(e,n){var r,i=Vi(e.categoricalChartProps,Uge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(mge,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},T.createElement(Mhe,{chartData:f.data}),T.createElement(gge,{layout:i.layout,margin:i.margin}),T.createElement(yge,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(Vge,JE({},i,{ref:n})))}),qge=["axis","item"],R8=T.forwardRef((t,e)=>T.createElement(Fge,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qge,tooltipPayloadSearcher:Xue,categoricalChartProps:t,ref:e}));const j8=({data:t,total:e})=>{const n=[...t].sort((s,l)=>l.value-s.value),{currency:r}=yr(),i=["#f59e0b","#ef4444","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#06b6d4"];return t.length===0?y.jsx("div",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-zinc-200 dark:border-zinc-800 border-dashed p-8",children:y.jsx("p",{className:"text-zinc-500 font-medium",children:"Sin datos para mostrar"})}):y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[y.jsx("h3",{className:"text-zinc-800 dark:text-zinc-200 font-bold text-lg mb-6",children:"Distribucin por Categora"}),y.jsx("div",{className:"h-48 w-full mb-6",children:y.jsx(l9,{width:"100%",height:"100%",children:y.jsxs(R8,{data:n,layout:"vertical",margin:{top:0,right:10,left:10,bottom:0},children:[y.jsx(UA,{type:"number",hide:!0}),y.jsx(w8,{dataKey:"name",type:"category",width:100,tick:{fill:"#71717a",fontSize:12},axisLine:!1,tickLine:!1}),y.jsx(HV,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{backgroundColor:"#1c1917",borderColor:"#292524",color:"#fafaf9",borderRadius:"8px",fontSize:"12px"},formatter:s=>[`${r}${Number(s).toFixed(2)}`,"Monto"]}),y.jsx(BA,{dataKey:"value",radius:[0,4,4,0],barSize:20,children:n.map((s,l)=>y.jsx(cb,{fill:i[l%i.length]},`cell-${l}`))})]})})}),y.jsx("div",{className:"space-y-3",children:n.map((s,l)=>{const c=e>0?s.value/e*100:0;return y.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 rounded-lg transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i[l%i.length]}}),y.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 font-medium text-sm",children:s.name})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-zinc-900 dark:text-zinc-100 font-bold font-mono text-sm",children:[r,s.value.toFixed(2)]}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[c.toFixed(1),"%"]})]})]},s.name)})})]})},$ge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Tr("expense"),{categories:r,addCategory:i}=Ad("expense"),{selectedDate:s}=zd(),{currency:l}=yr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const _=b.category||"Sin Categora";return p[_]=(p[_]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Gastos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra y analiza tus egresos mensuales"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(wv,{}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 border border-rose-200 dark:border-rose-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-rose-600 dark:text-rose-200 text-xs uppercase tracking-wider font-semibold",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600 dark:text-rose-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(F3,{type:"expense",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(q3,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(j8,{data:f(),total:d})})})]})]})},Hge=()=>{const{transactions:t,addTransaction:e,deleteTransaction:n}=Tr("income"),{categories:r,addCategory:i}=Ad("income"),{selectedDate:s}=zd(),{currency:l}=yr(),c=t.filter(m=>{const[p,b]=m.date.split("-").map(Number);return b===s.getMonth()+1&&p===s.getFullYear()}),d=c.reduce((m,p)=>m+p.amount,0),f=()=>{const m=c.reduce((p,b)=>{const _=b.category||"Sin Categora";return p[_]=(p[_]||0)+b.amount,p},{});return Object.entries(m).map(([p,b])=>({name:p,value:b}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Gestin de Ingresos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm",children:"Registra cada flujo entrante de dinero"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center",children:[y.jsx(wv,{}),y.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900/50 px-6 py-3 rounded-xl",children:[y.jsx("p",{className:"text-emerald-600 dark:text-emerald-200 text-xs uppercase tracking-wider font-semibold",children:"Total Ingresado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-emerald-600 dark:text-emerald-400",children:[l,d.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsx(F3,{type:"income",onSubmit:e,categories:r,onAddCategory:i}),y.jsx(q3,{transactions:c,onDelete:n})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"sticky top-6",children:y.jsx(j8,{data:f(),total:d})})})]})]})},Gge=()=>{const{goals:t,addGoal:e,deleteGoal:n,contributeToGoal:r,isGoalPaidThisMonth:i,addContribution:s,withdraw:l,getMonthlyQuota:c,updateGoal:d}=Dm(),{total:f}=Tr("income"),{total:m}=Tr("expense"),{currency:p}=yr(),b=t.reduce(($,oe)=>$+(oe.currentAmount||0),0),_=f-m-b,[w,E]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),S=w.deadline?new Date(w.deadline):null,k=S?Math.max(1,(S.getFullYear()-new Date().getFullYear())*12+(S.getMonth()-new Date().getMonth())):0,j=w.targetAmount&&k>0?Number(w.targetAmount)/k:0,[N,D]=T.useState({open:!1,title:"",message:""}),[R,z]=T.useState({open:!1,type:"deposit",goalId:"",goalName:""}),[P,O]=T.useState(""),[V,q]=T.useState({open:!1,goalId:""}),[L,F]=T.useState({name:"",targetAmount:"",deadline:"",icon:""}),U=$=>{q({open:!0,goalId:$.id}),F({name:$.name,targetAmount:$.targetAmount.toString(),deadline:$.deadline||"",icon:$.icon||""})},be=()=>{!L.name||!L.targetAmount||!L.deadline||(d(V.goalId,{name:L.name,targetAmount:Number(L.targetAmount),deadline:L.deadline,icon:L.icon}),q({open:!1,goalId:""}))},Ee=()=>{const $=Number(P);if(!(!$||$<=0)){if(R.type==="withdraw"){const oe=t.find(_e=>_e.id===R.goalId);if(!oe||oe.currentAmount<$){alert("No hay suficientes fondos ahorrados en esta meta para retirar esa cantidad.");return}l(R.goalId,$)}else{if(_<$){alert(`No tienes saldo disponible suficiente (${p}${_.toFixed(2)})`);return}s(R.goalId,$,"Ingreso Extra")}z({...R,open:!1})}},Y=($,oe,_e)=>{_>=oe?r($,oe):D({open:!0,title:"Saldo Insuficiente",message:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-zinc-600 dark:text-zinc-300",children:["No tienes saldo disponible suficiente para pagar la cuota de ",y.jsx("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:_e}),"."]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg border border-rose-100 dark:border-rose-900/30 space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Saldo Disponible:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,_.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-rose-800 dark:text-rose-300",children:"Cuota Necesaria:"}),y.jsxs("span",{className:"font-mono font-bold text-rose-700 dark:text-rose-400",children:[p,oe.toFixed(2)]})]}),y.jsxs("div",{className:"border-t border-rose-200 dark:border-rose-800/50 pt-2 mt-2 flex justify-between text-sm font-bold",children:[y.jsx("span",{className:"text-rose-900 dark:text-rose-200",children:"Faltante:"}),y.jsxs("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:["-",p,(oe-_).toFixed(2)]})]})]})]})})},re=$=>{$.preventDefault(),!(!w.name||!w.targetAmount||!w.deadline)&&(e({name:w.name,targetAmount:Number(w.targetAmount),deadline:w.deadline,startDate:new Date().toISOString().split("T")[0],icon:w.icon||""}),E({name:"",targetAmount:"",deadline:"",icon:""}))};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Calculadora de Metas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Planifica tus compras y objetivos de ahorro"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-1 space-y-6",children:y.jsxs("form",{onSubmit:re,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl space-y-4 shadow-sm dark:shadow-none",children:[y.jsxs("h3",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400 flex items-center gap-2",children:[y.jsx(dT,{size:18}),"Simular Meta"]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Objetivo"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Coche Nuevo",value:w.name,onChange:$=>E({...w,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"text",inputMode:"decimal",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:w.targetAmount,onChange:$=>{const oe=$.target.value;/^\d*\.?\d*$/.test(oe)&&E({...w,targetAmount:oe})}})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:w.deadline,onChange:$=>E({...w,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono (Emoji)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500 text-center text-lg",placeholder:"",value:w.icon,onChange:$=>E({...w,icon:$.target.value}),maxLength:2})]}),y.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-950 p-4 rounded-lg text-center border border-zinc-200 dark:border-zinc-800 border-dashed mt-4",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase mb-1",children:"Ahorro Mensual Sugerido"}),y.jsxs("p",{className:"text-2xl font-mono text-emerald-600 dark:text-emerald-400 font-bold",children:[p,isFinite(j)?j.toFixed(2):"0.00"]}),k>0&&y.jsxs("p",{className:"text-[10px] text-zinc-400 mt-1",children:["Durante ~",k," meses"]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Meta"})]})}),y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("h3",{className:"text-lg font-medium text-zinc-800 dark:text-zinc-300 flex items-center gap-2",children:[y.jsx(gc,{size:18}),"Metas"]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length===0?y.jsx("div",{className:"col-span-full bg-zinc-50 dark:bg-zinc-900/30 border border-zinc-200 dark:border-zinc-800 rounded-xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500",children:"No hay metas definidas."})}):t.map($=>{const oe=i($),_e=c($),H=$.currentAmount/$.targetAmount*100;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-5 rounded-xl group relative shadow-sm dark:shadow-none flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-2xl mb-1 block",children:$.icon||""}),y.jsx("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg",children:$.name}),y.jsxs("p",{className:"text-[10px] text-zinc-400",children:["Vence: ",$.deadline||"Sin fecha"]})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>U($),className:"text-zinc-400 hover:text-blue-500 transition-colors p-1",title:"Editar meta",children:y.jsx(OQ,{size:16})}),y.jsx("button",{onClick:()=>n($.id),className:"text-zinc-400 hover:text-rose-500 transition-colors p-1",title:"Eliminar meta",children:y.jsx(js,{size:16})})]})]}),y.jsxs("div",{className:"mt-4 space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-xs text-zinc-500",children:[y.jsx("span",{children:"Progreso Total"}),y.jsxs("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[H.toFixed(1),"%"]})]}),y.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden border border-zinc-200 dark:border-zinc-700/50",children:y.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 relative",style:{width:`${Math.min(H,100)}%`},children:H>=20&&y.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})})}),y.jsx("div",{className:"text-center py-2",children:y.jsx("p",{className:"text-xs italic text-zinc-400",children:H>=100?"Meta alcanzada! ":H>=75?"Ya casi ests ah! ":H>=50?"Ms de la mitad! ":H>=25?"Buen progreso, sigue as! ":"Todo viaje empieza con un paso! "})}),y.jsxs("div",{className:"flex justify-between text-xs mt-1 border-t border-dashed border-zinc-200 dark:border-zinc-800 pt-2",children:[y.jsxs("span",{className:"text-zinc-400 font-mono",children:[p,$.currentAmount.toFixed(2)]}),y.jsxs("span",{className:"text-zinc-400 font-mono",children:["/ ",p,$.targetAmount.toLocaleString()]})]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500",children:"Cuota Mensual"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200",children:[p,_e.toFixed(2)]})]}),oe?y.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs font-bold rounded-lg border border-emerald-200 dark:border-emerald-800/50",children:"Pagado este mes!"}):y.jsx("button",{onClick:()=>Y($.id,_e,$.name),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm shadow-emerald-900/20",children:"Pagar Cuota"})]}),oe&&y.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-right italic",children:"Suma al saldo de Ahorro"})]})]},$.id)})})]})]}),y.jsx(Ka,{isOpen:N.open,onClose:()=>D({...N,open:!1}),title:N.title,children:N.message}),y.jsx(Ka,{isOpen:R.open,onClose:()=>z({...R,open:!1}),title:R.type==="deposit"?"Ingresar Fondos Extra":"Retirar Fondos",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:R.type==="deposit"?"Aade dinero extra a esta meta desde tu saldo disponible.":"Mueve dinero de esta meta de vuelta a tu saldo disponible."}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",autoFocus:!0,value:P,onChange:$=>O($.target.value)})]}),y.jsx("div",{className:"pt-2",children:y.jsx("button",{onClick:Ee,className:`w-full py-2 rounded-lg font-medium text-white transition-colors ${R.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"}`,children:R.type==="deposit"?"Confirmar Ingreso":"Confirmar Retiro"})})]})}),y.jsx(Ka,{isOpen:V.open,onClose:()=>q({...V,open:!1}),title:"Editar Meta",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.name,onChange:$=>F({...L,name:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto Necesario"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.targetAmount,onChange:$=>F({...L,targetAmount:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Objetivo"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.deadline,onChange:$=>F({...L,deadline:$.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:L.icon,onChange:$=>F({...L,icon:$.target.value}),maxLength:2})]}),y.jsx("button",{onClick:be,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-medium transition-colors mt-4",children:"Guardar Cambios"})]})})]})},Kge=({project:t,onClose:e})=>{const{currency:n}=yr(),{updateProject:r,deleteProject:i,addProjectTransaction:s,deleteProjectTransaction:l,getProjectStats:c}=U3(),{currentBalance:d}=Lm(),{addTransaction:f}=Tr(),[m,p]=T.useState("overview"),b=c(t),[_,w]=T.useState({amount:"",description:"",type:"expense"}),[E,S]=T.useState(!1),k=R=>{R.preventDefault();const z=Number(_.amount);if(!(z<=0)){if(_.type==="income"){if(z>d){Kt.error(`Fondos insuficientes. Solo tienes ${n}${d.toLocaleString()} disponibles.`);return}f({amount:z,type:"expense",category:"Inversin",description:`Inversin Proyecto: ${t.name}`,date:new Date().toISOString().split("T")[0]})}s(t.id,{amount:z,description:_.description,type:_.type,date:(()=>{const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`})()}),w({amount:"",description:"",type:"expense"}),S(!1)}},j=()=>{confirm("Ests seguro de eliminar este proyecto? Se perder todo el historial.")&&(i(t.id),e())},N=T.useMemo(()=>t.transactions.slice(0,7).reverse().map(R=>({name:new Date(R.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),amount:R.type==="income"?R.amount:-R.amount})),[t.transactions]),D=()=>{const R={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};r(t.id,{status:R[t.status]})};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white dark:bg-zinc-950 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-start bg-zinc-50/50 dark:bg-zinc-900/50",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t.name}),y.jsx("span",{onClick:D,className:Se("px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide border cursor-pointer hover:opacity-80 transition-opacity select-none",{"bg-zinc-100 text-zinc-600 border-zinc-200":t.status==="planning","bg-emerald-100 text-emerald-600 border-emerald-200":t.status==="active","bg-amber-100 text-amber-600 border-amber-200":t.status==="paused","bg-blue-100 text-blue-600 border-blue-200":t.status==="completed","bg-rose-100 text-rose-600 border-rose-200":t.status==="cancelled"}),children:t.status==="planning"?"Planificacin":t.status==="active"?"Activo":t.status==="paused"?"Pausado":t.status==="completed"?"Completado":"Cancelado"})]}),y.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:t.description||"Sin descripcin"})]}),y.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-800 dark:hover:text-zinc-200 p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:y.jsx(rm,{size:24})})]}),y.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 px-6",children:[y.jsxs("button",{onClick:()=>p("overview"),className:Se("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="overview"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(IX,{size:16})," Resumen"]}),y.jsxs("button",{onClick:()=>p("ledger"),className:Se("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="ledger"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(NO,{size:16})," Movimientos"]}),y.jsxs("button",{onClick:()=>p("settings"),className:Se("py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",m==="settings"?"border-emerald-500 text-emerald-600":"border-transparent text-zinc-500 hover:text-zinc-800"),children:[y.jsx(w3,{size:16})," Configuracin"]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50 dark:bg-zinc-950/30",children:[m==="overview"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Presupuesto Objetivo"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[n,t.targetBudget.toLocaleString()]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Gastado"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-rose-600",children:[n,b.totalExpenses.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[b.percentConsumed.toFixed(1),"% del presupuesto"]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Liquidez Disponible"}),y.jsxs("p",{className:Se("text-2xl font-mono font-bold",b.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[n,b.currentBalance.toLocaleString()]}),y.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:["Ingresos Totales: ",n,b.totalIncome.toLocaleString()]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-64",children:[y.jsx("h3",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300 mb-4",children:"Flujo de Caja Reciente"}),N.length>0?y.jsx(l9,{width:"100%",height:"100%",children:y.jsxs(R8,{data:N,children:[y.jsx(UA,{dataKey:"name",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(HV,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"}}),y.jsx(BA,{dataKey:"amount",fill:"#10b981",radius:[4,4,0,0],children:N.map((R,z)=>y.jsx(cb,{fill:R.amount>=0?"#10b981":"#f43f5e"},`cell-${z}`))})]})}):y.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400 text-sm",children:"Sin datos suficientes"})]})]}),m==="ledger"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>{w(R=>({...R,type:"income"})),S(!0)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(Jw,{size:18})," Inyectar Fondos"]}),y.jsxs("button",{onClick:()=>{w(R=>({...R,type:"expense"})),S(!0)},className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(Td,{size:18})," Registrar Gasto"]})]}),E&&y.jsxs("form",{onSubmit:k,className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:_.type==="income"?"Nuevo Ingreso de Capital":"Nuevo Gasto del Proyecto"}),y.jsx("button",{type:"button",onClick:()=>S(!1),className:"text-zinc-400 hover:text-zinc-600",children:y.jsx(rm,{size:16})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Descripcin",required:!0,className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:_.description,onChange:R=>w({..._,description:R.target.value})}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",children:n}),y.jsx("input",{type:"number",placeholder:"0.00",required:!0,step:"0.01",className:"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-lg pl-8 pr-4 py-2 w-full focus:outline-none focus:ring-2 ring-emerald-500/50",value:_.amount,onChange:R=>w({..._,amount:R.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-bold py-2 rounded-lg",children:"Guardar Movimiento"})]}),y.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:t.transactions.length===0?y.jsxs("div",{className:"p-12 text-center text-zinc-400",children:[y.jsx(NO,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{children:"No hay movimientos registrados en este proyecto."})]}):t.transactions.map(R=>y.jsxs("div",{className:Se("p-4 flex items-center justify-between border-b last:border-0 border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:Se("w-10 h-10 rounded-full flex items-center justify-center",R.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:R.type==="income"?y.jsx(Jw,{size:18}):y.jsx(Td,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:R.description}),y.jsx("p",{className:"text-xs text-zinc-500",children:new Date(R.date).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:Se("font-mono font-bold",R.type==="income"?"text-emerald-600":"text-rose-600"),children:[R.type==="income"?"+":"-",n,R.amount.toFixed(2)]}),y.jsx("button",{onClick:()=>l(t.id,R.id),className:"text-zinc-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:y.jsx(js,{size:16})})]})]},R.id))})]}),m==="settings"&&y.jsxs("div",{className:"max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 pt-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:"Estado del Proyecto"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["planning","active","paused","completed","cancelled"].map(R=>y.jsx("button",{onClick:()=>r(t.id,{status:R}),className:Se("px-4 py-2 rounded-lg text-sm font-medium border transition-all",t.status===R?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]}),y.jsxs("div",{className:"pt-8 border-t border-zinc-200 dark:border-zinc-800",children:[y.jsx("h3",{className:"font-bold text-lg text-rose-600 mb-2",children:"Zona de Peligro"}),y.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Eliminar el proyecto borrar permanentemente todos los datos y transacciones asociadas."}),y.jsxs("button",{onClick:j,className:"w-full border border-rose-200 dark:border-rose-900/50 text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/20 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[y.jsx(js,{size:18})," Eliminar Proyecto"]})]})]})]})]})})},Yge=()=>{const{projects:t,addProject:e,updateProject:n,getProjectStats:r}=U3(),{currency:i}=yr(),[s,l]=T.useState(!1),[c,d]=T.useState(null),[f,m]=T.useState({name:"",targetBudget:"",deadline:"",description:""}),p=w=>{w.preventDefault(),e({name:f.name,targetBudget:Number(f.targetBudget),deadline:f.deadline,description:f.description}),m({name:"",targetBudget:"",deadline:"",description:""}),l(!1)},b=w=>{switch(w){case"planning":return"text-zinc-500 bg-zinc-100 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700";case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"completed":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"paused":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"cancelled":return"text-rose-500 bg-rose-500/10 border-rose-500/20";default:return"text-zinc-500"}},_=(w,E)=>{w.stopPropagation();const S={planning:"active",active:"completed",completed:"planning",paused:"active",cancelled:"planning"};n(E.id,{status:S[E.status]})};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Cartera de Proyectos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestin avanzada de presupuestos y obras"})]}),y.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Rs,{size:18}),y.jsx("span",{children:"Nuevo Proyecto"})]})]}),s&&y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl animate-in fade-in slide-in-from-top-4 shadow-lg",children:[y.jsx("h3",{className:"font-bold text-lg mb-4 text-zinc-900 dark:text-zinc-100",children:"Iniciar Nuevo Proyecto"}),y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre del Proyecto"}),y.jsx("input",{required:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.name,onChange:w=>m({...f,name:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Presupuesto Objetivo"}),y.jsx("input",{required:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.targetBudget,onChange:w=>m({...f,targetBudget:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Fecha Lmite (Estimada)"}),y.jsx("input",{type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.deadline,onChange:w=>m({...f,deadline:w.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin"}),y.jsx("input",{type:"text",placeholder:"Breve descripcin de la obra o meta...",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",value:f.description,onChange:w=>m({...f,description:w.target.value})})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[y.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-lg shadow-emerald-900/20",children:"Crear Proyecto"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(w=>{const E=r(w);return y.jsx("div",{onClick:()=>d(w),className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none transition-all hover:border-emerald-500/50 hover:shadow-md cursor-pointer group relative overflow-hidden",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"flex justify-between items-start mb-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2.5 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-zinc-600 dark:text-zinc-400 group-hover:bg-emerald-100 group-hover:text-emerald-600 dark:group-hover:bg-emerald-900/30 dark:group-hover:text-emerald-400 transition-colors",children:y.jsx(eE,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg leading-tight",children:w.name}),y.jsx("span",{onClick:S=>_(S,w),className:Se("text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full border mt-1 inline-block cursor-pointer hover:opacity-80 transition-opacity select-none",b(w.status)),title:"Clic para cambiar estado",children:w.status==="planning"?"Planificacin":w.status==="active"?"En Curso":w.status==="completed"?"Completado":w.status==="paused"?"Pausado":"Cancelado"})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Balance"}),y.jsxs("p",{className:Se("font-mono font-bold text-lg",E.currentBalance>=0?"text-emerald-600":"text-rose-600"),children:[i,E.currentBalance.toLocaleString()]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] uppercase text-zinc-500 mb-0.5",children:"Ejecutado"}),y.jsxs("p",{className:"font-mono font-bold text-zinc-500 text-lg",children:[i,E.totalExpenses.toLocaleString()]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[y.jsx("span",{className:"text-zinc-500",children:E.totalExpenses>0?"Presupuesto Ejecutado":"Fondos vs Objetivo"}),y.jsxs("span",{className:"font-mono font-medium text-zinc-700 dark:text-zinc-300",children:[E.totalExpenses>0?E.percentConsumed.toFixed(0):E.percentFunded.toFixed(0),"%"]})]}),y.jsx("div",{className:"h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:Se("h-full transition-all duration-500",(E.totalExpenses>0?E.percentConsumed:E.percentFunded)>100?"bg-rose-500":((E.totalExpenses>0?E.percentConsumed:E.percentFunded)>80,"bg-emerald-500")),style:{width:`${Math.min(E.totalExpenses>0?E.percentConsumed:E.percentFunded,100)}%`}})})]})]})]})},w.id)}),t.length===0&&!s&&y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(eE,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Proyectos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Comienza creando tu primer proyecto para llevar un control financiero detallado y separado de tu flujo principal."})]})]}),c&&y.jsx(Kge,{project:t.find(w=>w.id===c.id)||c,onClose:()=>d(null)})]})},pw={gift:aQ,money:x3,heart:oQ,phoenix:eQ,piggy:Mm,wallet:xv,star:aZ,smile:rZ,briefcase:xX,car:TX,plane:DQ,home:dQ,coffee:GX,game:rQ,phone:tZ,other:_3},Wge=()=>{const{funds:t,addFund:e,deleteFund:n,addTransaction:r}=zm(),{currency:i}=yr(),[s,l]=T.useState(!1),[c,d]=T.useState({name:"",icon:"piggy",description:"",color:"emerald"}),[f,m]=T.useState({open:!1,type:"deposit",fundId:""}),[p,b]=T.useState(""),[_,w]=T.useState(""),E=R=>{R.preventDefault(),c.name&&(e(c),d({name:"",icon:"piggy",description:"",color:"emerald"}),l(!1))},{currentBalance:S}=Lm(),k=R=>{R.preventDefault();const z=Number(p);if(!(!z||z<=0)){if(f.type==="deposit"&&z>S){Kt.error(`Fondos insuficientes. Solo tienes ${i}${S.toLocaleString()} disponibles.`);return}r(f.fundId,z,f.type,_),m({...f,open:!1}),b(""),w("")}},j=(R,z)=>{m({open:!0,type:R,fundId:z})},N=R=>{const z=pw[R]||_3;return y.jsx(z,{size:24})},D=[{id:"emerald",class:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400"},{id:"blue",class:"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"},{id:"rose",class:"text-rose-600 bg-rose-100 dark:bg-rose-900/30 dark:text-rose-400"},{id:"amber",class:"text-amber-600 bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400"},{id:"violet",class:"text-violet-600 bg-violet-100 dark:bg-violet-900/30 dark:text-violet-400"},{id:"zinc",class:"text-zinc-600 bg-zinc-100 dark:bg-zinc-800 dark:text-zinc-400"}];return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:"Fondos de Ahorro"}),y.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Espacios personalizados para tu dinero"})]}),y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-5 py-2.5 rounded-xl font-bold hover:scale-105 active:scale-95 transition-all shadow-lg shadow-zinc-200 dark:shadow-zinc-900/50",children:[y.jsx(Rs,{size:20})," Nuevo Fondo"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(Mm,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Fondos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Crea tu primer fondo para guardar dinero para regalos, emergencias o gustos personales."})]}):t.map(R=>{const z=D.find(P=>P.id===R.color)?.class||D[0].class;return y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none hover:shadow-md transition-shadow relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:Se("p-3 rounded-xl transition-colors",z),children:N(R.icon)}),y.jsx("button",{onClick:()=>n(R.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(js,{size:18})})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:R.name}),R.description&&y.jsx("p",{className:"text-sm text-zinc-500 mb-4 line-clamp-1",children:R.description}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Saldo Actual"}),y.jsxs("p",{className:"text-2xl font-mono font-bold text-zinc-900 dark:text-zinc-100 truncate",children:[i,R.currentAmount.toLocaleString()]})]}),y.jsxs("div",{className:"flex gap-2 mt-6",children:[y.jsxs("button",{onClick:()=>j("deposit",R.id),className:"flex-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 py-2 rounded-lg text-sm font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors flex items-center justify-center gap-1",children:[y.jsx(ey,{size:16})," Ingresar"]}),y.jsxs("button",{onClick:()=>j("withdraw",R.id),className:"flex-1 bg-zinc-50 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 py-2 rounded-lg text-sm font-bold hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors flex items-center justify-center gap-1",children:[y.jsx(Td,{size:16})," Retirar"]})]})]},R.id)})}),y.jsx(Ka,{isOpen:s,onClose:()=>l(!1),title:"Crear Nuevo Fondo",children:y.jsxs("form",{onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nombre"}),y.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Ej. Fondo de Emergencia",value:c.name,onChange:R=>d({...c,name:R.target.value})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Icono"}),y.jsx("div",{className:"grid grid-cols-6 gap-2 bg-zinc-50 dark:bg-zinc-950 p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 max-h-40 overflow-y-auto",children:Object.keys(pw).map(R=>{const z=pw[R];return y.jsx("button",{type:"button",onClick:()=>d({...c,icon:R}),className:Se("p-2 rounded-md flex items-center justify-center transition-all",c.icon===R?"bg-emerald-500 text-white shadow-sm":"text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800"),children:y.jsx(z,{size:20})},R)})})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Color"}),y.jsx("div",{className:"flex gap-2",children:D.map(R=>y.jsx("button",{type:"button",onClick:()=>d({...c,color:R.id}),className:Se("w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center",R.class.split(" ")[1],c.color===R.id?"border-zinc-900 dark:border-white scale-110":"border-transparent opacity-70 hover:opacity-100"),children:c.color===R.id&&y.jsx(v3,{size:14,className:"text-current"})},R.id))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Descripcin (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"Notas sobre este fondo",value:c.description,onChange:R=>d({...c,description:R.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Crear Fondo"})]})}),y.jsx(Ka,{isOpen:f.open,onClose:()=>m({...f,open:!1}),title:f.type==="deposit"?"Ingresar dinero":"Retirar dinero",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Monto"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-mono",children:i}),y.jsx("input",{autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg pl-8 pr-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:"0.00",value:p,onChange:R=>b(R.target.value)})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Nota (Opcional)"}),y.jsx("input",{type:"text",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:border-emerald-500",placeholder:f.type==="deposit"?"Ahorro semanal...":"Para gastos...",value:_,onChange:R=>w(R.target.value)})]}),y.jsxs("button",{type:"submit",className:Se("w-full py-2 rounded-lg font-medium text-white transition-colors",f.type==="deposit"?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"),children:["Confirmar ",f.type==="deposit"?"Ingreso":"Retiro"]})]})})]})},M8=()=>{const{data:t,updateData:e}=Mi(),n=t.credits||[];return{credits:n,addCredit:c=>{const d={id:crypto.randomUUID(),...c,payments:[]};e({credits:[...n,d]})},deleteCredit:c=>{const d=n.filter(f=>f.id!==c);e({credits:d})},addPayment:(c,d,f)=>{const m=n.find(D=>D.id===c);if(!m){Kt.error("Error: Crdito no encontrado");return}const p={id:crypto.randomUUID(),creditId:c,date:new Date().toISOString().split("T")[0],amount:Number(d),note:f||""},b=m.payments?[p,...m.payments]:[p],_=b.reduce((D,R)=>D+R.amount,0),w=m.interestRate/100/12;let E=0,S=0;if(m.interestRate===0)E=m.principal/m.term,S=m.principal;else{const D=Number(m.principal),R=Number(m.term),z=Math.pow(1+w,R)-1;z===0?E=D/R:E=D*w*Math.pow(1+w,R)/z,S=E*R}const k=_>=S-1?"paid":"active",j={...m,payments:b,status:k},N=n.map(D=>D.id===c?j:D);try{e({credits:N})}catch(D){console.error("Failed to update credit payment",D),Kt.error("Error al guardar el historial del pago")}},getCreditStatus:c=>{const f=(c.payments||[]).reduce((w,E)=>w+E.amount,0),m=c.interestRate/100/12;let p=0,b=0;c.interestRate===0?(p=c.principal/c.term,b=c.principal):(p=c.principal*m*Math.pow(1+m,c.term)/(Math.pow(1+m,c.term)-1),b=p*c.term);const _=Math.max(0,b-f);return{totalPaid:f,totalToPay:b,remainingBalance:_,quota:p,progress:f/b*100}}}},D8=6048e5,Xge=864e5,yD=Symbol.for("constructDateFrom");function dl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&yD in t?t[yD](e):t instanceof Date?new t.constructor(e):new Date(e)}function ma(t,e){return dl(e||t,t)}let Qge={};function ub(){return Qge}function bm(t,e){const n=ub(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ma(t,e?.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ky(t,e){return bm(t,{...e,weekStartsOn:1})}function z8(t,e){const n=ma(t,e?.in),r=n.getFullYear(),i=dl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ky(i),l=dl(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Ky(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function vD(t){const e=ma(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zge(t,...e){const n=dl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function bD(t,e){const n=ma(t,e?.in);return n.setHours(0,0,0,0),n}function Jge(t,e,n){const[r,i]=Zge(n?.in,t,e),s=bD(r),l=bD(i),c=+s-vD(s),d=+l-vD(l);return Math.round((c-d)/Xge)}function e0e(t,e){const n=z8(t,e),r=dl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ky(r)}function t0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function n0e(t){return!(!t0e(t)&&typeof t!="number"||isNaN(+ma(t)))}function r0e(t,e){const n=ma(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const i0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a0e=(t,e,n)=>{let r;const i=i0e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ad(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const s0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c0e={date:ad({formats:s0e,defaultWidth:"full"}),time:ad({formats:o0e,defaultWidth:"full"}),dateTime:ad({formats:l0e,defaultWidth:"full"})},u0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},d0e=(t,e,n,r)=>u0e[t];function Va(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const f0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},b0e={ordinalNumber:v0e,era:Va({values:f0e,defaultWidth:"wide"}),quarter:Va({values:h0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Va({values:m0e,defaultWidth:"wide"}),day:Va({values:p0e,defaultWidth:"wide"}),dayPeriod:Va({values:g0e,defaultWidth:"wide",formattingValues:y0e,defaultFormattingWidth:"wide"})};function Ba(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?_0e(c,p=>p.test(l)):x0e(c,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(l.length);return{value:f,rest:m}}}function x0e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _0e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function L8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const w0e=/^(\d+)(th|st|nd|rd)?/i,E0e=/\d+/i,S0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T0e={any:[/^b/i,/^(a|c)/i]},A0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I0e={any:[/1/i,/2/i,/3/i,/4/i]},k0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},R0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j0e={ordinalNumber:L8({matchPattern:w0e,parsePattern:E0e,valueCallback:t=>parseInt(t,10)}),era:Ba({matchPatterns:S0e,defaultMatchWidth:"wide",parsePatterns:T0e,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:A0e,defaultMatchWidth:"wide",parsePatterns:I0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ba({matchPatterns:k0e,defaultMatchWidth:"wide",parsePatterns:C0e,defaultParseWidth:"any"}),day:Ba({matchPatterns:N0e,defaultMatchWidth:"wide",parsePatterns:O0e,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:P0e,defaultMatchWidth:"any",parsePatterns:R0e,defaultParseWidth:"any"})},M0e={code:"en-US",formatDistance:a0e,formatLong:c0e,formatRelative:d0e,localize:b0e,match:j0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function D0e(t,e){const n=ma(t,e?.in);return Jge(n,r0e(n))+1}function z0e(t,e){const n=ma(t,e?.in),r=+Ky(n)-+e0e(n);return Math.round(r/D8)+1}function V8(t,e){const n=ma(t,e?.in),r=n.getFullYear(),i=ub(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=dl(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=bm(l,e),d=dl(e?.in||t,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=bm(d,e);return+n>=+c?r+1:+n>=+f?r:r-1}function L0e(t,e){const n=ub(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=V8(t,e),s=dl(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),bm(s,e)}function V0e(t,e){const n=ma(t,e?.in),r=+bm(n,e)-+L0e(n,e);return Math.round(r/D8)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Uo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},qu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Uo.y(t,e)},Y:function(t,e,n,r){const i=V8(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return bt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):bt(s,e.length)},R:function(t,e){const n=z8(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Uo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=V0e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=z0e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Uo.d(t,e)},D:function(t,e,n){const r=D0e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=qu.noon:r===0?i=qu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=qu.evening:r>=12?i=qu.afternoon:r>=4?i=qu.morning:i=qu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Uo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Uo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Uo.s(t,e)},S:function(t,e){return Uo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wD(r);case"XXXX":case"XX":return tc(r);default:return tc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wD(r);case"xxxx":case"xx":return tc(r);default:return tc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_D(r,":");default:return"GMT"+tc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_D(r,":");default:return"GMT"+tc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return bt(r,e.length)},T:function(t,e,n){return bt(+t,e.length)}};function _D(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+bt(s,2)}function wD(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):tc(t,e)}function tc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),s=bt(r%60,2);return n+i+e+s}const ED=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},B8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},B0e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ED(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ED(r,e)).replace("{{time}}",B8(i,e))},U0e={p:B8,P:B0e},F0e=/^D+$/,q0e=/^Y+$/,$0e=["D","DD","YY","YYYY"];function H0e(t){return F0e.test(t)}function G0e(t){return q0e.test(t)}function K0e(t,e,n){const r=Y0e(t,e,n);if(console.warn(r),$0e.includes(t))throw new RangeError(r)}function Y0e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const W0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q0e=/^'([^]*?)'?$/,Z0e=/''/g,J0e=/[a-zA-Z]/;function eye(t,e,n){const r=ub(),i=n?.locale??r.locale??M0e,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=ma(t,n?.in);if(!n0e(c))throw new RangeError("Invalid time value");let d=e.match(X0e).map(m=>{const p=m[0];if(p==="p"||p==="P"){const b=U0e[p];return b(m,i.formatLong)}return m}).join("").match(W0e).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:tye(m)};if(xD[p])return{isToken:!0,value:m};if(p.match(J0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!n?.useAdditionalWeekYearTokens&&G0e(p)||!n?.useAdditionalDayOfYearTokens&&H0e(p))&&K0e(p,e,String(t));const b=xD[p[0]];return b(c,p,i.localize,f)}).join("")}function tye(t){const e=t.match(Q0e);return e?e[1].replace(Z0e,"'"):t}const nye={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},rye=(t,e,n)=>{let r;const i=nye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},iye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},aye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sye={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oye={date:ad({formats:iye,defaultWidth:"full"}),time:ad({formats:aye,defaultWidth:"full"}),dateTime:ad({formats:sye,defaultWidth:"full"})},lye={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},cye={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},uye=(t,e,n,r)=>e.getHours()!==1?cye[t]:lye[t],dye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},fye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},hye={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},mye={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},pye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},gye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},yye=(t,e)=>Number(t)+"",vye={ordinalNumber:yye,era:Va({values:dye,defaultWidth:"wide"}),quarter:Va({values:fye,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Va({values:hye,defaultWidth:"wide"}),day:Va({values:mye,defaultWidth:"wide"}),dayPeriod:Va({values:pye,defaultWidth:"wide",formattingValues:gye,defaultFormattingWidth:"wide"})},bye=/^(\d+)()?/i,xye=/\d+/i,_ye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},wye={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Eye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Sye={any:[/1/i,/2/i,/3/i,/4/i]},Tye={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Aye={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Iye={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},kye={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Cye={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Nye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Oye={ordinalNumber:L8({matchPattern:bye,parsePattern:xye,valueCallback:function(t){return parseInt(t,10)}}),era:Ba({matchPatterns:_ye,defaultMatchWidth:"wide",parsePatterns:wye,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:Eye,defaultMatchWidth:"wide",parsePatterns:Sye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ba({matchPatterns:Tye,defaultMatchWidth:"wide",parsePatterns:Aye,defaultParseWidth:"any"}),day:Ba({matchPatterns:Iye,defaultMatchWidth:"wide",parsePatterns:kye,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:Cye,defaultMatchWidth:"any",parsePatterns:Nye,defaultParseWidth:"any"})},Pye={code:"es",formatDistance:rye,formatLong:oye,formatRelative:uye,localize:vye,match:Oye,options:{weekStartsOn:1,firstWeekContainsDate:1}},Rye=()=>{const{credits:t,addCredit:e,deleteCredit:n,addPayment:r,getCreditStatus:i}=M8(),{currency:s}=yr(),{addTransaction:l}=Tr(),{currentBalance:c}=Lm(),[d,f]=T.useState(!1),[m,p]=T.useState({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),[b,_]=T.useState({open:!1,creditId:""}),[w,E]=T.useState(""),S=N=>{N.preventDefault();const D=Number(m.principal),R=Number(m.interestRate),z=Number(m.term);!m.name||D<=0||z<=0||(e({name:m.name,principal:D,interestRate:R,term:z,startDate:m.startDate,status:"active"}),f(!1),p({name:"",principal:"",interestRate:"",term:"",startDate:new Date().toISOString().split("T")[0]}),Kt.success("Crdito creado exitosamente"))},k=N=>{N.preventDefault();const D=Number(w);if(D<=0)return;if(D>c){Kt.error(`Saldo insuficiente. Tu saldo disponible es ${s}${c.toLocaleString()}`,{description:"Reduce tus gastos o libera fondos de ahorro."});return}r(b.creditId,D);const R=t.find(z=>z.id===b.creditId);l({amount:D,type:"expense",category:"Deudas",description:`Pago Crdito: ${R?.name||"Desconocido"}`,date:new Date().toISOString().split("T")[0]}),_({open:!1,creditId:""}),E(""),Kt.success("Pago registrado correctamente y descontado del saldo")},j=(N,D,R)=>{if(D===0)return N/R;const z=D/100/12;return N*z*Math.pow(1+z,R)/(Math.pow(1+z,R)-1)};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Crditos y Deudas"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Gestiona tus prstamos y planifica tus pagos"})]}),y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[y.jsx(Rs,{size:18}),y.jsx("span",{children:"Nuevo Crdito"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.length===0?y.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-2xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[y.jsx("div",{className:"inline-flex p-4 bg-white dark:bg-zinc-900 rounded-full text-zinc-400 mb-4 shadow-sm",children:y.jsx(ty,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Sin Crditos Activos"}),y.jsx("p",{className:"text-zinc-500 dark:text-zinc-500 text-sm mt-1 max-w-sm mx-auto",children:"Registra un prstamo personal, hipoteca o tarjeta de crdito para llevar el control de tus pagos."})]}):t.map(N=>{const D=i(N),R=D.totalPaid/D.totalToPay*100,z=j(N.principal,N.interestRate,N.term),P=new Date(N.startDate);return P.setMonth(P.getMonth()+(N.payments?.length||0)+1),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm dark:shadow-none relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-xl",children:y.jsx(ty,{size:24})}),y.jsxs("div",{className:"flex gap-2",children:[N.status==="paid"&&y.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded-full flex items-center gap-1",children:[y.jsx(CO,{size:12})," PAGADO"]}),y.jsx("button",{onClick:()=>n(N.id),className:"text-zinc-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:y.jsx(js,{size:18})})]})]}),y.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:N.name}),y.jsxs("div",{className:"flex gap-4 text-sm text-zinc-500 mb-6",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(x3,{size:14})," ",s,N.principal.toLocaleString()]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(RQ,{size:14})," ",N.interestRate,"% Anual"]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(y3,{size:14})," ",N.term," Meses"]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Deuda Restante"}),y.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[s,D.remainingBalance.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsx("div",{className:"relative h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-rose-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(R,100)}%`}})}),y.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[y.jsxs("span",{children:["Pagado: ",s,D.totalPaid.toLocaleString()]}),y.jsxs("span",{children:["Total: ",s,D.totalToPay.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),N.status==="active"&&y.jsxs("div",{className:"mt-6 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Cuota Mensual"}),y.jsxs("p",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:[s,z.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs text-zinc-500 uppercase",children:"Prx. Pago"}),y.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:eye(P,"dd MMM yyyy",{locale:Pye})})]})]}),y.jsxs("button",{onClick:()=>{_({open:!0,creditId:N.id}),E(z.toFixed(2))},className:"w-full bg-zinc-900 dark:bg-zinc-100 text-zinc-100 dark:text-zinc-900 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[y.jsx(CO,{size:16})," Registrar Pago"]})]})]},N.id)})}),y.jsx(Ka,{isOpen:d,onClose:()=>f(!1),title:"Registrar Nuevo Crdito",children:y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Nombre del Crdito"}),y.jsx("input",{required:!0,type:"text",placeholder:"Ej. Prstamo Auto, Hipoteca",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.name,onChange:N=>p({...m,name:N.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto Prestado (",s,")"]}),y.jsx("input",{required:!0,type:"number",placeholder:"0.00",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.principal,onChange:N=>p({...m,principal:N.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Tasa Inters Anual (%)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.interestRate,onChange:N=>p({...m,interestRate:N.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Plazo (Meses)"}),y.jsx("input",{required:!0,type:"number",placeholder:"Ej. 12, 24, 36",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.term,onChange:N=>p({...m,term:N.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Fecha Inicio"}),y.jsx("input",{required:!0,type:"date",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-rose-500 dark:text-white",value:m.startDate,onChange:N=>p({...m,startDate:N.target.value})})]})]}),y.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-4 rounded-lg mt-4",children:[y.jsx("p",{className:"text-xs text-rose-600 dark:text-rose-400 font-bold uppercase mb-1",children:"Resumen"}),y.jsxs("div",{className:"flex justify-between text-sm text-rose-800 dark:text-rose-200",children:[y.jsx("span",{children:"Cuota Estimada:"}),y.jsx("span",{className:"font-bold",children:m.principal&&m.term?`${s}${j(Number(m.principal),Number(m.interestRate),Number(m.term)).toLocaleString(void 0,{maximumFractionDigits:2})} / mes`:"-"})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Crear Crdito"})]})}),y.jsx(Ka,{isOpen:b.open,onClose:()=>_({open:!1,creditId:""}),title:"Registrar Pago",children:y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-zinc-500",children:"Registrar un pago reducir tu deuda restante. Asegrate de incluir intereses si aplica."}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:["Monto a Pagar (",s,")"]}),y.jsx("input",{required:!0,autoFocus:!0,type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:border-emerald-500 dark:text-white",value:w,onChange:N=>E(N.target.value)})]}),y.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold transition-colors mt-2",children:"Confirmar Pago"})]})})]})},jye=()=>{const{transactions:t}=Tr(),{credits:e}=M8(),{funds:n}=zm(),{goals:r,getMonthlyQuota:i}=Dm(),{scheduled:s}=_v(),{currency:l}=yr(),c=new Date,{availableBalance:d}=Lm(),f=n.reduce(($,oe)=>$+oe.currentAmount,0),m=t.filter($=>{const oe=new Date($.date+"T12:00:00");return oe.getMonth()===c.getMonth()&&oe.getFullYear()===c.getFullYear()}),p=m.filter($=>$.type==="income").reduce(($,oe)=>$+oe.amount,0),b=m.filter($=>$.type==="expense").reduce(($,oe)=>$+oe.amount,0),_=T.useMemo(()=>{const $={};return m.filter(oe=>oe.type==="expense").forEach(oe=>{$[oe.category]=($[oe.category]||0)+oe.amount}),$},[m]),[w,E]=T.useState(""),[S,k]=T.useState({}),[j,N]=T.useState(new Set),[D,R]=T.useState(new Set),[z,P]=T.useState({}),[O,V]=T.useState(!0),[q,L]=T.useState(!1),[F,U]=T.useState(!0),Ee=(()=>{let $=0;O?($=d,q&&($+=f)):$=0;const oe=Number(w)||0;let _e=0;F&&s.filter(X=>X.type==="income"&&X.active).forEach(X=>{const Ie=X.lastProcessedDate?new Date(X.lastProcessedDate+"T12:00:00"):null;Ie&&Ie.getMonth()===c.getMonth()&&Ie.getFullYear()===c.getFullYear()||(_e+=X.amount)});let H=0,ne=0;F&&s.filter(X=>X.type==="expense"&&X.active).forEach(X=>{const Ie=X.lastProcessedDate?new Date(X.lastProcessedDate+"T12:00:00"):null;Ie&&Ie.getMonth()===c.getMonth()&&Ie.getFullYear()===c.getFullYear()||(ne+=X.amount)});const ie=[];Object.keys(_).forEach(X=>{const Ie=_[X],Ve=S[X]?Number(S[X]):Ie,he=Math.max(Ie,Ve);H+=he,ie.push({category:X,real:Ie,projected:Ve,diff:he-Ie})});let ue=0;e.filter(X=>X.status==="active"&&j.has(X.id)).forEach(X=>{const Ie=X.principal*(1+X.interestRate/100)/X.term;ue+=Ie});let ge=0;r.filter(X=>D.has(X.id)).forEach(X=>{const Ie=i(X);ge+=Ie});let ke=0;Object.values(z).forEach(X=>{ke+=Number(X)||0});const we=H-b,Le=O?$+oe+_e-we-ne-ue-ge-ke:p+oe+_e-(b+we+ne+ue+ge+ke);return{baseBalance:$,incomeMonthReal:p,extraInc:oe,scheduledIncome:_e,expenseMonthReal:b,totalProjectedExpenses:H,scheduledExpenses:ne,totalCreditSimulated:ue,totalGoalSimulated:ge,totalFundSimulated:ke,finalBalance:Le,categoryComparisons:ie}})(),Y=$=>{const oe=new Set(j);oe.has($)?oe.delete($):oe.add($),N(oe)},re=$=>{const oe=new Set(D);oe.has($)?oe.delete($):oe.add($),R(oe)};return y.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[y.jsx(dT,{size:32,className:"text-emerald-500"}),"Sala de Proyecciones"]}),y.jsx("p",{className:"text-zinc-500 mt-2",children:"Simula el cierre de mes. Juega con los nmeros, lo que pasa aqu se queda aqu."})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 bg-zinc-100 dark:bg-zinc-900/50 p-4 rounded-2xl md:items-center",children:[y.jsxs("button",{onClick:()=>V(!O),className:Se("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",O?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[O?y.jsx(R1,{size:18}):y.jsx(P1,{size:18}),O?"Incluyendo Saldo Actual":"Solo Flujo del Mes"]}),y.jsxs("button",{onClick:()=>{O||V(!0),L(!q)},className:Se("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",q?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[q?y.jsx(R1,{size:18}):y.jsx(P1,{size:18}),"Incluir Ahorros (Fondos)"]}),y.jsxs("button",{onClick:()=>U(!F),className:Se("flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all",F?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-white text-zinc-400 dark:bg-zinc-900 dark:text-zinc-600"),children:[F?y.jsx(R1,{size:18}):y.jsx(P1,{size:18}),"Auto-sumar Programados"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-zinc-900 shadow-xl border border-zinc-100 dark:border-zinc-800",children:[y.jsx("h2",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-2",children:O?"Saldo Disponible Real (Hoy)":"Flujo Real del Mes (Hoy)"}),y.jsx("div",{className:"flex items-end gap-2",children:y.jsxs("p",{className:Se("text-4xl font-black",Ee.baseBalance>=0?"text-zinc-900 dark:text-white":"text-rose-500"),children:[l,Ee.baseBalance.toFixed(2)]})}),O&&!q&&y.jsxs("p",{className:"text-[10px] text-amber-500 font-bold mt-1 flex items-center gap-1",children:[y.jsx(hQ,{size:10})," Excluyendo fondos (",l,f,")"]})]}),y.jsxs("div",{className:Se("p-6 rounded-3xl shadow-xl border transition-colors",Ee.finalBalance>=0?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800"),children:[y.jsx("h2",{className:Se("text-sm font-bold uppercase tracking-wider mb-2",Ee.finalBalance>=0?"text-emerald-700 dark:text-emerald-400":"text-rose-700 dark:text-rose-400"),children:"Saldo Final Proyectado"}),y.jsxs("p",{className:Se("text-4xl font-black",Ee.finalBalance>=0?"text-emerald-900 dark:text-emerald-100":"text-rose-900 dark:text-rose-100"),children:[l,Ee.finalBalance.toFixed(2)]}),y.jsx("p",{className:"text-xs mt-2 opacity-80",children:Ee.finalBalance>=0?"Supervit estimado al fin de mes!":"Dficit estimado! Revisa tus gastos."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(S3,{size:20,className:"text-emerald-500"})," Ingresos"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:"Reales del Mes"}),y.jsxs("span",{className:"font-bold",children:[l,p]})]}),F&&Ee.scheduledIncome>0&&y.jsxs("div",{className:"flex justify-between items-center text-sm text-blue-500",children:[y.jsx("span",{children:"+ Programados Pendientes"}),y.jsxs("span",{className:"font-bold",children:[l,Ee.scheduledIncome]})]}),y.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[y.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase mb-2",children:"Ingreso Extra Esperado"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 font-bold",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 border-none rounded-xl pl-8 py-3 font-bold text-right outline-none focus:ring-2 focus:ring-emerald-500/20",placeholder:"0",value:w,onChange:$=>E($.target.value)})]})]})]}),y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 mt-8",children:[y.jsx(Mm,{size:20,className:"text-amber-500"})," Fondos (Simulados)"]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 space-y-4",children:[n.map($=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 text-xs",children:$.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-sm font-bold",children:$.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:["Actual: ",l,$.currentAmount]})]}),y.jsxs("div",{className:"w-24 relative",children:[y.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-xs text-zinc-400",children:l}),y.jsx("input",{type:"number",className:"w-full bg-zinc-50 dark:bg-zinc-950 rounded-lg pl-5 pr-2 py-1 text-sm text-right outline-none border border-transparent focus:border-emerald-500",placeholder:"0",value:z[$.id]||"",onChange:oe=>P({...z,[$.id]:oe.target.value})})]})]},$.id)),n.length===0&&y.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No tienes fondos creados."})]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(E3,{size:20,className:"text-rose-500"})," Presupuesto de Gastos"]}),F&&Ee.scheduledExpenses>0&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-3 rounded-xl flex justify-between items-center px-4",children:[y.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"Gastos Programados Pendientes (Auto)"}),y.jsxs("span",{className:"font-black text-blue-700 dark:text-blue-300",children:[l,Ee.scheduledExpenses]})]}),y.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 bg-zinc-50 dark:bg-zinc-950/50 text-xs font-bold text-zinc-400 uppercase",children:[y.jsx("div",{className:"col-span-4",children:"Categora"}),y.jsx("div",{className:"col-span-3 text-right",children:"Gastado Real"}),y.jsx("div",{className:"col-span-3 text-right",children:"Proyeccin Total"}),y.jsx("div",{className:"col-span-2 text-right",children:"Disp."})]}),y.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:Ee.categoryComparisons.map($=>y.jsxs("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[y.jsx("div",{className:"col-span-4 font-bold text-sm truncate",title:$.category,children:$.category}),y.jsxs("div",{className:"col-span-3 text-right text-sm text-zinc-500",children:[l,$.real]}),y.jsx("div",{className:"col-span-3 relative",children:y.jsx("input",{type:"number",className:Se("w-full text-right bg-transparent border-b border-zinc-200 dark:border-zinc-700 py-1 text-sm font-bold focus:border-emerald-500 outline-none transition-colors",(Number(S[$.category])||0)<$.real&&S[$.category]?"text-rose-500 border-rose-200":"text-zinc-900 dark:text-white"),placeholder:$.real.toString(),value:S[$.category]||"",onChange:oe=>k({...S,[$.category]:oe.target.value})})}),y.jsxs("div",{className:Se("col-span-2 text-right text-xs font-bold",$.diff>0?"text-emerald-500":"text-zinc-300"),children:[l,Math.max(0,$.diff)]})]},$.category))})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(ty,{size:14})," Simular Crditos"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.filter($=>$.status==="active").map($=>{const oe=$.principal*(1+$.interestRate/100)/$.term,_e=j.has($.id);return y.jsxs("button",{onClick:()=>Y($.id),className:Se("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",_e?"bg-rose-100 border-rose-500 text-rose-700 dark:bg-rose-900/30 dark:border-rose-500 dark:text-rose-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Se("w-4 h-4 rounded-full border flex items-center justify-center",_e?"border-rose-600 bg-rose-600":"border-zinc-400"),children:_e&&y.jsx(SD,{size:10,className:"text-white"})}),$.name," (",l,oe.toFixed(0),")"]},$.id)}),e.filter($=>$.status==="active").length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes crditos activos."})]})]}),y.jsxs("div",{className:"bg-zinc-100 dark:bg-zinc-900/50 p-5 rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[y.jsxs("h4",{className:"font-bold text-sm mb-4 text-zinc-500 uppercase tracking-wider flex items-center gap-2",children:[y.jsx(gc,{size:14})," Simular Metas"]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.map($=>{const oe=i($),_e=D.has($.id);return y.jsxs("button",{onClick:()=>re($.id),className:Se("px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center gap-2",_e?"bg-purple-100 border-purple-500 text-purple-700 dark:bg-purple-900/30 dark:border-purple-500 dark:text-purple-200":"bg-white border-zinc-200 text-zinc-500 hover:border-zinc-300 dark:bg-zinc-900 dark:border-zinc-700"),children:[y.jsx("div",{className:Se("w-4 h-4 rounded-full border flex items-center justify-center",_e?"border-purple-600 bg-purple-600":"border-zinc-400"),children:_e&&y.jsx(SD,{size:10,className:"text-white"})}),$.name," (",l,oe.toFixed(0),")"]},$.id)}),r.length===0&&y.jsx("p",{className:"text-sm text-zinc-400",children:"No tienes metas activas."})]})]})]})]})]}),y.jsx("div",{className:"flex justify-end pt-8",children:y.jsxs("button",{onClick:()=>{E(""),k({}),N(new Set),R(new Set),P({}),Kt.success("Simulacin reiniciada")},className:"flex items-center gap-2 px-6 py-3 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 font-bold hover:opacity-90 active:scale-95 transition-all shadow-xl",children:[y.jsx(fT,{size:20}),"Reiniciar Simulacin"]})})]})},SD=({size:t,className:e})=>y.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}),Mye=()=>{const{signInWithGoogle:t,user:e}=jm(),n=rS(),r=async()=>{try{await t(),n("/")}catch(i){console.error("Login failed",i)}};return e?(n("/"),null):y.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center space-y-8",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-8 h-8 text-emerald-500",children:y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),y.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Vaultly"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"Tu terminal financiera personal"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("button",{onClick:r,className:"w-full bg-white hover:bg-zinc-200 text-zinc-900 font-bold py-3.5 px-4 rounded-xl flex items-center justify-center gap-3 transition-colors",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]}),y.jsx("p",{className:"text-xs text-zinc-500",children:"Al continuar, accedes a tu espacio seguro en el dispositivo. No almacenamos datos en la nube (an)."})]})]})})},Dye=()=>{const{user:t,loading:e}=jm(),{isLoading:n}=Mi();return e||n?y.jsxs("div",{className:"h-screen bg-zinc-950 flex flex-col items-center justify-center gap-4 text-emerald-500",children:[y.jsx(_Q,{className:"animate-spin w-10 h-10"}),y.jsx("span",{className:"font-mono text-sm tracking-wider animate-pulse",children:e?"AUTENTICANDO...":"CARGANDO DATOS..."})]}):t?y.jsx(qD,{}):y.jsx(FD,{to:"/login",replace:!0})};function zye(){return y.jsx(PW,{children:y.jsx(aX,{children:y.jsx(sF,{children:y.jsxs(X7,{children:[y.jsxs(A7,{children:[y.jsx(ei,{path:"/login",element:y.jsx(Mye,{})}),y.jsx(ei,{element:y.jsx(Dye,{}),children:y.jsxs(ei,{path:"/",element:y.jsx(TJ,{}),children:[y.jsx(ei,{index:!0,element:y.jsx(kJ,{})}),y.jsx(ei,{path:"expenses",element:y.jsx($ge,{})}),y.jsx(ei,{path:"income",element:y.jsx(Hge,{})}),y.jsx(ei,{path:"goals",element:y.jsx(Gge,{})}),y.jsx(ei,{path:"funds",element:y.jsx(Wge,{})}),y.jsx(ei,{path:"credits",element:y.jsx(Rye,{})}),y.jsx(ei,{path:"projections",element:y.jsx(jye,{})}),y.jsx(ei,{path:"projects",element:y.jsx(Yge,{})}),y.jsx(ei,{path:"*",element:y.jsx(FD,{to:"/",replace:!0})})]})})]}),y.jsx(h3,{richColors:!0,position:"top-center"})]})})})})}IU.createRoot(document.getElementById("root")).render(y.jsx(T.StrictMode,{children:y.jsx(ID,{children:y.jsx(zye,{})})}));
